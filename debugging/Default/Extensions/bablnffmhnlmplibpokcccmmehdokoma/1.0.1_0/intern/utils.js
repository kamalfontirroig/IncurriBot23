function parseJSON(r){let e=null;try{e=JSON.parse(JSON.stringify(r))}catch(r){console.error("An error occurred in parseJSON: ",r)}return e}function parseJSONString(r){let e=null;try{e=JSON.parse(r)}catch(r){console.error("An error occurred in parseJSONString: ",r)}return e}function toJSONString(r){let e=null;try{e=JSON.stringify(r)}catch(r){console.error("An error occurred in toJSONString: ",r)}return e}async function storageGet(r){const e=new Promise(function(e,t){chrome.storage.local.get(r,function(r){chrome.runtime.lastError||void 0===r||0===Object.keys(r).length?t():e(r)})});return e.catch(()=>{console.error("Could not get key from storage.local: ",r)})}async function storageSet(r){await chrome.storage.local.set(r)}function injectJavaScriptInTab(r,e,n){serviceWorkerIsUsed()?chrome.scripting.executeScript({func:e.injectFunction,target:{tabId:r.tabId,allFrames:r.injectInFrames}},n):chrome.tabs.executeScript(r.tabId,{allFrames:r.injectInFrames,code:e.injectFunctionAsString},function(r){const t=[];r.forEach(function(r,e){t[e]={result:r}}),n(t)})}