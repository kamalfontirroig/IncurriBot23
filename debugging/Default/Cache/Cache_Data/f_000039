(self.webpackChunkppm=self.webpackChunkppm||[]).push([[6016],{6631:function(ne){ne.exports=function(){var k={isString:function(v){return null!=v&&("string"==typeof v||v instanceof String)},isArray:function(v){return null!=v&&v instanceof Array},inArray:function(v,i){for(var m=0;m<i.length;++m)if(v===i[m])return m;return-1},setTimeout:function(v,i,m){return window.setTimeout(function(){try{v._debug("Invoking timed function",i),i()}catch(c){v._debug("Exception invoking timed function",i,c)}},m)},clearTimeout:function(v){window.clearTimeout(v)}},a=function(){var v=[],i={};this.getTransportTypes=function(){return v.slice(0)},this.findTransportTypes=function(m,c,f){for(var g=[],T=0;T<v.length;++T){var P=v[T];!0===i[P].accept(m,c,f)&&g.push(P)}return g},this.negotiateTransport=function(m,c,f,g){for(var T=0;T<v.length;++T)for(var P=v[T],L=0;L<m.length;++L)if(P===m[L]){var w=i[P];if(!0===w.accept(c,f,g))return w}return null},this.add=function(m,c,f){for(var g=!1,T=0;T<v.length;++T)if(v[T]===m){g=!0;break}return g||("number"!=typeof f?v.push(m):v.splice(f,0,m),i[m]=c),!g},this.find=function(m){for(var c=0;c<v.length;++c)if(v[c]===m)return i[m];return null},this.remove=function(m){for(var c=0;c<v.length;++c)if(v[c]===m){v.splice(c,1);var f=i[m];return delete i[m],f}return null},this.clear=function(){v=[],i={}},this.reset=function(m){for(var c=0;c<v.length;++c)i[v[c]].reset(m)}},M=function(){var v,i,m;this.registered=function(c,f){v=c,i=f},this.unregistered=function(){v=null,i=null},this._debug=function(){i._debug.apply(i,arguments)},this._mixin=function(){return i._mixin.apply(i,arguments)},this.getConfiguration=function(){return i.getConfiguration()},this.getAdvice=function(){return i.getAdvice()},this.setTimeout=function(c,f){return k.setTimeout(i,c,f)},this.clearTimeout=function(c){k.clearTimeout(c)},this.convertToMessages=function(c){if(k.isString(c))try{return JSON.parse(c)}catch(f){throw this._debug("Could not convert to JSON the following string",'"'+c+'"'),f}if(k.isArray(c))return c;if(null==c)return[];if(c instanceof Object)return[c];throw"Conversion Error "+c+", typeof "+typeof c},this.accept=function(c,f,g){throw"Abstract"},this.getType=function(){return v},this.getURL=function(){return m},this.setURL=function(c){m=c},this.send=function(c,f){throw"Abstract"},this.reset=function(c){this._debug("Transport",v,"reset",c?"initial":"retry")},this.abort=function(){this._debug("Transport",v,"aborted")},this.toString=function(){return this.getType()}};M.derive=function(v){function i(){}return i.prototype=v,new i};var N=function(){var v=new M,i=M.derive(v),m=0,c=null,f=[],g=[];function T(S){for(;g.length>0;){var R=g[0],A=R[0],Y=R[1];if(A.url!==S.url||A.sync!==S.sync)break;g.shift(),S.messages=S.messages.concat(A.messages),this._debug("Coalesced",A.messages.length,"messages from request",Y.id)}}function P(S,R){if(this.transportSend(S,R),R.expired=!1,!S.sync){var A=this.getConfiguration().maxNetworkDelay,Y=A;!0===R.metaConnect&&(Y+=this.getAdvice().timeout),this._debug("Transport",this.getType(),"waiting at most",Y,"ms for the response, maxNetworkDelay",A);var h=this;R.timeout=this.setTimeout(function(){R.expired=!0;var y="Request "+R.id+" of transport "+h.getType()+" exceeded "+Y+" ms max network delay",J={reason:y},F=R.xhr;J.httpCode=h.xhrStatus(F),h.abortXHR(F),h._debug(y),h.complete(R,!1,R.metaConnect),S.onFailure(F,S.messages,J)},Y)}}function L(S){var R=++m,A={id:R,metaConnect:!1,envelope:S};f.length<this.getConfiguration().maxConnections-1?(f.push(A),P.call(this,S,A)):(this._debug("Transport",this.getType(),"queueing request",R,"envelope",S),g.push([S,A]))}function w(S){var R=S.id;if(this._debug("Transport",this.getType(),"metaConnect complete, request",R),null!==c&&c.id!==R)throw"Longpoll request mismatch, completing request "+R;c=null}function W(S,R){var A=k.inArray(S,f);if(A>=0&&f.splice(A,1),g.length>0){var Y=g.shift(),h=Y[0],y=Y[1];if(this._debug("Transport dequeued request",y.id),R)this.getConfiguration().autoBatch&&T.call(this,h),L.call(this,h),this._debug("Transport completed request",S.id,h);else{var J=this;this.setTimeout(function(){J.complete(y,!1,y.metaConnect);var F={reason:"Previous request failed"},D=y.xhr;F.httpCode=J.xhrStatus(D),h.onFailure(D,h.messages,F)},0)}}}function $(S){if(null!==c)throw"Concurrent metaConnect requests not allowed, request id="+c.id+" not yet completed";var R=++m;this._debug("Transport",this.getType(),"metaConnect send, request",R,"envelope",S);var A={id:R,metaConnect:!0,envelope:S};P.call(this,S,A),c=A}return i.complete=function(S,R,A){A?w.call(this,S):W.call(this,S,R)},i.transportSend=function(S,R){throw"Abstract"},i.transportSuccess=function(S,R,A){R.expired||(this.clearTimeout(R.timeout),this.complete(R,!0,R.metaConnect),A&&A.length>0?S.onSuccess(A):S.onFailure(R.xhr,S.messages,{httpCode:204}))},i.transportFailure=function(S,R,A){R.expired||(this.clearTimeout(R.timeout),this.complete(R,!1,R.metaConnect),S.onFailure(R.xhr,S.messages,A))},i.send=function(S,R){R?$.call(this,S):L.call(this,S)},i.abort=function(){v.abort();for(var S=0;S<f.length;++S){var R=f[S];R&&(this._debug("Aborting request",R),this.abortXHR(R.xhr)||this.transportFailure(R.envelope,R,{reason:"abort"}))}var A=c;A&&(this._debug("Aborting metaConnect request",A),this.abortXHR(A.xhr)||this.transportFailure(A.envelope,A,{reason:"abort"})),this.reset(!0)},i.reset=function(S){v.reset(S),c=null,f=[],g=[]},i.abortXHR=function(S){if(S)try{var R=S.readyState;return S.abort(),R!==window.XMLHttpRequest.UNSENT}catch(A){this._debug(A)}return!1},i.xhrStatus=function(S){if(S)try{return S.status}catch(R){this._debug(R)}return-1},i},o=function(){var v=new N,i=M.derive(v),m=!0;return i.accept=function(c,f,g){return m||!f},i.newXMLHttpRequest=function(){return new window.XMLHttpRequest},i.xhrSend=function(c){var f=i.newXMLHttpRequest();f.context=i.context,f.withCredentials=!0,f.open("POST",c.url,!0!==c.sync);var g=c.headers;if(g)for(var T in g)g.hasOwnProperty(T)&&f.setRequestHeader(T,g[T]);return f.setRequestHeader("Content-Type","application/json;charset=UTF-8"),f.onload=function(){200===f.status?c.onSuccess(f.responseText):c.onError(f.statusText)},f.onerror=function(){c.onError(f.statusText)},f.send(c.body),f},i.transportSend=function(c,f){this._debug("Transport",this.getType(),"sending request",f.id,"envelope",c);var g=this;try{var T=!0;f.xhr=this.xhrSend({transport:this,url:c.url,sync:c.sync,headers:this.getConfiguration().requestHeaders,body:JSON.stringify(c.messages),onSuccess:function(P){g._debug("Transport",g.getType(),"received response",P);var L=!1;try{var w=g.convertToMessages(P);0===w.length?(m=!1,g.transportFailure(c,f,{httpCode:204})):(L=!0,g.transportSuccess(c,f,w))}catch($){if(g._debug($),!L){m=!1;var W={exception:$};W.httpCode=g.xhrStatus(f.xhr),g.transportFailure(c,f,W)}}},onError:function(P,L){g._debug("Transport",g.getType(),"received error",P,L),m=!1;var w={reason:P,exception:L};w.httpCode=g.xhrStatus(f.xhr),T?g.setTimeout(function(){g.transportFailure(c,f,w)},0):g.transportFailure(c,f,w)}}),T=!1}catch(P){m=!1,this.setTimeout(function(){g.transportFailure(c,f,{exception:P})},0)}},i.reset=function(c){v.reset(c),m=!0},i},B=function(){var v=new N,i=M.derive(v),m=0;function c(f,g,T){var P=this;return function(){P.transportFailure(f,g,"error",T)}}return i.accept=function(f,g,T){return!0},i.jsonpSend=function(f){var g=document.getElementsByTagName("head")[0],T=document.createElement("script"),P="_cometd_jsonp_"+m++;window[P]=function(w){g.removeChild(T),delete window[P],f.onSuccess(w)};var L=f.url;L+=L.indexOf("?")<0?"?":"&",L+="jsonp="+P,L+="&message="+encodeURIComponent(f.body),T.src=L,T.async=!0!==f.sync,T.type="application/javascript",T.onerror=function(w){f.onError("jsonp "+w.type)},g.appendChild(T)},i.transportSend=function(f,g){for(var T=this,P=0,L=f.messages.length,w=[];L>0;){var W=JSON.stringify(f.messages.slice(P,P+L)),$=f.url.length+encodeURI(W).length,S=this.getConfiguration().maxURILength;if($>S){if(1===L){var R="Bayeux message too big ("+$+" bytes, max is "+S+") for transport "+this.getType();return void this.setTimeout(c.call(this,f,g,R),0)}--L}else w.push(L),L=f.messages.length-(P+=L)}var A=f;if(w.length>1){var Y=0,h=w[0];this._debug("Transport",this.getType(),"split",f.messages.length,"messages into",w.join(" + ")),(A=this._mixin(!1,{},f)).messages=f.messages.slice(Y,h),A.onSuccess=f.onSuccess,A.onFailure=f.onFailure;for(var y=1;y<w.length;++y){var J=this._mixin(!1,{},f);J.messages=f.messages.slice(Y=h,h+=w[y]),J.onSuccess=f.onSuccess,J.onFailure=f.onFailure,this.send(J,g.metaConnect)}}this._debug("Transport",this.getType(),"sending request",g.id,"envelope",A);try{var F=!0;this.jsonpSend({transport:this,url:A.url,sync:A.sync,headers:this.getConfiguration().requestHeaders,body:JSON.stringify(A.messages),onSuccess:function(D){var Q=!1;try{var j=T.convertToMessages(D);0===j.length?T.transportFailure(A,g,{httpCode:204}):(Q=!0,T.transportSuccess(A,g,j))}catch(q){T._debug(q),Q||T.transportFailure(A,g,{exception:q})}},onError:function(D,Q){var j={reason:D,exception:Q};F?T.setTimeout(function(){T.transportFailure(A,g,j)},0):T.transportFailure(A,g,j)}}),F=!1}catch(D){this.setTimeout(function(){T.transportFailure(A,g,{exception:D})},0)}},i},G=function(){var m,v=new M,i=M.derive(v),c=!0,f=!1,g=!0,T=null,P=null,L=!1,w=null;function W(h,y){h&&(this.webSocketClose(h,y.code,y.reason),this.onClose(h,y))}function $(h){return h===P||h===T}function S(h,y,J){for(var F=[],D=0;D<y.messages.length;++D){var Q=y.messages[D];Q.id&&F.push(Q.id)}h.envelopes[F.join(",")]=[y,J],this._debug("Transport",this.getType(),"stored envelope, envelopes",h.envelopes)}function R(h){if(!P){var y=m.getURL().replace(/^http/,"ws");this._debug("Transport",this.getType(),"connecting to URL",y);try{var J=m.getConfiguration().protocol;h.webSocket=J?new window.WebSocket(y,J):new window.WebSocket(y),P=h}catch(K){throw c=!1,this._debug("Exception while creating WebSocket object",K),K}g=!1!==m.getConfiguration().stickyReconnect;var F=this,D=m.getConfiguration().connectTimeout;D>0&&(h.connectTimer=this.setTimeout(function(){m._debug("Transport",F.getType(),"timed out while connecting to URL",y,":",D,"ms"),W.call(F,h,{code:1e3,reason:"Connect Timeout"})},D));var j=function(K){m._debug("WebSocket onclose",h,K=K||{code:1e3},"connecting",P,"current",T),h.connectTimer&&F.clearTimeout(h.connectTimer),F.onClose(h,K)};h.webSocket.onopen=function(){m._debug("WebSocket onopen",h),h.connectTimer&&F.clearTimeout(h.connectTimer),$(h)?(P=null,T=h,f=!0,F.onOpen(h)):(m._warn("Closing extra WebSocket connection",this,"active connection",T),W.call(F,h,{code:1e3,reason:"Extra Connection"}))},h.webSocket.onclose=j,h.webSocket.onerror=function(){j({code:1e3,reason:"Error"})},h.webSocket.onmessage=function(K){m._debug("WebSocket onmessage",K,h),F.onMessage(h,K)},this._debug("Transport",this.getType(),"configured callbacks on",h)}}function A(h,y,J){var F=JSON.stringify(y.messages);h.webSocket.send(F),this._debug("Transport",this.getType(),"sent",y,"metaConnect =",J);var D=this.getConfiguration().maxNetworkDelay,Q=D;J&&(Q+=this.getAdvice().timeout,L=!0);for(var j=this,q=[],K=0;K<y.messages.length;++K)!function(){var X=y.messages[K];X.id&&(q.push(X.id),h.timeouts[X.id]=j.setTimeout(function(){m._debug("Transport",j.getType(),"timing out message",X.id,"after",Q,"on",h),W.call(j,h,{code:1e3,reason:"Message Timeout"})},Q))}();this._debug("Transport",this.getType(),"waiting at most",Q,"ms for messages",q,"maxNetworkDelay",D,", timeouts:",h.timeouts)}function Y(h,y,J){try{null===h?(S.call(this,h=P||{envelopes:{},timeouts:{}},y,J),R.call(this,h)):(S.call(this,h,y,J),A.call(this,h,y,J))}catch(D){var F=this;this.setTimeout(function(){W.call(F,h,{code:1e3,reason:"Exception",exception:D})},0)}}return i.reset=function(h){v.reset(h),c=!0,h&&(f=!1),g=!0,T=null,P=null,L=!1},i._notifySuccess=function(h,y){h.call(this,y)},i._notifyFailure=function(h,y,J,F){h.call(this,y,J,F)},i.onOpen=function(h){var y=h.envelopes;for(var J in this._debug("Transport",this.getType(),"opened",h,"pending messages",y),y)if(y.hasOwnProperty(J)){var F=y[J],D=F[0];w=D.onSuccess,A.call(this,h,D,F[1])}},i.onMessage=function(h,y){this._debug("Transport",this.getType(),"received websocket message",y,h);for(var J=!1,F=this.convertToMessages(y.data),D=[],Q=0;Q<F.length;++Q){var j=F[Q];if((/^\/meta\//.test(j.channel)||void 0===j.data)&&j.id){D.push(j.id);var q=h.timeouts[j.id];q&&(this.clearTimeout(q),delete h.timeouts[j.id],this._debug("Transport",this.getType(),"removed timeout for message",j.id,", timeouts",h.timeouts))}"/meta/connect"===j.channel&&(L=!1),"/meta/disconnect"===j.channel&&!L&&(J=!0)}for(var K=!1,X=h.envelopes,z=0;z<D.length;++z){var xe=D[z];for(var te in X)if(X.hasOwnProperty(te)){var C=te.split(","),ce=k.inArray(xe,C);if(ce>=0){K=!0,C.splice(ce,1);var ye=X[te][0],ve=X[te][1];delete X[te],C.length>0&&(X[C.join(",")]=[ye,ve]);break}}}K&&this._debug("Transport",this.getType(),"removed envelope, envelopes",X),this._notifySuccess(w,F),J&&this.webSocketClose(h,1e3,"Disconnect")},i.onClose=function(h,y){this._debug("Transport",this.getType(),"closed",h,y),$(h)&&(c=g&&f,P=null,T=null);var J=h.timeouts;for(var F in h.timeouts={},J)J.hasOwnProperty(F)&&this.clearTimeout(J[F]);var D=h.envelopes;for(var Q in h.envelopes={},D)if(D.hasOwnProperty(Q)){var j=D[Q][0];D[Q][1]&&(L=!1);var K={websocketCode:y.code,reason:y.reason};y.exception&&(K.exception=y.exception),this._notifyFailure(j.onFailure,h,j.messages,K)}},i.registered=function(h,y){v.registered(h,y),m=y},i.accept=function(h,y,J){return this._debug("Transport",this.getType(),"accept, supported:",c),c&&!!window.WebSocket&&!1!==m.websocketEnabled},i.send=function(h,y){this._debug("Transport",this.getType(),"sending",h,"metaConnect =",y),Y.call(this,T,h,y)},i.webSocketClose=function(h,y,J){try{h.webSocket&&h.webSocket.close(y,J)}catch(F){this._debug(F)}},i.abort=function(){v.abort(),W.call(this,T,{code:1e3,reason:"Abort"}),this.reset(!0)},i},x=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z",".","-",":","+","=","^","!","/","*","?","&","<",">","(",")","[","]","{","}","@","%","$","#"],H=[0,68,0,84,83,82,72,0,75,76,70,65,0,63,62,69,0,1,2,3,4,5,6,7,8,9,64,0,73,66,74,71,81,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,77,0,78,67,0,0,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,79,0,80,0,0];return{CometD:function(v){var g,J,F,Ke,Le,i=this,m=v||"default",c=!1,f=new a,T="disconnected",P=0,L=null,w=0,W=[],$=!1,S=0,R={},A=0,Y=null,h=[],y={},D={},Q={},j=!1,q=!1,K=0,X=0,z={protocol:null,stickyReconnect:!0,connectTimeout:0,maxConnections:2,backoffIncrement:1e3,maxBackoff:6e4,logLevel:"info",maxNetworkDelay:1e4,requestHeaders:{},appendMessageTypeToURL:!0,autoBatch:!1,urls:{},maxURILength:2e3,advice:{timeout:6e4,interval:0,reconnect:void 0,maxInterval:0}};function xe(e,n){try{return e[n]}catch(s){return}}function te(e){return k.isString(e)}function C(e){return null!=e&&"function"==typeof e}function ce(e,n){for(var s="";--n>0&&!(e>=Math.pow(10,n));)s+="0";return s+e}function ye(e,n){if(window.console){var s=window.console[e];if(C(s)){var d=new Date;[].splice.call(n,0,0,ce(d.getHours(),2)+":"+ce(d.getMinutes(),2)+":"+ce(d.getSeconds(),2)+"."+ce(d.getMilliseconds(),3)),s.apply(window.console,n)}}}function ve(e){return/(^https?:\/\/)?(((\[[^\]]+\])|([^:\/\?#]+))(:(\d+))?)?([^\?#]*)(.*)?/.exec(e)}function Qe(e){i._debug("Configuring cometd object with",e),te(e)&&(e={url:e}),e||(e={}),z=i._mixin(!1,z,e);var n=i.getURL();if(!n)throw"Missing required configuration parameter 'url' specifying the Bayeux server URL";var s=ve(n),p=s[8],E=s[9];if(c=i._isCrossDomain(s[2]),z.appendMessageTypeToURL)if(void 0!==E&&E.length>0)i._info("Appending message type to URI "+p+E+" is not supported, disabling 'appendMessageTypeToURL' configuration"),z.appendMessageTypeToURL=!1;else{var O=p.split("/"),b=O.length-1;p.match(/\/$/)&&(b-=1),O[b].indexOf(".")>=0&&(i._info("Appending message type to URI "+p+" is not supported, disabling 'appendMessageTypeToURL' configuration"),z.appendMessageTypeToURL=!1)}}function je(e){if(e){var n=R[e.channel];n&&n[e.id]&&(delete n[e.id],i._debug("Removed",e.listener?"listener":"subscription",e))}}function Fe(e){e&&!e.listener&&je(e)}function He(){for(var e in R)if(R.hasOwnProperty(e)){var n=R[e];if(n)for(var s in n)n.hasOwnProperty(s)&&Fe(n[s])}}function le(e){T!==e&&(i._debug("Status",T,"->",e),T=e)}function re(){return"disconnecting"===T||"disconnected"===T}function fe(){return""+ ++P}function Te(e,n,s,d,p){try{return n.call(e,d)}catch(O){var E=i.onExtensionException;if(C(E)){i._debug("Invoking extension exception handler",s,O);try{E.call(i,O,s,p,d)}catch(b){i._info("Exception during execution of extension exception handler",s,b)}}else i._info("Exception during execution of extension",s,O);return d}}function Pe(e){for(var n=h.length-1;n>=0&&null!=e;--n){var s=h[n],d=s.extension.outgoing;if(C(d)){var p=Te(s.extension,d,s.name,e,!0);e=void 0===p?e:p}}return e}function Ue(e,n){var s=R[e];if(s)for(var d in s)if(s.hasOwnProperty(d)){var p=s[d];if(p)try{p.callback.call(p.scope,n)}catch(O){var E=i.onListenerException;if(C(E)){i._debug("Invoking listener exception handler",p,O);try{E.call(i,O,p,p.listener,n)}catch(b){i._info("Exception during execution of listener exception handler",p,b)}}else i._info("Exception during execution of listener",p,n,O)}}}function Z(e,n){Ue(e,n);for(var s=e.split("/"),d=s.length-1,p=d;p>0;--p){var E=s.slice(0,p).join("/")+"/*";p===d&&Ue(E,n),Ue(E+="*",n)}}function ze(){null!==Y&&k.clearTimeout(Y),Y=null}function Je(e,n){ze();var s=y.interval+n;i._debug("Function scheduled in",s,"ms, interval =",y.interval,"backoff =",A,e),Y=k.setTimeout(i,e,s)}function Re(e,n,s,d){for(var p=0;p<n.length;++p){var E=n[p],O=E.id;L&&(E.clientId=L),null!=(E=Pe(E))?(E.id=O,n[p]=E):(delete D[O],n.splice(p--,1))}if(0!==n.length){var b=i.getURL();z.appendMessageTypeToURL&&(b.match(/\/$/)||(b+="/"),d&&(b+=d));var ee={url:b,sync:e,messages:n,onSuccess:function(ae){try{Ke.call(i,ae)}catch(me){i._info("Exception during handling of messages",me)}},onFailure:function(ae,me,Ie){try{var Se=i.getTransport();Ie.connectionType=Se?Se.getType():"unknown",Le.call(i,ae,me,Ie)}catch(de){i._info("Exception during handling of failure",de)}}};i._debug("Send",ee),g.send(ee,s)}}function ge(e){w>0||!0===$?W.push(e):Re(!1,[e],!1)}function we(){A=0}function Oe(){var e=W;W=[],e.length>0&&Re(!1,e,!1)}function be(e){le("connecting"),Je(function(){!function(){if(!re()){var e={id:fe(),channel:"/meta/connect",connectionType:g.getType()};q||(e.advice={timeout:0}),le("connecting"),i._debug("Connect sent",e),Re(!1,[e],!0,"connect"),le("connected")}}()},e)}function Be(e){e&&(y=i._mixin(!1,{},z.advice,e),i._debug("New advice",y))}function Ee(e){if(ze(),e&&g&&g.abort(),L=null,le("disconnected"),w=0,we(),g=null,j=!1,q=!1,W.length>0){var n=W;W=[],Le.call(i,void 0,n,{reason:"Disconnected"})}}function De(e,n,s){var d=i.onTransportException;if(C(d)){i._debug("Invoking transport exception handler",e,n,s);try{d.call(i,s,e,n)}catch(p){i._info("Exception during execution of transport exception handler",p)}}}function Xe(e,n){C(e)&&(n=e,e=void 0),L=null,He(),re()&&f.reset(!0),Be({}),w=0,$=!0,J=e,F=n;var s="1.0",d=i.getURL(),p=f.findTransportTypes(s,c,d),E={id:fe(),version:s,minimumVersion:s,channel:"/meta/handshake",supportedConnectionTypes:p,advice:{timeout:y.timeout,interval:y.interval}},O=i._mixin(!1,{},J,E);if(i._putCallback(O.id,n),!g&&!(g=f.negotiateTransport(p,s,c,d))){var b="Could not find initial transport among: "+f.getTransportTypes();throw i._warn(b),b}i._debug("Initial transport is",g.getType()),le("handshaking"),i._debug("Handshake sent",O),Re(!1,[O],!1,"handshake")}function pe(e,n){try{e.call(i,n)}catch(d){var s=i.onCallbackException;if(C(s)){i._debug("Invoking callback exception handler",d);try{s.call(i,d,n)}catch(p){i._info("Exception during execution of callback exception handler",p)}}else i._info("Exception during execution of message callback",d)}}function oe(e){var n=i._getCallback([e.id]);C(n)&&(delete D[e.id],pe(n,e))}function Ae(e){var n=Q[e.id];if(delete Q[e.id],n){i._debug("Handling remote call response for",e,"with context",n);var s=n.timeout;s&&k.clearTimeout(s);var d=n.callback;if(C(d))return pe(d,e),!0}return!1}function qe(e){i._debug("Transport failure handling",e),e.transport&&(g=e.transport),e.url&&g.setURL(e.url);var n=e.action,s=e.delay||0;switch(n){case"handshake":!function(e){le("handshaking"),$=!0,Je(function(){Xe(J,F)},e)}(s);break;case"retry":be(s);break;case"none":Ee(!0);break;default:throw"Unknown action "+n}}function Ce(e,n){oe(e),Z("/meta/handshake",e),Z("/meta/unsuccessful",e),re()&&(n.action="none"),i.onTransportFailure.call(i,e,n,qe)}function et(e){Ce(e,{cause:"failure",action:"handshake",transport:null})}function Me(e,n){Z("/meta/connect",e),Z("/meta/unsuccessful",e),re()&&(n.action="none"),i.onTransportFailure.call(i,e,n,qe)}function pt(e){q=!1,Me(e,{cause:"failure",action:"retry",transport:null})}function rt(e){Ee(!0),oe(e),Z("/meta/disconnect",e),Z("/meta/unsuccessful",e)}function mt(e){rt(e)}function it(e){var n=R[e.subscription];if(n)for(var s in n)if(n.hasOwnProperty(s)){var d=n[s];d&&!d.listener&&(delete n[s],i._debug("Removed failed subscription",d))}oe(e),Z("/meta/subscribe",e),Z("/meta/unsuccessful",e)}function yt(e){it(e)}function ot(e){oe(e),Z("/meta/unsubscribe",e),Z("/meta/unsuccessful",e)}function st(e){ot(e)}function Ne(e){Ae(e)||(oe(e),Z("/meta/publish",e),Z("/meta/unsuccessful",e))}function Tt(e){Ne(e)}function ct(e){if(K=0,null!=(e=function(e){for(var n=0;n<h.length&&null!=e;++n){var s=h[n],d=s.extension.incoming;if(C(d)){var p=Te(s.extension,d,s.name,e,!1);e=void 0===p?e:p}}return e}(e)))switch(Be(e.advice),e.channel){case"/meta/handshake":!function(e){var n=i.getURL();if(e.successful){var s=i._isCrossDomain(ve(n)[2]),d=f.negotiateTransport(e.supportedConnectionTypes,e.version,s,n);if(null===d)return e.successful=!1,void Ce(e,{cause:"negotiation",action:"none",transport:null});g!==d&&(i._debug("Transport",g.getType(),"->",d.getType()),g=d),L=e.clientId,$=!1,Oe(),e.reestablish=j,j=!0,oe(e),Z("/meta/handshake",e),X=e["x-messages"]||0;var p=re()?"none":y.reconnect||"retry";switch(p){case"retry":we(),0===X?be(0):i._debug("Processing",X,"handshake-delivered messages");break;case"none":Ee(!0);break;default:throw"Unrecognized advice action "+p}}else Ce(e,{cause:"unsuccessful",action:y.reconnect||"handshake",transport:g})}(e);break;case"/meta/connect":!function(e){if(q=e.successful){Z("/meta/connect",e);var n=re()?"none":y.reconnect||"retry";switch(n){case"retry":we(),be(A);break;case"none":Ee(!1);break;default:throw"Unrecognized advice action "+n}}else Me(e,{cause:"unsuccessful",action:y.reconnect||"retry",transport:g})}(e);break;case"/meta/disconnect":!function(e){e.successful?(Ee(!1),oe(e),Z("/meta/disconnect",e)):rt(e)}(e);break;case"/meta/subscribe":!function(e){e.successful?(oe(e),Z("/meta/subscribe",e)):it(e)}(e);break;case"/meta/unsubscribe":!function(e){e.successful?(oe(e),Z("/meta/unsubscribe",e)):ot(e)}(e);break;default:!function(e){void 0!==e.data?Ae(e)||(Z(e.channel,e),X>0&&0==--X&&(i._debug("Processed last handshake-delivered message"),be(0))):void 0===e.successful?i._warn("Unknown Bayeux Message",e):e.successful?(oe(e),Z("/meta/publish",e)):Ne(e)}(e)}}function ke(e){var n=R[e];if(n)for(var s in n)if(n.hasOwnProperty(s)&&n[s])return!0;return!1}function Ge(e,n){var s={scope:e,method:n};if(C(e))s.scope=void 0,s.method=e;else if(te(n)){if(!e)throw"Invalid scope "+e;if(s.method=e[n],!C(s.method))throw"Invalid callback "+n+" for scope "+e}else if(!C(n))throw"Invalid callback "+n;return s}function _e(e,n,s,d){var p=Ge(n,s);i._debug("Adding",d?"listener":"subscription","on",e,"with scope",p.scope,"and callback",p.method);var E=++S,O={id:E,channel:e,scope:p.scope,callback:p.method,listener:d},b=R[e];return b||(R[e]=b={}),b[E]=O,i._debug("Added",d?"listener":"subscription",O),O}this._mixin=function(e,n,s){for(var d=n||{},p=2;p<arguments.length;++p){var E=arguments[p];if(null!=E)for(var O in E)if(E.hasOwnProperty(O)){var b=xe(E,O),ee=xe(d,O);if(b===n||void 0===b)continue;d[O]=e&&"object"==typeof b&&null!==b?this._mixin(e,b instanceof Array?ee instanceof Array?ee:[]:"object"!=typeof ee||ee instanceof Array?{}:ee,b):b}}return d},this._warn=function(){ye("warn",arguments)},this._info=function(){"warn"!==z.logLevel&&ye("info",arguments)},this._debug=function(){"debug"===z.logLevel&&ye("debug",arguments)},this._isCrossDomain=function(e){return!!(window.location&&window.location.host&&e)&&e!==window.location.host},this.send=ge,this._getCallback=function(e){return D[e]},this._putCallback=function(e,n){var s=this._getCallback(e);return C(n)&&(D[e]=n),s},this.onTransportFailure=function(e,n,s){this._debug("Transport failure",n,"for",e);var d=this.getTransportRegistry(),p=this.getURL(),E=this._isCrossDomain(ve(p)[2]),b=d.findTransportTypes("1.0",E,p);if("none"===n.action){if("/meta/handshake"===e.channel&&!n.transport){var ee="Could not negotiate transport, client=["+b+"], server=["+e.supportedConnectionTypes+"]";this._warn(ee),De(g.getType(),null,{reason:ee,connectionType:g.getType(),transport:g})}}else if(n.delay=this.getBackoffPeriod(),"/meta/handshake"===e.channel){if(!n.transport){var ae=d.negotiateTransport(b,"1.0",E,p);ae?(this._debug("Transport",g.getType(),"->",ae.getType()),De(g.getType(),ae.getType(),e.failure),n.action="handshake",n.transport=ae):(this._warn("Could not negotiate transport, client=["+b+"]"),De(g.getType(),null,e.failure),n.action="none")}"none"!==n.action&&this.increaseBackoffPeriod()}else{var me=(new Date).getTime();if(0===K&&(K=me),"retry"===n.action){n.delay=this.increaseBackoffPeriod();var Ie=y.maxInterval;Ie>0&&me-K+A>y.timeout+y.interval+Ie&&(n.action="handshake")}"handshake"===n.action&&(n.delay=0,d.reset(!1),this.resetBackoffPeriod())}s.call(i,n)},this.receive=ct,Ke=function(e){i._debug("Received",e);for(var n=0;n<e.length;++n)ct(e[n])},Le=function(e,n,s){i._debug("handleFailure",e,n,s),s.transport=e;for(var d=0;d<n.length;++d){var p=n[d],E={id:p.id,successful:!1,channel:p.channel,failure:s};switch(s.message=p,p.channel){case"/meta/handshake":et(E);break;case"/meta/connect":pt(E);break;case"/meta/disconnect":mt(E);break;case"/meta/subscribe":E.subscription=p.subscription,yt(E);break;case"/meta/unsubscribe":E.subscription=p.subscription,st(E);break;default:Tt(E)}}},this.registerTransport=function(e,n,s){var d=f.add(e,n,s);return d&&(this._debug("Registered transport",e),C(n.registered)&&n.registered(e,this)),d},this.unregisterTransport=function(e){var n=f.remove(e);return null!==n&&(this._debug("Unregistered transport",e),C(n.unregistered)&&n.unregistered()),n},this.unregisterTransports=function(){f.clear()},this.getTransportTypes=function(){return f.getTransportTypes()},this.findTransport=function(e){return f.find(e)},this.getTransportRegistry=function(){return f},this.configure=function(e){Qe.call(this,e)},this.init=function(e,n){this.configure(e),this.handshake(n)},this.handshake=function(e,n){if("disconnected"!==T)throw"Illegal state: handshaken";Xe(e,n)},this.disconnect=function(e,n,s){if(!re()){"boolean"!=typeof e&&(s=n,n=e,e=!1),C(n)&&(s=n,n=void 0);var d={id:fe(),channel:"/meta/disconnect"},p=this._mixin(!1,{},n,d);i._putCallback(p.id,s),le("disconnecting"),Re(!0===e,[p],!1,"disconnect")}},this.startBatch=function(){++w,i._debug("Starting batch, depth",w)},this.endBatch=function(){!function(){if(--w,i._debug("Ending batch, depth",w),w<0)throw"Calls to startBatch() and endBatch() are not paired";0===w&&!re()&&!$&&Oe()}()},this.batch=function(e,n){var s=Ge(e,n);this.startBatch();try{s.method.call(s.scope),this.endBatch()}catch(d){throw this._info("Exception during execution of batch",d),this.endBatch(),d}},this.addListener=function(e,n,s){if(arguments.length<2)throw"Illegal arguments number: required 2, got "+arguments.length;if(!te(e))throw"Illegal argument type: channel must be a string";return _e(e,n,s,!0)},this.removeListener=function(e){if(!e||!e.channel||!("id"in e))throw"Invalid argument: expected subscription, not "+e;je(e)},this.clearListeners=function(){R={}},this.subscribe=function(e,n,s,d,p){if(arguments.length<2)throw"Illegal arguments number: required 2, got "+arguments.length;if(!te(e))throw"Illegal argument type: channel must be a string";if(re())throw"Illegal state: disconnected";C(n)&&(p=d,d=s,s=n,n=void 0),C(d)&&(p=d,d=void 0);var E=!ke(e),O=_e(e,n,s,!1);if(E){var b={id:fe(),channel:"/meta/subscribe",subscription:e},ee=this._mixin(!1,{},d,b);i._putCallback(ee.id,p),ge(ee)}return O},this.unsubscribe=function(e,n,s){if(arguments.length<1)throw"Illegal arguments number: required 1, got "+arguments.length;if(re())throw"Illegal state: disconnected";C(n)&&(s=n,n=void 0),this.removeListener(e);var d=e.channel;if(!ke(d)){var p={id:fe(),channel:"/meta/unsubscribe",subscription:d},E=this._mixin(!1,{},n,p);i._putCallback(E.id,s),ge(E)}},this.resubscribe=function(e,n){if(Fe(e),e)return this.subscribe(e.channel,e.scope,e.callback,n)},this.clearSubscriptions=function(){He()},this.publish=function(e,n,s,d){if(arguments.length<1)throw"Illegal arguments number: required 1, got "+arguments.length;if(!te(e))throw"Illegal argument type: channel must be a string";if(/^\/meta\//.test(e))throw"Illegal argument: cannot publish to meta channels";if(re())throw"Illegal state: disconnected";C(n)?(d=n,n={},s=void 0):C(s)&&(d=s,s=void 0);var p={id:fe(),channel:e,data:n},E=this._mixin(!1,{},s,p);i._putCallback(E.id,d),ge(E)},this.publishBinary=function(e,n,s,d,p){C(n)?(p=n,n=new ArrayBuffer(0),s=!0,d=void 0):C(s)?(p=s,s=!0,d=void 0):C(d)&&(p=d,d=void 0),this.publish(e,{meta:d,data:n,last:s},{ext:{binary:{}}},p)},this.remoteCall=function(e,n,s,d,p){if(arguments.length<1)throw"Illegal arguments number: required 1, got "+arguments.length;if(!te(e))throw"Illegal argument type: target must be a string";if(re())throw"Illegal state: disconnected";if(C(n)?(p=n,n={},s=z.maxNetworkDelay,d=void 0):C(s)?(p=s,s=z.maxNetworkDelay,d=void 0):C(d)&&(p=d,d=void 0),"number"!=typeof s)throw"Illegal argument type: timeout must be a number";e.match(/^\//)||(e="/"+e);var E="/service"+e,O={id:fe(),channel:E,data:n},b=this._mixin(!1,{},d,O),ee={callback:p};s>0&&(ee.timeout=k.setTimeout(i,function(){i._debug("Timing out remote call",b,"after",s,"ms"),Ne({id:b.id,error:"406::timeout",successful:!1,failure:{message:b,reason:"Remote Call Timeout"}})},s),i._debug("Scheduled remote call timeout",b,"in",s,"ms")),Q[b.id]=ee,ge(b)},this.remoteCallBinary=function(e,n,s,d,p,E){C(n)?(E=n,n=new ArrayBuffer(0),s=!0,d=void 0,p=z.maxNetworkDelay):C(s)?(E=s,s=!0,d=void 0,p=z.maxNetworkDelay):C(d)?(E=d,d=void 0,p=z.maxNetworkDelay):C(p)&&(E=p,p=z.maxNetworkDelay),this.remoteCall(e,{meta:d,data:n,last:s},p,{ext:{binary:{}}},E)},this.getStatus=function(){return T},this.isDisconnected=re,this.setBackoffIncrement=function(e){z.backoffIncrement=e},this.getBackoffIncrement=function(){return z.backoffIncrement},this.getBackoffPeriod=function(){return A},this.increaseBackoffPeriod=function(){return A<z.maxBackoff&&(A+=z.backoffIncrement),A},this.resetBackoffPeriod=function(){we()},this.setLogLevel=function(e){z.logLevel=e},this.registerExtension=function(e,n){if(arguments.length<2)throw"Illegal arguments number: required 2, got "+arguments.length;if(!te(e))throw"Illegal argument type: extension name must be a string";for(var s=!1,d=0;d<h.length;++d)if(h[d].name===e){s=!0;break}return s?(this._info("Could not register extension with name",e,"since another extension with the same name already exists"),!1):(h.push({name:e,extension:n}),this._debug("Registered extension",e),C(n.registered)&&n.registered(e,this),!0)},this.unregisterExtension=function(e){if(!te(e))throw"Illegal argument type: extension name must be a string";for(var n=!1,s=0;s<h.length;++s){var d=h[s];if(d.name===e){h.splice(s,1),n=!0,this._debug("Unregistered extension",e);var p=d.extension;C(p.unregistered)&&p.unregistered();break}}return n},this.getExtension=function(e){for(var n=0;n<h.length;++n){var s=h[n];if(s.name===e)return s.extension}return null},this.getName=function(){return m},this.getClientId=function(){return L},this.getURL=function(){if(g){var e=g.getURL();if(e||(e=z.urls[g.getType()]))return e}return z.url},this.getTransport=function(){return g},this.getConfiguration=function(){return this._mixin(!0,{},z)},this.getAdvice=function(){return this._mixin(!0,{},y)},window.WebSocket&&this.registerTransport("websocket",new G),this.registerTransport("long-polling",new o),this.registerTransport("callback-polling",new B)},Transport:M,RequestTransport:N,LongPollingTransport:o,CallbackPollingTransport:B,WebSocketTransport:G,Utils:k,Z85:{encode:function(v){var i=null;if(v instanceof ArrayBuffer?i=v:v.buffer instanceof ArrayBuffer?i=v.buffer:Array.isArray(v)&&(i=new Uint8Array(v).buffer),null==i)throw"Cannot Z85 encode "+v;for(var m=i.byteLength,c=m%4,f=4-(0===c?4:c),g=new DataView(i),T="",P=0,L=0;L<m+f;++L){var w=L>=m;if(P=256*P+(w?0:g.getUint8(L)),(L+1)%4==0){for(var W=52200625,$=5;$>0;--$){if(!w||$>f){var S=Math.floor(P/W)%85;T+=x[S]}W/=85}P=0}}return T},decode:function(v){for(var i=v.length%5,m=5-(0===i?5:i),c=0;c<m;++c)v+=x[x.length-1];for(var f=v.length,g=new ArrayBuffer(4*f/5-m),T=new DataView(g),P=0,L=0,w=0,W=0;W<f;++W){var $=v.charCodeAt(L++)-32;if(P=85*P+H[$],L%5==0){for(var S=16777216;S>=1;)w<T.byteLength&&T.setUint8(w++,Math.floor(P/S)%256),S/=256;P=0}}return g}}}}()},13219:function(ne,k){var a,N;void 0!==(N="function"==typeof(a=function(){"use strict";function B(v,i,m){var c=new XMLHttpRequest;c.open("GET",v),c.responseType="blob",c.onload=function(){U(c.response,i,m)},c.onerror=function(){console.error("could not download file")},c.send()}function G(v){var i=new XMLHttpRequest;i.open("HEAD",v,!1);try{i.send()}catch(m){}return 200<=i.status&&299>=i.status}function _(v){try{v.dispatchEvent(new MouseEvent("click"))}catch(m){var i=document.createEvent("MouseEvents");i.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),v.dispatchEvent(i)}}var x="object"==typeof window&&window.window===window?window:"object"==typeof self&&self.self===self?self:"object"==typeof global&&global.global===global?global:void 0,H=x.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),U=x.saveAs||("object"!=typeof window||window!==x?function(){}:"download"in HTMLAnchorElement.prototype&&!H?function(v,i,m){var c=x.URL||x.webkitURL,f=document.createElement("a");f.download=i=i||v.name||"download",f.rel="noopener","string"==typeof v?(f.href=v,f.origin===location.origin?_(f):G(f.href)?B(v,i,m):_(f,f.target="_blank")):(f.href=c.createObjectURL(v),setTimeout(function(){c.revokeObjectURL(f.href)},4e4),setTimeout(function(){_(f)},0))}:"msSaveOrOpenBlob"in navigator?function(v,i,m){if(i=i||v.name||"download","string"!=typeof v)navigator.msSaveOrOpenBlob(function(v,i){return void 0===i?i={autoBom:!1}:"object"!=typeof i&&(console.warn("Deprecated: Expected third argument to be a object"),i={autoBom:!i}),i.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(v.type)?new Blob(["\ufeff",v],{type:v.type}):v}(v,m),i);else if(G(v))B(v,i,m);else{var c=document.createElement("a");c.href=v,c.target="_blank",setTimeout(function(){_(c)})}}:function(v,i,m,c){if((c=c||open("","_blank"))&&(c.document.title=c.document.body.innerText="downloading..."),"string"==typeof v)return B(v,i,m);var f="application/octet-stream"===v.type,g=/constructor/i.test(x.HTMLElement)||x.safari,T=/CriOS\/[\d]+/.test(navigator.userAgent);if((T||f&&g||H)&&"undefined"!=typeof FileReader){var P=new FileReader;P.onloadend=function(){var W=P.result;W=T?W:W.replace(/^data:[^;]*;/,"data:attachment/file;"),c?c.location.href=W:location=W,c=null},P.readAsDataURL(v)}else{var L=x.URL||x.webkitURL,w=L.createObjectURL(v);c?c.location=w:location.href=w,c=null,setTimeout(function(){L.revokeObjectURL(w)},4e4)}});x.saveAs=U.saveAs=U,ne.exports=U})?a.apply(k,[]):a)&&(ne.exports=N)},76016:(ne,k,a)=>{"use strict";a.r(k),a.d(k,{JiraServerPlatformModule:()=>er});var M=a(51731),N=a(78375),o=a(84046);let B=(()=>{class t extends M.p{constructor(r){super(),this.platformParamStorage=r}restBaseUrl(){return this.platformParamStorage.get().applicationBaseUrl}}return t.\u0275fac=function(r){return new(r||t)(o.LFG(N.j))},t.\u0275prov=o.Yz7({token:t,factory:t.\u0275fac}),t})();var G=a(14311),_=a(25171),x=a(48546),H=a(24160);const U=new o.OlP("JIRA_SERVER_GADGET");let v=(()=>{class t extends H.L{constructor(r){super(),this.gadget=r}showGadget(r){this.gadget.showView(r)}}return t.\u0275fac=function(r){return new(r||t)(o.LFG(U))},t.\u0275prov=o.Yz7({token:t,factory:t.\u0275fac}),t})(),i=(()=>{class t{static forRoot(r){return{ngModule:t,providers:[{provide:H.L,useClass:r}]}}}return t.\u0275fac=function(r){return new(r||t)},t.\u0275mod=o.oAB({type:t}),t.\u0275inj=o.cJS({}),t})();var m=a(17314);function c(t){return()=>t.gadget}let f=(()=>{class t{static forRoot(){return{ngModule:t,providers:[{provide:U,useFactory:c,deps:[m.m]}]}}}return t.\u0275fac=function(r){return new(r||t)},t.\u0275mod=o.oAB({type:t}),t.\u0275inj=o.cJS({imports:[[i.forRoot(v)]]}),t})();var g=a(8228),T=a(11531);let P=(()=>{class t extends g.T{constructor(r,u){super(u),this.platformParamStorage=r}getRestBaseUrl(){return this.platformParamStorage.get().applicationBaseUrl.split("parameters")[0]}}return t.\u0275fac=function(r){return new(r||t)(o.LFG(N.j),o.LFG(T.O))},t.\u0275prov=o.Yz7({token:t,factory:t.\u0275fac}),t})();var L=a(80790),w=a(9359),W=a(28620),$=a(92945),S=a(83950),R=a(33444);let A=(()=>{class t extends L._{constructor(r,u,I,V,ie){super(r,u,I,V,ie),this.platformName=w.Q.JIRA_SERVER,V.setGoTo(this.goToMethod.bind(this))}goToMethod(r){const u=`${this.getHrefUrl()}/${r}`,I=`${this.getBaseUrl()}/${r}`;return{eventPreventDefault:!0,href:u,navigation:()=>{this.router.navigate([I],{queryParamsHandling:"preserve"})}}}getHrefUrl(){return`${this.environmentService.getServletUrl()}/#`}}return t.\u0275fac=function(r){return new(r||t)(o.LFG($.F0),o.LFG(W.N),o.LFG(S.L),o.LFG(R.q),o.LFG(m.m))},t.\u0275prov=o.Yz7({token:t,factory:t.\u0275fac}),t})();var Y=a(53339),h=a(66795),y=a(20136);let J=(()=>{class t extends _.v{constructor(r,u){super(),this.window=r,this.initPath=u}get$(){return(0,Y.of)(this.getApplicationPath())}getApplicationPath(){return this.getInitialPath().or(()=>this.getParentPath()).orElse("")}getInitialPath(){const r=this.initPath.get()||null;return h.bq.ofNullable(r)}getParentPath(){const u=this.getWindowParent().location.hash.split("#/")[1]||null;return h.bq.ofNullable(u)}getWindowParent(){return this.window[t.PARENT_WINDOW_ATTRIBUTE]}}return t.PARENT_WINDOW_ATTRIBUTE="parent",t.\u0275fac=function(r){return new(r||t)(o.LFG(m.m),o.LFG(y.v))},t.\u0275prov=o.Yz7({token:t,factory:t.\u0275fac}),t})();var F=a(61472);let D=(()=>{class t extends F.C{getHeaders(){return{}}}return t.\u0275fac=function(){let l;return function(u){return(l||(l=o.n5z(t)))(u||t)}}(),t.\u0275prov=o.Yz7({token:t,factory:t.\u0275fac}),t})();var Q=a(41383);let j=(()=>{class t extends Q.B{getQueryParams(){return""}}return t.\u0275fac=function(){let l;return function(u){return(l||(l=o.n5z(t)))(u||t)}}(),t.\u0275prov=o.Yz7({token:t,factory:t.\u0275fac}),t})();var q=a(83803),K=a(85498),X=a(25642),z=a(13686);let xe=(()=>{class t extends K.D{constructor(r,u,I){super(r,u),this.ngZone=I}init(){window.addEventListener("message",r=>{if("HASH_CHANGE"===r.data.type){const u=r.data.hash;this.ngZone.run(()=>this.onPathContextChange(u))}},!1)}}return t.\u0275fac=function(r){return new(r||t)(o.LFG(z.j),o.LFG(X.y),o.LFG(o.R0b))},t.\u0275prov=o.Yz7({token:t,factory:t.\u0275fac}),t})();var te=a(89806),C=a(683),ce=a(71726);let ye=(()=>{class t extends te.i{constructor(r,u,I,V){super(),this.router=r,this.platformParamStorage=u,this.httpService=I,this.window=V}handleRedirect(r,u){const V=this.parseJSON(u).status;switch(("WAITING_FOR_DBUPGRADE_APPROVAL"===V||"ACTIVATING"===V)&&this.loadApplicationStatusPage(),r){case C.o.FORBIDDEN:this.forbidden();break;case C.o.INTERNAL_SERVER_ERROR:this.failedToActivate()}}failedToActivate(){this.router.navigate(["jira-server/application-status/activation-failed"])}atlassianConnectContextUnavailable(){throw new Error("Atlassian connect context check is not required!")}thirdPartyCookiesMisconfiguration(){throw new Error("Third Party Cookies Misconfiguration is not required!")}getStatus$(){const r=this.getSystemUrl();return this.httpService.get(r,{},{headers:{"Content-Type":"application/json"}}).pipe((0,ce.U)(u=>u.data))}getParameters$(){return this.httpService.get(this.getParametersUrl(),{},{headers:{"Content-Type":"application/json"}}).pipe((0,ce.U)(r=>r.data))}loadApplicationStatusPage(){const r={applicationBaseUrl:this.getAttributeParam("applicationBaseUrl")};this.router.navigate(["jira-server/application-status/warming-up"],{queryParams:r})}forbidden(){const r={applicationBaseUrl:this.getAttributeParam("applicationBaseUrl")};this.router.navigate(["jira-server/application-status/403"],{queryParams:r})}getSystemUrl(){return this.getAttributeParam("applicationBaseUrl")+"multitenant/system/status"}getParametersUrl(){return this.getAttributeParam("applicationBaseUrl")+"parameters"}getAttributeParam(r){return this.platformParamStorage.get()[r]}parseJSON(r){try{return JSON.parse(r)}catch(u){return{}}}}return t.\u0275fac=function(r){return new(r||t)(o.LFG($.F0),o.LFG(N.j),o.LFG(T.O),o.LFG(m.m))},t.\u0275prov=o.Yz7({token:t,factory:t.\u0275fac}),t})();var ve=a(4055),Qe=a(53517);let je=(()=>{class t extends ve.s{constructor(r){super(),this.platformParamStorage=r,this.EXPORT_IFRAME_URL="exportediframeurl",this.EXPORT_QUERY_PARAMETERS="queryparam"}prepareExportData(r){const u=this.getParametersUrl();return r[this.EXPORT_QUERY_PARAMETERS]=r[this.EXPORT_QUERY_PARAMETERS]?r[this.EXPORT_QUERY_PARAMETERS]+"&"+u:"?"+u,r[this.EXPORT_IFRAME_URL]=this.getUrl(),r}getUrl(){let r=window.location.href.split("?")[0];for(const u in w.Q)for(const I in Qe.i)r=r.replace(`${w.Q[u]}/${Qe.i[I]}/`,"");return r}getParametersUrl(){return`applicationBaseUrl=${this.platformParamStorage.get().applicationBaseUrl}`}}return t.\u0275fac=function(r){return new(r||t)(o.LFG(N.j))},t.\u0275prov=o.Yz7({token:t,factory:t.\u0275fac}),t})();var Fe=a(69621);const He=(new Fe.S).withSynchronizationConfiguration();var le=a(28773),re=a(71780);let fe=(()=>{class t extends re.L{constructor(r){super(),this.environmentService=r}get(r){const u=this.environmentService.getBaseURL(),I=`/download/resources/softwareplant.bigtemplate:static-pages/dist/iframe/index.html?applicationBaseUrl=${encodeURIComponent(u)}%2Frest%2Fsoftwareplant-bigtemplate%2F1.0%2F#/box/${r}/program-templates`;return(0,Y.of)(u+I)}getMarketplaceURL(){return le.U.JIRA_MARKETPLACE_URL_SERVER}}return t.\u0275fac=function(r){return new(r||t)(o.LFG(S.L))},t.\u0275prov=o.Yz7({token:t,factory:t.\u0275fac}),t})();var Te=a(55331),Ye=a(6834),Pe=a(2895),Ue=a(46924),Z=a(17176);let ze=(()=>{class t extends Ye.o{constructor(r,u,I){super(),this.document=r,this.environmentService=u,this.applicationContextStorage=I,this.GLOBAL_CONTEXT_ROUTER_PATH_CHANGE="APPLICATION_ROUTER_PATH_CHANGE",this.EXT_CATALOG_CONTEXT_ROUTER_PATH_CHANGE="EXT_CATALOG_APPLICATION_ROUTER_PATH_CHANGE",this.uiPlatformWindow=(0,Pe.h)(r)}propagatePath(r){const I=this.applicationContextStorage.get()===Z.Z.GLOBAL?this.GLOBAL_CONTEXT_ROUTER_PATH_CHANGE:this.EXT_CATALOG_CONTEXT_ROUTER_PATH_CHANGE;this.uiPlatformWindow.postMessage({type:I,restBaseUrl:this.environmentService.getRestBaseUrlParam(),routerPath:r},this.uiPlatformWindow.location.origin)}}return t.\u0275fac=function(r){return new(r||t)(o.LFG(Te.K0),o.LFG(S.L),o.LFG(Ue.z))},t.\u0275prov=o.Yz7({token:t,factory:t.\u0275fac}),t})();var Je=a(95774);let Ke=(()=>{class t extends Je.c{constructor(r,u){super(),this.environmentService=r,this.window=u}getCurrentUrl$(){const r=this.environmentService.getServletUrl();return(0,Y.of)(r+"/"+this.window.location.hash)}getRoute(){return"/box/share"}}return t.\u0275fac=function(r){return new(r||t)(o.LFG(S.L),o.LFG(m.m))},t.\u0275prov=o.Yz7({token:t,factory:t.\u0275fac}),t})();var Le=a(62157);let Re=(()=>{class t extends Le._{constructor(r){super(),this.document=r}init(){const r=(0,Pe.h)(this.document);r.addEventListener("click",()=>{this.postMessage("Clicked outside Skill Widget")}),r.addEventListener("message",u=>{"Clicked outside Skill Widget"===u.data&&this.postMessage(u.data)})}postMessage(r){document.defaultView.postMessage(r,"*")}}return t.\u0275fac=function(r){return new(r||t)(o.LFG(Te.K0))},t.\u0275prov=o.Yz7({token:t,factory:t.\u0275fac}),t})();var ge=a(3963);let we=(()=>{class t extends ge.f{constructor(r){super(),this.document=r}init(){const r=(0,Pe.h)(this.document);r.addEventListener("click",()=>{r.postMessage("Clicked outside Skill Widget","*")})}}return t.\u0275fac=function(r){return new(r||t)(o.LFG(Te.K0))},t.\u0275prov=o.Yz7({token:t,factory:t.\u0275fac}),t})();var Ve=a(21548);let ht=(()=>{class t extends Ve.w{constructor(r){super(),this.environmentService=r}get(){return this.environmentService.getIssueId()}}return t.\u0275fac=function(r){return new(r||t)(o.LFG(S.L))},t.\u0275prov=o.Yz7({token:t,factory:t.\u0275fac}),t})();var Oe=a(12624);let vt=(()=>{class t extends Oe.E{constructor(r,u,I){super(r),this.environmentService=u,this.window=I}goToMethod(r){const V=`${this.environmentService.getTaskProviderBaseUrl()}/plugins/servlet/${this.environmentService.getRestBaseUrlParam()}/#/${r}`;return{eventPreventDefault:!0,href:V,navigation:()=>{window.parent.location.href=V}}}}return t.\u0275fac=function(r){return new(r||t)(o.LFG(R.q),o.LFG(S.L),o.LFG(m.m))},t.\u0275prov=o.Yz7({token:t,factory:t.\u0275fac}),t})();var $e=a(20834);let be=(()=>{class t extends $e.${constructor(r){super(),this.window=r}resize(r,u){this.window.parent.document.querySelector(u).style.height=r+"px"}}return t.\u0275fac=function(r){return new(r||t)(o.LFG(m.m))},t.\u0275prov=o.Yz7({token:t,factory:t.\u0275fac}),t})();var Be=a(14102),Ee=a(14592),De=a(90216),Xe=a(15917);class Ze{constructor(l,r,u){this.selectedIssueProvider=l,this.onDelete=r,this.onUpdate=u}}class pe{}let oe=(()=>{class t extends De.m{constructor(r){super(),this.operationsDialogIntegrationService=r}runIntegrationLogic(){this.operationsDialogIntegrationService&&this.operationsDialogIntegrationService.init(new Ze(this.getIssue.bind(this),r=>this.hostConnector?this.hostConnector.onIssueDelete(r):(0,Y.of)(),r=>this.hostConnector?this.hostConnector.onIssueUpdate(r):(0,Y.of)()))}getIssue(){return this.selectedIssue?(0,Xe.R)(this.selectedIssue):null}}return t.\u0275fac=function(r){return new(r||t)(o.LFG(pe))},t.\u0275prov=o.Yz7({token:t,factory:t.\u0275fac}),t})();var Ae=(()=>{return(t=Ae||(Ae={})).DELETE="delete",t.EDIT_COMMENT="editComment",t.INLINE_EDIT="inlineEdit",t.ROW_UPDATE="rowUpdate",t.UPDATE="update",Ae;var t})(),qe=a(35318),Ce=a(30763);let gt=(()=>{class t extends pe{constructor(){super(...arguments),this.shifterContext=!0,this.JIRA=null}init(r){this.JIRA=this.getJira(),this.config=r,(0,qe.K)(),this.initJiraApi()}runEditOutsideOfShifterContext(){this.shifterContext=!1}initJiraApi(){void 0===this.JIRA.Issues.Api&&(this.JIRA.Issues.Api={}),this.JIRA.Issues.Api.getSelectedIssueKey=()=>{const r=this.config.selectedIssueProvider();if(r)return r.key},this.JIRA.Issues.Api.getSelectedIssueId=()=>{const r=this.config.selectedIssueProvider();if(r)return r.externalId},this.JIRA.Issues.Api.getSelectedIssue=()=>new this.JIRA.Issues.SimpleIssue({id:this.JIRA.Issues.Api.getSelectedIssueId(),key:this.JIRA.Issues.Api.getSelectedIssueKey()}),this.jira6Bridge(),this.jira7Bridge(),this.JIRA.Issues.overrideIssueDialogs({getIssueId:()=>this.JIRA.Issues.Api.getSelectedIssueId(),isNavigator:!0,updateIssue:this.updateIssueCallback.bind(this)})}updateIssueCallback(r){const u=this.JIRA.Issues.Utils.getUpdateCommandForDialog(r);return u&&this.shifterContext?(u.message&&this.JIRA.Issues.showNotification(u.message,u.key),this.reactToUpdate(u.id,u.action).toPromise()):(this.shifterContext=!0,Promise.resolve(null))}reactToUpdate(r,u){let I;switch(u){case Ae.DELETE:I=this.config.onDelete;break;default:I=this.config.onUpdate}return I(r)}jira6Bridge(){void 0===this.JIRA.Issue&&(this.JIRA.Issue={}),this.JIRA.Issue.getIssueKey=this.JIRA.Issues.Api.getSelectedIssueKey,this.JIRA.Issue.getIssueId=this.JIRA.Issues.Api.getSelectedIssueId}jira7Bridge(){this.JIRA.Issues.IssueAPI&&this.JIRA.Issues.IssueAPI.override&&this.JIRA.Issues.IssueAPI.override()}getJira(){let r=window.parent.JIRA;return r||(r=(0,Ce.u)()),r}}return t.\u0275fac=function(){let l;return function(u){return(l||(l=o.n5z(t)))(u||t)}}(),t.\u0275prov=o.Yz7({token:t,factory:t.\u0275fac}),t})();var et=a(79906);let Me=(()=>{class t{constructor(r){this.jiraOperationsDialogIntegrationService=r}init(r){!this.jiraOperationsDialogIntegrationService||this.jiraOperationsDialogIntegrationService.init(new Ze(r.selectedIssueProvider,u=>(0,et.D)(r.onDelete(u)),u=>(0,et.D)(r.onUpdate(u))))}}return t.\u0275fac=function(r){return new(r||t)(o.LFG(pe,8))},t.\u0275prov=o.Yz7({token:t,factory:t.\u0275fac}),t})(),tt=(()=>{class t{constructor(r){this.operationsDialogConnector=r,SP.JiraOperationsDialogGlobalConnector=this.operationsDialogConnector}static forRoot(){return{ngModule:t,providers:[Me]}}}return t.\u0275fac=function(r){return new(r||t)(o.LFG(Me))},t.\u0275mod=o.oAB({type:t}),t.\u0275inj=o.cJS({}),t})(),pt=(()=>{class t{constructor(r){window.JIRA_SERVER_OPERATIONS_DIALOG={runOutsideOfShifter:()=>r.runEditOutsideOfShifterContext()}}static forRoot(){return{ngModule:t,providers:[...tt.forRoot().providers,{provide:pe,useClass:gt}]}}}return t.\u0275fac=function(r){return new(r||t)(o.LFG(pe))},t.\u0275mod=o.oAB({type:t}),t.\u0275inj=o.cJS({imports:[[tt]]}),t})();var rt=a(50108),nt=a(81206);let mt=(()=>{class t extends nt.D{authorize(){return(0,Y.of)(void 0)}onAuthorizationIsInterrupted(){}onAuthorizationIsVerified(){}}return t.\u0275fac=function(){let l;return function(u){return(l||(l=o.n5z(t)))(u||t)}}(),t.\u0275prov=o.Yz7({token:t,factory:t.\u0275fac}),t})(),it=(()=>{class t{}return t.\u0275fac=function(r){return new(r||t)},t.\u0275mod=o.oAB({type:t}),t.\u0275inj=o.cJS({providers:[{provide:nt.D,useClass:mt}],imports:[[rt.t.forRoot()]]}),t})();var St=a(70445),yt=a(83155);let ot=(()=>{class t extends yt.a{constructor(r,u){super(u),this.environmentService=r}assign(r,u){return this.put(u,{name:r.resourceName})}refreshTask(r){(0,Pe.h)(r).JIRA.Issue.reload()}getRestUrl(r){return this.environmentService.getTaskProviderBaseUrl()+r}}return t.\u0275fac=function(r){return new(r||t)(o.LFG(S.L),o.LFG(T.O))},t.\u0275prov=o.Yz7({token:t,factory:t.\u0275fac}),t})();var at=a(73197),st=a(23140);let ut=(()=>{class t extends st.x{constructor(){super(),this.JQLAutocompleteMap=new Map}init(r,u,I){jQuery.fn.selection=function(t){var r,u,l=this[0];return!!l&&(null==t?!!l.setSelectionRange&&l.value.substring(l.selectionStart,l.selectionEnd):(r=l.scrollTop,l.setSelectionRange&&(l.value=l.value.substring(0,u=l.selectionStart)+t+l.value.substring(l.selectionEnd),l.selectionStart=u,l.selectionEnd=u+t.length),l.focus(),void(l.scrollTop=r)))},jQuery.fn.selectionRange=function(t,l){if(null==t){var r={start:this[0].selectionStart,end:this[0].selectionEnd},u=this.val();return r.text=u.substring(r.start,r.end),r.textBefore=u.substring(0,r.start),r.textAfter=u.substring(r.end),r}this[0].selectionStart=t,this[0].selectionEnd=l},jQuery.fn.wrapSelection=function(t,l){this.selection(t+this.selection()+(l||""))};const V=jQuery("#"+r),ie=(0,Ce.u)("JQLAutoComplete"),ue=ie.JQLAutoComplete({field:V,parser:ie.JQLAutoComplete.MyParser(I.jqlReservedWords),queryDelay:.65,jqlFieldNames:I.visibleFieldNames,jqlFunctionNames:I.visibleFunctionNames,minQueryLength:0,allowArrowCarousel:!0,autoSelectFirst:!1,errorID:u});return ue.replaceValue=(se,ft,tr)=>{const dt=jQuery(ue.field);dt.selectionRange(se,ft),dt.selection(tr);const Ft=dt.selectionRange().end;dt.selectionRange(Ft,Ft)},ue.updateParseIndicator=se=>{ue.parseError=""!==se.tokenString&&se.getParseError()},(0,at.R)(document.body,"click").subscribe(()=>{const se=ue.dropdownController;se&&se.displayed&&se.hideDropdown()}),(0,at.R)(V,"keyup").subscribe(se=>{if("Enter"===se.key){const ft=document.querySelector("li[id*='jql_'][id*='suggest'].active");null!==ft&&ft.click()}}),this.JQLAutocompleteMap.set(r,ue),this}enable(r){const u=this.JQLAutocompleteMap.get(r);u.buildResponseContainer(),u.enable()}disable(r){const u=this.JQLAutocompleteMap.get(r);u.responseContainer&&u.responseContainer.context.parentNode.removeChild(u.responseContainer.context),u.disable()}}return t.\u0275fac=function(r){return new(r||t)},t.\u0275prov=o.Yz7({token:t,factory:t.\u0275fac}),t})();var Tt=a(2421),ct=a(34323),ke=a(27583);let Ge=(()=>{class t extends ke.x{constructor(r,u){super(u),this.environmentService=r}getAutocompleteData(){return this.get("/rest/api/2/jql/autocompletedata").pipe((0,Tt.W)(ct.k))}getRestUrl(r){return this.environmentService.getBaseURL()+r}}return t.\u0275fac=function(r){return new(r||t)(o.LFG(S.L),o.LFG(T.O))},t.\u0275prov=o.Yz7({token:t,factory:t.\u0275fac}),t})();var _e=a(95881);let e=(()=>{class t extends _e.O{setAutoCompleteData(r){const u=(0,Ce.u)("JQLAutoComplete");this.jiraParser=u.JQLAutoComplete.MyParser(r)}parse(r){this.jiraParseError=this.jiraParser.parse(r).getParseError()}getParseError(){return this.jiraParseError}getEmitOnInvalidPossible(){return!1}}return t.\u0275fac=function(){let l;return function(u){return(l||(l=o.n5z(t)))(u||t)}}(),t.\u0275prov=o.Yz7({token:t,factory:t.\u0275fac}),t})();var n=a(47756),s=a(57409),d=a(40833);class p{constructor(){}}var E=a(16703),O=a(83980),b=a(87983),ee=a(69429),ae=a(52802),me=a(57958),Ie=a(54561),Se=a(69989),de=a(46902),We=a(83941),Rt=a(78609),Ut=a(66427),Et=a(76312),At=a(34044),lt=a(20773);let Jt=(()=>{class t extends Et.g{constructor(r,u,I,V){super(),this.errorLogsStore=r,this.baseUrlService=u,this.messageService=I,this.messagesStore=V}interceptResponse(r){return r.pipe((0,ee.a)(u=>u.pipe((0,ae.M)(this.messagesStore.selectMessages()),(0,me.b)(([I,V],ie)=>{const ue=I.status;if(ie<t.NUMBER_OF_RETRIES&&(ue===C.o.GATEWAY_TIMEOUT||ue===C.o.SERVICE_UNAVAILABLE||ue===C.o.REQUEST_BLOCKED)){!this.isMessageInArray(V,this.connectionIssue)&&0===ie&&(this.connectionIssue=this.messageService.warning(this.getErrorMessage().withDuration(t.MESSAGE_DURATION)));const se=(ie+1)*t.RECONNECT_DELAY;return(0,Y.of)(ue).pipe((0,Ie.g)(se))}return(0,Se._)(I)}))))}getErrorMessage(){return(new de.P).withTitle("SPT_COMMON_JIRA_SERVER_ERROR_INTERCEPTOR_GATEWAY_TIMEOUT_TITLE").withBody(We.H.i18n("SPT_COMMON_JIRA_SERVER_ERROR_INTERCEPTOR_GATEWAY_TIMEOUT_BODY"))}isMessageInArray(r,u){return!(!r||!u)&&r.some(I=>I.uuid===u.uuid)}}return t.MESSAGE_DURATION=1e3,t.NUMBER_OF_RETRIES=4,t.RECONNECT_DELAY=5e3,t.\u0275fac=function(r){return new(r||t)(o.LFG(At.p),o.LFG(lt.x),o.LFG(Rt.e),o.LFG(Ut.O))},t.\u0275prov=o.Yz7({token:t,factory:t.\u0275fac}),t})();var It=a(56385),xt=a(63833),Ct=a(25605),Pt=a(68859),Lt=a(15709),wt=a(77467);let Ot=(()=>{class t extends Et.g{constructor(r,u,I){super(),this.errorLogsStore=r,this.baseUrlService=u,this.messageService=I}interceptResponse(r,u){return r.pipe((0,It.K)(I=>(I.status===C.o.NOT_FOUND&&this.showError(I,u),(0,Se._)(I))))}showError(r,u){this.messageService.error(this.prepareResponseBody(r,u))}prepareResponseBody(r,u){const I=r.message||r.error.description,V=`${this.baseUrlService.getRestBaseUrl()}${Ct.W.REST_URL}support-diagnostic-file.zip`,ie=(new Pt.q.Builder).withBtnClickCallback(()=>{this.downloadLogs(V,u)}).withBtnText("SPT_COMMON_JIRA_SERVER_NOT_FOUND_INTERCEPTOR_BTN_DOWNLOAD").build();return(new de.P).withTitle("SPT_COMMON_JIRA_SERVER_NOT_FOUND_INTERCEPTOR_DEFAULT_TITLE").withDownloadLogsButton(!1).withLinkButton(ie).withBody(We.H.string(I)).withFadeout(!1)}downloadLogs(r,u){u.getFile(r,null,{responseType:Lt.O.ARRAY_BUFFER}).pipe((0,xt.q)(1)).subscribe(I=>{(0,wt.S)(I)})}}return t.\u0275fac=function(r){return new(r||t)(o.LFG(At.p),o.LFG(lt.x),o.LFG(Rt.e,8))},t.\u0275prov=o.Yz7({token:t,factory:t.\u0275fac}),t})();class he extends Et.g{constructor(l,r){super(),this.baseUrlService=l,this.messageService=r}interceptResponse(l,r){return l.pipe((0,It.K)(u=>{const I=u.status;return I>C.o.BAD_REQUEST&&!he.ignoreStatus.some(V=>V===I)?this.showError(u,r):(I===C.o.MISDIRECTED_REQUEST&&this.showMisdirectedRequestError(),(I===C.o.GATEWAY_TIMEOUT||I===C.o.SERVICE_UNAVAILABLE||I===C.o.REQUEST_BLOCKED)&&this.showGatewayError()),(0,Se._)(u)}))}showError(l,r){this.messageService.error(this.prepareResponseBody(l,r))}showMisdirectedRequestError(){this.messageService.error((new de.P).withTitle("SPT_COMMON_JIRA_SERVER_ERROR_INTERCEPTOR_MISDIRECTED_REQUEST_TITLE").withBody(We.H.i18n("SPT_COMMON_JIRA_SERVER_ERROR_INTERCEPTOR_MISDIRECTED_REQUEST_BODY")).withFadeout(!1))}showGatewayError(){this.messageService.error((new de.P).withTitle("SPT_COMMON_JIRA_SERVER_ERROR_INTERCEPTOR_GATEWAY_TIMEOUT_TITLE").withBody(We.H.i18n("SPT_COMMON_JIRA_SERVER_ERROR_INTERCEPTOR_GATEWAY_TIMEOUT_BODY")).withFadeout(!1))}prepareErrorMessage(l){let r="";return l.message&&(r=l.message),l.error&&l.error.description&&(r=l.error.description),r}prepareResponseBody(l,r){const u=this.prepareErrorMessage(l),I=`${this.baseUrlService.getRestBaseUrl()}${Ct.W.REST_URL}support-diagnostic-file.zip`,V=(new Pt.q.Builder).withBtnClickCallback(()=>{this.downloadLogs(I,r)}).withBtnText("SPT_COMMON_JIRA_SERVER_ERROR_INTERCEPTOR_BTN_DOWNLOAD").build();return(new de.P).withTitle("SPT_COMMON_JIRA_SERVER_ERROR_INTERCEPTOR_DEFAULT_TITLE").withDownloadLogsButton(!1).withLinkButton(V).withBody(We.H.string(u)).withFadeout(!1)}downloadLogs(l,r){r.getFile(l,null,{responseType:Lt.O.ARRAY_BUFFER}).pipe((0,xt.q)(1)).subscribe(u=>{(0,wt.S)(u)})}}he.ignoreStatus=[C.o.UNAUTHORIZED,C.o.FORBIDDEN,C.o.NOT_FOUND,C.o.NOT_ACCEPTABLE,C.o.CONFLICT,C.o.UNPROCESSABLE_ENTITY,C.o.UPGRADE_REQUIRED,C.o.TENANT_UNAVAILABLE,C.o.MISDIRECTED_REQUEST,C.o.GROUPING_NOT_POSSIBLE],he.\u0275fac=function(l){return new(l||he)(o.LFG(lt.x),o.LFG(Rt.e,8))},he.\u0275prov=o.Yz7({token:he,factory:he.\u0275fac});var Bt=a(11403);const Dt=[At.p,E.f,Ct.W,Bt.m,{provide:T.O,useClass:O.k},{provide:b.S,useClass:he,multi:!0},{provide:b.S,useClass:Ot,multi:!0},{provide:b.S,useClass:Jt,multi:!0}];let Mt=(()=>{class t{static getProviders(r,u,I){return[...Dt,{provide:Q.B,useClass:r},{provide:F.C,useClass:u},{provide:lt.x,useClass:I}]}}return t.\u0275fac=function(r){return new(r||t)},t.\u0275mod=o.oAB({type:t}),t.\u0275inj=o.cJS({}),t})();var Nt=a(78605);let kt=(()=>{class t{constructor(r){}static forAxios(r,u,I,V,ie){return{ngModule:t,providers:[...Mt.getProviders(r,u,I),...null!=V?V:[],...null!=ie?ie:[]]}}}return t.\u0275fac=function(r){return new(r||t)(o.LFG(E.f))},t.\u0275mod=o.oAB({type:t}),t.\u0275inj=o.cJS({imports:[[Nt.J]]}),t})();var Gt=a(2520),_t=a(18924),Wt=a(68534);let Qt=(()=>{class t extends S.L{getGanttId(){return this.getParam("ganttId")}getPluginKey(){return this.getParam("pluginKey")}getPluginName(){return this.getParam("pluginName")}getRestBaseUrl(){return this.getBaseURL()+"/rest/"+this.getRestBaseUrlParam()+"/1.0/"}getBaseURL(){return this.getParam("application-base-url")}getTaskProviderBaseUrl(){return this.getParam("main-extplatform-base-url")}getMainExtPlatformId(){return this.getParam("main-extplatform-id")}getResourcesUrl(){return this.getBaseURL()+"/download/resources/"+this.getPluginKey()+":"}getServletUrl(){return this.getContextPath()+"/plugins/servlet/"+this.getRestBaseUrlParam()}getContextPath(){return this.getBaseURL()}getRestBaseUrlParam(){return this.getParam("restBaseURL")}getParam(r){return window.sp_parameters&&window.sp_parameters[r]||""}getProjectId(){return this.getParam("projectId")}getIssueId(){const r=new URLSearchParams(window.location.href);return r.has("issueId")?r.get("issueId"):this.getParam("issueId")}getLoggedInUser(){return new _t.n(this.getParam("userKey"),this.getParam("loggedInUserName"))}getUserProfileBaseUrl(){return this.getTaskProviderBaseUrl()+"/jira/secure/ViewProfile.jspa?userKey="}getComponentUrl(r){return this.getTaskProviderBaseUrl()+"/issues/?jql=component="+r}getVersionUrl(r,u){return this.getTaskProviderBaseUrl()+"/browse/"+r+"/fixforversion/"+u}getSprintUrl(r){return this.getTaskProviderBaseUrl()+"/GHGoToBoard.jspa?sprintId="+r}getCurrentIssueUrl(r){return`${this.getBaseURL()}/issues/?jql=assignee=${r}+AND+resolution+is+empty`}getFeedbackEnabled(){return this.getParam("feedbackEnabled")}isBoardLiveSyncGloballyEnabled(){return"true"===this.getParam("boardLiveSyncGloballyEnabled")}isMarkerLiveSyncEnabled(){return"true"===this.getParam("markerLiveSyncEnabled")}isActiveUsersLiveSyncEnabled(){return"true"===this.getParam("activeUsersLiveSyncEnabled")}isOnboardingTourEnabled(){return"true"===this.getParam("isOnboardingTourEnabled")}getSessionToken(){return this.getParam("sessionToken")}isStatisticsCollectionEnabled(){return"true"===this.getParam("statisticsCollectionEnabled")}isReady(){return(0,Y.of)(null)}getProgramModuleUrl(r,u){return this.getServletUrl()+"/"+r+"?program="+u}getPlatformName(){return this.getParam("hostPlatformType")||Wt.i.JIRA_SERVER}getPushServerUrl(){return this.getBaseURL()+"/plugins/servlet/"+this.getRestBaseUrlParam()+"-push-server"}getHelpURL(r){return`https://softwareplant.com/doc/${r}?product=${this.getPluginKey()}&utm_source=app`}}return t.\u0275fac=function(){let l;return function(u){return(l||(l=o.n5z(t)))(u||t)}}(),t.\u0275prov=o.Yz7({token:t,factory:t.\u0275fac}),t})(),jt=(()=>{class t extends p{constructor(r){super(),this.environmentService=r}getPageUrl(r){switch(r){case"gantt_configuration":return`${this.environmentService.getTaskProviderBaseUrl()}/plugins/servlet/ac/\n\t\t\t\t\t${this.environmentService.getPluginKey()}/admin/structure`;case"task_configuration":return`${this.environmentService.getTaskProviderBaseUrl()}/plugins/servlet/ac/\n\t\t\t\t\t${this.environmentService.getPluginKey()}/admin/taskConfig`;case"project_config":return`${this.environmentService.getTaskProviderBaseUrl()}/plugins/servlet/project-config`;default:throw new Error("There is no such jira server page url key: "+r)}}}return t.\u0275fac=function(r){return new(r||t)(o.LFG(S.L))},t.\u0275prov=o.Yz7({token:t,factory:t.\u0275fac}),t})();var bt=a(81410),Ht=a(37865),Yt=a(6631),zt=a(35741);let Kt=(()=>{class t extends zt.X{constructor(r,u){super(r,u),this.cometd3=new Yt.CometD}bayeuxClient(){return this.cometd3}configureTransports(){this.bayeuxClient().unregisterTransport("websocket")}}return t.\u0275fac=function(r){return new(r||t)(o.LFG(S.L),o.LFG(bt.F))},t.\u0275prov=o.Yz7({token:t,factory:t.\u0275fac}),t})(),Vt=(()=>{class t{}return t.\u0275fac=function(r){return new(r||t)},t.\u0275mod=o.oAB({type:t}),t.\u0275inj=o.cJS({providers:[{provide:Ht.E,useClass:Kt},bt.F],imports:[[Te.ez]]}),t})(),$t=(()=>{class t extends Be.f{constructor(r){super(),this.window=r}execute(){this.window.parent.location.reload()}}return t.\u0275fac=function(r){return new(r||t)(o.LFG(m.m))},t.\u0275prov=o.Yz7({token:t,factory:t.\u0275fac}),t})();var Xt=a(47285),Zt=a(65630),qt=a(84911);let er=(()=>{class t{}return t.\u0275fac=function(r){return new(r||t)},t.\u0275mod=o.oAB({type:t}),t.\u0275inj=o.cJS({providers:[Zt.f,{provide:te.i,useClass:ye},{provide:Ye.o,useClass:ze},{provide:Xt.$,useClass:qt.j},{provide:Be.f,useClass:$t},{provide:ke.x,useClass:Ge},{provide:_.v,useClass:J},{provide:st.x,useClass:ut},{provide:n.U,useClass:ut},{provide:_e.O,useClass:e},{provide:s.Z,useClass:Ge},{provide:d.Qq,useClass:d.C},{provide:S.L,useClass:Qt},{provide:ve.s,useClass:je},{provide:g.T,useClass:P},{provide:p,useClass:jt},{provide:Ee.m,useClass:oe},{provide:Je.c,useClass:Ke},{provide:re.L,useClass:fe},{provide:$e.$,useClass:be},{provide:ge.f,useClass:we},{provide:Le._,useClass:Re},{provide:St.Y,useClass:ot},{provide:Fe.S,useValue:He},{provide:Ve.w,useClass:ht},{provide:Oe.E,useClass:vt},{provide:M.p,useClass:B}],imports:[[kt.forAxios(j,D,q.$),pt.forRoot(),G.g.forRoot(A),Gt.r.forRoot(xe),f.forRoot(),Vt,it,x.c]]}),t})()},83803:(ne,k,a)=>{"use strict";a.d(k,{$:()=>B});var M=a(20773),N=a(78375),o=a(84046);let B=(()=>{class G extends M.x{constructor(x){super(),this.paramStorage=x}getRestBaseUrl(){return this.paramStorage.get().applicationBaseUrl}}return G.\u0275fac=function(x){return new(x||G)(o.LFG(N.j))},G.\u0275prov=o.Yz7({token:G,factory:G.\u0275fac}),G})()},24160:(ne,k,a)=>{"use strict";a.d(k,{L:()=>M});class M{}},34323:(ne,k,a)=>{"use strict";a.d(k,{k:()=>x});var M=a(77816),N=a(50870);class o{constructor(U,v,i){this.jqlReservedWords=U,this.visibleFieldNames=v,this.visibleFunctionNames=i}}var B=a(17542),G=function(H,U,v,i){var f,m=arguments.length,c=m<3?U:null===i?i=Object.getOwnPropertyDescriptor(U,v):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(H,U,v,i);else for(var g=H.length-1;g>=0;g--)(f=H[g])&&(c=(m<3?f(c):m>3?f(U,v,c):f(U,v))||c);return m>3&&c&&Object.defineProperty(U,v,c),c},_=function(H,U){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(H,U)};class x extends B.M{static toDomain(U){return new o(U.jqlReservedWords,U.visibleFieldNames,U.visibleFunctionNames)}getClassName(){return"JQLAutocompleteDataDTO"}}G([(0,M.Yl)(),(0,N.XV)({each:!0}),_("design:type",Array)],x.prototype,"jqlReservedWords",void 0),G([(0,M.Yl)(),_("design:type",Array)],x.prototype,"visibleFieldNames",void 0),G([(0,M.Yl)(),_("design:type",Array)],x.prototype,"visibleFunctionNames",void 0)},20821:(ne,k,a)=>{"use strict";a.d(k,{W:()=>o});var M=a(29912),N=a(84046);let o=(()=>{class B{createAbcConfiguration(){return(new M.f).withName("SPT_BOXCONFIG_TASKS_QUICK_FILTERS_NEW_FILTER_QUERY_ABC_NAME").withPlaceholder("SPT_BOXCONFIG_TASKS_QUICK_FILTERS_NEW_FILTER_QUERY_ABC_PLACEHOLDER").withLozengeColor("default").withSaveAsQuickFilterEnabled(!1)}createJqlConfiguration(){return(new M.f).withName("SPT_BOXCONFIG_TASKS_QUICK_FILTERS_NEW_FILTER_QUERY_JQL_NAME").withPlaceholder("SPT_BOXCONFIG_TASKS_QUICK_FILTERS_NEW_FILTER_QUERY_JQL_PLACEHOLDER").withSaveAsQuickFilterEnabled(!1).withQueryLanguageSearch(!0)}}return B.\u0275fac=function(_){return new(_||B)},B.\u0275prov=N.Yz7({token:B,factory:B.\u0275fac}),B})()},53018:(ne,k,a)=>{"use strict";a.d(k,{d:()=>_});var M=a(78295),N=a(84046),o=a(20821);const G=[o.W,{provide:M.Q,useClass:(()=>{class x extends M.Q{constructor(U){super(),this.configurationFactory=U}getStrategies(){return[this.configurationFactory.createAbcConfiguration()]}}return x.\u0275fac=function(U){return new(U||x)(N.LFG(o.W))},x.\u0275prov=N.Yz7({token:x,factory:x.\u0275fac}),x})()}];let _=(()=>{class x{static forRoot(){return{ngModule:x,providers:G}}}return x.\u0275fac=function(U){return new(U||x)},x.\u0275mod=N.oAB({type:x}),x.\u0275inj=N.cJS({}),x})()},40833:(ne,k,a)=>{"use strict";a.d(k,{C:()=>G,AF:()=>B,Qq:()=>M.Q,d8:()=>_.d});var M=a(78295),N=a(84046),o=a(20821);let B=(()=>{class x extends M.Q{constructor(U){super(),this.configurationFactory=U}getStrategies(){return[this.configurationFactory.createJqlConfiguration()]}}return x.\u0275fac=function(U){return new(U||x)(N.LFG(o.W))},x.\u0275prov=N.Yz7({token:x,factory:x.\u0275fac}),x})(),G=(()=>{class x extends M.Q{constructor(U){super(),this.configurationFactory=U}getStrategies(){return[this.configurationFactory.createAbcConfiguration(),this.configurationFactory.createJqlConfiguration()]}}return x.\u0275fac=function(U){return new(U||x)(N.LFG(o.W))},x.\u0275prov=N.Yz7({token:x,factory:x.\u0275fac}),x})();var _=a(53018)},77467:(ne,k,a)=>{"use strict";a.d(k,{S:()=>o});var M=a(13219);function o(G){const _=new Blob([G.data],{type:"application/octet-stream;charset=UTF-8"}),x=function(G){return(/filename="(.*)"/gi.exec(G.headers["content-disposition"]||"")[1]||"untitled").trim()}(G);(0,M.saveAs)(_,x)}},65630:(ne,k,a)=>{"use strict";a.d(k,{f:()=>G});var M=a(32731),N=a(17314),o=a(55331),B=a(84046);let G=(()=>{class _{constructor(H,U,v){this.rendererFactory=H,this.window=U,this.document=v,this.renderer=this.rendererFactory.createRenderer(null,null)}load(){return new M.y(H=>{const U=this.renderer.createElement("script");U.src=_.ISSUE_COLLECTOR_URL,U.onload=()=>{H.next(),H.complete()},this.renderer.appendChild(this.document.body,U)})}}return _.ISSUE_COLLECTOR_URL="https://jira.softwareplant.com/s/c0065398cf08b27e311d39dafa98bb35-T/xdt0f8/805000/3e63071b7f797853c758c4183775e392/3.1.0/_/download/batch/com.atlassian.jira.collector.plugin.jira-issue-collector-plugin:issuecollector-embededjs/com.atlassian.jira.collector.plugin.jira-issue-collector-plugin:issuecollector-embededjs.js?locale=en-US&collectorId=e1137671",_.\u0275fac=function(H){return new(H||_)(B.LFG(B.FYo),B.LFG(N.m),B.LFG(o.K0))},_.\u0275prov=B.Yz7({token:_,factory:_.\u0275fac}),_})()},30763:(ne,k,a)=>{"use strict";function M(N){if(!N&&window.parent.JIRA||N&&window.parent.JIRA&&window.parent.JIRA[N])return window.parent.JIRA;if(!N&&window.JIRA||N&&window.JIRA&&window.JIRA[N])return window.JIRA;var o={Dialogs:{},Meta:{}};return o.Meta.getLoggedInUser=function(){return{name:""}},o.Issues={},o.Issues.Application={},o.Issues.Application.on=function(B,G){},o.Issues.Application.start=function(){},o.Issues.Application.request=function(B){return{setContainer:function(G){},loadIssue:function(G){}}},o.Issues.FocusShifter={},o.Issues.FocusShifter.init=function(){},o.Issues.overrideIssueDialogs=function(B){},o.JQLAutoComplete=function(B){return{disable:function(){}}},o.JQLAutoComplete.MyParser=function(B){},o.bind=function(B,G){},o.unbind=function(){},o.Events={NEW_CONTENT_ADDED:"NEW_CONTENT_ADDED"},o.Version={isGreaterThanOrEqualTo:function(B){return!0}},o.Forms={Container:function(){return{asDialog:function(){return{show:function(){}}}}},CreateIssueModel:function(){},UnconfigurableCreateIssueForm:function(){},ConfigurableCreateIssueForm:function(){},Model:{createQuickEditIssueModel:function(){}}},o.Dialogs.getDefaultAjaxOptions=function(){},o.FormDialog=function(){},o.FormDialog.prototype._getDefaultOptions=function(){},o.FormDialog.prototype._handleSubmitResponse=function(){},o.LabelsDialog=function(){},o.Template={Util:{Issue:{Status:{statusLozenge:function(){},issueStatusResolver:function(){}}}}},o}a.d(k,{u:()=>M})}}]);