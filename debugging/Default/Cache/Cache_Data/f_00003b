var U_=Object.defineProperty,bp=Object.getOwnPropertySymbols,W_=Object.prototype.hasOwnProperty,V_=Object.prototype.propertyIsEnumerable,Bp=(S,g,e)=>g in S?U_(S,g,{enumerable:!0,configurable:!0,writable:!0,value:e}):S[g]=e,wp=(S,g)=>{for(var e in g||(g={}))W_.call(g,e)&&Bp(S,e,g[e]);if(bp)for(var e of bp(g))V_.call(g,e)&&Bp(S,e,g[e]);return S};(self.webpackChunkppm=self.webpackChunkppm||[]).push([[8688],{7264:(S,g,e)=>{"use strict";e.d(g,{vT:()=>o,Is:()=>r});var t=e(84046),n=e(55331);const s=new t.OlP("cdk-dir-doc",{providedIn:"root",factory:function(){return(0,t.f3M)(n.K0)}});let r=(()=>{class d{constructor(p){if(this.value="ltr",this.change=new t.vpe,p){const m=p.documentElement?p.documentElement.dir:null,v=(p.body?p.body.dir:null)||m;this.value="ltr"===v||"rtl"===v?v:"ltr"}}ngOnDestroy(){this.change.complete()}}return d.\u0275fac=function(p){return new(p||d)(t.LFG(s,8))},d.\u0275prov=(0,t.Yz7)({factory:function(){return new d((0,t.LFG)(s,8))},token:d,providedIn:"root"}),d})(),o=(()=>{class d{}return d.\u0275fac=function(p){return new(p||d)},d.\u0275mod=t.oAB({type:d}),d.\u0275inj=t.cJS({}),d})()},85234:(S,g,e)=>{"use strict";e.d(g,{K5:()=>r,hY:()=>f,Vb:()=>rn});
/**
     * @license
     * Copyright Google LLC All Rights Reserved.
     *
     * Use of this source code is governed by an MIT-style license that can be
     * found in the LICENSE file at https://angular.io/license
     */
const r=13,f=27;
/**
     * @license
     * Copyright Google LLC All Rights Reserved.
     *
     * Use of this source code is governed by an MIT-style license that can be
     * found in the LICENSE file at https://angular.io/license
     */function rn(un,...Hn){return Hn.length?Hn.some(oo=>un[oo]):un.altKey||un.shiftKey||un.ctrlKey||un.metaKey}},47455:(S,g,e)=>{"use strict";e.d(g,{pI:()=>Je,xu:()=>Nt,U8:()=>Ge});var t=e(1745),n=e(84046),s=e(35912),i=e(7264),r=e(55331),a=e(15066);
/**
     * @license
     * Copyright Google LLC All Rights Reserved.
     *
     * Use of this source code is governed by an MIT-style license that can be
     * found in the LICENSE file at https://angular.io/license
     */function d(){throw Error("Host already has a portal attached")}class E{attach(Q){return null==Q&&function(){throw Error("Attempting to attach a portal to a null PortalOutlet")}(),Q.hasAttached()&&d(),this._attachedHost=Q,Q.attach(this)}detach(){let Q=this._attachedHost;null==Q?function(){throw Error("Attempting to detach a portal that is not attached to a host")}():(this._attachedHost=null,Q.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(Q){this._attachedHost=Q}}class C extends E{constructor(Q,Ee,ue,be){super(),this.component=Q,this.viewContainerRef=Ee,this.injector=ue,this.componentFactoryResolver=be}}class T extends E{constructor(Q,Ee,ue){super(),this.templateRef=Q,this.viewContainerRef=Ee,this.context=ue}get origin(){return this.templateRef.elementRef}attach(Q,Ee=this.context){return this.context=Ee,super.attach(Q)}detach(){return this.context=void 0,super.detach()}}class y extends E{constructor(Q){super(),this.element=Q instanceof n.SBq?Q.nativeElement:Q}}class F extends class{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(Q){return Q||function(){throw Error("Must provide a portal to attach")}(),this.hasAttached()&&d(),this._isDisposed&&function(){throw Error("This PortalOutlet has already been disposed")}(),Q instanceof C?(this._attachedPortal=Q,this.attachComponentPortal(Q)):Q instanceof T?(this._attachedPortal=Q,this.attachTemplatePortal(Q)):this.attachDomPortal&&Q instanceof y?(this._attachedPortal=Q,this.attachDomPortal(Q)):void function(){throw Error("Attempting to attach an unknown Portal type. BasePortalOutlet accepts either a ComponentPortal or a TemplatePortal.")}()}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(Q){this._disposeFn=Q}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}{constructor(Q,Ee,ue,be,mt){super(),this.outletElement=Q,this._componentFactoryResolver=Ee,this._appRef=ue,this._defaultInjector=be,this.attachDomPortal=Ut=>{if(!this._document)throw Error("Cannot attach DOM portal without _document constructor parameter");const Xt=Ut.element;if(!Xt.parentNode)throw Error("DOM portal content must be attached to a parent node.");const en=this._document.createComment("dom-portal");Xt.parentNode.insertBefore(en,Xt),this.outletElement.appendChild(Xt),super.setDisposeFn(()=>{en.parentNode&&en.parentNode.replaceChild(Xt,en)})},this._document=mt}attachComponentPortal(Q){const ue=(Q.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(Q.component);let be;return Q.viewContainerRef?(be=Q.viewContainerRef.createComponent(ue,Q.viewContainerRef.length,Q.injector||Q.viewContainerRef.injector),this.setDisposeFn(()=>be.destroy())):(be=ue.create(Q.injector||this._defaultInjector),this._appRef.attachView(be.hostView),this.setDisposeFn(()=>{this._appRef.detachView(be.hostView),be.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(be)),be}attachTemplatePortal(Q){let Ee=Q.viewContainerRef,ue=Ee.createEmbeddedView(Q.templateRef,Q.context);return ue.detectChanges(),ue.rootNodes.forEach(be=>this.outletElement.appendChild(be)),this.setDisposeFn(()=>{let be=Ee.indexOf(ue);-1!==be&&Ee.remove(be)}),ue}dispose(){super.dispose(),null!=this.outletElement.parentNode&&this.outletElement.parentNode.removeChild(this.outletElement)}_getComponentRootNode(Q){return Q.hostView.rootNodes[0]}}let K=(()=>{class pt{}return pt.\u0275fac=function(Ee){return new(Ee||pt)},pt.\u0275mod=n.oAB({type:pt}),pt.\u0275inj=n.cJS({}),pt})();
/**
     * @license
     * Copyright Google LLC All Rights Reserved.
     *
     * Use of this source code is governed by an MIT-style license that can be
     * found in the LICENSE file at https://angular.io/license
     */var G=e(90850),$=e(53488),X=e(38009),ie=e(63833),se=e(35811),pe=e(85234);class ve{constructor(Q,Ee){this._viewportRuler=Q,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=Ee}attach(){}enable(){if(this._canBeEnabled()){const Q=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=Q.style.left||"",this._previousHTMLStyles.top=Q.style.top||"",Q.style.left=(0,a.HM)(-this._previousScrollPosition.left),Q.style.top=(0,a.HM)(-this._previousScrollPosition.top),Q.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const Q=this._document.documentElement,ue=Q.style,be=this._document.body.style,mt=ue.scrollBehavior||"",Ut=be.scrollBehavior||"";this._isEnabled=!1,ue.left=this._previousHTMLStyles.left,ue.top=this._previousHTMLStyles.top,Q.classList.remove("cdk-global-scrollblock"),ue.scrollBehavior=be.scrollBehavior="auto",window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),ue.scrollBehavior=mt,be.scrollBehavior=Ut}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const Ee=this._document.body,ue=this._viewportRuler.getViewportSize();return Ee.scrollHeight>ue.height||Ee.scrollWidth>ue.width}}
/**
     * @license
     * Copyright Google LLC All Rights Reserved.
     *
     * Use of this source code is governed by an MIT-style license that can be
     * found in the LICENSE file at https://angular.io/license
     */function ye(){return Error("Scroll strategy has already been attached.")}class Ie{constructor(Q,Ee,ue,be){this._scrollDispatcher=Q,this._ngZone=Ee,this._viewportRuler=ue,this._config=be,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(Q){if(this._overlayRef)throw ye();this._overlayRef=Q}enable(){if(this._scrollSubscription)return;const Q=this._scrollDispatcher.scrolled(0);this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=Q.subscribe(()=>{const Ee=this._viewportRuler.getViewportScrollPosition().top;Math.abs(Ee-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=Q.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}
/**
     * @license
     * Copyright Google LLC All Rights Reserved.
     *
     * Use of this source code is governed by an MIT-style license that can be
     * found in the LICENSE file at https://angular.io/license
     */class He{enable(){}disable(){}attach(){}}
/**
     * @license
     * Copyright Google LLC All Rights Reserved.
     *
     * Use of this source code is governed by an MIT-style license that can be
     * found in the LICENSE file at https://angular.io/license
     */function Ve(pt,Q){return Q.some(Ee=>pt.bottom<Ee.top||pt.top>Ee.bottom||pt.right<Ee.left||pt.left>Ee.right)}function Ue(pt,Q){return Q.some(Ee=>pt.top<Ee.top||pt.bottom>Ee.bottom||pt.left<Ee.left||pt.right>Ee.right)}class gt{constructor(Q,Ee,ue,be){this._scrollDispatcher=Q,this._viewportRuler=Ee,this._ngZone=ue,this._config=be,this._scrollSubscription=null}attach(Q){if(this._overlayRef)throw ye();this._overlayRef=Q}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const Ee=this._overlayRef.overlayElement.getBoundingClientRect(),{width:ue,height:be}=this._viewportRuler.getViewportSize();Ve(Ee,[{width:ue,height:be,bottom:be,right:ue,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let tt=(()=>{class pt{constructor(Ee,ue,be,mt){this._scrollDispatcher=Ee,this._viewportRuler=ue,this._ngZone=be,this.noop=()=>new He,this.close=Ut=>new Ie(this._scrollDispatcher,this._ngZone,this._viewportRuler,Ut),this.block=()=>new ve(this._viewportRuler,this._document),this.reposition=Ut=>new gt(this._scrollDispatcher,this._viewportRuler,this._ngZone,Ut),this._document=mt}}return pt.\u0275fac=function(Ee){return new(Ee||pt)(n.LFG(t.mF),n.LFG(t.rL),n.LFG(n.R0b),n.LFG(r.K0))},pt.\u0275prov=(0,n.Yz7)({factory:function(){return new pt((0,n.LFG)(t.mF),(0,n.LFG)(t.rL),(0,n.LFG)(n.R0b),(0,n.LFG)(r.K0))},token:pt,providedIn:"root"}),pt})();class lt{constructor(Q){if(this.scrollStrategy=new He,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,Q){const Ee=Object.keys(Q);for(const ue of Ee)void 0!==Q[ue]&&(this[ue]=Q[ue])}}}class De{constructor(Q,Ee,ue,be,mt){this.offsetX=ue,this.offsetY=be,this.panelClass=mt,this.originX=Q.originX,this.originY=Q.originY,this.overlayX=Ee.overlayX,this.overlayY=Ee.overlayY}}class Qe{constructor(Q,Ee){this.connectionPair=Q,this.scrollableViewProperties=Ee}}function Ke(pt,Q){if("top"!==Q&&"bottom"!==Q&&"center"!==Q)throw Error(`ConnectedPosition: Invalid ${pt} "${Q}". Expected "top", "bottom" or "center".`)}function it(pt,Q){if("start"!==Q&&"end"!==Q&&"center"!==Q)throw Error(`ConnectedPosition: Invalid ${pt} "${Q}". Expected "start", "end" or "center".`)}let Se=(()=>{class pt{constructor(Ee){this._attachedOverlays=[],this._keydownListener=ue=>{const be=this._attachedOverlays;for(let mt=be.length-1;mt>-1;mt--)if(be[mt]._keydownEvents.observers.length>0){be[mt]._keydownEvents.next(ue);break}},this._document=Ee}ngOnDestroy(){this._detach()}add(Ee){this.remove(Ee),this._isAttached||(this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0),this._attachedOverlays.push(Ee)}remove(Ee){const ue=this._attachedOverlays.indexOf(Ee);ue>-1&&this._attachedOverlays.splice(ue,1),0===this._attachedOverlays.length&&this._detach()}_detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}}return pt.\u0275fac=function(Ee){return new(Ee||pt)(n.LFG(r.K0))},pt.\u0275prov=(0,n.Yz7)({factory:function(){return new pt((0,n.LFG)(r.K0))},token:pt,providedIn:"root"}),pt})();const Vt=!("undefined"==typeof window||!window||!window.__karma__&&!window.jasmine);let St=(()=>{class pt{constructor(Ee,ue){this._platform=ue,this._document=Ee}ngOnDestroy(){const Ee=this._containerElement;Ee&&Ee.parentNode&&Ee.parentNode.removeChild(Ee)}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const Ee=this._platform?this._platform.isBrowser:"undefined"!=typeof window,ue="cdk-overlay-container";if(Ee||Vt){const mt=this._document.querySelectorAll(`.${ue}[platform="server"], .${ue}[platform="test"]`);for(let Ut=0;Ut<mt.length;Ut++)mt[Ut].parentNode.removeChild(mt[Ut])}const be=this._document.createElement("div");be.classList.add(ue),Vt?be.setAttribute("platform","test"):Ee||be.setAttribute("platform","server"),this._document.body.appendChild(be),this._containerElement=be}}return pt.\u0275fac=function(Ee){return new(Ee||pt)(n.LFG(r.K0),n.LFG(s.t4))},pt.\u0275prov=(0,n.Yz7)({factory:function(){return new pt((0,n.LFG)(r.K0),(0,n.LFG)(s.t4))},token:pt,providedIn:"root"}),pt})();class Ft{constructor(Q,Ee,ue,be,mt,Ut,Xt,en){this._portalOutlet=Q,this._host=Ee,this._pane=ue,this._config=be,this._ngZone=mt,this._keyboardDispatcher=Ut,this._document=Xt,this._location=en,this._backdropElement=null,this._backdropClick=new G.xQ,this._attachments=new G.xQ,this._detachments=new G.xQ,this._locationChanges=$.w.EMPTY,this._backdropClickHandler=mn=>this._backdropClick.next(mn),this._keydownEvents=new G.xQ,be.scrollStrategy&&(this._scrollStrategy=be.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=be.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(Q){let Ee=this._portalOutlet.attach(Q);return!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host),this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.asObservable().pipe((0,ie.q)(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&this._location&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),Ee}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const Q=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),Q}dispose(){const Q=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this.detachBackdrop(),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._host&&this._host.parentNode&&(this._host.parentNode.removeChild(this._host),this._host=null),this._previousHostParent=this._pane=null,Q&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick.asObservable()}attachments(){return this._attachments.asObservable()}detachments(){return this._detachments.asObservable()}keydownEvents(){return this._keydownEvents.asObservable()}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(Q){Q!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=Q,this.hasAttached()&&(Q.attach(this),this.updatePosition()))}updateSize(Q){this._config=Object.assign(Object.assign({},this._config),Q),this._updateElementSize()}setDirection(Q){this._config=Object.assign(Object.assign({},this._config),{direction:Q}),this._updateElementDirection()}addPanelClass(Q){this._pane&&this._toggleClasses(this._pane,Q,!0)}removePanelClass(Q){this._pane&&this._toggleClasses(this._pane,Q,!1)}getDirection(){const Q=this._config.direction;return Q?"string"==typeof Q?Q:Q.value:"ltr"}updateScrollStrategy(Q){Q!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=Q,this.hasAttached()&&(Q.attach(this),Q.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const Q=this._pane.style;Q.width=(0,a.HM)(this._config.width),Q.height=(0,a.HM)(this._config.height),Q.minWidth=(0,a.HM)(this._config.minWidth),Q.minHeight=(0,a.HM)(this._config.minHeight),Q.maxWidth=(0,a.HM)(this._config.maxWidth),Q.maxHeight=(0,a.HM)(this._config.maxHeight)}_togglePointerEvents(Q){this._pane.style.pointerEvents=Q?"auto":"none"}_attachBackdrop(){const Q="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),"undefined"!=typeof requestAnimationFrame?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(Q)})}):this._backdropElement.classList.add(Q)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){let Q=this._backdropElement;if(!Q)return;let Ee,ue=()=>{Q&&(Q.removeEventListener("click",this._backdropClickHandler),Q.removeEventListener("transitionend",ue),Q.parentNode&&Q.parentNode.removeChild(Q)),this._backdropElement==Q&&(this._backdropElement=null),this._config.backdropClass&&this._toggleClasses(Q,this._config.backdropClass,!1),clearTimeout(Ee)};Q.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{Q.addEventListener("transitionend",ue)}),Q.style.pointerEvents="none",Ee=this._ngZone.runOutsideAngular(()=>setTimeout(ue,500))}_toggleClasses(Q,Ee,ue){const be=Q.classList;(0,a.Eq)(Ee).forEach(mt=>{mt&&(ue?be.add(mt):be.remove(mt))})}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const Q=this._ngZone.onStable.asObservable().pipe((0,se.R)((0,X.T)(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||0===this._pane.children.length)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._previousHostParent.removeChild(this._host)),Q.unsubscribe())})})}_disposeScrollStrategy(){const Q=this._scrollStrategy;Q&&(Q.disable(),Q.detach&&Q.detach())}}const Me="cdk-overlay-connected-position-bounding-box",Ze=/([A-Za-z%]+)$/;class Ne{constructor(Q,Ee,ue,be,mt){this._viewportRuler=Ee,this._document=ue,this._platform=be,this._overlayContainer=mt,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new G.xQ,this._resizeSubscription=$.w.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges.asObservable(),this.setOrigin(Q)}get positions(){return this._preferredPositions}attach(Q){if(this._overlayRef&&Q!==this._overlayRef)throw Error("This position strategy is already attached to an overlay");this._validatePositions(),Q.hostElement.classList.add(Me),this._overlayRef=Q,this._boundingBox=Q.hostElement,this._pane=Q.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect();const Q=this._originRect,Ee=this._overlayRect,ue=this._viewportRect,be=[];let mt;for(let Ut of this._preferredPositions){let Xt=this._getOriginPoint(Q,Ut),en=this._getOverlayPoint(Xt,Ee,Ut),mn=this._getOverlayFit(en,Ee,ue,Ut);if(mn.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(Ut,Xt);this._canFitWithFlexibleDimensions(mn,en,ue)?be.push({position:Ut,origin:Xt,overlayRect:Ee,boundingBoxRect:this._calculateBoundingBoxRect(Xt,Ut)}):(!mt||mt.overlayFit.visibleArea<mn.visibleArea)&&(mt={overlayFit:mn,overlayPoint:en,originPoint:Xt,position:Ut,overlayRect:Ee})}if(be.length){let Ut=null,Xt=-1;for(const en of be){const mn=en.boundingBoxRect.width*en.boundingBoxRect.height*(en.position.weight||1);mn>Xt&&(Xt=mn,Ut=en)}return this._isPushed=!1,void this._applyPosition(Ut.position,Ut.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(mt.position,mt.originPoint);this._applyPosition(mt.position,mt.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&pn(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(Me),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(!this._isDisposed&&(!this._platform||this._platform.isBrowser)){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect();const Q=this._lastPosition||this._preferredPositions[0],Ee=this._getOriginPoint(this._originRect,Q);this._applyPosition(Q,Ee)}}withScrollableContainers(Q){return this._scrollables=Q,this}withPositions(Q){return this._preferredPositions=Q,-1===Q.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(Q){return this._viewportMargin=Q,this}withFlexibleDimensions(Q=!0){return this._hasFlexibleDimensions=Q,this}withGrowAfterOpen(Q=!0){return this._growAfterOpen=Q,this}withPush(Q=!0){return this._canPush=Q,this}withLockedPosition(Q=!0){return this._positionLocked=Q,this}setOrigin(Q){return this._origin=Q,this}withDefaultOffsetX(Q){return this._offsetX=Q,this}withDefaultOffsetY(Q){return this._offsetY=Q,this}withTransformOriginOn(Q){return this._transformOriginSelector=Q,this}_getOriginPoint(Q,Ee){let ue,be;if("center"==Ee.originX)ue=Q.left+Q.width/2;else{const mt=this._isRtl()?Q.right:Q.left,Ut=this._isRtl()?Q.left:Q.right;ue="start"==Ee.originX?mt:Ut}return be="center"==Ee.originY?Q.top+Q.height/2:"top"==Ee.originY?Q.top:Q.bottom,{x:ue,y:be}}_getOverlayPoint(Q,Ee,ue){let be,mt;return be="center"==ue.overlayX?-Ee.width/2:"start"===ue.overlayX?this._isRtl()?-Ee.width:0:this._isRtl()?0:-Ee.width,mt="center"==ue.overlayY?-Ee.height/2:"top"==ue.overlayY?0:-Ee.height,{x:Q.x+be,y:Q.y+mt}}_getOverlayFit(Q,Ee,ue,be){let{x:mt,y:Ut}=Q,Xt=this._getOffset(be,"x"),en=this._getOffset(be,"y");Xt&&(mt+=Xt),en&&(Ut+=en);let Un=0-Ut,Jn=Ut+Ee.height-ue.height,zn=this._subtractOverflows(Ee.width,0-mt,mt+Ee.width-ue.width),An=this._subtractOverflows(Ee.height,Un,Jn),to=zn*An;return{visibleArea:to,isCompletelyWithinViewport:Ee.width*Ee.height===to,fitsInViewportVertically:An===Ee.height,fitsInViewportHorizontally:zn==Ee.width}}_canFitWithFlexibleDimensions(Q,Ee,ue){if(this._hasFlexibleDimensions){const be=ue.bottom-Ee.y,mt=ue.right-Ee.x,Ut=nn(this._overlayRef.getConfig().minHeight),Xt=nn(this._overlayRef.getConfig().minWidth),mn=Q.fitsInViewportHorizontally||null!=Xt&&Xt<=mt;return(Q.fitsInViewportVertically||null!=Ut&&Ut<=be)&&mn}return!1}_pushOverlayOnScreen(Q,Ee,ue){if(this._previousPushAmount&&this._positionLocked)return{x:Q.x+this._previousPushAmount.x,y:Q.y+this._previousPushAmount.y};const be=this._viewportRect,mt=Math.max(Q.x+Ee.width-be.right,0),Ut=Math.max(Q.y+Ee.height-be.bottom,0),Xt=Math.max(be.top-ue.top-Q.y,0),en=Math.max(be.left-ue.left-Q.x,0);let mn=0,In=0;return mn=Ee.width<=be.width?en||-mt:Q.x<this._viewportMargin?be.left-ue.left-Q.x:0,In=Ee.height<=be.height?Xt||-Ut:Q.y<this._viewportMargin?be.top-ue.top-Q.y:0,this._previousPushAmount={x:mn,y:In},{x:Q.x+mn,y:Q.y+In}}_applyPosition(Q,Ee){if(this._setTransformOrigin(Q),this._setOverlayElementStyles(Ee,Q),this._setBoundingBoxStyles(Ee,Q),Q.panelClass&&this._addPanelClasses(Q.panelClass),this._lastPosition=Q,this._positionChanges.observers.length){const ue=this._getScrollVisibility(),be=new Qe(Q,ue);this._positionChanges.next(be)}this._isInitialRender=!1}_setTransformOrigin(Q){if(!this._transformOriginSelector)return;const Ee=this._boundingBox.querySelectorAll(this._transformOriginSelector);let ue,be=Q.overlayY;ue="center"===Q.overlayX?"center":this._isRtl()?"start"===Q.overlayX?"right":"left":"start"===Q.overlayX?"left":"right";for(let mt=0;mt<Ee.length;mt++)Ee[mt].style.transformOrigin=`${ue} ${be}`}_calculateBoundingBoxRect(Q,Ee){const ue=this._viewportRect,be=this._isRtl();let mt,Ut,Xt,In,Un,Jn;if("top"===Ee.overlayY)Ut=Q.y,mt=ue.height-Ut+this._viewportMargin;else if("bottom"===Ee.overlayY)Xt=ue.height-Q.y+2*this._viewportMargin,mt=ue.height-Xt+this._viewportMargin;else{const zn=Math.min(ue.bottom-Q.y+ue.top,Q.y),An=this._lastBoundingBoxSize.height;mt=2*zn,Ut=Q.y-zn,mt>An&&!this._isInitialRender&&!this._growAfterOpen&&(Ut=Q.y-An/2)}if("end"===Ee.overlayX&&!be||"start"===Ee.overlayX&&be)Jn=ue.width-Q.x+this._viewportMargin,In=Q.x-this._viewportMargin;else if("start"===Ee.overlayX&&!be||"end"===Ee.overlayX&&be)Un=Q.x,In=ue.right-Q.x;else{const zn=Math.min(ue.right-Q.x+ue.left,Q.x),An=this._lastBoundingBoxSize.width;In=2*zn,Un=Q.x-zn,In>An&&!this._isInitialRender&&!this._growAfterOpen&&(Un=Q.x-An/2)}return{top:Ut,left:Un,bottom:Xt,right:Jn,width:In,height:mt}}_setBoundingBoxStyles(Q,Ee){const ue=this._calculateBoundingBoxRect(Q,Ee);!this._isInitialRender&&!this._growAfterOpen&&(ue.height=Math.min(ue.height,this._lastBoundingBoxSize.height),ue.width=Math.min(ue.width,this._lastBoundingBoxSize.width));const be={};if(this._hasExactPosition())be.top=be.left="0",be.bottom=be.right=be.maxHeight=be.maxWidth="",be.width=be.height="100%";else{const mt=this._overlayRef.getConfig().maxHeight,Ut=this._overlayRef.getConfig().maxWidth;be.height=(0,a.HM)(ue.height),be.top=(0,a.HM)(ue.top),be.bottom=(0,a.HM)(ue.bottom),be.width=(0,a.HM)(ue.width),be.left=(0,a.HM)(ue.left),be.right=(0,a.HM)(ue.right),be.alignItems="center"===Ee.overlayX?"center":"end"===Ee.overlayX?"flex-end":"flex-start",be.justifyContent="center"===Ee.overlayY?"center":"bottom"===Ee.overlayY?"flex-end":"flex-start",mt&&(be.maxHeight=(0,a.HM)(mt)),Ut&&(be.maxWidth=(0,a.HM)(Ut))}this._lastBoundingBoxSize=ue,pn(this._boundingBox.style,be)}_resetBoundingBoxStyles(){pn(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){pn(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(Q,Ee){const ue={},be=this._hasExactPosition(),mt=this._hasFlexibleDimensions,Ut=this._overlayRef.getConfig();if(be){const In=this._viewportRuler.getViewportScrollPosition();pn(ue,this._getExactOverlayY(Ee,Q,In)),pn(ue,this._getExactOverlayX(Ee,Q,In))}else ue.position="static";let Xt="",en=this._getOffset(Ee,"x"),mn=this._getOffset(Ee,"y");en&&(Xt+=`translateX(${en}px) `),mn&&(Xt+=`translateY(${mn}px)`),ue.transform=Xt.trim(),Ut.maxHeight&&(be?ue.maxHeight=(0,a.HM)(Ut.maxHeight):mt&&(ue.maxHeight="")),Ut.maxWidth&&(be?ue.maxWidth=(0,a.HM)(Ut.maxWidth):mt&&(ue.maxWidth="")),pn(this._pane.style,ue)}_getExactOverlayY(Q,Ee,ue){let be={top:"",bottom:""},mt=this._getOverlayPoint(Ee,this._overlayRect,Q);this._isPushed&&(mt=this._pushOverlayOnScreen(mt,this._overlayRect,ue));let Ut=this._overlayContainer.getContainerElement().getBoundingClientRect().top;return mt.y-=Ut,"bottom"===Q.overlayY?be.bottom=this._document.documentElement.clientHeight-(mt.y+this._overlayRect.height)+"px":be.top=(0,a.HM)(mt.y),be}_getExactOverlayX(Q,Ee,ue){let Ut,be={left:"",right:""},mt=this._getOverlayPoint(Ee,this._overlayRect,Q);return this._isPushed&&(mt=this._pushOverlayOnScreen(mt,this._overlayRect,ue)),Ut=this._isRtl()?"end"===Q.overlayX?"left":"right":"end"===Q.overlayX?"right":"left","right"===Ut?be.right=this._document.documentElement.clientWidth-(mt.x+this._overlayRect.width)+"px":be.left=(0,a.HM)(mt.x),be}_getScrollVisibility(){const Q=this._getOriginRect(),Ee=this._pane.getBoundingClientRect(),ue=this._scrollables.map(be=>be.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:Ue(Q,ue),isOriginOutsideView:Ve(Q,ue),isOverlayClipped:Ue(Ee,ue),isOverlayOutsideView:Ve(Ee,ue)}}_subtractOverflows(Q,...Ee){return Ee.reduce((ue,be)=>ue-Math.max(be,0),Q)}_getNarrowedViewportRect(){const Q=this._document.documentElement.clientWidth,Ee=this._document.documentElement.clientHeight,ue=this._viewportRuler.getViewportScrollPosition();return{top:ue.top+this._viewportMargin,left:ue.left+this._viewportMargin,right:ue.left+Q-this._viewportMargin,bottom:ue.top+Ee-this._viewportMargin,width:Q-2*this._viewportMargin,height:Ee-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(Q,Ee){return"x"===Ee?null==Q.offsetX?this._offsetX:Q.offsetX:null==Q.offsetY?this._offsetY:Q.offsetY}_validatePositions(){if(!this._preferredPositions.length)throw Error("FlexibleConnectedPositionStrategy: At least one position is required.");this._preferredPositions.forEach(Q=>{it("originX",Q.originX),Ke("originY",Q.originY),it("overlayX",Q.overlayX),Ke("overlayY",Q.overlayY)})}_addPanelClasses(Q){this._pane&&(0,a.Eq)(Q).forEach(Ee=>{""!==Ee&&-1===this._appliedPanelClasses.indexOf(Ee)&&(this._appliedPanelClasses.push(Ee),this._pane.classList.add(Ee))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(Q=>{this._pane.classList.remove(Q)}),this._appliedPanelClasses=[])}_getOriginRect(){const Q=this._origin;if(Q instanceof n.SBq)return Q.nativeElement.getBoundingClientRect();if(Q instanceof Element)return Q.getBoundingClientRect();const Ee=Q.width||0,ue=Q.height||0;return{top:Q.y,bottom:Q.y+ue,left:Q.x,right:Q.x+Ee,height:ue,width:Ee}}}function pn(pt,Q){for(let Ee in Q)Q.hasOwnProperty(Ee)&&(pt[Ee]=Q[Ee]);return pt}function nn(pt){if("number"!=typeof pt&&null!=pt){const[Q,Ee]=pt.split(Ze);return Ee&&"px"!==Ee?null:parseFloat(Q)}return pt||null}class hn{constructor(Q,Ee,ue,be,mt,Ut,Xt){this._preferredPositions=[],this._positionStrategy=new Ne(ue,be,mt,Ut,Xt).withFlexibleDimensions(!1).withPush(!1).withViewportMargin(0),this.withFallbackPosition(Q,Ee)}get _isRtl(){return"rtl"===this._overlayRef.getDirection()}get onPositionChange(){return this._positionStrategy.positionChanges}get positions(){return this._preferredPositions}attach(Q){this._overlayRef=Q,this._positionStrategy.attach(Q),this._direction&&(Q.setDirection(this._direction),this._direction=null)}dispose(){this._positionStrategy.dispose()}detach(){this._positionStrategy.detach()}apply(){this._positionStrategy.apply()}recalculateLastPosition(){this._positionStrategy.reapplyLastPosition()}withScrollableContainers(Q){this._positionStrategy.withScrollableContainers(Q)}withFallbackPosition(Q,Ee,ue,be){const mt=new De(Q,Ee,ue,be);return this._preferredPositions.push(mt),this._positionStrategy.withPositions(this._preferredPositions),this}withDirection(Q){return this._overlayRef?this._overlayRef.setDirection(Q):this._direction=Q,this}withOffsetX(Q){return this._positionStrategy.withDefaultOffsetX(Q),this}withOffsetY(Q){return this._positionStrategy.withDefaultOffsetY(Q),this}withLockedPosition(Q){return this._positionStrategy.withLockedPosition(Q),this}withPositions(Q){return this._preferredPositions=Q.slice(),this._positionStrategy.withPositions(this._preferredPositions),this}setOrigin(Q){return this._positionStrategy.setOrigin(Q),this}}
/**
     * @license
     * Copyright Google LLC All Rights Reserved.
     *
     * Use of this source code is governed by an MIT-style license that can be
     * found in the LICENSE file at https://angular.io/license
     */const xt="cdk-global-overlay-wrapper";class Zt{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._leftOffset="",this._rightOffset="",this._alignItems="",this._justifyContent="",this._width="",this._height=""}attach(Q){const Ee=Q.getConfig();this._overlayRef=Q,this._width&&!Ee.width&&Q.updateSize({width:this._width}),this._height&&!Ee.height&&Q.updateSize({height:this._height}),Q.hostElement.classList.add(xt),this._isDisposed=!1}top(Q=""){return this._bottomOffset="",this._topOffset=Q,this._alignItems="flex-start",this}left(Q=""){return this._rightOffset="",this._leftOffset=Q,this._justifyContent="flex-start",this}bottom(Q=""){return this._topOffset="",this._bottomOffset=Q,this._alignItems="flex-end",this}right(Q=""){return this._leftOffset="",this._rightOffset=Q,this._justifyContent="flex-end",this}width(Q=""){return this._overlayRef?this._overlayRef.updateSize({width:Q}):this._width=Q,this}height(Q=""){return this._overlayRef?this._overlayRef.updateSize({height:Q}):this._height=Q,this}centerHorizontally(Q=""){return this.left(Q),this._justifyContent="center",this}centerVertically(Q=""){return this.top(Q),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const Q=this._overlayRef.overlayElement.style,Ee=this._overlayRef.hostElement.style,ue=this._overlayRef.getConfig(),{width:be,height:mt,maxWidth:Ut,maxHeight:Xt}=ue,en=!("100%"!==be&&"100vw"!==be||Ut&&"100%"!==Ut&&"100vw"!==Ut),mn=!("100%"!==mt&&"100vh"!==mt||Xt&&"100%"!==Xt&&"100vh"!==Xt);Q.position=this._cssPosition,Q.marginLeft=en?"0":this._leftOffset,Q.marginTop=mn?"0":this._topOffset,Q.marginBottom=this._bottomOffset,Q.marginRight=this._rightOffset,en?Ee.justifyContent="flex-start":"center"===this._justifyContent?Ee.justifyContent="center":"rtl"===this._overlayRef.getConfig().direction?"flex-start"===this._justifyContent?Ee.justifyContent="flex-end":"flex-end"===this._justifyContent&&(Ee.justifyContent="flex-start"):Ee.justifyContent=this._justifyContent,Ee.alignItems=mn?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const Q=this._overlayRef.overlayElement.style,Ee=this._overlayRef.hostElement,ue=Ee.style;Ee.classList.remove(xt),ue.justifyContent=ue.alignItems=Q.marginTop=Q.marginBottom=Q.marginLeft=Q.marginRight=Q.position="",this._overlayRef=null,this._isDisposed=!0}}let je=(()=>{class pt{constructor(Ee,ue,be,mt){this._viewportRuler=Ee,this._document=ue,this._platform=be,this._overlayContainer=mt}global(){return new Zt}connectedTo(Ee,ue,be){return new hn(ue,be,Ee,this._viewportRuler,this._document,this._platform,this._overlayContainer)}flexibleConnectedTo(Ee){return new Ne(Ee,this._viewportRuler,this._document,this._platform,this._overlayContainer)}}return pt.\u0275fac=function(Ee){return new(Ee||pt)(n.LFG(t.rL),n.LFG(r.K0),n.LFG(s.t4),n.LFG(St))},pt.\u0275prov=(0,n.Yz7)({factory:function(){return new pt((0,n.LFG)(t.rL),(0,n.LFG)(r.K0),(0,n.LFG)(s.t4),(0,n.LFG)(St))},token:pt,providedIn:"root"}),pt})(),Le=0,vt=(()=>{class pt{constructor(Ee,ue,be,mt,Ut,Xt,en,mn,In,Un){this.scrollStrategies=Ee,this._overlayContainer=ue,this._componentFactoryResolver=be,this._positionBuilder=mt,this._keyboardDispatcher=Ut,this._injector=Xt,this._ngZone=en,this._document=mn,this._directionality=In,this._location=Un}create(Ee){const ue=this._createHostElement(),be=this._createPaneElement(ue),mt=this._createPortalOutlet(be),Ut=new lt(Ee);return Ut.direction=Ut.direction||this._directionality.value,new Ft(mt,ue,be,Ut,this._ngZone,this._keyboardDispatcher,this._document,this._location)}position(){return this._positionBuilder}_createPaneElement(Ee){const ue=this._document.createElement("div");return ue.id="cdk-overlay-"+Le++,ue.classList.add("cdk-overlay-pane"),Ee.appendChild(ue),ue}_createHostElement(){const Ee=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(Ee),Ee}_createPortalOutlet(Ee){return this._appRef||(this._appRef=this._injector.get(n.z2F)),new F(Ee,this._componentFactoryResolver,this._appRef,this._injector,this._document)}}return pt.\u0275fac=function(Ee){return new(Ee||pt)(n.LFG(tt),n.LFG(St),n.LFG(n._Vd),n.LFG(je),n.LFG(Se),n.LFG(n.zs3),n.LFG(n.R0b),n.LFG(r.K0),n.LFG(i.Is),n.LFG(r.Ye,8))},pt.\u0275prov=n.Yz7({token:pt,factory:pt.\u0275fac}),pt})();const qe=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom"},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"}],Et=new n.OlP("cdk-connected-overlay-scroll-strategy");let Nt=(()=>{class pt{constructor(Ee){this.elementRef=Ee}}return pt.\u0275fac=function(Ee){return new(Ee||pt)(n.Y36(n.SBq))},pt.\u0275dir=n.lG2({type:pt,selectors:[["","cdk-overlay-origin",""],["","overlay-origin",""],["","cdkOverlayOrigin",""]],exportAs:["cdkOverlayOrigin"]}),pt})(),Je=(()=>{class pt{constructor(Ee,ue,be,mt,Ut){this._overlay=Ee,this._dir=Ut,this._hasBackdrop=!1,this._lockPosition=!1,this._growAfterOpen=!1,this._flexibleDimensions=!1,this._push=!1,this._backdropSubscription=$.w.EMPTY,this.viewportMargin=0,this.open=!1,this.backdropClick=new n.vpe,this.positionChange=new n.vpe,this.attach=new n.vpe,this.detach=new n.vpe,this.overlayKeydown=new n.vpe,this._templatePortal=new T(ue,be),this._scrollStrategyFactory=mt,this.scrollStrategy=this._scrollStrategyFactory()}get offsetX(){return this._offsetX}set offsetX(Ee){this._offsetX=Ee,this._position&&this._updatePositionStrategy(this._position)}get offsetY(){return this._offsetY}set offsetY(Ee){this._offsetY=Ee,this._position&&this._updatePositionStrategy(this._position)}get hasBackdrop(){return this._hasBackdrop}set hasBackdrop(Ee){this._hasBackdrop=(0,a.Ig)(Ee)}get lockPosition(){return this._lockPosition}set lockPosition(Ee){this._lockPosition=(0,a.Ig)(Ee)}get flexibleDimensions(){return this._flexibleDimensions}set flexibleDimensions(Ee){this._flexibleDimensions=(0,a.Ig)(Ee)}get growAfterOpen(){return this._growAfterOpen}set growAfterOpen(Ee){this._growAfterOpen=(0,a.Ig)(Ee)}get push(){return this._push}set push(Ee){this._push=(0,a.Ig)(Ee)}get overlayRef(){return this._overlayRef}get dir(){return this._dir?this._dir.value:"ltr"}ngOnDestroy(){this._overlayRef&&this._overlayRef.dispose(),this._backdropSubscription.unsubscribe()}ngOnChanges(Ee){this._position&&(this._updatePositionStrategy(this._position),this._overlayRef.updateSize({width:this.width,minWidth:this.minWidth,height:this.height,minHeight:this.minHeight}),Ee.origin&&this.open&&this._position.apply()),Ee.open&&(this.open?this._attachOverlay():this._detachOverlay())}_createOverlay(){(!this.positions||!this.positions.length)&&(this.positions=qe),this._overlayRef=this._overlay.create(this._buildConfig()),this._overlayRef.keydownEvents().subscribe(Ee=>{this.overlayKeydown.next(Ee),Ee.keyCode===pe.hY&&!(0,pe.Vb)(Ee)&&(Ee.preventDefault(),this._detachOverlay())})}_buildConfig(){const Ee=this._position=this.positionStrategy||this._createPositionStrategy(),ue=new lt({direction:this._dir,positionStrategy:Ee,scrollStrategy:this.scrollStrategy,hasBackdrop:this.hasBackdrop});return(this.width||0===this.width)&&(ue.width=this.width),(this.height||0===this.height)&&(ue.height=this.height),(this.minWidth||0===this.minWidth)&&(ue.minWidth=this.minWidth),(this.minHeight||0===this.minHeight)&&(ue.minHeight=this.minHeight),this.backdropClass&&(ue.backdropClass=this.backdropClass),this.panelClass&&(ue.panelClass=this.panelClass),ue}_updatePositionStrategy(Ee){const ue=this.positions.map(be=>({originX:be.originX,originY:be.originY,overlayX:be.overlayX,overlayY:be.overlayY,offsetX:be.offsetX||this.offsetX,offsetY:be.offsetY||this.offsetY,panelClass:be.panelClass||void 0}));return Ee.setOrigin(this.origin.elementRef).withPositions(ue).withFlexibleDimensions(this.flexibleDimensions).withPush(this.push).withGrowAfterOpen(this.growAfterOpen).withViewportMargin(this.viewportMargin).withLockedPosition(this.lockPosition).withTransformOriginOn(this.transformOriginSelector)}_createPositionStrategy(){const Ee=this._overlay.position().flexibleConnectedTo(this.origin.elementRef);return this._updatePositionStrategy(Ee),Ee.positionChanges.subscribe(ue=>this.positionChange.emit(ue)),Ee}_attachOverlay(){this._overlayRef?this._overlayRef.getConfig().hasBackdrop=this.hasBackdrop:this._createOverlay(),this._overlayRef.hasAttached()||(this._overlayRef.attach(this._templatePortal),this.attach.emit()),this.hasBackdrop?this._backdropSubscription=this._overlayRef.backdropClick().subscribe(Ee=>{this.backdropClick.emit(Ee)}):this._backdropSubscription.unsubscribe()}_detachOverlay(){this._overlayRef&&(this._overlayRef.detach(),this.detach.emit()),this._backdropSubscription.unsubscribe()}}return pt.\u0275fac=function(Ee){return new(Ee||pt)(n.Y36(vt),n.Y36(n.Rgc),n.Y36(n.s_b),n.Y36(Et),n.Y36(i.Is,8))},pt.\u0275dir=n.lG2({type:pt,selectors:[["","cdk-connected-overlay",""],["","connected-overlay",""],["","cdkConnectedOverlay",""]],inputs:{viewportMargin:["cdkConnectedOverlayViewportMargin","viewportMargin"],open:["cdkConnectedOverlayOpen","open"],scrollStrategy:["cdkConnectedOverlayScrollStrategy","scrollStrategy"],offsetX:["cdkConnectedOverlayOffsetX","offsetX"],offsetY:["cdkConnectedOverlayOffsetY","offsetY"],hasBackdrop:["cdkConnectedOverlayHasBackdrop","hasBackdrop"],lockPosition:["cdkConnectedOverlayLockPosition","lockPosition"],flexibleDimensions:["cdkConnectedOverlayFlexibleDimensions","flexibleDimensions"],growAfterOpen:["cdkConnectedOverlayGrowAfterOpen","growAfterOpen"],push:["cdkConnectedOverlayPush","push"],positions:["cdkConnectedOverlayPositions","positions"],origin:["cdkConnectedOverlayOrigin","origin"],positionStrategy:["cdkConnectedOverlayPositionStrategy","positionStrategy"],width:["cdkConnectedOverlayWidth","width"],height:["cdkConnectedOverlayHeight","height"],minWidth:["cdkConnectedOverlayMinWidth","minWidth"],minHeight:["cdkConnectedOverlayMinHeight","minHeight"],backdropClass:["cdkConnectedOverlayBackdropClass","backdropClass"],panelClass:["cdkConnectedOverlayPanelClass","panelClass"],transformOriginSelector:["cdkConnectedOverlayTransformOriginOn","transformOriginSelector"]},outputs:{backdropClick:"backdropClick",positionChange:"positionChange",attach:"attach",detach:"detach",overlayKeydown:"overlayKeydown"},exportAs:["cdkConnectedOverlay"],features:[n.TTD]}),pt})();const fe={provide:Et,deps:[vt],useFactory:function(pt){return()=>pt.scrollStrategies.reposition()}};let Ge=(()=>{class pt{}return pt.\u0275fac=function(Ee){return new(Ee||pt)},pt.\u0275mod=n.oAB({type:pt}),pt.\u0275inj=n.cJS({providers:[vt,fe],imports:[[i.vT,K,t.Cl],t.Cl]}),pt})()},35912:(S,g,e)=>{"use strict";e.d(g,{t4:()=>i,ud:()=>r,kV:()=>I,_i:()=>C,i$:()=>f,Mq:()=>E});var t=e(84046),n=e(55331);let s;try{s="undefined"!=typeof Intl&&Intl.v8BreakIterator}catch(P){s=!1}let h,v,T,i=(()=>{class P{constructor(F){this._platformId=F,this.isBrowser=this._platformId?(0,n.NF)(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!s)&&"undefined"!=typeof CSS&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return P.\u0275fac=function(F){return new(F||P)(t.LFG(t.Lbi,8))},P.\u0275prov=(0,t.Yz7)({factory:function(){return new P((0,t.LFG)(t.Lbi,8))},token:P,providedIn:"root"}),P})(),r=(()=>{class P{}return P.\u0275fac=function(F){return new(F||P)},P.\u0275mod=t.oAB({type:P}),P.\u0275inj=t.cJS({}),P})();
/**
     * @license
     * Copyright Google LLC All Rights Reserved.
     *
     * Use of this source code is governed by an MIT-style license that can be
     * found in the LICENSE file at https://angular.io/license
     */function f(P){return function(){if(null==h&&"undefined"!=typeof window)try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>h=!0}))}finally{h=h||!1}return h}()?P:!!P.capture}
/**
     * @license
     * Copyright Google LLC All Rights Reserved.
     *
     * Use of this source code is governed by an MIT-style license that can be
     * found in the LICENSE file at https://angular.io/license
     */function E(){return"object"==typeof document&&"scrollBehavior"in document.documentElement.style}function C(){if("object"!=typeof document||!document)return 0;if(null==v){const P=document.createElement("div"),L=P.style;P.dir="rtl",L.height="1px",L.width="1px",L.overflow="auto",L.visibility="hidden",L.pointerEvents="none",L.position="absolute";const F=document.createElement("div"),b=F.style;b.width="2px",b.height="1px",P.appendChild(F),document.body.appendChild(P),v=0,0===P.scrollLeft&&(P.scrollLeft=1,v=0===P.scrollLeft?1:2),P.parentNode.removeChild(P)}return v}
/**
     * @license
     * Copyright Google LLC All Rights Reserved.
     *
     * Use of this source code is governed by an MIT-style license that can be
     * found in the LICENSE file at https://angular.io/license
     */function I(P){if(function(){if(null==T){const P="undefined"!=typeof document?document.head:null;T=!(!P||!P.createShadowRoot&&!P.attachShadow)}return T}()){const L=P.getRootNode?P.getRootNode():null;if("undefined"!=typeof ShadowRoot&&ShadowRoot&&L instanceof ShadowRoot)return L}return null}},1745:(S,g,e)=>{"use strict";e.d(g,{ZD:()=>Ye,mF:()=>He,Cl:()=>Qe,rL:()=>gt}),e(15066);var n=e(84046),s=e(90850),i=e(53339),r=e(32731),a=e(73197),o=e(38009),v=(e(19335),e(94485),e(53488),e(49820),e(96105),e(98254)),E=e(70822),L=(e(35811),e(43349),e(90081),e(98274),e(74582),e(35912)),F=e(55331),b=e(7264);
/**
     * @license
     * Copyright Google LLC All Rights Reserved.
     *
     * Use of this source code is governed by an MIT-style license that can be
     * found in the LICENSE file at https://angular.io/license
     */let He=(()=>{class Ke{constructor(Se,Ct,Lt){this._ngZone=Se,this._platform=Ct,this._scrolled=new s.xQ,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=Lt}register(Se){this.scrollContainers.has(Se)||this.scrollContainers.set(Se,Se.elementScrolled().subscribe(()=>this._scrolled.next(Se)))}deregister(Se){const Ct=this.scrollContainers.get(Se);Ct&&(Ct.unsubscribe(),this.scrollContainers.delete(Se))}scrolled(Se=20){return this._platform.isBrowser?new r.y(Ct=>{this._globalSubscription||this._addGlobalListener();const Lt=Se>0?this._scrolled.pipe((0,v.e)(Se)).subscribe(Ct):this._scrolled.subscribe(Ct);return this._scrolledCount++,()=>{Lt.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):(0,i.of)()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((Se,Ct)=>this.deregister(Ct)),this._scrolled.complete()}ancestorScrolled(Se,Ct){const Lt=this.getAncestorScrollContainers(Se);return this.scrolled(Ct).pipe((0,E.h)(Vt=>!Vt||Lt.indexOf(Vt)>-1))}getAncestorScrollContainers(Se){const Ct=[];return this.scrollContainers.forEach((Lt,Vt)=>{this._scrollableContainsElement(Vt,Se)&&Ct.push(Vt)}),Ct}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_scrollableContainsElement(Se,Ct){let Lt=Ct.nativeElement,Vt=Se.getElementRef().nativeElement;do{if(Lt==Vt)return!0}while(Lt=Lt.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>{const Se=this._getWindow();return(0,a.R)(Se.document,"scroll").subscribe(()=>this._scrolled.next())})}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}return Ke.\u0275fac=function(Se){return new(Se||Ke)(n.LFG(n.R0b),n.LFG(L.t4),n.LFG(F.K0,8))},Ke.\u0275prov=(0,n.Yz7)({factory:function(){return new Ke((0,n.LFG)(n.R0b),(0,n.LFG)(L.t4),(0,n.LFG)(F.K0,8))},token:Ke,providedIn:"root"}),Ke})(),gt=(()=>{class Ke{constructor(Se,Ct,Lt){this._platform=Se,this._document=Lt,Ct.runOutsideAngular(()=>{const Vt=this._getWindow();this._change=Se.isBrowser?(0,o.T)((0,a.R)(Vt,"resize"),(0,a.R)(Vt,"orientationchange")):(0,i.of)(),this._invalidateCache=this.change().subscribe(()=>this._updateViewportSize())})}ngOnDestroy(){this._invalidateCache.unsubscribe()}getViewportSize(){this._viewportSize||this._updateViewportSize();const Se={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),Se}getViewportRect(){const Se=this.getViewportScrollPosition(),{width:Ct,height:Lt}=this.getViewportSize();return{top:Se.top,left:Se.left,bottom:Se.top+Lt,right:Se.left+Ct,height:Lt,width:Ct}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const Se=this._getDocument(),Ct=this._getWindow(),Lt=Se.documentElement,Vt=Lt.getBoundingClientRect();return{top:-Vt.top||Se.body.scrollTop||Ct.scrollY||Lt.scrollTop||0,left:-Vt.left||Se.body.scrollLeft||Ct.scrollX||Lt.scrollLeft||0}}change(Se=20){return Se>0?this._change.pipe((0,v.e)(Se)):this._change}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_updateViewportSize(){const Se=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:Se.innerWidth,height:Se.innerHeight}:{width:0,height:0}}}return Ke.\u0275fac=function(Se){return new(Se||Ke)(n.LFG(L.t4),n.LFG(n.R0b),n.LFG(F.K0,8))},Ke.\u0275prov=(0,n.Yz7)({factory:function(){return new Ke((0,n.LFG)(L.t4),(0,n.LFG)(n.R0b),(0,n.LFG)(F.K0,8))},token:Ke,providedIn:"root"}),Ke})(),Ye=(()=>{class Ke{}return Ke.\u0275fac=function(Se){return new(Se||Ke)},Ke.\u0275mod=n.oAB({type:Ke}),Ke.\u0275inj=n.cJS({}),Ke})(),Qe=(()=>{class Ke{}return Ke.\u0275fac=function(Se){return new(Se||Ke)},Ke.\u0275mod=n.oAB({type:Ke}),Ke.\u0275inj=n.cJS({imports:[[b.vT,L.ud,Ye],b.vT,Ye]}),Ke})()},15066:(S,g,e)=>{"use strict";e.d(g,{Eq:()=>r,Ig:()=>n,HM:()=>a,fI:()=>o,su:()=>s});var t=e(84046);
/**
     * @license
     * Copyright Google LLC All Rights Reserved.
     *
     * Use of this source code is governed by an MIT-style license that can be
     * found in the LICENSE file at https://angular.io/license
     */function n(d){return null!=d&&"false"!=`${d}`}
/**
     * @license
     * Copyright Google LLC All Rights Reserved.
     *
     * Use of this source code is governed by an MIT-style license that can be
     * found in the LICENSE file at https://angular.io/license
     */function s(d,h=0){return function(d){return!isNaN(parseFloat(d))&&!isNaN(Number(d))}
/**
     * @license
     * Copyright Google LLC All Rights Reserved.
     *
     * Use of this source code is governed by an MIT-style license that can be
     * found in the LICENSE file at https://angular.io/license
     */(d)?Number(d):h}function r(d){return Array.isArray(d)?d:[d]}
/**
     * @license
     * Copyright Google LLC All Rights Reserved.
     *
     * Use of this source code is governed by an MIT-style license that can be
     * found in the LICENSE file at https://angular.io/license
     */function a(d){return null==d?"":"string"==typeof d?d:`${d}px`}
/**
     * @license
     * Copyright Google LLC All Rights Reserved.
     *
     * Use of this source code is governed by an MIT-style license that can be
     * found in the LICENSE file at https://angular.io/license
     */function o(d){return d instanceof t.SBq?d.nativeElement:d}
/**
     * @license
     * Copyright Google LLC All Rights Reserved.
     *
     * Use of this source code is governed by an MIT-style license that can be
     * found in the LICENSE file at https://angular.io/license
     */
/**
     * @license
     * Copyright Google LLC All Rights Reserved.
     *
     * Use of this source code is governed by an MIT-style license that can be
     * found in the LICENSE file at https://angular.io/license
     */},70335:(S,g,e)=>{"use strict";e.d(g,{TO:()=>en,Wl:()=>p,Fj:()=>E,Oe:()=>Un,CE:()=>Wt,qu:()=>Qi,NI:()=>mn,oH:()=>sn,u:()=>wt,cw:()=>In,sg:()=>ke,x0:()=>me,u5:()=>Bi,nD:()=>ko,JU:()=>d,a5:()=>De,JJ:()=>it,JL:()=>Se,F:()=>to,On:()=>Sn,YN:()=>Wn,wV:()=>rn,_:()=>bn,UX:()=>ji,EJ:()=>Nn,kI:()=>L,_Y:()=>qt,Kr:()=>We});var t=e(84046),n=e(55331),s=e(79906),i=e(55757),r=e(71726);
/**
     * @license Angular v12.2.12
     * (c) 2010-2021 Google LLC. https://angular.io/
     * License: MIT
     */
/**
     * @license
     * Copyright Google LLC All Rights Reserved.
     *
     * Use of this source code is governed by an MIT-style license that can be
     * found in the LICENSE file at https://angular.io/license
     */let a=(()=>{class ae{constructor(Z,Te){this._renderer=Z,this._elementRef=Te,this.onChange=bt=>{},this.onTouched=()=>{}}setProperty(Z,Te){this._renderer.setProperty(this._elementRef.nativeElement,Z,Te)}registerOnTouched(Z){this.onTouched=Z}registerOnChange(Z){this.onChange=Z}setDisabledState(Z){this.setProperty("disabled",Z)}}return ae.\u0275fac=function(Z){return new(Z||ae)(t.Y36(t.Qsj),t.Y36(t.SBq))},ae.\u0275dir=t.lG2({type:ae}),ae})(),o=(()=>{class ae extends a{}return ae.\u0275fac=function(){let re;return function(Te){return(re||(re=t.n5z(ae)))(Te||ae)}}(),ae.\u0275dir=t.lG2({type:ae,features:[t.qOj]}),ae})();const d=new t.OlP("NgValueAccessor"),h={provide:d,useExisting:(0,t.Gpc)(()=>p),multi:!0};
/**
     * @license
     * Copyright Google LLC All Rights Reserved.
     *
     * Use of this source code is governed by an MIT-style license that can be
     * found in the LICENSE file at https://angular.io/license
     */let p=(()=>{class ae extends o{writeValue(Z){this.setProperty("checked",Z)}}return ae.\u0275fac=function(){let re;return function(Te){return(re||(re=t.n5z(ae)))(Te||ae)}}(),ae.\u0275dir=t.lG2({type:ae,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(Z,Te){1&Z&&t.NdJ("change",function(vn){return Te.onChange(vn.target.checked)})("blur",function(){return Te.onTouched()})},features:[t._Bn([h]),t.qOj]}),ae})();
/**
     * @license
     * Copyright Google LLC All Rights Reserved.
     *
     * Use of this source code is governed by an MIT-style license that can be
     * found in the LICENSE file at https://angular.io/license
     */const f={provide:d,useExisting:(0,t.Gpc)(()=>E),multi:!0},v=new t.OlP("CompositionEventMode");let E=(()=>{class ae extends a{constructor(Z,Te,bt){super(Z,Te),this._compositionMode=bt,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function(){const ae=(0,n.q)()?(0,n.q)().getUserAgent():"";return/android (\d+)/.test(ae.toLowerCase())}())}writeValue(Z){this.setProperty("value",null==Z?"":Z)}_handleInput(Z){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(Z)}_compositionStart(){this._composing=!0}_compositionEnd(Z){this._composing=!1,this._compositionMode&&this.onChange(Z)}}return ae.\u0275fac=function(Z){return new(Z||ae)(t.Y36(t.Qsj),t.Y36(t.SBq),t.Y36(v,8))},ae.\u0275dir=t.lG2({type:ae,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(Z,Te){1&Z&&t.NdJ("input",function(vn){return Te._handleInput(vn.target.value)})("blur",function(){return Te.onTouched()})("compositionstart",function(){return Te._compositionStart()})("compositionend",function(vn){return Te._compositionEnd(vn.target.value)})},features:[t._Bn([f]),t.qOj]}),ae})();
/**
     * @license
     * Copyright Google LLC All Rights Reserved.
     *
     * Use of this source code is governed by an MIT-style license that can be
     * found in the LICENSE file at https://angular.io/license
     */function C(ae){return null==ae||0===ae.length}function T(ae){return null!=ae&&"number"==typeof ae.length}const y=new t.OlP("NgValidators"),I=new t.OlP("NgAsyncValidators"),P=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class L{static min(re){return ae=re,re=>{if(C(re.value)||C(ae))return null;const Z=parseFloat(re.value);return!isNaN(Z)&&Z<ae?{min:{min:ae,actual:re.value}}:null};var ae}static max(re){return ae=re,re=>{if(C(re.value)||C(ae))return null;const Z=parseFloat(re.value);return!isNaN(Z)&&Z>ae?{max:{max:ae,actual:re.value}}:null};var ae}static required(re){return C(re.value)?{required:!0}:null}static requiredTrue(re){return!0===re.value?null:{required:!0}}static email(re){return C((ae=re).value)||P.test(ae.value)?null:{email:!0};var ae}static minLength(re){return ae=re,re=>C(re.value)||!T(re.value)?null:re.value.length<ae?{minlength:{requiredLength:ae,actualLength:re.value.length}}:null;var ae}static maxLength(re){return K(re)}static pattern(re){return function(ae){if(!ae)return G;let re,Z;return"string"==typeof ae?(Z="","^"!==ae.charAt(0)&&(Z+="^"),Z+=ae,"$"!==ae.charAt(ae.length-1)&&(Z+="$"),re=new RegExp(Z)):(Z=ae.toString(),re=ae),Te=>{if(C(Te.value))return null;const bt=Te.value;return re.test(bt)?null:{pattern:{requiredPattern:Z,actualValue:bt}}}}(re)}static nullValidator(re){return null}static compose(re){return Ce(re)}static composeAsync(re){return de(re)}}function K(ae){return re=>T(re.value)&&re.value.length>ae?{maxlength:{requiredLength:ae,actualLength:re.value.length}}:null}function G(ae){return null}function $(ae){return null!=ae}function X(ae){const re=(0,t.QGY)(ae)?(0,s.D)(ae):ae;return(0,t.CqO)(re),re}function ie(ae){let re={};return ae.forEach(Z=>{re=null!=Z?Object.assign(Object.assign({},re),Z):re}),0===Object.keys(re).length?null:re}function se(ae,re){return re.map(Z=>Z(ae))}function ve(ae){return ae.map(re=>function(ae){return!ae.validate}(re)?re:Z=>re.validate(Z))}function Ce(ae){if(!ae)return null;const re=ae.filter($);return 0==re.length?null:function(Z){return ie(se(Z,re))}}function ye(ae){return null!=ae?Ce(ve(ae)):null}function de(ae){if(!ae)return null;const re=ae.filter($);return 0==re.length?null:function(Z){const Te=se(Z,re).map(X);return(0,i.D)(Te).pipe((0,r.U)(ie))}}function Ie(ae){return null!=ae?de(ve(ae)):null}function He(ae,re){return null===ae?[re]:Array.isArray(ae)?[...ae,re]:[ae,re]}function Ve(ae){return ae._rawValidators}function Ue(ae){return ae._rawAsyncValidators}function xe(ae){return ae?Array.isArray(ae)?ae:[ae]:[]}function gt(ae,re){return Array.isArray(ae)?ae.includes(re):ae===re}function tt(ae,re){const Z=xe(re);return xe(ae).forEach(bt=>{gt(Z,bt)||Z.push(bt)}),Z}function lt(ae,re){return xe(re).filter(Z=>!gt(ae,Z))}
/**
     * @license
     * Copyright Google LLC All Rights Reserved.
     *
     * Use of this source code is governed by an MIT-style license that can be
     * found in the LICENSE file at https://angular.io/license
     */let Mt=(()=>{class ae{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(Z){this._rawValidators=Z||[],this._composedValidatorFn=ye(this._rawValidators)}_setAsyncValidators(Z){this._rawAsyncValidators=Z||[],this._composedAsyncValidatorFn=Ie(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(Z){this._onDestroyCallbacks.push(Z)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(Z=>Z()),this._onDestroyCallbacks=[]}reset(Z){this.control&&this.control.reset(Z)}hasError(Z,Te){return!!this.control&&this.control.hasError(Z,Te)}getError(Z,Te){return this.control?this.control.getError(Z,Te):null}}
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */
return ae.\u0275fac=function(Z){return new(Z||ae)},ae.\u0275dir=t.lG2({type:ae}),ae})(),ne=(()=>{class ae extends Mt{get formDirective(){return null}get path(){return null}}
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */
return ae.\u0275fac=function(){let re;return function(Te){return(re||(re=t.n5z(ae)))(Te||ae)}}(),ae.\u0275dir=t.lG2({type:ae,features:[t.qOj]}),ae})();class De extends Mt{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}
/**
     * @license
     * Copyright Google LLC All Rights Reserved.
     *
     * Use of this source code is governed by an MIT-style license that can be
     * found in the LICENSE file at https://angular.io/license
     */class Ye{constructor(re){this._cd=re}is(re){var Z,Te,bt;return"submitted"===re?!!(null===(Z=this._cd)||void 0===Z?void 0:Z.submitted):!!(null===(bt=null===(Te=this._cd)||void 0===Te?void 0:Te.control)||void 0===bt?void 0:bt[re])}}let it=(()=>{class ae extends Ye{constructor(Z){super(Z)}}return ae.\u0275fac=function(Z){return new(Z||ae)(t.Y36(De,2))},ae.\u0275dir=t.lG2({type:ae,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(Z,Te){2&Z&&t.ekj("ng-untouched",Te.is("untouched"))("ng-touched",Te.is("touched"))("ng-pristine",Te.is("pristine"))("ng-dirty",Te.is("dirty"))("ng-valid",Te.is("valid"))("ng-invalid",Te.is("invalid"))("ng-pending",Te.is("pending"))},features:[t.qOj]}),ae})(),Se=(()=>{class ae extends Ye{constructor(Z){super(Z)}}return ae.\u0275fac=function(Z){return new(Z||ae)(t.Y36(ne,10))},ae.\u0275dir=t.lG2({type:ae,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(Z,Te){2&Z&&t.ekj("ng-untouched",Te.is("untouched"))("ng-touched",Te.is("touched"))("ng-pristine",Te.is("pristine"))("ng-dirty",Te.is("dirty"))("ng-valid",Te.is("valid"))("ng-invalid",Te.is("invalid"))("ng-pending",Te.is("pending"))("ng-submitted",Te.is("submitted"))},features:[t.qOj]}),ae})();
/**
     * @license
     * Copyright Google LLC All Rights Reserved.
     *
     * Use of this source code is governed by an MIT-style license that can be
     * found in the LICENSE file at https://angular.io/license
     */
/**
     * @license
     * Copyright Google LLC All Rights Reserved.
     *
     * Use of this source code is governed by an MIT-style license that can be
     * found in the LICENSE file at https://angular.io/license
     */
function At(ae,re){return[...re.path,ae]}function Rt(ae,re){pn(ae,re),re.valueAccessor.writeValue(ae.value),function(ae,re){re.valueAccessor.registerOnChange(Z=>{ae._pendingValue=Z,ae._pendingChange=!0,ae._pendingDirty=!0,"change"===ae.updateOn&&Zt(ae,re)})}(ae,re),function(ae,re){const Z=(Te,bt)=>{re.valueAccessor.writeValue(Te),bt&&re.viewToModelUpdate(Te)};ae.registerOnChange(Z),re._registerOnDestroy(()=>{ae._unregisterOnChange(Z)})}(ae,re),function(ae,re){re.valueAccessor.registerOnTouched(()=>{ae._pendingTouched=!0,"blur"===ae.updateOn&&ae._pendingChange&&Zt(ae,re),"submit"!==ae.updateOn&&ae.markAsTouched()})}(ae,re),function(ae,re){if(re.valueAccessor.setDisabledState){const Z=Te=>{re.valueAccessor.setDisabledState(Te)};ae.registerOnDisabledChange(Z),re._registerOnDestroy(()=>{ae._unregisterOnDisabledChange(Z)})}}(ae,re)}function zt(ae,re,Z=!0){const Te=()=>{};re.valueAccessor&&(re.valueAccessor.registerOnChange(Te),re.valueAccessor.registerOnTouched(Te)),nn(ae,re),ae&&(re._invokeOnDestroyCallbacks(),ae._registerOnCollectionChange(()=>{}))}function Yt(ae,re){ae.forEach(Z=>{Z.registerOnValidatorChange&&Z.registerOnValidatorChange(re)})}function pn(ae,re){const Z=Ve(ae);null!==re.validator?ae.setValidators(He(Z,re.validator)):"function"==typeof Z&&ae.setValidators([Z]);const Te=Ue(ae);null!==re.asyncValidator?ae.setAsyncValidators(He(Te,re.asyncValidator)):"function"==typeof Te&&ae.setAsyncValidators([Te]);const bt=()=>ae.updateValueAndValidity();Yt(re._rawValidators,bt),Yt(re._rawAsyncValidators,bt)}function nn(ae,re){let Z=!1;if(null!==ae){if(null!==re.validator){const bt=Ve(ae);if(Array.isArray(bt)&&bt.length>0){const vn=bt.filter(eo=>eo!==re.validator);vn.length!==bt.length&&(Z=!0,ae.setValidators(vn))}}if(null!==re.asyncValidator){const bt=Ue(ae);if(Array.isArray(bt)&&bt.length>0){const vn=bt.filter(eo=>eo!==re.asyncValidator);vn.length!==bt.length&&(Z=!0,ae.setAsyncValidators(vn))}}}const Te=()=>{};return Yt(re._rawValidators,Te),Yt(re._rawAsyncValidators,Te),Z}function Zt(ae,re){ae._pendingDirty&&ae.markAsDirty(),ae.setValue(ae._pendingValue,{emitModelToViewChange:!1}),re.viewToModelUpdate(ae._pendingValue),ae._pendingChange=!1}function Le(ae,re){pn(ae,re)}function st(ae,re){if(!ae.hasOwnProperty("model"))return!1;const Z=ae.model;return!!Z.isFirstChange()||!Object.is(re,Z.currentValue)}function Je(ae,re){ae._syncPendingControls(),re.forEach(Z=>{const Te=Z.control;"submit"===Te.updateOn&&Te._pendingChange&&(Z.viewToModelUpdate(Te._pendingValue),Te._pendingChange=!1)})}function Ot(ae,re){if(!re)return null;let Z,Te,bt;return Array.isArray(re),re.forEach(vn=>{vn.constructor===E?Z=vn:function(ae){return Object.getPrototypeOf(ae.constructor)===o}(vn)?Te=vn:bt=vn}),bt||Te||Z||null}function fe(ae,re){const Z=ae.indexOf(re);Z>-1&&ae.splice(Z,1)}
/**
     * @license
     * Copyright Google LLC All Rights Reserved.
     *
     * Use of this source code is governed by an MIT-style license that can be
     * found in the LICENSE file at https://angular.io/license
     */
const Tt="VALID",Pe="INVALID",pt="PENDING",Q="DISABLED";function ue(ae){return(Xt(ae)?ae.validators:ae)||null}function be(ae){return Array.isArray(ae)?ye(ae):ae||null}function mt(ae,re){return(Xt(re)?re.asyncValidators:ae)||null}function Ut(ae){return Array.isArray(ae)?Ie(ae):ae||null}function Xt(ae){return null!=ae&&!Array.isArray(ae)&&"object"==typeof ae}class en{constructor(re,Z){this._hasOwnPendingAsyncValidator=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=re,this._rawAsyncValidators=Z,this._composedValidatorFn=be(this._rawValidators),this._composedAsyncValidatorFn=Ut(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(re){this._rawValidators=this._composedValidatorFn=re}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(re){this._rawAsyncValidators=this._composedAsyncValidatorFn=re}get parent(){return this._parent}get valid(){return this.status===Tt}get invalid(){return this.status===Pe}get pending(){return this.status==pt}get disabled(){return this.status===Q}get enabled(){return this.status!==Q}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(re){this._rawValidators=re,this._composedValidatorFn=be(re)}setAsyncValidators(re){this._rawAsyncValidators=re,this._composedAsyncValidatorFn=Ut(re)}addValidators(re){this.setValidators(tt(re,this._rawValidators))}addAsyncValidators(re){this.setAsyncValidators(tt(re,this._rawAsyncValidators))}removeValidators(re){this.setValidators(lt(re,this._rawValidators))}removeAsyncValidators(re){this.setAsyncValidators(lt(re,this._rawAsyncValidators))}hasValidator(re){return gt(this._rawValidators,re)}hasAsyncValidator(re){return gt(this._rawAsyncValidators,re)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(re={}){this.touched=!0,this._parent&&!re.onlySelf&&this._parent.markAsTouched(re)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(re=>re.markAllAsTouched())}markAsUntouched(re={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(Z=>{Z.markAsUntouched({onlySelf:!0})}),this._parent&&!re.onlySelf&&this._parent._updateTouched(re)}markAsDirty(re={}){this.pristine=!1,this._parent&&!re.onlySelf&&this._parent.markAsDirty(re)}markAsPristine(re={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(Z=>{Z.markAsPristine({onlySelf:!0})}),this._parent&&!re.onlySelf&&this._parent._updatePristine(re)}markAsPending(re={}){this.status=pt,!1!==re.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!re.onlySelf&&this._parent.markAsPending(re)}disable(re={}){const Z=this._parentMarkedDirty(re.onlySelf);this.status=Q,this.errors=null,this._forEachChild(Te=>{Te.disable(Object.assign(Object.assign({},re),{onlySelf:!0}))}),this._updateValue(),!1!==re.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},re),{skipPristineCheck:Z})),this._onDisabledChange.forEach(Te=>Te(!0))}enable(re={}){const Z=this._parentMarkedDirty(re.onlySelf);this.status=Tt,this._forEachChild(Te=>{Te.enable(Object.assign(Object.assign({},re),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:re.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},re),{skipPristineCheck:Z})),this._onDisabledChange.forEach(Te=>Te(!1))}_updateAncestors(re){this._parent&&!re.onlySelf&&(this._parent.updateValueAndValidity(re),re.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(re){this._parent=re}updateValueAndValidity(re={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Tt||this.status===pt)&&this._runAsyncValidator(re.emitEvent)),!1!==re.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!re.onlySelf&&this._parent.updateValueAndValidity(re)}_updateTreeValidity(re={emitEvent:!0}){this._forEachChild(Z=>Z._updateTreeValidity(re)),this.updateValueAndValidity({onlySelf:!0,emitEvent:re.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Q:Tt}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(re){if(this.asyncValidator){this.status=pt,this._hasOwnPendingAsyncValidator=!0;const Z=X(this.asyncValidator(this));this._asyncValidationSubscription=Z.subscribe(Te=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(Te,{emitEvent:re})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(re,Z={}){this.errors=re,this._updateControlsErrors(!1!==Z.emitEvent)}get(re){return function(ae,re,Z){if(null==re||(Array.isArray(re)||(re=re.split(".")),Array.isArray(re)&&0===re.length))return null;let Te=ae;return re.forEach(bt=>{Te=Te instanceof In?Te.controls.hasOwnProperty(bt)?Te.controls[bt]:null:Te instanceof Un&&Te.at(bt)||null}),Te}(this,re)}getError(re,Z){const Te=Z?this.get(Z):this;return Te&&Te.errors?Te.errors[re]:null}hasError(re,Z){return!!this.getError(re,Z)}get root(){let re=this;for(;re._parent;)re=re._parent;return re}_updateControlsErrors(re){this.status=this._calculateStatus(),re&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(re)}_initObservables(){this.valueChanges=new t.vpe,this.statusChanges=new t.vpe}_calculateStatus(){return this._allControlsDisabled()?Q:this.errors?Pe:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(pt)?pt:this._anyControlsHaveStatus(Pe)?Pe:Tt}_anyControlsHaveStatus(re){return this._anyControls(Z=>Z.status===re)}_anyControlsDirty(){return this._anyControls(re=>re.dirty)}_anyControlsTouched(){return this._anyControls(re=>re.touched)}_updatePristine(re={}){this.pristine=!this._anyControlsDirty(),this._parent&&!re.onlySelf&&this._parent._updatePristine(re)}_updateTouched(re={}){this.touched=this._anyControlsTouched(),this._parent&&!re.onlySelf&&this._parent._updateTouched(re)}_isBoxedValue(re){return"object"==typeof re&&null!==re&&2===Object.keys(re).length&&"value"in re&&"disabled"in re}_registerOnCollectionChange(re){this._onCollectionChange=re}_setUpdateStrategy(re){Xt(re)&&null!=re.updateOn&&(this._updateOn=re.updateOn)}_parentMarkedDirty(re){return!re&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class mn extends en{constructor(re=null,Z,Te){super(ue(Z),mt(Te,Z)),this._onChange=[],this._applyFormState(re),this._setUpdateStrategy(Z),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}setValue(re,Z={}){this.value=this._pendingValue=re,this._onChange.length&&!1!==Z.emitModelToViewChange&&this._onChange.forEach(Te=>Te(this.value,!1!==Z.emitViewToModelChange)),this.updateValueAndValidity(Z)}patchValue(re,Z={}){this.setValue(re,Z)}reset(re=null,Z={}){this._applyFormState(re),this.markAsPristine(Z),this.markAsUntouched(Z),this.setValue(this.value,Z),this._pendingChange=!1}_updateValue(){}_anyControls(re){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(re){this._onChange.push(re)}_unregisterOnChange(re){fe(this._onChange,re)}registerOnDisabledChange(re){this._onDisabledChange.push(re)}_unregisterOnDisabledChange(re){fe(this._onDisabledChange,re)}_forEachChild(re){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(re){this._isBoxedValue(re)?(this.value=this._pendingValue=re.value,re.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=re}}class In extends en{constructor(re,Z,Te){super(ue(Z),mt(Te,Z)),this.controls=re,this._initObservables(),this._setUpdateStrategy(Z),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(re,Z){return this.controls[re]?this.controls[re]:(this.controls[re]=Z,Z.setParent(this),Z._registerOnCollectionChange(this._onCollectionChange),Z)}addControl(re,Z,Te={}){this.registerControl(re,Z),this.updateValueAndValidity({emitEvent:Te.emitEvent}),this._onCollectionChange()}removeControl(re,Z={}){this.controls[re]&&this.controls[re]._registerOnCollectionChange(()=>{}),delete this.controls[re],this.updateValueAndValidity({emitEvent:Z.emitEvent}),this._onCollectionChange()}setControl(re,Z,Te={}){this.controls[re]&&this.controls[re]._registerOnCollectionChange(()=>{}),delete this.controls[re],Z&&this.registerControl(re,Z),this.updateValueAndValidity({emitEvent:Te.emitEvent}),this._onCollectionChange()}contains(re){return this.controls.hasOwnProperty(re)&&this.controls[re].enabled}setValue(re,Z={}){this._checkAllValuesPresent(re),Object.keys(re).forEach(Te=>{this._throwIfControlMissing(Te),this.controls[Te].setValue(re[Te],{onlySelf:!0,emitEvent:Z.emitEvent})}),this.updateValueAndValidity(Z)}patchValue(re,Z={}){null!=re&&(Object.keys(re).forEach(Te=>{this.controls[Te]&&this.controls[Te].patchValue(re[Te],{onlySelf:!0,emitEvent:Z.emitEvent})}),this.updateValueAndValidity(Z))}reset(re={},Z={}){this._forEachChild((Te,bt)=>{Te.reset(re[bt],{onlySelf:!0,emitEvent:Z.emitEvent})}),this._updatePristine(Z),this._updateTouched(Z),this.updateValueAndValidity(Z)}getRawValue(){return this._reduceChildren({},(re,Z,Te)=>(re[Te]=Z instanceof mn?Z.value:Z.getRawValue(),re))}_syncPendingControls(){let re=this._reduceChildren(!1,(Z,Te)=>!!Te._syncPendingControls()||Z);return re&&this.updateValueAndValidity({onlySelf:!0}),re}_throwIfControlMissing(re){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[re])throw new Error(`Cannot find form control with name: ${re}.`)}_forEachChild(re){Object.keys(this.controls).forEach(Z=>{const Te=this.controls[Z];Te&&re(Te,Z)})}_setUpControls(){this._forEachChild(re=>{re.setParent(this),re._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(re){for(const Z of Object.keys(this.controls)){const Te=this.controls[Z];if(this.contains(Z)&&re(Te))return!0}return!1}_reduceValue(){return this._reduceChildren({},(re,Z,Te)=>((Z.enabled||this.disabled)&&(re[Te]=Z.value),re))}_reduceChildren(re,Z){let Te=re;return this._forEachChild((bt,vn)=>{Te=Z(Te,bt,vn)}),Te}_allControlsDisabled(){for(const re of Object.keys(this.controls))if(this.controls[re].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_checkAllValuesPresent(re){this._forEachChild((Z,Te)=>{if(void 0===re[Te])throw new Error(`Must supply a value for form control with name: '${Te}'.`)})}}class Un extends en{constructor(re,Z,Te){super(ue(Z),mt(Te,Z)),this.controls=re,this._initObservables(),this._setUpdateStrategy(Z),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(re){return this.controls[re]}push(re,Z={}){this.controls.push(re),this._registerControl(re),this.updateValueAndValidity({emitEvent:Z.emitEvent}),this._onCollectionChange()}insert(re,Z,Te={}){this.controls.splice(re,0,Z),this._registerControl(Z),this.updateValueAndValidity({emitEvent:Te.emitEvent})}removeAt(re,Z={}){this.controls[re]&&this.controls[re]._registerOnCollectionChange(()=>{}),this.controls.splice(re,1),this.updateValueAndValidity({emitEvent:Z.emitEvent})}setControl(re,Z,Te={}){this.controls[re]&&this.controls[re]._registerOnCollectionChange(()=>{}),this.controls.splice(re,1),Z&&(this.controls.splice(re,0,Z),this._registerControl(Z)),this.updateValueAndValidity({emitEvent:Te.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(re,Z={}){this._checkAllValuesPresent(re),re.forEach((Te,bt)=>{this._throwIfControlMissing(bt),this.at(bt).setValue(Te,{onlySelf:!0,emitEvent:Z.emitEvent})}),this.updateValueAndValidity(Z)}patchValue(re,Z={}){null!=re&&(re.forEach((Te,bt)=>{this.at(bt)&&this.at(bt).patchValue(Te,{onlySelf:!0,emitEvent:Z.emitEvent})}),this.updateValueAndValidity(Z))}reset(re=[],Z={}){this._forEachChild((Te,bt)=>{Te.reset(re[bt],{onlySelf:!0,emitEvent:Z.emitEvent})}),this._updatePristine(Z),this._updateTouched(Z),this.updateValueAndValidity(Z)}getRawValue(){return this.controls.map(re=>re instanceof mn?re.value:re.getRawValue())}clear(re={}){this.controls.length<1||(this._forEachChild(Z=>Z._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:re.emitEvent}))}_syncPendingControls(){let re=this.controls.reduce((Z,Te)=>!!Te._syncPendingControls()||Z,!1);return re&&this.updateValueAndValidity({onlySelf:!0}),re}_throwIfControlMissing(re){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(re))throw new Error(`Cannot find form control at index ${re}`)}_forEachChild(re){this.controls.forEach((Z,Te)=>{re(Z,Te)})}_updateValue(){this.value=this.controls.filter(re=>re.enabled||this.disabled).map(re=>re.value)}_anyControls(re){return this.controls.some(Z=>Z.enabled&&re(Z))}_setUpControls(){this._forEachChild(re=>this._registerControl(re))}_checkAllValuesPresent(re){this._forEachChild((Z,Te)=>{if(void 0===re[Te])throw new Error(`Must supply a value for form control at index: ${Te}.`)})}_allControlsDisabled(){for(const re of this.controls)if(re.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(re){re.setParent(this),re._registerOnCollectionChange(this._onCollectionChange)}}
/**
     * @license
     * Copyright Google LLC All Rights Reserved.
     *
     * Use of this source code is governed by an MIT-style license that can be
     * found in the LICENSE file at https://angular.io/license
     */const Jn={provide:ne,useExisting:(0,t.Gpc)(()=>to)},An=(()=>Promise.resolve(null))();let to=(()=>{class ae extends ne{constructor(Z,Te){super(),this.submitted=!1,this._directives=[],this.ngSubmit=new t.vpe,this.form=new In({},ye(Z),Ie(Te))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(Z){An.then(()=>{const Te=this._findContainer(Z.path);Z.control=Te.registerControl(Z.name,Z.control),Rt(Z.control,Z),Z.control.updateValueAndValidity({emitEvent:!1}),this._directives.push(Z)})}getControl(Z){return this.form.get(Z.path)}removeControl(Z){An.then(()=>{const Te=this._findContainer(Z.path);Te&&Te.removeControl(Z.name),fe(this._directives,Z)})}addFormGroup(Z){An.then(()=>{const Te=this._findContainer(Z.path),bt=new In({});Le(bt,Z),Te.registerControl(Z.name,bt),bt.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(Z){An.then(()=>{const Te=this._findContainer(Z.path);Te&&Te.removeControl(Z.name)})}getFormGroup(Z){return this.form.get(Z.path)}updateModel(Z,Te){An.then(()=>{this.form.get(Z.path).setValue(Te)})}setValue(Z){this.control.setValue(Z)}onSubmit(Z){return this.submitted=!0,Je(this.form,this._directives),this.ngSubmit.emit(Z),!1}onReset(){this.resetForm()}resetForm(Z){this.form.reset(Z),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(Z){return Z.pop(),Z.length?this.form.get(Z):this.form}}return ae.\u0275fac=function(Z){return new(Z||ae)(t.Y36(y,10),t.Y36(I,10))},ae.\u0275dir=t.lG2({type:ae,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(Z,Te){1&Z&&t.NdJ("submit",function(vn){return Te.onSubmit(vn)})("reset",function(){return Te.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[t._Bn([Jn]),t.qOj]}),ae})(),no=(()=>{class ae extends ne{ngOnInit(){this._checkParentType(),this.formDirective.addFormGroup(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormGroup(this)}get control(){return this.formDirective.getFormGroup(this)}get path(){return At(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}}return ae.\u0275fac=function(){let re;return function(Te){return(re||(re=t.n5z(ae)))(Te||ae)}}(),ae.\u0275dir=t.lG2({type:ae,features:[t.qOj]}),ae})();
/**
     * @license
     * Copyright Google LLC All Rights Reserved.
     *
     * Use of this source code is governed by an MIT-style license that can be
     * found in the LICENSE file at https://angular.io/license
     */
/**
     * @license
     * Copyright Google LLC All Rights Reserved.
     *
     * Use of this source code is governed by an MIT-style license that can be
     * found in the LICENSE file at https://angular.io/license
     */
const Fe={provide:De,useExisting:(0,t.Gpc)(()=>Sn)},tn=(()=>Promise.resolve(null))();let Sn=(()=>{class ae extends De{constructor(Z,Te,bt,vn){super(),this.control=new mn,this._registered=!1,this.update=new t.vpe,this._parent=Z,this._setValidators(Te),this._setAsyncValidators(bt),this.valueAccessor=Ot(0,vn)}ngOnChanges(Z){this._checkForErrors(),this._registered||this._setUpControl(),"isDisabled"in Z&&this._updateDisabled(Z),st(Z,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._parent?At(this.name,this._parent):[this.name]}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(Z){this.viewModel=Z,this.update.emit(Z)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){Rt(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(Z){tn.then(()=>{this.control.setValue(Z,{emitViewToModelChange:!1})})}_updateDisabled(Z){const Te=Z.isDisabled.currentValue,bt=""===Te||Te&&"false"!==Te;tn.then(()=>{bt&&!this.control.disabled?this.control.disable():!bt&&this.control.disabled&&this.control.enable()})}}return ae.\u0275fac=function(Z){return new(Z||ae)(t.Y36(ne,9),t.Y36(y,10),t.Y36(I,10),t.Y36(d,10))},ae.\u0275dir=t.lG2({type:ae,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[t._Bn([Fe]),t.qOj,t.TTD]}),ae})(),qt=(()=>{class ae{}return ae.\u0275fac=function(Z){return new(Z||ae)},ae.\u0275dir=t.lG2({type:ae,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),ae})();
/**
     * @license
     * Copyright Google LLC All Rights Reserved.
     *
     * Use of this source code is governed by an MIT-style license that can be
     * found in the LICENSE file at https://angular.io/license
     */
/**
     * @license
     * Copyright Google LLC All Rights Reserved.
     *
     * Use of this source code is governed by an MIT-style license that can be
     * found in the LICENSE file at https://angular.io/license
     */
const cn={provide:d,useExisting:(0,t.Gpc)(()=>rn),multi:!0};let rn=(()=>{class ae extends o{writeValue(Z){this.setProperty("value",null==Z?"":Z)}registerOnChange(Z){this.onChange=Te=>{Z(""==Te?null:parseFloat(Te))}}}return ae.\u0275fac=function(){let re;return function(Te){return(re||(re=t.n5z(ae)))(Te||ae)}}(),ae.\u0275dir=t.lG2({type:ae,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(Z,Te){1&Z&&t.NdJ("input",function(vn){return Te.onChange(vn.target.value)})("blur",function(){return Te.onTouched()})},features:[t._Bn([cn]),t.qOj]}),ae})();
/**
     * @license
     * Copyright Google LLC All Rights Reserved.
     *
     * Use of this source code is governed by an MIT-style license that can be
     * found in the LICENSE file at https://angular.io/license
     */const un={provide:d,useExisting:(0,t.Gpc)(()=>bn),multi:!0};let oo=(()=>{class ae{}return ae.\u0275fac=function(Z){return new(Z||ae)},ae.\u0275mod=t.oAB({type:ae}),ae.\u0275inj=t.cJS({}),ae})(),qn=(()=>{class ae{constructor(){this._accessors=[]}add(Z,Te){this._accessors.push([Z,Te])}remove(Z){for(let Te=this._accessors.length-1;Te>=0;--Te)if(this._accessors[Te][1]===Z)return void this._accessors.splice(Te,1)}select(Z){this._accessors.forEach(Te=>{this._isSameGroup(Te,Z)&&Te[1]!==Z&&Te[1].fireUncheck(Z.value)})}_isSameGroup(Z,Te){return!!Z[0].control&&Z[0]._parent===Te._control._parent&&Z[1].name===Te.name}}return ae.\u0275fac=function(Z){return new(Z||ae)},ae.\u0275prov=(0,t.Yz7)({factory:function(){return new ae},token:ae,providedIn:oo}),ae})(),bn=(()=>{class ae extends o{constructor(Z,Te,bt,vn){super(Z,Te),this._registry=bt,this._injector=vn,this.onChange=()=>{}}ngOnInit(){this._control=this._injector.get(De),this._checkName(),this._registry.add(this._control,this)}ngOnDestroy(){this._registry.remove(this)}writeValue(Z){this._state=Z===this.value,this.setProperty("checked",this._state)}registerOnChange(Z){this._fn=Z,this.onChange=()=>{Z(this.value),this._registry.select(this)}}fireUncheck(Z){this.writeValue(Z)}_checkName(){!this.name&&this.formControlName&&(this.name=this.formControlName)}}return ae.\u0275fac=function(Z){return new(Z||ae)(t.Y36(t.Qsj),t.Y36(t.SBq),t.Y36(qn),t.Y36(t.zs3))},ae.\u0275dir=t.lG2({type:ae,selectors:[["input","type","radio","formControlName",""],["input","type","radio","formControl",""],["input","type","radio","ngModel",""]],hostBindings:function(Z,Te){1&Z&&t.NdJ("change",function(){return Te.onChange()})("blur",function(){return Te.onTouched()})},inputs:{name:"name",formControlName:"formControlName",value:"value"},features:[t._Bn([un]),t.qOj]}),ae})();
/**
     * @license
     * Copyright Google LLC All Rights Reserved.
     *
     * Use of this source code is governed by an MIT-style license that can be
     * found in the LICENSE file at https://angular.io/license
     */
/**
     * @license
     * Copyright Google LLC All Rights Reserved.
     *
     * Use of this source code is governed by an MIT-style license that can be
     * found in the LICENSE file at https://angular.io/license
     */
const Do=new t.OlP("NgModelWithFormControlWarning"),_t={provide:De,useExisting:(0,t.Gpc)(()=>sn)};let sn=(()=>{class ae extends De{constructor(Z,Te,bt,vn){super(),this._ngModelWarningConfig=vn,this.update=new t.vpe,this._ngModelWarningSent=!1,this._setValidators(Z),this._setAsyncValidators(Te),this.valueAccessor=Ot(0,bt)}set isDisabled(Z){}ngOnChanges(Z){if(this._isControlChanged(Z)){const Te=Z.form.previousValue;Te&&zt(Te,this,!1),Rt(this.form,this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this.form.updateValueAndValidity({emitEvent:!1})}st(Z,this.viewModel)&&(this.form.setValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.form&&zt(this.form,this,!1)}get path(){return[]}get control(){return this.form}viewToModelUpdate(Z){this.viewModel=Z,this.update.emit(Z)}_isControlChanged(Z){return Z.hasOwnProperty("form")}}return ae.\u0275fac=function(Z){return new(Z||ae)(t.Y36(y,10),t.Y36(I,10),t.Y36(d,10),t.Y36(Do,8))},ae.\u0275dir=t.lG2({type:ae,selectors:[["","formControl",""]],inputs:{isDisabled:["disabled","isDisabled"],form:["formControl","form"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},exportAs:["ngForm"],features:[t._Bn([_t]),t.qOj,t.TTD]}),ae._ngModelWarningSentOnce=!1,ae})();
/**
     * @license
     * Copyright Google LLC All Rights Reserved.
     *
     * Use of this source code is governed by an MIT-style license that can be
     * found in the LICENSE file at https://angular.io/license
     */const _e={provide:ne,useExisting:(0,t.Gpc)(()=>ke)};let ke=(()=>{class ae extends ne{constructor(Z,Te){super(),this.validators=Z,this.asyncValidators=Te,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new t.vpe,this._setValidators(Z),this._setAsyncValidators(Te)}ngOnChanges(Z){this._checkFormPresent(),Z.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(nn(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(Z){const Te=this.form.get(Z.path);return Rt(Te,Z),Te.updateValueAndValidity({emitEvent:!1}),this.directives.push(Z),Te}getControl(Z){return this.form.get(Z.path)}removeControl(Z){zt(Z.control||null,Z,!1),fe(this.directives,Z)}addFormGroup(Z){this._setUpFormContainer(Z)}removeFormGroup(Z){this._cleanUpFormContainer(Z)}getFormGroup(Z){return this.form.get(Z.path)}addFormArray(Z){this._setUpFormContainer(Z)}removeFormArray(Z){this._cleanUpFormContainer(Z)}getFormArray(Z){return this.form.get(Z.path)}updateModel(Z,Te){this.form.get(Z.path).setValue(Te)}onSubmit(Z){return this.submitted=!0,Je(this.form,this.directives),this.ngSubmit.emit(Z),!1}onReset(){this.resetForm()}resetForm(Z){this.form.reset(Z),this.submitted=!1}_updateDomValue(){this.directives.forEach(Z=>{const Te=Z.control,bt=this.form.get(Z.path);Te!==bt&&(zt(Te||null,Z),bt instanceof mn&&(Rt(bt,Z),Z.control=bt))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(Z){const Te=this.form.get(Z.path);Le(Te,Z),Te.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(Z){if(this.form){const Te=this.form.get(Z.path);Te&&function(ae,re){return nn(ae,re)}(Te,Z)&&Te.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){pn(this.form,this),this._oldForm&&nn(this._oldForm,this)}_checkFormPresent(){}}return ae.\u0275fac=function(Z){return new(Z||ae)(t.Y36(y,10),t.Y36(I,10))},ae.\u0275dir=t.lG2({type:ae,selectors:[["","formGroup",""]],hostBindings:function(Z,Te){1&Z&&t.NdJ("submit",function(vn){return Te.onSubmit(vn)})("reset",function(){return Te.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[t._Bn([_e]),t.qOj,t.TTD]}),ae})();
/**
     * @license
     * Copyright Google LLC All Rights Reserved.
     *
     * Use of this source code is governed by an MIT-style license that can be
     * found in the LICENSE file at https://angular.io/license
     */const nt={provide:ne,useExisting:(0,t.Gpc)(()=>me)};let me=(()=>{class ae extends no{constructor(Z,Te,bt){super(),this._parent=Z,this._setValidators(Te),this._setAsyncValidators(bt)}_checkParentType(){It(this._parent)}}return ae.\u0275fac=function(Z){return new(Z||ae)(t.Y36(ne,13),t.Y36(y,10),t.Y36(I,10))},ae.\u0275dir=t.lG2({type:ae,selectors:[["","formGroupName",""]],inputs:{name:["formGroupName","name"]},features:[t._Bn([nt]),t.qOj]}),ae})();const ht={provide:ne,useExisting:(0,t.Gpc)(()=>Wt)};let Wt=(()=>{class ae extends ne{constructor(Z,Te,bt){super(),this._parent=Z,this._setValidators(Te),this._setAsyncValidators(bt)}ngOnInit(){this._checkParentType(),this.formDirective.addFormArray(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormArray(this)}get control(){return this.formDirective.getFormArray(this)}get formDirective(){return this._parent?this._parent.formDirective:null}get path(){return At(null==this.name?this.name:this.name.toString(),this._parent)}_checkParentType(){It(this._parent)}}return ae.\u0275fac=function(Z){return new(Z||ae)(t.Y36(ne,13),t.Y36(y,10),t.Y36(I,10))},ae.\u0275dir=t.lG2({type:ae,selectors:[["","formArrayName",""]],inputs:{name:["formArrayName","name"]},features:[t._Bn([ht]),t.qOj]}),ae})();function It(ae){return!(ae instanceof me||ae instanceof ke||ae instanceof Wt)}
/**
     * @license
     * Copyright Google LLC All Rights Reserved.
     *
     * Use of this source code is governed by an MIT-style license that can be
     * found in the LICENSE file at https://angular.io/license
     */const at={provide:De,useExisting:(0,t.Gpc)(()=>wt)};let wt=(()=>{class ae extends De{constructor(Z,Te,bt,vn,eo){super(),this._ngModelWarningConfig=eo,this._added=!1,this.update=new t.vpe,this._ngModelWarningSent=!1,this._parent=Z,this._setValidators(Te),this._setAsyncValidators(bt),this.valueAccessor=Ot(0,vn)}set isDisabled(Z){}ngOnChanges(Z){this._added||this._setUpControl(),st(Z,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(Z){this.viewModel=Z,this.update.emit(Z)}get path(){return At(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this._added=!0}}return ae.\u0275fac=function(Z){return new(Z||ae)(t.Y36(ne,13),t.Y36(y,10),t.Y36(I,10),t.Y36(d,10),t.Y36(Do,8))},ae.\u0275dir=t.lG2({type:ae,selectors:[["","formControlName",""]],inputs:{isDisabled:["disabled","isDisabled"],name:["formControlName","name"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[t._Bn([at]),t.qOj,t.TTD]}),ae._ngModelWarningSentOnce=!1,ae})();
/**
     * @license
     * Copyright Google LLC All Rights Reserved.
     *
     * Use of this source code is governed by an MIT-style license that can be
     * found in the LICENSE file at https://angular.io/license
     */const jt={provide:d,useExisting:(0,t.Gpc)(()=>Nn),multi:!0};function Tn(ae,re){return null==ae?`${re}`:(re&&"object"==typeof re&&(re="Object"),`${ae}: ${re}`.slice(0,50))}let Nn=(()=>{class ae extends o{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(Z){this._compareWith=Z}writeValue(Z){this.value=Z;const Te=this._getOptionId(Z);null==Te&&this.setProperty("selectedIndex",-1);const bt=Tn(Te,Z);this.setProperty("value",bt)}registerOnChange(Z){this.onChange=Te=>{this.value=this._getOptionValue(Te),Z(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(Z){for(const Te of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(Te),Z))return Te;return null}_getOptionValue(Z){const Te=function(ae){return ae.split(":")[0]}(Z);return this._optionMap.has(Te)?this._optionMap.get(Te):Z}}return ae.\u0275fac=function(){let re;return function(Te){return(re||(re=t.n5z(ae)))(Te||ae)}}(),ae.\u0275dir=t.lG2({type:ae,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(Z,Te){1&Z&&t.NdJ("change",function(vn){return Te.onChange(vn.target.value)})("blur",function(){return Te.onTouched()})},inputs:{compareWith:"compareWith"},features:[t._Bn([jt]),t.qOj]}),ae})(),Wn=(()=>{class ae{constructor(Z,Te,bt){this._element=Z,this._renderer=Te,this._select=bt,this._select&&(this.id=this._select._registerOption())}set ngValue(Z){null!=this._select&&(this._select._optionMap.set(this.id,Z),this._setElementValue(Tn(this.id,Z)),this._select.writeValue(this._select.value))}set value(Z){this._setElementValue(Z),this._select&&this._select.writeValue(this._select.value)}_setElementValue(Z){this._renderer.setProperty(this._element.nativeElement,"value",Z)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return ae.\u0275fac=function(Z){return new(Z||ae)(t.Y36(t.SBq),t.Y36(t.Qsj),t.Y36(Nn,9))},ae.\u0275dir=t.lG2({type:ae,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),ae})();
/**
     * @license
     * Copyright Google LLC All Rights Reserved.
     *
     * Use of this source code is governed by an MIT-style license that can be
     * found in the LICENSE file at https://angular.io/license
     */const Xn={provide:d,useExisting:(0,t.Gpc)(()=>an),multi:!0};function lo(ae,re){return null==ae?`${re}`:("string"==typeof re&&(re=`'${re}'`),re&&"object"==typeof re&&(re="Object"),`${ae}: ${re}`.slice(0,50))}let an=(()=>{class ae extends o{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(Z){this._compareWith=Z}writeValue(Z){let Te;if(this.value=Z,Array.isArray(Z)){const bt=Z.map(vn=>this._getOptionId(vn));Te=(vn,eo)=>{vn._setSelected(bt.indexOf(eo.toString())>-1)}}else Te=(bt,vn)=>{bt._setSelected(!1)};this._optionMap.forEach(Te)}registerOnChange(Z){this.onChange=Te=>{const bt=[];if(void 0!==Te.selectedOptions){const vn=Te.selectedOptions;for(let eo=0;eo<vn.length;eo++){const jo=vn.item(eo),ai=this._getOptionValue(jo.value);bt.push(ai)}}else{const vn=Te.options;for(let eo=0;eo<vn.length;eo++){const jo=vn.item(eo);if(jo.selected){const ai=this._getOptionValue(jo.value);bt.push(ai)}}}this.value=bt,Z(bt)}}_registerOption(Z){const Te=(this._idCounter++).toString();return this._optionMap.set(Te,Z),Te}_getOptionId(Z){for(const Te of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(Te)._value,Z))return Te;return null}_getOptionValue(Z){const Te=function(ae){return ae.split(":")[0]}(Z);return this._optionMap.has(Te)?this._optionMap.get(Te)._value:Z}}return ae.\u0275fac=function(){let re;return function(Te){return(re||(re=t.n5z(ae)))(Te||ae)}}(),ae.\u0275dir=t.lG2({type:ae,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(Z,Te){1&Z&&t.NdJ("change",function(vn){return Te.onChange(vn.target)})("blur",function(){return Te.onTouched()})},inputs:{compareWith:"compareWith"},features:[t._Bn([Xn]),t.qOj]}),ae})(),We=(()=>{class ae{constructor(Z,Te,bt){this._element=Z,this._renderer=Te,this._select=bt,this._select&&(this.id=this._select._registerOption(this))}set ngValue(Z){null!=this._select&&(this._value=Z,this._setElementValue(lo(this.id,Z)),this._select.writeValue(this._select.value))}set value(Z){this._select?(this._value=Z,this._setElementValue(lo(this.id,Z)),this._select.writeValue(this._select.value)):this._setElementValue(Z)}_setElementValue(Z){this._renderer.setProperty(this._element.nativeElement,"value",Z)}_setSelected(Z){this._renderer.setProperty(this._element.nativeElement,"selected",Z)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return ae.\u0275fac=function(Z){return new(Z||ae)(t.Y36(t.SBq),t.Y36(t.Qsj),t.Y36(an,9))},ae.\u0275dir=t.lG2({type:ae,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),ae})();
/**
     * @license
     * Copyright Google LLC All Rights Reserved.
     *
     * Use of this source code is governed by an MIT-style license that can be
     * found in the LICENSE file at https://angular.io/license
     */const Li={provide:y,useExisting:(0,t.Gpc)(()=>ko),multi:!0};let ko=(()=>{class ae{constructor(){this._validator=G}ngOnChanges(Z){"maxlength"in Z&&(this._createValidator(),this._onChange&&this._onChange())}validate(Z){return this.enabled()?this._validator(Z):null}registerOnValidatorChange(Z){this._onChange=Z}_createValidator(){this._validator=this.enabled()?K(function(ae){return"number"==typeof ae?ae:parseInt(ae,10)}(this.maxlength)):G}enabled(){return null!=this.maxlength}}return ae.\u0275fac=function(Z){return new(Z||ae)},ae.\u0275dir=t.lG2({type:ae,selectors:[["","maxlength","","formControlName",""],["","maxlength","","formControl",""],["","maxlength","","ngModel",""]],hostVars:1,hostBindings:function(Z,Te){2&Z&&t.uIk("maxlength",Te.enabled()?Te.maxlength:null)},inputs:{maxlength:"maxlength"},features:[t._Bn([Li]),t.TTD]}),ae})(),fi=(()=>{class ae{}return ae.\u0275fac=function(Z){return new(Z||ae)},ae.\u0275mod=t.oAB({type:ae}),ae.\u0275inj=t.cJS({imports:[[oo]]}),ae})(),Bi=(()=>{class ae{}return ae.\u0275fac=function(Z){return new(Z||ae)},ae.\u0275mod=t.oAB({type:ae}),ae.\u0275inj=t.cJS({imports:[fi]}),ae})(),ji=(()=>{class ae{static withConfig(Z){return{ngModule:ae,providers:[{provide:Do,useValue:Z.warnOnNgModelWithFormControl}]}}}return ae.\u0275fac=function(Z){return new(Z||ae)},ae.\u0275mod=t.oAB({type:ae}),ae.\u0275inj=t.cJS({imports:[fi]}),ae})(),Qi=(()=>{class ae{group(Z,Te=null){const bt=this._reduceControls(Z);let jo,vn=null,eo=null;return null!=Te&&(
/**
     * @license
     * Copyright Google LLC All Rights Reserved.
     *
     * Use of this source code is governed by an MIT-style license that can be
     * found in the LICENSE file at https://angular.io/license
     */
function(ae){return void 0!==ae.asyncValidators||void 0!==ae.validators||void 0!==ae.updateOn}(Te)?(vn=null!=Te.validators?Te.validators:null,eo=null!=Te.asyncValidators?Te.asyncValidators:null,jo=null!=Te.updateOn?Te.updateOn:void 0):(vn=null!=Te.validator?Te.validator:null,eo=null!=Te.asyncValidator?Te.asyncValidator:null)),new In(bt,{asyncValidators:eo,updateOn:jo,validators:vn})}control(Z,Te,bt){return new mn(Z,Te,bt)}array(Z,Te,bt){const vn=Z.map(eo=>this._createControl(eo));return new Un(vn,Te,bt)}_reduceControls(Z){const Te={};return Object.keys(Z).forEach(bt=>{Te[bt]=this._createControl(Z[bt])}),Te}_createControl(Z){return Z instanceof mn||Z instanceof In||Z instanceof Un?Z:Array.isArray(Z)?this.control(Z[0],Z.length>1?Z[1]:null,Z.length>2?Z[2]:null):this.control(Z)}}return ae.\u0275fac=function(Z){return new(Z||ae)},ae.\u0275prov=(0,t.Yz7)({factory:function(){return new ae},token:ae,providedIn:ji}),ae})()}
/**
     * @license
     * Copyright Google LLC All Rights Reserved.
     *
     * Use of this source code is governed by an MIT-style license that can be
     * found in the LICENSE file at https://angular.io/license
     */
/**
     * @license
     * Copyright Google LLC All Rights Reserved.
     *
     * Use of this source code is governed by an MIT-style license that can be
     * found in the LICENSE file at https://angular.io/license
     */
/**
     * @license
     * Copyright Google LLC All Rights Reserved.
     *
     * Use of this source code is governed by an MIT-style license that can be
     * found in the LICENSE file at https://angular.io/license
     */,23376:(S,g,e)=>{"use strict";S=e.hmd(S),function(r){var a,o=r.Symbol;if("function"==typeof o)if(o.observable)a=o.observable;else{a=o.for("https://github.com/benlesh/symbol-observable");try{o.observable=a}catch(d){}}else a="@@observable"}("undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:S)},10794:(S,g,e)=>{S.exports=e(19100)},73874:(S,g,e)=>{"use strict";var t=e(49183),n=e(62329),s=e(11797),i=e(42987),r=e(94650),a=e(45878),o=e(36014),d=e(88410);S.exports=function(p){return new Promise(function(m,v){var E=p.data,C=p.headers;t.isFormData(E)&&delete C["Content-Type"];var T=new XMLHttpRequest;if(p.auth){var y=p.auth.username||"",I=p.auth.password?unescape(encodeURIComponent(p.auth.password)):"";C.Authorization="Basic "+btoa(y+":"+I)}var P=r(p.baseURL,p.url);if(T.open(p.method.toUpperCase(),i(P,p.params,p.paramsSerializer),!0),T.timeout=p.timeout,T.onreadystatechange=function(){if(T&&4===T.readyState&&(0!==T.status||T.responseURL&&0===T.responseURL.indexOf("file:"))){var b="getAllResponseHeaders"in T?a(T.getAllResponseHeaders()):null;n(m,v,{data:p.responseType&&"text"!==p.responseType?T.response:T.responseText,status:T.status,statusText:T.statusText,headers:b,config:p,request:T}),T=null}},T.onabort=function(){!T||(v(d("Request aborted",p,"ECONNABORTED",T)),T=null)},T.onerror=function(){v(d("Network Error",p,null,T)),T=null},T.ontimeout=function(){var b="timeout of "+p.timeout+"ms exceeded";p.timeoutErrorMessage&&(b=p.timeoutErrorMessage),v(d(b,p,"ECONNABORTED",T)),T=null},t.isStandardBrowserEnv()){var L=(p.withCredentials||o(P))&&p.xsrfCookieName?s.read(p.xsrfCookieName):void 0;L&&(C[p.xsrfHeaderName]=L)}if("setRequestHeader"in T&&t.forEach(C,function(b,x){void 0===E&&"content-type"===x.toLowerCase()?delete C[x]:T.setRequestHeader(x,b)}),t.isUndefined(p.withCredentials)||(T.withCredentials=!!p.withCredentials),p.responseType)try{T.responseType=p.responseType}catch(F){if("json"!==p.responseType)throw F}"function"==typeof p.onDownloadProgress&&T.addEventListener("progress",p.onDownloadProgress),"function"==typeof p.onUploadProgress&&T.upload&&T.upload.addEventListener("progress",p.onUploadProgress),p.cancelToken&&p.cancelToken.promise.then(function(b){!T||(T.abort(),v(b),T=null)}),E||(E=null),T.send(E)})}},19100:(S,g,e)=>{"use strict";var t=e(49183),n=e(18931),s=e(90868),i=e(93485);function a(d){var h=new s(d),p=n(s.prototype.request,h);return t.extend(p,s.prototype,h),t.extend(p,h),p}var o=a(e(77969));o.Axios=s,o.create=function(h){return a(i(o.defaults,h))},o.Cancel=e(84029),o.CancelToken=e(75585),o.isCancel=e(75849),o.all=function(h){return Promise.all(h)},o.spread=e(43819),o.isAxiosError=e(49938),S.exports=o,S.exports.default=o},84029:S=>{"use strict";function g(e){this.message=e}g.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},g.prototype.__CANCEL__=!0,S.exports=g},75585:(S,g,e)=>{"use strict";var t=e(84029);function n(s){if("function"!=typeof s)throw new TypeError("executor must be a function.");var i;this.promise=new Promise(function(o){i=o});var r=this;s(function(o){r.reason||(r.reason=new t(o),i(r.reason))})}n.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},n.source=function(){var i;return{token:new n(function(o){i=o}),cancel:i}},S.exports=n},75849:S=>{"use strict";S.exports=function(e){return!(!e||!e.__CANCEL__)}},90868:(S,g,e)=>{"use strict";var t=e(49183),n=e(42987),s=e(49090),i=e(19890),r=e(93485);function a(o){this.defaults=o,this.interceptors={request:new s,response:new s}}a.prototype.request=function(d){"string"==typeof d?(d=arguments[1]||{}).url=arguments[0]:d=d||{},(d=r(this.defaults,d)).method=d.method?d.method.toLowerCase():this.defaults.method?this.defaults.method.toLowerCase():"get";var h=[i,void 0],p=Promise.resolve(d);for(this.interceptors.request.forEach(function(m){h.unshift(m.fulfilled,m.rejected)}),this.interceptors.response.forEach(function(m){h.push(m.fulfilled,m.rejected)});h.length;)p=p.then(h.shift(),h.shift());return p},a.prototype.getUri=function(d){return d=r(this.defaults,d),n(d.url,d.params,d.paramsSerializer).replace(/^\?/,"")},t.forEach(["delete","get","head","options"],function(d){a.prototype[d]=function(h,p){return this.request(r(p||{},{method:d,url:h,data:(p||{}).data}))}}),t.forEach(["post","put","patch"],function(d){a.prototype[d]=function(h,p,f){return this.request(r(f||{},{method:d,url:h,data:p}))}}),S.exports=a},49090:(S,g,e)=>{"use strict";var t=e(49183);function n(){this.handlers=[]}n.prototype.use=function(i,r){return this.handlers.push({fulfilled:i,rejected:r}),this.handlers.length-1},n.prototype.eject=function(i){this.handlers[i]&&(this.handlers[i]=null)},n.prototype.forEach=function(i){t.forEach(this.handlers,function(a){null!==a&&i(a)})},S.exports=n},94650:(S,g,e)=>{"use strict";var t=e(59066),n=e(95562);S.exports=function(i,r){return i&&!t(r)?n(i,r):r}},88410:(S,g,e)=>{"use strict";var t=e(21956);S.exports=function(s,i,r,a,o){var d=new Error(s);return t(d,i,r,a,o)}},19890:(S,g,e)=>{"use strict";var t=e(49183),n=e(77290),s=e(75849),i=e(77969);function r(a){a.cancelToken&&a.cancelToken.throwIfRequested()}S.exports=function(o){return r(o),o.headers=o.headers||{},o.data=n(o.data,o.headers,o.transformRequest),o.headers=t.merge(o.headers.common||{},o.headers[o.method]||{},o.headers),t.forEach(["delete","get","head","post","put","patch","common"],function(p){delete o.headers[p]}),(o.adapter||i.adapter)(o).then(function(p){return r(o),p.data=n(p.data,p.headers,o.transformResponse),p},function(p){return s(p)||(r(o),p&&p.response&&(p.response.data=n(p.response.data,p.response.headers,o.transformResponse))),Promise.reject(p)})}},21956:S=>{"use strict";S.exports=function(e,t,n,s,i){return e.config=t,n&&(e.code=n),e.request=s,e.response=i,e.isAxiosError=!0,e.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code}},e}},93485:(S,g,e)=>{"use strict";var t=e(49183);S.exports=function(s,i){i=i||{};var r={},a=["url","method","data"],o=["headers","auth","proxy","params"],d=["baseURL","transformRequest","transformResponse","paramsSerializer","timeout","timeoutMessage","withCredentials","adapter","responseType","xsrfCookieName","xsrfHeaderName","onUploadProgress","onDownloadProgress","decompress","maxContentLength","maxBodyLength","maxRedirects","transport","httpAgent","httpsAgent","cancelToken","socketPath","responseEncoding"],h=["validateStatus"];function p(E,C){return t.isPlainObject(E)&&t.isPlainObject(C)?t.merge(E,C):t.isPlainObject(C)?t.merge({},C):t.isArray(C)?C.slice():C}function f(E){t.isUndefined(i[E])?t.isUndefined(s[E])||(r[E]=p(void 0,s[E])):r[E]=p(s[E],i[E])}t.forEach(a,function(C){t.isUndefined(i[C])||(r[C]=p(void 0,i[C]))}),t.forEach(o,f),t.forEach(d,function(C){t.isUndefined(i[C])?t.isUndefined(s[C])||(r[C]=p(void 0,s[C])):r[C]=p(void 0,i[C])}),t.forEach(h,function(C){C in i?r[C]=p(s[C],i[C]):C in s&&(r[C]=p(void 0,s[C]))});var m=a.concat(o).concat(d).concat(h),v=Object.keys(s).concat(Object.keys(i)).filter(function(C){return-1===m.indexOf(C)});return t.forEach(v,f),r}},62329:(S,g,e)=>{"use strict";var t=e(88410);S.exports=function(s,i,r){var a=r.config.validateStatus;r.status&&a&&!a(r.status)?i(t("Request failed with status code "+r.status,r.config,null,r.request,r)):s(r)}},77290:(S,g,e)=>{"use strict";var t=e(49183);S.exports=function(s,i,r){return t.forEach(r,function(o){s=o(s,i)}),s}},77969:(S,g,e)=>{"use strict";var t=e(49183),n=e(85625),s={"Content-Type":"application/x-www-form-urlencoded"};function i(o,d){!t.isUndefined(o)&&t.isUndefined(o["Content-Type"])&&(o["Content-Type"]=d)}var o,a={adapter:(("undefined"!=typeof XMLHttpRequest||"undefined"!=typeof process&&"[object process]"===Object.prototype.toString.call(process))&&(o=e(73874)),o),transformRequest:[function(d,h){return n(h,"Accept"),n(h,"Content-Type"),t.isFormData(d)||t.isArrayBuffer(d)||t.isBuffer(d)||t.isStream(d)||t.isFile(d)||t.isBlob(d)?d:t.isArrayBufferView(d)?d.buffer:t.isURLSearchParams(d)?(i(h,"application/x-www-form-urlencoded;charset=utf-8"),d.toString()):t.isObject(d)?(i(h,"application/json;charset=utf-8"),JSON.stringify(d)):d}],transformResponse:[function(d){if("string"==typeof d)try{d=JSON.parse(d)}catch(h){}return d}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,validateStatus:function(d){return d>=200&&d<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};t.forEach(["delete","get","head"],function(d){a.headers[d]={}}),t.forEach(["post","put","patch"],function(d){a.headers[d]=t.merge(s)}),S.exports=a},18931:S=>{"use strict";S.exports=function(e,t){return function(){for(var s=new Array(arguments.length),i=0;i<s.length;i++)s[i]=arguments[i];return e.apply(t,s)}}},42987:(S,g,e)=>{"use strict";var t=e(49183);function n(s){return encodeURIComponent(s).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}S.exports=function(i,r,a){if(!r)return i;var o;if(a)o=a(r);else if(t.isURLSearchParams(r))o=r.toString();else{var d=[];t.forEach(r,function(f,m){null==f||(t.isArray(f)?m+="[]":f=[f],t.forEach(f,function(E){t.isDate(E)?E=E.toISOString():t.isObject(E)&&(E=JSON.stringify(E)),d.push(n(m)+"="+n(E))}))}),o=d.join("&")}if(o){var h=i.indexOf("#");-1!==h&&(i=i.slice(0,h)),i+=(-1===i.indexOf("?")?"?":"&")+o}return i}},95562:S=>{"use strict";S.exports=function(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e}},11797:(S,g,e)=>{"use strict";var t=e(49183);S.exports=t.isStandardBrowserEnv()?{write:function(i,r,a,o,d,h){var p=[];p.push(i+"="+encodeURIComponent(r)),t.isNumber(a)&&p.push("expires="+new Date(a).toGMTString()),t.isString(o)&&p.push("path="+o),t.isString(d)&&p.push("domain="+d),!0===h&&p.push("secure"),document.cookie=p.join("; ")},read:function(i){var r=document.cookie.match(new RegExp("(^|;\\s*)("+i+")=([^;]*)"));return r?decodeURIComponent(r[3]):null},remove:function(i){this.write(i,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}}},59066:S=>{"use strict";S.exports=function(e){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(e)}},49938:S=>{"use strict";S.exports=function(e){return"object"==typeof e&&!0===e.isAxiosError}},36014:(S,g,e)=>{"use strict";var t=e(49183);S.exports=t.isStandardBrowserEnv()?function(){var r,s=/(msie|trident)/i.test(navigator.userAgent),i=document.createElement("a");function a(o){var d=o;return s&&(i.setAttribute("href",d),d=i.href),i.setAttribute("href",d),{href:i.href,protocol:i.protocol?i.protocol.replace(/:$/,""):"",host:i.host,search:i.search?i.search.replace(/^\?/,""):"",hash:i.hash?i.hash.replace(/^#/,""):"",hostname:i.hostname,port:i.port,pathname:"/"===i.pathname.charAt(0)?i.pathname:"/"+i.pathname}}return r=a(window.location.href),function(d){var h=t.isString(d)?a(d):d;return h.protocol===r.protocol&&h.host===r.host}}():function(){return!0}},85625:(S,g,e)=>{"use strict";var t=e(49183);S.exports=function(s,i){t.forEach(s,function(a,o){o!==i&&o.toUpperCase()===i.toUpperCase()&&(s[i]=a,delete s[o])})}},45878:(S,g,e)=>{"use strict";var t=e(49183),n=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];S.exports=function(i){var a,o,d,r={};return i&&t.forEach(i.split("\n"),function(p){if(d=p.indexOf(":"),a=t.trim(p.substr(0,d)).toLowerCase(),o=t.trim(p.substr(d+1)),a){if(r[a]&&n.indexOf(a)>=0)return;r[a]="set-cookie"===a?(r[a]?r[a]:[]).concat([o]):r[a]?r[a]+", "+o:o}}),r}},43819:S=>{"use strict";S.exports=function(e){return function(n){return e.apply(null,n)}}},49183:(S,g,e)=>{"use strict";var t=e(18931),n=Object.prototype.toString;function s(M){return"[object Array]"===n.call(M)}function i(M){return void 0===M}function f(M){return null!==M&&"object"==typeof M}function m(M){if("[object Object]"!==n.call(M))return!1;var w=Object.getPrototypeOf(M);return null===w||w===Object.prototype}function T(M){return"[object Function]"===n.call(M)}function F(M,w){if(null!=M)if("object"!=typeof M&&(M=[M]),s(M))for(var K=0,k=M.length;K<k;K++)w.call(null,M[K],K,M);else for(var G in M)Object.prototype.hasOwnProperty.call(M,G)&&w.call(null,M[G],G,M)}S.exports={isArray:s,isArrayBuffer:function(M){return"[object ArrayBuffer]"===n.call(M)},isBuffer:function(M){return null!==M&&!i(M)&&null!==M.constructor&&!i(M.constructor)&&"function"==typeof M.constructor.isBuffer&&M.constructor.isBuffer(M)},isFormData:function(M){return"undefined"!=typeof FormData&&M instanceof FormData},isArrayBufferView:function(M){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(M):M&&M.buffer&&M.buffer instanceof ArrayBuffer},isString:function(M){return"string"==typeof M},isNumber:function(M){return"number"==typeof M},isObject:f,isPlainObject:m,isUndefined:i,isDate:function(M){return"[object Date]"===n.call(M)},isFile:function(M){return"[object File]"===n.call(M)},isBlob:function(M){return"[object Blob]"===n.call(M)},isFunction:T,isStream:function(M){return f(M)&&T(M.pipe)},isURLSearchParams:function(M){return"undefined"!=typeof URLSearchParams&&M instanceof URLSearchParams},isStandardBrowserEnv:function(){return("undefined"==typeof navigator||"ReactNative"!==navigator.product&&"NativeScript"!==navigator.product&&"NS"!==navigator.product)&&"undefined"!=typeof window&&"undefined"!=typeof document},forEach:F,merge:function b(){var M={};function w(G,$){M[$]=m(M[$])&&m(G)?b(M[$],G):m(G)?b({},G):s(G)?G.slice():G}for(var K=0,k=arguments.length;K<k;K++)F(arguments[K],w);return M},extend:function(M,w,K){return F(w,function(G,$){M[$]=K&&"function"==typeof G?t(G,K):G}),M},trim:function(M){return M.replace(/^\s*/,"").replace(/\s*$/,"")},stripBOM:function(M){return 65279===M.charCodeAt(0)&&(M=M.slice(1)),M}}},85847:(S,g,e)=>{"use strict";e.d(g,{D:()=>n});var t=e(6541);function n(s,i={}){return function(r,a){const o=Reflect.getMetadata("design:type",r,a);t.m.addTypeMetadata({target:r.constructor,propertyName:a,reflectedType:o,typeFunction:s,options:i})}}},54579:(S,g)=>{"use strict";g.p=void 0,g.p=class{toString(s=!1,i=!1,r=""){const a=s?"\x1b[1m":"",o=s?"\x1b[22m":"",d=h=>` - property ${a}${r}${h}${o} has failed the following constraints: ${a}${Object.keys(this.constraints).join(", ")}${o} \n`;if(i){const h=Number.isInteger(+this.property)?`[${this.property}]`:`${r?".":""}${this.property}`;return this.constraints?d(h):this.children?this.children.map(p=>p.toString(s,!0,`${r}${h}`)).join(""):""}return`An instance of ${a}${this.target?this.target.constructor.name:"an object"}${o} has failed the validation:\n`+(this.constraints?d(this.property):"")+(this.children?this.children.map(h=>h.toString(s,!0,this.property)).join(""):"")}}},83377:(S,g,e)=>{"use strict";e.d(g,{J:()=>s});var t=e(72321),n=e(40725);function s(r){return function(a){const o=r&&r.async;let d=r&&r.name?r.name:"";d||(d=a.name,d||(d=d.replace(/\.?([A-Z]+)/g,(p,f)=>"_"+f.toLowerCase()).replace(/^_/,"")));const h=new n.z(a,d,o);(0,t.A)().addConstraintMetadata(h)}}},40813:(S,g,e)=>{"use strict";e.d(g,{j:()=>i});var t=e(80853),n=e(85837),s=e(72321);function i(r){const a=wp({},r);return a.message=a.message||(a.each?"each value in ":"")+"nested property $property must be either object or array",function(d,h){const p={type:t.P.NESTED_VALIDATION,target:d.constructor,propertyName:h,validationOptions:a};(0,s.A)().addValidationMetadata(new n.L(p))}}},34373:(S,g,e)=>{"use strict";e.d(g,{si:()=>i});var t=e(15380);function i(r){return(0,t.Y)({name:"isBoolean",validator:{validate:(a,o)=>function(r){return r instanceof Boolean||"boolean"==typeof r}(a),defaultMessage:(0,t.l)(a=>a+"$property must be a boolean value",r)}},r)}},23418:(S,g,e)=>{"use strict";e.d(g,{GT:()=>i});var t=e(15380);function i(r,a){return(0,t.Y)({name:"isEnum",constraints:[r],validator:{validate:(o,d)=>function(r,a){return Object.keys(a).map(d=>a[d]).indexOf(r)>=0}(o,d.constraints[0]),defaultMessage:(0,t.l)(o=>o+"$property must be a valid enum value",a)}},a)}},60903:(S,g,e)=>{"use strict";e.d(g,{qA:()=>i});var t=e(15380);function i(r={},a){return(0,t.Y)({name:"isNumber",constraints:[r],validator:{validate:(o,d)=>function(r,a={}){if("number"!=typeof r)return!1;if(r===1/0||r===-1/0)return a.allowInfinity;if(Number.isNaN(r))return a.allowNaN;if(void 0!==a.maxDecimalPlaces){let o=0;if(r%1!=0&&(o=r.toString().split(".")[1].length),o>a.maxDecimalPlaces)return!1}return Number.isFinite(r)}(o,d.constraints[0]),defaultMessage:(0,t.l)(o=>o+"$property must be a number conforming to the specified constraints",a)}},a)}},41085:(S,g,e)=>{"use strict";e.d(g,{Kn:()=>s,ci:()=>i});var t=e(15380);function s(r){return null!=r&&("object"==typeof r||"function"==typeof r)&&!Array.isArray(r)}function i(r){return(0,t.Y)({name:"isObject",validator:{validate:(a,o)=>s(a),defaultMessage:(0,t.l)(a=>a+"$property must be an object",r)}},r)}},61969:function(S){
/*! @license DOMPurify | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/2.2.2/LICENSE */
S.exports=function(){"use strict";var e=Object.hasOwnProperty,t=Object.setPrototypeOf,n=Object.isFrozen,s=Object.getPrototypeOf,i=Object.getOwnPropertyDescriptor,r=Object.freeze,a=Object.seal,o=Object.create,d="undefined"!=typeof Reflect&&Reflect,h=d.apply,p=d.construct;h||(h=function(Qe,Ke,it){return Qe.apply(Ke,it)}),r||(r=function(Qe){return Qe}),a||(a=function(Qe){return Qe}),p||(p=function(Qe,Ke){return new(Function.prototype.bind.apply(Qe,[null].concat(function(Ye){if(Array.isArray(Ye)){for(var Qe=0,Ke=Array(Ye.length);Qe<Ye.length;Qe++)Ke[Qe]=Ye[Qe];return Ke}return Array.from(Ye)}(Ke))))});var Ye,f=F(Array.prototype.forEach),m=F(Array.prototype.pop),v=F(Array.prototype.push),E=F(String.prototype.toLowerCase),C=F(String.prototype.match),T=F(String.prototype.replace),y=F(String.prototype.indexOf),I=F(String.prototype.trim),P=F(RegExp.prototype.test),L=(Ye=TypeError,function(){for(var Qe=arguments.length,Ke=Array(Qe),it=0;it<Qe;it++)Ke[it]=arguments[it];return p(Ye,Ke)});function F(Ye){return function(Qe){for(var Ke=arguments.length,it=Array(Ke>1?Ke-1:0),Se=1;Se<Ke;Se++)it[Se-1]=arguments[Se];return h(Ye,Qe,it)}}function x(Ye,Qe){t&&t(Ye,null);for(var Ke=Qe.length;Ke--;){var it=Qe[Ke];if("string"==typeof it){var Se=E(it);Se!==it&&(n(Qe)||(Qe[Ke]=Se),it=Se)}Ye[it]=!0}return Ye}function B(Ye){var Qe=o(null),Ke=void 0;for(Ke in Ye)h(e,Ye,[Ke])&&(Qe[Ke]=Ye[Ke]);return Qe}function M(Ye,Qe){for(;null!==Ye;){var Ke=i(Ye,Qe);if(Ke){if(Ke.get)return F(Ke.get);if("function"==typeof Ke.value)return F(Ke.value)}Ye=s(Ye)}return function(Se){return console.warn("fallback value for",Se),null}}var w=r(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),K=r(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),k=r(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),G=r(["animate","color-profile","cursor","discard","fedropshadow","feimage","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),$=r(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover"]),X=r(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),ie=r(["#text"]),se=r(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","xmlns"]),pe=r(["accent-height","accumulate","additive","alignment-baseline","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","targetx","targety","transform","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),ve=r(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),Ce=r(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),ye=a(/\{\{[\s\S]*|[\s\S]*\}\}/gm),de=a(/<%[\s\S]*|[\s\S]*%>/gm),Ie=a(/^data-[\-\w.\u00B7-\uFFFF]/),He=a(/^aria-[\-\w]+$/),Ve=a(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),Ue=a(/^(?:\w+script|data):/i),xe=a(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),gt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(Ye){return typeof Ye}:function(Ye){return Ye&&"function"==typeof Symbol&&Ye.constructor===Symbol&&Ye!==Symbol.prototype?"symbol":typeof Ye};function tt(Ye){if(Array.isArray(Ye)){for(var Qe=0,Ke=Array(Ye.length);Qe<Ye.length;Qe++)Ke[Qe]=Ye[Qe];return Ke}return Array.from(Ye)}var lt=function(){return"undefined"==typeof window?null:window},Mt=function(Qe,Ke){if("object"!==(void 0===Qe?"undefined":gt(Qe))||"function"!=typeof Qe.createPolicy)return null;var it=null,Se="data-tt-policy-suffix";Ke.currentScript&&Ke.currentScript.hasAttribute(Se)&&(it=Ke.currentScript.getAttribute(Se));var Ct="dompurify"+(it?"#"+it:"");try{return Qe.createPolicy(Ct,{createHTML:function(Vt){return Vt}})}catch(Lt){return console.warn("TrustedTypes policy "+Ct+" could not be created."),null}};return function ne(){var Ye=arguments.length>0&&void 0!==arguments[0]?arguments[0]:lt(),Qe=function(at){return ne(at)};if(Qe.version="2.2.7",Qe.removed=[],!Ye||!Ye.document||9!==Ye.document.nodeType)return Qe.isSupported=!1,Qe;var Ke=Ye.document,it=Ye.document,Se=Ye.DocumentFragment,Ct=Ye.HTMLTemplateElement,Lt=Ye.Node,Vt=Ye.Element,St=Ye.NodeFilter,$t=Ye.NamedNodeMap,yt=void 0===$t?Ye.NamedNodeMap||Ye.MozNamedAttrMap:$t,Ft=Ye.Text,ot=Ye.Comment,Me=Ye.DOMParser,Ze=Ye.trustedTypes,Ne=Vt.prototype,we=M(Ne,"cloneNode"),At=M(Ne,"nextSibling"),Rt=M(Ne,"childNodes"),zt=M(Ne,"parentNode");if("function"==typeof Ct){var Yt=it.createElement("template");Yt.content&&Yt.content.ownerDocument&&(it=Yt.content.ownerDocument)}var ln=Mt(Ze,Ke),pn=ln&&An?ln.createHTML(""):"",hn=it.implementation,xt=it.createNodeIterator,Zt=it.getElementsByTagName,je=it.createDocumentFragment,Le=Ke.importNode,vt={};try{vt=B(it).documentMode?it.documentMode:{}}catch(It){}var qe={};Qe.isSupported="function"==typeof zt&&hn&&void 0!==hn.createHTMLDocument&&9!==vt;var Et=ye,st=de,Nt=Ie,Je=He,Ot=Ue,fe=xe,Ge=Ve,Tt=null,Pe=x({},[].concat(tt(w),tt(K),tt(k),tt($),tt(ie))),pt=null,Q=x({},[].concat(tt(se),tt(pe),tt(ve),tt(Ce))),Ee=null,ue=null,be=!0,mt=!0,Ut=!1,Xt=!1,en=!1,mn=!1,In=!1,Un=!1,Jn=!1,zn=!0,An=!1,to=!0,no=!0,uo=!1,$n={},kn=x({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]),ro=null,Dt=x({},["audio","video","img","source","image","track"]),Cn=null,Fe=x({},["alt","class","for","id","label","name","pattern","placeholder","summary","title","value","style","xmlns"]),Pt=null,tn=it.createElement("form"),Sn=function(at){Pt&&Pt===at||((!at||"object"!==(void 0===at?"undefined":gt(at)))&&(at={}),at=B(at),Tt="ALLOWED_TAGS"in at?x({},at.ALLOWED_TAGS):Pe,pt="ALLOWED_ATTR"in at?x({},at.ALLOWED_ATTR):Q,Cn="ADD_URI_SAFE_ATTR"in at?x(B(Fe),at.ADD_URI_SAFE_ATTR):Fe,ro="ADD_DATA_URI_TAGS"in at?x(B(Dt),at.ADD_DATA_URI_TAGS):Dt,Ee="FORBID_TAGS"in at?x({},at.FORBID_TAGS):{},ue="FORBID_ATTR"in at?x({},at.FORBID_ATTR):{},be=!1!==at.ALLOW_ARIA_ATTR,mt=!1!==at.ALLOW_DATA_ATTR,Ut=at.ALLOW_UNKNOWN_PROTOCOLS||!1,en=at.WHOLE_DOCUMENT||!1,Un=at.RETURN_DOM||!1,zn=!1!==at.RETURN_DOM_IMPORT,An=at.RETURN_TRUSTED_TYPE||!1,In=at.FORCE_BODY||!1,to=!1!==at.SANITIZE_DOM,no=!1!==at.KEEP_CONTENT,uo=at.IN_PLACE||!1,Ge=at.ALLOWED_URI_REGEXP||Ge,(Xt=at.SAFE_FOR_TEMPLATES||!1)&&(mt=!1),(Jn=at.RETURN_DOM_FRAGMENT||!1)&&(Un=!0),($n="USE_PROFILES"in at&&at.USE_PROFILES)&&(Tt=x({},[].concat(tt(ie))),pt=[],!0===$n.html&&(x(Tt,w),x(pt,se)),!0===$n.svg&&(x(Tt,K),x(pt,pe),x(pt,Ce)),!0===$n.svgFilters&&(x(Tt,k),x(pt,pe),x(pt,Ce)),!0===$n.mathMl&&(x(Tt,$),x(pt,ve),x(pt,Ce))),at.ADD_TAGS&&(Tt===Pe&&(Tt=B(Tt)),x(Tt,at.ADD_TAGS)),at.ADD_ATTR&&(pt===Q&&(pt=B(pt)),x(pt,at.ADD_ATTR)),at.ADD_URI_SAFE_ATTR&&x(Cn,at.ADD_URI_SAFE_ATTR),no&&(Tt["#text"]=!0),en&&x(Tt,["html","head","body"]),Tt.table&&(x(Tt,["tbody"]),delete Ee.tbody),r&&r(at),Pt=at)},qt=x({},["mi","mo","mn","ms","mtext"]),cn=x({},["foreignobject","desc","title","annotation-xml"]),rn=x({},K);x(rn,k),x(rn,G);var un=x({},$);x(un,X);var Hn="http://www.w3.org/1998/Math/MathML",oo="http://www.w3.org/2000/svg",qn="http://www.w3.org/1999/xhtml",bn=function(at){var wt=zt(at);(!wt||!wt.tagName)&&(wt={namespaceURI:qn,tagName:"template"});var jt=E(at.tagName),Tn=E(wt.tagName);if(at.namespaceURI===oo)return wt.namespaceURI===qn?"svg"===jt:wt.namespaceURI===Hn?"svg"===jt&&("annotation-xml"===Tn||qt[Tn]):Boolean(rn[jt]);if(at.namespaceURI===Hn)return wt.namespaceURI===qn?"math"===jt:wt.namespaceURI===oo?"math"===jt&&cn[Tn]:Boolean(un[jt]);if(at.namespaceURI===qn){if(wt.namespaceURI===oo&&!cn[Tn]||wt.namespaceURI===Hn&&!qt[Tn])return!1;var Fn=x({},["title","style","font","a","script"]);return!un[jt]&&(Fn[jt]||!rn[jt])}return!1},so=function(at){v(Qe.removed,{element:at});try{at.parentNode.removeChild(at)}catch(wt){try{at.outerHTML=pn}catch(jt){at.remove()}}},Yn=function(at,wt){try{v(Qe.removed,{attribute:wt.getAttributeNode(at),from:wt})}catch(jt){v(Qe.removed,{attribute:null,from:wt})}if(wt.removeAttribute(at),"is"===at&&!pt[at])if(Un||Jn)try{so(wt)}catch(jt){}else try{wt.setAttribute(at,"")}catch(jt){}},Do=function(at){var wt=void 0,jt=void 0;if(In)at="<remove></remove>"+at;else{var Tn=C(at,/^[\r\n\t ]+/);jt=Tn&&Tn[0]}var Fn=ln?ln.createHTML(at):at;try{wt=(new Me).parseFromString(Fn,"text/html")}catch(Xn){}if(!wt||!wt.documentElement){var Wn=(wt=hn.createHTMLDocument("")).body;Wn.parentNode.removeChild(Wn.parentNode.firstElementChild),Wn.outerHTML=Fn}return at&&jt&&wt.body.insertBefore(it.createTextNode(jt),wt.body.childNodes[0]||null),Zt.call(wt,en?"html":"body")[0]},_t=function(at){return xt.call(at.ownerDocument||at,at,St.SHOW_ELEMENT|St.SHOW_COMMENT|St.SHOW_TEXT,function(){return St.FILTER_ACCEPT},!1)},sn=function(at){return!(at instanceof Ft||at instanceof ot||"string"==typeof at.nodeName&&"string"==typeof at.textContent&&"function"==typeof at.removeChild&&at.attributes instanceof yt&&"function"==typeof at.removeAttribute&&"function"==typeof at.setAttribute&&"string"==typeof at.namespaceURI&&"function"==typeof at.insertBefore)},_e=function(at){return"object"===(void 0===Lt?"undefined":gt(Lt))?at instanceof Lt:at&&"object"===(void 0===at?"undefined":gt(at))&&"number"==typeof at.nodeType&&"string"==typeof at.nodeName},ke=function(at,wt,jt){!qe[at]||f(qe[at],function(Tn){Tn.call(Qe,wt,jt,Pt)})},nt=function(at){var wt=void 0;if(ke("beforeSanitizeElements",at,null),sn(at)||C(at.nodeName,/[\u0080-\uFFFF]/))return so(at),!0;var jt=E(at.nodeName);if(ke("uponSanitizeElement",at,{tagName:jt,allowedTags:Tt}),!_e(at.firstElementChild)&&(!_e(at.content)||!_e(at.content.firstElementChild))&&P(/<[/\w]/g,at.innerHTML)&&P(/<[/\w]/g,at.textContent))return so(at),!0;if(!Tt[jt]||Ee[jt]){if(no&&!kn[jt]){var Tn=zt(at),Fn=Rt(at);if(Fn&&Tn)for(var Wn=Fn.length-1;Wn>=0;--Wn)Tn.insertBefore(we(Fn[Wn],!0),At(at))}return so(at),!0}return at instanceof Vt&&!bn(at)||("noscript"===jt||"noembed"===jt)&&P(/<\/no(script|embed)/i,at.innerHTML)?(so(at),!0):(Xt&&3===at.nodeType&&(wt=T(wt=at.textContent,Et," "),wt=T(wt,st," "),at.textContent!==wt&&(v(Qe.removed,{element:at.cloneNode()}),at.textContent=wt)),ke("afterSanitizeElements",at,null),!1)},me=function(at,wt,jt){if(to&&("id"===wt||"name"===wt)&&(jt in it||jt in tn))return!1;if(!(mt&&P(Nt,wt)||be&&P(Je,wt))){if(!pt[wt]||ue[wt])return!1;if(!Cn[wt]&&!P(Ge,T(jt,fe,""))&&("src"!==wt&&"xlink:href"!==wt&&"href"!==wt||"script"===at||0!==y(jt,"data:")||!ro[at])&&(!Ut||P(Ot,T(jt,fe,"")))&&jt)return!1}return!0},ht=function(at){var wt=void 0,jt=void 0,Tn=void 0,Fn=void 0;ke("beforeSanitizeAttributes",at,null);var Nn=at.attributes;if(Nn){var Wn={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:pt};for(Fn=Nn.length;Fn--;){var lo=(wt=Nn[Fn]).name,Vn=wt.namespaceURI;if(jt=I(wt.value),Tn=E(lo),Wn.attrName=Tn,Wn.attrValue=jt,Wn.keepAttr=!0,Wn.forceKeepAttr=void 0,ke("uponSanitizeAttribute",at,Wn),jt=Wn.attrValue,!Wn.forceKeepAttr&&(Yn(lo,at),Wn.keepAttr)){if(P(/\/>/i,jt)){Yn(lo,at);continue}Xt&&(jt=T(jt,Et," "),jt=T(jt,st," "));var rt=at.nodeName.toLowerCase();if(me(rt,Tn,jt))try{Vn?at.setAttributeNS(Vn,lo,jt):at.setAttribute(lo,jt),m(Qe.removed)}catch(an){}}}ke("afterSanitizeAttributes",at,null)}},Wt=function It(at){var wt=void 0,jt=_t(at);for(ke("beforeSanitizeShadowDOM",at,null);wt=jt.nextNode();)ke("uponSanitizeShadowNode",wt,null),!nt(wt)&&(wt.content instanceof Se&&It(wt.content),ht(wt));ke("afterSanitizeShadowDOM",at,null)};return Qe.sanitize=function(It,at){var wt=void 0,jt=void 0,Tn=void 0,Fn=void 0,Nn=void 0;if(It||(It="\x3c!--\x3e"),"string"!=typeof It&&!_e(It)){if("function"!=typeof It.toString)throw L("toString is not a function");if("string"!=typeof(It=It.toString()))throw L("dirty is not a string, aborting")}if(!Qe.isSupported){if("object"===gt(Ye.toStaticHTML)||"function"==typeof Ye.toStaticHTML){if("string"==typeof It)return Ye.toStaticHTML(It);if(_e(It))return Ye.toStaticHTML(It.outerHTML)}return It}if(mn||Sn(at),Qe.removed=[],"string"==typeof It&&(uo=!1),!uo)if(It instanceof Lt)1===(jt=(wt=Do("\x3c!----\x3e")).ownerDocument.importNode(It,!0)).nodeType&&"BODY"===jt.nodeName||"HTML"===jt.nodeName?wt=jt:wt.appendChild(jt);else{if(!Un&&!Xt&&!en&&-1===It.indexOf("<"))return ln&&An?ln.createHTML(It):It;if(!(wt=Do(It)))return Un?null:pn}wt&&In&&so(wt.firstChild);for(var Wn=_t(uo?It:wt);Tn=Wn.nextNode();)3===Tn.nodeType&&Tn===Fn||nt(Tn)||(Tn.content instanceof Se&&Wt(Tn.content),ht(Tn),Fn=Tn);if(Fn=null,uo)return It;if(Un){if(Jn)for(Nn=je.call(wt.ownerDocument);wt.firstChild;)Nn.appendChild(wt.firstChild);else Nn=wt;return zn&&(Nn=Le.call(Ke,Nn,!0)),Nn}var Xn=en?wt.outerHTML:wt.innerHTML;return Xt&&(Xn=T(Xn,Et," "),Xn=T(Xn,st," ")),ln&&An?ln.createHTML(Xn):Xn},Qe.setConfig=function(It){Sn(It),mn=!0},Qe.clearConfig=function(){Pt=null,mn=!1},Qe.isValidAttribute=function(It,at,wt){Pt||Sn({});var jt=E(It),Tn=E(at);return me(jt,Tn,wt)},Qe.addHook=function(It,at){"function"==typeof at&&(qe[It]=qe[It]||[],v(qe[It],at))},Qe.removeHook=function(It){qe[It]&&m(qe[It])},Qe.removeHooks=function(It){qe[It]&&(qe[It]=[])},Qe.removeAllHooks=function(){qe={}},Qe}()}()},64867:S=>{
/*!
     * element-resize-detector 1.2.2
     * Copyright (c) 2016 Lucas Wiener
     * https://github.com/wnr/element-resize-detector
     * Licensed under MIT
     */
S.exports=function n(s,i,r){function a(h,p){if(!i[h]){if(!s[h]){if(o)return o(h,!0);var m=new Error("Cannot find module '"+h+"'");throw m.code="MODULE_NOT_FOUND",m}var v=i[h]={exports:{}};s[h][0].call(v.exports,function(E){return a(s[h][1][E]||E)},v,v.exports,n,s,i,r)}return i[h].exports}for(var o=void 0,d=0;d<r.length;d++)a(r[d]);return a}({1:[function(n,s,i){"use strict";var r=n("./utils");function a(){var o={},d=0,h=0,p=0;return{add:function(E,C){C||(C=E,E=0),E>h?h=E:E<p&&(p=E),o[E]||(o[E]=[]),o[E].push(C),d++},process:function(){for(var E=p;E<=h;E++)for(var C=o[E],T=0;T<C.length;T++)(0,C[T])()},size:function(){return d}}}s.exports=function(d){var h=(d=d||{}).reporter,p=r.getOption(d,"async",!0),f=r.getOption(d,"auto",!0);f&&!p&&(h&&h.warn("Invalid options combination. auto=true and async=false is invalid. Setting async=true."),p=!0);var v,m=a(),E=!1;function T(){for(E=!0;m.size();){var b=m;m=a(),b.process()}E=!1}function I(){v=setTimeout(T,0)}return{add:function(b,x){!E&&f&&p&&0===m.size()&&I(),m.add(b,x)},force:function(b){E||(void 0===b&&(b=p),v&&(function(b){clearTimeout(b)}(v),v=null),b?I():T())}}}},{"./utils":2}],2:[function(n,s,i){"use strict";(s.exports={}).getOption=function(o,d,h){var p=o[d];return null==p&&void 0!==h?h:p}},{}],3:[function(n,s,i){"use strict";var r=s.exports={};r.isIE=function(a){return!(-1===(h=navigator.userAgent.toLowerCase()).indexOf("msie")&&-1===h.indexOf("trident")&&-1===h.indexOf(" edge/")||a&&a!==function(){var p=3,f=document.createElement("div"),m=f.getElementsByTagName("i");do{f.innerHTML="\x3c!--[if gt IE "+ ++p+"]><i></i><![endif]--\x3e"}while(m[0]);return p>4?p:undefined}());var h},r.isLegacyOpera=function(){return!!window.opera}},{}],4:[function(n,s,i){"use strict";(s.exports={}).forEach=function(a,o){for(var d=0;d<a.length;d++){var h=o(a[d]);if(h)return h}}},{}],5:[function(n,s,i){"use strict";var r=n("../browser-detector");s.exports=function(a){var o=(a=a||{}).reporter,d=a.batchProcessor,h=a.stateHandler.getState;if(!o)throw new Error("Missing required dependency: reporter.");function v(C){return h(C).object}return{makeDetectable:function(C,T,y){y||(y=T,T=C,C=null),C=C||{},r.isIE(8)?y(T):function(L,F){var b=function(C){var T=a.important?" !important; ":"; ";return(C.join(T)+T).trim()}(["display: block","position: absolute","top: 0","left: 0","width: 100%","height: 100%","border: none","padding: 0","margin: 0","opacity: 0","z-index: -1000","pointer-events: none","visibility: hidden"]),x=!1,B=window.getComputedStyle(L),M=L.offsetWidth,w=L.offsetHeight;function K(){function k(){if("static"===B.position){L.style.setProperty("position","relative",C.important?"important":"");var X=function(ie,se,pe,ve){var ye=pe[ve];"auto"!==ye&&"0"!==ye.replace(/[^-\d\.]/g,"")&&(ie.warn("An element that is positioned static has style."+ve+"="+ye+" which is ignored due to the static positioning. The element will need to be positioned relative, so the style."+ve+" will be set to 0. Element: ",se),se.style.setProperty(ve,"0",C.important?"important":""))};X(o,L,B,"top"),X(o,L,B,"right"),X(o,L,B,"bottom"),X(o,L,B,"left")}}""!==B.position&&(k(),x=!0);var $=document.createElement("object");$.style.cssText=b,$.tabIndex=-1,$.type="text/html",$.setAttribute("aria-hidden","true"),$.onload=function(){x||k(),function X(se,pe){if(!se.contentDocument){var ve=h(se);return ve.checkForObjectDocumentTimeoutId&&window.clearTimeout(ve.checkForObjectDocumentTimeoutId),void(ve.checkForObjectDocumentTimeoutId=setTimeout(function(){ve.checkForObjectDocumentTimeoutId=0,X(se,pe)},100))}pe(se.contentDocument)}(this,function(pe){F(L)})},r.isIE()||($.data="about:blank"),h(L)&&(L.appendChild($),h(L).object=$,r.isIE()&&($.data="about:blank"))}h(L).startSize={width:M,height:w},d?d.add(K):K()}(T,y)},addListener:function(C,T){function y(){T(C)}if(r.isIE(8))h(C).object={proxy:y},C.attachEvent("onresize",y);else{var I=v(C);if(!I)throw new Error("Element is not detectable by this strategy.");I.contentDocument.defaultView.addEventListener("resize",y)}},uninstall:function(C){if(h(C)){var T=v(C);!T||(r.isIE(8)?C.detachEvent("onresize",T.proxy):C.removeChild(T),h(C).checkForObjectDocumentTimeoutId&&window.clearTimeout(h(C).checkForObjectDocumentTimeoutId),delete h(C).object)}}}}},{"../browser-detector":3}],6:[function(n,s,i){"use strict";var r=n("../collection-utils").forEach;s.exports=function(a){var o=(a=a||{}).reporter,d=a.batchProcessor,h=a.stateHandler.getState,f=a.idHandler;if(!d)throw new Error("Missing required dependency: batchProcessor");if(!o)throw new Error("Missing required dependency: reporter.");var m=function(){var K=500,k=500,G=document.createElement("div");G.style.cssText=T(["position: absolute","width: 1000px","height: 1000px","visibility: hidden","margin: 0","padding: 0"]);var $=document.createElement("div");$.style.cssText=T(["position: absolute","width: 500px","height: 500px","overflow: scroll","visibility: none","top: -1500px","left: -1500px","visibility: hidden","margin: 0","padding: 0"]),$.appendChild(G),document.body.insertBefore($,document.body.firstChild);var X=K-$.clientWidth,ie=k-$.clientHeight;return document.body.removeChild($),{width:X,height:ie}}(),E="erd_scroll_detection_container";function C(K){!function(K,k,G){function $(pe,ve){ve=ve||function(ye){K.head.appendChild(ye)};var Ce=K.createElement("style");return Ce.innerHTML=pe,Ce.id=k,ve(Ce),Ce}if(!K.getElementById(k)){var X=G+"_animation",ie=G+"_animation_active",se="/* Created by the element-resize-detector library. */\n";se+="."+G+" > div::-webkit-scrollbar { "+T(["display: none"])+" }\n\n",se+="."+ie+" { "+T(["-webkit-animation-duration: 0.1s","animation-duration: 0.1s","-webkit-animation-name: "+X,"animation-name: "+X])+" }\n",se+="@-webkit-keyframes "+X+" { 0% { opacity: 1; } 50% { opacity: 0; } 100% { opacity: 1; } }\n",$(se+="@keyframes "+X+" { 0% { opacity: 1; } 50% { opacity: 0; } 100% { opacity: 1; } }")}}(K,"erd_scroll_detection_scrollbar_style",E)}function T(K){var k=a.important?" !important; ":"; ";return(K.join(k)+k).trim()}function L(K,k,G){if(K.addEventListener)K.addEventListener(k,G);else{if(!K.attachEvent)return o.error("[scroll] Don't know how to add event listeners.");K.attachEvent("on"+k,G)}}function F(K,k,G){if(K.removeEventListener)K.removeEventListener(k,G);else{if(!K.detachEvent)return o.error("[scroll] Don't know how to remove event listeners.");K.detachEvent("on"+k,G)}}function b(K){return h(K).container.childNodes[0].childNodes[0].childNodes[0]}function x(K){return h(K).container.childNodes[0].childNodes[0].childNodes[1]}return C(window.document),{makeDetectable:function(K,k,G){function $(){if(K.debug){var Ke=Array.prototype.slice.call(arguments);if(Ke.unshift(f.get(k),"Scroll: "),o.log.apply)o.log.apply(null,Ke);else for(var it=0;it<Ke.length;it++)o.log(Ke[it])}}function ie(Ke){var it=h(Ke).container.childNodes[0],Se=window.getComputedStyle(it);return!Se.width||-1===Se.width.indexOf("px")}function se(){var Ke=window.getComputedStyle(k),it={};return it.position=Ke.position,it.width=k.offsetWidth,it.height=k.offsetHeight,it.top=Ke.top,it.right=Ke.right,it.bottom=Ke.bottom,it.left=Ke.left,it.widthCSS=Ke.width,it.heightCSS=Ke.height,it}function Ce(){if($("storeStyle invoked."),h(k)){var Ke=se();h(k).style=Ke}else $("Aborting because element has been uninstalled")}function ye(Ke,it,Se){h(Ke).lastWidth=it,h(Ke).lastHeight=Se}function Ie(){return 2*m.width+1}function He(){return 2*m.height+1}function Ve(Ke){return Ke+10+Ie()}function Ue(Ke){return Ke+10+He()}function tt(Ke,it,Se){var Ct=b(Ke),Lt=x(Ke),Vt=Ve(it),St=Ue(Se),$t=function(Ke){return 2*Ke+Ie()}(it),yt=function(Ke){return 2*Ke+He()}(Se);Ct.scrollLeft=Vt,Ct.scrollTop=St,Lt.scrollLeft=$t,Lt.scrollTop=yt}function lt(){var Ke=h(k).container;if(!Ke){(Ke=document.createElement("div")).className=E,Ke.style.cssText=T(["visibility: hidden","display: inline","width: 0px","height: 0px","z-index: -1","overflow: hidden","margin: 0","padding: 0"]),h(k).container=Ke,function(K){K.className+=" "+E+"_animation_active"}(Ke),k.appendChild(Ke);var it=function(){h(k).onRendered&&h(k).onRendered()};L(Ke,"animationstart",it),h(k).onAnimationStart=it}return Ke}function Mt(){if($("Injecting elements"),h(k)){!function(){var ln=h(k).style;if("static"===ln.position){k.style.setProperty("position","relative",K.important?"important":"");var pn=function(nn,hn,xt,Zt){var Le=xt[Zt];"auto"!==Le&&"0"!==Le.replace(/[^-\d\.]/g,"")&&(nn.warn("An element that is positioned static has style."+Zt+"="+Le+" which is ignored due to the static positioning. The element will need to be positioned relative, so the style."+Zt+" will be set to 0. Element: ",hn),hn.style[Zt]=0)};pn(o,k,ln,"top"),pn(o,k,ln,"right"),pn(o,k,ln,"bottom"),pn(o,k,ln,"left")}}();var Se=h(k).container;Se||(Se=lt());var Ct=m.width,Lt=m.height,Vt=T(["position: absolute","flex: none","overflow: hidden","z-index: -1","visibility: hidden","width: 100%","height: 100%","left: 0px","top: 0px"]),St=T(["position: absolute","flex: none","overflow: hidden","z-index: -1","visibility: hidden"].concat(["left: "+(ln=(ln=-(1+Ct))?ln+"px":"0"),"top: "+(pn=(pn=-(1+Lt))?pn+"px":"0"),"right: "+(hn=(hn=-Ct)?hn+"px":"0"),"bottom: "+(nn=(nn=-Lt)?nn+"px":"0")])),$t=T(["position: absolute","flex: none","overflow: scroll","z-index: -1","visibility: hidden","width: 100%","height: 100%"]),yt=T(["position: absolute","flex: none","overflow: scroll","z-index: -1","visibility: hidden","width: 100%","height: 100%"]),Ft=T(["position: absolute","left: 0","top: 0"]),ot=T(["position: absolute","width: 200%","height: 200%"]),Me=document.createElement("div"),Ze=document.createElement("div"),Ne=document.createElement("div"),we=document.createElement("div"),At=document.createElement("div"),Rt=document.createElement("div");Me.dir="ltr",Me.style.cssText=Vt,Me.className=E,Ze.className=E,Ze.style.cssText=St,Ne.style.cssText=$t,we.style.cssText=Ft,At.style.cssText=yt,Rt.style.cssText=ot,Ne.appendChild(we),At.appendChild(Rt),Ze.appendChild(Ne),Ze.appendChild(At),Me.appendChild(Ze),Se.appendChild(Me),L(Ne,"scroll",zt),L(At,"scroll",Yt),h(k).onExpandScroll=zt,h(k).onShrinkScroll=Yt}else $("Aborting because element has been uninstalled");var ln,pn,nn,hn;function zt(){h(k).onExpand&&h(k).onExpand()}function Yt(){h(k).onShrink&&h(k).onShrink()}}function ne(){function Ke($t,yt,Ft){var ot=function(Ke){return b(Ke).childNodes[0]}($t),Me=Ve(yt),Ze=Ue(Ft);ot.style.setProperty("width",Me+"px",K.important?"important":""),ot.style.setProperty("height",Ze+"px",K.important?"important":"")}function it($t){var yt=k.offsetWidth,Ft=k.offsetHeight,ot=yt!==h(k).lastWidth||Ft!==h(k).lastHeight;$("Storing current size",yt,Ft),ye(k,yt,Ft),d.add(0,function(){if(ot){if(!h(k))return void $("Aborting because element has been uninstalled");if(!Se())return void $("Aborting because element container has not been initialized");K.debug&&(k.offsetWidth!==yt||k.offsetHeight!==Ft)&&o.warn(f.get(k),"Scroll: Size changed before updating detector elements."),Ke(k,yt,Ft)}}),d.add(1,function(){h(k)?Se()?tt(k,yt,Ft):$("Aborting because element container has not been initialized"):$("Aborting because element has been uninstalled")}),ot&&$t&&d.add(2,function(){h(k)?Se()?$t():$("Aborting because element container has not been initialized"):$("Aborting because element has been uninstalled")})}function Se(){return!!h(k).container}function Ct(){$("notifyListenersIfNeeded invoked");var yt=h(k);return void 0===h(k).lastNotifiedWidth&&yt.lastWidth===yt.startSize.width&&yt.lastHeight===yt.startSize.height?$("Not notifying: Size is the same as the start size, and there has been no notification yet."):yt.lastWidth===yt.lastNotifiedWidth&&yt.lastHeight===yt.lastNotifiedHeight?$("Not notifying: Size already notified"):($("Current size not notified, notifying..."),yt.lastNotifiedWidth=yt.lastWidth,yt.lastNotifiedHeight=yt.lastHeight,void r(h(k).listeners,function(Ft){Ft(k)}))}function Vt(){$("Scroll detected."),ie(k)?$("Scroll event fired while unrendered. Ignoring..."):it(Ct)}if($("registerListenersAndPositionElements invoked."),h(k)){h(k).onRendered=function(){if($("startanimation triggered."),ie(k))$("Ignoring since element is still unrendered...");else{$("Element rendered.");var $t=b(k),yt=x(k);(0===$t.scrollLeft||0===$t.scrollTop||0===yt.scrollLeft||0===yt.scrollTop)&&($("Scrollbars out of sync. Updating detector elements..."),it(Ct))}},h(k).onExpand=Vt,h(k).onShrink=Vt;var St=h(k).style;Ke(k,St.width,St.height)}else $("Aborting because element has been uninstalled")}function De(){if($("finalizeDomMutation invoked."),h(k)){var Ke=h(k).style;ye(k,Ke.width,Ke.height),tt(k,Ke.width,Ke.height)}else $("Aborting because element has been uninstalled")}function Ye(){G(k)}function Qe(){var Ke;$("Installing..."),h(k).listeners=[],Ke=se(),h(k).startSize={width:Ke.width,height:Ke.height},$("Element start size",h(k).startSize),d.add(0,Ce),d.add(1,Mt),d.add(2,ne),d.add(3,De),d.add(4,Ye)}var Ke,Se,Ct;G||(G=k,k=K,K=null),K=K||{},$("Making detectable..."),Ct=(Se=Ke=k).getRootNode&&Se.getRootNode().contains(Se),Se!==Se.ownerDocument.body&&!Se.ownerDocument.body.contains(Se)&&!Ct||null===window.getComputedStyle(Ke)?($("Element is detached"),lt(),$("Waiting until element is attached..."),h(k).onRendered=function(){$("Element is now attached"),Qe()}):Qe()},addListener:function(K,k){if(!h(K).listeners.push)throw new Error("Cannot add listener to an element that is not detectable.");h(K).listeners.push(k)},uninstall:function(K){var k=h(K);!k||(k.onExpandScroll&&F(b(K),"scroll",k.onExpandScroll),k.onShrinkScroll&&F(x(K),"scroll",k.onShrinkScroll),k.onAnimationStart&&F(k.container,"animationstart",k.onAnimationStart),k.container&&K.removeChild(k.container))},initDocument:C}}},{"../collection-utils":4}],7:[function(n,s,i){"use strict";var r=n("./collection-utils").forEach,a=n("./element-utils"),o=n("./listener-handler"),d=n("./id-generator"),h=n("./id-handler"),p=n("./reporter"),f=n("./browser-detector"),m=n("batch-processor"),v=n("./state-handler"),E=n("./detection-strategy/object.js"),C=n("./detection-strategy/scroll.js");function T(L){return Array.isArray(L)||void 0!==L.length}function y(L){if(Array.isArray(L))return L;var F=[];return r(L,function(b){F.push(b)}),F}function I(L){return L&&1===L.nodeType}function P(L,F,b){var x=L[F];return null==x&&void 0!==b?b:x}s.exports=function(L){var F;if((L=L||{}).idHandler)F={get:function(de){return L.idHandler.get(de,!0)},set:L.idHandler.set};else{var b=d(),x=h({idGenerator:b,stateHandler:v});F=x}var B=L.reporter;B||(B=p(!1===B));var w=P(L,"batchProcessor",m({reporter:B})),K={};K.callOnAdd=!!P(L,"callOnAdd",!0),K.debug=!!P(L,"debug",!1);var $,k=o(F),G=a({stateHandler:v}),X=P(L,"strategy","object"),ie=P(L,"important",!1),se={reporter:B,batchProcessor:w,stateHandler:v,idHandler:F,important:ie};if("scroll"===X&&(f.isLegacyOpera()?(B.warn("Scroll strategy is not supported on legacy Opera. Changing to object strategy."),X="object"):f.isIE(9)&&(B.warn("Scroll strategy is not supported on IE9. Changing to object strategy."),X="object")),"scroll"===X)$=C(se);else{if("object"!==X)throw new Error("Invalid strategy name: "+X);$=E(se)}var pe={};return{listenTo:function(de,Ie,He){function Ve(Mt){var ne=k.get(Mt);r(ne,function(Ye){Ye(Mt)})}function Ue(Mt,ne,De){k.add(ne,De),Mt&&De(ne)}if(He||(He=Ie,Ie=de,de={}),!Ie)throw new Error("At least one element required.");if(!He)throw new Error("Listener required.");if(I(Ie))Ie=[Ie];else{if(!T(Ie))return B.error("Invalid arguments. Must be a DOM element or a collection of DOM elements.");Ie=y(Ie)}var xe=0,gt=P(de,"callOnAdd",K.callOnAdd),tt=P(de,"onReady",function(){}),lt=P(de,"debug",K.debug);r(Ie,function(ne){v.getState(ne)||(v.initState(ne),F.set(ne));var De=F.get(ne);if(lt&&B.log("Attaching listener to element",De,ne),!G.isDetectable(ne))return lt&&B.log(De,"Not detectable."),G.isBusy(ne)?(lt&&B.log(De,"System busy making it detectable"),Ue(gt,ne,He),pe[De]=pe[De]||[],void pe[De].push(function(){++xe===Ie.length&&tt()})):(lt&&B.log(De,"Making detectable..."),G.markBusy(ne,!0),$.makeDetectable({debug:lt,important:ie},ne,function(Qe){if(lt&&B.log(De,"onElementDetectable"),v.getState(Qe)){G.markAsDetectable(Qe),G.markBusy(Qe,!1),$.addListener(Qe,Ve),Ue(gt,Qe,He);var Ke=v.getState(Qe);Ke&&Ke.startSize&&(Ke.startSize.width!==Qe.offsetWidth||Ke.startSize.height!==Qe.offsetHeight)&&Ve(Qe),pe[De]&&r(pe[De],function(Ct){Ct()})}else lt&&B.log(De,"Element uninstalled before being detectable.");delete pe[De],++xe===Ie.length&&tt()}));lt&&B.log(De,"Already detecable, adding listener."),Ue(gt,ne,He),xe++}),xe===Ie.length&&tt()},removeListener:k.removeListener,removeAllListeners:k.removeAllListeners,uninstall:function(de){if(!de)return B.error("At least one element is required.");if(I(de))de=[de];else{if(!T(de))return B.error("Invalid arguments. Must be a DOM element or a collection of DOM elements.");de=y(de)}r(de,function(Ie){k.removeAllListeners(Ie),$.uninstall(Ie),v.cleanState(Ie)})},initDocument:function(de){$.initDocument&&$.initDocument(de)}}}},{"./browser-detector":3,"./collection-utils":4,"./detection-strategy/object.js":5,"./detection-strategy/scroll.js":6,"./element-utils":8,"./id-generator":9,"./id-handler":10,"./listener-handler":11,"./reporter":12,"./state-handler":13,"batch-processor":1}],8:[function(n,s,i){"use strict";s.exports=function(r){var a=r.stateHandler.getState;return{isDetectable:function(f){var m=a(f);return m&&!!m.isDetectable},markAsDetectable:function(f){a(f).isDetectable=!0},isBusy:function(f){return!!a(f).busy},markBusy:function(f,m){a(f).busy=!!m}}}},{}],9:[function(n,s,i){"use strict";s.exports=function(){var r=1;return{generate:function(){return r++}}}},{}],10:[function(n,s,i){"use strict";s.exports=function(r){var a=r.idGenerator,o=r.stateHandler.getState;return{get:function(p){var f=o(p);return f&&void 0!==f.id?f.id:null},set:function(p){var f=o(p);if(!f)throw new Error("setId required the element to have a resize detection state.");var m=a.generate();return f.id=m,m}}}},{}],11:[function(n,s,i){"use strict";s.exports=function(r){var a={};function o(f){var m=r.get(f);return void 0===m?[]:a[m]||[]}return{get:o,add:function(f,m){var v=r.get(f);a[v]||(a[v]=[]),a[v].push(m)},removeListener:function(f,m){for(var v=o(f),E=0,C=v.length;E<C;++E)if(v[E]===m){v.splice(E,1);break}},removeAllListeners:function(f){var m=o(f);!m||(m.length=0)}}}},{}],12:[function(n,s,i){"use strict";s.exports=function(r){function a(){}var o={log:a,warn:a,error:a};if(!r&&window.console){var d=function(h,p){h[p]=function(){var m=console[p];if(m.apply)m.apply(console,arguments);else for(var v=0;v<arguments.length;v++)m(arguments[v])}};d(o,"log"),d(o,"warn"),d(o,"error")}return o}},{}],13:[function(n,s,i){"use strict";var r="_erd";function o(h){return h[r]}s.exports={initState:function(h){return h[r]={},o(h)},getState:o,cleanState:function(h){delete h[r]}}},{}]},{},[7])(7)},96011:S=>{"use strict";S.exports=function(g,e){e||(e={}),"function"==typeof e&&(e={cmp:e});var i,t="boolean"==typeof e.cycles&&e.cycles,n=e.cmp&&(i=e.cmp,function(r){return function(a,o){return i({key:a,value:r[a]},{key:o,value:r[o]})}}),s=[];return function i(r){if(r&&r.toJSON&&"function"==typeof r.toJSON&&(r=r.toJSON()),void 0!==r){if("number"==typeof r)return isFinite(r)?""+r:"null";if("object"!=typeof r)return JSON.stringify(r);var a,o;if(Array.isArray(r)){for(o="[",a=0;a<r.length;a++)a&&(o+=","),o+=i(r[a])||"null";return o+"]"}if(null===r)return"null";if(-1!==s.indexOf(r)){if(t)return JSON.stringify("__cycle__");throw new TypeError("Converting circular structure to JSON")}var d=s.push(r)-1,h=Object.keys(r).sort(n&&n(r));for(o="",a=0;a<h.length;a++){var p=h[a],f=i(r[p]);!f||(o&&(o+=","),o+=JSON.stringify(p)+":"+f)}return s.splice(d,1),"{"+o+"}"}}(g)}},64996:(S,g)=>{"use strict";function t(Y,oe){for(var j=0;j<oe.length;j++){var W=oe[j];W.enumerable=W.enumerable||!1,W.configurable=!0,"value"in W&&(W.writable=!0),Object.defineProperty(Y,W.key,W)}}function n(Y,oe,j){return oe&&t(Y.prototype,oe),j&&t(Y,j),Y}function s(){return(s=Object.assign||function(Y){for(var oe=1;oe<arguments.length;oe++){var j=arguments[oe];for(var W in j)Object.prototype.hasOwnProperty.call(j,W)&&(Y[W]=j[W])}return Y}).apply(this,arguments)}function i(Y,oe){Y.prototype=Object.create(oe.prototype),Y.prototype.constructor=Y,a(Y,oe)}function r(Y){return(r=Object.setPrototypeOf?Object.getPrototypeOf:function(j){return j.__proto__||Object.getPrototypeOf(j)})(Y)}function a(Y,oe){return(a=Object.setPrototypeOf||function(W,te){return W.__proto__=te,W})(Y,oe)}function o(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(Y){return!1}}function d(Y,oe,j){return(d=o()?Reflect.construct:function(te,ce,Be){var ze=[null];ze.push.apply(ze,ce);var ee=new(Function.bind.apply(te,ze));return Be&&a(ee,Be.prototype),ee}).apply(null,arguments)}function p(Y){var oe="function"==typeof Map?new Map:void 0;return(p=function(W){if(null===W||!function(Y){return-1!==Function.toString.call(Y).indexOf("[native code]")}(W))return W;if("function"!=typeof W)throw new TypeError("Super expression must either be null or a function");if(void 0!==oe){if(oe.has(W))return oe.get(W);oe.set(W,te)}function te(){return d(W,arguments,r(this).constructor)}return te.prototype=Object.create(W.prototype,{constructor:{value:te,enumerable:!1,writable:!0,configurable:!0}}),a(te,W)})(Y)}function v(Y,oe){(null==oe||oe>Y.length)&&(oe=Y.length);for(var j=0,W=new Array(oe);j<oe;j++)W[j]=Y[j];return W}function E(Y,oe){var j="undefined"!=typeof Symbol&&Y[Symbol.iterator]||Y["@@iterator"];if(j)return(j=j.call(Y)).next.bind(j);if(Array.isArray(Y)||(j=function(Y,oe){if(Y){if("string"==typeof Y)return v(Y,undefined);var j=Object.prototype.toString.call(Y).slice(8,-1);if("Object"===j&&Y.constructor&&(j=Y.constructor.name),"Map"===j||"Set"===j)return Array.from(Y);if("Arguments"===j||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(j))return v(Y,undefined)}}(Y))||oe&&Y&&"number"==typeof Y.length){j&&(Y=j);var W=0;return function(){return W>=Y.length?{done:!0}:{done:!1,value:Y[W++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var C=function(Y){function oe(){return Y.apply(this,arguments)||this}return i(oe,Y),oe}(p(Error)),T=function(Y){function oe(j){return Y.call(this,"Invalid DateTime: "+j.toMessage())||this}return i(oe,Y),oe}(C),y=function(Y){function oe(j){return Y.call(this,"Invalid Interval: "+j.toMessage())||this}return i(oe,Y),oe}(C),I=function(Y){function oe(j){return Y.call(this,"Invalid Duration: "+j.toMessage())||this}return i(oe,Y),oe}(C),P=function(Y){function oe(){return Y.apply(this,arguments)||this}return i(oe,Y),oe}(C),L=function(Y){function oe(j){return Y.call(this,"Invalid unit "+j)||this}return i(oe,Y),oe}(C),F=function(Y){function oe(){return Y.apply(this,arguments)||this}return i(oe,Y),oe}(C),b=function(Y){function oe(){return Y.call(this,"Zone is an abstract class")||this}return i(oe,Y),oe}(C),x="numeric",B="short",M="long",w={year:x,month:x,day:x},K={year:x,month:B,day:x},k={year:x,month:B,day:x,weekday:B},G={year:x,month:M,day:x},$={year:x,month:M,day:x,weekday:M},X={hour:x,minute:x},ie={hour:x,minute:x,second:x},se={hour:x,minute:x,second:x,timeZoneName:B},pe={hour:x,minute:x,second:x,timeZoneName:M},ve={hour:x,minute:x,hourCycle:"h23"},Ce={hour:x,minute:x,second:x,hourCycle:"h23"},ye={hour:x,minute:x,second:x,hourCycle:"h23",timeZoneName:B},de={hour:x,minute:x,second:x,hourCycle:"h23",timeZoneName:M},Ie={year:x,month:x,day:x,hour:x,minute:x},He={year:x,month:x,day:x,hour:x,minute:x,second:x},Ve={year:x,month:B,day:x,hour:x,minute:x},Ue={year:x,month:B,day:x,hour:x,minute:x,second:x},xe={year:x,month:B,day:x,weekday:B,hour:x,minute:x},gt={year:x,month:M,day:x,hour:x,minute:x,timeZoneName:B},tt={year:x,month:M,day:x,hour:x,minute:x,second:x,timeZoneName:B},lt={year:x,month:M,day:x,weekday:M,hour:x,minute:x,timeZoneName:M},Mt={year:x,month:M,day:x,weekday:M,hour:x,minute:x,second:x,timeZoneName:M};function ne(Y){return void 0===Y}function De(Y){return"number"==typeof Y}function Ye(Y){return"number"==typeof Y&&Y%1==0}function it(){try{return"undefined"!=typeof Intl&&!!Intl.RelativeTimeFormat}catch(Y){return!1}}function Ct(Y,oe,j){if(0!==Y.length)return Y.reduce(function(W,te){var ce=[oe(te),te];return W&&j(W[0],ce[0])===W[0]?W:ce},null)[1]}function Vt(Y,oe){return Object.prototype.hasOwnProperty.call(Y,oe)}function St(Y,oe,j){return Ye(Y)&&Y>=oe&&Y<=j}function yt(Y,oe){void 0===oe&&(oe=2);var j=Y<0?"-":"",W=j?-1*Y:Y;return""+j+(W.toString().length<oe?("0".repeat(oe)+W).slice(-oe):W.toString())}function Ft(Y){if(!ne(Y)&&null!==Y&&""!==Y)return parseInt(Y,10)}function ot(Y){if(!ne(Y)&&null!==Y&&""!==Y){var oe=1e3*parseFloat("0."+Y);return Math.floor(oe)}}function Me(Y,oe,j){void 0===j&&(j=!1);var W=Math.pow(10,oe);return(j?Math.trunc:Math.round)(Y*W)/W}function Ze(Y){return Y%4==0&&(Y%100!=0||Y%400==0)}function Ne(Y){return Ze(Y)?366:365}function we(Y,oe){var j=function(Y,oe){return Y-12*Math.floor(Y/12)}(oe-1)+1;return 2===j?Ze(Y+(oe-j)/12)?29:28:[31,null,31,30,31,30,31,31,30,31,30,31][j-1]}function At(Y){var oe=Date.UTC(Y.year,Y.month-1,Y.day,Y.hour,Y.minute,Y.second,Y.millisecond);return Y.year<100&&Y.year>=0&&(oe=new Date(oe)).setUTCFullYear(oe.getUTCFullYear()-1900),+oe}function Rt(Y){var oe=(Y+Math.floor(Y/4)-Math.floor(Y/100)+Math.floor(Y/400))%7,j=Y-1,W=(j+Math.floor(j/4)-Math.floor(j/100)+Math.floor(j/400))%7;return 4===oe||3===W?53:52}function zt(Y){return Y>99?Y:Y>60?1900+Y:2e3+Y}function Yt(Y,oe,j,W){void 0===W&&(W=null);var te=new Date(Y),ce={hourCycle:"h23",year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"};W&&(ce.timeZone=W);var Be=s({timeZoneName:oe},ce),ze=new Intl.DateTimeFormat(j,Be).formatToParts(te).find(function(ut){return"timezonename"===ut.type.toLowerCase()});return ze?ze.value:null}function ln(Y,oe){var j=parseInt(Y,10);Number.isNaN(j)&&(j=0);var W=parseInt(oe,10)||0;return 60*j+(j<0||Object.is(j,-0)?-W:W)}function pn(Y){var oe=Number(Y);if("boolean"==typeof Y||""===Y||Number.isNaN(oe))throw new F("Invalid unit value "+Y);return oe}function nn(Y,oe){var j={};for(var W in Y)if(Vt(Y,W)){var te=Y[W];if(null==te)continue;j[oe(W)]=pn(te)}return j}function hn(Y,oe){var j=Math.trunc(Math.abs(Y/60)),W=Math.trunc(Math.abs(Y%60)),te=Y>=0?"+":"-";switch(oe){case"short":return""+te+yt(j,2)+":"+yt(W,2);case"narrow":return""+te+j+(W>0?":"+W:"");case"techie":return""+te+yt(j,2)+yt(W,2);default:throw new RangeError("Value format "+oe+" is out of range for property format")}}function xt(Y){return function(Y,oe){return["hour","minute","second","millisecond"].reduce(function(j,W){return j[W]=Y[W],j},{})}(Y)}var Zt=/[A-Za-z_+-]{1,256}(:?\/[A-Za-z_+-]{1,256}(\/[A-Za-z_+-]{1,256})?)?/,je=["January","February","March","April","May","June","July","August","September","October","November","December"],Le=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],vt=["J","F","M","A","M","J","J","A","S","O","N","D"];function qe(Y){switch(Y){case"narrow":return[].concat(vt);case"short":return[].concat(Le);case"long":return[].concat(je);case"numeric":return["1","2","3","4","5","6","7","8","9","10","11","12"];case"2-digit":return["01","02","03","04","05","06","07","08","09","10","11","12"];default:return null}}var Et=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],st=["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],Nt=["M","T","W","T","F","S","S"];function Je(Y){switch(Y){case"narrow":return[].concat(Nt);case"short":return[].concat(st);case"long":return[].concat(Et);case"numeric":return["1","2","3","4","5","6","7"];default:return null}}var Ot=["AM","PM"],fe=["Before Christ","Anno Domini"],Ge=["BC","AD"],Tt=["B","A"];function Pe(Y){switch(Y){case"narrow":return[].concat(Tt);case"short":return[].concat(Ge);case"long":return[].concat(fe);default:return null}}function mt(Y,oe){for(var te,j="",W=E(Y);!(te=W()).done;){var ce=te.value;j+=ce.literal?ce.val:oe(ce.val)}return j}var Ut={D:w,DD:K,DDD:G,DDDD:$,t:X,tt:ie,ttt:se,tttt:pe,T:ve,TT:Ce,TTT:ye,TTTT:de,f:Ie,ff:Ve,fff:gt,ffff:lt,F:He,FF:Ue,FFF:tt,FFFF:Mt},Xt=function(){function Y(j,W){this.opts=W,this.loc=j,this.systemLoc=null}Y.create=function(W,te){return void 0===te&&(te={}),new Y(W,te)},Y.parseFormat=function(W){for(var te=null,ce="",Be=!1,ze=[],ut=0;ut<W.length;ut++){var ee=W.charAt(ut);"'"===ee?(ce.length>0&&ze.push({literal:Be,val:ce}),te=null,ce="",Be=!Be):Be||ee===te?ce+=ee:(ce.length>0&&ze.push({literal:!1,val:ce}),ce=ee,te=ee)}return ce.length>0&&ze.push({literal:Be,val:ce}),ze},Y.macroTokenToFormatOpts=function(W){return Ut[W]};var oe=Y.prototype;return oe.formatWithSystemDefault=function(W,te){return null===this.systemLoc&&(this.systemLoc=this.loc.redefaultToSystem()),this.systemLoc.dtFormatter(W,s({},this.opts,te)).format()},oe.formatDateTime=function(W,te){return void 0===te&&(te={}),this.loc.dtFormatter(W,s({},this.opts,te)).format()},oe.formatDateTimeParts=function(W,te){return void 0===te&&(te={}),this.loc.dtFormatter(W,s({},this.opts,te)).formatToParts()},oe.resolvedOptions=function(W,te){return void 0===te&&(te={}),this.loc.dtFormatter(W,s({},this.opts,te)).resolvedOptions()},oe.num=function(W,te){if(void 0===te&&(te=0),this.opts.forceSimple)return yt(W,te);var ce=s({},this.opts);return te>0&&(ce.padTo=te),this.loc.numberFormatter(ce).format(W)},oe.formatDateTimeFromString=function(W,te){var ce=this,Be="en"===this.loc.listingMode(),ze=this.loc.outputCalendar&&"gregory"!==this.loc.outputCalendar,ut=function(gn,Gn){return ce.loc.extract(W,gn,Gn)},ee=function(gn){return W.isOffsetFixed&&0===W.offset&&gn.allowZ?"Z":W.isValid?W.zone.formatOffset(W.ts,gn.format):""},V=function(gn,Gn){return Be?function(Y,oe){return qe(oe)[Y.month-1]}(W,gn):ut(Gn?{month:gn}:{month:gn,day:"numeric"},"month")},le=function(gn,Gn){return Be?function(Y,oe){return Je(oe)[Y.weekday-1]}(W,gn):ut(Gn?{weekday:gn}:{weekday:gn,month:"long",day:"numeric"},"weekday")},ct=function(gn){return Be?function(Y,oe){return Pe(oe)[Y.year<0?0:1]}(W,gn):ut({era:gn},"era")};return mt(Y.parseFormat(te),function(gn){switch(gn){case"S":return ce.num(W.millisecond);case"u":case"SSS":return ce.num(W.millisecond,3);case"s":return ce.num(W.second);case"ss":return ce.num(W.second,2);case"m":return ce.num(W.minute);case"mm":return ce.num(W.minute,2);case"h":return ce.num(W.hour%12==0?12:W.hour%12);case"hh":return ce.num(W.hour%12==0?12:W.hour%12,2);case"H":return ce.num(W.hour);case"HH":return ce.num(W.hour,2);case"Z":return ee({format:"narrow",allowZ:ce.opts.allowZ});case"ZZ":return ee({format:"short",allowZ:ce.opts.allowZ});case"ZZZ":return ee({format:"techie",allowZ:ce.opts.allowZ});case"ZZZZ":return W.zone.offsetName(W.ts,{format:"short",locale:ce.loc.locale});case"ZZZZZ":return W.zone.offsetName(W.ts,{format:"long",locale:ce.loc.locale});case"z":return W.zoneName;case"a":return Be?function(Y){return Ot[Y.hour<12?0:1]}(W):ut({hour:"numeric",hourCycle:"h12"},"dayperiod");case"d":return ze?ut({day:"numeric"},"day"):ce.num(W.day);case"dd":return ze?ut({day:"2-digit"},"day"):ce.num(W.day,2);case"c":return ce.num(W.weekday);case"ccc":return le("short",!0);case"cccc":return le("long",!0);case"ccccc":return le("narrow",!0);case"E":return ce.num(W.weekday);case"EEE":return le("short",!1);case"EEEE":return le("long",!1);case"EEEEE":return le("narrow",!1);case"L":return ze?ut({month:"numeric",day:"numeric"},"month"):ce.num(W.month);case"LL":return ze?ut({month:"2-digit",day:"numeric"},"month"):ce.num(W.month,2);case"LLL":return V("short",!0);case"LLLL":return V("long",!0);case"LLLLL":return V("narrow",!0);case"M":return ze?ut({month:"numeric"},"month"):ce.num(W.month);case"MM":return ze?ut({month:"2-digit"},"month"):ce.num(W.month,2);case"MMM":return V("short",!1);case"MMMM":return V("long",!1);case"MMMMM":return V("narrow",!1);case"y":return ze?ut({year:"numeric"},"year"):ce.num(W.year);case"yy":return ze?ut({year:"2-digit"},"year"):ce.num(W.year.toString().slice(-2),2);case"yyyy":return ze?ut({year:"numeric"},"year"):ce.num(W.year,4);case"yyyyyy":return ze?ut({year:"numeric"},"year"):ce.num(W.year,6);case"G":return ct("short");case"GG":return ct("long");case"GGGGG":return ct("narrow");case"kk":return ce.num(W.weekYear.toString().slice(-2),2);case"kkkk":return ce.num(W.weekYear,4);case"W":return ce.num(W.weekNumber);case"WW":return ce.num(W.weekNumber,2);case"o":return ce.num(W.ordinal);case"ooo":return ce.num(W.ordinal,3);case"q":return ce.num(W.quarter);case"qq":return ce.num(W.quarter,2);case"X":return ce.num(Math.floor(W.ts/1e3));case"x":return ce.num(W.ts);default:return function(gn){var Gn=Y.macroTokenToFormatOpts(gn);return Gn?ce.formatWithSystemDefault(W,Gn):gn}(gn)}})},oe.formatDurationFromString=function(W,te){var le,ce=this,Be=function(le){switch(le[0]){case"S":return"millisecond";case"s":return"second";case"m":return"minute";case"h":return"hour";case"d":return"day";case"M":return"month";case"y":return"year";default:return null}},ut=Y.parseFormat(te),ee=ut.reduce(function(V,le){return le.literal?V:V.concat(le.val)},[]),Re=W.shiftTo.apply(W,ee.map(Be).filter(function(V){return V}));return mt(ut,(le=Re,function($e){var ct=Be($e);return ct?ce.num(le.get(ct),$e.length):$e}))},Y}(),en=function(){function Y(j,W){this.reason=j,this.explanation=W}return Y.prototype.toMessage=function(){return this.explanation?this.reason+": "+this.explanation:this.reason},Y}(),mn=function(){function Y(){}var oe=Y.prototype;return oe.offsetName=function(W,te){throw new b},oe.formatOffset=function(W,te){throw new b},oe.offset=function(W){throw new b},oe.equals=function(W){throw new b},n(Y,[{key:"type",get:function(){throw new b}},{key:"name",get:function(){throw new b}},{key:"isUniversal",get:function(){throw new b}},{key:"isValid",get:function(){throw new b}}]),Y}(),In=null,Un=function(Y){function oe(){return Y.apply(this,arguments)||this}i(oe,Y);var j=oe.prototype;return j.offsetName=function(te,ce){return Yt(te,ce.format,ce.locale)},j.formatOffset=function(te,ce){return hn(this.offset(te),ce)},j.offset=function(te){return-new Date(te).getTimezoneOffset()},j.equals=function(te){return"system"===te.type},n(oe,[{key:"type",get:function(){return"system"}},{key:"name",get:function(){return(new Intl.DateTimeFormat).resolvedOptions().timeZone}},{key:"isUniversal",get:function(){return!1}},{key:"isValid",get:function(){return!0}}],[{key:"instance",get:function(){return null===In&&(In=new oe),In}}]),oe}(mn),Jn=RegExp("^"+Zt.source+"$"),zn={},to={year:0,month:1,day:2,hour:3,minute:4,second:5},$n={},kn=function(Y){function oe(W){var te;return(te=Y.call(this)||this).zoneName=W,te.valid=oe.isValidZone(W),te}i(oe,Y),oe.create=function(te){return $n[te]||($n[te]=new oe(te)),$n[te]},oe.resetCache=function(){$n={},zn={}},oe.isValidSpecifier=function(te){return!(!te||!te.match(Jn))},oe.isValidZone=function(te){try{return new Intl.DateTimeFormat("en-US",{timeZone:te}).format(),!0}catch(ce){return!1}},oe.parseGMTOffset=function(te){if(te){var ce=te.match(/^Etc\/GMT(0|[+-]\d{1,2})$/i);if(ce)return-60*parseInt(ce[1])}return null};var j=oe.prototype;return j.offsetName=function(te,ce){return Yt(te,ce.format,ce.locale,this.name)},j.formatOffset=function(te,ce){return hn(this.offset(te),ce)},j.offset=function(te){var ce=new Date(te);if(isNaN(ce))return NaN;var Be=function(Y){return zn[Y]||(zn[Y]=new Intl.DateTimeFormat("en-US",{hourCycle:"h23",timeZone:Y,year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"})),zn[Y]}(this.name),ze=Be.formatToParts?function(Y,oe){for(var j=Y.formatToParts(oe),W=[],te=0;te<j.length;te++){var ce=j[te],ze=ce.value,ut=to[ce.type];ne(ut)||(W[ut]=parseInt(ze,10))}return W}(Be,ce):function(Y,oe){var j=Y.format(oe).replace(/\u200E/g,""),W=/(\d+)\/(\d+)\/(\d+),? (\d+):(\d+):(\d+)/.exec(j);return[W[3],W[1],W[2],W[4],W[5],W[6]]}(Be,ce),Bt=+ce,Qt=Bt%1e3;return(At({year:ze[0],month:ze[1],day:ze[2],hour:ze[3],minute:ze[4],second:ze[5],millisecond:0})-(Bt-=Qt>=0?Qt:1e3+Qt))/6e4},j.equals=function(te){return"iana"===te.type&&te.name===this.name},n(oe,[{key:"type",get:function(){return"iana"}},{key:"name",get:function(){return this.zoneName}},{key:"isUniversal",get:function(){return!1}},{key:"isValid",get:function(){return this.valid}}]),oe}(mn),ro=null,Dt=function(Y){function oe(W){var te;return(te=Y.call(this)||this).fixed=W,te}i(oe,Y),oe.instance=function(te){return 0===te?oe.utcInstance:new oe(te)},oe.parseSpecifier=function(te){if(te){var ce=te.match(/^utc(?:([+-]\d{1,2})(?::(\d{2}))?)?$/i);if(ce)return new oe(ln(ce[1],ce[2]))}return null};var j=oe.prototype;return j.offsetName=function(){return this.name},j.formatOffset=function(te,ce){return hn(this.fixed,ce)},j.offset=function(){return this.fixed},j.equals=function(te){return"fixed"===te.type&&te.fixed===this.fixed},n(oe,[{key:"type",get:function(){return"fixed"}},{key:"name",get:function(){return 0===this.fixed?"UTC":"UTC"+hn(this.fixed,"narrow")}},{key:"isUniversal",get:function(){return!0}},{key:"isValid",get:function(){return!0}}],[{key:"utcInstance",get:function(){return null===ro&&(ro=new oe(0)),ro}}]),oe}(mn),Cn=function(Y){function oe(W){var te;return(te=Y.call(this)||this).zoneName=W,te}i(oe,Y);var j=oe.prototype;return j.offsetName=function(){return null},j.formatOffset=function(){return""},j.offset=function(){return NaN},j.equals=function(){return!1},n(oe,[{key:"type",get:function(){return"invalid"}},{key:"name",get:function(){return this.zoneName}},{key:"isUniversal",get:function(){return!1}},{key:"isValid",get:function(){return!1}}]),oe}(mn);function Fe(Y,oe){var j;if(ne(Y)||null===Y)return oe;if(Y instanceof mn)return Y;if(function(Y){return"string"==typeof Y}(Y)){var W=Y.toLowerCase();return"local"===W||"system"===W?oe:"utc"===W||"gmt"===W?Dt.utcInstance:null!=(j=kn.parseGMTOffset(Y))?Dt.instance(j):kn.isValidSpecifier(W)?kn.create(Y):Dt.parseSpecifier(W)||new Cn(Y)}return De(Y)?Dt.instance(Y):"object"==typeof Y&&Y.offset&&"number"==typeof Y.offset?Y:new Cn(Y)}var rn,Pt=function(){return Date.now()},tn="system",Sn=null,qt=null,cn=null,un=function(){function Y(){}return Y.resetCaches=function(){jt.resetCache(),kn.resetCache()},n(Y,null,[{key:"now",get:function(){return Pt},set:function(j){Pt=j}},{key:"defaultZone",get:function(){return Fe(tn,Un.instance)},set:function(j){tn=j}},{key:"defaultLocale",get:function(){return Sn},set:function(j){Sn=j}},{key:"defaultNumberingSystem",get:function(){return qt},set:function(j){qt=j}},{key:"defaultOutputCalendar",get:function(){return cn},set:function(j){cn=j}},{key:"throwOnInvalid",get:function(){return rn},set:function(j){rn=j}}]),Y}(),Hn=["base"],oo={};function qn(Y,oe){void 0===oe&&(oe={});var j=JSON.stringify([Y,oe]),W=oo[j];return W||(W=new Intl.DateTimeFormat(Y,oe),oo[j]=W),W}var bn={},Yn={};var _t=null;function ht(Y,oe,j,W,te){var ce=Y.listingMode(j);return"error"===ce?null:"en"===ce?W(oe):te(oe)}var It=function(){function Y(j,W,te){if(this.padTo=te.padTo||0,this.floor=te.floor||!1,!W){var ce={useGrouping:!1};te.padTo>0&&(ce.minimumIntegerDigits=te.padTo),this.inf=function(Y,oe){void 0===oe&&(oe={});var j=JSON.stringify([Y,oe]),W=bn[j];return W||(W=new Intl.NumberFormat(Y,oe),bn[j]=W),W}(j,ce)}}return Y.prototype.format=function(W){if(this.inf){var te=this.floor?Math.floor(W):W;return this.inf.format(te)}return yt(this.floor?Math.floor(W):Me(W,3),this.padTo)},Y}(),at=function(){function Y(j,W,te){var ce;if(this.opts=te,j.zone.isUniversal){var Be=j.offset/60*-1,ze=Be>=0?"Etc/GMT+"+Be:"Etc/GMT"+Be,ut=kn.isValidZone(ze);0!==j.offset&&ut?(ce=ze,this.dt=j):(ce="UTC",this.dt=te.timeZoneName||0===j.offset?j:ho.fromMillis(j.ts+60*j.offset*1e3))}else"system"===j.zone.type?this.dt=j:(this.dt=j,ce=j.zone.name);var ee=s({},this.opts);ce&&(ee.timeZone=ce),this.dtf=qn(W,ee)}var oe=Y.prototype;return oe.format=function(){return this.dtf.format(this.dt.toJSDate())},oe.formatToParts=function(){return this.dtf.formatToParts(this.dt.toJSDate())},oe.resolvedOptions=function(){return this.dtf.resolvedOptions()},Y}(),wt=function(){function Y(j,W,te){this.opts=s({style:"long"},te),!W&&it()&&(this.rtf=function(Y,oe){void 0===oe&&(oe={});var W=function(Y,oe){if(null==Y)return{};var te,ce,j={},W=Object.keys(Y);for(ce=0;ce<W.length;ce++)!(oe.indexOf(te=W[ce])>=0)&&(j[te]=Y[te]);return j}(oe,Hn),te=JSON.stringify([Y,W]),ce=Yn[te];return ce||(ce=new Intl.RelativeTimeFormat(Y,oe),Yn[te]=ce),ce}(j,te))}var oe=Y.prototype;return oe.format=function(W,te){return this.rtf?this.rtf.format(W,te):function(Y,oe,j,W){void 0===j&&(j="always"),void 0===W&&(W=!1);var te={years:["year","yr."],quarters:["quarter","qtr."],months:["month","mo."],weeks:["week","wk."],days:["day","day","days"],hours:["hour","hr."],minutes:["minute","min."],seconds:["second","sec."]},ce=-1===["hours","minutes","seconds"].indexOf(Y);if("auto"===j&&ce){var Be="days"===Y;switch(oe){case 1:return Be?"tomorrow":"next "+te[Y][0];case-1:return Be?"yesterday":"last "+te[Y][0];case 0:return Be?"today":"this "+te[Y][0]}}var ze=Object.is(oe,-0)||oe<0,ut=Math.abs(oe),ee=1===ut,Re=te[Y],V=W?ee?Re[1]:Re[2]||Re[1]:ee?te[Y][0]:Y;return ze?ut+" "+V+" ago":"in "+ut+" "+V}(te,W,this.opts.numeric,"long"!==this.opts.style)},oe.formatToParts=function(W,te){return this.rtf?this.rtf.formatToParts(W,te):[]},Y}(),jt=function(){function Y(j,W,te,ce){var Be=function(Y){var oe=Y.indexOf("-u-");if(-1===oe)return[Y];var j,W=Y.substring(0,oe);try{j=qn(Y).resolvedOptions()}catch(ze){j=qn(W).resolvedOptions()}return[W,j.numberingSystem,j.calendar]}(j),ut=Be[1],ee=Be[2];this.locale=Be[0],this.numberingSystem=W||ut||null,this.outputCalendar=te||ee||null,this.intl=function(Y,oe,j){return(j||oe)&&(Y+="-u",j&&(Y+="-ca-"+j),oe&&(Y+="-nu-"+oe)),Y}(this.locale,this.numberingSystem,this.outputCalendar),this.weekdaysCache={format:{},standalone:{}},this.monthsCache={format:{},standalone:{}},this.meridiemCache=null,this.eraCache={},this.specifiedLocale=ce,this.fastNumbersCached=null}Y.fromOpts=function(W){return Y.create(W.locale,W.numberingSystem,W.outputCalendar,W.defaultToEN)},Y.create=function(W,te,ce,Be){void 0===Be&&(Be=!1);var ze=W||un.defaultLocale;return new Y(ze||(Be?"en-US":_t||(_t=(new Intl.DateTimeFormat).resolvedOptions().locale)),te||un.defaultNumberingSystem,ce||un.defaultOutputCalendar,ze)},Y.resetCache=function(){_t=null,oo={},bn={},Yn={}},Y.fromObject=function(W){var te=void 0===W?{}:W;return Y.create(te.locale,te.numberingSystem,te.outputCalendar)};var oe=Y.prototype;return oe.listingMode=function(W){return this.isEnglish()&&!(null!==this.numberingSystem&&"latn"!==this.numberingSystem||null!==this.outputCalendar&&"gregory"!==this.outputCalendar)?"en":"intl"},oe.clone=function(W){return W&&0!==Object.getOwnPropertyNames(W).length?Y.create(W.locale||this.specifiedLocale,W.numberingSystem||this.numberingSystem,W.outputCalendar||this.outputCalendar,W.defaultToEN||!1):this},oe.redefaultToEN=function(W){return void 0===W&&(W={}),this.clone(s({},W,{defaultToEN:!0}))},oe.redefaultToSystem=function(W){return void 0===W&&(W={}),this.clone(s({},W,{defaultToEN:!1}))},oe.months=function(W,te,ce){var Be=this;return void 0===te&&(te=!1),void 0===ce&&(ce=!0),ht(this,W,ce,qe,function(){var ze=te?{month:W,day:"numeric"}:{month:W},ut=te?"format":"standalone";return Be.monthsCache[ut][W]||(Be.monthsCache[ut][W]=function(Y){for(var oe=[],j=1;j<=12;j++){var W=ho.utc(2016,j,1);oe.push(Be.extract(W,ze,"month"))}return oe}()),Be.monthsCache[ut][W]})},oe.weekdays=function(W,te,ce){var Be=this;return void 0===te&&(te=!1),void 0===ce&&(ce=!0),ht(this,W,ce,Je,function(){var ze=te?{weekday:W,year:"numeric",month:"long",day:"numeric"}:{weekday:W},ut=te?"format":"standalone";return Be.weekdaysCache[ut][W]||(Be.weekdaysCache[ut][W]=function(Y){for(var oe=[],j=1;j<=7;j++){var W=ho.utc(2016,11,13+j);oe.push(Be.extract(W,ze,"weekday"))}return oe}()),Be.weekdaysCache[ut][W]})},oe.meridiems=function(W){var te=this;return void 0===W&&(W=!0),ht(this,void 0,W,function(){return Ot},function(){if(!te.meridiemCache){var ce={hour:"numeric",hourCycle:"h12"};te.meridiemCache=[ho.utc(2016,11,13,9),ho.utc(2016,11,13,19)].map(function(Be){return te.extract(Be,ce,"dayperiod")})}return te.meridiemCache})},oe.eras=function(W,te){var ce=this;return void 0===te&&(te=!0),ht(this,W,te,Pe,function(){var Be={era:W};return ce.eraCache[W]||(ce.eraCache[W]=[ho.utc(-40,1,1),ho.utc(2017,1,1)].map(function(ze){return ce.extract(ze,Be,"era")})),ce.eraCache[W]})},oe.extract=function(W,te,ce){var ut=this.dtFormatter(W,te).formatToParts().find(function(ee){return ee.type.toLowerCase()===ce});return ut?ut.value:null},oe.numberFormatter=function(W){return void 0===W&&(W={}),new It(this.intl,W.forceSimple||this.fastNumbers,W)},oe.dtFormatter=function(W,te){return void 0===te&&(te={}),new at(W,this.intl,te)},oe.relFormatter=function(W){return void 0===W&&(W={}),new wt(this.intl,this.isEnglish(),W)},oe.isEnglish=function(){return"en"===this.locale||"en-us"===this.locale.toLowerCase()||new Intl.DateTimeFormat(this.intl).resolvedOptions().locale.startsWith("en-us")},oe.equals=function(W){return this.locale===W.locale&&this.numberingSystem===W.numberingSystem&&this.outputCalendar===W.outputCalendar},n(Y,[{key:"fastNumbers",get:function(){return null==this.fastNumbersCached&&(this.fastNumbersCached=function(Y){return(!Y.numberingSystem||"latn"===Y.numberingSystem)&&("latn"===Y.numberingSystem||!Y.locale||Y.locale.startsWith("en")||"latn"===new Intl.DateTimeFormat(Y.intl).resolvedOptions().numberingSystem)}(this)),this.fastNumbersCached}}]),Y}();function Tn(){for(var Y=arguments.length,oe=new Array(Y),j=0;j<Y;j++)oe[j]=arguments[j];var W=oe.reduce(function(te,ce){return te+ce.source},"");return RegExp("^"+W+"$")}function Fn(){for(var Y=arguments.length,oe=new Array(Y),j=0;j<Y;j++)oe[j]=arguments[j];return function(W){return oe.reduce(function(te,ce){var Be=te[0],ze=te[1],ee=ce(W,te[2]),V=ee[1],le=ee[2];return[s({},Be,ee[0]),ze||V,le]},[{},null,1]).slice(0,2)}}function Nn(Y){if(null==Y)return[null,null];for(var oe=arguments.length,j=new Array(oe>1?oe-1:0),W=1;W<oe;W++)j[W-1]=arguments[W];for(var te=0,ce=j;te<ce.length;te++){var Be=ce[te],ze=Be[0],ut=Be[1],ee=ze.exec(Y);if(ee)return ut(ee)}return[null,null]}function Wn(){for(var Y=arguments.length,oe=new Array(Y),j=0;j<Y;j++)oe[j]=arguments[j];return function(W,te){var Be,ce={};for(Be=0;Be<oe.length;Be++)ce[oe[Be]]=Ft(W[te+Be]);return[ce,null,te+Be]}}var Xn=/(?:(Z)|([+-]\d\d)(?::?(\d\d))?)/,lo=/(\d\d)(?::?(\d\d)(?::?(\d\d)(?:[.,](\d{1,30}))?)?)?/,Vn=RegExp(""+lo.source+Xn.source+"?"),rt=RegExp("(?:T"+Vn.source+")?"),_n=Wn("weekYear","weekNumber","weekDay"),ao=Wn("year","ordinal"),_o=RegExp(lo.source+" ?(?:"+Xn.source+"|("+Zt.source+"))?"),vo=RegExp("(?: "+_o.source+")?");function Oo(Y,oe,j){var W=Y[oe];return ne(W)?j:Ft(W)}function Po(Y,oe){return[{year:Oo(Y,oe),month:Oo(Y,oe+1,1),day:Oo(Y,oe+2,1)},null,oe+3]}function Bo(Y,oe){return[{hours:Oo(Y,oe,0),minutes:Oo(Y,oe+1,0),seconds:Oo(Y,oe+2,0),milliseconds:ot(Y[oe+3])},null,oe+4]}function Fo(Y,oe){var j=!Y[oe]&&!Y[oe+1],W=ln(Y[oe+1],Y[oe+2]);return[{},j?null:Dt.instance(W),oe+3]}function si(Y,oe){return[{},Y[oe]?kn.create(Y[oe]):null,oe+1]}var hi=RegExp("^T?"+lo.source+"$"),Pi=/^-?P(?:(?:(-?\d{1,9})Y)?(?:(-?\d{1,9})M)?(?:(-?\d{1,9})W)?(?:(-?\d{1,9})D)?(?:T(?:(-?\d{1,9})H)?(?:(-?\d{1,9})M)?(?:(-?\d{1,20})(?:[.,](-?\d{1,9}))?S)?)?)$/;function yi(Y){var W=Y[2],te=Y[3],ce=Y[4],Be=Y[5],ze=Y[6],ut=Y[7],ee=Y[8],Re="-"===Y[0][0],V=ut&&"-"===ut[0],le=function(ct,Bt){return void 0===Bt&&(Bt=!1),void 0!==ct&&(Bt||ct&&Re)?-ct:ct};return[{years:le(Ft(Y[1])),months:le(Ft(W)),weeks:le(Ft(te)),days:le(Ft(ce)),hours:le(Ft(Be)),minutes:le(Ft(ze)),seconds:le(Ft(ut),"-0"===ut),milliseconds:le(ot(ee),V)}]}var Li={GMT:0,EDT:-240,EST:-300,CDT:-300,CST:-360,MDT:-360,MST:-420,PDT:-420,PST:-480};function ko(Y,oe,j,W,te,ce,Be){var ze={year:2===oe.length?zt(Ft(oe)):Ft(oe),month:Le.indexOf(j)+1,day:Ft(W),hour:Ft(te),minute:Ft(ce)};return Be&&(ze.second=Ft(Be)),Y&&(ze.weekday=Y.length>3?Et.indexOf(Y)+1:st.indexOf(Y)+1),ze}var bi=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|(?:([+-]\d\d)(\d\d)))$/;function Kn(Y){var $e,ut=Y[8],ee=Y[9],Re=Y[10],V=Y[11],le=ko(Y[1],Y[4],Y[3],Y[2],Y[5],Y[6],Y[7]);return $e=ut?Li[ut]:ee?0:ln(Re,V),[le,new Dt($e)]}var ki=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun), (\d\d) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) (\d{4}) (\d\d):(\d\d):(\d\d) GMT$/,mr=/^(Monday|Tuesday|Wedsday|Thursday|Friday|Saturday|Sunday), (\d\d)-(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)-(\d\d) (\d\d):(\d\d):(\d\d) GMT$/,fi=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) ( \d|\d\d) (\d\d):(\d\d):(\d\d) (\d{4})$/;function Bi(Y){return[ko(Y[1],Y[4],Y[3],Y[2],Y[5],Y[6],Y[7]),Dt.utcInstance]}function ji(Y){return[ko(Y[1],Y[7],Y[2],Y[3],Y[4],Y[5],Y[6]),Dt.utcInstance]}var Zi=Tn(/([+-]\d{6}|\d{4})(?:-?(\d\d)(?:-?(\d\d))?)?/,rt),Qi=Tn(/(\d{4})-?W(\d\d)(?:-?(\d))?/,rt),Ji=Tn(/(\d{4})-?(\d{3})/,rt),ae=Tn(Vn),re=Fn(Po,Bo,Fo),Z=Fn(_n,Bo,Fo),Te=Fn(ao,Bo,Fo),bt=Fn(Bo,Fo),$i=Fn(Bo),us=Tn(/(\d{4})-(\d\d)-(\d\d)/,vo),Xi=Tn(_o),fo=Fn(Po,Bo,Fo,si),wr=Fn(Bo,Fo,si),gr={weeks:{days:7,hours:168,minutes:10080,seconds:604800,milliseconds:6048e5},days:{hours:24,minutes:1440,seconds:86400,milliseconds:864e5},hours:{minutes:60,seconds:3600,milliseconds:36e5},minutes:{seconds:60,milliseconds:6e4},seconds:{milliseconds:1e3}},er=s({years:{quarters:4,months:12,weeks:52,days:365,hours:8760,minutes:525600,seconds:31536e3,milliseconds:31536e6},quarters:{months:3,weeks:13,days:91,hours:2184,minutes:131040,seconds:7862400,milliseconds:78624e5},months:{weeks:4,days:30,hours:720,minutes:43200,seconds:2592e3,milliseconds:2592e6}},gr),Co=365.2425,li=30.436875,_r=s({years:{quarters:4,months:12,weeks:Co/7,days:Co,hours:24*Co,minutes:525949.2,seconds:525949.2*60,milliseconds:525949.2*60*1e3},quarters:{months:3,weeks:Co/28,days:Co/4,hours:24*Co/4,minutes:131487.3,seconds:525949.2*60/4,milliseconds:7889237999.999999},months:{weeks:li/7,days:li,hours:24*li,minutes:43829.1,seconds:2629746,milliseconds:2629746e3}},gr),Vo=["years","quarters","months","weeks","days","hours","minutes","seconds","milliseconds"],Nr=Vo.slice(0).reverse();function Io(Y,oe,j){void 0===j&&(j=!1);var W={values:j?oe.values:s({},Y.values,oe.values||{}),loc:Y.loc.clone(oe.loc),conversionAccuracy:oe.conversionAccuracy||Y.conversionAccuracy};return new po(W)}function Lo(Y,oe,j,W,te){var ce=Y[te][j],Be=oe[j]/ce,ut=Math.sign(Be)!==Math.sign(W[te])&&0!==W[te]&&Math.abs(Be)<=1?function(Y){return Y<0?Math.floor(Y):Math.ceil(Y)}(Be):Math.trunc(Be);W[te]+=ut,oe[j]-=ut*ce}var po=function(){function Y(j){var W="longterm"===j.conversionAccuracy||!1;this.values=j.values,this.loc=j.loc||jt.create(),this.conversionAccuracy=W?"longterm":"casual",this.invalid=j.invalid||null,this.matrix=W?_r:er,this.isLuxonDuration=!0}Y.fromMillis=function(W,te){return Y.fromObject({milliseconds:W},te)},Y.fromObject=function(W,te){if(void 0===te&&(te={}),null==W||"object"!=typeof W)throw new F("Duration.fromObject: argument expected to be an object, got "+(null===W?"null":typeof W));return new Y({values:nn(W,Y.normalizeUnit),loc:jt.fromObject(te),conversionAccuracy:te.conversionAccuracy})},Y.fromISO=function(W,te){var Be=function(Y){return Nn(Y,[Pi,yi])}(W)[0];return Be?Y.fromObject(Be,te):Y.invalid("unparsable",'the input "'+W+"\" can't be parsed as ISO 8601")},Y.fromISOTime=function(W,te){var Be=function(Y){return Nn(Y,[hi,$i])}(W)[0];return Be?Y.fromObject(Be,te):Y.invalid("unparsable",'the input "'+W+"\" can't be parsed as ISO 8601")},Y.invalid=function(W,te){if(void 0===te&&(te=null),!W)throw new F("need to specify a reason the Duration is invalid");var ce=W instanceof en?W:new en(W,te);if(un.throwOnInvalid)throw new I(ce);return new Y({invalid:ce})},Y.normalizeUnit=function(W){var te={year:"years",years:"years",quarter:"quarters",quarters:"quarters",month:"months",months:"months",week:"weeks",weeks:"weeks",day:"days",days:"days",hour:"hours",hours:"hours",minute:"minutes",minutes:"minutes",second:"seconds",seconds:"seconds",millisecond:"milliseconds",milliseconds:"milliseconds"}[W&&W.toLowerCase()];if(!te)throw new L(W);return te},Y.isDuration=function(W){return W&&W.isLuxonDuration||!1};var oe=Y.prototype;return oe.toFormat=function(W,te){void 0===te&&(te={});var ce=s({},te,{floor:!1!==te.round&&!1!==te.floor});return this.isValid?Xt.create(this.loc,ce).formatDurationFromString(this,W):"Invalid Duration"},oe.toObject=function(){return this.isValid?s({},this.values):{}},oe.toISO=function(){if(!this.isValid)return null;var W="P";return 0!==this.years&&(W+=this.years+"Y"),(0!==this.months||0!==this.quarters)&&(W+=this.months+3*this.quarters+"M"),0!==this.weeks&&(W+=this.weeks+"W"),0!==this.days&&(W+=this.days+"D"),(0!==this.hours||0!==this.minutes||0!==this.seconds||0!==this.milliseconds)&&(W+="T"),0!==this.hours&&(W+=this.hours+"H"),0!==this.minutes&&(W+=this.minutes+"M"),(0!==this.seconds||0!==this.milliseconds)&&(W+=Me(this.seconds+this.milliseconds/1e3,3)+"S"),"P"===W&&(W+="T0S"),W},oe.toISOTime=function(W){if(void 0===W&&(W={}),!this.isValid)return null;var te=this.toMillis();if(te<0||te>=864e5)return null;W=s({suppressMilliseconds:!1,suppressSeconds:!1,includePrefix:!1,format:"extended"},W);var ce=this.shiftTo("hours","minutes","seconds","milliseconds"),Be="basic"===W.format?"hhmm":"hh:mm";(!W.suppressSeconds||0!==ce.seconds||0!==ce.milliseconds)&&(Be+="basic"===W.format?"ss":":ss",(!W.suppressMilliseconds||0!==ce.milliseconds)&&(Be+=".SSS"));var ze=ce.toFormat(Be);return W.includePrefix&&(ze="T"+ze),ze},oe.toJSON=function(){return this.toISO()},oe.toString=function(){return this.toISO()},oe.toMillis=function(){return this.as("milliseconds")},oe.valueOf=function(){return this.toMillis()},oe.plus=function(W){if(!this.isValid)return this;for(var ze,te=Xo(W),ce={},Be=E(Vo);!(ze=Be()).done;){var ut=ze.value;(Vt(te.values,ut)||Vt(this.values,ut))&&(ce[ut]=te.get(ut)+this.get(ut))}return Io(this,{values:ce},!0)},oe.minus=function(W){if(!this.isValid)return this;var te=Xo(W);return this.plus(te.negate())},oe.mapUnits=function(W){if(!this.isValid)return this;for(var te={},ce=0,Be=Object.keys(this.values);ce<Be.length;ce++){var ze=Be[ce];te[ze]=pn(W(this.values[ze],ze))}return Io(this,{values:te},!0)},oe.get=function(W){return this[Y.normalizeUnit(W)]},oe.set=function(W){return this.isValid?Io(this,{values:s({},this.values,nn(W,Y.normalizeUnit))}):this},oe.reconfigure=function(W){var te=void 0===W?{}:W,ze=te.conversionAccuracy,ee={loc:this.loc.clone({locale:te.locale,numberingSystem:te.numberingSystem})};return ze&&(ee.conversionAccuracy=ze),Io(this,ee)},oe.as=function(W){return this.isValid?this.shiftTo(W).get(W):NaN},oe.normalize=function(){if(!this.isValid)return this;var W=this.toObject();return function(Y,oe){Nr.reduce(function(j,W){return ne(oe[W])?j:(j&&Lo(Y,oe,j,oe,W),W)},null)}(this.matrix,W),Io(this,{values:W},!0)},oe.shiftTo=function(){for(var W=arguments.length,te=new Array(W),ce=0;ce<W;ce++)te[ce]=arguments[ce];if(!this.isValid)return this;if(0===te.length)return this;te=te.map(function(Gn){return Y.normalizeUnit(Gn)});for(var ee,V,Be={},ze={},ut=this.toObject(),Re=E(Vo);!(V=Re()).done;){var le=V.value;if(te.indexOf(le)>=0){ee=le;var $e=0;for(var ct in ze)$e+=this.matrix[ct][le]*ze[ct],ze[ct]=0;De(ut[le])&&($e+=ut[le]);var Bt=Math.trunc($e);for(var Qt in Be[le]=Bt,ze[le]=$e-Bt,ut)Vo.indexOf(Qt)>Vo.indexOf(le)&&Lo(this.matrix,ut,Qt,Be,le)}else De(ut[le])&&(ze[le]=ut[le])}for(var gn in ze)0!==ze[gn]&&(Be[ee]+=gn===ee?ze[gn]:ze[gn]/this.matrix[ee][gn]);return Io(this,{values:Be},!0).normalize()},oe.negate=function(){if(!this.isValid)return this;for(var W={},te=0,ce=Object.keys(this.values);te<ce.length;te++){var Be=ce[te];W[Be]=-this.values[Be]}return Io(this,{values:W},!0)},oe.equals=function(W){if(!this.isValid||!W.isValid||!this.loc.equals(W.loc))return!1;for(var Be,ce=E(Vo);!(Be=ce()).done;){var ze=Be.value;if(ee=W.values[ze],!(void 0===(ut=this.values[ze])||0===ut?void 0===ee||0===ee:ut===ee))return!1}var ut,ee;return!0},n(Y,[{key:"locale",get:function(){return this.isValid?this.loc.locale:null}},{key:"numberingSystem",get:function(){return this.isValid?this.loc.numberingSystem:null}},{key:"years",get:function(){return this.isValid?this.values.years||0:NaN}},{key:"quarters",get:function(){return this.isValid?this.values.quarters||0:NaN}},{key:"months",get:function(){return this.isValid?this.values.months||0:NaN}},{key:"weeks",get:function(){return this.isValid?this.values.weeks||0:NaN}},{key:"days",get:function(){return this.isValid?this.values.days||0:NaN}},{key:"hours",get:function(){return this.isValid?this.values.hours||0:NaN}},{key:"minutes",get:function(){return this.isValid?this.values.minutes||0:NaN}},{key:"seconds",get:function(){return this.isValid?this.values.seconds||0:NaN}},{key:"milliseconds",get:function(){return this.isValid?this.values.milliseconds||0:NaN}},{key:"isValid",get:function(){return null===this.invalid}},{key:"invalidReason",get:function(){return this.invalid?this.invalid.reason:null}},{key:"invalidExplanation",get:function(){return this.invalid?this.invalid.explanation:null}}]),Y}();function Xo(Y){if(De(Y))return po.fromMillis(Y);if(po.isDuration(Y))return Y;if("object"==typeof Y)return po.fromObject(Y);throw new F("Unknown duration argument "+Y+" of type "+typeof Y)}var mi="Invalid Interval",ni=function(){function Y(j){this.s=j.start,this.e=j.end,this.invalid=j.invalid||null,this.isLuxonInterval=!0}Y.invalid=function(W,te){if(void 0===te&&(te=null),!W)throw new F("need to specify a reason the Interval is invalid");var ce=W instanceof en?W:new en(W,te);if(un.throwOnInvalid)throw new y(ce);return new Y({invalid:ce})},Y.fromDateTimes=function(W,te){var ce=ei(W),Be=ei(te),ze=function(Y,oe){return Y&&Y.isValid?oe&&oe.isValid?oe<Y?ni.invalid("end before start","The end of an interval must be after its start, but you had start="+Y.toISO()+" and end="+oe.toISO()):null:ni.invalid("missing or invalid end"):ni.invalid("missing or invalid start")}(ce,Be);return null==ze?new Y({start:ce,end:Be}):ze},Y.after=function(W,te){var ce=Xo(te),Be=ei(W);return Y.fromDateTimes(Be,Be.plus(ce))},Y.before=function(W,te){var ce=Xo(te),Be=ei(W);return Y.fromDateTimes(Be.minus(ce),Be)},Y.fromISO=function(W,te){var ce=(W||"").split("/",2),Be=ce[0],ze=ce[1];if(Be&&ze){var ut,ee,Re,V;try{ee=(ut=ho.fromISO(Be,te)).isValid}catch(ct){ee=!1}try{V=(Re=ho.fromISO(ze,te)).isValid}catch(ct){V=!1}if(ee&&V)return Y.fromDateTimes(ut,Re);if(ee){var le=po.fromISO(ze,te);if(le.isValid)return Y.after(ut,le)}else if(V){var $e=po.fromISO(Be,te);if($e.isValid)return Y.before(Re,$e)}}return Y.invalid("unparsable",'the input "'+W+"\" can't be parsed as ISO 8601")},Y.isInterval=function(W){return W&&W.isLuxonInterval||!1};var oe=Y.prototype;return oe.length=function(W){return void 0===W&&(W="milliseconds"),this.isValid?this.toDuration.apply(this,[W]).get(W):NaN},oe.count=function(W){if(void 0===W&&(W="milliseconds"),!this.isValid)return NaN;var te=this.start.startOf(W),ce=this.end.startOf(W);return Math.floor(ce.diff(te,W).get(W))+1},oe.hasSame=function(W){return!!this.isValid&&(this.isEmpty()||this.e.minus(1).hasSame(this.s,W))},oe.isEmpty=function(){return this.s.valueOf()===this.e.valueOf()},oe.isAfter=function(W){return!!this.isValid&&this.s>W},oe.isBefore=function(W){return!!this.isValid&&this.e<=W},oe.contains=function(W){return!!this.isValid&&this.s<=W&&this.e>W},oe.set=function(W){var te=void 0===W?{}:W;return this.isValid?Y.fromDateTimes(te.start||this.s,te.end||this.e):this},oe.splitAt=function(){var W=this;if(!this.isValid)return[];for(var te=arguments.length,ce=new Array(te),Be=0;Be<te;Be++)ce[Be]=arguments[Be];for(var ze=ce.map(ei).filter(function($e){return W.contains($e)}).sort(),ut=[],ee=this.s,Re=0;ee<this.e;){var V=ze[Re]||this.e,le=+V>+this.e?this.e:V;ut.push(Y.fromDateTimes(ee,le)),ee=le,Re+=1}return ut},oe.splitBy=function(W){var te=Xo(W);if(!this.isValid||!te.isValid||0===te.as("milliseconds"))return[];for(var ze,ce=this.s,Be=1,ut=[];ce<this.e;){var ee=this.start.plus(te.mapUnits(function(Re){return Re*Be}));ut.push(Y.fromDateTimes(ce,ze=+ee>+this.e?this.e:ee)),ce=ze,Be+=1}return ut},oe.divideEqually=function(W){return this.isValid?this.splitBy(this.length()/W).slice(0,W):[]},oe.overlaps=function(W){return this.e>W.s&&this.s<W.e},oe.abutsStart=function(W){return!!this.isValid&&+this.e==+W.s},oe.abutsEnd=function(W){return!!this.isValid&&+W.e==+this.s},oe.engulfs=function(W){return!!this.isValid&&this.s<=W.s&&this.e>=W.e},oe.equals=function(W){return!(!this.isValid||!W.isValid)&&this.s.equals(W.s)&&this.e.equals(W.e)},oe.intersection=function(W){if(!this.isValid)return this;var te=this.s>W.s?this.s:W.s,ce=this.e<W.e?this.e:W.e;return te>=ce?null:Y.fromDateTimes(te,ce)},oe.union=function(W){return this.isValid?Y.fromDateTimes(this.s<W.s?this.s:W.s,this.e>W.e?this.e:W.e):this},Y.merge=function(W){var te=W.sort(function(ze,ut){return ze.s-ut.s}).reduce(function(ze,ut){var ee=ze[0],Re=ze[1];return Re?Re.overlaps(ut)||Re.abutsStart(ut)?[ee,Re.union(ut)]:[ee.concat([Re]),ut]:[ee,ut]},[[],null]),ce=te[0],Be=te[1];return Be&&ce.push(Be),ce},Y.xor=function(W){for(var te,le,ce=null,Be=0,ze=[],ut=W.map(function(ct){return[{time:ct.s,type:"s"},{time:ct.e,type:"e"}]}),V=E((te=Array.prototype).concat.apply(te,ut).sort(function(ct,Bt){return ct.time-Bt.time}));!(le=V()).done;){var $e=le.value;1===(Be+="s"===$e.type?1:-1)?ce=$e.time:(ce&&+ce!=+$e.time&&ze.push(Y.fromDateTimes(ce,$e.time)),ce=null)}return Y.merge(ze)},oe.difference=function(){for(var W=this,te=arguments.length,ce=new Array(te),Be=0;Be<te;Be++)ce[Be]=arguments[Be];return Y.xor([this].concat(ce)).map(function(ze){return W.intersection(ze)}).filter(function(ze){return ze&&!ze.isEmpty()})},oe.toString=function(){return this.isValid?"["+this.s.toISO()+" \u2013 "+this.e.toISO()+")":mi},oe.toISO=function(W){return this.isValid?this.s.toISO(W)+"/"+this.e.toISO(W):mi},oe.toISODate=function(){return this.isValid?this.s.toISODate()+"/"+this.e.toISODate():mi},oe.toISOTime=function(W){return this.isValid?this.s.toISOTime(W)+"/"+this.e.toISOTime(W):mi},oe.toFormat=function(W,te){var Be=(void 0===te?{}:te).separator,ze=void 0===Be?" \u2013 ":Be;return this.isValid?""+this.s.toFormat(W)+ze+this.e.toFormat(W):mi},oe.toDuration=function(W,te){return this.isValid?this.e.diff(this.s,W,te):po.invalid(this.invalidReason)},oe.mapEndpoints=function(W){return Y.fromDateTimes(W(this.s),W(this.e))},n(Y,[{key:"start",get:function(){return this.isValid?this.s:null}},{key:"end",get:function(){return this.isValid?this.e:null}},{key:"isValid",get:function(){return null===this.invalidReason}},{key:"invalidReason",get:function(){return this.invalid?this.invalid.reason:null}},{key:"invalidExplanation",get:function(){return this.invalid?this.invalid.explanation:null}}]),Y}(),bo=function(){function Y(){}return Y.hasDST=function(j){void 0===j&&(j=un.defaultZone);var W=ho.now().setZone(j).set({month:12});return!j.isUniversal&&W.offset!==W.set({month:6}).offset},Y.isValidIANAZone=function(j){return kn.isValidSpecifier(j)&&kn.isValidZone(j)},Y.normalizeZone=function(j){return Fe(j,un.defaultZone)},Y.months=function(j,W){void 0===j&&(j="long");var te=void 0===W?{}:W,ce=te.locale,ze=te.numberingSystem,ee=te.locObj,V=te.outputCalendar;return((void 0===ee?null:ee)||jt.create(void 0===ce?null:ce,void 0===ze?null:ze,void 0===V?"gregory":V)).months(j)},Y.monthsFormat=function(j,W){void 0===j&&(j="long");var te=void 0===W?{}:W,ce=te.locale,ze=te.numberingSystem,ee=te.locObj,V=te.outputCalendar;return((void 0===ee?null:ee)||jt.create(void 0===ce?null:ce,void 0===ze?null:ze,void 0===V?"gregory":V)).months(j,!0)},Y.weekdays=function(j,W){void 0===j&&(j="long");var te=void 0===W?{}:W,ce=te.locale,ze=te.numberingSystem,ee=te.locObj;return((void 0===ee?null:ee)||jt.create(void 0===ce?null:ce,void 0===ze?null:ze,null)).weekdays(j)},Y.weekdaysFormat=function(j,W){void 0===j&&(j="long");var te=void 0===W?{}:W,ce=te.locale,ze=te.numberingSystem,ee=te.locObj;return((void 0===ee?null:ee)||jt.create(void 0===ce?null:ce,void 0===ze?null:ze,null)).weekdays(j,!0)},Y.meridiems=function(j){var te=(void 0===j?{}:j).locale;return jt.create(void 0===te?null:te).meridiems()},Y.eras=function(j,W){void 0===j&&(j="short");var ce=(void 0===W?{}:W).locale;return jt.create(void 0===ce?null:ce,null,"gregory").eras(j)},Y.features=function(){return{relative:it()}},Y}();function tr(Y,oe){var j=function(ce){return ce.toUTC(0,{keepLocalTime:!0}).startOf("day").valueOf()},W=j(oe)-j(Y);return Math.floor(po.fromMillis(W).as("days"))}var ir={arab:"[\u0660-\u0669]",arabext:"[\u06f0-\u06f9]",bali:"[\u1b50-\u1b59]",beng:"[\u09e6-\u09ef]",deva:"[\u0966-\u096f]",fullwide:"[\uff10-\uff19]",gujr:"[\u0ae6-\u0aef]",hanidec:"[\u3007|\u4e00|\u4e8c|\u4e09|\u56db|\u4e94|\u516d|\u4e03|\u516b|\u4e5d]",khmr:"[\u17e0-\u17e9]",knda:"[\u0ce6-\u0cef]",laoo:"[\u0ed0-\u0ed9]",limb:"[\u1946-\u194f]",mlym:"[\u0d66-\u0d6f]",mong:"[\u1810-\u1819]",mymr:"[\u1040-\u1049]",orya:"[\u0b66-\u0b6f]",tamldec:"[\u0be6-\u0bef]",telu:"[\u0c66-\u0c6f]",thai:"[\u0e50-\u0e59]",tibt:"[\u0f20-\u0f29]",latn:"\\d"},Ni={arab:[1632,1641],arabext:[1776,1785],bali:[6992,7001],beng:[2534,2543],deva:[2406,2415],fullwide:[65296,65303],gujr:[2790,2799],khmr:[6112,6121],knda:[3302,3311],laoo:[3792,3801],limb:[6470,6479],mlym:[3430,3439],mong:[6160,6169],mymr:[4160,4169],orya:[2918,2927],tamldec:[3046,3055],telu:[3174,3183],thai:[3664,3673],tibt:[3872,3881]},Er=ir.hanidec.replace(/[\[|\]]/g,"").split("");function No(Y,oe){return void 0===oe&&(oe=""),new RegExp(""+ir[Y.numberingSystem||"latn"]+oe)}function jn(Y,oe){return void 0===oe&&(oe=function(W){return W}),{regex:Y,deser:function(W){return oe(function(Y){var oe=parseInt(Y,10);if(isNaN(oe)){oe="";for(var j=0;j<Y.length;j++){var W=Y.charCodeAt(j);if(-1!==Y[j].search(ir.hanidec))oe+=Er.indexOf(Y[j]);else for(var te in Ni){var ce=Ni[te],Be=ce[0];W>=Be&&W<=ce[1]&&(oe+=W-Be)}}return parseInt(oe,10)}return oe}(W[0]))}}}var Zo="( |"+String.fromCharCode(160)+")",So=new RegExp(Zo,"g");function ds(Y){return Y.replace(/\./g,"\\.?").replace(So,Zo)}function rr(Y){return Y.replace(/\./g,"").replace(So," ").toLowerCase()}function Ko(Y,oe){return null===Y?null:{regex:RegExp(Y.map(ds).join("|")),deser:function(W){var te=W[0];return Y.findIndex(function(ce){return rr(te)===rr(ce)})+oe}}}function yr(Y,oe){return{regex:Y,deser:function(W){return ln(W[1],W[2])},groups:oe}}function Ui(Y){return{regex:Y,deser:function(j){return j[0]}}}function sr(Y){return Y.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}var Wi={year:{"2-digit":"yy",numeric:"yyyyy"},month:{numeric:"M","2-digit":"MM",short:"MMM",long:"MMMM"},day:{numeric:"d","2-digit":"dd"},weekday:{short:"EEE",long:"EEEE"},dayperiod:"a",dayPeriod:"a",hour:{numeric:"h","2-digit":"hh"},minute:{numeric:"m","2-digit":"mm"},second:{numeric:"s","2-digit":"ss"}},Tr=null;function Di(Y,oe,j){var W=function(Y,oe){var j;return(j=Array.prototype).concat.apply(j,Y.map(function(W){return function(Y,oe){if(Y.literal)return Y;var j=Xt.macroTokenToFormatOpts(Y.val);if(!j)return Y;var ce=Xt.create(oe,j).formatDateTimeParts((Tr||(Tr=ho.fromMillis(1555555555555)),Tr)).map(function(Be){return function(Y,oe,j){var W=Y.type;if("literal"===W)return{literal:!0,val:Y.value};var Be=Wi[W];return"object"==typeof Be&&(Be=Be[j[W]]),Be?{literal:!1,val:Be}:void 0}(Be,0,j)});return ce.includes(void 0)?Y:ce}(W,oe)}))}(Xt.parseFormat(j),Y),te=W.map(function(Qt){return function(Y,oe){var j=No(oe),W=No(oe,"{2}"),te=No(oe,"{3}"),ce=No(oe,"{4}"),Be=No(oe,"{6}"),ze=No(oe,"{1,2}"),ut=No(oe,"{1,3}"),ee=No(oe,"{1,6}"),Re=No(oe,"{1,9}"),V=No(oe,"{2,4}"),le=No(oe,"{4,6}"),$e=function(gn){return{regex:RegExp(sr(gn.val)),deser:function(io){return io[0]},literal:!0}},Bt=function(gn){if(Y.literal)return $e(gn);switch(gn.val){case"G":return Ko(oe.eras("short",!1),0);case"GG":return Ko(oe.eras("long",!1),0);case"y":return jn(ee);case"yy":return jn(V,zt);case"yyyy":return jn(ce);case"yyyyy":return jn(le);case"yyyyyy":return jn(Be);case"M":return jn(ze);case"MM":return jn(W);case"MMM":return Ko(oe.months("short",!0,!1),1);case"MMMM":return Ko(oe.months("long",!0,!1),1);case"L":return jn(ze);case"LL":return jn(W);case"LLL":return Ko(oe.months("short",!1,!1),1);case"LLLL":return Ko(oe.months("long",!1,!1),1);case"d":return jn(ze);case"dd":return jn(W);case"o":return jn(ut);case"ooo":return jn(te);case"HH":return jn(W);case"H":return jn(ze);case"hh":return jn(W);case"h":return jn(ze);case"mm":return jn(W);case"m":case"q":return jn(ze);case"qq":return jn(W);case"s":return jn(ze);case"ss":return jn(W);case"S":return jn(ut);case"SSS":return jn(te);case"u":return Ui(Re);case"a":return Ko(oe.meridiems(),0);case"kkkk":return jn(ce);case"kk":return jn(V,zt);case"W":return jn(ze);case"WW":return jn(W);case"E":case"c":return jn(j);case"EEE":return Ko(oe.weekdays("short",!1,!1),1);case"EEEE":return Ko(oe.weekdays("long",!1,!1),1);case"ccc":return Ko(oe.weekdays("short",!0,!1),1);case"cccc":return Ko(oe.weekdays("long",!0,!1),1);case"Z":case"ZZ":return yr(new RegExp("([+-]"+ze.source+")(?::("+W.source+"))?"),2);case"ZZZ":return yr(new RegExp("([+-]"+ze.source+")("+W.source+")?"),2);case"z":return Ui(/[a-z_+-/]{1,256}?/i);default:return $e(gn)}}(Y)||{invalidReason:"missing Intl.DateTimeFormat.formatToParts support"};return Bt.token=Y,Bt}(Qt,Y)}),ce=te.find(function(Qt){return Qt.invalidReason});if(ce)return{input:oe,tokens:W,invalidReason:ce.invalidReason};var Be=function(Y){return["^"+Y.map(function(j){return j.regex}).reduce(function(j,W){return j+"("+W.source+")"},"")+"$",Y]}(te),ut=Be[1],ee=RegExp(Be[0],"i"),Re=function(Y,oe,j){var W=Y.match(oe);if(W){var te={},ce=1;for(var Be in j)if(Vt(j,Be)){var ze=j[Be],ut=ze.groups?ze.groups+1:1;!ze.literal&&ze.token&&(te[ze.token.val[0]]=ze.deser(W.slice(ce,ce+ut))),ce+=ut}return[W,te]}return[W,{}]}(oe,ee,ut),V=Re[0],le=Re[1],$e=le?function(Y){var j;return j=ne(Y.Z)?ne(Y.z)?null:kn.create(Y.z):new Dt(Y.Z),ne(Y.q)||(Y.M=3*(Y.q-1)+1),ne(Y.h)||(Y.h<12&&1===Y.a?Y.h+=12:12===Y.h&&0===Y.a&&(Y.h=0)),0===Y.G&&Y.y&&(Y.y=-Y.y),ne(Y.u)||(Y.S=ot(Y.u)),[Object.keys(Y).reduce(function(te,ce){var Be=function(ce){switch(ce){case"S":return"millisecond";case"s":return"second";case"m":return"minute";case"h":case"H":return"hour";case"d":return"day";case"o":return"ordinal";case"L":case"M":return"month";case"y":return"year";case"E":case"c":return"weekday";case"W":return"weekNumber";case"k":return"weekYear";case"q":return"quarter";default:return null}}(ce);return Be&&(te[Be]=Y[ce]),te},{}),j]}(le):[null,null],ct=$e[0],Bt=$e[1];if(Vt(le,"a")&&Vt(le,"H"))throw new P("Can't include meridiem when specifying 24-hour format");return{input:oe,tokens:W,regex:ee,rawMatches:V,matches:le,result:ct,zone:Bt}}var Dr=[0,31,59,90,120,151,181,212,243,273,304,334],Kr=[0,31,60,91,121,152,182,213,244,274,305,335];function xo(Y,oe){return new en("unit out of range","you specified "+oe+" (of type "+typeof oe+") as a "+Y+", which is invalid")}function Gr(Y,oe,j){var W=new Date(Date.UTC(Y,oe-1,j)).getUTCDay();return 0===W?7:W}function Hr(Y,oe,j){return j+(Ze(Y)?Kr:Dr)[oe-1]}function Yr(Y,oe){var j=Ze(Y)?Kr:Dr,W=j.findIndex(function(ce){return ce<oe});return{month:W+1,day:oe-j[W]}}function mo(Y){var ze,oe=Y.year,j=Y.month,W=Y.day,te=Hr(oe,j,W),ce=Gr(oe,j,W),Be=Math.floor((te-ce+10)/7);return Be<1?Be=Rt(ze=oe-1):Be>Rt(oe)?(ze=oe+1,Be=1):ze=oe,s({weekYear:ze,weekNumber:Be,weekday:ce},xt(Y))}function zr(Y){var ze,oe=Y.weekYear,j=Y.weekNumber,W=Y.weekday,te=Gr(oe,1,4),ce=Ne(oe),Be=7*j+W-te-3;Be<1?Be+=Ne(ze=oe-1):Be>ce?(ze=oe+1,Be-=Ne(oe)):ze=oe;var ut=Yr(ze,Be);return s({year:ze,month:ut.month,day:ut.day},xt(Y))}function Or(Y){var oe=Y.year;return s({year:oe,ordinal:Hr(oe,Y.month,Y.day)},xt(Y))}function _i(Y){var oe=Y.year,W=Yr(oe,Y.ordinal);return s({year:oe,month:W.month,day:W.day},xt(Y))}function Oi(Y){var oe=Ye(Y.year),j=St(Y.month,1,12),W=St(Y.day,1,we(Y.year,Y.month));return oe?j?!W&&xo("day",Y.day):xo("month",Y.month):xo("year",Y.year)}function En(Y){var oe=Y.hour,j=Y.minute,W=Y.second,te=Y.millisecond,ce=St(oe,0,23)||24===oe&&0===j&&0===W&&0===te,Be=St(j,0,59),ze=St(W,0,59),ut=St(te,0,999);return ce?Be?ze?!ut&&xo("millisecond",te):xo("second",W):xo("minute",j):xo("hour",oe)}var lr="Invalid DateTime",Ir=864e13;function cr(Y){return new en("unsupported zone",'the zone "'+Y.name+'" is not supported')}function vi(Y){return null===Y.weekData&&(Y.weekData=mo(Y.c)),Y.weekData}function Uo(Y,oe){var j={ts:Y.ts,zone:Y.zone,c:Y.c,o:Y.o,loc:Y.loc,invalid:Y.invalid};return new ho(s({},j,oe,{old:j}))}function Qo(Y,oe,j){var W=Y-60*oe*1e3,te=j.offset(W);if(oe===te)return[W,oe];var ce=j.offset(W-=60*(te-oe)*1e3);return te===ce?[W,te]:[Y-60*Math.min(te,ce)*1e3,Math.max(te,ce)]}function Wo(Y,oe){var j=new Date(Y+=60*oe*1e3);return{year:j.getUTCFullYear(),month:j.getUTCMonth()+1,day:j.getUTCDate(),hour:j.getUTCHours(),minute:j.getUTCMinutes(),second:j.getUTCSeconds(),millisecond:j.getUTCMilliseconds()}}function oi(Y,oe,j){return Qo(At(Y),oe,j)}function Ki(Y,oe){var j=Y.o,W=Y.c.year+Math.trunc(oe.years),te=Y.c.month+Math.trunc(oe.months)+3*Math.trunc(oe.quarters),ce=s({},Y.c,{year:W,month:te,day:Math.min(Y.c.day,we(W,te))+Math.trunc(oe.days)+7*Math.trunc(oe.weeks)}),Be=po.fromObject({years:oe.years-Math.trunc(oe.years),quarters:oe.quarters-Math.trunc(oe.quarters),months:oe.months-Math.trunc(oe.months),weeks:oe.weeks-Math.trunc(oe.weeks),days:oe.days-Math.trunc(oe.days),hours:oe.hours,minutes:oe.minutes,seconds:oe.seconds,milliseconds:oe.milliseconds}).as("milliseconds"),ut=Qo(At(ce),j,Y.zone),ee=ut[0],Re=ut[1];return 0!==Be&&(Re=Y.zone.offset(ee+=Be)),{ts:ee,o:Re}}function Ii(Y,oe,j,W,te){var ce=j.setZone,Be=j.zone;if(Y&&0!==Object.keys(Y).length){var ut=ho.fromObject(Y,s({},j,{zone:oe||Be}));return ce?ut:ut.setZone(Be)}return ho.invalid(new en("unparsable",'the input "'+te+"\" can't be parsed as "+W))}function Ei(Y,oe,j){return void 0===j&&(j=!0),Y.isValid?Xt.create(jt.create("en-US"),{allowZ:j,forceSimple:!0}).formatDateTimeFromString(Y,oe):null}function kr(Y,oe){var j=oe.suppressSeconds,te=oe.suppressMilliseconds,Be=oe.includeOffset,ze=oe.includePrefix,ut=void 0!==ze&&ze,ee=oe.includeZone,Re=void 0!==ee&&ee,V=oe.spaceZone,$e=oe.format,ct=void 0===$e?"extended":$e,Bt="basic"===ct?"HHmm":"HH:mm";(!(void 0!==j&&j)||0!==Y.second||0!==Y.millisecond)&&(Bt+="basic"===ct?"ss":":ss",(!(void 0!==te&&te)||0!==Y.millisecond)&&(Bt+=".SSS")),(Re||Be)&&void 0!==V&&V&&(Bt+=" "),Re?Bt+="z":Be&&(Bt+="basic"===ct?"ZZZ":"ZZ");var Qt=Ei(Y,Bt);return ut&&(Qt="T"+Qt),Qt}var Ci={month:1,day:1,hour:0,minute:0,second:0,millisecond:0},jr={weekNumber:1,weekday:1,hour:0,minute:0,second:0,millisecond:0},_s={ordinal:1,hour:0,minute:0,second:0,millisecond:0},Sr=["year","month","day","hour","minute","second","millisecond"],vs=["weekYear","weekNumber","weekday","hour","minute","second","millisecond"],Zr=["year","ordinal","hour","minute","second","millisecond"];function Qr(Y){var oe={year:"year",years:"year",month:"month",months:"month",day:"day",days:"day",hour:"hour",hours:"hour",minute:"minute",minutes:"minute",quarter:"quarter",quarters:"quarter",second:"second",seconds:"second",millisecond:"millisecond",milliseconds:"millisecond",weekday:"weekday",weekdays:"weekday",weeknumber:"weekNumber",weeksnumber:"weekNumber",weeknumbers:"weekNumber",weekyear:"weekYear",weekyears:"weekYear",ordinal:"ordinal"}[Y.toLowerCase()];if(!oe)throw new L(Y);return oe}function xr(Y,oe){var ce,Be,j=Fe(oe.zone,un.defaultZone),W=jt.fromObject(oe),te=un.now();if(ne(Y.year))ce=te;else{for(var ut,ze=E(Sr);!(ut=ze()).done;){var ee=ut.value;ne(Y[ee])&&(Y[ee]=Ci[ee])}var Re=Oi(Y)||En(Y);if(Re)return ho.invalid(Re);var le=oi(Y,j.offset(te),j);ce=le[0],Be=le[1]}return new ho({ts:ce,zone:j,loc:W,o:Be})}function Jr(Y,oe,j){var W=!!ne(j.round)||j.round,te=function(V,le){return V=Me(V,W||j.calendary?0:2,!0),oe.loc.clone(j).relFormatter(j).format(V,le)},ce=function(V){return j.calendary?oe.hasSame(Y,V)?0:oe.startOf(V).diff(Y.startOf(V),V).get(V):oe.diff(Y,V).get(V)};if(j.unit)return te(ce(j.unit),j.unit);for(var ze,Be=E(j.units);!(ze=Be()).done;){var ut=ze.value,ee=ce(ut);if(Math.abs(ee)>=1)return te(ee,ut)}return te(Y>oe?-0:0,j.units[j.units.length-1])}function ur(Y){var j,oe={};return Y.length>0&&"object"==typeof Y[Y.length-1]?(oe=Y[Y.length-1],j=Array.from(Y).slice(0,Y.length-1)):j=Array.from(Y),[oe,j]}var ho=function(){function Y(j){var W=j.zone||un.defaultZone,te=j.invalid||(Number.isNaN(j.ts)?new en("invalid input"):null)||(W.isValid?null:cr(W));this.ts=ne(j.ts)?un.now():j.ts;var ce=null,Be=null;if(!te)if(j.old&&j.old.ts===this.ts&&j.old.zone.equals(W)){var ut=[j.old.c,j.old.o];ce=ut[0],Be=ut[1]}else{var ee=W.offset(this.ts);ce=Wo(this.ts,ee),ce=(te=Number.isNaN(ce.year)?new en("invalid input"):null)?null:ce,Be=te?null:ee}this._zone=W,this.loc=j.loc||jt.create(),this.invalid=te,this.weekData=null,this.c=ce,this.o=Be,this.isLuxonDateTime=!0}Y.now=function(){return new Y({})},Y.local=function(){var W=ur(arguments),te=W[0],ce=W[1],Be=ce[0],ze=ce[1],ut=ce[2],ee=ce[3],Re=ce[4],V=ce[5],le=ce[6];return xr({year:Be,month:ze,day:ut,hour:ee,minute:Re,second:V,millisecond:le},te)},Y.utc=function(){var W=ur(arguments),te=W[0],ce=W[1],Be=ce[0],ze=ce[1],ut=ce[2],ee=ce[3],Re=ce[4],V=ce[5],le=ce[6];return te.zone=Dt.utcInstance,xr({year:Be,month:ze,day:ut,hour:ee,minute:Re,second:V,millisecond:le},te)},Y.fromJSDate=function(W,te){void 0===te&&(te={});var ce=function(Y){return"[object Date]"===Object.prototype.toString.call(Y)}(W)?W.valueOf():NaN;if(Number.isNaN(ce))return Y.invalid("invalid input");var Be=Fe(te.zone,un.defaultZone);return Be.isValid?new Y({ts:ce,zone:Be,loc:jt.fromObject(te)}):Y.invalid(cr(Be))},Y.fromMillis=function(W,te){if(void 0===te&&(te={}),De(W))return W<-Ir||W>Ir?Y.invalid("Timestamp out of range"):new Y({ts:W,zone:Fe(te.zone,un.defaultZone),loc:jt.fromObject(te)});throw new F("fromMillis requires a numerical input, but received a "+typeof W+" with value "+W)},Y.fromSeconds=function(W,te){if(void 0===te&&(te={}),De(W))return new Y({ts:1e3*W,zone:Fe(te.zone,un.defaultZone),loc:jt.fromObject(te)});throw new F("fromSeconds requires a numerical input")},Y.fromObject=function(W,te){void 0===te&&(te={}),W=W||{};var ce=Fe(te.zone,un.defaultZone);if(!ce.isValid)return Y.invalid(cr(ce));var Be=un.now(),ze=ce.offset(Be),ut=nn(W,Qr),ee=!ne(ut.ordinal),Re=!ne(ut.year),V=!ne(ut.month)||!ne(ut.day),le=Re||V,$e=ut.weekYear||ut.weekNumber,ct=jt.fromObject(te);if((le||ee)&&$e)throw new P("Can't mix weekYear/weekNumber units with year/month/day or ordinals");if(V&&ee)throw new P("Can't mix ordinal dates with month/day");var Qt,gn,Bt=$e||ut.weekday&&!le,Gn=Wo(Be,ze);Bt?(Qt=vs,gn=jr,Gn=mo(Gn)):ee?(Qt=Zr,gn=_s,Gn=Or(Gn)):(Qt=Sr,gn=Ci);for(var dr,io=!1,Gi=E(Qt);!(dr=Gi()).done;){var Si=dr.value;ne(ut[Si])?ut[Si]=io?gn[Si]:Gn[Si]:io=!0}var qr=(Bt?function(Y){var oe=Ye(Y.weekYear),j=St(Y.weekNumber,1,Rt(Y.weekYear)),W=St(Y.weekday,1,7);return oe?j?!W&&xo("weekday",Y.weekday):xo("week",Y.week):xo("weekYear",Y.weekYear)}(ut):ee?function(Y){var oe=Ye(Y.year),j=St(Y.ordinal,1,Ne(Y.year));return oe?!j&&xo("ordinal",Y.ordinal):xo("year",Y.year)}(ut):Oi(ut))||En(ut);if(qr)return Y.invalid(qr);var ts=oi(Bt?zr(ut):ee?_i(ut):ut,ze,ce),ns=new Y({ts:ts[0],zone:ce,o:ts[1],loc:ct});return ut.weekday&&le&&W.weekday!==ns.weekday?Y.invalid("mismatched weekday","you can't specify both a weekday of "+ut.weekday+" and a date of "+ns.toISO()):ns},Y.fromISO=function(W,te){void 0===te&&(te={});var ce=function(Y){return Nn(Y,[Zi,re],[Qi,Z],[Ji,Te],[ae,bt])}(W);return Ii(ce[0],ce[1],te,"ISO 8601",W)},Y.fromRFC2822=function(W,te){void 0===te&&(te={});var ce=function(Y){return Nn(function(Y){return Y.replace(/\([^)]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").trim()}(Y),[bi,Kn])}(W);return Ii(ce[0],ce[1],te,"RFC 2822",W)},Y.fromHTTP=function(W,te){void 0===te&&(te={});var ce=function(Y){return Nn(Y,[ki,Bi],[mr,Bi],[fi,ji])}(W);return Ii(ce[0],ce[1],te,"HTTP",te)},Y.fromFormat=function(W,te,ce){if(void 0===ce&&(ce={}),ne(W)||ne(te))throw new F("fromFormat requires an input string and a format");var ze=ce.locale,ee=ce.numberingSystem,le=function(Y,oe,j){var W=Di(Y,oe,j);return[W.result,W.zone,W.invalidReason]}(jt.fromOpts({locale:void 0===ze?null:ze,numberingSystem:void 0===ee?null:ee,defaultToEN:!0}),W,te),$e=le[0],ct=le[1],Bt=le[2];return Bt?Y.invalid(Bt):Ii($e,ct,ce,"format "+te,W)},Y.fromString=function(W,te,ce){return void 0===ce&&(ce={}),Y.fromFormat(W,te,ce)},Y.fromSQL=function(W,te){void 0===te&&(te={});var ce=function(Y){return Nn(Y,[us,fo],[Xi,wr])}(W);return Ii(ce[0],ce[1],te,"SQL",W)},Y.invalid=function(W,te){if(void 0===te&&(te=null),!W)throw new F("need to specify a reason the DateTime is invalid");var ce=W instanceof en?W:new en(W,te);if(un.throwOnInvalid)throw new T(ce);return new Y({invalid:ce})},Y.isDateTime=function(W){return W&&W.isLuxonDateTime||!1};var oe=Y.prototype;return oe.get=function(W){return this[W]},oe.resolvedLocaleOptions=function(W){void 0===W&&(W={});var te=Xt.create(this.loc.clone(W),W).resolvedOptions(this);return{locale:te.locale,numberingSystem:te.numberingSystem,outputCalendar:te.calendar}},oe.toUTC=function(W,te){return void 0===W&&(W=0),void 0===te&&(te={}),this.setZone(Dt.instance(W),te)},oe.toLocal=function(){return this.setZone(un.defaultZone)},oe.setZone=function(W,te){var ce=void 0===te?{}:te,Be=ce.keepLocalTime,ze=void 0!==Be&&Be,ut=ce.keepCalendarTime,ee=void 0!==ut&&ut;if((W=Fe(W,un.defaultZone)).equals(this.zone))return this;if(W.isValid){var Re=this.ts;if(ze||ee){var V=W.offset(this.ts);Re=oi(this.toObject(),V,W)[0]}return Uo(this,{ts:Re,zone:W})}return Y.invalid(cr(W))},oe.reconfigure=function(W){var te=void 0===W?{}:W;return Uo(this,{loc:this.loc.clone({locale:te.locale,numberingSystem:te.numberingSystem,outputCalendar:te.outputCalendar})})},oe.setLocale=function(W){return this.reconfigure({locale:W})},oe.set=function(W){if(!this.isValid)return this;var V,te=nn(W,Qr),ce=!ne(te.weekYear)||!ne(te.weekNumber)||!ne(te.weekday),Be=!ne(te.ordinal),ze=!ne(te.year),ut=!ne(te.month)||!ne(te.day);if((ze||ut||Be)&&(te.weekYear||te.weekNumber))throw new P("Can't mix weekYear/weekNumber units with year/month/day or ordinals");if(ut&&Be)throw new P("Can't mix ordinal dates with month/day");ce?V=zr(s({},mo(this.c),te)):ne(te.ordinal)?(V=s({},this.toObject(),te),ne(te.day)&&(V.day=Math.min(we(V.year,V.month),V.day))):V=_i(s({},Or(this.c),te));var le=oi(V,this.o,this.zone);return Uo(this,{ts:le[0],o:le[1]})},oe.plus=function(W){return this.isValid?Uo(this,Ki(this,Xo(W))):this},oe.minus=function(W){return this.isValid?Uo(this,Ki(this,Xo(W).negate())):this},oe.startOf=function(W){if(!this.isValid)return this;var te={},ce=po.normalizeUnit(W);switch(ce){case"years":te.month=1;case"quarters":case"months":te.day=1;case"weeks":case"days":te.hour=0;case"hours":te.minute=0;case"minutes":te.second=0;case"seconds":te.millisecond=0}if("weeks"===ce&&(te.weekday=1),"quarters"===ce){var Be=Math.ceil(this.month/3);te.month=3*(Be-1)+1}return this.set(te)},oe.endOf=function(W){var te;return this.isValid?this.plus((te={},te[W]=1,te)).startOf(W).minus(1):this},oe.toFormat=function(W,te){return void 0===te&&(te={}),this.isValid?Xt.create(this.loc.redefaultToEN(te)).formatDateTimeFromString(this,W):lr},oe.toLocaleString=function(W,te){return void 0===W&&(W=w),void 0===te&&(te={}),this.isValid?Xt.create(this.loc.clone(te),W).formatDateTime(this):lr},oe.toLocaleParts=function(W){return void 0===W&&(W={}),this.isValid?Xt.create(this.loc.clone(W),W).formatDateTimeParts(this):[]},oe.toISO=function(W){return void 0===W&&(W={}),this.isValid?this.toISODate(W)+"T"+this.toISOTime(W):null},oe.toISODate=function(W){var ce=(void 0===W?{}:W).format,ze="basic"===(void 0===ce?"extended":ce)?"yyyyMMdd":"yyyy-MM-dd";return this.year>9999&&(ze="+"+ze),Ei(this,ze)},oe.toISOWeekDate=function(){return Ei(this,"kkkk-'W'WW-c")},oe.toISOTime=function(W){var te=void 0===W?{}:W,ce=te.suppressMilliseconds,ze=te.suppressSeconds,ee=te.includeOffset,V=te.includePrefix,$e=te.format;return kr(this,{suppressSeconds:void 0!==ze&&ze,suppressMilliseconds:void 0!==ce&&ce,includeOffset:void 0===ee||ee,includePrefix:void 0!==V&&V,format:void 0===$e?"extended":$e})},oe.toRFC2822=function(){return Ei(this,"EEE, dd LLL yyyy HH:mm:ss ZZZ",!1)},oe.toHTTP=function(){return Ei(this.toUTC(),"EEE, dd LLL yyyy HH:mm:ss 'GMT'")},oe.toSQLDate=function(){return Ei(this,"yyyy-MM-dd")},oe.toSQLTime=function(W){var te=void 0===W?{}:W,ce=te.includeOffset,ze=te.includeZone;return kr(this,{includeOffset:void 0===ce||ce,includeZone:void 0!==ze&&ze,spaceZone:!0})},oe.toSQL=function(W){return void 0===W&&(W={}),this.isValid?this.toSQLDate()+" "+this.toSQLTime(W):null},oe.toString=function(){return this.isValid?this.toISO():lr},oe.valueOf=function(){return this.toMillis()},oe.toMillis=function(){return this.isValid?this.ts:NaN},oe.toSeconds=function(){return this.isValid?this.ts/1e3:NaN},oe.toJSON=function(){return this.toISO()},oe.toBSON=function(){return this.toJSDate()},oe.toObject=function(W){if(void 0===W&&(W={}),!this.isValid)return{};var te=s({},this.c);return W.includeConfig&&(te.outputCalendar=this.outputCalendar,te.numberingSystem=this.loc.numberingSystem,te.locale=this.loc.locale),te},oe.toJSDate=function(){return new Date(this.isValid?this.ts:NaN)},oe.diff=function(W,te,ce){if(void 0===te&&(te="milliseconds"),void 0===ce&&(ce={}),!this.isValid||!W.isValid)return po.invalid("created by diffing an invalid DateTime");var Be=s({locale:this.locale,numberingSystem:this.numberingSystem},ce),ze=function(Y){return Array.isArray(Y)?Y:[Y]}(te).map(po.normalizeUnit),ut=W.valueOf()>this.valueOf(),V=function(Y,oe,j,W){var V,te=function(Y,oe,j){for(var ce,Be,te={},ze=0,ut=[["years",function(Bt,Qt){return Qt.year-Bt.year}],["quarters",function(Bt,Qt){return Qt.quarter-Bt.quarter}],["months",function(Bt,Qt){return Qt.month-Bt.month+12*(Qt.year-Bt.year)}],["weeks",function(Bt,Qt){var gn=tr(Bt,Qt);return(gn-gn%7)/7}],["days",tr]];ze<ut.length;ze++){var ee=ut[ze],Re=ee[0],V=ee[1];if(j.indexOf(Re)>=0){var le;ce=Re;var ct,$e=V(Y,oe);(Be=Y.plus(((le={})[Re]=$e,le)))>oe?(Y=Y.plus(((ct={})[Re]=$e-1,ct)),$e-=1):Y=Be,te[Re]=$e}}return[Y,te,Be,ce]}(Y,oe,j),ce=te[0],Be=te[1],ze=te[2],ut=te[3],ee=oe-ce,Re=j.filter(function(ct){return["hours","minutes","seconds","milliseconds"].indexOf(ct)>=0});0===Re.length&&(ze<oe&&(ze=ce.plus(((V={})[ut]=1,V))),ze!==ce&&(Be[ut]=(Be[ut]||0)+ee/(ze-ce)));var $e,le=po.fromObject(Be,W);return Re.length>0?($e=po.fromMillis(ee,W)).shiftTo.apply($e,Re).plus(le):le}(ut?this:W,ut?W:this,ze,Be);return ut?V.negate():V},oe.diffNow=function(W,te){return void 0===W&&(W="milliseconds"),void 0===te&&(te={}),this.diff(Y.now(),W,te)},oe.until=function(W){return this.isValid?ni.fromDateTimes(this,W):this},oe.hasSame=function(W,te){if(!this.isValid)return!1;var ce=W.valueOf(),Be=this.setZone(W.zone,{keepLocalTime:!0});return Be.startOf(te)<=ce&&ce<=Be.endOf(te)},oe.equals=function(W){return this.isValid&&W.isValid&&this.valueOf()===W.valueOf()&&this.zone.equals(W.zone)&&this.loc.equals(W.loc)},oe.toRelative=function(W){if(void 0===W&&(W={}),!this.isValid)return null;var te=W.base||Y.fromObject({},{zone:this.zone}),ce=W.padding?this<te?-W.padding:W.padding:0,Be=["years","months","days","hours","minutes","seconds"],ze=W.unit;return Array.isArray(W.unit)&&(Be=W.unit,ze=void 0),Jr(te,this.plus(ce),s({},W,{numeric:"always",units:Be,unit:ze}))},oe.toRelativeCalendar=function(W){return void 0===W&&(W={}),this.isValid?Jr(W.base||Y.fromObject({},{zone:this.zone}),this,s({},W,{numeric:"auto",units:["years","months","days"],calendary:!0})):null},Y.min=function(){for(var W=arguments.length,te=new Array(W),ce=0;ce<W;ce++)te[ce]=arguments[ce];if(!te.every(Y.isDateTime))throw new F("min requires all arguments be DateTimes");return Ct(te,function(Be){return Be.valueOf()},Math.min)},Y.max=function(){for(var W=arguments.length,te=new Array(W),ce=0;ce<W;ce++)te[ce]=arguments[ce];if(!te.every(Y.isDateTime))throw new F("max requires all arguments be DateTimes");return Ct(te,function(Be){return Be.valueOf()},Math.max)},Y.fromFormatExplain=function(W,te,ce){void 0===ce&&(ce={});var ze=ce.locale,ee=ce.numberingSystem;return Di(jt.fromOpts({locale:void 0===ze?null:ze,numberingSystem:void 0===ee?null:ee,defaultToEN:!0}),W,te)},Y.fromStringExplain=function(W,te,ce){return void 0===ce&&(ce={}),Y.fromFormatExplain(W,te,ce)},n(Y,[{key:"isValid",get:function(){return null===this.invalid}},{key:"invalidReason",get:function(){return this.invalid?this.invalid.reason:null}},{key:"invalidExplanation",get:function(){return this.invalid?this.invalid.explanation:null}},{key:"locale",get:function(){return this.isValid?this.loc.locale:null}},{key:"numberingSystem",get:function(){return this.isValid?this.loc.numberingSystem:null}},{key:"outputCalendar",get:function(){return this.isValid?this.loc.outputCalendar:null}},{key:"zone",get:function(){return this._zone}},{key:"zoneName",get:function(){return this.isValid?this.zone.name:null}},{key:"year",get:function(){return this.isValid?this.c.year:NaN}},{key:"quarter",get:function(){return this.isValid?Math.ceil(this.c.month/3):NaN}},{key:"month",get:function(){return this.isValid?this.c.month:NaN}},{key:"day",get:function(){return this.isValid?this.c.day:NaN}},{key:"hour",get:function(){return this.isValid?this.c.hour:NaN}},{key:"minute",get:function(){return this.isValid?this.c.minute:NaN}},{key:"second",get:function(){return this.isValid?this.c.second:NaN}},{key:"millisecond",get:function(){return this.isValid?this.c.millisecond:NaN}},{key:"weekYear",get:function(){return this.isValid?vi(this).weekYear:NaN}},{key:"weekNumber",get:function(){return this.isValid?vi(this).weekNumber:NaN}},{key:"weekday",get:function(){return this.isValid?vi(this).weekday:NaN}},{key:"ordinal",get:function(){return this.isValid?Or(this.c).ordinal:NaN}},{key:"monthShort",get:function(){return this.isValid?bo.months("short",{locObj:this.loc})[this.month-1]:null}},{key:"monthLong",get:function(){return this.isValid?bo.months("long",{locObj:this.loc})[this.month-1]:null}},{key:"weekdayShort",get:function(){return this.isValid?bo.weekdays("short",{locObj:this.loc})[this.weekday-1]:null}},{key:"weekdayLong",get:function(){return this.isValid?bo.weekdays("long",{locObj:this.loc})[this.weekday-1]:null}},{key:"offset",get:function(){return this.isValid?+this.o:NaN}},{key:"offsetNameShort",get:function(){return this.isValid?this.zone.offsetName(this.ts,{format:"short",locale:this.locale}):null}},{key:"offsetNameLong",get:function(){return this.isValid?this.zone.offsetName(this.ts,{format:"long",locale:this.locale}):null}},{key:"isOffsetFixed",get:function(){return this.isValid?this.zone.isUniversal:null}},{key:"isInDST",get:function(){return!this.isOffsetFixed&&(this.offset>this.set({month:1}).offset||this.offset>this.set({month:5}).offset)}},{key:"isInLeapYear",get:function(){return Ze(this.year)}},{key:"daysInMonth",get:function(){return we(this.year,this.month)}},{key:"daysInYear",get:function(){return this.isValid?Ne(this.year):NaN}},{key:"weeksInWeekYear",get:function(){return this.isValid?Rt(this.weekYear):NaN}}],[{key:"DATE_SHORT",get:function(){return w}},{key:"DATE_MED",get:function(){return K}},{key:"DATE_MED_WITH_WEEKDAY",get:function(){return k}},{key:"DATE_FULL",get:function(){return G}},{key:"DATE_HUGE",get:function(){return $}},{key:"TIME_SIMPLE",get:function(){return X}},{key:"TIME_WITH_SECONDS",get:function(){return ie}},{key:"TIME_WITH_SHORT_OFFSET",get:function(){return se}},{key:"TIME_WITH_LONG_OFFSET",get:function(){return pe}},{key:"TIME_24_SIMPLE",get:function(){return ve}},{key:"TIME_24_WITH_SECONDS",get:function(){return Ce}},{key:"TIME_24_WITH_SHORT_OFFSET",get:function(){return ye}},{key:"TIME_24_WITH_LONG_OFFSET",get:function(){return de}},{key:"DATETIME_SHORT",get:function(){return Ie}},{key:"DATETIME_SHORT_WITH_SECONDS",get:function(){return He}},{key:"DATETIME_MED",get:function(){return Ve}},{key:"DATETIME_MED_WITH_SECONDS",get:function(){return Ue}},{key:"DATETIME_MED_WITH_WEEKDAY",get:function(){return xe}},{key:"DATETIME_FULL",get:function(){return gt}},{key:"DATETIME_FULL_WITH_SECONDS",get:function(){return tt}},{key:"DATETIME_HUGE",get:function(){return lt}},{key:"DATETIME_HUGE_WITH_SECONDS",get:function(){return Mt}}]),Y}();function ei(Y){if(ho.isDateTime(Y))return Y;if(Y&&Y.valueOf&&De(Y.valueOf()))return ho.fromJSDate(Y);if(Y&&"object"==typeof Y)return ho.fromObject(Y);throw new F("Unknown datetime argument: "+Y+", of type "+typeof Y)}g.ou=ho},98310:(S,g,e)=>{"use strict";e.d(g,{xb:()=>I,JC:()=>pn,Pk:()=>je,tV:()=>Lt,aF:()=>Ct});var t=e(84046),n=e(55331),s=e(81432),i=e(18840),r=e(53488),a=e(53339),o=e(4683),d=e(39165),h=e(50906),p=e(71726),f=e(88945),m=e(74582),v=e(96105),E=e(98274),C=e(84605);class I{constructor(vt,qe){this.blockStartToken=vt,this.blockEndToken=qe}tokenize(vt,qe){function Et(st){return vt.substring(qe,qe+st.length)===st?{nextOffset:qe+st.length,token:new P(st)}:void 0}return Et(this.blockStartToken)||Et(this.blockEndToken)}transpile(vt,qe){if(!this.isStartTag(qe.tokens[vt]))return;const{nextOffset:st,renderers:Nt}=qe.transpileUntil(vt+1,Je=>this.isEndTag(Je));return{nextOffset:Math.min(st+1,qe.tokens.length),renderer:this.createRenderer(Nt)}}isStartTag(vt){return vt instanceof P&&vt.token===this.blockStartToken}isEndTag(vt){return vt instanceof P&&vt.token===this.blockEndToken}}class P{constructor(vt){this.token=vt}}let L=(()=>{class Le{constructor(qe){this.document=qe}createTextRenderer(qe){const Et=this.document;return function(Nt){return Et.createTextNode("string"==typeof qe?qe:qe(Nt))}}createElementRenderer(qe,Et){const st=this.document;return function(Je){const Ot=st.createElement(qe);for(const fe of Et||[])Ot.appendChild(fe(Je));return Ot}}}return Le.\u0275fac=function(qe){return new(qe||Le)(t.LFG(n.K0))},Le.\u0275prov=(0,t.Yz7)({factory:function(){return new Le((0,t.LFG)(n.K0))},token:Le,providedIn:"root"}),Le})(),F=(()=>{class Le extends I{constructor(qe){super("[b]","[/b]"),this.rendererFactory=qe}createRenderer(qe){return this.rendererFactory.createElementRenderer("b",qe)}}return Le.\u0275fac=function(qe){return new(qe||Le)(t.LFG(L))},Le.\u0275prov=t.Yz7({token:Le,factory:Le.\u0275fac}),Le})(),K=(()=>{class Le extends I{constructor(qe){super("[i]","[/i]"),this.rendererFactory=qe}createRenderer(qe){return this.rendererFactory.createElementRenderer("i",qe)}}return Le.\u0275fac=function(qe){return new(qe||Le)(t.LFG(L))},Le.\u0275prov=t.Yz7({token:Le,factory:Le.\u0275fac}),Le})();function k(Le){return Array.isArray(Le)?Le:[Le]}function G(Le){return Array.isArray(Le)?Le.reduce((vt,qe)=>vt.concat(G(qe)),[]):[Le]}function ve(Le,vt,qe={}){return vt?vt.apply?[vt,{provide:Le,useExisting:vt,multi:qe.multi}]:vt.useValue?{provide:Le,useValue:vt.useValue,multi:qe.multi}:vt.useClass?{provide:Le,useClass:vt.useClass,multi:qe.multi}:vt.useExisting?{provide:Le,useExisting:vt.useExisting,multi:qe.multi}:vt.useFactory?{provide:Le,useFactory:vt.useFactory,deps:vt.deps,multi:qe.multi}:ye(`Invalid unbound provider was specified for "${Le}"`):qe.default?qe.default.apply?[qe.default,{provide:Le,useExisting:qe.default,multi:qe.multi}]:qe.default.useValue?{provide:Le,useValue:qe.default.useValue,multi:qe.multi}:qe.default.useClass?{provide:Le,useClass:qe.default.useClass,multi:qe.multi}:qe.default.useExisting?{provide:Le,useExisting:qe.default.useExisting,multi:qe.multi}:qe.default.useFactory?{provide:Le,useFactory:qe.default.useFactory,deps:qe.default.deps,multi:qe.multi}:ye(`Invalid default unbound provider was specified for "${Le}"`):[]}class Ce extends Error{}function ye(Le){throw new Ce(Le)}class de{}function Ie(Le){return ve(de,Le,{multi:!0})}let He=(()=>{class Le{constructor(qe,Et){this.rendererFactory=qe,this.linkRenderers=Et?k(Et):[]}tokenize(qe,Et){if(qe.startsWith(Ue,Et))return{nextOffset:Et+Ue.length,token:xe};if(!qe.startsWith(Ve,Et))return;const st=qe.indexOf("]",Et+Ve.length);if(st<0)return;const Nt=qe.substring(Et+Ve.length,st);return{nextOffset:st+1,token:new gt(Nt)}}transpile(qe,Et){const st=Et.tokens[qe];if(!(st instanceof gt))return;const{nextOffset:Nt,renderers:Je}=Et.transpileUntil(qe+1,Ot=>Ot===xe);return{nextOffset:Math.min(Nt+1,Et.tokens.length),renderer:this.createRenderer(st.parameterKey,Je)}}createRenderer(qe,Et){const st=this.rendererFactory.createElementRenderer("a",Et),Nt=Ot=>this.linkRenderers.find(fe=>fe.supports(Ot));return function(Ot){const fe=st(Ot),Ge=Ot[qe],Tt=Nt(Ge);return Tt&&Tt.render(Ge,fe),fe}}}return Le.\u0275fac=function(qe){return new(qe||Le)(t.LFG(L),t.LFG(de,8))},Le.\u0275prov=t.Yz7({token:Le,factory:Le.\u0275fac}),Le})();const Ve="[link:",Ue="[/link]",xe=new class{};class gt{constructor(vt){this.parameterKey=vt}}function lt(Le,vt){if(!Le.startsWith("{{",vt))return;const qe=Le.indexOf("}}",vt);return qe>=2?qe+2-vt:void 0}const ne=new t.OlP("TRANSLATION_INTERPOLATION_EXPRESSION_MATCHER",{providedIn:"root",factory:function(){return{matchExpression:lt}}});let De=(()=>{class Le{constructor(qe,Et,st){this.rendererFactory=qe,this.translocoTranspiler=Et,this.expressionMatcher=st}tokenize(qe,Et){const st=this.expressionMatcher.matchExpression(qe,Et);if(st)return{nextOffset:Et+st,token:new Ye(qe.substring(Et,Et+st))}}transpile(qe,{tokens:Et,translation:st}){const Nt=Et[qe];if(!(Nt instanceof Ye))return;const{interpolationExpression:Je}=Nt;return{nextOffset:qe+1,renderer:this.rendererFactory.createTextRenderer(Ot=>this.translocoTranspiler.transpile(Je,Ot,st))}}}return Le.\u0275fac=function(qe){return new(qe||Le)(t.LFG(L),t.LFG(s.Fs),t.LFG(ne))},Le.\u0275prov=(0,t.Yz7)({factory:function(){return new Le((0,t.LFG)(L),(0,t.LFG)(s.Fs),(0,t.LFG)(ne))},token:Le,providedIn:"root"}),Le})();class Ye{constructor(vt){this.interpolationExpression=vt}}let Ke=(()=>{class Le extends de{supports(qe){return"string"==typeof qe}render(qe,Et){Et.href=qe,Et.target="_blank"}}return Le.\u0275fac=function(){let vt;return function(Et){return(vt||(vt=t.n5z(Le)))(Et||Le)}}(),Le.\u0275prov=t.Yz7({token:Le,factory:Le.\u0275fac}),Le})(),it=(()=>{class Le extends de{supports(qe){return function(Le){if("object"!=typeof Le||null===Le)return!1;const qe=Le.target;return"string"==typeof Le.url&&(null==qe||"string"==typeof qe)}(qe)}render(qe,Et){Et.href=qe.url,"string"==typeof qe.target&&(Et.target=qe.target)}}return Le.\u0275fac=function(){let vt;return function(Et){return(vt||(vt=t.n5z(Le)))(Et||Le)}}(),Le.\u0275prov=t.Yz7({token:Le,factory:Le.\u0275fac}),Le})();const Se=new t.OlP("TRANSLATION_MARKUP_TRANSPILER");function Ct(Le){return ve(Se,Le,{multi:!0})}function Lt(){return[Ct(F),Ct(K),Ct(He),Ie(Ke),Ie(it)]}const St=new t.OlP("STRING_INTERPOLATION_TRANSPILER",{providedIn:"root",factory:()=>(0,t.f3M)(De)});function $t(Le,vt,qe){for(const Et of Le){const st=vt(Et);if(qe(st))return st}}class Ze{constructor(vt,qe,Et){this.tokens=vt,this.translation=qe,this.transpilers=Et}transpile(vt){return $t(this.transpilers,qe=>qe.transpile(vt,this),qe=>void 0!==qe&&qe.nextOffset!==vt)}transpileUntil(vt,qe){let Et=vt;const st=[];for(;Et<this.tokens.length&&!qe(this.tokens[Et],Et);){const Nt=this.transpile(Et);Nt?(st.push(Nt.renderer),Et=Nt.nextOffset):Et++}return{renderers:st,nextOffset:Et}}}let Ne=(()=>{class Le{constructor(qe){this.rendererFactory=qe}tokenize(qe,Et){return{nextOffset:Et+1,token:qe.charAt(Et)}}transpile(qe,{tokens:Et}){let st=qe;for(;st<Et.length&&"string"==typeof Et[st];)st++;if(st===qe)return;const Nt=Et.slice(qe,st).join("");return{nextOffset:st,renderer:this.rendererFactory.createTextRenderer(Nt)}}}return Le.\u0275fac=function(qe){return new(qe||Le)(t.LFG(L))},Le.\u0275prov=(0,t.Yz7)({factory:function(){return new Le((0,t.LFG)(L))},token:Le,providedIn:"root"}),Le})();function we(Le,vt){const Et=At(Le,vt),st=Et&&Et.get;if(st&&st.__value$)return st.__value$;const Nt=Et&&Et.set,Je=new i.X(Le[vt]),Ot=Je.asObservable(),fe=st?()=>st.call(Le):()=>Je.getValue();return fe.__value$=Ot,Object.defineProperty(Le,vt,{get:fe,set(Ge){void 0!==Nt&&Nt.call(Le,Ge);const Tt=st?st.call(Le):Ge;Tt!==Je.getValue()&&Je.next(Tt)}}),Ot}function At(Le,vt){if(null==Le)return;const qe=Object.getOwnPropertyDescriptor(Le,vt);return void 0!==qe?qe:At(Object.getPrototypeOf(Le),vt)}function Rt(Le){return void 0!==Le}let pn=(()=>{class Le{constructor(qe,Et,st,Nt,Je,Ot,fe,Ge){this.hostElement=qe,this.translocoService=Et,this.missingHandler=st,this.providedScope=Nt,this.providedLanguage=Je,this.providedTranspilers=Ot,this.stringInterpolationTranspiler=fe,this.stringLiteralTranspiler=Ge,this.subscriptions=new r.w}ngOnInit(){const qe=we(this,"translationKey"),Et=we(this,"translationParameters"),st=we(this,"inlineLanguage"),Nt=we(this,"inlineScope"),Je=we(this,"inlineTranspilers"),Ot=we(this,"mergeTranspilers").pipe((0,p.U)(be=>!1!==be)),fe=this.translocoService.langChanges$,Ge=this.translocoService.config.reRenderOnLangChange?fe:fe.pipe((0,f.P)(),(0,m.d)({bufferSize:1,refCount:!0})),Tt=function(...Le){return Le.reduceRight((vt,qe)=>qe.pipe((0,E.w)(Et=>{if(void 0===Et)return vt;const[st,Nt]=(0,s.T0)(Et,"static");return(0,d.z)((0,a.of)(Nt),st?h.E:vt.pipe((0,C.T)(1)))})),(0,a.of)("")).pipe((0,v.x)())}(st,(0,a.of)(this.providedLanguage||void 0),Ge),Pe=Nt.pipe((0,p.U)(be=>be||this.providedScope),(0,v.x)(),(0,p.U)(be=>Array.isArray(be)?be:[be||void 0])),pt=(0,o.aj)([Tt,Pe]).pipe((0,E.w)(([be,mt])=>(0,o.aj)(mt.map(Ut=>{const Xt=function(Le){return"object"==typeof Le?Le.scope:Le}(Ut),en=function(Le,vt){return vt?`${vt}/${Le}`:Le}(be,Xt),mn=function(Le){return"object"==typeof Le?Le.loader:void 0}(Ut);return this.translocoService._loadDependencies(en,mn)})).pipe((0,p.U)(()=>this.translocoService.getTranslation(be))))),Q=(0,o.aj)([qe,pt]).pipe((0,p.U)(([be,mt])=>{if(void 0===be)return{value:"",translation:mt};const Ut=this.translocoService.config.missingHandler.useFallbackTranslation||!1,Xt=k(this.translocoService.config.fallbackLang||[])[0],en=Ut&&Xt?[this.translocoService.getTranslation(Xt)]:[];return this.getTranslationValue(be,[mt,...en])})),Ee=(0,o.aj)([Je,Ot]).pipe((0,p.U)(([be,mt])=>[...be?k(be):[],...!this.providedTranspilers||be&&!mt?[]:G(this.providedTranspilers),this.stringInterpolationTranspiler,this.stringLiteralTranspiler])),ue=(0,o.aj)([Q,Ee]).pipe((0,p.U)(([{translation:be,value:mt},Ut])=>function(Le,vt,qe){const st=function(Le,vt,qe){return new Ze(Le,qe,vt).transpileUntil(0,()=>!1).renderers}(function(Le,vt){const qe=[];let Et=0;for(;Et<Le.length;){const st=$t(vt,Nt=>Nt.tokenize(Le,Et),Rt);st?(Et=st.nextOffset,qe.push(st.token)):Et++}return qe}(Le,vt),vt,qe);return function(Je,Ot){for(;Je.lastChild;)Je.removeChild(Je.lastChild);for(const fe of st)Je.appendChild(fe(Ot))}}(mt,Ut,be)));this.subscriptions.add((0,o.aj)([ue,Et]).subscribe(([be,mt])=>be(this.hostElement.nativeElement,mt||{})))}ngOnDestroy(){this.subscriptions.unsubscribe()}getTranslationValue(qe,Et){const st=this.translocoService.config.missingHandler.allowEmpty;return $t(Et,Je=>{const Ot=Je[qe];if(void 0!==Ot&&(""!==Ot||st))return{value:String(Ot),translation:Je}},Rt)||{value:this.missingHandler.handle(qe,Object.assign({activeLang:this.translocoService.getActiveLang()},this.translocoService.config)),translation:Et[0]}}}return Le.\u0275fac=function(qe){return new(qe||Le)(t.Y36(t.SBq),t.Y36(s.Vn),t.Y36(s.AN),t.Y36(s.Hn,8),t.Y36(s.vd,8),t.Y36(Se,8),t.Y36(St),t.Y36(Ne))},Le.\u0275cmp=t.Xpm({type:Le,selectors:[["transloco"]],inputs:{translationKey:["key","translationKey"],translationParameters:["params","translationParameters"],inlineLanguage:["lang","inlineLanguage"],inlineScope:["scope","inlineScope"],inlineTranspilers:["transpilers","inlineTranspilers"],mergeTranspilers:"mergeTranspilers"},decls:0,vars:0,template:function(qe,Et){},styles:[":host { display: inline; }"],encapsulation:2,changeDetection:0}),Le})(),je=(()=>{class Le{}return Le.\u0275fac=function(qe){return new(qe||Le)},Le.\u0275mod=t.oAB({type:Le}),Le.\u0275inj=t.cJS({}),Le})()},19731:(S,g,e)=>{"use strict";e.d(g,{p:()=>i});var t=e(32731),n=e(94440),s=e(3874);function i(r,a){return a?(0,s.c)(r,a):new t.y((0,n.A)(r))}},83194:(S,g,e)=>{"use strict";e.d(g,{F:()=>i});var t=e(32731),n=e(18870),s=e(78301);function i(a=0,o=n.P){return(!(0,s.k)(a)||a<0)&&(a=0),(!o||"function"!=typeof o.schedule)&&(o=n.P),new t.y(d=>(d.add(o.schedule(r,a,{subscriber:d,counter:0,period:a})),d))}function r(a){const{subscriber:o,counter:d,period:h}=a;o.next(d),this.schedule({subscriber:o,counter:d+1,period:h},h)}},19449:(S,g,e)=>{"use strict";e.d(g,{C:()=>s});var t=e(32731),n=e(671);const s=new t.y(n.Z)},78783:(S,g,e)=>{"use strict";e.d(g,{S3:()=>r});var t=e(18533),n=e(45727),s=e(77512),i=e(13672);function r(...d){if(1===d.length){if(!(0,t.k)(d[0]))return d[0];d=d[0]}return(0,n.n)(d,void 0).lift(new a)}class a{call(h,p){return p.subscribe(new o(h))}}class o extends s.L{constructor(h){super(h),this.hasFirst=!1,this.observables=[],this.subscriptions=[]}_next(h){this.observables.push(h)}_complete(){const h=this.observables,p=h.length;if(0===p)this.destination.complete();else{for(let f=0;f<p&&!this.hasFirst;f++){const v=(0,i.D)(this,h[f],void 0,f);this.subscriptions&&this.subscriptions.push(v),this.add(v)}this.observables=null}}notifyNext(h,p,f){if(!this.hasFirst){this.hasFirst=!0;for(let m=0;m<this.subscriptions.length;m++)if(m!==f){let v=this.subscriptions[m];v.unsubscribe(),this.remove(v)}this.subscriptions=null}this.destination.next(p)}}},94713:(S,g,e)=>{"use strict";e.d(g,{$R:()=>a});var t=e(45727),n=e(18533),s=e(65530),i=e(69662),r=e(76803);function a(...m){const v=m[m.length-1];return"function"==typeof v&&m.pop(),(0,t.n)(m,void 0).lift(new o(v))}class o{constructor(v){this.resultSelector=v}call(v,E){return E.subscribe(new d(v,this.resultSelector))}}class d extends s.L{constructor(v,E,C=Object.create(null)){super(v),this.resultSelector=E,this.iterators=[],this.active=0,this.resultSelector="function"==typeof E?E:void 0}_next(v){const E=this.iterators;(0,n.k)(v)?E.push(new p(v)):E.push("function"==typeof v[i.hZ]?new h(v[i.hZ]()):new f(this.destination,this,v))}_complete(){const v=this.iterators,E=v.length;if(this.unsubscribe(),0!==E){this.active=E;for(let C=0;C<E;C++){let T=v[C];T.stillUnsubscribed?this.destination.add(T.subscribe()):this.active--}}else this.destination.complete()}notifyInactive(){this.active--,0===this.active&&this.destination.complete()}checkIterators(){const v=this.iterators,E=v.length,C=this.destination;for(let I=0;I<E;I++){let P=v[I];if("function"==typeof P.hasValue&&!P.hasValue())return}let T=!1;const y=[];for(let I=0;I<E;I++){let P=v[I],L=P.next();if(P.hasCompleted()&&(T=!0),L.done)return void C.complete();y.push(L.value)}this.resultSelector?this._tryresultSelector(y):C.next(y),T&&C.complete()}_tryresultSelector(v){let E;try{E=this.resultSelector.apply(this,v)}catch(C){return void this.destination.error(C)}this.destination.next(E)}}class h{constructor(v){this.iterator=v,this.nextResult=v.next()}hasValue(){return!0}next(){const v=this.nextResult;return this.nextResult=this.iterator.next(),v}hasCompleted(){const v=this.nextResult;return Boolean(v&&v.done)}}class p{constructor(v){this.array=v,this.index=0,this.length=0,this.length=v.length}[i.hZ](){return this}next(v){const E=this.index++;return E<this.length?{value:this.array[E],done:!1}:{value:null,done:!0}}hasValue(){return this.array.length>this.index}hasCompleted(){return this.array.length===this.index}}class f extends r.Ds{constructor(v,E,C){super(v),this.parent=E,this.observable=C,this.stillUnsubscribed=!0,this.buffer=[],this.isComplete=!1}[i.hZ](){return this}next(){const v=this.buffer;return 0===v.length&&this.isComplete?{value:null,done:!0}:{value:v.shift(),done:!1}}hasValue(){return this.buffer.length>0}hasCompleted(){return 0===this.buffer.length&&this.isComplete}notifyComplete(){this.buffer.length>0?(this.isComplete=!0,this.parent.notifyInactive()):this.destination.complete()}notifyNext(v){this.buffer.push(v),this.parent.checkIterators()}subscribe(){return(0,r.ft)(this.observable,new r.IY(this))}}},90902:(S,g,e)=>{"use strict";e.d(g,{j:()=>n});var t=e(65530);function n(a,o=null){return function(h){return h.lift(new s(a,o))}}class s{constructor(o,d){this.bufferSize=o,this.startBufferEvery=d,this.subscriberClass=d&&o!==d?r:i}call(o,d){return d.subscribe(new this.subscriberClass(o,this.bufferSize,this.startBufferEvery))}}class i extends t.L{constructor(o,d){super(o),this.bufferSize=d,this.buffer=[]}_next(o){const d=this.buffer;d.push(o),d.length==this.bufferSize&&(this.destination.next(d),this.buffer=[])}_complete(){const o=this.buffer;o.length>0&&this.destination.next(o),super._complete()}}class r extends t.L{constructor(o,d,h){super(o),this.bufferSize=d,this.startBufferEvery=h,this.buffers=[],this.count=0}_next(o){const{bufferSize:d,startBufferEvery:h,buffers:p,count:f}=this;this.count++,f%h==0&&p.push([]);for(let m=p.length;m--;){const v=p[m];v.push(o),v.length===d&&(p.splice(m,1),this.destination.next(v))}}_complete(){const{buffers:o,destination:d}=this;for(;o.length>0;){let h=o.shift();h.length>0&&d.next(h)}super._complete()}}},54561:(S,g,e)=>{"use strict";e.d(g,{g:()=>r});var t=e(18870),n=e(13390),s=e(65530),i=e(66766);function r(h,p=t.P){const m=(0,n.J)(h)?+h-p.now():Math.abs(h);return v=>v.lift(new a(m,p))}class a{constructor(p,f){this.delay=p,this.scheduler=f}call(p,f){return f.subscribe(new o(p,this.delay,this.scheduler))}}class o extends s.L{constructor(p,f,m){super(p),this.delay=f,this.scheduler=m,this.queue=[],this.active=!1,this.errored=!1}static dispatch(p){const f=p.source,m=f.queue,v=p.scheduler,E=p.destination;for(;m.length>0&&m[0].time-v.now()<=0;)m.shift().notification.observe(E);if(m.length>0){const C=Math.max(0,m[0].time-v.now());this.schedule(p,C)}else this.unsubscribe(),f.active=!1}_schedule(p){this.active=!0,this.destination.add(p.schedule(o.dispatch,this.delay,{source:this,destination:this.destination,scheduler:p}))}scheduleNotification(p){if(!0===this.errored)return;const f=this.scheduler,m=new d(f.now()+this.delay,p);this.queue.push(m),!1===this.active&&this._schedule(f)}_next(p){this.scheduleNotification(i.P.createNext(p))}_error(p){this.errored=!0,this.queue=[],this.destination.error(p),this.unsubscribe()}_complete(){this.scheduleNotification(i.P.createComplete()),this.unsubscribe()}}class d{constructor(p,f){this.time=p,this.notification=f}}},93676:(S,g,e)=>{"use strict";e.d(g,{j:()=>r});var t=e(65530),n=e(32731),s=e(77512),i=e(13672);function r(p,f){return f?m=>new d(m,f).lift(new a(p)):m=>m.lift(new a(p))}class a{constructor(f){this.delayDurationSelector=f}call(f,m){return m.subscribe(new o(f,this.delayDurationSelector))}}class o extends s.L{constructor(f,m){super(f),this.delayDurationSelector=m,this.completed=!1,this.delayNotifierSubscriptions=[],this.index=0}notifyNext(f,m,v,E,C){this.destination.next(f),this.removeSubscription(C),this.tryComplete()}notifyError(f,m){this._error(f)}notifyComplete(f){const m=this.removeSubscription(f);m&&this.destination.next(m),this.tryComplete()}_next(f){const m=this.index++;try{const v=this.delayDurationSelector(f,m);v&&this.tryDelay(v,f)}catch(v){this.destination.error(v)}}_complete(){this.completed=!0,this.tryComplete(),this.unsubscribe()}removeSubscription(f){f.unsubscribe();const m=this.delayNotifierSubscriptions.indexOf(f);return-1!==m&&this.delayNotifierSubscriptions.splice(m,1),f.outerValue}tryDelay(f,m){const v=(0,i.D)(this,f,m);v&&!v.closed&&(this.destination.add(v),this.delayNotifierSubscriptions.push(v))}tryComplete(){this.completed&&0===this.delayNotifierSubscriptions.length&&this.destination.complete()}}class d extends n.y{constructor(f,m){super(),this.source=f,this.subscriptionDelay=m}_subscribe(f){this.subscriptionDelay.subscribe(new h(f,this.source))}}class h extends t.L{constructor(f,m){super(),this.parent=f,this.source=m,this.sourceSubscribed=!1}_next(f){this.subscribeToSource()}_error(f){this.unsubscribe(),this.parent.error(f)}_complete(){this.unsubscribe(),this.subscribeToSource()}subscribeToSource(){this.sourceSubscribed||(this.sourceSubscribed=!0,this.unsubscribe(),this.source.subscribe(this.parent))}}},58754:(S,g,e)=>{"use strict";e.d(g,{h:()=>n});var t=e(65530);function n(r){return a=>a.lift(new s(r))}class s{constructor(a){this.value=a}call(a,o){return o.subscribe(new i(a,this.value))}}class i extends t.L{constructor(a,o){super(a),this.value=o}_next(a){this.destination.next(this.value)}}},90081:(S,g,e)=>{"use strict";e.d(g,{G:()=>n});var t=e(65530);function n(){return r=>r.lift(new s)}class s{call(a,o){return o.subscribe(new i(a))}}class i extends t.L{constructor(a){super(a),this.hasPrev=!1}_next(a){let o;this.hasPrev?o=[this.prev,a]:this.hasPrev=!0,this.prev=a,o&&this.destination.next(o)}}},69429:(S,g,e)=>{"use strict";e.d(g,{a:()=>s});var t=e(90850),n=e(76803);function s(a){return o=>o.lift(new i(a,o))}class i{constructor(o,d){this.notifier=o,this.source=d}call(o,d){return d.subscribe(new r(o,this.notifier,this.source))}}class r extends n.Ds{constructor(o,d,h){super(o),this.notifier=d,this.source=h}error(o){if(!this.isStopped){let d=this.errors,h=this.retries,p=this.retriesSubscription;if(h)this.errors=void 0,this.retriesSubscription=void 0;else{d=new t.xQ;try{const{notifier:f}=this;h=f(d)}catch(f){return super.error(f)}p=(0,n.ft)(h,new n.IY(this))}this._unsubscribeAndRecycle(),this.errors=d,this.retries=h,this.retriesSubscription=p,d.next(o)}}_unsubscribe(){const{errors:o,retriesSubscription:d}=this;o&&(o.unsubscribe(),this.errors=void 0),d&&(d.unsubscribe(),this.retriesSubscription=void 0),this.retries=void 0}notifyNext(){const{_unsubscribe:o}=this;this._unsubscribe=null,this._unsubscribeAndRecycle(),this._unsubscribe=o,this.source.subscribe(this)}}},32271:(S,g,e)=>{"use strict";e.d(g,{n:()=>n});var t=e(65530);function n(r){return a=>a.lift(new s(r))}class s{constructor(a){this.predicate=a}call(a,o){return o.subscribe(new i(a,this.predicate))}}class i extends t.L{constructor(a,o){super(a),this.predicate=o,this.skipping=!0,this.index=0}_next(a){const o=this.destination;this.skipping&&this.tryCallPredicate(a),this.skipping||o.next(a)}tryCallPredicate(a){try{const o=this.predicate(a,this.index++);this.skipping=Boolean(o)}catch(o){this.destination.error(o)}}}},83417:(S,g,e)=>{"use strict";e.d(g,{p:()=>o});var t=e(65530),n=e(18870);const s={leading:!0,trailing:!1};function o(f,m=n.P,v=s){return E=>E.lift(new d(f,m,v.leading,v.trailing))}class d{constructor(m,v,E,C){this.duration=m,this.scheduler=v,this.leading=E,this.trailing=C}call(m,v){return v.subscribe(new h(m,this.duration,this.scheduler,this.leading,this.trailing))}}class h extends t.L{constructor(m,v,E,C,T){super(m),this.duration=v,this.scheduler=E,this.leading=C,this.trailing=T,this._hasTrailingValue=!1,this._trailingValue=null}_next(m){this.throttled?this.trailing&&(this._trailingValue=m,this._hasTrailingValue=!0):(this.add(this.throttled=this.scheduler.schedule(p,this.duration,{subscriber:this})),this.leading?this.destination.next(m):this.trailing&&(this._trailingValue=m,this._hasTrailingValue=!0))}_complete(){this._hasTrailingValue?(this.destination.next(this._trailingValue),this.destination.complete()):this.destination.complete()}clearThrottle(){const m=this.throttled;m&&(this.trailing&&this._hasTrailingValue&&(this.destination.next(this._trailingValue),this._trailingValue=null,this._hasTrailingValue=!1),m.unsubscribe(),this.remove(m),this.throttled=null)}}function p(f){const{subscriber:m}=f;m.clearThrottle()}},56422:(S,g,e)=>{"use strict";e.d(g,{$:()=>n});var t=e(94713);function n(...s){return function(r){return r.lift.call((0,t.$R)(r,...s))}}},94485:(S,g,e)=>{"use strict";e.d(g,{E:()=>f});let t=1;const n=Promise.resolve(),s={};function i(v){return v in s&&(delete s[v],!0)}const r={setImmediate(v){const E=t++;return s[E]=!0,n.then(()=>i(E)&&v()),E},clearImmediate(v){i(v)}};var o=e(72203),h=e(2930);const f=new class extends h.v{flush(E){this.active=!0,this.scheduled=void 0;const{actions:C}=this;let T,y=-1,I=C.length;E=E||C.shift();do{if(T=E.execute(E.state,E.delay))break}while(++y<I&&(E=C.shift()));if(this.active=!1,T){for(;++y<I&&(E=C.shift());)E.unsubscribe();throw T}}}(class extends o.o{constructor(E,C){super(E,C),this.scheduler=E,this.work=C}requestAsyncId(E,C,T=0){return null!==T&&T>0?super.requestAsyncId(E,C,T):(E.actions.push(this),E.scheduled||(E.scheduled=r.setImmediate(E.flush.bind(E,null))))}recycleAsyncId(E,C,T=0){if(null!==T&&T>0||null===T&&this.delay>0)return super.recycleAsyncId(E,C,T);0===E.actions.length&&(r.clearImmediate(C),E.scheduled=void 0)}})},49820:(S,g,e)=>{"use strict";e.d(g,{b:()=>n});var t=e(32731);function n(s){return!!s&&(s instanceof t.y||"function"==typeof s.lift&&"function"==typeof s.subscribe)}},35363:(S,g,e)=>{"use strict";var a,o;e.d(g,{Z:()=>i}),S=e.hmd(S);const i=("function"==typeof(o=("undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:S).Symbol)?o.observable?a=o.observable:(a=o("observable"),o.observable=a):a="@@observable",a)},52744:(S,g,e)=>{"use strict";function t(i){return function(r,a,o){if(null!=o.value)o.value=s(o.value,i);else{if(null==o.get)throw"Only put a Memoize() decorator on a method or get accessor.";o.get=s(o.get,i)}}}e.d(g,{P:()=>t});var n=0;function s(i,r){var a=++n;return function(){for(var o=[],d=0;d<arguments.length;d++)o[d]=arguments[d];var f,h="__memoized_value_"+a,p="__memoized_map_"+a;if(r||o.length>0){this.hasOwnProperty(p)||Object.defineProperty(this,p,{configurable:!1,enumerable:!1,writable:!1,value:new Map});var m=this[p],v=void 0;v=r?r.apply(this,o):o[0],m.has(v)?f=m.get(v):(f=i.apply(this,o),m.set(v,f))}else this.hasOwnProperty(h)?f=this[h]:(f=i.apply(this,o),Object.defineProperty(this,h,{configurable:!1,enumerable:!1,writable:!1,value:f}));return f}}},33862:(S,g,e)=>{"use strict";Object.defineProperty(g,"__esModule",{value:!0}),g.default=function(r){return(0,t.default)(r),s.test(r)};var r,t=(r=e(76720))&&r.__esModule?r:{default:r},s=/^#?([0-9A-F]{3}|[0-9A-F]{4}|[0-9A-F]{6}|[0-9A-F]{8})$/i;S.exports=g.default,S.exports.default=g.default},76720:(S,g)=>{"use strict";function e(n){return(e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(i){return typeof i}:function(i){return i&&"function"==typeof Symbol&&i.constructor===Symbol&&i!==Symbol.prototype?"symbol":typeof i})(n)}Object.defineProperty(g,"__esModule",{value:!0}),g.default=function(n){if(!("string"==typeof n||n instanceof String)){var i=e(n);throw null===n?i="null":"object"===i&&(i=n.constructor.name),new TypeError("Expected a string but received a ".concat(i))}},S.exports=g.default,S.exports.default=g.default},14597:(S,g,e)=>{S.exports=e(96611).Observable},96611:(S,g)=>{"use strict";function t(x,B){if(!(x instanceof B))throw new TypeError("Cannot call a class as a function")}function n(x,B){for(var M=0;M<B.length;M++){var w=B[M];w.enumerable=w.enumerable||!1,w.configurable=!0,"value"in w&&(w.writable=!0),Object.defineProperty(x,w.key,w)}}function s(x,B,M){return B&&n(x.prototype,B),M&&n(x,M),x}g.Observable=void 0;var i=function(){return"function"==typeof Symbol},r=function(x){return i()&&Boolean(Symbol[x])},a=function(x){return r(x)?Symbol[x]:"@@"+x};i()&&!r("observable")&&(Symbol.observable=Symbol("observable"));var o=a("iterator"),d=a("observable"),h=a("species");function p(x,B){var M=x[B];if(null!=M){if("function"!=typeof M)throw new TypeError(M+" is not a function");return M}}function f(x){var B=x.constructor;return void 0!==B&&null===(B=B[h])&&(B=void 0),void 0!==B?B:b}function v(x){v.log?v.log(x):setTimeout(function(){throw x})}function E(x){Promise.resolve().then(function(){try{x()}catch(B){v(B)}})}function C(x){var B=x._cleanup;if(void 0!==B&&(x._cleanup=void 0,B))try{if("function"==typeof B)B();else{var M=p(B,"unsubscribe");M&&M.call(B)}}catch(w){v(w)}}function T(x){x._observer=void 0,x._queue=void 0,x._state="closed"}function I(x,B,M){x._state="running";var w=x._observer;try{var K=p(w,B);switch(B){case"next":K&&K.call(w,M);break;case"error":if(T(x),!K)throw M;K.call(w,M);break;case"complete":T(x),K&&K.call(w)}}catch(k){v(k)}"closed"===x._state?C(x):"running"===x._state&&(x._state="ready")}function P(x,B,M){if("closed"!==x._state){if("buffering"===x._state)return void x._queue.push({type:B,value:M});if("ready"!==x._state)return x._state="buffering",x._queue=[{type:B,value:M}],void E(function(){return function(x){var B=x._queue;if(B){x._queue=void 0,x._state="ready";for(var M=0;M<B.length&&(I(x,B[M].type,B[M].value),"closed"!==x._state);++M);}}(x)});I(x,B,M)}}var L=function(){function x(B,M){t(this,x),this._cleanup=void 0,this._observer=B,this._queue=void 0,this._state="initializing";var w=new F(this);try{this._cleanup=M.call(void 0,w)}catch(K){w.error(K)}"initializing"===this._state&&(this._state="ready")}return s(x,[{key:"unsubscribe",value:function(){"closed"!==this._state&&(T(this),C(this))}},{key:"closed",get:function(){return"closed"===this._state}}]),x}(),F=function(){function x(B){t(this,x),this._subscription=B}return s(x,[{key:"next",value:function(M){P(this._subscription,"next",M)}},{key:"error",value:function(M){P(this._subscription,"error",M)}},{key:"complete",value:function(){P(this._subscription,"complete")}},{key:"closed",get:function(){return"closed"===this._subscription._state}}]),x}(),b=function(){function x(B){if(t(this,x),!(this instanceof x))throw new TypeError("Observable cannot be called as a function");if("function"!=typeof B)throw new TypeError("Observable initializer must be a function");this._subscriber=B}return s(x,[{key:"subscribe",value:function(M){return("object"!=typeof M||null===M)&&(M={next:M,error:arguments[1],complete:arguments[2]}),new L(M,this._subscriber)}},{key:"forEach",value:function(M){var w=this;return new Promise(function(K,k){if("function"==typeof M)var $=w.subscribe({next:function(X){try{M(X,G)}catch(ie){k(ie),$.unsubscribe()}},error:k,complete:K});else k(new TypeError(M+" is not a function"));function G(){$.unsubscribe(),K()}})}},{key:"map",value:function(M){var w=this;if("function"!=typeof M)throw new TypeError(M+" is not a function");return new(f(this))(function(k){return w.subscribe({next:function(G){try{G=M(G)}catch($){return k.error($)}k.next(G)},error:function(G){k.error(G)},complete:function(){k.complete()}})})}},{key:"filter",value:function(M){var w=this;if("function"!=typeof M)throw new TypeError(M+" is not a function");return new(f(this))(function(k){return w.subscribe({next:function(G){try{if(!M(G))return}catch($){return k.error($)}k.next(G)},error:function(G){k.error(G)},complete:function(){k.complete()}})})}},{key:"reduce",value:function(M){var w=this;if("function"!=typeof M)throw new TypeError(M+" is not a function");var K=f(this),k=arguments.length>1,G=!1,$=arguments[1],X=$;return new K(function(ie){return w.subscribe({next:function(se){var pe=!G;if(G=!0,!pe||k)try{X=M(X,se)}catch(ve){return ie.error(ve)}else X=se},error:function(se){ie.error(se)},complete:function(){if(!G&&!k)return ie.error(new TypeError("Cannot reduce an empty sequence"));ie.next(X),ie.complete()}})})}},{key:"concat",value:function(){for(var M=this,w=arguments.length,K=new Array(w),k=0;k<w;k++)K[k]=arguments[k];var G=f(this);return new G(function($){var X,ie=0;return function se(pe){X=pe.subscribe({next:function(ve){$.next(ve)},error:function(ve){$.error(ve)},complete:function(){ie===K.length?(X=void 0,$.complete()):se(G.from(K[ie++]))}})}(M),function(){X&&(X.unsubscribe(),X=void 0)}})}},{key:"flatMap",value:function(M){var w=this;if("function"!=typeof M)throw new TypeError(M+" is not a function");var K=f(this);return new K(function(k){var G=[],$=w.subscribe({next:function(ie){if(M)try{ie=M(ie)}catch(pe){return k.error(pe)}var se=K.from(ie).subscribe({next:function(pe){k.next(pe)},error:function(pe){k.error(pe)},complete:function(){var pe=G.indexOf(se);pe>=0&&G.splice(pe,1),X()}});G.push(se)},error:function(ie){k.error(ie)},complete:function(){X()}});function X(){$.closed&&0===G.length&&k.complete()}return function(){G.forEach(function(ie){return ie.unsubscribe()}),$.unsubscribe()}})}},{key:d,value:function(){return this}}],[{key:"from",value:function(M){var w="function"==typeof this?this:x;if(null==M)throw new TypeError(M+" is not an object");var K=p(M,d);if(K){var k=K.call(M);if(Object(k)!==k)throw new TypeError(k+" is not an object");return function(x){return x instanceof b}(k)&&k.constructor===w?k:new w(function(G){return k.subscribe(G)})}if(r("iterator")&&(K=p(M,o)))return new w(function(G){E(function(){if(!G.closed){var $=!0,X=!1,ie=void 0;try{for(var pe,se=K.call(M)[Symbol.iterator]();!($=(pe=se.next()).done);$=!0)if(G.next(pe.value),G.closed)return}catch(Ce){X=!0,ie=Ce}finally{try{!$&&null!=se.return&&se.return()}finally{if(X)throw ie}}G.complete()}})});if(Array.isArray(M))return new w(function(G){E(function(){if(!G.closed){for(var $=0;$<M.length;++$)if(G.next(M[$]),G.closed)return;G.complete()}})});throw new TypeError(M+" is not observable")}},{key:"of",value:function(){for(var M=arguments.length,w=new Array(M),K=0;K<M;K++)w[K]=arguments[K];var k="function"==typeof this?this:x;return new k(function(G){E(function(){if(!G.closed){for(var $=0;$<w.length;++$)if(G.next(w[$]),G.closed)return;G.complete()}})})}},{key:h,get:function(){return this}}]),x}();g.Observable=b,i()&&Object.defineProperty(b,Symbol("extensions"),{value:{symbol:d,hostReportError:v},configurable:!0})},51731:(S,g,e)=>{"use strict";e.d(g,{p:()=>n});var t=e(84046);let n=(()=>{class s{}return s.MULTI_TENANT_STATUS_ACTIVATING="ACTIVATING",s.MULTI_TENANT_STATUS_DBUPGRADE_NOT_APPROVED_YET="DBUPGRADE_NOT_APPROVED_YET",s.MULTI_TENANT_STATUS_WAITING_FOR_DBUPGRADE_APPROVAL="WAITING_FOR_DBUPGRADE_APPROVAL",s.MULTI_TENANT_STATUS_NO_UT_CONTINUITY_ADMIN="NO_UT_CONTINUITY_ADMIN",s.MULTI_TENANT_STATUS_NO_UT_CONTINUITY_NON_ADMIN="NO_UT_CONTINUITY_NON_ADMIN",s.MULTI_TENANT_STATUS_ACTIVATED="ACTIVATED",s.MULTI_TENANT_STATUS_ACTIVATING_FAILED="ACTIVATING_FAILED",s.MULTI_TENANT_STATUS_ACTIVATING_FAILED_DATABASE_VERSION_NEWER_THAN_APP="ACTIVATING_FAILED_DATABASE_VERSION_NEWER_THAN_APP",s.\u0275fac=function(r){return new(r||s)},s.\u0275prov=t.Yz7({token:s,factory:s.\u0275fac}),s})()},33444:(S,g,e)=>{"use strict";e.d(g,{q:()=>n});var t=e(84046);let n=(()=>{class s{goTo(r){return this.goToMethod(r)}setGoTo(r){this.goToMethod=r}}return s.\u0275fac=function(r){return new(r||s)},s.\u0275prov=t.Yz7({token:s,factory:s.\u0275fac}),s})()},14311:(S,g,e)=>{"use strict";e.d(g,{g:()=>i});var t=e(33444),n=e(73455),s=e(84046);let i=(()=>{class r{static forRoot(o){return{ngModule:r,providers:[t.q,{provide:n.M,useClass:o}]}}}return r.\u0275fac=function(o){return new(o||r)},r.\u0275mod=s.oAB({type:r}),r.\u0275inj=s.cJS({}),r})()},80790:(S,g,e)=>{"use strict";e.d(g,{_:()=>v});var t=e(73455),n=e(28620),s=e(92945),i=e(80434),r=e(83950),a=e(84046),o=e(17314),d=e(67890),h=e(33444);let v=class extends t.M{constructor(C,T,y,I,P){super(),this.router=C,this.systemPathInfoStorage=T,this.environmentService=y,this.goToMethodSupplier=I,this.window=P}goToHome(){return this.goToOverview(d.Au.ROOT_ID.toString())}goToGantt(C){return this.goToBoxModule(i.r.GANTT,C)}goToObjectives(C){return this.goToBoxModule(i.r.OBJECTIVES,C)}goToBoard(C){return this.goToBoxModule(i.r.BOARD,C)}goToBoardCapacityPlanning(C){return this.goToBoxModule(i.r.BOARD,C,"capacity-planning")}goToResources(C){return this.goToBoxModule(i.r.RESOURCES,C)}goToRisk(C){return this.goToBoxModule(i.r.RISK,C)}goToReports(C){return this.goToBoxModule(i.r.REPORTS,C)}goToTeams(C){return this.goToBoxModule(i.r.TEAMS,C)}goToScope(C){return this.goToBoxModule(i.r.SCOPE,C)}goToOverview(C,T){return this.goToBoxModule(i.r.OVERVIEW,C,T)}goToCalendar(C){return this.goToBoxModule(i.r.CALENDAR,C)}goToBoxConfiguration(C,T=""){return this.goToBoxModule(i.r.CONFIGURATION,C,T)}goToBoxSecurityConfiguration(C){return this.goToBoxConfiguration(C,"security")}goToScopeDefinition(C){return this.goToBoxConfiguration(C,"tasks/scope-definition")}goToIssuePage(C){return`${this.environmentService.getBaseURL()}/browse/${C}`}goToUserProfile(){return this.goToUserProfileModule()}goToUserProfileAbsences(){return this.goToUserProfileModule("absences")}goToTechnicalConfiguration(){return this.goToGlobalConfigurationModule()}goToTechnicalConfigurationToolConnections(){return this.goToGlobalConfigurationModule("tools/connections")}goToAdministration(){return this.goToAdministrationModule()}goToAdministrationSecurity(){return this.goToAdministrationModule("security")}goToAdministrationBoxTypeConfiguration(){return this.goToAdministrationModule("box-type-configuration")}goToAdministrationResourceManager(C=""){return this.goToAdministrationModule(`resources/individuals/${C}`)}goToAdministrationWorkloadPlans(C=""){return this.goToAdministrationModule(`resources/workloadplan/${C}`)}goToAdministrationHolidayPlans(C=""){return this.goToAdministrationModule(`resources/holidayplan/${C}`)}goToAdministrationSkills(){return this.goToAdministrationModule("resources/skills")}goToTaskTemplates(C){return this.goToBoxModule(i.r.CONFIGURATION,C,"tasks/task-templates")}goToScopeColumnViewConfiguration(C){return this.goToBoxModule(i.r.CONFIGURATION,C,"scope/column-views")}goToGanttColumnViewConfiguration(C){return this.goToBoxModule(i.r.CONFIGURATION,C,"gantt/column-views")}goToTaskCardLayoutConfiguration(C){return this.goToBoxConfiguration(C,"board/card-views")}goToRiskCardLayoutConfiguration(C){return this.goToBoxModule(i.r.CONFIGURATION,C,"risk/card-views")}goToWbsWidgetConfiguration(){return this.goToGlobalConfigurationModule("widgets/wbs-widget")}goToSkillWidgetConfiguration(C){return this.goToGlobalConfigurationModule("widgets/skill-widget")}goToAppManagement(){const y=`${this.environmentService.getParam("main-extplatform-base-url")}/plugins/servlet/upm#manage/${this.environmentService.getParam("pluginKey")}`;return{eventPreventDefault:!0,href:"",navigation:()=>window.open(y)}}goToGlobalConfigurationModule(C=""){return this.goTo("global-configuration"+(C?`/${C}`:""))}goToUserProfileModule(C=""){return this.goTo("userprofile"+(C?`/${C}`:""))}goToAdministrationModule(C=""){return this.goTo("administration"+(C?`/${C}`:""))}goToBoxModule(C,T,y=""){const I=`${this.getBoxUrl(C,T)}/${y}`;return this.goTo(I)}getBaseUrl(){return`${this.platformName}/${this.getSystemName()}`}goTo(C){return this.goToMethodSupplier.goTo(C)}getBoxUrl(C,T){return`box/${T}/${C}`}getSystemName(){return this.systemPathInfoStorage.get()}};var C;v=function(E,C,T,y){var L,I=arguments.length,P=I<3?C:null===y?y=Object.getOwnPropertyDescriptor(C,T):y;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)P=Reflect.decorate(E,C,T,y);else for(var F=E.length-1;F>=0;F--)(L=E[F])&&(P=(I<3?L(P):I>3?L(C,T,P):L(C,T))||P);return I>3&&P&&Object.defineProperty(C,T,P),P}([(4,C=(0,a.tBr)(o.m),function(T,y){C(T,y,4)}),function(E,C){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata("design:paramtypes",C)}(0,[s.F0,n.N,r.L,h.q,Window])],v)},25171:(S,g,e)=>{"use strict";e.d(g,{v:()=>n});var t=e(84046);let n=(()=>{class s{}return s.\u0275fac=function(r){return new(r||s)},s.\u0275prov=t.Yz7({token:s,factory:s.\u0275fac}),s})()},48546:(S,g,e)=>{"use strict";e.d(g,{c:()=>N_});var t=e(55331),n=e(17072);class s{hasRoute(l,u){return this.getAvailableRoutes(u).some(_=>_===l)}}class i extends s{getAvailableRoutes(){return[...n.C.getResourceManagerUrls(),...n.C.getSkillsUrls()]}}var r=e(53991);class a extends s{getAvailableRoutes(l){return l===r.v.PLUGIN_RESOURCE_ADMIN?(new i).getAvailableRoutes():l===r.v.PLUGIN_ADMIN?[...n.C.getBoxTypeConfigurationUrls(),...n.C.getSecurityUrls(),n.C.CUSTOM_ACTIONS,...(new i).getAvailableRoutes()]:void 0}}class o{}class d extends o{getLogo(){return"app/common/assets/images/plugin-icon-bp.svg"}}class h{}class p extends h{constructor(l){super(),this.environmentService=l}getDocumentationLink(){return this.environmentService.getHelpURL("system/global/technical-configuration")}getUserPreferencesVisibility(){return!1}}class f{isAddActionDisabled(){return!1}}class m extends f{}var v=e(83941);class E extends m{constructor(l){super(),this.environmentService=l}isAddActionDisabled(){return!1}getTitle(){return"SPT_ADMIN_HOLIDAY_PLANS_TITLE"}getDocumentationLink(){return this.environmentService.getHelpURL("ppm/resource/holiday-plans")}getDescription(){return v.H.i18n("SPT_ADMIN_HOLIDAY_PLANS_DESCRIPTION")}}class C{hasRoute(l){return this.getAvailableRoutes().some(u=>u===l)}}class T extends C{getAvailableRoutes(){return["general","task","dependencies","live-sync","general/task","general/dependencies","general/live-sync","modules","overview","gantt","risks","resources","modules/overview","modules/gantt","modules/risks","modules/resources","tools","connections","tempo","tools/connections","tools/tempo","widgets","app-widget","wbs-widget","skill-widget","widgets/app-widget","widgets/wbs-widget","widgets/skill-widget","security","license","region","data-location","translations","region/data-location","region/translations","advanced","technical-info","backups","advanced/technical-info","advanced/backups"]}}class y extends C{getAvailableRoutes(){return["general","task","dependencies","live-sync","general/task","general/dependencies","general/live-sync","modules","overview","modules/overview","tools","connections","tools/connections","security","license","region","translations","region/translations","audit","advanced","technical-info","backups","statistics","log-audit","advanced/technical-info","advanced/backups","advanced/statistics","advanced/log-audit"]}}var I=e(88136);class P extends I.Jp{constructor(l){super(),this.environmentService=l}getDocumentationLink(){return this.environmentService.getHelpURL("ppm/global/license-configuration")}}class L{constructor(l,u,_){this.synchronizationElementsVisible=l,this.synchronizationAvailable=this.isSynchronizationAvailable(u,_),this.tooltip=this.getTooltip(u,_)}}class F extends L{isSynchronizationAvailable(l,u){return l&&u}getTooltip(l,u){return l?u?"SPT_TEMPO_BUTTON_RESYNCHRONIZE_TOOLTIP":"SPT_TEMPO_BUTTON_RESYNCHRONIZE_TOOLTIP_NO_TEMPO_AVAILABLE":"SPT_TEMPO_BUTTON_RESYNCHRONIZE_TOOLTIP_NO_BPE_AVAILABLE"}}class b extends L{isSynchronizationAvailable(l,u){return l&&u}getTooltip(l,u){return l?u?"SPT_TEMPO_BUTTON_SYNCHRONIZE_TOOLTIP":"SPT_TEMPO_BUTTON_SYNCHRONIZE_TOOLTIP_NO_TEMPO_AVAILABLE":"SPT_TEMPO_BUTTON_SYNCHRONIZE_TOOLTIP_NO_BPE_AVAILABLE"}}class x{}var B=e(43431),M=e(56422),w=e(71726),K=e(63833);class k extends x{checkSynchronizationAvailability(l,u,_){return u.pipe((0,M.$)(_),(0,w.U)(D=>{const O=D[0].isEnterprise();return this.getAvailability(O,D[1],l)}),(0,K.q)(1))}getAvailability(l,u,_){let D;switch(_){case B.Y.SYNCHRONIZATION:D=new b(!0,l,u);break;case B.Y.RESYNCHRONIZATION:D=new F(!0,l,u);break;default:console.error("There is no such SynchronizationType: "+_)}return D}}class G{}class $ extends G{getName(){return"BigAgile"}getLogo(){return"app/common/assets/images/plugin-icon-ba.svg"}getLogoWithName(){return"app/common/assets/images/plugin-logo-with-name-ba.svg"}}class X extends f{}class ie extends X{constructor(l){super(),this.environmentService=l}getTitle(){return"SPT_ADMIN_WORKLOAD_PLANS_TITLE"}getDocumentationLink(){return this.environmentService.getHelpURL("ppm/resource/workload-plans")}getDescription(){return v.H.i18n("SPT_ADMIN_WORKLOAD_PLANS_DESCRIPTION")}isAddActionDisabled(){return!1}}class Ce extends class extends class extends class{}{}{}{}var ye=e(68534),de=e(85105);let Ie=(()=>{class c{constructor(u,_,D,O,A,N,J,H,he,Ae,ge,Xe,ft,dt,Kt,Jt){this.isPermissionCacheClearButtonEnabled=u,this.isLocksEnabled=_,this.isIntegrityEnabled=D,this.isFeedbackMenuEnabled=O,this.isLogButtonsEnabled=A,this.isOnboardingTourButtonEnabled=N,this.isProfilingEnabled=J,this.isMonitoringEnabled=H,this.isSendLogsEnabled=he,this.isDownloadSupportZipEnabled=Ae,this.isThreadDumpsDownloadEnabled=ge,this.isTaskRelationsReportDownloadEnabled=Xe,this.isAcyclicityCheckerEnabled=ft,this.isMissingValuesFixerEnabled=dt,this.isExportTroubleshootingEnabled=Kt,this.isTechnicalUserPickerEnabled=Jt}}return c.Builder=class extends de.I{constructor(){super(),this.isPermissionCacheClearButtonEnabled=!1,this.isLocksEnabled=!1,this.isIntegrityEnabled=!1,this.isFeedbackMenuEnabled=!1,this.isLogButtonsEnabled=!1,this.isOnboardingTourButtonEnabled=!1,this.isProfilingEnabled=!1,this.isMonitoringEnabled=!1,this.isSendLogsEnabled=!1,this.isDownloadSupportZipEnabled=!1,this.isThreadDumpsDownloadEnabled=!1,this.isTaskRelationsReportDownloadEnabled=!1,this.isAcyclicityCheckerEnabled=!1,this.isMissingValuesFixerEnabled=!1,this.isExportTroubleshootingEnabled=!1,this.isTechnicalUserPickerEnabled=!1}build(){return new c(this.isPermissionCacheClearButtonEnabled,this.isLocksEnabled,this.isIntegrityEnabled,this.isFeedbackMenuEnabled,this.isLogButtonsEnabled,this.isOnboardingTourButtonEnabled,this.isProfilingEnabled,this.isMonitoringEnabled,this.isSendLogsEnabled,this.isDownloadSupportZipEnabled,this.isThreadDumpsDownloadEnabled,this.isTaskRelationsReportDownloadEnabled,this.isAcyclicityCheckerEnabled,this.isMissingValuesFixerEnabled,this.isExportTroubleshootingEnabled,this.isTechnicalUserPickerEnabled)}withPermissionCacheClearButtonEnabled(){return this.isPermissionCacheClearButtonEnabled=!0,this}withLocksEnabled(){return this.isLocksEnabled=!0,this}withIntegrityEnabled(){return this.isIntegrityEnabled=!0,this}withFeedbackMenuEnabled(){return this.isFeedbackMenuEnabled=!0,this}withLogButtonsEnabled(){return this.isLogButtonsEnabled=!0,this}withOnboardingTourButtonEnabled(){return this.isOnboardingTourButtonEnabled=!0,this}withProfilingEnabled(){return this.isProfilingEnabled=!0,this}withMonitoringEnabled(){return this.isMonitoringEnabled=!0,this}withSendLogsEnabled(){return this.isSendLogsEnabled=!0,this}withSupportZipDownloadEnabled(){return this.isDownloadSupportZipEnabled=!0,this}withThreadDumpsDownloadEnabled(){return this.isThreadDumpsDownloadEnabled=!0,this}withTaskRelationsReportDownloadEnabled(){return this.isTaskRelationsReportDownloadEnabled=!0,this}withAcyclicityCheckerEnabled(){return this.isAcyclicityCheckerEnabled=!0,this}withExportTroubleshootingEnabled(){return this.isExportTroubleshootingEnabled=!0,this}withMissingValuesFixerEnabled(){return this.isMissingValuesFixerEnabled=!0,this}withTechnicalUserPickerEnabled(){return this.isTechnicalUserPickerEnabled=!0,this}},c})();class He extends L{isSynchronizationAvailable(l,u){return l&&u}getTooltip(l,u){return l?u?"SPT_TEMPO_BUTTON_SYNCHRONIZE_TOOLTIP":"SPT_TEMPO_BUTTON_SYNCHRONIZE_TOOLTIP_NO_TEMPO_AVAILABLE":"SPT_TEMPO_BUTTON_SYNCHRONIZE_TOOLTIP_NO_BPE_AVAILABLE"}}class Ve extends L{isSynchronizationAvailable(l,u){return l&&u}getTooltip(l,u){return l?u?"SPT_TEMPO_BUTTON_RESYNCHRONIZE_TOOLTIP":"SPT_TEMPO_BUTTON_RESYNCHRONIZE_TOOLTIP_NO_TEMPO_AVAILABLE":"SPT_TEMPO_BUTTON_RESYNCHRONIZE_TOOLTIP_NO_BPE_AVAILABLE"}}class Ue extends x{checkSynchronizationAvailability(l,u,_){return u.pipe((0,w.U)(D=>{const O=D.isEnterprise();return this.getAvailability(O,!0,l)}),(0,K.q)(1))}getAvailability(l,u,_){let D;switch(_){case B.Y.SYNCHRONIZATION:D=new He(!0,l,u);break;case B.Y.RESYNCHRONIZATION:D=new Ve(!0,l,u);break;default:console.error("There is no such SynchronizationType: "+_)}return D}}let xe=(()=>{class c{constructor(){}getIsBoardLiveSyncConfigurationEnabled(){return this.isBoardLiveSyncConfigurationEnabled}getIsActiveUsersLiveSyncConfigurationEnabled(){return this.isActiveUsersLiveSyncConfigurationEnabled}getIsMarkerLiveSyncConfigurationEnabled(){return this.isMarkerLiveSyncConfigurationEnabled}getIsGanttLiveSyncConfigurationEnabled(){return this.isGanttLiveSyncConfigurationEnabled}getIsCalendarLiveSyncConfigurationEnabled(){return this.isCalendarLiveSyncConfigurationEnabled}}return c.Builder=class extends de.I{constructor(){super(...arguments),this.isBoardLiveSyncConfigurationEnabled=!1,this.isActiveUsersLiveSyncConfigurationEnabled=!1,this.isMarkerLiveSyncConfigurationEnabled=!1,this.isGanttLiveSyncConfigurationEnabled=!1,this.isCalendarLiveSyncConfigurationEnabled=!1}withBoardLiveSyncEnabled(){return this.isBoardLiveSyncConfigurationEnabled=!0,this}withActiveUsersLiveSyncEnabled(){return this.isActiveUsersLiveSyncConfigurationEnabled=!0,this}withMarkerLiveSyncEnabled(){return this.isMarkerLiveSyncConfigurationEnabled=!0,this}withGanttLiveSyncEnabled(){return this.isGanttLiveSyncConfigurationEnabled=!0,this}withCalendarLiveSyncEnabled(){return this.isCalendarLiveSyncConfigurationEnabled=!0,this}build(){const u=new c;return u.isBoardLiveSyncConfigurationEnabled=this.isBoardLiveSyncConfigurationEnabled,u.isActiveUsersLiveSyncConfigurationEnabled=this.isActiveUsersLiveSyncConfigurationEnabled,u.isMarkerLiveSyncConfigurationEnabled=this.isMarkerLiveSyncConfigurationEnabled,u.isGanttLiveSyncConfigurationEnabled=this.isGanttLiveSyncConfigurationEnabled,u.isCalendarLiveSyncConfigurationEnabled=this.isCalendarLiveSyncConfigurationEnabled,u}},c})();class gt extends L{isSynchronizationAvailable(){return!1}getTooltip(){return""}}class tt extends L{isSynchronizationAvailable(){return!1}getTooltip(){return""}}class lt extends x{checkSynchronizationAvailability(l,u,_){return u.pipe((0,w.U)(D=>{const O=D.isEnterprise();return this.getAvailability(O,!0,l)}),(0,K.q)(1))}getAvailability(l,u,_){let D;switch(_){case B.Y.SYNCHRONIZATION:D=new gt(!1,l,u);break;case B.Y.RESYNCHRONIZATION:D=new tt(!1,l,u);break;default:console.error("There is no such SynchronizationType: "+_)}return D}}class Mt extends C{getAvailableRoutes(){return["general","task","dependencies","live-sync","general/task","general/dependencies","general/live-sync","modules","overview","resources","modules/overview","modules/resources","tools","connections","tools/connections","security","license","region","data-location","translations","region/data-location","region/translations","advanced","technical-info","backups","advanced/technical-info","advanced/backups"]}}let ne=(()=>{class c{getBoxDropdownConfig(){return this.boxDropdownConfig}getBodyCssClasses(){return this.bodyCssClasses}getBoxUnExistErrorMessage(){return this.boxUnExistErrorMessage}}return c.Builder=class extends de.I{constructor(){super(...arguments),this.boxDropdownConfig={},this.bodyCssClasses=[],this.boxUnExistErrorMessage=v.H.string("")}build(){let u=new c;return u.boxDropdownConfig=this.boxDropdownConfig,u.bodyCssClasses=this.bodyCssClasses,u.boxUnExistErrorMessage=this.boxUnExistErrorMessage,u}withBoxDropdownConfig(u){return this.boxDropdownConfig=u,this}withBodyCssClasses(u){return this.bodyCssClasses=u,this}withBoxUnExistErrorMessage(u){return this.boxUnExistErrorMessage=u,this}},c})();class De extends Ce{constructor(l,u,_){super(),this.environmentService=l,this.platformName=u,this.applicationContext=_,this.administrationRoutes=new a,this.holidayPlansConfiguration=new E(this.environmentService),this.workloadPlansConfiguration=new ie(this.environmentService),this.breadcrumbAppEnvironment=new d,this.systemPlatform=new $,this.jiraCloudSynchronizationAvailableService=new Ue,this.trelloSynchronizationAvailableService=new lt,this.jiraServerSynchronizationAvailableService=new k,this.jiraCloudGlobalConfigurationRoutes=new T,this.trelloGlobalConfigurationRoutes=new Mt,this.jiraServerGlobalConfigurationRoutes=new y,this.globalConfigurationRootConfig=new p(this.environmentService),this.licenseRootConfig=new P(this.environmentService),this.liveSyncConfiguration=(new xe.Builder).withMarkerLiveSyncEnabled().withActiveUsersLiveSyncEnabled().withBoardLiveSyncEnabled().build(),this.jiraServerGlobalTechnicalInfoConfiguration=(new Ie.Builder).withFeedbackMenuEnabled().withIntegrityEnabled().withLocksEnabled().withLogButtonsEnabled().withOnboardingTourButtonEnabled().withProfilingEnabled().withMonitoringEnabled().withPermissionCacheClearButtonEnabled().withSendLogsEnabled().withSupportZipDownloadEnabled().withAcyclicityCheckerEnabled().withMissingValuesFixerEnabled().withTechnicalUserPickerEnabled().withThreadDumpsDownloadEnabled().withTaskRelationsReportDownloadEnabled().build(),this.jiraCloudGlobalTechnicalInfoConfiguration=(new Ie.Builder).withPermissionCacheClearButtonEnabled().withIntegrityEnabled().withOnboardingTourButtonEnabled().withAcyclicityCheckerEnabled().withThreadDumpsDownloadEnabled().withSupportZipDownloadEnabled().withMissingValuesFixerEnabled().build(),this.trelloGlobalTechnicalInfoConfiguration=(new Ie.Builder).withPermissionCacheClearButtonEnabled().withIntegrityEnabled().withOnboardingTourButtonEnabled().withAcyclicityCheckerEnabled().withThreadDumpsDownloadEnabled().withSupportZipDownloadEnabled().withMissingValuesFixerEnabled().build(),this.jiraWbsIssueDetailsConfig=(new ne.Builder).withBoxDropdownConfig({width:540}).build(),this.trelloWbsIssueDetailsConfig=(new ne.Builder).withBoxDropdownConfig({width:400,height:300}).withBodyCssClasses(["sp-pt-2","sp-px-2","sp-min-w-full"]).withBoxUnExistErrorMessage(v.H.i18n("SPT_APP_TRELLO_BOX_UN_EXIST_ERROR_MESSAGE")).build()}getAdministrationRoutes(){return this.administrationRoutes}getGlobalConfigurationRoutes(){return this.platformName===ye.i.JIRA_SERVER?this.jiraServerGlobalConfigurationRoutes:this.platformName===ye.i.JIRA_CLOUD?this.jiraCloudGlobalConfigurationRoutes:this.platformName===ye.i.TRELLO?this.trelloGlobalConfigurationRoutes:void new Error(`Platform: ${this.platformName} not supported`)}getBreadcrumbAppEnvironment(){return this.breadcrumbAppEnvironment}getSystemPlatform(){return this.systemPlatform}getGlobalConfigurationRootConfig(){return this.globalConfigurationRootConfig}getLicenseRootConfig(){return this.licenseRootConfig}getApplicationContext(){return this.applicationContext}isSecurityGroupAssignEnabled(){return this.platformName!==ye.i.TRELLO}getSynchronizationAvailabilityService(){return this.platformName===ye.i.JIRA_SERVER?this.jiraServerSynchronizationAvailableService:this.platformName===ye.i.JIRA_CLOUD?this.jiraCloudSynchronizationAvailableService:this.platformName===ye.i.TRELLO?this.trelloSynchronizationAvailableService:void new Error(`Platform: ${this.platformName} not supported`)}getHolidayPlansConfiguration(){return this.holidayPlansConfiguration}getWorkloadPlansConfiguration(){return this.workloadPlansConfiguration}isSoftLinkConfigurationVisible(){return this.platformName!==ye.i.JIRA_CLOUD}getGlobalTechnicalInfoConfiguration(){return this.platformName===ye.i.JIRA_SERVER?this.jiraServerGlobalTechnicalInfoConfiguration:this.platformName===ye.i.JIRA_CLOUD?this.jiraCloudGlobalTechnicalInfoConfiguration:this.platformName===ye.i.TRELLO?this.trelloGlobalTechnicalInfoConfiguration:void new Error(`Platform: ${this.platformName} not supported`)}isResourceGuardAccessible(){return this.platformName!==ye.i.TRELLO}isWorkloadContouringConfigGuardAccessible(){return this.platformName!==ye.i.TRELLO}withActiveUsersInHeader(){return!0}isResourceSkillsVisible(){return!1}isResourceTeamsVisible(){return!1}isGoBPEAvailable(){return!1}isAddingNewExtPlatformAvailable(){return!0}isTaskDetailViewAvailable(){return!1}isModuleSectionAvailableInBoxApplicationWizardPage(){return!0}areAbsencesAvailable(){return!0}isSubTaskAddingAvailable(){return this.platformName!==ye.i.JIRA_CLOUD}isRiskEditWindowAvailable(){return this.platformName===ye.i.JIRA_SERVER}isTaskCardEditionAvailable(){return this.platformName===ye.i.JIRA_SERVER}isTaskCardAddAvailable(){return this.isJiraExtPlatform()}isCreateExtPlatformTaskAvailable(){return this.isJiraExtPlatform()}isCloneExistingScopeAvailable(){return this.isJiraExtPlatform()}isExportAvailable(){return this.isJiraExtPlatform()}areShareableLinksAvailable(){return this.isJiraExtPlatform()}isShareFeedbackAvailable(){return this.isJiraExtPlatform()}isTeamsAllocationBoardSelectAvailable(){return this.isJiraExtPlatform()}isBreadcrumbHomeBlankNavigationAvailable(){return this.isJiraExtPlatform()}isWbsWidgetNavigationAvailable(){return this.isJiraExtPlatform()}getWbsWidgetConfiguration(){return this.isJiraExtPlatform()?this.jiraWbsIssueDetailsConfig:this.trelloWbsIssueDetailsConfig}canEditTaskOnContextMenu(){return this.platformName!==ye.i.JIRA_CLOUD}getLiveSyncConfig(){return this.liveSyncConfiguration}isJiraExtPlatform(){return this.platformName===ye.i.JIRA_CLOUD||this.platformName===ye.i.JIRA_SERVER}}class Ye extends s{getAvailableRoutes(){return[...n.C.getResourceManagerUrls(),...n.C.getWorkloadPlanUrls(),...n.C.getHolidayPlanUrls()]}}class Qe extends s{getAvailableRoutes(l){return l===r.v.PLUGIN_RESOURCE_ADMIN?(new Ye).getAvailableRoutes():l===r.v.PLUGIN_ADMIN?[...n.C.getBoxTypeConfigurationUrls(),...n.C.getSecurityUrls(),...(new Ye).getAvailableRoutes()]:void 0}}class Ke extends o{getLogo(){return"app/common/assets/images/plugin-icon-bg.svg"}}class it extends h{constructor(l){super(),this.environmentService=l}getDocumentationLink(){return this.environmentService.getHelpURL("system/global/technical-configuration")}getUserPreferencesVisibility(){return!0}}class Se extends m{constructor(l){super(),this.environmentService=l}isAddActionDisabled(){return!1}getTitle(){return"Holiday plans"}getDocumentationLink(){return this.environmentService.getHelpURL("ppm/resource/holiday-plans")}getDescription(){return v.H.string("Holiday plans allow you to define non-working days.\n\t\t They are super-handy for defining company-wide, religion-specific or national holidays.\n\t\t You can create as many of them as you like and assign them to your resources separately.\n\t\t The marked holidays are respected throughout the whole plugin, so you always have the most accurate project plan at hand.")}}class Ct extends C{getAvailableRoutes(){return["general","task","dependencies","live-sync","task-cloning","general/task","general/dependencies","general/live-sync","general/task-cloning","modules","overview","gantt","modules/overview","modules/gantt","tools","connections","tools/connections","widgets","app-widget","wbs-widget","widgets/wbs-widget","widgets/app-widget","security","license","advanced","technical-info","backups","advanced/technical-info","advanced/backups"]}}class Lt extends I.Jp{constructor(l){super(),this.environmentService=l}getDocumentationLink(){return this.environmentService.getHelpURL("ppm/global/license-configuration")}}class Vt extends L{isSynchronizationAvailable(l,u){return!1}getTooltip(l,u){return"To sync with Tempo, you're going to need BigPicture and BigPicture Enterprise"}}var St=e(53339);class $t extends x{checkSynchronizationAvailability(l,u,_){return(0,St.of)(this.getAvailability(!1,!1))}getAvailability(l,u){return new Vt(!0,l,u)}}class yt extends G{getName(){return"BigGantt"}getLogo(){return"app/common/assets/images/plugin-icon-bg.svg"}getLogoWithName(){return"app/common/assets/images/plugin-logo-with-name-bg.svg"}}class Ft extends X{constructor(l){super(),this.environmentService=l}isAddActionDisabled(){return!1}getTitle(){return"Workload plans"}getDocumentationLink(){return this.environmentService.getHelpURL("ppm/resource/workload-plans")}getDescription(){return v.H.string("Workload plans are used for defining exact working hours.\n\t\tYou can create as many of them as you like and assign them to your resources separately.\n\t\tThis is how to manage full-time, part-time and irregular employees.\n\t\tEach day can have both the number and the exact span of hours defined.\n\t\tThis is taken into account when calculating workload.")}}class ot extends C{getAvailableRoutes(){return["general","task","dependencies","live-sync","task-cloning","general/task","general/dependencies","general/live-sync","general/task-cloning","modules","overview","gantt","modules/overview","modules/gantt","tools","connections","tools/connections","widgets","app-widget","wbs-widget","widgets/app-widget","widgets/wbs-widget","security","license","advanced","technical-info","backups","statistics","log-audit","advanced/technical-info","advanced/backups","advanced/statistics","advanced/log-audit"]}}class Me extends C{getAvailableRoutes(){return["general","task","dependencies","live-sync","task-cloning","general/task","general/dependencies","general/live-sync","modules","overview","modules/overview","tools","connections","tools/connections","security","license","advanced","technical-info","backups","advanced/technical-info","advanced/backups"]}}class Ze extends Ce{constructor(l,u,_){super(),this.environmentService=l,this.platformName=u,this.applicationContext=_,this.administrationRoutes=new Qe,this.holidayPlansConfiguration=new Se(this.environmentService),this.workloadPlansConfiguration=new Ft(this.environmentService),this.breadcrumbAppEnvironment=new Ke,this.systemPlatform=new yt,this.jiraCloudSynchronizationService=new Ue,this.trelloSynchronizationAvailabilityService=new lt,this.jiraServerSynchronizationService=new $t,this.jiraCloudGlobalConfigurationRoutes=new Ct,this.jiraServerGlobalConfigurationRoutes=new ot,this.trelloGlobalConfigurationRoutes=new Me,this.globalConfigurationRootConfig=new it(this.environmentService),this.licenseRootConfig=new Lt(this.environmentService),this.liveSyncConfig=(new xe.Builder).withMarkerLiveSyncEnabled().withActiveUsersLiveSyncEnabled().withGanttLiveSyncEnabled().build(),this.jiraCloudTechnicalInfoConfig=(new Ie.Builder).withPermissionCacheClearButtonEnabled().withIntegrityEnabled().withOnboardingTourButtonEnabled().withAcyclicityCheckerEnabled().withMissingValuesFixerEnabled().withThreadDumpsDownloadEnabled().withSupportZipDownloadEnabled().build(),this.trelloTechnicalInfoConfig=(new Ie.Builder).withPermissionCacheClearButtonEnabled().withIntegrityEnabled().withOnboardingTourButtonEnabled().withAcyclicityCheckerEnabled().withMissingValuesFixerEnabled().withThreadDumpsDownloadEnabled().withSupportZipDownloadEnabled().build(),this.jiraServerTechnicalInfoConfig=(new Ie.Builder).withFeedbackMenuEnabled().withIntegrityEnabled().withLocksEnabled().withSendLogsEnabled().withLogButtonsEnabled().withOnboardingTourButtonEnabled().withProfilingEnabled().withMonitoringEnabled().withPermissionCacheClearButtonEnabled().withSupportZipDownloadEnabled().withAcyclicityCheckerEnabled().withMissingValuesFixerEnabled().withTechnicalUserPickerEnabled().withThreadDumpsDownloadEnabled().withTaskRelationsReportDownloadEnabled().build(),this.jiraWbsIssueDetailsConfig=(new ne.Builder).withBoxDropdownConfig({width:540}).build(),this.trelloWbsIssueDetailsConfig=(new ne.Builder).withBoxDropdownConfig({width:400,height:300}).withBodyCssClasses(["sp-pt-2","sp-px-2","sp-min-w-full"]).withBoxUnExistErrorMessage(v.H.i18n("SPT_APP_TRELLO_BOX_UN_EXIST_ERROR_MESSAGE")).build()}getAdministrationRoutes(){return this.administrationRoutes}getGlobalConfigurationRoutes(){return this.platformName===ye.i.JIRA_CLOUD?this.jiraCloudGlobalConfigurationRoutes:this.platformName===ye.i.JIRA_SERVER?this.jiraServerGlobalConfigurationRoutes:this.platformName===ye.i.TRELLO?this.trelloGlobalConfigurationRoutes:void new Error(`Platform: ${this.platformName} not supported`)}getBreadcrumbAppEnvironment(){return this.breadcrumbAppEnvironment}getSystemPlatform(){return this.systemPlatform}getGlobalConfigurationRootConfig(){return this.globalConfigurationRootConfig}getLicenseRootConfig(){return this.licenseRootConfig}getApplicationContext(){return this.applicationContext}isSecurityGroupAssignEnabled(){return this.platformName!==ye.i.TRELLO}getSynchronizationAvailabilityService(){return this.platformName===ye.i.JIRA_CLOUD?this.jiraCloudSynchronizationService:this.platformName===ye.i.JIRA_SERVER?this.jiraServerSynchronizationService:this.platformName===ye.i.TRELLO?this.trelloSynchronizationAvailabilityService:void new Error(`Platform: ${this.platformName} not supported`)}getHolidayPlansConfiguration(){return this.holidayPlansConfiguration}getWorkloadPlansConfiguration(){return this.workloadPlansConfiguration}isSoftLinkConfigurationVisible(){return this.platformName!==ye.i.JIRA_CLOUD}getGlobalTechnicalInfoConfiguration(){return this.platformName===ye.i.JIRA_CLOUD?this.jiraCloudTechnicalInfoConfig:this.platformName===ye.i.JIRA_SERVER?this.jiraServerTechnicalInfoConfig:this.platformName===ye.i.TRELLO?this.trelloTechnicalInfoConfig:void new Error(`Platform: ${this.platformName} not supported`)}isResourceGuardAccessible(){return!1}isWorkloadContouringConfigGuardAccessible(){return!1}withActiveUsersInHeader(){return!0}isResourceSkillsVisible(){return!1}isResourceTeamsVisible(){return!1}isGoBPEAvailable(){return!1}isAddingNewExtPlatformAvailable(){return!0}isTaskDetailViewAvailable(){return this.platformName===ye.i.JIRA_SERVER}isModuleSectionAvailableInBoxApplicationWizardPage(){return!1}areAbsencesAvailable(){return!0}isSubTaskAddingAvailable(){return this.platformName!==ye.i.JIRA_CLOUD}isRiskEditWindowAvailable(){return this.platformName===ye.i.JIRA_SERVER}isTaskCardEditionAvailable(){return this.platformName===ye.i.JIRA_SERVER}isTaskCardAddAvailable(){return this.isJiraExtPlatform()}isCreateExtPlatformTaskAvailable(){return this.isJiraExtPlatform()}isCloneExistingScopeAvailable(){return this.isJiraExtPlatform()}isExportAvailable(){return this.isJiraExtPlatform()}areShareableLinksAvailable(){return this.isJiraExtPlatform()}isShareFeedbackAvailable(){return this.isJiraExtPlatform()}isTeamsAllocationBoardSelectAvailable(){return this.isJiraExtPlatform()}isBreadcrumbHomeBlankNavigationAvailable(){return this.isJiraExtPlatform()}isWbsWidgetNavigationAvailable(){return this.isJiraExtPlatform()}getWbsWidgetConfiguration(){return this.isJiraExtPlatform()?this.jiraWbsIssueDetailsConfig:this.trelloWbsIssueDetailsConfig}getLiveSyncConfig(){return this.liveSyncConfig}isJiraExtPlatform(){return this.platformName===ye.i.JIRA_CLOUD||this.platformName===ye.i.JIRA_SERVER}}class Ne extends s{getAvailableRoutes(){return[...n.C.getResourceManagerUrls(),...n.C.getWorkloadPlanUrls(),...n.C.getHolidayPlanUrls(),...n.C.getSkillsUrls()]}}class we extends s{getAvailableRoutes(l){return l===r.v.PLUGIN_RESOURCE_ADMIN?(new Ne).getAvailableRoutes():l===r.v.PLUGIN_ADMIN?[...n.C.getBoxTypeConfigurationUrls(),...n.C.getSecurityUrls(),n.C.CUSTOM_ACTIONS,...(new Ne).getAvailableRoutes()]:void 0}}class At extends o{getLogo(){return"app/common/assets/images/plugin-icon-bp.svg"}}class Rt extends h{constructor(l){super(),this.environmentService=l}getDocumentationLink(){return this.environmentService.getHelpURL("system/global/technical-configuration")}getUserPreferencesVisibility(){return!0}}class zt extends m{constructor(l){super(),this.environmentService=l}isAddActionDisabled(){return!1}getTitle(){return"SPT_ADMIN_HOLIDAY_PLANS_TITLE"}getDocumentationLink(){return this.environmentService.getHelpURL("ppm/resource/holiday-plans")}getDescription(){return v.H.i18n("SPT_ADMIN_HOLIDAY_PLANS_DESCRIPTION")}}class Yt extends C{getAvailableRoutes(){return["general","task","dependencies","live-sync","task-cloning","general/task","general/dependencies","general/live-sync","general/task-cloning","modules","overview","gantt","risks","resources","modules/overview","modules/gantt","modules/risks","modules/resources","tools","connections","tempo","tools/connections","tools/tempo","widgets","app-widget","wbs-widget","skill-widget","widgets/app-widget","widgets/wbs-widget","widgets/skill-widget","security","license","region","data-location","translations","region/data-location","region/translations","advanced","technical-info","backups","advanced/technical-info","advanced/backups"]}}class ln extends C{getAvailableRoutes(){return["general","task","dependencies","live-sync","task-cloning","general/task","general/dependencies","general/live-sync","general/task-cloning","modules","overview","gantt","risks","resources","modules/overview","modules/gantt","modules/risks","modules/resources","tools","connections","tempo","tools/connections","tools/tempo","widgets","app-widget","wbs-widget","skill-widget","widgets/app-widget","widgets/wbs-widget","widgets/skill-widget","security","license","region","translations","region/translations","audit","advanced","technical-info","backups","advanced/technical-info","advanced/backups"]}}class pn extends I.Jp{constructor(l){super(),this.environmentService=l}getDocumentationLink(){return this.environmentService.getHelpURL("ppm/global/license-configuration")}}class nn extends L{isSynchronizationAvailable(l,u){return l&&u}getTooltip(l,u){return l?u?"SPT_TEMPO_BUTTON_RESYNCHRONIZE_TOOLTIP":"SPT_TEMPO_BUTTON_RESYNCHRONIZE_TOOLTIP_NO_TEMPO_AVAILABLE":"SPT_TEMPO_BUTTON_RESYNCHRONIZE_TOOLTIP_NO_BPE_AVAILABLE"}}class hn extends L{isSynchronizationAvailable(l,u){return l&&u}getTooltip(l,u){return l?u?"SPT_TEMPO_BUTTON_SYNCHRONIZE_TOOLTIP":"SPT_TEMPO_BUTTON_SYNCHRONIZE_TOOLTIP_NO_TEMPO_AVAILABLE":"SPT_TEMPO_BUTTON_SYNCHRONIZE_TOOLTIP_NO_BPE_AVAILABLE"}}class xt extends x{checkSynchronizationAvailability(l,u,_){return u.pipe((0,M.$)(_),(0,w.U)(D=>{const O=D[0].isEnterprise();return this.getAvailability(O,D[1],l)}),(0,K.q)(1))}getAvailability(l,u,_){let D;switch(_){case B.Y.SYNCHRONIZATION:D=new hn(!0,l,u);break;case B.Y.RESYNCHRONIZATION:D=new nn(!0,l,u);break;default:console.error("There is no such SynchronizationType: "+_)}return D}}class Zt extends G{getName(){return"BigPicture"}getLogo(){return"app/common/assets/images/plugin-icon-bp.svg"}getLogoWithName(){return"app/common/assets/images/plugin-logo-with-name-bp.svg"}}class je extends X{constructor(l){super(),this.environmentService=l}getTitle(){return"SPT_ADMIN_WORKLOAD_PLANS_TITLE"}getDocumentationLink(){return this.environmentService.getHelpURL("ppm/resource/workload-plans")}getDescription(){return v.H.i18n("SPT_ADMIN_WORKLOAD_PLANS_DESCRIPTION")}isAddActionDisabled(){return!1}}class Le extends C{getAvailableRoutes(){return["general","task","dependencies","live-sync","general/task","general/dependencies","general/live-sync","modules","overview","resources","modules/overview","modules/resources","tools","connections","tools/connections","security","license","region","data-location","translations","region/data-location","region/translations","advanced","technical-info","backups","advanced/technical-info","advanced/backups"]}}class vt extends s{getAvailableRoutes(){return[...n.C.getResourceManagerUrls(),...n.C.getWorkloadPlanUrls(),...n.C.getHolidayPlanUrls()]}}class qe extends s{getAvailableRoutes(l){return l===r.v.PLUGIN_RESOURCE_ADMIN?(new vt).getAvailableRoutes():l===r.v.PLUGIN_ADMIN?[...n.C.getBoxTypeConfigurationUrls(),...n.C.getSecurityUrls(),n.C.CUSTOM_ACTIONS,...(new vt).getAvailableRoutes()]:void 0}}class Et extends Ce{constructor(l,u,_){super(),this.environmentService=l,this.platformName=u,this.applicationContext=_,this.jiraAdministrationRoutes=new we,this.trelloAdministrationRoutes=new qe,this.holidayPlansConfiguration=new zt(this.environmentService),this.workloadPlansConfiguration=new je(this.environmentService),this.breadcrumbAppEnvironment=new At,this.systemPlatform=new Zt,this.jiraCloudSynchronizationAvailableService=new Ue,this.trelloSynchronizationAvailableService=new lt,this.jiraServerSynchronizationAvailableService=new xt,this.jiraCloudGlobalConfigurationRoutes=new Yt,this.jiraServerGlobalConfigurationRoutes=new ln,this.trelloGlobalConfigurationRoutes=new Le,this.globalConfigurationRootConfig=new Rt(this.environmentService),this.licenseRootConfig=new pn(this.environmentService),this.liveSyncConfiguration=(new xe.Builder).withGanttLiveSyncEnabled().withMarkerLiveSyncEnabled().withActiveUsersLiveSyncEnabled().withBoardLiveSyncEnabled().withCalendarLiveSyncEnabled().build(),this.jiraServerGlobalTechnicalInfoConfiguration=(new Ie.Builder).withFeedbackMenuEnabled().withIntegrityEnabled().withLocksEnabled().withLogButtonsEnabled().withOnboardingTourButtonEnabled().withProfilingEnabled().withMonitoringEnabled().withPermissionCacheClearButtonEnabled().withSendLogsEnabled().withSupportZipDownloadEnabled().withAcyclicityCheckerEnabled().withMissingValuesFixerEnabled().withTechnicalUserPickerEnabled().withThreadDumpsDownloadEnabled().withTaskRelationsReportDownloadEnabled().build(),this.jiraCloudGlobalTechnicalInfoConfiguration=(new Ie.Builder).withPermissionCacheClearButtonEnabled().withIntegrityEnabled().withOnboardingTourButtonEnabled().withAcyclicityCheckerEnabled().withThreadDumpsDownloadEnabled().withSupportZipDownloadEnabled().withMissingValuesFixerEnabled().build(),this.trelloGlobalTechnicalInfoConfiguration=(new Ie.Builder).withPermissionCacheClearButtonEnabled().withIntegrityEnabled().withOnboardingTourButtonEnabled().withAcyclicityCheckerEnabled().withThreadDumpsDownloadEnabled().withSupportZipDownloadEnabled().withMissingValuesFixerEnabled().build(),this.jiraWbsIssueDetailsConfig=(new ne.Builder).withBoxDropdownConfig({width:540}).build(),this.trelloWbsIssueDetailsConfig=(new ne.Builder).withBoxDropdownConfig({width:400,height:300}).withBodyCssClasses(["sp-pt-2","sp-px-2","sp-min-w-full"]).withBoxUnExistErrorMessage(v.H.i18n("SPT_APP_TRELLO_BOX_UN_EXIST_ERROR_MESSAGE")).build()}getAdministrationRoutes(){return this.isJiraExtPlatform()?this.jiraAdministrationRoutes:this.platformName===ye.i.TRELLO?this.trelloAdministrationRoutes:void 0}getGlobalConfigurationRoutes(){return this.platformName===ye.i.JIRA_SERVER?this.jiraServerGlobalConfigurationRoutes:this.platformName===ye.i.JIRA_CLOUD?this.jiraCloudGlobalConfigurationRoutes:this.platformName===ye.i.TRELLO?this.trelloGlobalConfigurationRoutes:void new Error(`Platform: ${this.platformName} not supported`)}getBreadcrumbAppEnvironment(){return this.breadcrumbAppEnvironment}getSystemPlatform(){return this.systemPlatform}getGlobalConfigurationRootConfig(){return this.globalConfigurationRootConfig}getLicenseRootConfig(){return this.licenseRootConfig}getApplicationContext(){return this.applicationContext}isSecurityGroupAssignEnabled(){return this.platformName!==ye.i.TRELLO}getSynchronizationAvailabilityService(){return this.platformName===ye.i.JIRA_SERVER?this.jiraServerSynchronizationAvailableService:this.platformName===ye.i.JIRA_CLOUD?this.jiraCloudSynchronizationAvailableService:this.platformName===ye.i.TRELLO?this.trelloSynchronizationAvailableService:void new Error(`Platform: ${this.platformName} not supported`)}getHolidayPlansConfiguration(){return this.holidayPlansConfiguration}getWorkloadPlansConfiguration(){return this.workloadPlansConfiguration}isSoftLinkConfigurationVisible(){return this.platformName!==ye.i.JIRA_CLOUD}getGlobalTechnicalInfoConfiguration(){return this.platformName===ye.i.JIRA_CLOUD?this.jiraCloudGlobalTechnicalInfoConfiguration:this.platformName===ye.i.JIRA_SERVER?this.jiraServerGlobalTechnicalInfoConfiguration:this.platformName===ye.i.TRELLO?this.trelloGlobalTechnicalInfoConfiguration:void new Error(`Platform: ${this.platformName} not supported`)}isResourceGuardAccessible(){return this.platformName!==ye.i.TRELLO}isWorkloadContouringConfigGuardAccessible(){return this.platformName!==ye.i.TRELLO}withActiveUsersInHeader(){return!0}isResourceSkillsVisible(){return this.isJiraExtPlatform()}isResourceTeamsVisible(){return!0}isGoBPEAvailable(){return!0}isAddingNewExtPlatformAvailable(){return!0}isTaskDetailViewAvailable(){return this.platformName===ye.i.JIRA_SERVER}isModuleSectionAvailableInBoxApplicationWizardPage(){return!0}areAbsencesAvailable(){return!0}isSubTaskAddingAvailable(){return this.platformName!==ye.i.JIRA_CLOUD}isRiskEditWindowAvailable(){return this.platformName===ye.i.JIRA_SERVER}isTaskCardEditionAvailable(){return this.platformName===ye.i.JIRA_SERVER}isTaskCardAddAvailable(){return this.isJiraExtPlatform()}isCreateExtPlatformTaskAvailable(){return this.isJiraExtPlatform()}isCloneExistingScopeAvailable(){return this.isJiraExtPlatform()}isExportAvailable(){return this.isJiraExtPlatform()}areShareableLinksAvailable(){return this.isJiraExtPlatform()}isShareFeedbackAvailable(){return this.isJiraExtPlatform()}isTeamsAllocationBoardSelectAvailable(){return this.isJiraExtPlatform()}isBreadcrumbHomeBlankNavigationAvailable(){return this.isJiraExtPlatform()}isWbsWidgetNavigationAvailable(){return this.isJiraExtPlatform()}getWbsWidgetConfiguration(){return this.isJiraExtPlatform()?this.jiraWbsIssueDetailsConfig:this.trelloWbsIssueDetailsConfig}getLiveSyncConfig(){return this.liveSyncConfiguration}isJiraExtPlatform(){return this.platformName===ye.i.JIRA_CLOUD||this.platformName===ye.i.JIRA_SERVER}}class st extends h{getDocumentationLink(){return"https://wiki.softwareplant.com/display/documentation/BigTemplate+configuration"}getUserPreferencesVisibility(){return!1}}class Nt extends C{getAvailableRoutes(){return["templates","license","technical-info"]}}class Je extends I.Jp{getDocumentationLink(){return"https://wiki.softwareplant.com/pages/viewpage.action?pageId=300122205#BigTemplateconfiguration-License"}}class Ot extends Ce{constructor(l,u){super(),this.platformName=l,this.applicationContext=u,this.globalConfigurationRoutes=new Nt,this.jiraCloudGlobalTechnicalInfoConfig=(new Ie.Builder).build(),this.trelloGlobalTechnicalInfoConfig=(new Ie.Builder).build(),this.jiraServerGlobalTechnicalInfoConfig=(new Ie.Builder).withLogButtonsEnabled().withProfilingEnabled().withMonitoringEnabled().withPermissionCacheClearButtonEnabled().withSupportZipDownloadEnabled().withExportTroubleshootingEnabled().withTechnicalUserPickerEnabled().build(),this.globalConfigurationRootConfig=new st,this.licenseRootConfig=new Je}getAdministrationRoutes(){return null}getGlobalConfigurationRoutes(){return this.globalConfigurationRoutes}getBreadcrumbAppEnvironment(){return null}getSystemPlatform(){return null}getGlobalConfigurationRootConfig(){return this.globalConfigurationRootConfig}getLicenseRootConfig(){return this.licenseRootConfig}getApplicationContext(){return this.applicationContext}isSecurityGroupAssignEnabled(){return this.platformName!==ye.i.TRELLO}getLiveSyncConfig(){return null}getSynchronizationAvailabilityService(){return null}getHolidayPlansConfiguration(){return null}getWorkloadPlansConfiguration(){return null}isSoftLinkConfigurationVisible(){return null}getGlobalTechnicalInfoConfiguration(){return this.platformName===ye.i.JIRA_SERVER?this.jiraServerGlobalTechnicalInfoConfig:this.platformName===ye.i.JIRA_CLOUD?this.jiraCloudGlobalTechnicalInfoConfig:this.platformName===ye.i.TRELLO?this.trelloGlobalTechnicalInfoConfig:void new Error(`Platform: ${this.platformName} not supported`)}isResourceGuardAccessible(){return!1}isWorkloadContouringConfigGuardAccessible(){return!1}withActiveUsersInHeader(){return!1}isResourceSkillsVisible(){return!1}isResourceTeamsVisible(){return!1}isGoBPEAvailable(){return!1}isAddingNewExtPlatformAvailable(){return!1}isTaskDetailViewAvailable(){return!1}isModuleSectionAvailableInBoxApplicationWizardPage(){return!1}areAbsencesAvailable(){return!1}isSubTaskAddingAvailable(){return!1}isRiskEditWindowAvailable(){return this.platformName===ye.i.JIRA_SERVER}isTaskCardEditionAvailable(){return this.platformName===ye.i.JIRA_SERVER}isTaskCardAddAvailable(){return!1}isCreateExtPlatformTaskAvailable(){return!1}isCloneExistingScopeAvailable(){return!1}isExportAvailable(){return!1}areShareableLinksAvailable(){return!1}isShareFeedbackAvailable(){return!1}isTeamsAllocationBoardSelectAvailable(){return!1}isBreadcrumbHomeBlankNavigationAvailable(){return!1}isWbsWidgetNavigationAvailable(){return!1}getWbsWidgetConfiguration(){return(new ne.Builder).build()}}class fe{init(l,u){this.initApplicationPropertiesStorage(l,u)}}var Ge=e(58633),Tt=e(46924),Pe=e(84046),pt=e(15843),Q=e(83950);let Ee=(()=>{class c extends fe{constructor(u,_,D){super(),this.applicationFeaturesStorage=u,this.environmentService=_,this.applicationContextStorage=D}initApplicationPropertiesStorage(u,_){let D;const O=this.applicationContextStorage.get();switch(u){case Ge.c.BIGGANTT:D=new Ze(this.environmentService,_,O);break;case Ge.c.BIGAGILE:D=new De(this.environmentService,_,O);break;case Ge.c.BIGPICTURE:D=new Et(this.environmentService,_,O);break;case Ge.c.BIGTEMPLATE:D=new Ot(_,O);break;default:new Error("Application context not supported")}this.applicationFeaturesStorage.init(D)}}return c.\u0275fac=function(u){return new(u||c)(Pe.LFG(pt.x),Pe.LFG(Q.L),Pe.LFG(Tt.z))},c.\u0275prov=Pe.Yz7({token:c,factory:c.\u0275fac}),c})();var ue=e(92945),be=e(53517),mt=e(28620),Ut=e(20823),Xt=e(88178),en=e(9933);let mn=(()=>{class c{constructor(u,_){this.document=u,this.localStorage=_}init(u){const _=Boolean(this.localStorage.getItem(c.LS_TRACK_JS_DISABLED)),D=this.document.defaultView.location,O=D.href.includes("cloud.softwareplant.com");if(!_&&O&&u===ye.i.JIRA_CLOUD&&Xt.t.install({token:"018d2de50a864d73851c94415a0d7770",application:"bpbgjc"}),D.href.includes("testlab.softwareplant.com")&&u===ye.i.JIRA_SERVER){Xt.t.install({token:"018d2de50a864d73851c94415a0d7770",application:"bpjs-ci",callback:{enabled:!1},console:{enabled:!1},network:{enabled:!1},visitor:{enabled:!1},window:{enabled:!1}});const N=localStorage.getItem("ci-build-id");Xt.t.addMetadata("ci-build-id",N)}}}return c.LS_TRACK_JS_DISABLED="gtm-track-js-disabled",c.\u0275fac=function(u){return new(u||c)(Pe.LFG(t.K0),Pe.LFG(en.m))},c.\u0275prov=Pe.Yz7({token:c,factory:c.\u0275fac}),c})();class In{}let Un=(()=>{class c{constructor(u,_,D,O){this.applicationInfoInitializer=u,this.applicationResource=_,this.applicationInfoStorage=D,this.trackJsInitializer=O}init(){return this.applicationResource.getApplicationInfo().pipe((0,w.U)(u=>{this.applicationInfoStorage.set(u),this.applicationInfoInitializer.init(u.systemName,u.platformName),this.trackJsInitializer.init(u.platformName)}))}}return c.\u0275fac=function(u){return new(u||c)(Pe.LFG(fe),Pe.LFG(In),Pe.LFG(Ut.d),Pe.LFG(mn))},c.\u0275prov=Pe.Yz7({token:c,factory:c.\u0275fac}),c})();var Jn=e(23134);class zn{constructor(l,u,_,D,O,A,N,J,H,he){this.commitId=l,this.systemVersion=u,this.systemName=_,this.platformName=D,this.licenseId=O,this.licenseValidity=A,this.licenseEvaluation=N,this.licensePricingPlan=J,this.userKey=H,this.userCount=he}}let An=(()=>{class c{constructor(u){this.localStorageService=u}setGtmInformation(u){this.setConvertedItem("commit-id",u.commitId),this.setConvertedItem("system-version",u.systemVersion),this.setConvertedItem("system-name",u.systemName),this.setConvertedItem("platform-name",u.platformName),this.setConvertedItem("license-id",u.licenseId),this.setConvertedItem("license-valid",String(u.licenseValidity)),this.setConvertedItem("license-trial",String(u.licenseEvaluation)),this.setConvertedItem("license-pricing-plan",u.licensePricingPlan),this.setConvertedItem("user-key",u.userKey),this.setConvertedItem("user-count",String(u.userCount))}setConvertedItem(u,_){this.localStorageService.setItem(`${c.ITEM_KEY}-${u}`,_)}}return c.ITEM_KEY="gtm",c.\u0275fac=function(u){return new(u||c)(Pe.LFG(en.m))},c.\u0275prov=Pe.Yz7({token:c,factory:c.\u0275fac}),c})();var to=e(4683);let no=(()=>{class c{}return c.\u0275fac=function(u){return new(u||c)},c.\u0275prov=Pe.Yz7({token:c,factory:c.\u0275fac}),c})(),uo=(()=>{class c{constructor(u,_,D,O,A,N){this.environmentService=u,this.applicationInfoStorage=_,this.licenseService=D,this.gtmService=O,this.resource=A,this.document=N}init(){if(!this.productionEnabled())return;const u=this.getGTMTagCode();if(this.environmentService.isStatisticsCollectionEnabled()&&u){const _=this.document.createElement("script");_.innerHTML=this.prepareHeadScript(u),this.prepend(this.document.querySelector("head"),_);const D=this.document.createElement("noscript");D.appendChild(this.prepareIframe(u)),this.prepend(this.document.querySelector("body"),D),this.setInformation()}}productionEnabled(){return Jn.N.production}prepareHeadScript(u){return`\n\t\t\t(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':\n\t\t\tnew Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],\n\t\t\tj=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=\n\t\t\t'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);\n\t\t\t})(window,document,'script','dataLayer','${u}');\n\t\t`}prepareIframe(u){const _=this.document.createElement("iframe");return _.src=`https://www.googletagmanager.com/ns.html?id=${u}`,_.height="0",_.width="0",_.style.display="none",_.style.visibility="hidden",_}prepend(u,_){u.insertBefore(_,u.childNodes[0])}getGTMTagCode(){return"GTM-TPWNTDZ"}setInformation(){(0,to.aj)([this.applicationInfoStorage.select(),this.licenseService.selectLicense(),this.resource.getUserCount()]).pipe((0,K.q)(1)).subscribe(([u,_,D])=>{const O=this.getInformation(u,_,D);this.gtmService.setGtmInformation(O)})}getInformation(u,_,D){const O=this.environmentService.getLoggedInUser();return new zn(u.commitId,u.systemVersion,u.systemName,u.platformName.toLowerCase(),_.getId(),_.isValid(),_.isEvaluation(),_.getPricingPlan(),O.userKey,D.getCount())}}return c.\u0275fac=function(u){return new(u||c)(Pe.LFG(Q.L),Pe.LFG(Ut.d),Pe.LFG(I.ER),Pe.LFG(An),Pe.LFG(no),Pe.LFG(t.K0))},c.\u0275prov=Pe.Yz7({token:c,factory:c.\u0275fac}),c})();var $n=e(92556);var Dt=e(26783),Cn=e(45621),Fe=e(34048),Pt=e(55757),tn=e(45635),Sn=e(98274),qt=e(13567),cn=e(77704),rn=e(25776),un=e(86263),Hn=e(21693),oo=e(98223),qn=e(2100),bn=e(62546),so=e(86562),Yn=e(65546);let Do=(()=>{class c extends bn.H{constructor(u,_,D,O,A,N){super(u,_),this.changeDetectorRef=D,this.sessionStorage=O,this.l10nTextService=A,this.modalWindowComponentRef=N}ngOnInit(){this.observeTranslation()}onConfirm(){this.sessionStorage.setItem(sn,!0),this.modalWindowComponentRef.close()}observeTranslation(){this.l10nTextService.selectTranslation().pipe(this.takeUntilDestroy()).subscribe(()=>{this.headerTitleLabel=this.l10nTextService.translate("SPT_NOT_SUPPORTED_BROWSER_HEADER"),this.contentBodyText=this.l10nTextService.translate("SPT_NOT_SUPPORTED_BROWSER_DESCRIPTION"),this.confirmButtonLabel=this.l10nTextService.translate("SPT_NOT_SUPPORTED_BROWSER_CONFIRM_BUTTON"),this.changeDetectorRef.detectChanges()})}}return c.\u0275fac=function(u){return new(u||c)(Pe.Y36(Pe.SBq),Pe.Y36(Pe.Qsj),Pe.Y36(Pe.sBO),Pe.Y36(so.x),Pe.Y36(oo.e),Pe.Y36(qn.Zh))},c.\u0275cmp=Pe.Xpm({type:c,selectors:[["ng-component"]],features:[Pe.qOj],decls:26,vars:3,consts:[[1,"sp-modal-header","sp-flex-col"],[1,"sp-modal-title"],[1,"sp-modal-body","sp-flex-col"],["width","120","height","120","viewBox","0 0 120 120","fill","none","xmlns","http://www.w3.org/2000/svg",1,"sp-w-full","sp-mb-5","sp-mt-5"],["d","M60 120C93.1371 120 120 93.1371 120 60C120 26.8629 93.1371 0 60 0C26.8629 0 0 26.8629 0 60C0 93.1371 26.8629 120 60 120Z","fill","#2579F6"],["d","M59.41 100.39C68.2891 100.39 75.487 99.5334 75.487 98.4771C75.487 97.4207 68.2891 96.5643 59.41 96.5643C50.5308 96.5643 43.3329 97.4207 43.3329 98.4771C43.3329 99.5334 50.5308 100.39 59.41 100.39Z","fill","#0B6BDD"],["d","M100.742 42.5707C100.603 43.0418 100.438 43.5048 100.248 43.9576L100.412 43.5687C99.9725 44.6081 99.4038 45.5879 98.7189 46.4847L98.9871 46.1574C98.2989 47.0472 97.5013 47.8467 96.613 48.5369L96.943 48.2686C96.0807 48.9329 95.1379 49.4854 94.1369 49.9131L94.5259 49.7468C93.4364 50.2068 92.2908 50.5207 91.119 50.6803L91.5509 50.6213C90.404 50.7716 89.2425 50.7716 88.0956 50.6213L88.5302 50.6777C88.3264 50.6508 88.1225 50.6186 87.9213 50.5811C87.4966 50.4788 87.0491 50.5381 86.6658 50.7474C86.4796 50.8537 86.3165 50.9961 86.1861 51.1662C86.0557 51.3364 85.9606 51.5308 85.9063 51.7382C85.8521 51.9457 85.8399 52.1618 85.8703 52.374C85.9008 52.5862 85.9733 52.7902 86.0837 52.974C86.1879 53.1566 86.3275 53.3166 86.4942 53.4446C86.6609 53.5727 86.8515 53.6662 87.0548 53.7198C88.4858 53.9942 89.95 54.0512 91.398 53.8888C92.1807 53.8012 92.9562 53.6578 93.7184 53.4596C94.4592 53.2488 95.1837 52.9843 95.886 52.6682C97.8062 51.7928 99.5155 50.5144 100.898 48.9197C102.28 47.325 103.303 45.4515 103.896 43.4265C104.006 43.0104 103.949 42.5678 103.736 42.1936C103.524 41.8195 103.173 41.5436 102.759 41.4252C102.343 41.3195 101.902 41.3789 101.529 41.5909C101.156 41.803 100.88 42.1512 100.758 42.5627L100.742 42.5707Z","fill","#B3D6F4"],["d","M55.9678 79.2132C55.8187 79.7337 55.6396 80.2452 55.4313 80.745L55.5949 80.356C54.5621 82.7891 52.9123 84.8789 51.3859 87.017C50.6122 88.0755 49.9035 89.1801 49.2639 90.3247C48.8485 91.0449 48.5139 91.8087 48.2659 92.6022C47.9902 93.5768 48.0798 94.6186 48.5181 95.5317C48.9185 96.3035 49.5321 96.9441 50.286 97.3773C51.0722 97.8354 51.9515 98.1105 52.8586 98.1821C53.1805 98.1819 53.4951 98.0863 53.7627 97.9073C54.0303 97.7284 54.2388 97.4742 54.362 97.1768C54.4851 96.8794 54.5174 96.5521 54.4546 96.2364C54.3919 95.9207 54.237 95.6306 54.0095 95.4029C53.6923 95.1159 53.2858 94.9472 52.8586 94.9254L52.6735 94.9039L53.1054 94.963C52.7509 94.909 52.4041 94.8126 52.0726 94.6759L52.4616 94.8422C52.1536 94.7105 51.8627 94.542 51.5951 94.3406L51.9251 94.5954C51.7171 94.4348 51.5297 94.2492 51.3671 94.0428L51.6192 94.3701C51.4885 94.1972 51.3795 94.0089 51.2946 93.8094L51.4583 94.1984C51.3922 94.0324 51.3445 93.8597 51.3161 93.6833L51.3751 94.1152C51.3456 93.8909 51.3456 93.6636 51.3751 93.4392L51.3161 93.8738C51.3771 93.5184 51.4807 93.1716 51.6246 92.841L51.461 93.23C53.0008 89.6272 55.8847 86.8211 57.7303 83.3954C58.3077 82.3442 58.7692 81.2333 59.1065 80.0823C59.1682 79.8748 59.1879 79.657 59.1644 79.4418C59.141 79.2265 59.0748 79.0181 58.9698 78.8287C58.8648 78.6394 58.7231 78.4728 58.553 78.3389C58.3828 78.2049 58.1877 78.1063 57.979 78.0487C57.7703 77.991 57.5521 77.9756 57.3374 78.0033C57.1226 78.031 56.9156 78.1012 56.7283 78.2099C56.541 78.3186 56.3773 78.4636 56.2467 78.6363C56.1162 78.809 56.0213 79.006 55.9678 79.2158V79.2132Z","fill","#B3D6F4"],["d","M64.0023 79.9079C64.0882 80.2835 64.1552 80.6617 64.2062 81.0426L64.1499 80.6107C64.5254 83.4919 63.9889 86.3757 63.6509 89.2328C63.457 90.6782 63.3807 92.137 63.4229 93.5947C63.4443 94.0547 63.4899 94.5131 63.5597 94.9682C63.6321 95.4082 63.7648 95.8361 63.954 96.2398C64.2841 96.9392 64.8206 97.5206 65.4912 97.9057C66.2051 98.3036 67.0078 98.5149 67.8251 98.5201C68.5596 98.5397 69.2903 98.4073 69.9712 98.1311C70.373 98.0038 70.7169 97.7387 70.9423 97.3826C71.0509 97.1984 71.122 96.9944 71.1515 96.7826C71.1809 96.5708 71.1683 96.3552 71.1142 96.1483C71.0601 95.9414 70.9656 95.7472 70.8362 95.5769C70.7068 95.4066 70.5451 95.2636 70.3602 95.156C70.1735 95.0437 69.9656 94.9711 69.7496 94.943C69.5335 94.9148 69.314 94.9316 69.1047 94.9924C68.7509 95.1396 68.3793 95.2397 67.9995 95.2902L68.4341 95.2338C68.0937 95.2754 67.7496 95.2754 67.4093 95.2338L67.8412 95.2929C67.571 95.2542 67.3063 95.184 67.0525 95.0836L67.4415 95.2473C67.2517 95.1648 67.0717 95.0613 66.9049 94.9387L67.2349 95.207C67.0835 95.0905 66.9466 94.9563 66.8271 94.8073L67.082 95.1373C66.9571 94.972 66.8535 94.7918 66.7735 94.6007L66.9371 94.9897C66.8166 94.6819 66.7355 94.3601 66.6957 94.032L66.7547 94.4666C66.5106 92.5163 66.7547 90.5097 66.9962 88.5648C67.2376 86.6199 67.5327 84.6615 67.5327 82.6925C67.538 81.4638 67.4067 80.2383 67.141 79.0387C67.0232 78.6246 66.7475 78.2733 66.3731 78.0605C65.9988 77.8478 65.5559 77.7906 65.1398 77.9013C64.7285 78.0244 64.3806 78.3015 64.1687 78.6749C63.9568 79.0482 63.8972 79.489 64.0023 79.9052V79.9079Z","fill","#B3D6F4"],["d","M87.3255 40.4302C87.3255 40.4302 87.7359 39.9178 88.6668 37.4524C89.5977 34.9871 90.2764 28.7929 88.7687 26.1585C87.2611 23.5242 83.94 21.4344 78.7061 21.4344C73.4723 21.4344 65.4539 24.8226 65.4539 24.8226C65.4539 24.8226 56.9204 23.6824 48.3037 29.2382C38.3779 35.639 34.9549 47.0027 34.9549 47.0027C34.9549 47.0027 39.7032 42.0988 41.5274 40.4302C47.1395 35.2956 49.9482 34.8852 49.9482 34.8852L43.7245 41.4576C37.4605 48.0301 30.4454 61.5775 28.9565 66.9749C27.6581 71.6722 26.8506 79.6585 32.6532 82.3277C38.4557 84.9969 50.0233 78.6981 50.0233 78.6981C54.8145 81.649 65.3493 83.2908 74.4622 78.9664C84.8682 74.0357 89.1148 63.0154 89.1148 63.0154H73.9847C69.3303 69.4537 62.0737 68.9708 62.0737 68.9708C50.6403 68.0104 50.093 57.3335 50.093 57.3335L90.3113 57.2638C91.3307 44.8458 87.3255 40.4302 87.3255 40.4302ZM36.323 79.9992C32.6961 78.014 31.9423 73.3596 33.3104 69.3893C34.3835 66.2909 35.8455 63.0234 35.8455 63.0234C35.8455 63.0234 36.7335 70.1431 47.8933 77.8101C47.8933 77.8101 39.9526 81.9843 36.323 79.9992ZM75.3099 49.57L50.254 49.3661C50.254 49.3661 51.1795 39.0969 62.0577 38.2733C72.9358 37.4498 75.4145 48.5425 75.3099 49.57ZM72.7453 27.2879C72.7453 27.2879 79.9321 23.0762 85.2733 25.9466C90.6144 28.817 87.4194 37.9622 86.8131 38.885C86.8131 38.8904 80.5491 29.6486 72.7453 27.2879Z","fill","white"],["d","M43.7926 80.0393L20.436 67.8495C20.1391 67.6946 19.7729 67.8096 19.618 68.1065L11.9226 82.8515C11.7676 83.1484 11.8827 83.5146 12.1795 83.6695L35.5362 95.8593C35.833 96.0142 36.1992 95.8992 36.3542 95.6023L44.0496 80.8573C44.2045 80.5604 44.0895 80.1942 43.7926 80.0393Z","fill","#E29C20"],["d","M41.6555 78.9254L18.2989 66.7356C18.002 66.5807 17.6358 66.6957 17.4809 66.9926L9.78544 81.7376C9.63051 82.0345 9.74555 82.4007 10.0424 82.5556L33.3991 94.7454C33.6959 94.9003 34.0621 94.7853 34.2171 94.4884L41.9125 79.7434C42.0674 79.4465 41.9524 79.0803 41.6555 78.9254Z","fill","#FFB31A"],["d","M24.8414 70.1111L22.427 74.7333C22.2633 75.0418 22.1989 75.3261 22.2821 75.3691L23.7629 76.1443C23.8434 76.1846 24.0312 75.97 24.2029 75.6588L26.6173 71.0393L24.8414 70.1111Z","fill","#E29C20"],["d","M33.3265 74.5398L30.9121 79.162C30.7512 79.4705 30.6868 79.7549 30.7673 79.7978L32.2481 80.5704C32.3312 80.6133 32.5163 80.3987 32.688 80.0875L35.1024 75.4653L33.3265 74.5398Z","fill","#E29C20"],["d","M34.6624 75.2911L33.6859 74.7814L35.3116 71.6669C35.3338 71.6262 35.3474 71.5814 35.3515 71.5352C35.3557 71.4891 35.3503 71.4426 35.3357 71.3986C35.3078 71.3121 35.2471 71.2399 35.1667 71.1974L28.3501 67.6402C28.3095 67.618 28.2647 67.6044 28.2185 67.6003C28.1724 67.5961 28.1258 67.6015 28.0819 67.6161C27.9953 67.644 27.9231 67.7047 27.8807 67.7851L26.263 70.8969L25.2866 70.3872L26.9122 67.2727C27.0899 66.9338 27.3946 66.6791 27.7597 66.5645C28.1247 66.4498 28.5203 66.4846 28.8598 66.661L35.6764 70.229C36.0153 70.4066 36.27 70.7113 36.3846 71.0764C36.4993 71.4414 36.4646 71.8371 36.2881 72.1766L34.6624 75.2911Z","fill","#FFB31A"],["d","M32.6316 68.0558C32.5245 67.913 32.4345 67.7582 32.3633 67.5944L32.5269 67.9834C32.4549 67.7987 32.4054 67.6059 32.3794 67.4093L32.4357 67.8439C32.4077 67.5997 32.4077 67.3531 32.4357 67.1089L32.3794 67.5408C32.4196 67.2703 32.4916 67.0056 32.594 66.7521L32.4572 67.1411C32.5745 66.8643 32.7269 66.6037 32.9106 66.3658L32.6557 66.6958C32.9137 66.3738 33.2101 66.0846 33.5383 65.8346L33.2083 66.0868C34.0061 65.5235 34.869 65.0587 35.7783 64.7025L35.3893 64.8662C36.7468 64.2939 38.1589 63.8607 39.6038 63.5732C41.0712 63.2834 42.6056 63.0715 43.8745 62.2131C44.6579 61.7256 45.2882 61.0274 45.6934 60.1984C45.8989 59.8147 45.9571 59.3692 45.857 58.9456C45.7409 58.5374 45.4731 58.189 45.1085 57.9718C44.9209 57.863 44.7136 57.7925 44.4985 57.7644C44.2835 57.7363 44.065 57.7512 43.8557 57.8082C43.6515 57.8612 43.46 57.9548 43.2927 58.0834C43.1254 58.2119 42.9857 58.3729 42.8819 58.5566C42.7827 58.7859 42.6557 59.0021 42.5037 59.2004L42.772 58.8705C42.5782 59.1039 42.3576 59.3137 42.1147 59.4955L42.4447 59.2407C42.1146 59.4917 41.754 59.6999 41.3716 59.8604L41.7606 59.6967C40.7278 60.1206 39.6145 60.2494 38.5253 60.4747C37.4298 60.7057 36.3535 61.0205 35.3062 61.4163C34.1964 61.8072 33.1273 62.3049 32.1138 62.9025C31.1293 63.5168 30.1608 64.3538 29.6753 65.4349C29.351 66.1038 29.1831 66.8377 29.1844 67.581C29.1898 68.3368 29.4165 69.0745 29.8362 69.703C30.0607 70.0605 30.4064 70.3252 30.81 70.4488C31.2329 70.5614 31.6831 70.5026 32.0628 70.2851C32.4289 70.0709 32.6973 69.7226 32.8113 69.314C32.8703 69.1045 32.8862 68.8853 32.8581 68.6695C32.83 68.4537 32.7584 68.2459 32.6477 68.0585L32.6316 68.0558Z","fill","#B3D6F4"],["d","M43.7031 31.5642C43.7031 31.5642 42.7052 25.1258 45.0874 23.6879C47.4696 22.25 48.2529 23.3499 50.6565 22.0596C53.0602 20.7692 53.5082 18.7063 55.8448 18.9557C58.1814 19.2052 60.8774 22.7731 61.6259 22.6578C62.3743 22.5424 71.0741 19.3555 72.4879 17.6037C73.9016 15.8519 75.6615 25.2304 68.244 31.7439C62.0739 37.1494 51.9791 41.4631 42.1847 42.5228C36.2829 43.1612 31.0276 40.7281 31.811 39.8401C32.5943 38.9522 44.1806 35.6257 43.7031 31.5642Z","fill","#FFB31A"],["d","M50.6378 51.3674C50.6378 51.3674 49.2965 54.6644 48.7599 56.6817C48.3227 58.3182 50.8121 60.5179 52.2473 58.903C54.7824 56.0808 50.6378 51.3674 50.6378 51.3674Z","fill","#77B4F2"],["d","M48.3174 22.7704C48.3174 22.7704 47.2738 23.7469 48.2825 24.0822C49.2912 24.4175 52.9932 20.179 52.9932 20.179C51.7711 21.5449 50.1235 22.4581 48.3174 22.7704Z","fill","#E29C20"],["d","M43.6439 33.1388C43.5929 33.1388 43.3381 33.1039 43.322 33.1039L43.668 31.2556C43.7539 31.2556 52.6093 31.4917 60.7538 22.1963H63.085C54.7688 32.9483 44.7706 33.1388 43.6439 33.1388Z","fill","#E29C20"],[1,"sp-mb-0","sp-text-center"],[1,"sp-modal-footer","sp-gap-2","sp-flex-col"],[3,"click"]],template:function(u,_){1&u&&(Pe.TgZ(0,"div",0),Pe.TgZ(1,"h2",1),Pe._uU(2),Pe.qZA(),Pe.qZA(),Pe.TgZ(3,"div",2),Pe.O4$(),Pe.TgZ(4,"svg",3),Pe._UZ(5,"path",4),Pe._UZ(6,"path",5),Pe._UZ(7,"path",6),Pe._UZ(8,"path",7),Pe._UZ(9,"path",8),Pe._UZ(10,"path",9),Pe._UZ(11,"path",10),Pe._UZ(12,"path",11),Pe._UZ(13,"path",12),Pe._UZ(14,"path",13),Pe._UZ(15,"path",14),Pe._UZ(16,"path",15),Pe._UZ(17,"path",16),Pe._UZ(18,"path",17),Pe._UZ(19,"path",18),Pe._UZ(20,"path",19),Pe.qZA(),Pe.kcU(),Pe.TgZ(21,"p",20),Pe._uU(22),Pe.qZA(),Pe.qZA(),Pe.TgZ(23,"div",21),Pe.TgZ(24,"sp-modal-window-standard-button",22),Pe.NdJ("click",function(){return _.onConfirm()}),Pe._uU(25),Pe.qZA(),Pe.qZA()),2&u&&(Pe.xp6(2),Pe.Oqu(_.headerTitleLabel),Pe.xp6(20),Pe.hij(" ",_.contentBodyText," "),Pe.xp6(3),Pe.hij(" ",_.confirmButtonLabel," "))},directives:[Yn.$],encapsulation:2,changeDetection:0}),c})();var _t=e(28635);const sn="stop-showing-not-supported-browser-warning";let _e=(()=>{class c{constructor(u,_){this.sessionStorage=u,this.modalWindowService=_}init(){!this.shouldShowWarningDialog()||this.modalWindowService.open(new un.g.Builder(Do).build())}shouldShowWarningDialog(){return _t.o.isIE()&&!this.sessionStorage.getItem(sn)}}return c.\u0275fac=function(u){return new(u||c)(Pe.LFG(so.x),Pe.LFG(Hn.b))},c.\u0275prov=Pe.Yz7({token:c,factory:c.\u0275fac}),c})();var ke=e(11041),nt=e(59155),me=e(65521);let ht=(()=>{class c{constructor(u,_,D,O){this.modalWindowComponentRef=u,this.modalWindowService=_,this.tourService=D,this.tourCommandDispatcher=O}startTestTour(u,_){if(u){this.closeDialogConfiguration();const D=JSON.parse(_);this.tourCommandDispatcher.startTestTour(D)}}closeDialogConfiguration(){this.modalWindowComponentRef.close()}}return c.\u0275fac=function(u){return new(u||c)(Pe.Y36(qn.Zh),Pe.Y36(Hn.b),Pe.Y36(nt.Q),Pe.Y36(ke.E))},c.\u0275cmp=Pe.Xpm({type:c,selectors:[["sp-test-tour-dialog-configuration"]],decls:13,vars:0,consts:[[1,"sp-modal-header"],[1,"sp-modal-body"],[1,"test-tour-configuration"],["testTourConfiguration",""],[1,"description"],[1,"sp-modal-footer","sp-gap-2"],[1,"close-test-tour",3,"click"],[3,"onConfirm"]],template:function(u,_){if(1&u){const D=Pe.EpF();Pe.TgZ(0,"div",0),Pe._uU(1," TEST TOUR\n"),Pe.qZA(),Pe.TgZ(2,"div",1),Pe.TgZ(3,"textarea",2,3),Pe._uU(5,"\t"),Pe.qZA(),Pe.TgZ(6,"div",4),Pe._uU(7," Write down Tour with JSON format "),Pe.qZA(),Pe.qZA(),Pe.TgZ(8,"div",5),Pe.TgZ(9,"sp-modal-window-standard-button",6),Pe.NdJ("click",function(){return _.closeDialogConfiguration()}),Pe._uU(10," Exit "),Pe.qZA(),Pe.TgZ(11,"sp-modal-window-confirm-button",7),Pe.NdJ("onConfirm",function(A){Pe.CHM(D);const N=Pe.MAs(4);return _.startTestTour(A,N.value)}),Pe._uU(12," Start Test Tour "),Pe.qZA(),Pe.qZA()}},directives:[Yn.$,me.r],styles:[".sp-modal-header[_ngcontent-%COMP%]{color:#0e64a0;font-weight:bold}.sp-modal-body[_ngcontent-%COMP%]{display:flex;flex-flow:wrap column}.sp-modal-body[_ngcontent-%COMP%]   .test-tour-configuration[_ngcontent-%COMP%]{width:500px;height:300px}.sp-modal-body[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%]{width:470px;min-height:50px;padding:15px}.sp-modal-footer[_ngcontent-%COMP%]   .close-test-tour[_ngcontent-%COMP%]{margin-right:12px}"],changeDetection:0}),c})(),Wt=(()=>{class c{constructor(u){this.modalWindowService=u}watchTestTour(){window.testTour=()=>{this.openTestTourDialogConfig()},this.modalWindowConfiguration=new un.g.Builder(ht).build()}openTestTourDialogConfig(){this.modalWindowService.open(this.modalWindowConfiguration)}}return c.\u0275fac=function(u){return new(u||c)(Pe.LFG(Hn.b))},c.\u0275prov=Pe.Yz7({token:c,factory:c.\u0275fac}),c})(),It=(()=>{class c{static init(u){this.tourAlreadyInitialized||(this.tourAlreadyInitialized=!0,u.watchTestTour())}}return c.tourAlreadyInitialized=!1,c})();var at=e(66278),wt=e(85498),jt=e(37865),Tn=e(6834),Fn=e(89806),Nn=e(5041);let Wn=(()=>{class c{constructor(u,_,D,O,A,N,J,H,he,Ae,ge,Xe,ft,dt,Kt,Jt,dn,Dn,fn){this.applicationInitializer=u,this.localizationInitializer=_,this.l10TextInitializer=D,this.gtmInitializer=O,this.featureFlagFacade=A,this.l10nTextDevToolsService=N,this.testTourService=J,this.wallboardModeService=H,this.browserPathContextChangeListener=he,this.notSupportedBrowserWarningService=Ae,this.environmentService=ge,this.pushClient=Xe,this.pathPropagationService=ft,this.pathPropagationServiceStorage=dt,this.paramLoaderService=Kt,this.errorRedirectService=Jt,this.localizationResource=dn,this.licenseInitializer=Dn,this.mediaQueryInitializer=fn}init$(){return this.initParams().pipe((0,tn.b)(()=>{this.browserPathContextChangeListener.init(),this.wallboardModeService.init(),this.l10nTextDevToolsService.init(),this.notSupportedBrowserWarningService.init(),this.pathPropagationServiceStorage.set(this.pathPropagationService),this.licenseInitializer.init(),It.init(this.testTourService),this.resolveInitGTM()}),(0,Sn.w)(()=>(0,Pt.D)([this.applicationInitializer.init(),this.featureFlagFacade.init$(),this.localizationInitializer.init(this.localizationResource),this.l10TextInitializer.init(this.localizationResource),this.selectPushClient$()])),(0,w.U)(()=>{}))}initSecondary$(){return(0,Pt.D)([this.mediaQueryInitializer.init$()]).pipe((0,w.U)(()=>{}))}initParams(){return this.paramLoaderService.checkStatus(this.errorRedirectService).pipe((0,Sn.w)(()=>(0,St.of)(function(c){return(window.AP_CONTEXT_REQUIRED&&"function"!=typeof window.imageExportCallbackFunction&&!0!==window.programtemplates?function D(A){return A++,void 0!==window.AP?(window.disableInitialResize||window.AP.resize("100%","calc(100vh - 80px)"),Promise.resolve(!1)):A>100?Promise.resolve(!0):new Promise(N=>setTimeout(()=>N(D(A)),300))}(0):Promise.resolve(!1)).then(A=>A?c.atlassianConnectContextUnavailable():Promise.resolve())}(this.errorRedirectService))),(0,w.U)(()=>{!function(c){(function(){if(window.IS_CHECK_THIRD_PARTY_COOKIE_MISCONFIGURATION){const O="thirdPartyCookiesMisconfigurationTest",A="true";return function(O){document.cookie=O+"=;expires=Thu, 01 Jan 1970 00:00:01 GMT;"}(O),function(O,A){document.cookie=O+"="+A+";SameSite=None;Secure;"}(O,A),A!==function(O){const A=O+"=",J=decodeURIComponent(document.cookie).split(";");for(let H=0;H<J.length;H++){let he=J[H];for(;" "===he.charAt(0);)he=he.substring(1);if(0===he.indexOf(A))return he.substring(A.length,he.length)}return""}(O)}return!1})()&&c.thirdPartyCookiesMisconfiguration()}(this.errorRedirectService)}))}resolveInitGTM(){"function"!=typeof window.imageExportCallbackFunction&&!0!==window.programtemplates&&!window.gtmDisable&&this.gtmInitializer.init()}selectPushClient$(){return this.environmentService.isActiveUsersLiveSyncEnabled()||this.environmentService.isBoardLiveSyncGloballyEnabled()||this.environmentService.isMarkerLiveSyncEnabled()?(this.pushClient.init(),this.pushClient.sendStatisticsAfterDelay(7e3)):(0,St.of)(void 0)}}return c.\u0275fac=function(u){return new(u||c)(Pe.LFG(Un),Pe.LFG(Fe.c),Pe.LFG(Cn.j),Pe.LFG(uo),Pe.LFG(cn.un),Pe.LFG(Dt.JM),Pe.LFG(Wt),Pe.LFG(rn.z),Pe.LFG(wt.D),Pe.LFG(_e),Pe.LFG(Q.L),Pe.LFG(jt.E),Pe.LFG(Tn.o),Pe.LFG(at.I),Pe.LFG(qt.K),Pe.LFG(Fn.i),Pe.LFG(Nn.y),Pe.LFG(I.ip),Pe.LFG($n.iz))},c.\u0275prov=Pe.Yz7({token:c,factory:c.\u0275fac}),c})();var Xn=e(4662),lo=e(52591);let Vn=(()=>{class c extends bn.H{constructor(u,_){super(u,_)}getHostClasses(){return["sp-loader","sp-block","sp-relative","sp-w-full","sp-h-full","sp-cursor-wait","sp-overflow-hidden"]}}return c.\u0275fac=function(u){return new(u||c)(Pe.Y36(Pe.SBq),Pe.Y36(Pe.Qsj))},c.\u0275cmp=Pe.Xpm({type:c,selectors:[["sp-loader"]],features:[Pe.qOj],decls:1,vars:0,consts:[[1,"sp-loader__phantom","sp-h-full","sp-w-1/2"]],template:function(u,_){1&u&&Pe._UZ(0,"div",0)},styles:[".sp-loader__phantom{transform:translate(-200%);background:linear-gradient(100deg,rgba(219,219,219,0) 0%,var(--gray-40) 50%,rgba(255,255,255,0) 100%);animation:wave-transition 1.5s linear infinite}@keyframes wave-transition{0%{transform:translate(-200%)}to{transform:translate(200%)}}\n"],encapsulation:2,changeDetection:0}),c})(),rt=(()=>{class c extends bn.H{constructor(u,_){super(u,_)}getHostClasses(){return["sp-header-preloader","sp-px-4","sp-w-full","sp-overflow-hidden"]}}return c.\u0275fac=function(u){return new(u||c)(Pe.Y36(Pe.SBq),Pe.Y36(Pe.Qsj))},c.\u0275cmp=Pe.Xpm({type:c,selectors:[["sp-header-preloader"]],features:[Pe.qOj],decls:13,vars:0,consts:[[1,"sp-header-preloader__placeholder-top","sp-w-full","sp-border-bottom-default-1","sp-flex","sp-flex","sp-py-2","sp-items-center"],[1,"sp-bg-gray-30","sp-rounded","sp-overflow-hidden","sp-w-12","sp-h-12","sp-circle","sp-mr-2"],[1,"sp-header-preloader__placeholder-top--short","sp-h-4","sp-bg-gray-20","sp-rounded","sp-overflow-hidden","sp-mb-1"],[1,"sp-header-preloader__placeholder-top--long","sp-h-6","sp-bg-gray-30","sp-rounded","sp-overflow-hidden"],[1,"header-placeholder__bottom","sp-border-bottom-default-1","sp-flex","sp-py-2","sp-sp-items-center"],[1,"sp-header-preloader__placeholder-bottom--long","sp-h-8","sp-bg-gray-20","sp-rounded","sp-overflow-hidden","sp-mr-2"],[1,"sp-header-preloader__placeholder-bottom--short","sp-h-8","sp-bg-gray-20","sp-rounded","sp-overflow-hidden"]],template:function(u,_){1&u&&(Pe.TgZ(0,"div",0),Pe.TgZ(1,"div",1),Pe._UZ(2,"sp-loader"),Pe.qZA(),Pe.TgZ(3,"div"),Pe.TgZ(4,"div",2),Pe._UZ(5,"sp-loader"),Pe.qZA(),Pe.TgZ(6,"div",3),Pe._UZ(7,"sp-loader"),Pe.qZA(),Pe.qZA(),Pe.qZA(),Pe.TgZ(8,"div",4),Pe.TgZ(9,"div",5),Pe._UZ(10,"sp-loader"),Pe.qZA(),Pe.TgZ(11,"div",6),Pe._UZ(12,"sp-loader"),Pe.qZA(),Pe.qZA())},directives:[Vn],styles:[".sp-header-preloader__placeholder-top{min-height:64px}.sp-header-preloader__placeholder-top--short{width:86px}.sp-header-preloader__placeholder-top--long{width:207px}.sp-header-preloader__placeholder-bottom--short{width:104px}.sp-header-preloader__placeholder-bottom--long{width:194px}\n"],encapsulation:2,changeDetection:0}),c})();function an(c,l){1&c&&Pe._UZ(0,"sp-header-preloader",1)}const Gt=[{path:"application-status",loadChildren:()=>e.e(9992).then(e.bind(e,69992)).then(c=>c.ApplicationStatusPageModule)},{path:"",component:(()=>{class c extends bn.H{constructor(u,_,D,O,A,N,J,H,he,Ae,ge){super(_,u),this.systemInitializer=D,this.router=O,this.applicationInfoStorage=A,this.activatedRoute=N,this.systemPathInfoStorage=J,this.applicationInitStorage=H,this.applicationAttributesRepository=he,this.changeDetectorRef=Ae,this.document=ge,this.loaderVisible=!0,this.firstInitialize=!1}ngOnInit(){this.resolveInit(),this.resolveInitAfterModuleLoaded()}resolveInit(){this.systemInitializer.init$().pipe((0,Sn.w)(()=>this.applicationInfoStorage.select().pipe((0,w.U)(u=>u.systemName))),(0,K.q)(1),this.takeUntilDestroy()).subscribe(u=>{const _=this.getAvailableSystem(u);this.router.navigate([_],{relativeTo:this.activatedRoute}),this.systemPathInfoStorage.set(_),this.resolveSecondaryInit()})}resolveSecondaryInit(){this.systemInitializer.initSecondary$().pipe(this.takeUntilDestroy()).subscribe()}getAvailableSystem(u){if(u===Ge.c.BIGPICTURE||u===Ge.c.BIGGANTT||u===Ge.c.BIGAGILE)return be.i.BIGPICTURE;if(u===Ge.c.BIGTEMPLATE)return be.i.BIGTEMPLATE;throw new Error("System not supported")}resolveInitAfterModuleLoaded(){this.applicationInitStorage.select().pipe(this.takeUntilDestroy()).subscribe(u=>{this.loaderVisible=!u,u&&!this.firstInitialize&&(this.firstInitialize=!0,this.initApplicationAttributes()),this.changeDetectorRef.detectChanges()})}initApplicationAttributes(){this.applicationAttributesRepository.init$().pipe((0,K.q)(1),this.takeUntilDestroy()).subscribe()}}return c.\u0275fac=function(u){return new(u||c)(Pe.Y36(Pe.Qsj),Pe.Y36(Pe.SBq),Pe.Y36(Wn),Pe.Y36(ue.F0),Pe.Y36(Ut.d),Pe.Y36(ue.gz),Pe.Y36(mt.N),Pe.Y36(lo.x),Pe.Y36(Xn.t),Pe.Y36(Pe.sBO),Pe.Y36(t.K0))},c.\u0275cmp=Pe.Xpm({type:c,selectors:[["sp-system-router"]],features:[Pe._Bn([Wn]),Pe.qOj],decls:2,vars:1,consts:[["class","sp-system-router__header-loader sp-absolute sp-top-0 sp-left-0 sp-w-full sp-z-1",4,"ngIf"],[1,"sp-system-router__header-loader","sp-absolute","sp-top-0","sp-left-0","sp-w-full","sp-z-1"]],template:function(u,_){1&u&&(Pe.YNc(0,an,1,0,"sp-header-preloader",0),Pe._UZ(1,"router-outlet")),2&u&&Pe.Q6J("ngIf",_.loaderVisible)},directives:[t.O5,ue.lC,rt],styles:[".sp-system-router__header-loader{animation:header-fade-in .6s ease-in-out}@keyframes header-fade-in{0%{opacity:0}to{opacity:1}}\n"],encapsulation:2,changeDetection:0}),c})(),children:[{path:"bigpicture",loadChildren:()=>Promise.all([e.e(8592),e.e(9976)]).then(e.bind(e,99976)).then(c=>c.BigPictureModule)},{path:"bigtemplate",loadChildren:()=>Promise.all([e.e(8592),e.e(9987)]).then(e.bind(e,9987)).then(c=>c.BigTemplateModule)}]}];let _n=(()=>{class c{}return c.\u0275fac=function(u){return new(u||c)},c.\u0275mod=Pe.oAB({type:c}),c.\u0275inj=Pe.cJS({imports:[[ue.Bz.forChild(Gt)],ue.Bz]}),c})();var ao=e(91331);const go=new Pe.OlP("DOCUMENTATION_LINK_PATH");var _o=e(17314);let vo=(()=>{class c{constructor(u,_,D){this.applicationInfoStorage=u,this.windowRef=_,this.documentationStartPath=D}redirectToDocumentationPage(u,_="_self"){const D=this.getDocumentationUrlByPage(u);this.windowRef.parent.open(D,_)}getDocumentationUrlByPage(u){const _=this.getDocumentationFullPath();return u?`${_}/${u}`:_}getDocumentationFullPath(){const u=this.getSystemUrlPart();return`${this.documentationStartPath}/${u}`}getSystemUrlPart(){const u=this.applicationInfoStorage.get();return`${u.systemName}/${u.systemVersion}`}}return c.\u0275fac=function(u){return new(u||c)(Pe.LFG(Ut.d),Pe.LFG(_o.m),Pe.LFG(go))},c.\u0275prov=Pe.Yz7({token:c,factory:c.\u0275fac}),c})();var Oo=e(51805),Po=e(68890),Bo=e(26566);let Fo=(()=>{class c{static forRoot(){return{ngModule:c,providers:[vo,{provide:go,useValue:"https://softwareplant.com/doc"}]}}}return c.\u0275fac=function(u){return new(u||c)},c.\u0275mod=Pe.oAB({type:c}),c.\u0275inj=Pe.cJS({imports:[[t.ez,Po.z8,Oo.$,Bo.n]]}),c})(),si=(()=>{class c{static forRoot(){return{ngModule:c,providers:[pt.x]}}}return c.\u0275fac=function(u){return new(u||c)},c.\u0275mod=Pe.oAB({type:c}),c.\u0275inj=Pe.cJS({}),c})();var hi=e(83155),Pi=e(17542),yi=e(60903);class bi extends Pi.M{getClassName(){return"GTMUserCountDTO"}}!function(c,l,u,_){var A,D=arguments.length,O=D<3?l:null===_?_=Object.getOwnPropertyDescriptor(l,u):_;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)O=Reflect.decorate(c,l,u,_);else for(var N=c.length-1;N>=0;N--)(A=c[N])&&(O=(D<3?A(O):D>3?A(l,u,O):A(l,u))||O);D>3&&O&&Object.defineProperty(l,u,O)}([(0,yi.qA)(),function(c,l){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata("design:type",Number)}()],bi.prototype,"numberOfUsers",void 0);var Kn=e(2421),zi=e(11531);let ki=(()=>{class c extends hi.a{constructor(u,_){super(u),this.environmentService=_}getUserCount(){return this.get("").pipe((0,Kn.W)(bi))}getRestUrl(u){return`${this.environmentService.getRestBaseUrl()}system/user/count${u}`}}return c.\u0275fac=function(u){return new(u||c)(Pe.LFG(zi.O),Pe.LFG(Q.L))},c.\u0275prov=Pe.Yz7({token:c,factory:c.\u0275fac}),c})();class mr{constructor(l){this.count=l}getCount(){return this.count}}let fi=(()=>{class c{fromDTO(u){return new mr(u.numberOfUsers)}}return c.\u0275fac=function(u){return new(u||c)},c.\u0275prov=Pe.Yz7({token:c,factory:c.\u0275fac}),c})(),Bi=(()=>{class c extends no{constructor(u,_){super(),this.httpResource=u,this.userCountConverter=_}getUserCount(){return this.httpResource.getUserCount().pipe((0,w.U)(u=>this.userCountConverter.fromDTO(u)))}}return c.\u0275fac=function(u){return new(u||c)(Pe.LFG(ki),Pe.LFG(fi))},c.\u0275prov=Pe.Yz7({token:c,factory:c.\u0275fac}),c})(),Zi=(()=>{class c{static forRoot(){return{ngModule:c,providers:[uo,An,fi,ki,{provide:no,useClass:Bi}]}}}return c.\u0275fac=function(u){return new(u||c)},c.\u0275mod=Pe.oAB({type:c}),c.\u0275inj=Pe.cJS({}),c})(),Qi=(()=>{class c{static forRoot(){return{ngModule:c,providers:[lo.x]}}}return c.\u0275fac=function(u){return new(u||c)},c.\u0275mod=Pe.oAB({type:c}),c.\u0275inj=Pe.cJS({}),c})();var Ji=e(93338);let ae=(()=>{class c extends hi.a{constructor(u,_){super(u),this.environmentService=_}getApplicationContext(){return this.get("system-info").pipe((0,Kn.W)(Ji.n))}getRestUrl(u){return this.environmentService.getRestBaseUrl()+u}}return c.\u0275fac=function(u){return new(u||c)(Pe.LFG(zi.O),Pe.LFG(Q.L))},c.\u0275prov=Pe.Yz7({token:c,factory:c.\u0275fac}),c})(),re=(()=>{class c{constructor(u,_){this.httpApplicationResource=u,this.environmentService=_}getApplicationInfo(){return this.httpApplicationResource.getApplicationContext().pipe((0,w.U)(u=>(u.platformName=this.environmentService.getPlatformName(),u)))}}return c.\u0275fac=function(u){return new(u||c)(Pe.LFG(ae),Pe.LFG(Q.L))},c.\u0275prov=Pe.Yz7({token:c,factory:c.\u0275fac}),c})(),Z=(()=>{class c{static forRoot(){return{ngModule:c,providers:[Ut.d,ae,{provide:In,useClass:re}]}}}return c.\u0275fac=function(u){return new(u||c)},c.\u0275mod=Pe.oAB({type:c}),c.\u0275inj=Pe.cJS({}),c})(),Te=(()=>{class c{static forRoot(){return{ngModule:c,providers:[mn]}}}return c.\u0275fac=function(u){return new(u||c)},c.\u0275mod=Pe.oAB({type:c}),c.\u0275inj=Pe.cJS({}),c})();var bt=e(41001),vn=e(13747),eo=e(28693),jo=e(28579),ai=e(96554),$i=e(48352),Eo=e(74111),us=e(51820),Xi=e(97425),fo=e(94649),wr=e(65758);let qi=(()=>{class c{}return c.\u0275fac=function(u){return new(u||c)},c.\u0275mod=Pe.oAB({type:c}),c.\u0275inj=Pe.cJS({providers:[wr.p],imports:[[fo.t.forRoot()]]}),c})();var Fr=e(22171),gr=e(64363),er=e(92944),Co=e(37869),li=e(62475);let _r=(()=>{class c{static forRoot(){return{ngModule:c,providers:[_e]}}}return c.\u0275fac=function(u){return new(u||c)},c.\u0275mod=Pe.oAB({type:c}),c.\u0275inj=Pe.cJS({imports:[[t.ez,Co.o,li.o,bt.J]]}),c})();var Vo=e(51545),Nr=e(74388),Io=e(43786),vr=e(25468),Lo=e(67842),wi=e(26298),po=e(70699);class Xo{constructor(l,u){this.main=l,this.versions=u}static fromRaw(l){return new Xo(po.K.fromRaw(l.main),l.versions)}getActualTourVersion(l){return!1===l.mainShowed?this.main:!0===l.mainShowed?null:void 0}}var mi=e(77882),Fi=function(c,l,u,_){var A,D=arguments.length,O=D<3?l:null===_?_=Object.getOwnPropertyDescriptor(l,u):_;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)O=Reflect.decorate(c,l,u,_);else for(var N=c.length-1;N>=0;N--)(A=c[N])&&(O=(D<3?A(O):D>3?A(l,u,O):A(l,u))||O);return D>3&&O&&Object.defineProperty(l,u,O),O},ni=function(c,l){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(c,l)};class bo{constructor(l,u,_){this.actions$=l,this.tourStorage=u,this.tourClosingController=_,this.fetchTestTour$=this.actions$.pipe((0,Io.l4)(Lo.MF.FetchTestTourActionSuccess),(0,Sn.w)(D=>(this.testTourInProgress=!0,(0,St.of)(new Lo.sC(D.tour))))),this.fetchTour$=this.actions$.pipe((0,Io.l4)(Lo.MF.FetchTourAction),(0,Sn.w)(D=>{const O=this.resolveActualTourVersion(D.tour);return O?(0,St.of)(new Lo.sC(O)):(this.tourClosingController.close(!1),(0,St.of)(new Lo.TD))})),this.closeTour$=this.actions$.pipe((0,Io.l4)(Lo.MF.CloseTourAction),(0,Sn.w)(D=>(!1===this.testTourInProgress&&this.updateTourSettings(O=>{O.mainShowed=!D.postponed}),this.testTourInProgress=!1,(0,St.of)(new Lo.TD)))),this.testTourInProgress=!1}updateTourSettings(l){const u=this.tourStorage.getTourSettings();l(u),this.tourStorage.setTourSettings(u)}resolveActualTourVersion(l){const u=Xo.fromRaw(l),_=this.tourStorage.getTourSettings();return u.getActualTourVersion(_)}}bo.\u0275fac=function(l){return new(l||bo)(Pe.LFG(Io.eX),Pe.LFG(wi.u),Pe.LFG(mi.e))},bo.\u0275prov=Pe.Yz7({token:bo,factory:bo.\u0275fac}),Fi([(0,Io.Qm)(),ni("design:type",Object)],bo.prototype,"fetchTestTour$",void 0),Fi([(0,Io.Qm)(),ni("design:type",Object)],bo.prototype,"fetchTour$",void 0),Fi([(0,Io.Qm)(),ni("design:type",Object)],bo.prototype,"closeTour$",void 0);var tr=e(897),nr=e(92273);class or{constructor(){this.tour=po.K.default(),this.currentStep=nr.w.default()}}const ir=new or;function Ni(c=ir,l){switch(l.type){case Lo.MF.FetchTourActionSuccess:const u=l;return Object.assign(new or,c,{tour:u.tour,currentStep:nr.w.default()});case Lo.MF.StepAction:return Object.assign(new or,c,{currentStep:l.currentStep});default:return c}}let Er=(()=>{class c{}return c.\u0275fac=function(u){return new(u||c)},c.\u0275mod=Pe.oAB({type:c}),c.\u0275inj=Pe.cJS({providers:[wi.u,ke.E,tr.s],imports:[[t.ez,vr.Aw.forFeature(tr._,Ni),Io.sQ.forFeature([bo])]]}),c})();var gi=e(83161),Cr=(e(56316),e(36985)),qo=(e(67372),e(13133)),Zo=e(69926),ds=(e(94848),e(95631)),rr=e(83799);let yr=(()=>{class c{static forRoot(){return{ngModule:c,providers:[nt.Q,mi.e,qo.h,ds.r,Cr.V,Zo.N,rr.X,Wt,en.m,gi.V1]}}}return c.\u0275fac=function(u){return new(u||c)},c.\u0275mod=Pe.oAB({type:c}),c.\u0275inj=Pe.cJS({imports:[[t.ez,Vo.F,Co.o,Xi.o,Er,Nr.K.forRoot(),bt.J]]}),c})();var Ui=e(54447);
/*! *****************************************************************************
    Copyright (c) Microsoft Corporation.
    
    Permission to use, copy, modify, and/or distribute this software for any
    purpose with or without fee is hereby granted.
    
    THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
    REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
    AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
    INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
    LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
    OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
    PERFORMANCE OF THIS SOFTWARE.
    ***************************************************************************** */function Vi(c,l){return function(u,_){l(u,_,c)}}
/*! *****************************************************************************
    Copyright (c) Microsoft Corporation.
    
    Permission to use, copy, modify, and/or distribute this software for any
    purpose with or without fee is hereby granted.
    
    THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
    REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
    AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
    INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
    LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
    OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
    PERFORMANCE OF THIS SOFTWARE.
    ***************************************************************************** */
var ar=function(c,l){return(ar=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(u,_){u.__proto__=_}||function(u,_){for(var D in _)_.hasOwnProperty(D)&&(u[D]=_[D])})(c,l)};function Oi(c,l){function u(){this.constructor=c}ar(c,l),c.prototype=null===l?Object.create(l):(u.prototype=l.prototype,new u)}var En=function(){return(En=Object.assign||function(l){for(var u,_=1,D=arguments.length;_<D;_++)for(var O in u=arguments[_])Object.prototype.hasOwnProperty.call(u,O)&&(l[O]=u[O]);return l}).apply(this,arguments)};function Uo(c,l,u,_){return new(u||(u=Promise))(function(O,A){function N(he){try{H(_.next(he))}catch(Ae){A(Ae)}}function J(he){try{H(_.throw(he))}catch(Ae){A(Ae)}}function H(he){he.done?O(he.value):function(O){return O instanceof u?O:new u(function(A){A(O)})}(he.value).then(N,J)}H((_=_.apply(c,l||[])).next())})}function Qo(c,l){var _,D,O,A,u={label:0,sent:function(){if(1&O[0])throw O[1];return O[1]},trys:[],ops:[]};return A={next:N(0),throw:N(1),return:N(2)},"function"==typeof Symbol&&(A[Symbol.iterator]=function(){return this}),A;function N(H){return function(he){return function(H){if(_)throw new TypeError("Generator is already executing.");for(;u;)try{if(_=1,D&&(O=2&H[0]?D.return:H[0]?D.throw||((O=D.return)&&O.call(D),0):D.next)&&!(O=O.call(D,H[1])).done)return O;switch(D=0,O&&(H=[2&H[0],O.value]),H[0]){case 0:case 1:O=H;break;case 4:return u.label++,{value:H[1],done:!1};case 5:u.label++,D=H[1],H=[0];continue;case 7:H=u.ops.pop(),u.trys.pop();continue;default:if(!(O=(O=u.trys).length>0&&O[O.length-1])&&(6===H[0]||2===H[0])){u=0;continue}if(3===H[0]&&(!O||H[1]>O[0]&&H[1]<O[3])){u.label=H[1];break}if(6===H[0]&&u.label<O[1]){u.label=O[1],O=H;break}if(O&&u.label<O[2]){u.label=O[2],u.ops.push(H);break}O[2]&&u.ops.pop(),u.trys.pop();continue}H=l.call(c,u)}catch(he){H=[6,he],D=0}finally{_=O=0}if(5&H[0])throw H[1];return{value:H[0]?H[1]:void 0,done:!0}}([H,he])}}}const ho="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):void 0;function ei(c){return(ei="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(u){return typeof u}:function(u){return u&&"function"==typeof Symbol&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":typeof u})(c)}function oe(c){return j(c,[])}function j(c,l){switch(ei(c)){case"string":return JSON.stringify(c);case"function":return c.name?"[function ".concat(c.name,"]"):"[function]";case"object":return null===c?"null":function(c,l){if(-1!==l.indexOf(c))return"[Circular]";var u=[].concat(l,[c]),_=function(c){var l=c[String(ho)];return"function"==typeof l?l:"function"==typeof c.inspect?c.inspect:void 0}(c);if(void 0!==_){var D=_.call(c);if(D!==c)return"string"==typeof D?D:j(D,u)}else if(Array.isArray(c))return function(c,l){if(0===c.length)return"[]";if(l.length>2)return"[Array]";for(var u=Math.min(10,c.length),_=c.length-u,D=[],O=0;O<u;++O)D.push(j(c[O],l));return 1===_?D.push("... 1 more item"):_>1&&D.push("... ".concat(_," more items")),"["+D.join(", ")+"]"}(c,u);return function(c,l){var u=Object.keys(c);return 0===u.length?"{}":l.length>2?"["+function(c){var l=Object.prototype.toString.call(c).replace(/^\[object /,"").replace(/]$/,"");if("Object"===l&&"function"==typeof c.constructor){var u=c.constructor.name;if("string"==typeof u&&""!==u)return u}return l}(c)+"]":"{ "+u.map(function(D){return D+": "+j(c[D],l)}).join(", ")+" }"}(c,u)}(c,l);default:return String(c)}}function ee(c){var l=c.prototype.toJSON;"function"==typeof l||function(c,l){if(!Boolean(0))throw new Error("Unexpected invariant triggered.")}(),c.prototype.inspect=l,ho&&(c.prototype[ho]=l)}var Re=function(){function c(u,_,D){this.start=u.start,this.end=_.end,this.startToken=u,this.endToken=_,this.source=D}return c.prototype.toJSON=function(){return{start:this.start,end:this.end}},c}();ee(Re);var V=function(){function c(u,_,D,O,A,N,J){this.kind=u,this.start=_,this.end=D,this.line=O,this.column=A,this.value=J,this.prev=N,this.next=null}return c.prototype.toJSON=function(){return{kind:this.kind,value:this.value,line:this.line,column:this.column}},c}();function le(c){return null!=c&&"string"==typeof c.kind}ee(V);var $e={Name:[],Document:["definitions"],OperationDefinition:["name","variableDefinitions","directives","selectionSet"],VariableDefinition:["variable","type","defaultValue","directives"],Variable:["name"],SelectionSet:["selections"],Field:["alias","name","arguments","directives","selectionSet"],Argument:["name","value"],FragmentSpread:["name","directives"],InlineFragment:["typeCondition","directives","selectionSet"],FragmentDefinition:["name","variableDefinitions","typeCondition","directives","selectionSet"],IntValue:[],FloatValue:[],StringValue:[],BooleanValue:[],NullValue:[],EnumValue:[],ListValue:["values"],ObjectValue:["fields"],ObjectField:["name","value"],Directive:["name","arguments"],NamedType:["name"],ListType:["type"],NonNullType:["type"],SchemaDefinition:["description","directives","operationTypes"],OperationTypeDefinition:["type"],ScalarTypeDefinition:["description","name","directives"],ObjectTypeDefinition:["description","name","interfaces","directives","fields"],FieldDefinition:["description","name","arguments","type","directives"],InputValueDefinition:["description","name","type","defaultValue","directives"],InterfaceTypeDefinition:["description","name","interfaces","directives","fields"],UnionTypeDefinition:["description","name","directives","types"],EnumTypeDefinition:["description","name","directives","values"],EnumValueDefinition:["description","name","directives"],InputObjectTypeDefinition:["description","name","directives","fields"],DirectiveDefinition:["description","name","arguments","locations"],SchemaExtension:["directives","operationTypes"],ScalarTypeExtension:["name","directives"],ObjectTypeExtension:["name","interfaces","directives","fields"],InterfaceTypeExtension:["name","interfaces","directives","fields"],UnionTypeExtension:["name","directives","types"],EnumTypeExtension:["name","directives","values"],InputObjectTypeExtension:["name","directives","fields"]},ct=Object.freeze({});function Bt(c,l){var u=arguments.length>2&&void 0!==arguments[2]?arguments[2]:$e,_=void 0,D=Array.isArray(c),O=[c],A=-1,N=[],J=void 0,H=void 0,he=void 0,Ae=[],ge=[],Xe=c;do{var ft=++A===O.length,dt=ft&&0!==N.length;if(ft){if(H=0===ge.length?void 0:Ae[Ae.length-1],J=he,he=ge.pop(),dt){if(D)J=J.slice();else{for(var Kt={},Jt=0,dn=Object.keys(J);Jt<dn.length;Jt++){var Dn=dn[Jt];Kt[Dn]=J[Dn]}J=Kt}for(var fn=0,yn=0;yn<N.length;yn++){var Rn=N[yn][0],Mn=N[yn][1];D&&(Rn-=fn),D&&null===Mn?(J.splice(Rn,1),fn++):J[Rn]=Mn}}A=_.index,O=_.keys,N=_.edits,D=_.inArray,_=_.prev}else{if(H=he?D?A:O[A]:void 0,null==(J=he?he[H]:Xe))continue;he&&Ae.push(H)}var wo,Pn=void 0;if(!Array.isArray(J)){if(!le(J))throw new Error("Invalid AST Node: ".concat(oe(J),"."));var wn=gn(l,J.kind,ft);if(wn){if((Pn=wn.call(l,J,H,he,Ae,ge))===ct)break;if(!1===Pn){if(!ft){Ae.pop();continue}}else if(void 0!==Pn&&(N.push([H,Pn]),!ft)){if(!le(Pn)){Ae.pop();continue}J=Pn}}}void 0===Pn&&dt&&N.push([H,J]),ft?Ae.pop():(_={inArray:D,index:A,keys:O,edits:N,prev:_},O=(D=Array.isArray(J))?J:null!==(wo=u[J.kind])&&void 0!==wo?wo:[],A=-1,N=[],he&&ge.push(he),he=J)}while(void 0!==_);return 0!==N.length&&(Xe=N[N.length-1][1]),Xe}function gn(c,l,u){var _=c[l];if(_){if(!u&&"function"==typeof _)return _;var D=u?_.leave:_.enter;if("function"==typeof D)return D}else{var O=u?c.leave:c.enter;if(O){if("function"==typeof O)return O;var A=O[l];if("function"==typeof A)return A}}}
/*! *****************************************************************************
    Copyright (c) Microsoft Corporation.
    
    Permission to use, copy, modify, and/or distribute this software for any
    purpose with or without fee is hereby granted.
    
    THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
    REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
    AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
    INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
    LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
    OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
    PERFORMANCE OF THIS SOFTWARE.
    ***************************************************************************** */var c,Gn=function(c,l){return(Gn=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(u,_){u.__proto__=_}||function(u,_){for(var D in _)_.hasOwnProperty(D)&&(u[D]=_[D])})(c,l)},ys="Invariant Violation",la=Object.setPrototypeOf,rl=void 0===la?function(c,l){return c.__proto__=l,c}:la,Go=function(c){function l(u){void 0===u&&(u=ys);var _=c.call(this,"number"==typeof u?ys+": "+u+" (see https://github.com/apollographql/invariant-packages)":u)||this;return _.framesToPop=1,_.name=ys,rl(_,l.prototype),_}return function(c,l){function u(){this.constructor=c}Gn(c,l),c.prototype=null===l?Object.create(l):(u.prototype=l.prototype,new u)}(l,c),l}(Error);function Zn(c,l){if(!c)throw new Go(l)}function ca(c){return function(){return console[c].apply(console,arguments)}}(c=Zn||(Zn={})).warn=ca("warn"),c.error=ca("error");var ua={env:{}};if("object"==typeof process)ua=process;else try{Function("stub","process = stub")(ua)}catch(c){}var ri=function(){return(ri=Object.assign||function(l){for(var u,_=1,D=arguments.length;_<D;_++)for(var O in u=arguments[_])Object.prototype.hasOwnProperty.call(u,O)&&(l[O]=u[O]);return l}).apply(this,arguments)};function Qn(){for(var c=0,l=0,u=arguments.length;l<u;l++)c+=arguments[l].length;var _=Array(c),D=0;for(l=0;l<u;l++)for(var O=arguments[l],A=0,N=O.length;A<N;A++,D++)_[D]=O[A];return _}var sl=e(96011),da=e.n(sl),pa=Object.prototype,ha=pa.toString,al=pa.hasOwnProperty,ll=new Map;function xi(c,l){try{return cl(c,l)}finally{ll.clear()}}function cl(c,l){if(c===l)return!0;var u=ha.call(c);if(u!==ha.call(l))return!1;switch(u){case"[object Array]":if(c.length!==l.length)return!1;case"[object Object]":if(iu(c,l))return!0;var D=Object.keys(c),O=Object.keys(l),A=D.length;if(A!==O.length)return!1;for(var N=0;N<A;++N)if(!al.call(l,D[N]))return!1;for(N=0;N<A;++N){var J=D[N];if(!cl(c[J],l[J]))return!1}return!0;case"[object Error]":return c.name===l.name&&c.message===l.message;case"[object Number]":if(c!=c)return l!=l;case"[object Boolean]":case"[object Date]":return+c==+l;case"[object RegExp]":case"[object String]":return c==""+l;case"[object Map]":case"[object Set]":if(c.size!==l.size)return!1;if(iu(c,l))return!0;for(var H=c.entries(),he="[object Map]"===u;;){var Ae=H.next();if(Ae.done)break;var ge=Ae.value,Xe=ge[0],ft=ge[1];if(!l.has(Xe)||he&&!cl(ft,l.get(Xe)))return!1}return!0}return!1}function iu(c,l){var u=ll.get(c);if(u){if(u.has(l))return!0}else ll.set(c,u=new Set);return u.add(l),!1}function Ts(c,l,u,_){if(function(c){return"IntValue"===c.kind}(u)||function(c){return"FloatValue"===c.kind}(u))c[l.value]=Number(u.value);else if(function(c){return"BooleanValue"===c.kind}(u)||function(c){return"StringValue"===c.kind}(u))c[l.value]=u.value;else if(function(c){return"ObjectValue"===c.kind}(u)){var D={};u.fields.map(function(A){return Ts(D,A.name,A.value,_)}),c[l.value]=D}else if(function(c){return"Variable"===c.kind}(u))c[l.value]=(_||{})[u.name.value];else if(function(c){return"ListValue"===c.kind}(u))c[l.value]=u.values.map(function(A){var N={};return Ts(N,l,A,_),N[l.value]});else if(function(c){return"EnumValue"===c.kind}(u))c[l.value]=u.value;else{if(!function(c){return"NullValue"===c.kind}(u))throw new Go(17);c[l.value]=null}}var kp=["connection","include","skip","client","rest","export"];function ru(c,l,u){if(u&&u.connection&&u.connection.key){if(u.connection.filter&&u.connection.filter.length>0){var _=u.connection.filter?u.connection.filter:[];_.sort();var D=l,O={};return _.forEach(function(J){O[J]=D[J]}),u.connection.key+"("+JSON.stringify(O)+")"}return u.connection.key}var A=c;if(l){var N=da()(l);A+="("+N+")"}return u&&Object.keys(u).forEach(function(J){-1===kp.indexOf(J)&&(u[J]&&Object.keys(u[J]).length?A+="@"+J+"("+JSON.stringify(u[J])+")":A+="@"+J)}),A}function ul(c,l){if(c.arguments&&c.arguments.length){var u={};return c.arguments.forEach(function(_){return Ts(u,_.name,_.value,l)}),u}return null}function Ks(c){return c.alias?c.alias.value:c.name.value}function Rr(c){return"Field"===c.kind}function fa(c){return"InlineFragment"===c.kind}function ma(c){return c&&"id"===c.type&&"boolean"==typeof c.generated}function ga(c,l){return void 0===l&&(l=!1),ri({type:"id",generated:l},"string"==typeof c?{id:c,typename:void 0}:c)}function Qp(c,l){if(c.directives&&c.directives.length){var u={};return c.directives.forEach(function(_){u[_.name.value]=ul(_,l)}),u}return null}function dl(c,l){return void 0===l&&(l={}),function(c){return c?c.filter(Xp).map(function(l){var u=l.arguments;Zn(u&&1===u.length,14);var D=u[0];Zn(D.name&&"if"===D.name.value,15);var O=D.value;return Zn(O&&("Variable"===O.kind||"BooleanValue"===O.kind),16),{directive:l,ifArgument:D}}):[]}(c.directives).every(function(u){var _=u.directive,D=u.ifArgument,O=!1;return"Variable"===D.value.kind?Zn(void 0!==(O=l[D.value.name.value]),13):O=D.value.value,"skip"===_.name.value?!O:O})}function _a(c,l){return function(c){var l=[];return Bt(c,{Directive:function(u){l.push(u.name.value)}}),l}(l).some(function(u){return c.indexOf(u)>-1})}function $p(c){return c&&_a(["client"],c)&&_a(["export"],c)}function Xp(c){var l=c.name.value;return"skip"===l||"include"===l}function au(c,l){var u=l,_=[];return c.definitions.forEach(function(O){if("OperationDefinition"===O.kind)throw new Go(11);"FragmentDefinition"===O.kind&&_.push(O)}),void 0===u&&(Zn(1===_.length,12),u=_[0].name.value),ri(ri({},c),{definitions:Qn([{kind:"OperationDefinition",operation:"query",selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:u}}]}}],c.definitions)})}function pl(c){for(var l=[],u=1;u<arguments.length;u++)l[u-1]=arguments[u];return l.forEach(function(_){null==_||Object.keys(_).forEach(function(D){c[D]=_[D]})}),c}function is(c){return Zn(c&&"Document"===c.kind,2),Zn(c.definitions.filter(function(u){return"FragmentDefinition"!==u.kind}).map(function(u){if("OperationDefinition"!==u.kind)throw new Go(3);return u}).length<=1,4),c}function Ds(c){return is(c),c.definitions.filter(function(l){return"OperationDefinition"===l.kind})[0]}function hl(c){return c.definitions.filter(function(l){return"OperationDefinition"===l.kind&&l.name}).map(function(l){return l.name.value})[0]||null}function va(c){return c.definitions.filter(function(l){return"FragmentDefinition"===l.kind})}function fl(c){is(c);for(var l,u=0,_=c.definitions;u<_.length;u++){var D=_[u];if("OperationDefinition"===D.kind){var O=D.operation;if("query"===O||"mutation"===O||"subscription"===O)return D}"FragmentDefinition"===D.kind&&!l&&(l=D)}if(l)return l;throw new Go(10)}function Ea(c){void 0===c&&(c=[]);var l={};return c.forEach(function(u){l[u.name.value]=u}),l}function ml(c){if(c&&c.variableDefinitions&&c.variableDefinitions.length){var l=c.variableDefinitions.filter(function(u){return u.defaultValue}).map(function(u){var O={};return Ts(O,u.variable.name,u.defaultValue),O});return pl.apply(void 0,Qn([{}],l))}return{}}function lu(c,l,u){var _=0;return c.forEach(function(D,O){l.call(this,D,O,c)&&(c[_++]=D)},u),c.length=_,c}var nh={kind:"Field",name:{kind:"Name",value:"__typename"}};function cu(c,l){return c.selectionSet.selections.every(function(u){return"FragmentSpread"===u.kind&&cu(l[u.name.value],l)})}function Ca(c){return cu(Ds(c)||function(c){Zn("Document"===c.kind,7),Zn(c.definitions.length<=1,8);var l=c.definitions[0];return Zn("FragmentDefinition"===l.kind,9),l}(c),Ea(va(c)))?null:c}function gl(c){return function(u){return c.some(function(_){return _.name&&_.name===u.name.value||_.test&&_.test(u)})}}function uu(c,l){var u=Object.create(null),_=[],D=Object.create(null),O=[],A=Ca(Bt(l,{Variable:{enter:function(N,J,H){"VariableDefinition"!==H.kind&&(u[N.name.value]=!0)}},Field:{enter:function(N){if(c&&N.directives&&c.some(function(H){return H.remove})&&N.directives&&N.directives.some(gl(c)))return N.arguments&&N.arguments.forEach(function(H){"Variable"===H.value.kind&&_.push({name:H.value.name.value})}),N.selectionSet&&hu(N.selectionSet).forEach(function(H){O.push({name:H.name.value})}),null}},FragmentSpread:{enter:function(N){D[N.name.value]=!0}},Directive:{enter:function(N){if(gl(c)(N))return null}}}));return A&&lu(_,function(N){return!u[N.name]}).length&&(A=function(c,l){var u=function(c){return function(u){return c.some(function(_){return u.value&&"Variable"===u.value.kind&&u.value.name&&(_.name===u.value.name.value||_.test&&_.test(u))})}}(c);return Ca(Bt(l,{OperationDefinition:{enter:function(_){return ri(ri({},_),{variableDefinitions:_.variableDefinitions.filter(function(D){return!c.some(function(O){return O.name===D.variable.name.value})})})}},Field:{enter:function(_){if(c.some(function(A){return A.remove})){var O=0;if(_.arguments.forEach(function(A){u(A)&&(O+=1)}),1===O)return null}}},Argument:{enter:function(_){if(u(_))return null}}}))}(_,A)),A&&lu(O,function(N){return!D[N.name]}).length&&(A=function(c,l){function u(_){if(c.some(function(D){return D.name===_.name.value}))return null}return Ca(Bt(l,{FragmentSpread:{enter:u},FragmentDefinition:{enter:u}}))}(O,A)),A}var ih={test:function(c){var l="connection"===c.name.value;return l&&(!c.arguments||c.arguments.some(function(u){return"key"===u.name.value})),l}};function hu(c){var l=[];return c.selections.forEach(function(u){(Rr(u)||fa(u))&&u.selectionSet?hu(u.selectionSet).forEach(function(_){return l.push(_)}):"FragmentSpread"===u.kind&&l.push(u)}),l}function ch(c){return"query"===fl(c).operation?c:Bt(c,{OperationDefinition:{enter:function(D){return ri(ri({},D),{operation:"query"})}}})}var _l="function"==typeof WeakMap&&!("object"==typeof navigator&&"ReactNative"===navigator.product),dh=Object.prototype.toString;function ph(c){return vl(c,new Map)}function vl(c,l){switch(dh.call(c)){case"[object Array]":if(l.has(c))return l.get(c);var u=c.slice(0);return l.set(c,u),u.forEach(function(D,O){u[O]=vl(D,l)}),u;case"[object Object]":if(l.has(c))return l.get(c);var _=Object.create(Object.getPrototypeOf(c));return l.set(c,_),Object.keys(c).forEach(function(D){_[D]=vl(c[D],l)}),_;default:return c}}function El(c){return("undefined"!=typeof process?"production":"development")===c}function yl(c){try{return c()}catch(l){console.error&&console.error(l)}}function rs(c){return c.errors&&c.errors.length}var mh=Object.prototype.hasOwnProperty;function gu(){for(var c=[],l=0;l<arguments.length;l++)c[l]=arguments[l];return Tl(c)}function Tl(c){var l=c[0]||{},u=c.length;if(u>1){var _=[];l=Dl(l,_);for(var D=1;D<u;++D)l=vu(l,c[D],_)}return l}function _u(c){return null!==c&&"object"==typeof c}function vu(c,l,u){return _u(l)&&_u(c)?(Object.isExtensible&&!Object.isExtensible(c)&&(c=Dl(c,u)),Object.keys(l).forEach(function(_){var D=l[_];if(mh.call(c,_)){var O=c[_];D!==O&&(c[_]=vu(Dl(O,u),D,u))}else c[_]=D}),c):l}function Dl(c,l){return null!==c&&"object"==typeof c&&l.indexOf(c)<0&&(c=Array.isArray(c)?c.slice(0):ri({__proto__:Object.getPrototypeOf(c)},c),l.push(c)),c}Object.create({});var gh=e(14597),yo=e.n(gh);const ci=yo();
/*! *****************************************************************************
    Copyright (c) Microsoft Corporation.
    
    Permission to use, copy, modify, and/or distribute this software for any
    purpose with or without fee is hereby granted.
    
    THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
    REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
    AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
    INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
    LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
    OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
    PERFORMANCE OF THIS SOFTWARE.
    ***************************************************************************** */var Ol=function(c,l){return(Ol=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(u,_){u.__proto__=_}||function(u,_){for(var D in _)_.hasOwnProperty(D)&&(u[D]=_[D])})(c,l)},Os=function(){return(Os=Object.assign||function(l){for(var u,_=1,D=arguments.length;_<D;_++)for(var O in u=arguments[_])Object.prototype.hasOwnProperty.call(u,O)&&(l[O]=u[O]);return l}).apply(this,arguments)};function Ta(c){return c.request.length<=1}function yu(c,l){return l?l(c):ci.of()}function Gs(c){return"function"==typeof c?new pr(c):c}function Tu(){return new pr(function(){return ci.of()})}function Oh(c){return 0===c.length?Tu():c.map(Gs).reduce(function(l,u){return l.concat(u)})}function Du(c,l,u){var _=Gs(l),D=Gs(u||new pr(yu));return Ta(_)&&Ta(D)?new pr(function(O){return c(O)?_.request(O)||ci.of():D.request(O)||ci.of()}):new pr(function(O,A){return c(O)?_.request(O,A)||ci.of():D.request(O,A)||ci.of()})}!function(c){!function(c,l){function u(){this.constructor=c}Ol(c,l),c.prototype=null===l?Object.create(l):(u.prototype=l.prototype,new u)}(function(u,_){var D=c.call(this,u)||this;return D.link=_,D},c)}(Error);var pr=function(){function c(l){l&&(this.request=l)}return c.prototype.split=function(l,u,_){return this.concat(Du(l,u,_||new c(yu)))},c.prototype.concat=function(l){return function(c,l){var u=Gs(c);if(Ta(u))return u;var _=Gs(l);return Ta(_)?new pr(function(D){return u.request(D,function(O){return _.request(O)||ci.of()})||ci.of()}):new pr(function(D,O){return u.request(D,function(A){return _.request(A,O)||ci.of()})||ci.of()})}(this,l)},c.prototype.request=function(l,u){throw new Go(1)},c.empty=Tu,c.from=Oh,c.split=Du,c.execute=Da,c}();function Da(c,l){return c.request(function(c,l){var u=Os({},c);return Object.defineProperty(l,"setContext",{enumerable:!1,value:function(O){u=Os({},u,"function"==typeof O?O(u):O)}}),Object.defineProperty(l,"getContext",{enumerable:!1,value:function(){return Os({},u)}}),Object.defineProperty(l,"toKey",{enumerable:!1,value:function(){return function(c){return JSON.stringify([c.operationName,c.query,c.variables])}(l)}}),l}(l.context,function(c){var l={variables:c.variables||{},extensions:c.extensions||{},operationName:c.operationName,query:c.query};return l.operationName||(l.operationName="string"!=typeof l.query?hl(l.query):""),l}(function(c){for(var l=["query","operationName","variables","extensions","context"],u=0,_=Object.keys(c);u<_.length;u++)if(l.indexOf(_[u])<0)throw new Go(2);return c}(l))))||ci.of()}var Sh=e(35363),Ro=(()=>(function(c){c[c.loading=1]="loading",c[c.setVariables=2]="setVariables",c[c.fetchMore=3]="fetchMore",c[c.refetch=4]="refetch",c[c.poll=6]="poll",c[c.ready=7]="ready",c[c.error=8]="error"}(Ro||(Ro={})),Ro))();function Ou(c){return c<7}var Hs=function(c){function l(){return null!==c&&c.apply(this,arguments)||this}return Oi(l,c),l.prototype[Sh.Z]=function(){return this},l.prototype["@@observable"]=function(){return this},l}(ci);function Is(c){return Array.isArray(c)&&c.length>0}var Ar=function(c){function l(u){var _=u.graphQLErrors,D=u.networkError,O=u.errorMessage,A=u.extraInfo,N=c.call(this,O)||this;return N.graphQLErrors=_||[],N.networkError=D||null,N.message=O||function(c){var l="";return Is(c.graphQLErrors)&&c.graphQLErrors.forEach(function(u){l+="GraphQL error: "+(u?u.message:"Error message not found.")+"\n"}),c.networkError&&(l+="Network error: "+c.networkError.message+"\n"),l=l.replace(/\n$/,"")}(N),N.extraInfo=A,N.__proto__=l.prototype,N}return Oi(l,c),l}(Error),Pr=(()=>(function(c){c[c.normal=1]="normal",c[c.refetch=2]="refetch",c[c.poll=3]="poll"}(Pr||(Pr={})),Pr))(),Ah=function(c){function l(u){var _=u.queryManager,D=u.options,O=u.shouldSubscribe,A=void 0===O||O,N=c.call(this,function(H){return N.onSubscribe(H)})||this;N.observers=new Set,N.subscriptions=new Set,N.isTornDown=!1,N.options=D,N.variables=D.variables||{},N.queryId=_.generateQueryId(),N.shouldSubscribe=A;var J=Ds(D.query);return N.queryName=J&&J.name&&J.name.value,N.queryManager=_,N}return Oi(l,c),l.prototype.result=function(){var u=this;return new Promise(function(_,D){var O={next:function(N){_(N),u.observers.delete(O),u.observers.size||u.queryManager.removeQuery(u.queryId),setTimeout(function(){A.unsubscribe()},0)},error:D},A=u.subscribe(O)})},l.prototype.currentResult=function(){var u=this.getCurrentResult();return void 0===u.data&&(u.data={}),u},l.prototype.getCurrentResult=function(){if(this.isTornDown){var u=this.lastResult;return{data:!this.lastError&&u&&u.data||void 0,error:this.lastError,loading:!1,networkStatus:Ro.error}}var N,_=this.queryManager.getCurrentQueryResult(this),D=_.data,O=_.partial,A=this.queryManager.queryStore.get(this.queryId),J=this.options.fetchPolicy,H="network-only"===J||"no-cache"===J;if(A){var he=A.networkStatus;if(function(c,l){return void 0===l&&(l="none"),c&&(c.networkError||"none"===l&&Is(c.graphQLErrors))}(A,this.options.errorPolicy))return{data:void 0,loading:!1,networkStatus:he,error:new Ar({graphQLErrors:A.graphQLErrors,networkError:A.networkError})};A.variables&&(this.options.variables=En(En({},this.options.variables),A.variables),this.variables=this.options.variables),N={data:D,loading:Ou(he),networkStatus:he},A.graphQLErrors&&"all"===this.options.errorPolicy&&(N.errors=A.graphQLErrors)}else{var Ae=H||O&&"cache-only"!==J;N={data:D,loading:Ae,networkStatus:Ae?Ro.loading:Ro.ready}}return O||this.updateLastResult(En(En({},N),{stale:!1})),En(En({},N),{partial:O})},l.prototype.isDifferentFromLastResult=function(u){var _=this.lastResultSnapshot;return!(_&&u&&_.networkStatus===u.networkStatus&&_.stale===u.stale&&xi(_.data,u.data))},l.prototype.getLastResult=function(){return this.lastResult},l.prototype.getLastError=function(){return this.lastError},l.prototype.resetLastResults=function(){delete this.lastResult,delete this.lastResultSnapshot,delete this.lastError,this.isTornDown=!1},l.prototype.resetQueryStoreErrors=function(){var u=this.queryManager.queryStore.get(this.queryId);u&&(u.networkError=null,u.graphQLErrors=[])},l.prototype.refetch=function(u){var _=this.options.fetchPolicy;return"cache-only"===_?Promise.reject(new Go(1)):("no-cache"!==_&&"cache-and-network"!==_&&(_="network-only"),xi(this.variables,u)||(this.variables=En(En({},this.variables),u)),xi(this.options.variables,this.variables)||(this.options.variables=En(En({},this.options.variables),this.variables)),this.queryManager.fetchQuery(this.queryId,En(En({},this.options),{fetchPolicy:_}),Pr.refetch))},l.prototype.fetchMore=function(u){var _=this;Zn(u.updateQuery,2);var D=En(En({},u.query?u:En(En(En({},this.options),u),{variables:En(En({},this.variables),u.variables)})),{fetchPolicy:"network-only"}),O=this.queryManager.generateQueryId();return this.queryManager.fetchQuery(O,D,Pr.normal,this.queryId).then(function(A){return _.updateQuery(function(N){return u.updateQuery(N,{fetchMoreResult:A.data,variables:D.variables})}),_.queryManager.stopQuery(O),A},function(A){throw _.queryManager.stopQuery(O),A})},l.prototype.subscribeToMore=function(u){var _=this,D=this.queryManager.startGraphQLSubscription({query:u.document,variables:u.variables}).subscribe({next:function(O){var A=u.updateQuery;A&&_.updateQuery(function(N,J){return A(N,{subscriptionData:O,variables:J.variables})})},error:function(O){u.onError&&u.onError(O)}});return this.subscriptions.add(D),function(){_.subscriptions.delete(D)&&D.unsubscribe()}},l.prototype.setOptions=function(u){var _=this.options.fetchPolicy;this.options=En(En({},this.options),u),u.pollInterval?this.startPolling(u.pollInterval):0===u.pollInterval&&this.stopPolling();var D=u.fetchPolicy;return this.setVariables(this.options.variables,_!==D&&("cache-only"===_||"standby"===_||"network-only"===D),u.fetchResults)},l.prototype.setVariables=function(u,_,D){return void 0===_&&(_=!1),void 0===D&&(D=!0),this.isTornDown=!1,u=u||this.variables,!_&&xi(u,this.variables)?this.observers.size&&D?this.result():Promise.resolve():(this.variables=this.options.variables=u,this.observers.size?this.queryManager.fetchQuery(this.queryId,this.options):Promise.resolve())},l.prototype.updateQuery=function(u){var _=this.queryManager,D=_.getQueryWithPreviousResult(this.queryId),O=D.previousResult,A=D.variables,N=D.document,J=yl(function(){return u(O,{variables:A})});J&&(_.dataStore.markUpdateQueryResult(N,A,J),_.broadcastQueries())},l.prototype.stopPolling=function(){this.queryManager.stopPollingQuery(this.queryId),this.options.pollInterval=void 0},l.prototype.startPolling=function(u){Iu(this),this.options.pollInterval=u,this.queryManager.startPollingQuery(this.options,this.queryId)},l.prototype.updateLastResult=function(u){var _=this.lastResult;return this.lastResult=u,this.lastResultSnapshot=this.queryManager.assumeImmutableResults?u:ph(u),_},l.prototype.onSubscribe=function(u){var _=this;try{var D=u._subscription._observer;D&&!D.error&&(D.error=Ph)}catch(A){}var O=!this.observers.size;return this.observers.add(u),u.next&&this.lastResult&&u.next(this.lastResult),u.error&&this.lastError&&u.error(this.lastError),O&&this.setUpQuery(),function(){_.observers.delete(u)&&!_.observers.size&&_.tearDownQuery()}},l.prototype.setUpQuery=function(){var u=this,D=this.queryManager,O=this.queryId;this.shouldSubscribe&&D.addObservableQuery(O,this),this.options.pollInterval&&(Iu(this),D.startPollingQuery(this.options,O));var A=function(N){u.updateLastResult(En(En({},u.lastResult),{errors:N.graphQLErrors,networkStatus:Ro.error,loading:!1})),Il(u.observers,"error",u.lastError=N)};D.observeQuery(O,this.options,{next:function(N){if(u.lastError||u.isDifferentFromLastResult(N)){var J=u.updateLastResult(N),H=u.options,he=H.query,Ae=H.variables,ge=H.fetchPolicy;D.transform(he).hasClientExports?D.getLocalState().addExportedVariables(he,Ae).then(function(Xe){var ft=u.variables;u.variables=u.options.variables=Xe,!N.loading&&J&&"cache-only"!==ge&&D.transform(he).serverQuery&&!xi(ft,Xe)?u.refetch():Il(u.observers,"next",N)}):Il(u.observers,"next",N)}},error:A}).catch(A)},l.prototype.tearDownQuery=function(){var u=this.queryManager;this.isTornDown=!0,u.stopPollingQuery(this.queryId),this.subscriptions.forEach(function(_){return _.unsubscribe()}),this.subscriptions.clear(),u.removeObservableQuery(this.queryId),u.stopQuery(this.queryId),this.observers.clear()},l}(Hs);function Ph(c){}function Il(c,l,u){var _=[];c.forEach(function(D){return D[l]&&_.push(D)}),_.forEach(function(D){return D[l](u)})}function Iu(c){var l=c.options.fetchPolicy;Zn("cache-first"!==l&&"cache-only"!==l,3)}var Lh=function(){function c(){this.store={}}return c.prototype.getStore=function(){return this.store},c.prototype.get=function(l){return this.store[l]},c.prototype.initMutation=function(l,u,_){this.store[l]={mutation:u,variables:_||{},loading:!0,error:null}},c.prototype.markMutationError=function(l,u){var _=this.store[l];_&&(_.loading=!1,_.error=u)},c.prototype.markMutationResult=function(l){var u=this.store[l];u&&(u.loading=!1,u.error=null)},c.prototype.reset=function(){this.store={}},c}(),bh=function(){function c(){this.store={}}return c.prototype.getStore=function(){return this.store},c.prototype.get=function(l){return this.store[l]},c.prototype.initQuery=function(l){var u=this.store[l.queryId];Zn(!u||u.document===l.document||xi(u.document,l.document),19);var _=!1,D=null;l.storePreviousVariables&&u&&u.networkStatus!==Ro.loading&&(xi(u.variables,l.variables)||(_=!0,D=u.variables));var A=[];u&&u.graphQLErrors&&(A=u.graphQLErrors),this.store[l.queryId]={document:l.document,variables:l.variables,previousVariables:D,networkError:null,graphQLErrors:A,networkStatus:_?Ro.setVariables:l.isPoll?Ro.poll:l.isRefetch?Ro.refetch:Ro.loading,metadata:l.metadata},"string"==typeof l.fetchMoreForQueryId&&this.store[l.fetchMoreForQueryId]&&(this.store[l.fetchMoreForQueryId].networkStatus=Ro.fetchMore)},c.prototype.markQueryResult=function(l,u,_){!this.store||!this.store[l]||(this.store[l].networkError=null,this.store[l].graphQLErrors=Is(u.errors)?u.errors:[],this.store[l].previousVariables=null,this.store[l].networkStatus=Ro.ready,"string"==typeof _&&this.store[_]&&(this.store[_].networkStatus=Ro.ready))},c.prototype.markQueryError=function(l,u,_){!this.store||!this.store[l]||(this.store[l].networkError=u,this.store[l].networkStatus=Ro.error,"string"==typeof _&&this.markQueryResultClient(_,!0))},c.prototype.markQueryResultClient=function(l,u){var _=this.store&&this.store[l];_&&(_.networkError=null,_.previousVariables=null,u&&(_.networkStatus=Ro.ready))},c.prototype.stopQuery=function(l){delete this.store[l]},c.prototype.reset=function(l){var u=this;Object.keys(this.store).forEach(function(_){l.indexOf(_)<0?u.stopQuery(_):u.store[_].networkStatus=Ro.loading})},c}(),Su=function(){function c(l){var _=l.client,D=l.resolvers,O=l.fragmentMatcher;this.cache=l.cache,_&&(this.client=_),D&&this.addResolvers(D),O&&this.setFragmentMatcher(O)}return c.prototype.addResolvers=function(l){var u=this;this.resolvers=this.resolvers||{},Array.isArray(l)?l.forEach(function(_){u.resolvers=gu(u.resolvers,_)}):this.resolvers=gu(this.resolvers,l)},c.prototype.setResolvers=function(l){this.resolvers={},this.addResolvers(l)},c.prototype.getResolvers=function(){return this.resolvers||{}},c.prototype.runResolvers=function(l){var u=l.document,_=l.remoteResult,D=l.context,O=l.variables,A=l.onlyRunForcedResolvers,N=void 0!==A&&A;return Uo(this,void 0,void 0,function(){return Qo(this,function(J){return u?[2,this.resolveDocument(u,_.data,D,O,this.fragmentMatcher,N).then(function(H){return En(En({},_),{data:H.result})})]:[2,_]})})},c.prototype.setFragmentMatcher=function(l){this.fragmentMatcher=l},c.prototype.getFragmentMatcher=function(){return this.fragmentMatcher},c.prototype.clientQuery=function(l){return _a(["client"],l)&&this.resolvers?l:null},c.prototype.serverQuery=function(l){return this.resolvers?function(c){is(c);var l=uu([{test:function(u){return"client"===u.name.value},remove:!0}],c);return l&&(l=Bt(l,{FragmentDefinition:{enter:function(u){if(u.selectionSet&&u.selectionSet.selections.every(function(D){return Rr(D)&&"__typename"===D.name.value}))return null}}})),l}(l):l},c.prototype.prepareContext=function(l){void 0===l&&(l={});var u=this.cache;return En(En({},l),{cache:u,getCacheKey:function(D){if(u.config)return u.config.dataIdFromObject(D);Zn(!1,6)}})},c.prototype.addExportedVariables=function(l,u,_){return void 0===u&&(u={}),void 0===_&&(_={}),Uo(this,void 0,void 0,function(){return Qo(this,function(D){return l?[2,this.resolveDocument(l,this.buildRootValueFromCache(l,u)||{},this.prepareContext(_),u).then(function(O){return En(En({},u),O.exportedVariables)})]:[2,En({},u)]})})},c.prototype.shouldForceResolvers=function(l){var u=!1;return Bt(l,{Directive:{enter:function(_){if("client"===_.name.value&&_.arguments&&(u=_.arguments.some(function(D){return"always"===D.name.value&&"BooleanValue"===D.value.kind&&!0===D.value.value})))return ct}}}),u},c.prototype.buildRootValueFromCache=function(l,u){return this.cache.diff({query:ch(l),variables:u,returnPartialData:!0,optimistic:!1}).result},c.prototype.resolveDocument=function(l,u,_,D,O,A){return void 0===_&&(_={}),void 0===D&&(D={}),void 0===O&&(O=function(){return!0}),void 0===A&&(A=!1),Uo(this,void 0,void 0,function(){var N,J,H,he,Ae,ge,Xe,ft,dt;return Qo(this,function(Kt){return N=fl(l),J=va(l),H=Ea(J),Ae=(he=N.operation)?function(c){return c.charAt(0).toUpperCase()+c.slice(1)}(he):"Query",Xe=(ge=this).cache,ft=ge.client,dt={fragmentMap:H,context:En(En({},_),{cache:Xe,client:ft}),variables:D,fragmentMatcher:O,defaultOperationType:Ae,exportedVariables:{},onlyRunForcedResolvers:A},[2,this.resolveSelectionSet(N.selectionSet,u,dt).then(function(Jt){return{result:Jt,exportedVariables:dt.exportedVariables}})]})})},c.prototype.resolveSelectionSet=function(l,u,_){return Uo(this,void 0,void 0,function(){var D,O,A,N,H=this;return Qo(this,function(he){return D=_.fragmentMap,O=_.context,A=_.variables,N=[u],[2,Promise.all(l.selections.map(function(Ae){return Uo(H,void 0,void 0,function(){var ge;return Qo(this,function(ft){return dl(Ae,A)?Rr(Ae)?[2,this.resolveField(Ae,u,_).then(function(dt){var Kt;void 0!==dt&&N.push(((Kt={})[Ks(Ae)]=dt,Kt))})]:(fa(Ae)?ge=Ae:Zn(ge=D[Ae.name.value],7),ge&&ge.typeCondition&&_.fragmentMatcher(u,ge.typeCondition.name.value,O)?[2,this.resolveSelectionSet(ge.selectionSet,u,_).then(function(dt){N.push(dt)})]:[2]):[2]})})})).then(function(){return Tl(N)})]})})},c.prototype.resolveField=function(l,u,_){return Uo(this,void 0,void 0,function(){var D,O,A,N,J,H,he,Ae,ge,Xe=this;return Qo(this,function(ft){return D=_.variables,O=l.name.value,A=Ks(l),N=O!==A,J=u[A]||u[O],H=Promise.resolve(J),(!_.onlyRunForcedResolvers||this.shouldForceResolvers(l))&&(he=u.__typename||_.defaultOperationType,(Ae=this.resolvers&&this.resolvers[he])&&(ge=Ae[N?O:A])&&(H=Promise.resolve(ge(u,ul(l,D),_.context,{field:l,fragmentMap:_.fragmentMap})))),[2,H.then(function(dt){return void 0===dt&&(dt=J),l.directives&&l.directives.forEach(function(Kt){"export"===Kt.name.value&&Kt.arguments&&Kt.arguments.forEach(function(Jt){"as"===Jt.name.value&&"StringValue"===Jt.value.kind&&(_.exportedVariables[Jt.value.value]=dt)})}),l.selectionSet&&null!=dt?Array.isArray(dt)?Xe.resolveSubSelectedArray(l,dt,_):l.selectionSet?Xe.resolveSelectionSet(l.selectionSet,dt,_):void 0:dt})]})})},c.prototype.resolveSubSelectedArray=function(l,u,_){var D=this;return Promise.all(u.map(function(O){return null===O?null:Array.isArray(O)?D.resolveSubSelectedArray(l,O,_):l.selectionSet?D.resolveSelectionSet(l.selectionSet,O,_):void 0}))},c}();function xu(c){var l=new Set,u=null;return new Hs(function(_){return l.add(_),u=u||c.subscribe({next:function(D){l.forEach(function(O){return O.next&&O.next(D)})},error:function(D){l.forEach(function(O){return O.error&&O.error(D)})},complete:function(){l.forEach(function(D){return D.complete&&D.complete()})}}),function(){l.delete(_)&&!l.size&&u&&(u.unsubscribe(),u=null)}})}var Fh=Object.prototype.hasOwnProperty,Nh=function(){function c(l){var u=l.link,_=l.queryDeduplication,D=void 0!==_&&_,O=l.store,A=l.onBroadcast,N=void 0===A?function(){}:A,J=l.ssrMode,H=void 0!==J&&J,he=l.clientAwareness,Ae=void 0===he?{}:he,ge=l.localState,Xe=l.assumeImmutableResults;this.mutationStore=new Lh,this.queryStore=new bh,this.clientAwareness={},this.idCounter=1,this.queries=new Map,this.fetchQueryRejectFns=new Map,this.transformCache=new(_l?WeakMap:Map),this.inFlightLinkObservables=new Map,this.pollingInfoByQueryId=new Map,this.link=u,this.queryDeduplication=D,this.dataStore=O,this.onBroadcast=N,this.clientAwareness=Ae,this.localState=ge||new Su({cache:O.getCache()}),this.ssrMode=H,this.assumeImmutableResults=!!Xe}return c.prototype.stop=function(){var l=this;this.queries.forEach(function(u,_){l.stopQueryNoBroadcast(_)}),this.fetchQueryRejectFns.forEach(function(u){u(new Go(8))})},c.prototype.mutate=function(l){var u=l.mutation,_=l.variables,D=l.optimisticResponse,O=l.updateQueries,A=l.refetchQueries,N=void 0===A?[]:A,J=l.awaitRefetchQueries,H=void 0!==J&&J,he=l.update,Ae=l.errorPolicy,ge=void 0===Ae?"none":Ae,Xe=l.fetchPolicy,ft=l.context,dt=void 0===ft?{}:ft;return Uo(this,void 0,void 0,function(){var Kt,Jt,dn,Dn=this;return Qo(this,function(fn){switch(fn.label){case 0:return Zn(u,9),Zn(!Xe||"no-cache"===Xe,10),Kt=this.generateQueryId(),u=this.transform(u).document,this.setQuery(Kt,function(){return{document:u}}),_=this.getVariables(u,_),this.transform(u).hasClientExports?[4,this.localState.addExportedVariables(u,_,dt)]:[3,2];case 1:_=fn.sent(),fn.label=2;case 2:return Jt=function(){var yn={};return O&&Dn.queries.forEach(function(Rn,Mn){var Pn=Rn.observableQuery;if(Pn){var wn=Pn.queryName;wn&&Fh.call(O,wn)&&(yn[Mn]={updater:O[wn],query:Dn.queryStore.get(Mn)})}}),yn},this.mutationStore.initMutation(Kt,u,_),this.dataStore.markMutationInit({mutationId:Kt,document:u,variables:_,updateQueries:Jt(),update:he,optimisticResponse:D}),this.broadcastQueries(),dn=this,[2,new Promise(function(yn,Rn){var Mn,Pn;dn.getObservableFromLink(u,En(En({},dt),{optimisticResponse:D}),_,!1).subscribe({next:function(wn){rs(wn)&&"none"===ge?Pn=new Ar({graphQLErrors:wn.errors}):(dn.mutationStore.markMutationResult(Kt),"no-cache"!==Xe&&dn.dataStore.markMutationResult({mutationId:Kt,result:wn,document:u,variables:_,updateQueries:Jt(),update:he}),Mn=wn)},error:function(wn){dn.mutationStore.markMutationError(Kt,wn),dn.dataStore.markMutationComplete({mutationId:Kt,optimisticResponse:D}),dn.broadcastQueries(),dn.setQuery(Kt,function(){return{document:null}}),Rn(new Ar({networkError:wn}))},complete:function(){if(Pn&&dn.mutationStore.markMutationError(Kt,Pn),dn.dataStore.markMutationComplete({mutationId:Kt,optimisticResponse:D}),dn.broadcastQueries(),Pn)Rn(Pn);else{"function"==typeof N&&(N=N(Mn));var wn=[];Is(N)&&N.forEach(function(wo){if("string"==typeof wo)dn.queries.forEach(function(Ai){var Br=Ai.observableQuery;Br&&Br.queryName===wo&&wn.push(Br.refetch())});else{var fr={query:wo.query,variables:wo.variables,fetchPolicy:"network-only"};wo.context&&(fr.context=wo.context),wn.push(dn.query(fr))}}),Promise.all(H?wn:[]).then(function(){dn.setQuery(Kt,function(){return{document:null}}),"ignore"===ge&&Mn&&rs(Mn)&&delete Mn.errors,yn(Mn)})}}})})]}})})},c.prototype.fetchQuery=function(l,u,_,D){return Uo(this,void 0,void 0,function(){var O,A,N,J,H,he,Ae,ge,Xe,ft,dt,Kt,Dn,fn,yn,Rn,Mn=this;return Qo(this,function(Pn){switch(Pn.label){case 0:return A=void 0===(O=u.metadata)?null:O,J=void 0===(N=u.fetchPolicy)?"cache-first":N,he=void 0===(H=u.context)?{}:H,Ae=this.transform(u.query).document,ge=this.getVariables(Ae,u.variables),this.transform(Ae).hasClientExports?[4,this.localState.addExportedVariables(Ae,ge,he)]:[3,2];case 1:ge=Pn.sent(),Pn.label=2;case 2:if(u=En(En({},u),{variables:ge}),dt=ft="network-only"===J||"no-cache"===J,ft||(Kt=this.dataStore.getCache().diff({query:Ae,variables:ge,returnPartialData:!0,optimistic:!1}),dt=!Kt.complete||"cache-and-network"===J,Xe=Kt.result),Dn=dt&&"cache-only"!==J&&"standby"!==J,_a(["live"],Ae)&&(Dn=!0),fn=this.idCounter++,yn="no-cache"!==J?this.updateQueryWatch(l,Ae,u):void 0,this.setQuery(l,function(){return{document:Ae,lastRequestId:fn,invalidated:!0,cancel:yn}}),this.invalidate(D),this.queryStore.initQuery({queryId:l,document:Ae,storePreviousVariables:Dn,variables:ge,isPoll:_===Pr.poll,isRefetch:_===Pr.refetch,metadata:A,fetchMoreForQueryId:D}),this.broadcastQueries(),Dn){if(Rn=this.fetchRequest({requestId:fn,queryId:l,document:Ae,options:u,fetchMoreForQueryId:D}).catch(function(wn){throw function(c){return c.hasOwnProperty("graphQLErrors")}(wn)?wn:(fn>=Mn.getQuery(l).lastRequestId&&(Mn.queryStore.markQueryError(l,wn,D),Mn.invalidate(l),Mn.invalidate(D),Mn.broadcastQueries()),new Ar({networkError:wn}))}),"cache-and-network"!==J)return[2,Rn];Rn.catch(function(){})}return this.queryStore.markQueryResultClient(l,!Dn),this.invalidate(l),this.invalidate(D),this.transform(Ae).hasForcedResolvers?[2,this.localState.runResolvers({document:Ae,remoteResult:{data:Xe},context:he,variables:ge,onlyRunForcedResolvers:!0}).then(function(wn){return Mn.markQueryResult(l,wn,u,D),Mn.broadcastQueries(),wn})]:(this.broadcastQueries(),[2,{data:Xe}])}})})},c.prototype.markQueryResult=function(l,u,_,D){var A=_.variables,N=_.errorPolicy;"no-cache"===_.fetchPolicy?this.setQuery(l,function(){return{newData:{result:u.data,complete:!0}}}):this.dataStore.markQueryResult(u,this.getQuery(l).document,A,D,"ignore"===N||"all"===N)},c.prototype.queryListenerForObserver=function(l,u,_){var D=this;function O(A,N){if(_[A])try{_[A](N)}catch(J){}}return function(A,N){if(D.invalidate(l,!1),A){var J=D.getQuery(l),H=J.observableQuery,he=J.document,Ae=H?H.options.fetchPolicy:u.fetchPolicy;if("standby"!==Ae){var ge=Ou(A.networkStatus),Xe=H&&H.getLastResult();if(!ge||u.returnPartialData||!N&&A.previousVariables||Xe&&Xe.networkStatus!==A.networkStatus&&u.notifyOnNetworkStatusChange||"cache-only"===Ae||"cache-and-network"===Ae){var Kt=Is(A.graphQLErrors),Jt=H&&H.options.errorPolicy||u.errorPolicy||"none";if("none"===Jt&&Kt||A.networkError)return O("error",new Ar({graphQLErrors:A.graphQLErrors,networkError:A.networkError}));try{var dn=void 0,Dn=void 0;if(N)"no-cache"!==Ae&&"network-only"!==Ae&&D.setQuery(l,function(){return{newData:null}}),dn=N.result,Dn=!N.complete;else{var fn=H&&H.getLastError();if(Xe&&Xe.data&&("none"===Jt||(fn&&fn.graphQLErrors)===A.graphQLErrors))dn=Xe.data,Dn=!1;else{var Rn=D.dataStore.getCache().diff({query:he,variables:A.previousVariables||A.variables,returnPartialData:!0,optimistic:!0});dn=Rn.result,Dn=!Rn.complete}}var Mn=Dn&&!(u.returnPartialData||"cache-only"===Ae),Pn={data:Mn?Xe&&Xe.data:dn,loading:ge,networkStatus:A.networkStatus,stale:Mn};"all"===Jt&&Kt&&(Pn.errors=A.graphQLErrors),O("next",Pn)}catch(wn){O("error",new Ar({networkError:wn}))}}}}}},c.prototype.transform=function(l){var u=this.transformCache;if(!u.has(l)){var _=this.dataStore.getCache(),D=_.transformDocument(l),O=function(c){return uu([ih],is(c))}(_.transformForLink(D)),A=this.localState.clientQuery(D),N=this.localState.serverQuery(O),J={document:D,hasClientExports:$p(D),hasForcedResolvers:this.localState.shouldForceResolvers(D),clientQuery:A,serverQuery:N,defaultVars:ml(Ds(D))},H=function(he){he&&!u.has(he)&&u.set(he,J)};H(l),H(D),H(A),H(N)}return u.get(l)},c.prototype.getVariables=function(l,u){return En(En({},this.transform(l).defaultVars),u)},c.prototype.watchQuery=function(l,u){void 0===u&&(u=!0),Zn("standby"!==l.fetchPolicy,11),l.variables=this.getVariables(l.query,l.variables),void 0===l.notifyOnNetworkStatusChange&&(l.notifyOnNetworkStatusChange=!1);var _=En({},l);return new Ah({queryManager:this,options:_,shouldSubscribe:u})},c.prototype.query=function(l){var u=this;return Zn(l.query,12),Zn("Document"===l.query.kind,13),Zn(!l.returnPartialData,14),Zn(!l.pollInterval,15),new Promise(function(_,D){var O=u.watchQuery(l,!1);u.fetchQueryRejectFns.set("query:"+O.queryId,D),O.result().then(_,D).then(function(){return u.fetchQueryRejectFns.delete("query:"+O.queryId)})})},c.prototype.generateQueryId=function(){return String(this.idCounter++)},c.prototype.stopQueryInStore=function(l){this.stopQueryInStoreNoBroadcast(l),this.broadcastQueries()},c.prototype.stopQueryInStoreNoBroadcast=function(l){this.stopPollingQuery(l),this.queryStore.stopQuery(l),this.invalidate(l)},c.prototype.addQueryListener=function(l,u){this.setQuery(l,function(_){return _.listeners.add(u),{invalidated:!1}})},c.prototype.updateQueryWatch=function(l,u,_){var D=this,O=this.getQuery(l).cancel;return O&&O(),this.dataStore.getCache().watch({query:u,variables:_.variables,optimistic:!0,previousResult:function(){var N=null,J=D.getQuery(l).observableQuery;if(J){var H=J.getLastResult();H&&(N=H.data)}return N},callback:function(N){D.setQuery(l,function(){return{invalidated:!0,newData:N}})}})},c.prototype.addObservableQuery=function(l,u){this.setQuery(l,function(){return{observableQuery:u}})},c.prototype.removeObservableQuery=function(l){var u=this.getQuery(l).cancel;this.setQuery(l,function(){return{observableQuery:null}}),u&&u()},c.prototype.clearStore=function(){this.fetchQueryRejectFns.forEach(function(u){u(new Go(16))});var l=[];return this.queries.forEach(function(u,_){u.observableQuery&&l.push(_)}),this.queryStore.reset(l),this.mutationStore.reset(),this.dataStore.reset()},c.prototype.resetStore=function(){var l=this;return this.clearStore().then(function(){return l.reFetchObservableQueries()})},c.prototype.reFetchObservableQueries=function(l){var u=this;void 0===l&&(l=!1);var _=[];return this.queries.forEach(function(D,O){var A=D.observableQuery;if(A){var N=A.options.fetchPolicy;A.resetLastResults(),"cache-only"!==N&&(l||"standby"!==N)&&_.push(A.refetch()),u.setQuery(O,function(){return{newData:null}}),u.invalidate(O)}}),this.broadcastQueries(),Promise.all(_)},c.prototype.observeQuery=function(l,u,_){return this.addQueryListener(l,this.queryListenerForObserver(l,u,_)),this.fetchQuery(l,u)},c.prototype.startQuery=function(l,u,_){return this.addQueryListener(l,_),this.fetchQuery(l,u).catch(function(){}),l},c.prototype.startGraphQLSubscription=function(l){var u=this,_=l.query,D=l.fetchPolicy,O=l.variables;_=this.transform(_).document,O=this.getVariables(_,O);var A=function(J){return u.getObservableFromLink(_,{},J,!1).map(function(H){if((!D||"no-cache"!==D)&&(u.dataStore.markSubscriptionResult(H,_,J),u.broadcastQueries()),rs(H))throw new Ar({graphQLErrors:H.errors});return H})};if(this.transform(_).hasClientExports){var N=this.localState.addExportedVariables(_,O).then(A);return new Hs(function(J){var H=null;return N.then(function(he){return H=he.subscribe(J)},J.error),function(){return H&&H.unsubscribe()}})}return A(O)},c.prototype.stopQuery=function(l){this.stopQueryNoBroadcast(l),this.broadcastQueries()},c.prototype.stopQueryNoBroadcast=function(l){this.stopQueryInStoreNoBroadcast(l),this.removeQuery(l)},c.prototype.removeQuery=function(l){this.fetchQueryRejectFns.delete("query:"+l),this.fetchQueryRejectFns.delete("fetchRequest:"+l),this.getQuery(l).subscriptions.forEach(function(u){return u.unsubscribe()}),this.queries.delete(l)},c.prototype.getCurrentQueryResult=function(l,u){void 0===u&&(u=!0);var _=l.options,D=_.variables,O=_.query,A=_.fetchPolicy,N=_.returnPartialData,J=l.getLastResult(),H=this.getQuery(l.queryId).newData;if(H&&H.complete)return{data:H.result,partial:!1};if("no-cache"===A||"network-only"===A)return{data:void 0,partial:!1};var he=this.dataStore.getCache().diff({query:O,variables:D,previousResult:J?J.data:void 0,returnPartialData:!0,optimistic:u}),ge=he.complete;return{data:ge||N?he.result:void 0,partial:!ge}},c.prototype.getQueryWithPreviousResult=function(l){var u;if("string"==typeof l){var _=this.getQuery(l).observableQuery;Zn(_,17),u=_}else u=l;var D=u.options,O=D.variables,A=D.query;return{previousResult:this.getCurrentQueryResult(u,!1).data,variables:O,document:A}},c.prototype.broadcastQueries=function(){var l=this;this.onBroadcast(),this.queries.forEach(function(u,_){u.invalidated&&u.listeners.forEach(function(D){D&&D(l.queryStore.get(_),u.newData)})})},c.prototype.getLocalState=function(){return this.localState},c.prototype.getObservableFromLink=function(l,u,_,D){var O=this;void 0===D&&(D=this.queryDeduplication);var A,N=this.transform(l).serverQuery;if(N){var H=this.inFlightLinkObservables,he=this.link,Ae={query:N,variables:_,operationName:hl(N)||void 0,context:this.prepareContext(En(En({},u),{forceFetch:!D}))};if(u=Ae.context,D){var ge=H.get(N)||new Map;H.set(N,ge);var Xe=JSON.stringify(_);if(!(A=ge.get(Xe))){ge.set(Xe,A=xu(Da(he,Ae)));var ft=function(){ge.delete(Xe),ge.size||H.delete(N),dt.unsubscribe()},dt=A.subscribe({next:ft,error:ft,complete:ft})}}else A=xu(Da(he,Ae))}else A=Hs.of({data:{}}),u=this.prepareContext(u);var Kt=this.transform(l).clientQuery;return Kt&&(A=function(c,l){return new Hs(function(u){var _=u.next,D=u.error,O=u.complete,A=0,N=!1,J={next:function(he){++A,new Promise(function(Ae){Ae(l(he))}).then(function(Ae){--A,_&&_.call(u,Ae),N&&J.complete()},function(Ae){--A,D&&D.call(u,Ae)})},error:function(he){D&&D.call(u,he)},complete:function(){N=!0,A||O&&O.call(u)}},H=c.subscribe(J);return function(){return H.unsubscribe()}})}(A,function(Jt){return O.localState.runResolvers({document:Kt,remoteResult:Jt,context:u,variables:_})})),A},c.prototype.fetchRequest=function(l){var ge,Xe,u=this,_=l.requestId,D=l.queryId,O=l.document,A=l.options,N=l.fetchMoreForQueryId,J=A.variables,H=A.errorPolicy,he=void 0===H?"none":H,Ae=A.fetchPolicy;return new Promise(function(ft,dt){var Kt=u.getObservableFromLink(O,A.context,J),Jt="fetchRequest:"+D;u.fetchQueryRejectFns.set(Jt,dt);var dn=function(){u.fetchQueryRejectFns.delete(Jt),u.setQuery(D,function(fn){fn.subscriptions.delete(Dn)})},Dn=Kt.map(function(fn){if(_>=u.getQuery(D).lastRequestId&&(u.markQueryResult(D,fn,A,N),u.queryStore.markQueryResult(D,fn,N),u.invalidate(D),u.invalidate(N),u.broadcastQueries()),"none"===he&&Is(fn.errors))return dt(new Ar({graphQLErrors:fn.errors}));if("all"===he&&(Xe=fn.errors),N||"no-cache"===Ae)ge=fn.data;else{var yn=u.dataStore.getCache().diff({variables:J,query:O,optimistic:!1,returnPartialData:!0});(yn.complete||A.returnPartialData)&&(ge=yn.result)}}).subscribe({error:function(fn){dn(),dt(fn)},complete:function(){dn(),ft({data:ge,errors:Xe,loading:!1,networkStatus:Ro.ready,stale:!1})}});u.setQuery(D,function(fn){fn.subscriptions.add(Dn)})})},c.prototype.getQuery=function(l){return this.queries.get(l)||{listeners:new Set,invalidated:!1,document:null,newData:null,lastRequestId:1,observableQuery:null,subscriptions:new Set}},c.prototype.setQuery=function(l,u){var _=this.getQuery(l),D=En(En({},_),u(_));this.queries.set(l,D)},c.prototype.invalidate=function(l,u){void 0===u&&(u=!0),l&&this.setQuery(l,function(){return{invalidated:u}})},c.prototype.prepareContext=function(l){void 0===l&&(l={});var u=this.localState.prepareContext(l);return En(En({},u),{clientAwareness:this.clientAwareness})},c.prototype.checkInFlight=function(l){var u=this.queryStore.get(l);return u&&u.networkStatus!==Ro.ready&&u.networkStatus!==Ro.error},c.prototype.startPollingQuery=function(l,u,_){var D=this,O=l.pollInterval;if(Zn(O,18),!this.ssrMode){var A=this.pollingInfoByQueryId.get(u);A||this.pollingInfoByQueryId.set(u,A={}),A.interval=O,A.options=En(En({},l),{fetchPolicy:"network-only"});var N=function(){var H=D.pollingInfoByQueryId.get(u);H&&(D.checkInFlight(u)?J():D.fetchQuery(u,H.options,Pr.poll).then(J,J))},J=function(){var H=D.pollingInfoByQueryId.get(u);H&&(clearTimeout(H.timeout),H.timeout=setTimeout(N,H.interval))};_&&this.addQueryListener(u,_),J()}return u},c.prototype.stopPollingQuery=function(l){this.pollingInfoByQueryId.delete(l)},c}(),Uh=function(){function c(l){this.cache=l}return c.prototype.getCache=function(){return this.cache},c.prototype.markQueryResult=function(l,u,_,D,O){void 0===O&&(O=!1);var A=!rs(l);O&&rs(l)&&l.data&&(A=!0),!D&&A&&this.cache.write({result:l.data,dataId:"ROOT_QUERY",query:u,variables:_})},c.prototype.markSubscriptionResult=function(l,u,_){rs(l)||this.cache.write({result:l.data,dataId:"ROOT_SUBSCRIPTION",query:u,variables:_})},c.prototype.markMutationInit=function(l){var _,u=this;l.optimisticResponse&&(_="function"==typeof l.optimisticResponse?l.optimisticResponse(l.variables):l.optimisticResponse,this.cache.recordOptimisticTransaction(function(D){var O=u.cache;u.cache=D;try{u.markMutationResult({mutationId:l.mutationId,result:{data:_},document:l.document,variables:l.variables,updateQueries:l.updateQueries,update:l.update})}finally{u.cache=O}},l.mutationId))},c.prototype.markMutationResult=function(l){var u=this;if(!rs(l.result)){var _=[{result:l.result.data,dataId:"ROOT_MUTATION",query:l.document,variables:l.variables}],D=l.updateQueries;D&&Object.keys(D).forEach(function(O){var A=D[O],N=A.query,J=A.updater,H=u.cache.diff({query:N.document,variables:N.variables,returnPartialData:!0,optimistic:!1}),he=H.result;if(H.complete){var ge=yl(function(){return J(he,{mutationResult:l.result,queryName:hl(N.document)||void 0,queryVariables:N.variables})});ge&&_.push({result:ge,dataId:"ROOT_QUERY",query:N.document,variables:N.variables})}}),this.cache.performTransaction(function(O){_.forEach(function(N){return O.write(N)});var A=l.update;A&&yl(function(){return A(O,l.result)})})}},c.prototype.markMutationComplete=function(l){l.optimisticResponse&&this.cache.removeOptimistic(l.mutationId)},c.prototype.markUpdateQueryResult=function(l,u,_){this.cache.write({result:_,dataId:"ROOT_QUERY",variables:u,query:l})},c.prototype.reset=function(){return this.cache.reset()},c}(),Mu=function(){function c(l){var u=this;this.defaultOptions={},this.resetStoreCallbacks=[],this.clearStoreCallbacks=[];var _=l.cache,D=l.ssrMode,O=void 0!==D&&D,A=l.ssrForceFetchDelay,N=void 0===A?0:A,J=l.connectToDevTools,H=l.queryDeduplication,he=void 0===H||H,Ae=l.defaultOptions,ge=l.assumeImmutableResults,Xe=void 0!==ge&&ge,ft=l.resolvers,dt=l.typeDefs,Kt=l.fragmentMatcher,Jt=l.name,dn=l.version,Dn=l.link;if(!Dn&&ft&&(Dn=pr.empty()),!Dn||!_)throw new Go(4);this.link=Dn,this.cache=_,this.store=new Uh(_),this.disableNetworkFetches=O||N>0,this.queryDeduplication=he,this.defaultOptions=Ae||{},this.typeDefs=dt,N&&setTimeout(function(){return u.disableNetworkFetches=!1},N),this.watchQuery=this.watchQuery.bind(this),this.query=this.query.bind(this),this.mutate=this.mutate.bind(this),this.resetStore=this.resetStore.bind(this),this.reFetchObservableQueries=this.reFetchObservableQueries.bind(this),void 0!==J&&J&&"undefined"!=typeof window&&(window.__APOLLO_CLIENT__=this),this.version="2.6.10",this.localState=new Su({cache:_,client:this,resolvers:ft,fragmentMatcher:Kt}),this.queryManager=new Nh({link:this.link,store:this.store,queryDeduplication:he,ssrMode:O,clientAwareness:{name:Jt,version:dn},localState:this.localState,assumeImmutableResults:Xe,onBroadcast:function(){u.devToolsHookCb&&u.devToolsHookCb({action:{},state:{queries:u.queryManager.queryStore.getStore(),mutations:u.queryManager.mutationStore.getStore()},dataWithOptimisticResults:u.cache.extract(!0)})}})}return c.prototype.stop=function(){this.queryManager.stop()},c.prototype.watchQuery=function(l){return this.defaultOptions.watchQuery&&(l=En(En({},this.defaultOptions.watchQuery),l)),this.disableNetworkFetches&&("network-only"===l.fetchPolicy||"cache-and-network"===l.fetchPolicy)&&(l=En(En({},l),{fetchPolicy:"cache-first"})),this.queryManager.watchQuery(l)},c.prototype.query=function(l){return this.defaultOptions.query&&(l=En(En({},this.defaultOptions.query),l)),Zn("cache-and-network"!==l.fetchPolicy,5),this.disableNetworkFetches&&"network-only"===l.fetchPolicy&&(l=En(En({},l),{fetchPolicy:"cache-first"})),this.queryManager.query(l)},c.prototype.mutate=function(l){return this.defaultOptions.mutate&&(l=En(En({},this.defaultOptions.mutate),l)),this.queryManager.mutate(l)},c.prototype.subscribe=function(l){return this.queryManager.startGraphQLSubscription(l)},c.prototype.readQuery=function(l,u){return void 0===u&&(u=!1),this.cache.readQuery(l,u)},c.prototype.readFragment=function(l,u){return void 0===u&&(u=!1),this.cache.readFragment(l,u)},c.prototype.writeQuery=function(l){var u=this.cache.writeQuery(l);return this.queryManager.broadcastQueries(),u},c.prototype.writeFragment=function(l){var u=this.cache.writeFragment(l);return this.queryManager.broadcastQueries(),u},c.prototype.writeData=function(l){var u=this.cache.writeData(l);return this.queryManager.broadcastQueries(),u},c.prototype.__actionHookForDevTools=function(l){this.devToolsHookCb=l},c.prototype.__requestRaw=function(l){return Da(this.link,l)},c.prototype.initQueryManager=function(){return this.queryManager},c.prototype.resetStore=function(){var l=this;return Promise.resolve().then(function(){return l.queryManager.clearStore()}).then(function(){return Promise.all(l.resetStoreCallbacks.map(function(u){return u()}))}).then(function(){return l.reFetchObservableQueries()})},c.prototype.clearStore=function(){var l=this;return Promise.resolve().then(function(){return l.queryManager.clearStore()}).then(function(){return Promise.all(l.clearStoreCallbacks.map(function(u){return u()}))})},c.prototype.onResetStore=function(l){var u=this;return this.resetStoreCallbacks.push(l),function(){u.resetStoreCallbacks=u.resetStoreCallbacks.filter(function(_){return _!==l})}},c.prototype.onClearStore=function(l){var u=this;return this.clearStoreCallbacks.push(l),function(){u.clearStoreCallbacks=u.clearStoreCallbacks.filter(function(_){return _!==l})}},c.prototype.reFetchObservableQueries=function(l){return this.queryManager.reFetchObservableQueries(l)},c.prototype.extract=function(l){return this.cache.extract(l)},c.prototype.restore=function(l){return this.cache.restore(l)},c.prototype.addResolvers=function(l){this.localState.addResolvers(l)},c.prototype.setResolvers=function(l){this.localState.setResolvers(l)},c.prototype.getResolvers=function(){return this.localState.getResolvers()},c.prototype.setLocalStateFragmentMatcher=function(l){this.localState.setFragmentMatcher(l)},c}(),Oa=e(32731),Kh=e(41309),Gh=e(84358),Ru=e(79906),Hh=e(39942),Yh=e(43349);function Au(c){return new Oa.y(l=>(c().then(u=>{l.closed||(l.next(u),l.complete())},u=>{l.closed||l.error(u)}),()=>l.unsubscribe()))}class zh{constructor(l){this.zone=l,this.now=Date.now?Date.now:()=>+new Date}schedule(l,u=0,_){return this.zone.run(()=>Kh.N.schedule(l,u,_))}}function Pu(c){return c[Gh.L]=()=>c,c}function Lu(c,l){return c.pipe((0,Hh.QV)(new zh(l)))}class kh{constructor(l,u,_){this.obsQuery=l;const D=Lu((0,Ru.D)(Pu(this.obsQuery)),u);this.valueChanges=_.useInitialLoading?D.pipe((0,Yh.O)(Object.assign(Object.assign({},this.obsQuery.getCurrentResult()),{error:void 0,partial:void 0,stale:!0}))):D,this.queryId=this.obsQuery.queryId}result(){return this.obsQuery.result()}currentResult(){return this.obsQuery.currentResult()}getLastResult(){return this.obsQuery.getLastResult()}getLastError(){return this.obsQuery.getLastError()}resetLastResults(){return this.obsQuery.resetLastResults()}refetch(l){return this.obsQuery.refetch(l)}fetchMore(l){return this.obsQuery.fetchMore(l)}subscribeToMore(l){return this.obsQuery.subscribeToMore(l)}updateQuery(l){return this.obsQuery.updateQuery(l)}stopPolling(){return this.obsQuery.stopPolling()}startPolling(l){return this.obsQuery.startPolling(l)}setOptions(l){return this.obsQuery.setOptions(l)}setVariables(l,u=!1,_=!0){return this.obsQuery.setVariables(l,u,_)}}const Sl=new Pe.OlP("[apollo-angular] options"),bu=new Pe.OlP("[apollo-angular] named options");class Bu{constructor(l,u){this.ngZone=l,this._client=u}watchQuery(l){return new kh(this.client.watchQuery(Object.assign({},l)),this.ngZone,l)}query(l){return Au(()=>this.client.query(Object.assign({},l)))}mutate(l){return Au(()=>this.client.mutate(Object.assign({},l)))}subscribe(l,u){const _=(0,Ru.D)(Pu(this.client.subscribe(Object.assign({},l))));return u&&!0!==u.useZone?_:Lu(_,this.ngZone)}getClient(){return this._client}setClient(l){if(this._client)throw new Error("Client has been already defined");this._client=l}get client(){return this.beforeEach(),this._client}beforeEach(){this.checkInstance()}checkInstance(){if(!this._client)throw new Error("Client has not been defined yet")}}let wu=(()=>{let c=class extends Bu{constructor(u,_,D){if(super(u),this._ngZone=u,this.map=new Map,_&&this.createDefault(_),D&&"object"==typeof D)for(const O in D)D.hasOwnProperty(O)&&this.createNamed(O,D[O])}create(u,_){xl(_)?this.createDefault(u):this.createNamed(_,u)}default(){return this}use(u){return xl(u)?this.default():this.map.get(u)}createDefault(u){if(this.getClient())throw new Error("Apollo has been already created.");return this.setClient(new Mu(u))}createNamed(u,_){if(this.map.has(u))throw new Error(`Client ${u} has been already created`);this.map.set(u,new Bu(this._ngZone,new Mu(_)))}removeClient(u){xl(u)?this._client=void 0:this.map.delete(u)}};return c.\u0275fac=function(u){return new(u||c)(Pe.LFG(Pe.R0b),Pe.LFG(Sl,8),Pe.LFG(bu,8))},c.\u0275prov=Pe.Yz7({token:c,factory:function(l){return c.\u0275fac(l)}}),c=function(c,l,u,_){var A,D=arguments.length,O=D<3?l:null===_?_=Object.getOwnPropertyDescriptor(l,u):_;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)O=Reflect.decorate(c,l,u,_);else for(var N=c.length-1;N>=0;N--)(A=c[N])&&(O=(D<3?A(O):D>3?A(l,u,O):A(l,u))||O);return D>3&&O&&Object.defineProperty(l,u,O),O}([Vi(1,(0,Pe.FiY)()),Vi(1,(0,Pe.tBr)(Sl)),Vi(2,(0,Pe.FiY)()),Vi(2,(0,Pe.tBr)(bu))],c),c})();function xl(c){return!c||"default"===c}const Zh=[wu];let Fu=(()=>{let c=class{};return c.\u0275fac=function(u){return new(u||c)},c.\u0275mod=Pe.oAB({type:c}),c.\u0275inj=Pe.cJS({providers:Zh}),c})();function Jh(c,l){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(c,l)}function Xh(c){var l=c.split(/\r\n|[\n\r]/g),u=function(c){for(var l,u=!0,_=!0,D=0,O=null,A=0;A<c.length;++A)switch(c.charCodeAt(A)){case 13:10===c.charCodeAt(A+1)&&++A;case 10:u=!1,_=!0,D=0;break;case 9:case 32:++D;break;default:_&&!u&&(null===O||D<O)&&(O=D),_=!1}return null!==(l=O)&&void 0!==l?l:0}(c);if(0!==u)for(var _=1;_<l.length;_++)l[_]=l[_].slice(u);for(var D=0;D<l.length&&Wu(l[D]);)++D;for(var O=l.length;O>D&&Wu(l[O-1]);)--O;return l.slice(D,O).join("\n")}function Wu(c){for(var l=0;l<c.length;++l)if(" "!==c[l]&&"\t"!==c[l])return!1;return!0}function Vu(c){return Bt(c,{leave:nf})}var nf={Name:function(l){return l.value},Variable:function(l){return"$"+l.name},Document:function(l){return On(l.definitions,"\n\n")+"\n"},OperationDefinition:function(l){var u=l.operation,_=l.name,D=To("(",On(l.variableDefinitions,", "),")"),O=On(l.directives," "),A=l.selectionSet;return _||O||D||"query"!==u?On([u,On([_,D]),O,A]," "):A},VariableDefinition:function(l){var O=l.directives;return l.variable+": "+l.type+To(" = ",l.defaultValue)+To(" ",On(O," "))},SelectionSet:function(l){return Ri(l.selections)},Field:function(l){var _=l.name,D=l.arguments,O=l.directives,A=l.selectionSet,N=To("",l.alias,": ")+_,J=N+To("(",On(D,", "),")");return J.length>80&&(J=N+To("(\n",Sa(On(D,"\n")),"\n)")),On([J,On(O," "),A]," ")},Argument:function(l){return l.name+": "+l.value},FragmentSpread:function(l){return"..."+l.name+To(" ",On(l.directives," "))},InlineFragment:function(l){var _=l.directives,D=l.selectionSet;return On(["...",To("on ",l.typeCondition),On(_," "),D]," ")},FragmentDefinition:function(l){var _=l.typeCondition,D=l.variableDefinitions,O=l.directives,A=l.selectionSet;return"fragment ".concat(l.name).concat(To("(",On(D,", "),")")," ")+"on ".concat(_," ").concat(To("",On(O," ")," "))+A},IntValue:function(l){return l.value},FloatValue:function(l){return l.value},StringValue:function(l,u){var _=l.value;return l.block?function(c){var l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",u=arguments.length>2&&void 0!==arguments[2]&&arguments[2],_=-1===c.indexOf("\n"),D=" "===c[0]||"\t"===c[0],O='"'===c[c.length-1],A="\\"===c[c.length-1],N=!_||O||A||u,J="";return N&&!(_&&D)&&(J+="\n"+l),J+=l?c.replace(/\n/g,"\n"+l):c,N&&(J+="\n"),'"""'+J.replace(/"""/g,'\\"""')+'"""'}(_,"description"===u?"":"  "):JSON.stringify(_)},BooleanValue:function(l){return l.value?"true":"false"},NullValue:function(){return"null"},EnumValue:function(l){return l.value},ListValue:function(l){return"["+On(l.values,", ")+"]"},ObjectValue:function(l){return"{"+On(l.fields,", ")+"}"},ObjectField:function(l){return l.name+": "+l.value},Directive:function(l){return"@"+l.name+To("(",On(l.arguments,", "),")")},NamedType:function(l){return l.name},ListType:function(l){return"["+l.type+"]"},NonNullType:function(l){return l.type+"!"},SchemaDefinition:Mi(function(c){var u=c.operationTypes;return On(["schema",On(c.directives," "),Ri(u)]," ")}),OperationTypeDefinition:function(l){return l.operation+": "+l.type},ScalarTypeDefinition:Mi(function(c){return On(["scalar",c.name,On(c.directives," ")]," ")}),ObjectTypeDefinition:Mi(function(c){var _=c.directives,D=c.fields;return On(["type",c.name,To("implements ",On(c.interfaces," & ")),On(_," "),Ri(D)]," ")}),FieldDefinition:Mi(function(c){var u=c.arguments,_=c.type,D=c.directives;return c.name+(Ku(u)?To("(\n",Sa(On(u,"\n")),"\n)"):To("(",On(u,", "),")"))+": "+_+To(" ",On(D," "))}),InputValueDefinition:Mi(function(c){var D=c.directives;return On([c.name+": "+c.type,To("= ",c.defaultValue),On(D," ")]," ")}),InterfaceTypeDefinition:Mi(function(c){var _=c.directives,D=c.fields;return On(["interface",c.name,To("implements ",On(c.interfaces," & ")),On(_," "),Ri(D)]," ")}),UnionTypeDefinition:Mi(function(c){var _=c.types;return On(["union",c.name,On(c.directives," "),_&&0!==_.length?"= "+On(_," | "):""]," ")}),EnumTypeDefinition:Mi(function(c){var _=c.values;return On(["enum",c.name,On(c.directives," "),Ri(_)]," ")}),EnumValueDefinition:Mi(function(c){return On([c.name,On(c.directives," ")]," ")}),InputObjectTypeDefinition:Mi(function(c){var _=c.fields;return On(["input",c.name,On(c.directives," "),Ri(_)]," ")}),DirectiveDefinition:Mi(function(c){var u=c.arguments,_=c.repeatable,D=c.locations;return"directive @"+c.name+(Ku(u)?To("(\n",Sa(On(u,"\n")),"\n)"):To("(",On(u,", "),")"))+(_?" repeatable":"")+" on "+On(D," | ")}),SchemaExtension:function(l){var _=l.operationTypes;return On(["extend schema",On(l.directives," "),Ri(_)]," ")},ScalarTypeExtension:function(l){return On(["extend scalar",l.name,On(l.directives," ")]," ")},ObjectTypeExtension:function(l){var D=l.directives,O=l.fields;return On(["extend type",l.name,To("implements ",On(l.interfaces," & ")),On(D," "),Ri(O)]," ")},InterfaceTypeExtension:function(l){var D=l.directives,O=l.fields;return On(["extend interface",l.name,To("implements ",On(l.interfaces," & ")),On(D," "),Ri(O)]," ")},UnionTypeExtension:function(l){var D=l.types;return On(["extend union",l.name,On(l.directives," "),D&&0!==D.length?"= "+On(D," | "):""]," ")},EnumTypeExtension:function(l){var D=l.values;return On(["extend enum",l.name,On(l.directives," "),Ri(D)]," ")},InputObjectTypeExtension:function(l){var D=l.fields;return On(["extend input",l.name,On(l.directives," "),Ri(D)]," ")}};function Mi(c){return function(l){return On([l.description,c(l)],"\n")}}function On(c){var l,u=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return null!==(l=null==c?void 0:c.filter(function(_){return _}).join(u))&&void 0!==l?l:""}function Ri(c){return To("{\n",Sa(On(c,"\n")),"\n}")}function To(c,l){var u=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";return null!=l&&""!==l?c+l+u:""}function Sa(c){return To("  ",c.replace(/\n/g,"\n  "))}function of(c){return-1!==c.indexOf("\n")}function Ku(c){return null!=c&&c.some(of)}var lf=function(l){var _=l.name,D=l.type;this.uri=l.uri,this.name=_,this.type=D};function Rl(c,l){void 0===l&&(l="");var u,_=new Map;function D(J,H){var he=_.get(H);he?he.push.apply(he,J):_.set(H,J)}if("undefined"!=typeof File&&c instanceof File||"undefined"!=typeof Blob&&c instanceof Blob||c instanceof lf)u=null,D([l],c);else{var O=l?l+".":"";if("undefined"!=typeof FileList&&c instanceof FileList)u=Array.prototype.map.call(c,function(J,H){return D([""+O+H],J),null});else if(Array.isArray(c))u=c.map(function(J,H){var he=Rl(J,""+O+H);return he.files.forEach(D),he.clone});else if(c&&c.constructor===Object)for(var A in u={},c){var N=Rl(c[A],""+O+A);N.files.forEach(D),u[A]=N.clone}else u=c}return{clone:u,files:_}}class cf extends pr{constructor(l,u){super(),this.httpClient=l,this.options=u,this.requester=_=>new ci(D=>{const O=_.getContext(),A=(dt,Kt)=>function(...c){const l=c.find(u=>void 0!==u);return void 0===l?c[c.length-1]:l}(O[dt],this.options[dt],Kt),N=A("includeQuery",!0),J=A("includeExtensions",!1),H=A("method","POST"),he=A("uri","graphql"),Ae=A("withCredentials"),ge=A("useMultipart"),Xe={method:H,url:"function"==typeof he?he(_):he,body:{operationName:_.operationName,variables:_.variables},options:{withCredentials:Ae,useMultipart:ge,headers:this.options.headers}};J&&(Xe.body.extensions=_.extensions),N&&(Xe.body.query=Vu(_.query)),O.headers&&(Xe.options.headers=((c,l)=>c&&l?l.keys().reduce((_,D)=>_.set(D,l.getAll(D)),c):l||c)(Xe.options.headers,O.headers));const ft=((c,l,u)=>{const _=-1!==["POST","PUT","PATCH"].indexOf(c.method.toUpperCase()),O=c.body.length;let N,A=c.options&&c.options.useMultipart;if(A){if(O)return new Oa.y(H=>H.error(new Error("File upload is not available when combined with Batching")));if(!_)return new Oa.y(H=>H.error(new Error("File upload is not available when GET is used")));N=u(c.body),A=!!N.files.size}let J={};if(O){if(!_)return new Oa.y(H=>H.error(new Error("Batching is not available for GET requests")));J={body:c.body}}else{const H=A?N.clone:c.body;J=_?{body:H}:{params:Object.keys(c.body).reduce((Ae,ge)=>{const Xe=c.body[ge];return Ae[ge]=(H=>-1!==["variables","extensions"].indexOf(H.toLowerCase()))(ge)?JSON.stringify(Xe):Xe,Ae},{})}}if(A&&_){const H=new FormData;H.append("operations",JSON.stringify(J.body));const he={},Ae=N.files;let ge=0;Ae.forEach(Xe=>{he[++ge]=Xe}),H.append("map",JSON.stringify(he)),ge=0,Ae.forEach((Xe,ft)=>{H.append(++ge+"",ft,ft.name)}),J.body=H}return l.request(c.method,c.url,Object.assign({observe:"response",responseType:"json",reportProgress:!1},J,c.options))})(Xe,this.httpClient,Rl).subscribe({next:dt=>{_.setContext({response:dt}),D.next(dt.body)},error:dt=>D.error(dt),complete:()=>D.complete()});return()=>{ft.closed||ft.unsubscribe()}})}request(l){return this.requester(l)}}let Gu=(()=>{let c=class{constructor(u){this.httpClient=u}create(u){return new cf(this.httpClient,u)}};return c.\u0275fac=function(u){return new(u||c)(Pe.LFG(Ui.eN))},c.\u0275prov=Pe.Yz7({token:c,factory:function(l){return c.\u0275fac(l)}}),c=function(c,l,u,_){var A,D=arguments.length,O=D<3?l:null===_?_=Object.getOwnPropertyDescriptor(l,u):_;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)O=Reflect.decorate(c,l,u,_);else for(var N=c.length-1;N>=0;N--)(A=c[N])&&(O=(D<3?A(O):D>3?A(l,u,O):A(l,u))||O);return D>3&&O&&Object.defineProperty(l,u,O),O}([Jh("design:paramtypes",[Ui.eN])],c),c})();const uf=[Gu];let df=(()=>{let c=class{};return c.\u0275fac=function(u){return new(u||c)},c.\u0275mod=Pe.oAB({type:c}),c.\u0275inj=Pe.cJS({providers:uf}),c})();
/*! *****************************************************************************
    Copyright (c) Microsoft Corporation.
    
    Permission to use, copy, modify, and/or distribute this software for any
    purpose with or without fee is hereby granted.
    
    THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
    REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
    AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
    INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
    LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
    OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
    PERFORMANCE OF THIS SOFTWARE.
    ***************************************************************************** */
var Al=function(c,l){return(Al=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(u,_){u.__proto__=_}||function(u,_){for(var D in _)_.hasOwnProperty(D)&&(u[D]=_[D])})(c,l)};function Pl(c,l){function u(){this.constructor=c}Al(c,l),c.prototype=null===l?Object.create(l):(u.prototype=l.prototype,new u)}var Jo=function(){return(Jo=Object.assign||function(l){for(var u,_=1,D=arguments.length;_<D;_++)for(var O in u=arguments[_])Object.prototype.hasOwnProperty.call(u,O)&&(l[O]=u[O]);return l}).apply(this,arguments)};function hf(c){return{kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"GeneratedClientQuery"},selectionSet:Ma(c)}]}}function ff(c,l){return{kind:"Document",definitions:[{kind:"FragmentDefinition",typeCondition:{kind:"NamedType",name:{kind:"Name",value:l||"__FakeType"}},name:{kind:"Name",value:"GeneratedClientQuery"},selectionSet:Ma(c)}]}}function Ma(c){if("number"==typeof c||"boolean"==typeof c||"string"==typeof c||null==c)return null;if(Array.isArray(c))return Ma(c[0]);var l=[];return Object.keys(c).forEach(function(_){var D=Ma(c[_]);l.push({kind:"Field",name:{kind:"Name",value:_},selectionSet:D||void 0})}),{kind:"SelectionSet",selections:l}}var Yu,mf={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:null,variableDefinitions:null,directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:null,name:{kind:"Name",value:"__typename"},arguments:[],directives:[],selectionSet:null}]}}]},gf=function(){function c(){}return c.prototype.transformDocument=function(l){return l},c.prototype.transformForLink=function(l){return l},c.prototype.readQuery=function(l,u){return void 0===u&&(u=!1),this.read({query:l.query,variables:l.variables,optimistic:u})},c.prototype.readFragment=function(l,u){return void 0===u&&(u=!1),this.read({query:au(l.fragment,l.fragmentName),variables:l.variables,rootId:l.id,optimistic:u})},c.prototype.writeQuery=function(l){this.write({dataId:"ROOT_QUERY",result:l.data,query:l.query,variables:l.variables})},c.prototype.writeFragment=function(l){this.write({dataId:l.id,result:l.data,variables:l.variables,query:au(l.fragment,l.fragmentName)})},c.prototype.writeData=function(l){var u=l.id,_=l.data;if(void 0!==u){var D=null;try{D=this.read({rootId:u,optimistic:!1,query:mf})}catch(N){}var O=D&&D.__typename||"__ClientData",A=Object.assign({__typename:O},_);this.writeFragment({id:u,fragment:ff(A,O),data:A})}else this.writeQuery({query:hf(_),data:_})},c}();Yu||(Yu={});var Ho=null,zu={},_f=1,Ll="@wry/context:Slot",bl=Array,Bl=bl[Ll]||function(){var c=function(){function c(){this.id=["slot",_f++,Date.now(),Math.random().toString(36).slice(2)].join(":")}return c.prototype.hasValue=function(){for(var l=Ho;l;l=l.parent)if(this.id in l.slots){var u=l.slots[this.id];if(u===zu)break;return l!==Ho&&(Ho.slots[this.id]=u),!0}return Ho&&(Ho.slots[this.id]=zu),!1},c.prototype.getValue=function(){if(this.hasValue())return Ho.slots[this.id]},c.prototype.withValue=function(l,u,_,D){var O,A=((O={__proto__:null})[this.id]=l,O),N=Ho;Ho={parent:N,slots:A};try{return u.apply(D,_)}finally{Ho=N}},c.bind=function(l){var u=Ho;return function(){var _=Ho;try{return Ho=u,l.apply(this,arguments)}finally{Ho=_}}},c.noContext=function(l,u,_){if(!Ho)return l.apply(_,u);var D=Ho;try{return Ho=null,l.apply(_,u)}finally{Ho=D}},c}();try{Object.defineProperty(bl,Ll,{value:bl[Ll]=c,enumerable:!1,writable:!1,configurable:!1})}finally{return c}}();function yf(){}var Tf=function(){function c(l,u){void 0===l&&(l=1/0),void 0===u&&(u=yf),this.max=l,this.dispose=u,this.map=new Map,this.newest=null,this.oldest=null}return c.prototype.has=function(l){return this.map.has(l)},c.prototype.get=function(l){var u=this.getEntry(l);return u&&u.value},c.prototype.getEntry=function(l){var u=this.map.get(l);if(u&&u!==this.newest){var _=u.older,D=u.newer;D&&(D.older=_),_&&(_.newer=D),u.older=this.newest,u.older.newer=u,u.newer=null,this.newest=u,u===this.oldest&&(this.oldest=D)}return u},c.prototype.set=function(l,u){var _=this.getEntry(l);return _?_.value=u:(_={key:l,value:u,newer:null,older:this.newest},this.newest&&(this.newest.newer=_),this.newest=_,this.oldest=this.oldest||_,this.map.set(l,_),_.value)},c.prototype.clean=function(){for(;this.oldest&&this.map.size>this.max;)this.delete(this.oldest.key)},c.prototype.delete=function(l){var u=this.map.get(l);return!!u&&(u===this.newest&&(this.newest=u.older),u===this.oldest&&(this.oldest=u.newer),u.newer&&(u.newer.older=u.older),u.older&&(u.older.newer=u.newer),this.map.delete(l),this.dispose(u.value,l),!0)},c}(),Ra=new Bl,Df=[],Fl=[];function Ss(c,l){if(!c)throw new Error(l||"assertion failure")}function ju(c){switch(c.length){case 0:throw new Error("unknown value");case 1:return c[0];case 2:throw c[1]}}var xf=function(){function c(l,u){this.fn=l,this.args=u,this.parents=new Set,this.childValues=new Map,this.dirtyChildren=null,this.dirty=!0,this.recomputing=!1,this.value=[],++c.count}return c.prototype.recompute=function(){if(Ss(!this.recomputing,"already recomputing"),function(c){var l=Ra.getValue();if(l)return c.parents.add(l),l.childValues.has(c)||l.childValues.set(c,[]),xs(c)?Ju(l,c):$u(l,c),l}(this)||!Nl(this))return xs(this)?function(c){var l=qu(c);return Ra.withValue(c,Af,[c]),function(c){if("function"==typeof c.subscribe)try{Ul(c),c.unsubscribe=c.subscribe.apply(null,c.args)}catch(l){return c.setDirty(),!1}return!0}(c)&&function(c){c.dirty=!1,!xs(c)&&Qu(c)}(c),l.forEach(Nl),ju(c.value)}(this):ju(this.value)},c.prototype.setDirty=function(){this.dirty||(this.dirty=!0,this.value.length=0,Zu(this),Ul(this))},c.prototype.dispose=function(){var l=this;qu(this).forEach(Nl),Ul(this),this.parents.forEach(function(u){u.setDirty(),ed(u,l)})},c.count=0,c}();function Af(c){c.recomputing=!0,c.value.length=0;try{c.value[0]=c.fn.apply(null,c.args)}catch(l){c.value[1]=l}c.recomputing=!1}function xs(c){return c.dirty||!(!c.dirtyChildren||!c.dirtyChildren.size)}function Zu(c){c.parents.forEach(function(l){return Ju(l,c)})}function Qu(c){c.parents.forEach(function(l){return $u(l,c)})}function Ju(c,l){if(Ss(c.childValues.has(l)),Ss(xs(l)),c.dirtyChildren){if(c.dirtyChildren.has(l))return}else c.dirtyChildren=Fl.pop()||new Set;c.dirtyChildren.add(l),Zu(c)}function $u(c,l){Ss(c.childValues.has(l)),Ss(!xs(l));var u=c.childValues.get(l);0===u.length?c.childValues.set(l,function(c){return c.slice(0)}(l.value)):function(c,l){var u=c.length;return u>0&&u===l.length&&c[u-1]===l[u-1]}(u,l.value)||c.setDirty(),Xu(c,l),!xs(c)&&Qu(c)}function Xu(c,l){var u=c.dirtyChildren;u&&(u.delete(l),0===u.size&&(Fl.length<100&&Fl.push(u),c.dirtyChildren=null))}function Nl(c){return 0===c.parents.size&&"function"==typeof c.reportOrphan&&!0===c.reportOrphan()}function qu(c){var l=Df;return c.childValues.size>0&&(l=[],c.childValues.forEach(function(u,_){ed(c,_),l.push(_)})),Ss(null===c.dirtyChildren),l}function ed(c,l){l.parents.delete(c),c.childValues.delete(l),Xu(c,l)}function Ul(c){var l=c.unsubscribe;"function"==typeof l&&(c.unsubscribe=void 0,l())}var Wl=function(){function c(l){this.weakness=l}return c.prototype.lookup=function(){for(var l=[],u=0;u<arguments.length;u++)l[u]=arguments[u];return this.lookupArray(l)},c.prototype.lookupArray=function(l){var u=this;return l.forEach(function(_){return u=u.getChildTrie(_)}),u.data||(u.data=Object.create(null))},c.prototype.getChildTrie=function(l){var u=this.weakness&&function(c){switch(typeof c){case"object":if(null===c)break;case"function":return!0}return!1}(l)?this.weak||(this.weak=new WeakMap):this.strong||(this.strong=new Map),_=u.get(l);return _||u.set(l,_=new c(this.weakness)),_},c}(),Bf=new Wl("function"==typeof WeakMap);function wf(){for(var c=[],l=0;l<arguments.length;l++)c[l]=arguments[l];return Bf.lookupArray(c)}var Vl=new Set;function Ys(c,l){void 0===l&&(l=Object.create(null));var u=new Tf(l.max||Math.pow(2,16),function(A){return A.dispose()}),_=!!l.disposable,D=l.makeCacheKey||wf;function O(){if(!_||Ra.hasValue()){var A=D.apply(null,arguments);if(void 0===A)return c.apply(null,arguments);var N=Array.prototype.slice.call(arguments),J=u.get(A);J?J.args=N:(J=new xf(c,N),u.set(A,J),J.subscribe=l.subscribe,_&&(J.reportOrphan=function(){return u.delete(A)}));var H=J.recompute();return u.set(A,J),Vl.add(u),Ra.hasValue()||(Vl.forEach(function(he){return he.clean()}),Vl.clear()),_?void 0:H}}return O.dirty=function(){var A=D.apply(null,arguments),N=void 0!==A&&u.get(A);N&&N.setDirty()},O}var Ff=function(){function c(){}return c.prototype.ensureReady=function(){return Promise.resolve()},c.prototype.canBypassInit=function(){return!0},c.prototype.match=function(l,u,_){var D=_.store.get(l.id),O="ROOT_QUERY"===l.id;if(!D)return O;var A=D.__typename,N=void 0===A?O&&"Query":A;return!(!N||N!==u)||(!0===El("test")||!0,"heuristic")},c}(),od=(function(){function c(l){l&&l.introspectionQueryResultData?(this.possibleTypesMap=this.parseIntrospectionResult(l.introspectionQueryResultData),this.isReady=!0):this.isReady=!1,this.match=this.match.bind(this)}c.prototype.match=function(l,u,_){Zn(this.isReady,1);var D=_.store.get(l.id),O="ROOT_QUERY"===l.id;if(!D)return O;var A=D.__typename,N=void 0===A?O&&"Query":A;if(Zn(N,2),N===u)return!0;var J=this.possibleTypesMap[u];return!!(N&&J&&J.indexOf(N)>-1)},c.prototype.parseIntrospectionResult=function(l){var u={};return l.__schema.types.forEach(function(_){("UNION"===_.kind||"INTERFACE"===_.kind)&&(u[_.name]=_.possibleTypes.map(function(D){return D.name}))}),u}}(),Object.prototype.hasOwnProperty),Ms=function(){function c(l){var u=this;void 0===l&&(l=Object.create(null)),this.data=l,this.depend=Ys(function(_){return u.data[_]},{disposable:!0,makeCacheKey:function(_){return _}})}return c.prototype.toObject=function(){return this.data},c.prototype.get=function(l){return this.depend(l),this.data[l]},c.prototype.set=function(l,u){u!==this.data[l]&&(this.data[l]=u,this.depend.dirty(l))},c.prototype.delete=function(l){od.call(this.data,l)&&(delete this.data[l],this.depend.dirty(l))},c.prototype.clear=function(){this.replace(null)},c.prototype.replace=function(l){var u=this;l?(Object.keys(l).forEach(function(_){u.set(_,l[_])}),Object.keys(this.data).forEach(function(_){od.call(l,_)||u.delete(_)})):Object.keys(this.data).forEach(function(_){u.delete(_)})},c}();function id(c){return new Ms(c)}var Nf=function(){function c(l){var u=this,_=void 0===l?{}:l,D=_.cacheKeyRoot,O=void 0===D?new Wl(_l):D,A=_.freezeResults,J=this,H=J.executeStoreQuery,he=J.executeSelectionSet,Ae=J.executeSubSelectedArray;this.freezeResults=void 0!==A&&A,this.executeStoreQuery=Ys(function(ge){return H.call(u,ge)},{makeCacheKey:function(ge){var ft=ge.rootValue,dt=ge.contextValue;if(dt.store instanceof Ms)return O.lookup(dt.store,ge.query,ge.fragmentMatcher,JSON.stringify(ge.variableValues),ft.id)}}),this.executeSelectionSet=Ys(function(ge){return he.call(u,ge)},{makeCacheKey:function(ge){var ft=ge.rootValue,dt=ge.execContext;if(dt.contextValue.store instanceof Ms)return O.lookup(dt.contextValue.store,ge.selectionSet,dt.fragmentMatcher,JSON.stringify(dt.variableValues),ft.id)}}),this.executeSubSelectedArray=Ys(function(ge){return Ae.call(u,ge)},{makeCacheKey:function(ge){var dt=ge.execContext;if(dt.contextValue.store instanceof Ms)return O.lookup(dt.contextValue.store,ge.field,ge.array,JSON.stringify(dt.variableValues))}})}return c.prototype.readQueryFromStore=function(l){return this.diffQueryAgainstStore(Jo(Jo({},l),{returnPartialData:!1})).result},c.prototype.diffQueryAgainstStore=function(l){var u=l.store,_=l.query,D=l.variables,O=l.previousResult,A=l.returnPartialData,N=void 0===A||A,J=l.rootId,H=void 0===J?"ROOT_QUERY":J,he=l.fragmentMatcherFunction,Ae=l.config;D=pl({},ml(function(c){var l=Ds(c);return Zn(l&&"query"===l.operation,6),l}(_)),D);var ft=this.executeStoreQuery({query:_,rootValue:{type:"id",id:H,generated:!0,typename:"Query"},contextValue:{store:u,dataIdFromObject:Ae&&Ae.dataIdFromObject,cacheRedirects:Ae&&Ae.cacheRedirects||{}},variableValues:D,fragmentMatcher:he}),dt=ft.missing&&ft.missing.length>0;return dt&&!N&&ft.missing.forEach(function(Kt){if(!Kt.tolerable)throw new Go(8)}),O&&xi(O,ft.result)&&(ft.result=O),{result:ft.result,complete:!dt}},c.prototype.executeStoreQuery=function(l){var u=l.query,_=l.rootValue,D=l.contextValue,O=l.variableValues,A=l.fragmentMatcher,N=void 0===A?Uf:A,J=fl(u),he=Ea(va(u));return this.executeSelectionSet({selectionSet:J.selectionSet,rootValue:_,execContext:{query:u,fragmentMap:he,contextValue:D,variableValues:O,fragmentMatcher:N}})},c.prototype.executeSelectionSet=function(l){var u=this,_=l.selectionSet,D=l.rootValue,O=l.execContext,A=O.fragmentMap,N=O.contextValue,J=O.variableValues,H={result:null},he=[],Ae=N.store.get(D.id),ge=Ae&&Ae.__typename||"ROOT_QUERY"===D.id&&"Query"||void 0;function Xe(ft){var dt;return ft.missing&&(H.missing=H.missing||[],(dt=H.missing).push.apply(dt,ft.missing)),ft.result}return _.selections.forEach(function(ft){var dt;if(dl(ft,J))if(Rr(ft)){var Kt=Xe(u.executeField(Ae,ge,ft,O));void 0!==Kt&&he.push(((dt={})[Ks(ft)]=Kt,dt))}else{var Jt=void 0;if(fa(ft))Jt=ft;else if(!(Jt=A[ft.name.value]))throw new Go(9);var dn=Jt.typeCondition&&Jt.typeCondition.name.value,Dn=!dn||O.fragmentMatcher(D,dn,N);if(Dn){var fn=u.executeSelectionSet({selectionSet:Jt.selectionSet,rootValue:D,execContext:O});"heuristic"===Dn&&fn.missing&&(fn=Jo(Jo({},fn),{missing:fn.missing.map(function(yn){return Jo(Jo({},yn),{tolerable:!0})})})),he.push(Xe(fn))}}}),H.result=Tl(he),H},c.prototype.executeField=function(l,u,_,D){var O=D.variableValues,A=D.contextValue,he=function(c,l,u,_,D,O){var N=O.directives,J=u;(_||N)&&(J=ru(J,_,N));var H=void 0;if(c&&void 0===(H=c[J])&&D.cacheRedirects&&"string"==typeof l){var he=D.cacheRedirects[l];if(he){var Ae=he[u];Ae&&(H=Ae(c,_,{getCacheKey:function(ge){var Xe=D.dataIdFromObject(ge);return Xe&&ga({id:Xe,typename:ge.__typename})}}))}}return void 0===H?{result:H,missing:[{object:c,fieldName:J,tolerable:!1}]}:(function(c){return null!=c&&"object"==typeof c&&"json"===c.type}(H)&&(H=H.json),{result:H})}(l,u,_.name.value,ul(_,O),A,{resultKey:Ks(_),directives:Qp(_,O)});return Array.isArray(he.result)?this.combineExecResults(he,this.executeSubSelectedArray({field:_,array:he.result,execContext:D})):_.selectionSet?null==he.result?he:this.combineExecResults(he,this.executeSelectionSet({selectionSet:_.selectionSet,rootValue:he.result,execContext:D})):(rd(_,he.result),he)},c.prototype.combineExecResults=function(){for(var l=[],u=0;u<arguments.length;u++)l[u]=arguments[u];var _;return l.forEach(function(D){D.missing&&(_=_||[]).push.apply(_,D.missing)}),{result:l.pop().result,missing:_}},c.prototype.executeSubSelectedArray=function(l){var A,u=this,_=l.field,D=l.array,O=l.execContext;function N(J){return J.missing&&(A=A||[]).push.apply(A,J.missing),J.result}return{result:D=D.map(function(J){return null===J?null:Array.isArray(J)?N(u.executeSubSelectedArray({field:_,array:J,execContext:O})):_.selectionSet?N(u.executeSelectionSet({selectionSet:_.selectionSet,rootValue:J,execContext:O})):(rd(_,J),J)}),missing:A}},c}();function rd(c,l){if(!c.selectionSet&&ma(l))throw new Go(10)}function Uf(){return!0}var Aa=function(){function c(l){void 0===l&&(l=Object.create(null)),this.data=l}return c.prototype.toObject=function(){return this.data},c.prototype.get=function(l){return this.data[l]},c.prototype.set=function(l,u){this.data[l]=u},c.prototype.delete=function(l){this.data[l]=void 0},c.prototype.clear=function(){this.data=Object.create(null)},c.prototype.replace=function(l){this.data=l||Object.create(null)},c}(),Vf=function(c){function l(){var u=null!==c&&c.apply(this,arguments)||this;return u.type="WriteError",u}return Pl(l,c),l}(Error),Gf=function(){function c(){}return c.prototype.writeQueryToStore=function(l){var u=l.query,_=l.result,D=l.store,O=void 0===D?id():D;return this.writeResultToStore({dataId:"ROOT_QUERY",result:_,document:u,store:O,variables:l.variables,dataIdFromObject:l.dataIdFromObject,fragmentMatcherFunction:l.fragmentMatcherFunction})},c.prototype.writeResultToStore=function(l){var u=l.dataId,_=l.result,D=l.document,O=l.store,A=void 0===O?id():O,N=l.variables,J=l.dataIdFromObject,H=l.fragmentMatcherFunction,he=Ds(D);try{return this.writeSelectionSetToStore({result:_,dataId:u,selectionSet:he.selectionSet,context:{store:A,processedData:{},variables:pl({},ml(he),N),dataIdFromObject:J,fragmentMap:Ea(va(D)),fragmentMatcherFunction:H}})}catch(Ae){throw function(c,l){var u=new Vf("Error writing result to store for query:\n "+JSON.stringify(l));return u.message+="\n"+c.message,u.stack=c.stack,u}(Ae,D)}},c.prototype.writeSelectionSetToStore=function(l){var u=this,_=l.result,D=l.dataId,A=l.context,N=A.variables,J=A.store,H=A.fragmentMap;return l.selectionSet.selections.forEach(function(he){var Ae;if(dl(he,N))if(Rr(he)){var ge=Ks(he),Xe=_[ge];void 0!==Xe?u.writeFieldToStore({dataId:D,value:Xe,field:he,context:A}):he.directives&&he.directives.length&&(he.directives.some(function(Rn){return Rn.name&&"defer"===Rn.name.value}),he.directives.some(function(Rn){return Rn.name&&"client"===Rn.name.value}))}else{var Kt=void 0;fa(he)?Kt=he:Zn(Kt=(H||{})[he.name.value],3);var Jt=!0;if(A.fragmentMatcherFunction&&Kt.typeCondition){var dn=D||"self",Dn=ga({id:dn,typename:void 0}),fn={store:new Aa((Ae={},Ae[dn]=_,Ae)),cacheRedirects:{}},yn=A.fragmentMatcherFunction(Dn,Kt.typeCondition.name.value,fn);El("production"),Jt=!!yn}Jt&&u.writeSelectionSetToStore({result:_,selectionSet:Kt.selectionSet,dataId:D,context:A})}}),J},c.prototype.writeFieldToStore=function(l){var u,he,Ae,_=l.field,D=l.value,O=l.dataId,A=l.context,J=A.dataIdFromObject,H=A.store,ge=function(c,l){var u=null;c.directives&&(u={},c.directives.forEach(function(D){u[D.name.value]={},D.arguments&&D.arguments.forEach(function(O){return Ts(u[D.name.value],O.name,O.value,l)})}));var _=null;return c.arguments&&c.arguments.length&&(_={},c.arguments.forEach(function(D){return Ts(_,D.name,D.value,l)})),ru(c.name.value,_,u)}(_,A.variables);if(_.selectionSet&&null!==D)if(Array.isArray(D))he=this.processArrayValue(D,O+"."+ge,_.selectionSet,A);else{var ft=O+"."+ge,dt=!0;if(Kl(ft)||(ft="$"+ft),J){var Kt=J(D);Zn(!Kt||!Kl(Kt),4),(Kt||"number"==typeof Kt&&0===Kt)&&(ft=Kt,dt=!1)}ad(ft,_,A.processedData)||this.writeSelectionSetToStore({dataId:ft,result:D,selectionSet:_.selectionSet,context:A});var Jt=D.__typename;he=ga({id:ft,typename:Jt},dt);var dn=(Ae=H.get(O))&&Ae[ge];if(dn!==he&&ma(dn)){var Dn=void 0!==dn.typename,fn=void 0!==Jt,yn=Dn&&fn&&dn.typename!==Jt;Zn(!dt||dn.generated||yn,5),Zn(!Dn||fn,6),dn.generated&&(yn?dt||H.delete(dn.id):sd(dn.id,he.id,H))}}else he=null!=D&&"object"==typeof D?{type:"json",json:D}:D;(!(Ae=H.get(O))||!xi(he,Ae[ge]))&&H.set(O,Jo(Jo({},Ae),((u={})[ge]=he,u)))},c.prototype.processArrayValue=function(l,u,_,D){var O=this;return l.map(function(A,N){if(null===A)return null;var J=u+"."+N;if(Array.isArray(A))return O.processArrayValue(A,J,_,D);var H=!0;if(D.dataIdFromObject){var he=D.dataIdFromObject(A);he&&(J=he,H=!1)}return ad(J,_,D.processedData)||O.writeSelectionSetToStore({dataId:J,result:A,selectionSet:_,context:D}),ga({id:J,typename:A.__typename},H)})},c}();function Kl(c){return"$"===c[0]}function sd(c,l,u){if(c===l)return!1;var _=u.get(c),D=u.get(l),O=!1;Object.keys(_).forEach(function(N){var J=_[N],H=D[N];ma(J)&&Kl(J.id)&&ma(H)&&!xi(J,H)&&sd(J.id,H.id,u)&&(O=!0)}),u.delete(c);var A=Jo(Jo({},_),D);return xi(A,D)?O:(u.set(l,A),!0)}function ad(c,l,u){if(!u)return!1;if(u[c]){if(u[c].indexOf(l)>=0)return!0;u[c].push(l)}else u[c]=[l];return!1}var Hf={fragmentMatcher:new Ff,dataIdFromObject:function(c){if(c.__typename){if(void 0!==c.id)return c.__typename+":"+c.id;if(void 0!==c._id)return c.__typename+":"+c._id}return null},addTypename:!0,resultCaching:!0,freezeResults:!1},zf=Object.prototype.hasOwnProperty,ld=function(c){function l(u,_,D){var O=c.call(this,Object.create(null))||this;return O.optimisticId=u,O.parent=_,O.transaction=D,O}return Pl(l,c),l.prototype.toObject=function(){return Jo(Jo({},this.parent.toObject()),this.data)},l.prototype.get=function(u){return zf.call(this.data,u)?this.data[u]:this.parent.get(u)},l}(Aa),kf=function(c){function l(u){void 0===u&&(u={});var _=c.call(this)||this;_.watches=new Set,_.typenameDocumentCache=new Map,_.cacheKeyRoot=new Wl(_l),_.silenceBroadcast=!1,_.config=Jo(Jo({},Hf),u),_.config.customResolvers&&(_.config.cacheRedirects=_.config.customResolvers),_.config.cacheResolvers&&(_.config.cacheRedirects=_.config.cacheResolvers),_.addTypename=!!_.config.addTypename,_.data=_.config.resultCaching?new Ms:new Aa,_.optimisticData=_.data,_.storeWriter=new Gf,_.storeReader=new Nf({cacheKeyRoot:_.cacheKeyRoot,freezeResults:u.freezeResults});var D=_,O=D.maybeBroadcastWatch;return _.maybeBroadcastWatch=Ys(function(A){return O.call(_,A)},{makeCacheKey:function(A){if(!A.optimistic&&!A.previousResult&&D.data instanceof Ms)return D.cacheKeyRoot.lookup(A.query,JSON.stringify(A.variables))}}),_}return Pl(l,c),l.prototype.restore=function(u){return u&&this.data.replace(u),this},l.prototype.extract=function(u){return void 0===u&&(u=!1),(u?this.optimisticData:this.data).toObject()},l.prototype.read=function(u){if("string"==typeof u.rootId&&void 0===this.data.get(u.rootId))return null;var _=this.config.fragmentMatcher,D=_&&_.match;return this.storeReader.readQueryFromStore({store:u.optimistic?this.optimisticData:this.data,query:this.transformDocument(u.query),variables:u.variables,rootId:u.rootId,fragmentMatcherFunction:D,previousResult:u.previousResult,config:this.config})||null},l.prototype.write=function(u){var _=this.config.fragmentMatcher,D=_&&_.match;this.storeWriter.writeResultToStore({dataId:u.dataId,result:u.result,variables:u.variables,document:this.transformDocument(u.query),store:this.data,dataIdFromObject:this.config.dataIdFromObject,fragmentMatcherFunction:D}),this.broadcastWatches()},l.prototype.diff=function(u){var _=this.config.fragmentMatcher,D=_&&_.match;return this.storeReader.diffQueryAgainstStore({store:u.optimistic?this.optimisticData:this.data,query:this.transformDocument(u.query),variables:u.variables,returnPartialData:u.returnPartialData,previousResult:u.previousResult,fragmentMatcherFunction:D,config:this.config})},l.prototype.watch=function(u){var _=this;return this.watches.add(u),function(){_.watches.delete(u)}},l.prototype.evict=function(u){throw new Go(7)},l.prototype.reset=function(){return this.data.clear(),this.broadcastWatches(),Promise.resolve()},l.prototype.removeOptimistic=function(u){for(var _=[],D=0,O=this.optimisticData;O instanceof ld;)O.optimisticId===u?++D:_.push(O),O=O.parent;if(D>0){for(this.optimisticData=O;_.length>0;){var A=_.pop();this.performTransaction(A.transaction,A.optimisticId)}this.broadcastWatches()}},l.prototype.performTransaction=function(u,_){var O=this.data,A=this.silenceBroadcast;this.silenceBroadcast=!0,"string"==typeof _&&(this.data=this.optimisticData=new ld(_,this.optimisticData,u));try{u(this)}finally{this.silenceBroadcast=A,this.data=O}this.broadcastWatches()},l.prototype.recordOptimisticTransaction=function(u,_){return this.performTransaction(u,_)},l.prototype.transformDocument=function(u){if(this.addTypename){var _=this.typenameDocumentCache.get(u);return _||(_=function(c){return Bt(is(c),{SelectionSet:{enter:function(l,u,_){if(!_||"OperationDefinition"!==_.kind){var D=l.selections;if(D&&!D.some(function(N){return Rr(N)&&("__typename"===N.name.value||0===N.name.value.lastIndexOf("__",0))})){var A=_;if(!(Rr(A)&&A.directives&&A.directives.some(function(N){return"export"===N.name.value})))return ri(ri({},l),{selections:Qn(D,[nh])})}}}}})}(u),this.typenameDocumentCache.set(u,_),this.typenameDocumentCache.set(_,_)),_}return u},l.prototype.broadcastWatches=function(){var u=this;this.silenceBroadcast||this.watches.forEach(function(_){return u.maybeBroadcastWatch(_)})},l.prototype.maybeBroadcastWatch=function(u){u.callback(this.diff({query:u.query,variables:u.variables,previousResult:u.previousResult&&u.previousResult(),optimistic:u.optimistic}))},l}(gf),Gl=function(c,l){return(Gl=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(u,_){u.__proto__=_}||function(u,_){for(var D in _)_.hasOwnProperty(D)&&(u[D]=_[D])})(c,l)};function Lr(c,l){function u(){this.constructor=c}Gl(c,l),c.prototype=null===l?Object.create(l):(u.prototype=l.prototype,new u)}var on=function(){return(on=Object.assign||function(l){for(var u,_=1,D=arguments.length;_<D;_++)for(var O in u=arguments[_])Object.prototype.hasOwnProperty.call(u,O)&&(l[O]=u[O]);return l}).apply(this,arguments)};function Pa(c,l){var u={};for(var _ in c)Object.prototype.hasOwnProperty.call(c,_)&&l.indexOf(_)<0&&(u[_]=c[_]);if(null!=c&&"function"==typeof Object.getOwnPropertySymbols){var D=0;for(_=Object.getOwnPropertySymbols(c);D<_.length;D++)l.indexOf(_[D])<0&&Object.prototype.propertyIsEnumerable.call(c,_[D])&&(u[_[D]]=c[_[D]])}return u}function ss(c,l,u,_){return new(u||(u=Promise))(function(O,A){function N(he){try{H(_.next(he))}catch(Ae){A(Ae)}}function J(he){try{H(_.throw(he))}catch(Ae){A(Ae)}}function H(he){he.done?O(he.value):function(O){return O instanceof u?O:new u(function(A){A(O)})}(he.value).then(N,J)}H((_=_.apply(c,l||[])).next())})}function as(c,l){var _,D,O,A,u={label:0,sent:function(){if(1&O[0])throw O[1];return O[1]},trys:[],ops:[]};return A={next:N(0),throw:N(1),return:N(2)},"function"==typeof Symbol&&(A[Symbol.iterator]=function(){return this}),A;function N(H){return function(he){return function(H){if(_)throw new TypeError("Generator is already executing.");for(;u;)try{if(_=1,D&&(O=2&H[0]?D.return:H[0]?D.throw||((O=D.return)&&O.call(D),0):D.next)&&!(O=O.call(D,H[1])).done)return O;switch(D=0,O&&(H=[2&H[0],O.value]),H[0]){case 0:case 1:O=H;break;case 4:return u.label++,{value:H[1],done:!1};case 5:u.label++,D=H[1],H=[0];continue;case 7:H=u.ops.pop(),u.trys.pop();continue;default:if(!(O=(O=u.trys).length>0&&O[O.length-1])&&(6===H[0]||2===H[0])){u=0;continue}if(3===H[0]&&(!O||H[1]>O[0]&&H[1]<O[3])){u.label=H[1];break}if(6===H[0]&&u.label<O[1]){u.label=O[1],O=H;break}if(O&&u.label<O[2]){u.label=O[2],u.ops.push(H);break}O[2]&&u.ops.pop(),u.trys.pop();continue}H=l.call(c,u)}catch(he){H=[6,he],D=0}finally{_=O=0}if(5&H[0])throw H[1];return{value:H[0]?H[1]:void 0,done:!0}}([H,he])}}}function Hl(){for(var c=0,l=0,u=arguments.length;l<u;l++)c+=arguments[l].length;var _=Array(c),D=0;for(l=0;l<u;l++)for(var O=arguments[l],A=0,N=O.length;A<N;A++,D++)_[D]=O[A];return _}
/*! *****************************************************************************
    Copyright (c) Microsoft Corporation.
    
    Permission to use, copy, modify, and/or distribute this software for any
    purpose with or without fee is hereby granted.
    
    THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
    REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
    AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
    INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
    LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
    OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
    PERFORMANCE OF THIS SOFTWARE.
    ***************************************************************************** */
var Yl=function(c,l){return(Yl=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(u,_){u.__proto__=_}||function(u,_){for(var D in _)Object.prototype.hasOwnProperty.call(_,D)&&(u[D]=_[D])})(c,l)},zl="Invariant Violation",hd=Object.setPrototypeOf,$f=void 0===hd?function(c,l){return c.__proto__=l,c}:hd,Yo=function(c){function l(u){void 0===u&&(u=zl);var _=c.call(this,"number"==typeof u?zl+": "+u+" (see https://github.com/apollographql/invariant-packages)":u)||this;return _.framesToPop=1,_.name=zl,$f(_,l.prototype),_}return function(c,l){if("function"!=typeof l&&null!==l)throw new TypeError("Class extends value "+String(l)+" is not a constructor or null");function u(){this.constructor=c}Yl(c,l),c.prototype=null===l?Object.create(l):(u.prototype=l.prototype,new u)}(l,c),l}(Error);function co(c,l){if(!c)throw new Yo(l)}var Ba=["log","warn","error","silent"],kl=Ba.indexOf("log");function jl(c){return function(){if(Ba.indexOf(c)>=kl)return console[c].apply(console,arguments)}}function wa(c,l){var u=c.directives;return!u||!u.length||function(c){var l=[];return c&&c.length&&c.forEach(function(u){if(function(c){var l=c.name.value;return"skip"===l||"include"===l}(u)){var _=u.arguments;co(_&&1===_.length,39);var O=_[0];co(O.name&&"if"===O.name.value,40);var A=O.value;co(A&&("Variable"===A.kind||"BooleanValue"===A.kind),41),l.push({directive:u,ifArgument:O})}}),l}(u).every(function(_){var D=_.directive,O=_.ifArgument,A=!1;return"Variable"===O.value.kind?co(void 0!==(A=l&&l[O.value.name.value]),38):A=O.value.value,"skip"===D.name.value?!A:A})}function Fa(c,l){return function(c){var l=[];return Bt(c,{Directive:function(u){l.push(u.name.value)}}),l}(l).some(function(u){return c.indexOf(u)>-1})}function em(c){return c&&Fa(["client"],c)&&Fa(["export"],c)}function om(c,l){var u=l,_=[];return c.definitions.forEach(function(O){if("OperationDefinition"===O.kind)throw new Yo(42);"FragmentDefinition"===O.kind&&_.push(O)}),void 0===u&&(co(1===_.length,43),u=_[0].name.value),on(on({},c),{definitions:Hl([{kind:"OperationDefinition",operation:"query",selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:u}}]}}],c.definitions)})}function Na(c){void 0===c&&(c=[]);var l={};return c.forEach(function(u){l[u.name.value]=u}),l}function Ua(c,l){switch(c.kind){case"InlineFragment":return c;case"FragmentSpread":var u=l&&l[c.name.value];return co(u,44),u;default:return null}}function Rs(c){return{__ref:String(c)}}function ti(c){return Boolean(c&&"object"==typeof c&&"string"==typeof c.__ref)}function As(c,l,u,_){if(function(c){return"IntValue"===c.kind}(u)||function(c){return"FloatValue"===c.kind}(u))c[l.value]=Number(u.value);else if(function(c){return"BooleanValue"===c.kind}(u)||function(c){return"StringValue"===c.kind}(u))c[l.value]=u.value;else if(function(c){return"ObjectValue"===c.kind}(u)){var D={};u.fields.map(function(A){return As(D,A.name,A.value,_)}),c[l.value]=D}else if(function(c){return"Variable"===c.kind}(u))c[l.value]=(_||{})[u.name.value];else if(function(c){return"ListValue"===c.kind}(u))c[l.value]=u.values.map(function(A){var N={};return As(N,l,A,_),N[l.value]});else if(function(c){return"EnumValue"===c.kind}(u))c[l.value]=u.value;else{if(!function(c){return"NullValue"===c.kind}(u))throw new Yo(53);c[l.value]=null}}!function(c){c.log=jl("log"),c.warn=jl("warn"),c.error=jl("error")}(co||(co={})),"object"==typeof process&&"object"==typeof process.env&&process;var fm=["connection","include","skip","client","rest","export"];function fd(c,l,u){if(l&&u&&u.connection&&u.connection.key){if(u.connection.filter&&u.connection.filter.length>0){var _=u.connection.filter?u.connection.filter:[];_.sort();var D={};return _.forEach(function(N){D[N]=l[N]}),u.connection.key+"("+JSON.stringify(D)+")"}return u.connection.key}var O=c;if(l){var A=da()(l);O+="("+A+")"}return u&&Object.keys(u).forEach(function(N){-1===fm.indexOf(N)&&(u[N]&&Object.keys(u[N]).length?O+="@"+N+"("+JSON.stringify(u[N])+")":O+="@"+N)}),O}function md(c,l){if(c.arguments&&c.arguments.length){var u={};return c.arguments.forEach(function(_){return As(u,_.name,_.value,l)}),u}return null}function Ps(c){return c.alias?c.alias.value:c.name.value}function Zl(c,l,u){if("string"==typeof c.__typename)return c.__typename;for(var _=0,D=l.selections;_<D.length;_++){var O=D[_];if(Hi(O)){if("__typename"===O.name.value)return c[Ps(O)]}else{var A=Zl(c,Ua(O,u).selectionSet,u);if("string"==typeof A)return A}}}function Hi(c){return"Field"===c.kind}function gd(c){return"InlineFragment"===c.kind}function zs(c){return co(c&&"Document"===c.kind,45),co(c.definitions.filter(function(u){return"FragmentDefinition"!==u.kind}).map(function(u){if("OperationDefinition"!==u.kind)throw new Yo(46);return u}).length<=1,47),c}function ks(c){return zs(c),c.definitions.filter(function(l){return"OperationDefinition"===l.kind})[0]}function Ql(c){return c.definitions.filter(function(l){return"OperationDefinition"===l.kind&&l.name}).map(function(l){return l.name.value})[0]||null}function Wa(c){return c.definitions.filter(function(l){return"FragmentDefinition"===l.kind})}function Jl(c){zs(c);for(var l,u=0,_=c.definitions;u<_.length;u++){var D=_[u];if("OperationDefinition"===D.kind){var O=D.operation;if("query"===O||"mutation"===O||"subscription"===O)return D}"FragmentDefinition"===D.kind&&!l&&(l=D)}if(l)return l;throw new Yo(52)}function $l(c){var l=Object.create(null),u=c&&c.variableDefinitions;return u&&u.length&&u.forEach(function(_){_.defaultValue&&As(l,_.variable.name,_.defaultValue)}),l}function _d(c,l,u){var _=0;return c.forEach(function(D,O){l.call(this,D,O,c)&&(c[_++]=D)},u),c.length=_,c}var vd={kind:"Field",name:{kind:"Name",value:"__typename"}};function Ed(c,l){return c.selectionSet.selections.every(function(u){return"FragmentSpread"===u.kind&&Ed(l[u.name.value],l)})}function Xl(c){return Ed(ks(c)||function(c){co("Document"===c.kind,49),co(c.definitions.length<=1,50);var l=c.definitions[0];return co("FragmentDefinition"===l.kind,51),l}(c),Na(Wa(c)))?null:c}function ql(c){return function(u){return c.some(function(_){return _.name&&_.name===u.name.value||_.test&&_.test(u)})}}function Cd(c,l){var u=Object.create(null),_=[],D=Object.create(null),O=[],A=Xl(Bt(l,{Variable:{enter:function(N,J,H){"VariableDefinition"!==H.kind&&(u[N.name.value]=!0)}},Field:{enter:function(N){if(c&&N.directives&&c.some(function(H){return H.remove})&&N.directives&&N.directives.some(ql(c)))return N.arguments&&N.arguments.forEach(function(H){"Variable"===H.value.kind&&_.push({name:H.value.name.value})}),N.selectionSet&&yd(N.selectionSet).forEach(function(H){O.push({name:H.name.value})}),null}},FragmentSpread:{enter:function(N){D[N.name.value]=!0}},Directive:{enter:function(N){if(ql(c)(N))return null}}}));return A&&_d(_,function(N){return!!N.name&&!u[N.name]}).length&&(A=function(c,l){var u=function(c){return function(u){return c.some(function(_){return u.value&&"Variable"===u.value.kind&&u.value.name&&(_.name===u.value.name.value||_.test&&_.test(u))})}}(c);return Xl(Bt(l,{OperationDefinition:{enter:function(_){return on(on({},_),{variableDefinitions:_.variableDefinitions?_.variableDefinitions.filter(function(D){return!c.some(function(O){return O.name===D.variable.name.value})}):[]})}},Field:{enter:function(_){if(c.some(function(A){return A.remove})){var O=0;if(_.arguments&&_.arguments.forEach(function(A){u(A)&&(O+=1)}),1===O)return null}}},Argument:{enter:function(_){if(u(_))return null}}}))}(_,A)),A&&_d(O,function(N){return!!N.name&&!D[N.name]}).length&&(A=function(c,l){function u(_){if(c.some(function(D){return D.name===_.name.value}))return null}return Xl(Bt(l,{FragmentSpread:{enter:u},FragmentDefinition:{enter:u}}))}(O,A)),A}function ec(c){return Bt(zs(c),{SelectionSet:{enter:function(l,u,_){if(!_||"OperationDefinition"!==_.kind){var D=l.selections;if(D&&!D.some(function(N){return Hi(N)&&("__typename"===N.name.value||0===N.name.value.lastIndexOf("__",0))})){var A=_;if(!(Hi(A)&&A.directives&&A.directives.some(function(N){return"export"===N.name.value})))return on(on({},l),{selections:Hl(D,[vd])})}}}}})}ec.added=function(c){return c===vd};var _m={test:function(c){var l="connection"===c.name.value;return l&&(!c.arguments||c.arguments.some(function(u){return"key"===u.name.value})),l}};function yd(c){var l=[];return c.selections.forEach(function(u){(Hi(u)||gd(u))&&u.selectionSet?yd(u.selectionSet).forEach(function(_){return l.push(_)}):"FragmentSpread"===u.kind&&l.push(u)}),l}function Om(c){return"query"===Jl(c).operation?c:Bt(c,{OperationDefinition:{enter:function(D){return on(on({},D),{operation:"query"})}}})}var Sm=Object.prototype.hasOwnProperty;function Td(){for(var c=[],l=0;l<arguments.length;l++)c[l]=arguments[l];return tc(c)}function tc(c){var l=c[0]||{},u=c.length;if(u>1)for(var _=new nc,D=1;D<u;++D)l=_.merge(l,c[D]);return l}function Va(c){return null!==c&&"object"==typeof c}var xm=function(c,l,u){return this.merge(c[u],l[u])},nc=function(){function c(l){void 0===l&&(l=xm),this.reconciler=l,this.isObject=Va,this.pastCopies=new Set}return c.prototype.merge=function(l,u){for(var _=this,D=[],O=2;O<arguments.length;O++)D[O-2]=arguments[O];return Va(u)&&Va(l)?(Object.keys(u).forEach(function(A){if(Sm.call(l,A)){var N=l[A];if(u[A]!==N){var J=_.reconciler.apply(_,Hl([l,u,A],D));J!==N&&((l=_.shallowCopyForMerge(l))[A]=J)}}else(l=_.shallowCopyForMerge(l))[A]=u[A]}),l):u},c.prototype.shallowCopyForMerge=function(l){return Va(l)&&!this.pastCopies.has(l)&&(l=Array.isArray(l)?l.slice(0):on({__proto__:Object.getPrototypeOf(l)},l),this.pastCopies.add(l)),l},c}();e(23376);var Dd=yo().prototype,Od="@@observable";Dd[Od]||(Dd[Od]=function(){return this});var Am=Object.prototype.toString;function Pm(c){return ic(c)}function ic(c,l){switch(Am.call(c)){case"[object Array]":if((l=l||new Map).has(c))return l.get(c);var u=c.slice(0);return l.set(c,u),u.forEach(function(D,O){u[O]=ic(D,l)}),u;case"[object Object]":if((l=l||new Map).has(c))return l.get(c);var _=Object.create(Object.getPrototypeOf(c));return l.set(c,_),Object.keys(c).forEach(function(D){_[D]=ic(c[D],l)}),_;default:return c}}function js(c,l,u){var _=[];c.forEach(function(D){return D[l]&&_.push(D)}),_.forEach(function(D){return D[l](u)})}function xd(c,l,u){return new(yo())(function(_){var D=_.next,O=_.error,A=_.complete,N=0,J=!1,H={then:function(Xe){return new Promise(function(ft){return ft(Xe())})}};function he(Xe,ft){return Xe?function(dt){++N;var Kt=function(){return Xe(dt)};H=H.then(Kt,Kt).then(function(Jt){--N,D&&D.call(_,Jt),J&&Ae.complete()},function(Jt){throw--N,Jt}).catch(function(Jt){O&&O.call(_,Jt)})}:function(dt){return ft&&ft.call(_,dt)}}var Ae={next:he(l,D),error:he(u,O),complete:function(){J=!0,N||A&&A.call(_)}},ge=c.subscribe(Ae);return function(){return ge.unsubscribe()}})}function Md(c){function l(u){Object.defineProperty(c,u,{value:yo()})}return"function"==typeof Symbol&&Symbol.species&&l(Symbol.species),l("@@species"),c}function Rd(c){return c&&"function"==typeof c.then}var Zs=function(c){function l(u){var _=c.call(this,function(D){return _.addObserver(D),function(){return _.removeObserver(D)}})||this;return _.observers=new Set,_.addCount=0,_.promise=new Promise(function(D,O){_.resolve=D,_.reject=O}),_.handlers={next:function(D){null!==_.sub&&(_.latest=["next",D],js(_.observers,"next",D))},error:function(D){var O=_.sub;null!==O&&(O&&Promise.resolve().then(function(){return O.unsubscribe()}),_.sub=null,_.latest=["error",D],_.reject(D),js(_.observers,"error",D))},complete:function(){if(null!==_.sub){var D=_.sources.shift();D?Rd(D)?D.then(function(O){return _.sub=O.subscribe(_.handlers)}):_.sub=D.subscribe(_.handlers):(_.sub=null,_.latest&&"next"===_.latest[0]?_.resolve(_.latest[1]):_.resolve(),js(_.observers,"complete"))}}},_.cancel=function(D){_.reject(D),_.sources=[],_.handlers.complete()},_.promise.catch(function(D){}),"function"==typeof u&&(u=[new(yo())(u)]),Rd(u)?u.then(function(D){return _.start(D)},_.handlers.error):_.start(u),_}return Lr(l,c),l.prototype.start=function(u){void 0===this.sub&&(this.sources=Array.from(u),this.handlers.complete())},l.prototype.deliverLastMessage=function(u){if(this.latest){var _=this.latest[0],D=u[_];D&&D.call(u,this.latest[1]),null===this.sub&&"next"===_&&u.complete&&u.complete()}},l.prototype.addObserver=function(u){this.observers.has(u)||(this.deliverLastMessage(u),this.observers.add(u),++this.addCount)},l.prototype.removeObserver=function(u,_){this.observers.delete(u)&&--this.addCount<1&&!_&&this.handlers.error(new Error("Observable cancelled prematurely"))},l.prototype.cleanup=function(u){var _=this,D=!1,O=function(){D||(D=!0,_.observers.delete(A),u())},A={next:O,error:O,complete:O},N=this.addCount;this.addObserver(A),this.addCount=N},l}(yo());function Qs(c){return Array.isArray(c)&&c.length>0}function Ka(c){return c.errors&&c.errors.length>0||!1}Md(Zs);var Js="function"==typeof WeakMap&&!("object"==typeof navigator&&"ReactNative"===navigator.product);function rc(){for(var c=[],l=0;l<arguments.length;l++)c[l]=arguments[l];var u=Object.create(null);return c.forEach(function(_){!_||Object.keys(_).forEach(function(D){var O=_[D];void 0!==O&&(u[D]=O)})}),u}function Ad(c){return new(yo())(function(l){l.error(c)})}var Pd=function(c,l,u){var _=new Error(u);throw _.name="ServerError",_.response=c,_.statusCode=c.status,_.result=l,_};function Ld(c,l){return l?l(c):yo().of()}function $s(c){return"function"==typeof c?new hr(c):c}function Ga(c){return c.request.length<=1}!function(c){Lr(function(u,_){var D=c.call(this,u)||this;return D.link=_,D},c)}(Error);var hr=function(){function c(l){l&&(this.request=l)}return c.empty=function(){return new c(function(){return yo().of()})},c.from=function(l){return 0===l.length?c.empty():l.map($s).reduce(function(u,_){return u.concat(_)})},c.split=function(l,u,_){var D=$s(u),O=$s(_||new c(Ld));return Ga(D)&&Ga(O)?new c(function(A){return l(A)?D.request(A)||yo().of():O.request(A)||yo().of()}):new c(function(A,N){return l(A)?D.request(A,N)||yo().of():O.request(A,N)||yo().of()})},c.execute=function(l,u){return l.request(function(c,l){var u=on({},c);return Object.defineProperty(l,"setContext",{enumerable:!1,value:function(O){u=on(on({},u),"function"==typeof O?O(u):O)}}),Object.defineProperty(l,"getContext",{enumerable:!1,value:function(){return on({},u)}}),l}(u.context,function(c){var l={variables:c.variables||{},extensions:c.extensions||{},operationName:c.operationName,query:c.query};return l.operationName||(l.operationName="string"!=typeof l.query?Ql(l.query)||void 0:""),l}(function(c){for(var l=["query","operationName","variables","extensions","context"],u=0,_=Object.keys(c);u<_.length;u++)if(l.indexOf(_[u])<0)throw new Yo(26);return c}(u))))||yo().of()},c.concat=function(l,u){var _=$s(l);if(Ga(_))return _;var D=$s(u);return Ga(D)?new c(function(O){return _.request(O,function(A){return D.request(A)||yo().of()})||yo().of()}):new c(function(O,A){return _.request(O,function(N){return D.request(N,A)||yo().of()})||yo().of()})},c.prototype.split=function(l,u,_){return this.concat(c.split(l,u,_||new c(Ld)))},c.prototype.concat=function(l){return c.concat(this,l)},c.prototype.request=function(l,u){throw new Yo(21)},c.prototype.onError=function(l,u){if(u&&u.error)return u.error(l),!1;throw l},c.prototype.setOnError=function(l){return this.onError=l,this},c}(),sc=hr.execute,bd=Object.prototype.hasOwnProperty,ac=function(c,l){var u;try{u=JSON.stringify(c)}catch(D){var _=new Yo(23);throw _.parseError=D,_}return u},Vm={http:{includeQuery:!0,includeExtensions:!1},headers:{accept:"*/*","content-type":"application/json"},options:{method:"POST"}},jm=function(c){function l(u){void 0===u&&(u={});var _=c.call(this,function(c){void 0===c&&(c={});var l=c.uri,u=void 0===l?"/graphql":l,_=c.fetch,D=c.includeExtensions,O=c.useGETForQueries,A=c.includeUnusedVariables,N=void 0!==A&&A,J=Pa(c,["uri","fetch","includeExtensions","useGETForQueries","includeUnusedVariables"]);(function(c){if(!c&&"undefined"==typeof fetch)throw new Yo(22)})(_),_||(_=fetch);var H={http:{includeExtensions:D},options:J.fetchOptions,credentials:J.credentials,headers:J.headers};return new hr(function(he){var Ae=function(c,l){return c.getContext().uri||("function"==typeof l?l(c):l||"/graphql")}(he,u),ge=he.getContext(),Xe={};if(ge.clientAwareness){var ft=ge.clientAwareness,dt=ft.name,Kt=ft.version;dt&&(Xe["apollographql-client-name"]=dt),Kt&&(Xe["apollographql-client-version"]=Kt)}var Mn,Jt=on(on({},Xe),ge.headers),Dn=function(c,l){for(var u=[],_=2;_<arguments.length;_++)u[_-2]=arguments[_];var D=on(on({},l.options),{headers:l.headers,credentials:l.credentials}),O=l.http||{};u.forEach(function(Ae){D=on(on(on({},D),Ae.options),{headers:on(on({},D.headers),Ae.headers)}),Ae.credentials&&(D.credentials=Ae.credentials),O=on(on({},O),Ae.http)});var H=c.query,he={operationName:c.operationName,variables:c.variables};return O.includeExtensions&&(he.extensions=c.extensions),O.includeQuery&&(he.query=Vu(H)),{options:D,body:he}}(he,Vm,H,{http:ge.http,options:ge.fetchOptions,credentials:ge.credentials,headers:Jt}),fn=Dn.options,yn=Dn.body;if(yn.variables&&!N){var Rn=new Set(Object.keys(yn.variables));Bt(he.query,{Variable:function(di,pi,Lp){Lp&&"VariableDefinition"!==Lp.kind&&Rn.delete(di.name.value)}}),Rn.size&&(yn.variables=on({},yn.variables),Rn.forEach(function(di){delete yn.variables[di]}))}if(!fn.signal){var Pn=function(){if("undefined"==typeof AbortController)return{controller:!1,signal:!1};var c=new AbortController;return{controller:c,signal:c.signal}}();(Mn=Pn.controller)&&(fn.signal=Pn.signal)}if(O&&!he.query.definitions.some(function(di){return"OperationDefinition"===di.kind&&"mutation"===di.operation})&&(fn.method="GET"),"GET"===fn.method){var Ai=function(c,l){var u=[],_=function(Ae,ge){u.push(Ae+"="+encodeURIComponent(ge))};if("query"in l&&_("query",l.query),l.operationName&&_("operationName",l.operationName),l.variables){var D=void 0;try{D=ac(l.variables)}catch(Ae){return{parseError:Ae}}_("variables",D)}if(l.extensions){var O=void 0;try{O=ac(l.extensions)}catch(Ae){return{parseError:Ae}}_("extensions",O)}var A="",N=c,J=c.indexOf("#");-1!==J&&(A=c.substr(J),N=c.substr(0,J));var H=-1===N.indexOf("?")?"?":"&";return{newURI:N+H+u.join("&")+A}}(Ae,yn),Br=Ai.newURI,Ns=Ai.parseError;if(Ns)return Ad(Ns);Ae=Br}else try{fn.body=ac(yn)}catch(di){return Ad(di)}return new(yo())(function(di){return _(Ae,fn).then(function(pi){return he.setContext({response:pi}),pi}).then(function(c){return function(l){return l.text().then(function(u){try{return JSON.parse(u)}catch(D){var _=D;throw _.name="ServerParseError",_.response=l,_.statusCode=l.status,_.bodyText=u,_}}).then(function(u){return l.status>=300&&Pd(l,u,"Response not successful: Received status code "+l.status),!Array.isArray(u)&&!bd.call(u,"data")&&!bd.call(u,"errors")&&Pd(l,u,"Server response was missing for query '"+(Array.isArray(c)?c.map(function(_){return _.operationName}):c.operationName)+"'."),u})}}(he)).then(function(pi){return di.next(pi),di.complete(),pi}).catch(function(pi){"AbortError"!==pi.name&&(pi.result&&pi.result.errors&&pi.result.data&&di.next(pi.result),di.error(pi))}),function(){Mn&&Mn.abort()}})})}(u).request)||this;return _.options=u,_}return Lr(l,c),l}(hr),Bd=Object.prototype,wd=Bd.toString,Zm=Bd.hasOwnProperty,Fd=Function.prototype.toString,lc=new Map;function Yi(c,l){try{return cc(c,l)}finally{lc.clear()}}function cc(c,l){if(c===l)return!0;var u=wd.call(c);if(u!==wd.call(l))return!1;switch(u){case"[object Array]":if(c.length!==l.length)return!1;case"[object Object]":if(Ud(c,l))return!0;var D=Nd(c),O=Nd(l),A=D.length;if(A!==O.length)return!1;for(var N=0;N<A;++N)if(!Zm.call(l,D[N]))return!1;for(N=0;N<A;++N){var J=D[N];if(!cc(c[J],l[J]))return!1}return!0;case"[object Error]":return c.name===l.name&&c.message===l.message;case"[object Number]":if(c!=c)return l!=l;case"[object Boolean]":case"[object Date]":return+c==+l;case"[object RegExp]":case"[object String]":return c==""+l;case"[object Map]":case"[object Set]":if(c.size!==l.size)return!1;if(Ud(c,l))return!0;for(var H=c.entries(),he="[object Map]"===u;;){var Ae=H.next();if(Ae.done)break;var ge=Ae.value,Xe=ge[0],ft=ge[1];if(!l.has(Xe)||he&&!cc(ft,l.get(Xe)))return!1}return!0;case"[object AsyncFunction]":case"[object GeneratorFunction]":case"[object AsyncGeneratorFunction]":case"[object Function]":var dt=Fd.call(c);return dt===Fd.call(l)&&!function(c,l){var u=c.length-l.length;return u>=0&&c.indexOf(l,u)===u}(dt,Jm)}return!1}function Nd(c){return Object.keys(c).filter(Qm,c)}function Qm(c){return void 0!==this[c]}var Jm="{ [native code] }";function Ud(c,l){var u=lc.get(c);if(u){if(u.has(l))return!0}else lc.set(c,u=new Set);return u.add(l),!1}var Ls=function(c){function l(u){var _=u.graphQLErrors,D=u.networkError,O=u.errorMessage,A=u.extraInfo,N=c.call(this,O)||this;return N.graphQLErrors=_||[],N.networkError=D||null,N.message=O||function(c){var l="";return Qs(c.graphQLErrors)&&c.graphQLErrors.forEach(function(u){l+=(u?u.message:"Error message not found.")+"\n"}),c.networkError&&(l+=c.networkError.message+"\n"),l=l.replace(/\n$/,"")}(N),N.extraInfo=A,N.__proto__=l.prototype,N}return Lr(l,c),l}(Error),Ao=(()=>(function(c){c[c.loading=1]="loading",c[c.setVariables=2]="setVariables",c[c.fetchMore=3]="fetchMore",c[c.refetch=4]="refetch",c[c.poll=6]="poll",c[c.ready=7]="ready",c[c.error=8]="error"}(Ao||(Ao={})),Ao))();function Xs(c){return!!c&&c<7}var eg=function(){function c(l,u,_,D){this.observer=l,this.options=u,this.fetch=_,this.shouldFetch=D}return c.prototype.reobserve=function(l,u){l?this.updateOptions(l):this.updatePolling();var _=this.fetch(this.options,u);return this.concast&&this.concast.removeObserver(this.observer,!0),_.addObserver(this.observer),(this.concast=_).promise},c.prototype.updateOptions=function(l){return Object.assign(this.options,rc(l)),this.updatePolling(),this},c.prototype.stop=function(){this.concast&&(this.concast.removeObserver(this.observer),delete this.concast),this.pollingInfo&&(clearTimeout(this.pollingInfo.timeout),this.options.pollInterval=0,this.updatePolling())},c.prototype.updatePolling=function(){var l=this,_=this.pollingInfo,D=this.options.pollInterval;if(D){if((!_||_.interval!==D)&&(co(D,20),!1!==this.shouldFetch)){(_||(this.pollingInfo={})).interval=D;var A=function(){l.pollingInfo&&(l.shouldFetch&&l.shouldFetch()?l.reobserve({fetchPolicy:"network-only",nextFetchPolicy:l.options.fetchPolicy||"cache-first"},Ao.poll).then(N,N):N())},N=function(){var J=l.pollingInfo;J&&(clearTimeout(J.timeout),J.timeout=setTimeout(A,J.interval))};N()}}else _&&(clearTimeout(_.timeout),delete this.pollingInfo)},c}(),Wd=function(c){function l(u){var _=u.queryManager,D=u.queryInfo,O=u.options,A=c.call(this,function(J){return A.onSubscribe(J)})||this;A.observers=new Set,A.subscriptions=new Set,A.observer={next:function(J){(A.lastError||A.isDifferentFromLastResult(J))&&(A.updateLastResult(J),js(A.observers,"next",J))},error:function(J){A.updateLastResult(on(on({},A.lastResult),{error:J,errors:J.graphQLErrors,networkStatus:Ao.error,loading:!1})),js(A.observers,"error",A.lastError=J)}},A.isTornDown=!1,A.options=O,A.queryId=_.generateQueryId();var N=ks(O.query);return A.queryName=N&&N.name&&N.name.value,A.queryManager=_,A.queryInfo=D,A}return Lr(l,c),Object.defineProperty(l.prototype,"variables",{get:function(){return this.options.variables},enumerable:!1,configurable:!0}),l.prototype.result=function(){var u=this;return new Promise(function(_,D){var O={next:function(N){_(N),u.observers.delete(O),u.observers.size||u.queryManager.removeQuery(u.queryId),setTimeout(function(){A.unsubscribe()},0)},error:D},A=u.subscribe(O)})},l.prototype.getCurrentResult=function(u){void 0===u&&(u=!0);var _=this.lastResult,D=this.queryInfo.networkStatus||_&&_.networkStatus||Ao.ready,O=on(on({},_),{loading:Xs(D),networkStatus:D});if(this.isTornDown)return O;var A=this.options.fetchPolicy,N=void 0===A?"cache-first":A;if("no-cache"===N||"network-only"===N)delete O.partial;else if(!O.data||!this.queryManager.transform(this.options.query).hasForcedResolvers){var J=this.queryInfo.getDiff();O.data=J.complete||this.options.returnPartialData?J.result:void 0,J.complete?(O.networkStatus===Ao.loading&&("cache-first"===N||"cache-only"===N)&&(O.networkStatus=Ao.ready,O.loading=!1),delete O.partial):O.partial=!0}return u&&this.updateLastResult(O),O},l.prototype.isDifferentFromLastResult=function(u){return!Yi(this.lastResultSnapshot,u)},l.prototype.getLastResult=function(){return this.lastResult},l.prototype.getLastError=function(){return this.lastError},l.prototype.resetLastResults=function(){delete this.lastResult,delete this.lastResultSnapshot,delete this.lastError,this.isTornDown=!1},l.prototype.resetQueryStoreErrors=function(){this.queryManager.resetErrors(this.queryId)},l.prototype.refetch=function(u){var _={pollInterval:0},D=this.options.fetchPolicy;return"no-cache"!==D&&"cache-and-network"!==D&&(_.fetchPolicy="network-only",_.nextFetchPolicy=D||"cache-first"),u&&!Yi(this.options.variables,u)&&(_.variables=this.options.variables=on(on({},this.options.variables),u)),this.newReobserver(!1).reobserve(_,Ao.refetch)},l.prototype.fetchMore=function(u){var _=this,D=on(on({},u.query?u:on(on(on({},this.options),u),{variables:on(on({},this.options.variables),u.variables)})),{fetchPolicy:"no-cache"}),O=this.queryManager.generateQueryId();return D.notifyOnNetworkStatusChange&&(this.queryInfo.networkStatus=Ao.fetchMore,this.observe()),this.queryManager.fetchQuery(O,D,Ao.fetchMore).then(function(A){var N=A.data,J=u.updateQuery;return J?_.updateQuery(function(H){return J(H,{fetchMoreResult:N,variables:D.variables})}):_.queryManager.cache.writeQuery({query:D.query,variables:D.variables,data:N}),A}).finally(function(){_.queryManager.stopQuery(O),_.reobserve()})},l.prototype.subscribeToMore=function(u){var _=this,D=this.queryManager.startGraphQLSubscription({query:u.document,variables:u.variables,context:u.context}).subscribe({next:function(O){var A=u.updateQuery;A&&_.updateQuery(function(N,J){return A(N,{subscriptionData:O,variables:J.variables})})},error:function(O){u.onError&&u.onError(O)}});return this.subscriptions.add(D),function(){_.subscriptions.delete(D)&&D.unsubscribe()}},l.prototype.setOptions=function(u){return this.reobserve(u)},l.prototype.setVariables=function(u){if(Yi(this.variables,u))return this.observers.size?this.result():Promise.resolve();if(this.options.variables=u,!this.observers.size)return Promise.resolve();var _=this.options.fetchPolicy,D=void 0===_?"cache-first":_,O={fetchPolicy:D,variables:u};return"cache-first"!==D&&"no-cache"!==D&&"network-only"!==D&&(O.fetchPolicy="cache-and-network",O.nextFetchPolicy=D),this.reobserve(O,Ao.setVariables)},l.prototype.updateQuery=function(u){var _,D=this.queryManager,A=u(D.cache.diff({query:this.options.query,variables:this.variables,previousResult:null===(_=this.lastResult)||void 0===_?void 0:_.data,returnPartialData:!0,optimistic:!1}).result,{variables:this.variables});A&&(D.cache.writeQuery({query:this.options.query,data:A,variables:this.variables}),D.broadcastQueries())},l.prototype.startPolling=function(u){this.getReobserver().updateOptions({pollInterval:u})},l.prototype.stopPolling=function(){this.reobserver&&this.reobserver.updateOptions({pollInterval:0})},l.prototype.updateLastResult=function(u){var _=this.lastResult;return this.lastResult=u,this.lastResultSnapshot=this.queryManager.assumeImmutableResults?u:Pm(u),Qs(u.errors)||delete this.lastError,_},l.prototype.onSubscribe=function(u){var _=this;if(u===this.observer)return function(){};try{var D=u._subscription._observer;D&&!D.error&&(D.error=tg)}catch(A){}var O=!this.observers.size;return this.observers.add(u),this.lastError?u.error&&u.error(this.lastError):this.lastResult&&u.next&&u.next(this.lastResult),O&&this.reobserve().catch(function(A){}),function(){_.observers.delete(u)&&!_.observers.size&&_.tearDownQuery()}},l.prototype.getReobserver=function(){return this.reobserver||(this.reobserver=this.newReobserver(!0))},l.prototype.newReobserver=function(u){var _=this,O=this.queryManager,A=this.queryId;return O.setObservableQuery(this),new eg(this.observer,u?this.options:on({},this.options),function(N,J){return O.setObservableQuery(_),O.fetchQueryObservable(A,N,J)},!O.ssrMode&&function(){return!Xs(_.queryInfo.networkStatus)})},l.prototype.reobserve=function(u,_){return this.isTornDown=!1,this.getReobserver().reobserve(u,_)},l.prototype.observe=function(){this.observer.next(this.getCurrentResult(!1))},l.prototype.hasObservers=function(){return this.observers.size>0},l.prototype.tearDownQuery=function(){this.isTornDown||(this.reobserver&&(this.reobserver.stop(),delete this.reobserver),this.subscriptions.forEach(function(u){return u.unsubscribe()}),this.subscriptions.clear(),this.queryManager.stopQuery(this.queryId),this.observers.clear(),this.isTornDown=!0)},l}(yo());function tg(c){}Md(Wd);var ng=function(){return Object.create(null)},Vd=Array.prototype,og=Vd.forEach,ig=Vd.slice,Ha=function(){function c(l,u){void 0===l&&(l=!0),void 0===u&&(u=ng),this.weakness=l,this.makeData=u}return c.prototype.lookup=function(){for(var l=[],u=0;u<arguments.length;u++)l[u]=arguments[u];return this.lookupArray(l)},c.prototype.lookupArray=function(l){var u=this;return og.call(l,function(_){return u=u.getChildTrie(_)}),u.data||(u.data=this.makeData(ig.call(l)))},c.prototype.getChildTrie=function(l){var u=this.weakness&&function(c){switch(typeof c){case"object":if(null===c)break;case"function":return!0}return!1}(l)?this.weak||(this.weak=new WeakMap):this.strong||(this.strong=new Map),_=u.get(l);return _||u.set(l,_=new c(this.weakness,this.makeData)),_},c}(),zo=null,Kd={},sg=1,uc="@wry/context:Slot",dc=Array,Ya=dc[uc]||function(){var c=function(){function c(){this.id=["slot",sg++,Date.now(),Math.random().toString(36).slice(2)].join(":")}return c.prototype.hasValue=function(){for(var l=zo;l;l=l.parent)if(this.id in l.slots){var u=l.slots[this.id];if(u===Kd)break;return l!==zo&&(zo.slots[this.id]=u),!0}return zo&&(zo.slots[this.id]=Kd),!1},c.prototype.getValue=function(){if(this.hasValue())return zo.slots[this.id]},c.prototype.withValue=function(l,u,_,D){var O,A=((O={__proto__:null})[this.id]=l,O),N=zo;zo={parent:N,slots:A};try{return u.apply(D,_)}finally{zo=N}},c.bind=function(l){var u=zo;return function(){var _=zo;try{return zo=u,l.apply(this,arguments)}finally{zo=_}}},c.noContext=function(l,u,_){if(!zo)return l.apply(_,u);var D=zo;try{return zo=null,l.apply(_,u)}finally{zo=D}},c}();try{Object.defineProperty(dc,uc,{value:dc[uc]=c,enumerable:!1,writable:!1,configurable:!1})}finally{return c}}();function ug(){}var dg=function(){function c(l,u){void 0===l&&(l=1/0),void 0===u&&(u=ug),this.max=l,this.dispose=u,this.map=new Map,this.newest=null,this.oldest=null}return c.prototype.has=function(l){return this.map.has(l)},c.prototype.get=function(l){var u=this.getNode(l);return u&&u.value},c.prototype.getNode=function(l){var u=this.map.get(l);if(u&&u!==this.newest){var _=u.older,D=u.newer;D&&(D.older=_),_&&(_.newer=D),u.older=this.newest,u.older.newer=u,u.newer=null,this.newest=u,u===this.oldest&&(this.oldest=D)}return u},c.prototype.set=function(l,u){var _=this.getNode(l);return _?_.value=u:(_={key:l,value:u,newer:null,older:this.newest},this.newest&&(this.newest.newer=_),this.newest=_,this.oldest=this.oldest||_,this.map.set(l,_),_.value)},c.prototype.clean=function(){for(;this.oldest&&this.map.size>this.max;)this.delete(this.oldest.key)},c.prototype.delete=function(l){var u=this.map.get(l);return!!u&&(u===this.newest&&(this.newest=u.older),u===this.oldest&&(this.oldest=u.newer),u.newer&&(u.newer.older=u.older),u.older&&(u.older.newer=u.newer),this.map.delete(l),this.dispose(u.value,l),!0)},c}(),za=new Ya;function qs(c){var l=c.unsubscribe;"function"==typeof l&&(c.unsubscribe=void 0,l())}var ea=[];function bs(c,l){if(!c)throw new Error(l||"assertion failure")}function Hd(c){switch(c.length){case 0:throw new Error("unknown value");case 1:return c[0];case 2:throw c[1]}}var mg=function(){function c(l){this.fn=l,this.parents=new Set,this.childValues=new Map,this.dirtyChildren=null,this.dirty=!0,this.recomputing=!1,this.value=[],this.deps=null,++c.count}return c.prototype.peek=function(){if(1===this.value.length&&!ls(this))return this.value[0]},c.prototype.recompute=function(l){return bs(!this.recomputing,"already recomputing"),function(c){var l=za.getValue();l&&(c.parents.add(l),l.childValues.has(c)||l.childValues.set(c,[]),ls(c)?kd(l,c):jd(l,c))}(this),ls(this)?function(c,l){return hc(c),za.withValue(c,vg,[c,l]),function(c,l){if("function"==typeof c.subscribe)try{qs(c),c.unsubscribe=c.subscribe.apply(null,l)}catch(u){return c.setDirty(),!1}return!0}(c,l)&&function(c){c.dirty=!1,!ls(c)&&zd(c)}(c),Hd(c.value)}(this,l):Hd(this.value)},c.prototype.setDirty=function(){this.dirty||(this.dirty=!0,this.value.length=0,Yd(this),hc(this),qs(this))},c.prototype.dispose=function(){var l=this;hc(this),qs(this),this.parents.forEach(function(u){u.setDirty(),Qd(u,l)})},c.prototype.dependOn=function(l){l.add(this),this.deps||(this.deps=ea.pop()||new Set),this.deps.add(l)},c.prototype.forgetDeps=function(){var l=this;this.deps&&(this.deps.forEach(function(u){return u.delete(l)}),this.deps.clear(),ea.push(this.deps),this.deps=null)},c.count=0,c}();function vg(c,l){c.recomputing=!0,c.value.length=0;try{c.value[0]=c.fn.apply(null,l)}catch(u){c.value[1]=u}c.recomputing=!1}function ls(c){return c.dirty||!(!c.dirtyChildren||!c.dirtyChildren.size)}function Yd(c){c.parents.forEach(function(l){return kd(l,c)})}function zd(c){c.parents.forEach(function(l){return jd(l,c)})}function kd(c,l){if(bs(c.childValues.has(l)),bs(ls(l)),c.dirtyChildren){if(c.dirtyChildren.has(l))return}else c.dirtyChildren=ea.pop()||new Set;c.dirtyChildren.add(l),Yd(c)}function jd(c,l){bs(c.childValues.has(l)),bs(!ls(l));var u=c.childValues.get(l);0===u.length?c.childValues.set(l,function(c){return c.slice(0)}(l.value)):function(c,l){var u=c.length;return u>0&&u===l.length&&c[u-1]===l[u-1]}(u,l.value)||c.setDirty(),Zd(c,l),!ls(c)&&zd(c)}function Zd(c,l){var u=c.dirtyChildren;u&&(u.delete(l),0===u.size&&(ea.length<100&&ea.push(u),c.dirtyChildren=null))}function hc(c){c.childValues.size>0&&c.childValues.forEach(function(l,u){Qd(c,u)}),c.forgetDeps(),bs(null===c.dirtyChildren)}function Qd(c,l){l.parents.delete(c),c.childValues.delete(l),Zd(c,l)}function fc(c){var l=new Map,u=c&&c.subscribe;function _(D){var O=za.getValue();if(O){var A=l.get(D);A||l.set(D,A=new Set),O.dependOn(A),"function"==typeof u&&(qs(A),A.unsubscribe=u(D))}}return _.dirty=function(O){var A=l.get(O);A&&(A.forEach(function(N){return N.setDirty()}),l.delete(O),qs(A))},_}var yg=new Ha("function"==typeof WeakMap);function Tg(){for(var c=[],l=0;l<arguments.length;l++)c[l]=arguments[l];return yg.lookupArray(c)}var mc=new Set;function ka(c,l){void 0===l&&(l=Object.create(null));var u=new dg(l.max||Math.pow(2,16),function(N){return N.dispose()}),_=l.keyArgs,D=l.makeCacheKey||Tg;function O(){var N=D.apply(null,_?_.apply(null,arguments):arguments);if(void 0===N)return c.apply(null,arguments);var J=u.get(N);J||(u.set(N,J=new mg(c)),J.subscribe=l.subscribe);var H=J.recompute(Array.prototype.slice.call(arguments));return u.set(N,J),mc.add(u),za.hasValue()||(mc.forEach(function(he){return he.clean()}),mc.clear()),H}function A(){var N=D.apply(null,arguments);if(void 0!==N)return u.get(N)}return O.dirty=function(){var N=A.apply(null,arguments);N&&N.setDirty()},O.peek=function(){var N=A.apply(null,arguments);if(N)return N.peek()},O.forget=function(){var N=D.apply(null,arguments);return void 0!==N&&u.delete(N)},O}var Jd,Dg=function(){function c(){this.getFragmentDoc=ka(om)}return c.prototype.recordOptimisticTransaction=function(l,u){this.performTransaction(l,u)},c.prototype.transformDocument=function(l){return l},c.prototype.identify=function(l){},c.prototype.gc=function(){return[]},c.prototype.modify=function(l){return!1},c.prototype.transformForLink=function(l){return l},c.prototype.readQuery=function(l,u){return void 0===u&&(u=!!l.optimistic),this.read({rootId:l.id||"ROOT_QUERY",query:l.query,variables:l.variables,returnPartialData:l.returnPartialData,optimistic:u})},c.prototype.readFragment=function(l,u){return void 0===u&&(u=!!l.optimistic),this.read({query:this.getFragmentDoc(l.fragment,l.fragmentName),variables:l.variables,rootId:l.id,returnPartialData:l.returnPartialData,optimistic:u})},c.prototype.writeQuery=function(l){return this.write({dataId:l.id||"ROOT_QUERY",result:l.data,query:l.query,variables:l.variables,broadcast:l.broadcast})},c.prototype.writeFragment=function(l){return this.write({dataId:l.id,result:l.data,variables:l.variables,query:this.getFragmentDoc(l.fragment,l.fragmentName),broadcast:l.broadcast})},c}();Jd||(Jd={});var $d=function(l,u,_,D,O){this.message=l,this.path=u,this.query=_,this.clientOnly=D,this.variables=O},$o=Object.prototype.hasOwnProperty,Xd=/^[_a-z][_0-9a-z]*/i;function Bs(c){var l=c.match(Xd);return l?l[0]:c}function gc(c,l,u){return!(!l||"object"!=typeof l)&&(Array.isArray(l)?l.every(function(_){return gc(c,_,u)}):c.selections.every(function(_){if(Hi(_)&&wa(_,u)){var D=Ps(_);return $o.call(l,D)&&(!_.selectionSet||gc(_.selectionSet,l[D],u))}return!0}))}function _c(c){return null!==c&&"object"==typeof c&&!ti(c)&&!Array.isArray(c)}var ja=Object.create(null),vc=function(){return ja},qd=Object.create(null),ta=function(){function c(l,u){var _=this;this.policies=l,this.group=u,this.data=Object.create(null),this.rootIds=Object.create(null),this.refs=Object.create(null),this.getFieldValue=function(D,O){return ti(D)?_.get(D.__ref,O):D&&D[O]},this.canRead=function(D){return ti(D)?_.has(D.__ref):"object"==typeof D},this.toReference=function(D,O){if("string"==typeof D)return Rs(D);if(ti(D))return D;var A=_.policies.identify(D)[0];if(A){var N=Rs(A);return O&&_.merge(A,D),N}}}return c.prototype.toObject=function(){return on({},this.data)},c.prototype.has=function(l){return void 0!==this.lookup(l,!0)},c.prototype.get=function(l,u){if(this.group.depend(l,u),$o.call(this.data,l)){var _=this.data[l];if(_&&$o.call(_,u))return _[u]}return"__typename"===u&&$o.call(this.policies.rootTypenamesById,l)?this.policies.rootTypenamesById[l]:this instanceof br?this.parent.get(l,u):void 0},c.prototype.lookup=function(l,u){return u&&this.group.depend(l,"__exists"),$o.call(this.data,l)?this.data[l]:this instanceof br?this.parent.lookup(l,u):this.policies.rootTypenamesById[l]?Object.create(null):void 0},c.prototype.merge=function(l,u){var _=this,D=this.lookup(l),O=new nc(Ig).merge(D,u);if(this.data[l]=O,O!==D&&(delete this.refs[l],this.group.caching)){var A=Object.create(null);D||(A.__exists=1),Object.keys(u).forEach(function(N){if(!D||D[N]!==O[N]){A[N]=1;var J=Bs(N);J!==N&&!_.policies.hasKeyArgs(O.__typename,J)&&(A[J]=1),void 0===O[N]&&!(_ instanceof br)&&delete O[N]}}),Object.keys(A).forEach(function(N){return _.group.dirty(l,N)})}},c.prototype.modify=function(l,u){var _=this,D=this.lookup(l);if(D){var O=Object.create(null),A=!1,N=!0,J={DELETE:ja,INVALIDATE:qd,isReference:ti,toReference:this.toReference,canRead:this.canRead,readField:function(H,he){return _.policies.readField("string"==typeof H?{fieldName:H,from:he||Rs(l)}:H,{store:_})}};if(Object.keys(D).forEach(function(H){var he=Bs(H),Ae=D[H];if(void 0!==Ae){var ge="function"==typeof u?u:u[H]||u[he];if(ge){var Xe=ge===vc?ja:ge(Ae,on(on({},J),{fieldName:he,storeFieldName:H,storage:_.getStorage(l,H)}));Xe===qd?_.group.dirty(l,H):(Xe===ja&&(Xe=void 0),Xe!==Ae&&(O[H]=Xe,A=!0,Ae=Xe))}void 0!==Ae&&(N=!1)}}),A)return this.merge(l,O),N&&(this instanceof br?this.data[l]=void 0:delete this.data[l],this.group.dirty(l,"__exists")),!0}return!1},c.prototype.delete=function(l,u,_){var D,O=this.lookup(l);if(O){var A=this.getFieldValue(O,"__typename"),N=u&&_?this.policies.getStoreFieldName({typename:A,fieldName:u,args:_}):u;return this.modify(l,N?((D={})[N]=vc,D):vc)}return!1},c.prototype.evict=function(l){var u=!1;return l.id&&($o.call(this.data,l.id)&&(u=this.delete(l.id,l.fieldName,l.args)),this instanceof br&&(u=this.parent.evict(l)||u),(l.fieldName||u)&&this.group.dirty(l.id,l.fieldName||"__exists")),u},c.prototype.clear=function(){this.replace(null)},c.prototype.extract=function(){var l=this,u=this.toObject(),_=[];return this.getRootIdSet().forEach(function(D){$o.call(l.policies.rootTypenamesById,D)||_.push(D)}),_.length&&(u.__META={extraRootIds:_.sort()}),u},c.prototype.replace=function(l){var u=this;if(Object.keys(this.data).forEach(function(O){l&&$o.call(l,O)||u.delete(O)}),l){var _=l.__META,D=Pa(l,["__META"]);Object.keys(D).forEach(function(O){u.merge(O,D[O])}),_&&_.extraRootIds.forEach(this.retain,this)}},c.prototype.retain=function(l){return this.rootIds[l]=(this.rootIds[l]||0)+1},c.prototype.release=function(l){if(this.rootIds[l]>0){var u=--this.rootIds[l];return u||delete this.rootIds[l],u}return 0},c.prototype.getRootIdSet=function(l){return void 0===l&&(l=new Set),Object.keys(this.rootIds).forEach(l.add,l),this instanceof br?this.parent.getRootIdSet(l):Object.keys(this.policies.rootTypenamesById).forEach(l.add,l),l},c.prototype.gc=function(){var l=this,u=this.getRootIdSet(),_=this.toObject();u.forEach(function(A){$o.call(_,A)&&(Object.keys(l.findChildRefIds(A)).forEach(u.add,u),delete _[A])});var D=Object.keys(_);if(D.length){for(var O=this;O instanceof br;)O=O.parent;D.forEach(function(A){return O.delete(A)})}return D},c.prototype.findChildRefIds=function(l){if(!$o.call(this.refs,l)){var u=this.refs[l]=Object.create(null),_=new Set([this.data[l]]),D=function(O){return null!==O&&"object"==typeof O};_.forEach(function(O){ti(O)?u[O.__ref]=!0:D(O)&&Object.values(O).filter(D).forEach(_.add,_)})}return this.refs[l]},c.prototype.makeCacheKey=function(){for(var l=[],u=0;u<arguments.length;u++)l[u]=arguments[u];return this.group.keyMaker.lookupArray(l)},c}(),ep=function(){function c(l){this.caching=l,this.d=null,this.keyMaker=new Ha(Js),this.d=l?fc():null}return c.prototype.depend=function(l,u){if(this.d){this.d(Ec(l,u));var _=Bs(u);_!==u&&this.d(Ec(l,_))}},c.prototype.dirty=function(l,u){this.d&&this.d.dirty(Ec(l,u))},c}();function Ec(c,l){return l+"#"+c}!function(c){var l=function(u){function _(D){var A=D.resultCaching,N=void 0===A||A,J=D.seed,H=u.call(this,D.policies,new ep(N))||this;return H.storageTrie=new Ha(Js),H.sharedLayerGroup=new ep(N),J&&H.replace(J),H}return Lr(_,u),_.prototype.addLayer=function(D,O){return new br(D,this,O,this.sharedLayerGroup)},_.prototype.removeLayer=function(){return this},_.prototype.getStorage=function(){return this.storageTrie.lookupArray(arguments)},_}(c);c.Root=l}(ta||(ta={}));var br=function(c){function l(u,_,D,O){var A=c.call(this,_.policies,O)||this;return A.id=u,A.parent=_,A.replay=D,A.group=O,D(A),A}return Lr(l,c),l.prototype.addLayer=function(u,_){return new l(u,this,_,this.group)},l.prototype.removeLayer=function(u){var _=this,D=this.parent.removeLayer(u);return u===this.id?(this.group.caching&&Object.keys(this.data).forEach(function(O){_.data[O]!==D.lookup(O)&&_.delete(O)}),D):D===this.parent?this:D.addLayer(this.id,this.replay)},l.prototype.toObject=function(){return on(on({},this.parent.toObject()),this.data)},l.prototype.findChildRefIds=function(u){var _=this.parent.findChildRefIds(u);return $o.call(this.data,u)?on(on({},_),c.prototype.findChildRefIds.call(this,u)):_},l.prototype.getStorage=function(){for(var u=this.parent;u.parent;)u=u.parent;return u.getStorage.apply(u,arguments)},l}(ta);function Ig(c,l,u){var _=c[u],D=l[u];return Yi(_,D)?_:D}function Za(c){return!!(c instanceof ta&&c.group.caching)}function tp(c,l){return new $d(c.message,l.path.slice(),l.query,l.clientOnly,l.variables)}var Sg=function(){function c(l){var u=this;this.config=l,this.executeSelectionSet=ka(function(_){return u.execSelectionSetImpl(_)},{keyArgs:function(_){return[_.selectionSet,_.objectOrReference,_.context]},makeCacheKey:function(_,D,O){if(Za(O.store))return O.store.makeCacheKey(_,ti(D)?D.__ref:D,O.varString)}}),this.knownResults=new WeakMap,this.executeSubSelectedArray=ka(function(_){return u.execSubSelectedArrayImpl(_)},{makeCacheKey:function(_){var D=_.field,O=_.array,A=_.context;if(Za(A.store))return A.store.makeCacheKey(D,O,A.varString)}}),this.config=on({addTypename:!0},l)}return c.prototype.diffQueryAgainstStore=function(l){var u=l.store,_=l.query,D=l.rootId,O=void 0===D?"ROOT_QUERY":D,A=l.variables,N=l.returnPartialData,J=void 0===N||N,H=this.config.cache.policies;A=on(on({},$l(function(c){var l=ks(c);return co(l&&"query"===l.operation,48),l}(_))),A);var he=this.executeSelectionSet({selectionSet:Jl(_).selectionSet,objectOrReference:Rs(O),context:{store:u,query:_,policies:H,variables:A,varString:JSON.stringify(A),fragmentMap:Na(Wa(_)),path:[],clientOnly:!1}}),Ae=he.missing&&he.missing.length>0;if(Ae&&!J)throw he.missing[0];return{result:he.result,missing:he.missing,complete:!Ae}},c.prototype.isFresh=function(l,u,_,D){if(Za(D.store)&&this.knownResults.get(l)===_){var O=this.executeSelectionSet.peek(_,u,D);if(O&&l===O.result)return!0}return!1},c.prototype.execSelectionSetImpl=function(l){var u=this,_=l.selectionSet,D=l.objectOrReference,O=l.context;if(ti(D)&&!O.policies.rootTypenamesById[D.__ref]&&!O.store.has(D.__ref))return{result:{},missing:[tp(new Yo(4),O)]};var A=O.variables,N=O.policies,H=[],he={result:null},Ae=O.store.getFieldValue(D,"__typename");function ge(){return he.missing||(he.missing=[])}function Xe(dt){var Kt;return dt.missing&&(Kt=ge()).push.apply(Kt,dt.missing),dt.result}this.config.addTypename&&"string"==typeof Ae&&!N.rootIdsByTypename[Ae]&&H.push({__typename:Ae});var ft=new Set(_.selections);return ft.forEach(function(dt){var Kt;if(wa(dt,A))if(Hi(dt)){var Jt=N.readField({fieldName:dt.name.value,field:dt,variables:O.variables,from:D},O),dn=Ps(dt);O.path.push(dn);var Dn=O.clientOnly;O.clientOnly=Dn||!(!dt.directives||!dt.directives.some(function(yn){return"client"===yn.name.value})),void 0===Jt?ec.added(dt)||ge().push(tp(new Yo(5),O)):Array.isArray(Jt)?Jt=Xe(u.executeSubSelectedArray({field:dt,array:Jt,context:O})):dt.selectionSet&&null!=Jt&&(Jt=Xe(u.executeSelectionSet({selectionSet:dt.selectionSet,objectOrReference:Jt,context:O}))),void 0!==Jt&&H.push(((Kt={})[dn]=Jt,Kt)),O.clientOnly=Dn,co(O.path.pop()===dn)}else{var fn=Ua(dt,O.fragmentMap);fn&&N.fragmentMatches(fn,Ae)&&fn.selectionSet.selections.forEach(ft.add,ft)}}),he.result=tc(H),this.knownResults.set(he.result,_),he},c.prototype.execSubSelectedArrayImpl=function(l){var A,u=this,_=l.field,D=l.array,O=l.context;function N(J,H){return J.missing&&(A=A||[]).push.apply(A,J.missing),co(O.path.pop()===H),J.result}return _.selectionSet&&(D=D.filter(O.store.canRead)),{result:D=D.map(function(J,H){return null===J?null:(O.path.push(H),Array.isArray(J)?N(u.executeSubSelectedArray({field:_,array:J,context:O}),H):_.selectionSet?N(u.executeSelectionSet({selectionSet:_.selectionSet,objectOrReference:J,context:O}),H):(co(O.path.pop()===H),J))}),missing:A}},c}(),xg=function(){function c(l,u){this.cache=l,this.reader=u}return c.prototype.writeToStore=function(l){var u=l.query,_=l.result,D=l.dataId,O=l.store,A=l.variables,N=ks(u),J=new nc;A=on(on({},$l(N)),A);var H=this.processSelectionSet({result:_||Object.create(null),dataId:D,selectionSet:N.selectionSet,mergeTree:{map:new Map},context:{store:O,written:Object.create(null),merge:function(he,Ae){return J.merge(he,Ae)},variables:A,varString:JSON.stringify(A),fragmentMap:Na(Wa(u))}});if(!ti(H))throw new Yo(7);return O.retain(H.__ref),H},c.prototype.processSelectionSet=function(l){var u=this,_=l.dataId,D=l.result,O=l.selectionSet,A=l.context,N=l.mergeTree,J=this.cache.policies,H=J.identify(D,O,A.fragmentMap),Ae=H[1];if("string"==typeof(_=_||H[0])){var ge=A.written[_]||(A.written[_]=[]),Xe=Rs(_);if(ge.indexOf(O)>=0||(ge.push(O),this.reader&&this.reader.isFresh(D,Xe,O,A)))return Xe}var ft=Object.create(null);Ae&&(ft=A.merge(ft,Ae));var dt=_&&J.rootTypenamesById[_]||Zl(D,O,A.fragmentMap)||_&&A.store.get(_,"__typename");"string"==typeof dt&&(ft.__typename=dt);var Kt=new Set(O.selections);if(Kt.forEach(function(yn){var Rn;if(wa(yn,A.variables))if(Hi(yn)){var Mn=Ps(yn),Pn=D[Mn];if(void 0!==Pn){var wn=J.getStoreFieldName({typename:dt,fieldName:yn.name.value,field:yn,variables:A.variables}),wo=op(N,wn),fr=u.processFieldValue(Pn,yn,A,wo),Ai=yn.selectionSet&&A.store.getFieldValue(fr,"__typename")||void 0,Br=J.getMergeFunction(dt,yn.name.value,Ai);Br?wo.info={field:yn,typename:dt,merge:Br}:ip(N,wn),ft=A.merge(ft,((Rn={})[wn]=fr,Rn))}else if(J.usingPossibleTypes&&!Fa(["defer","client"],yn))throw new Yo(8)}else{var Ns=Ua(yn,A.fragmentMap);Ns&&J.fragmentMatches(Ns,dt,D,A.variables)&&Ns.selectionSet.selections.forEach(Kt.add,Kt)}}),"string"==typeof _){var Jt=Rs(_);return N.map.size&&(ft=this.applyMerges(N,Jt,ft,A)),A.store.merge(_,ft),Jt}return ft},c.prototype.processFieldValue=function(l,u,_,D){var O=this;return u.selectionSet&&null!==l?Array.isArray(l)?l.map(function(A,N){var J=O.processFieldValue(A,u,_,op(D,N));return ip(D,N),J}):this.processSelectionSet({result:l,selectionSet:u.selectionSet,context:_,mergeTree:D}):l},c.prototype.applyMerges=function(l,u,_,D,O){var A,N=this;if(l.map.size&&!ti(_)){var J=Array.isArray(_)||!ti(u)&&!_c(u)?void 0:u,H=_;J&&!O&&(O=[ti(J)?J.__ref:J]);var he,Ae=function(ge,Xe){return Array.isArray(ge)?"number"==typeof Xe?ge[Xe]:void 0:D.store.getFieldValue(ge,String(Xe))};l.map.forEach(function(ge,Xe){O&&O.push(Xe);var ft=Ae(J,Xe),dt=Ae(H,Xe),Kt=N.applyMerges(ge,ft,dt,D,O);Kt!==dt&&(he=he||new Map).set(Xe,Kt),O&&co(O.pop()===Xe)}),he&&(_=Array.isArray(H)?H.slice(0):on({},H),he.forEach(function(ge,Xe){_[Xe]=ge}))}return l.info?this.cache.policies.runMergeFunction(u,_,l.info,D,O&&(A=D.store).getStorage.apply(A,O)):_},c}(),np=[];function op(c,l){var u=c.map;return u.has(l)||u.set(l,np.pop()||{map:new Map}),u.get(l)}function ip(c,l){var u=c.map,_=u.get(l);_&&!_.info&&!_.map.size&&(np.push(_),u.delete(l))}new Set;var Cc=new Ya;function Mg(c,l){if(c.size){var u=[];c.forEach(function(_){return u.push(_)}),c.clear(),u.forEach(l)}}var sp=new WeakMap;function na(c){var l=sp.get(c);return l||sp.set(c,l={vars:new Set,dep:fc()}),l}function Pg(c){var l=new Set,u=new Set,_=function(O){if(arguments.length>0)c!==O&&(c=O,l.forEach(function(N){na(N).dep.dirty(_),Lg(N)}),Mg(u,function(N){return N(c)}));else{var A=Cc.getValue();A&&(D(A),na(A).dep(_))}return c};_.onNextChange=function(O){return u.add(O),function(){u.delete(O)}};var D=_.attachCache=function(O){return l.add(O),na(O).vars.add(_),_};return _.forgetCache=function(O){return l.delete(O)},_}function Lg(c){c.broadcastWatches&&c.broadcastWatches()}function yc(c){return void 0!==c.args?c.args:c.field?md(c.field,c.variables):null}var ap=function(c,l){var u=c.__typename,_=c.id,D=c._id;if("string"==typeof u&&(l&&(l.keyObject=void 0!==_?{id:_}:void 0!==D?{_id:D}:void 0),void 0===_&&(_=D),void 0!==_))return u+":"+("number"==typeof _||"string"==typeof _?_:JSON.stringify(_))},bg=function(){},lp=function(c,l){return l.fieldName},cp=function(c,l,u){return(0,u.mergeObjects)(c,l)},up=function(c,l){return l},Bg=function(){function c(l){this.config=l,this.typePolicies=Object.create(null),this.toBeAdded=Object.create(null),this.supertypeMap=new Map,this.fuzzySubtypes=new Map,this.rootIdsByTypename=Object.create(null),this.rootTypenamesById=Object.create(null),this.usingPossibleTypes=!1,this.config=on({dataIdFromObject:ap},l),this.cache=this.config.cache,this.setRootTypename("Query"),this.setRootTypename("Mutation"),this.setRootTypename("Subscription"),l.possibleTypes&&this.addPossibleTypes(l.possibleTypes),l.typePolicies&&this.addTypePolicies(l.typePolicies)}return c.prototype.identify=function(l,u,_){var D=u&&_?Zl(l,u,_):l.__typename;if(D===this.rootTypenamesById.ROOT_QUERY)return["ROOT_QUERY"];for(var A,O={typename:D,selectionSet:u,fragmentMap:_},N=D&&this.getTypePolicy(D),J=N&&N.keyFn||this.config.dataIdFromObject;J;){var H=J(l,O);if(!Array.isArray(H)){A=H;break}J=fp(H)}return A=A?String(A):void 0,O.keyObject?[A,O.keyObject]:[A]},c.prototype.addTypePolicies=function(l){var u=this;Object.keys(l).forEach(function(_){var D=l[_],O=D.queryType,A=D.mutationType,N=D.subscriptionType,J=Pa(D,["queryType","mutationType","subscriptionType"]);O&&u.setRootTypename("Query",_),A&&u.setRootTypename("Mutation",_),N&&u.setRootTypename("Subscription",_),$o.call(u.toBeAdded,_)?u.toBeAdded[_].push(J):u.toBeAdded[_]=[J]})},c.prototype.updateTypePolicy=function(l,u){var _=this,D=this.getTypePolicy(l),O=u.keyFields,A=u.fields;function N(J,H){J.merge="function"==typeof H?H:!0===H?cp:!1===H?up:J.merge}N(D,u.merge),D.keyFn=!1===O?bg:Array.isArray(O)?fp(O):"function"==typeof O?O:D.keyFn,A&&Object.keys(A).forEach(function(J){var H=_.getFieldPolicy(l,J,!0),he=A[J];if("function"==typeof he)H.read=he;else{var Ae=he.keyArgs,ge=he.read,Xe=he.merge;H.keyFn=!1===Ae?lp:Array.isArray(Ae)?hp(Ae):"function"==typeof Ae?Ae:H.keyFn,"function"==typeof ge&&(H.read=ge),N(H,Xe)}H.read&&H.merge&&(H.keyFn=H.keyFn||lp)})},c.prototype.setRootTypename=function(l,u){void 0===u&&(u=l);var _="ROOT_"+l.toUpperCase(),D=this.rootTypenamesById[_];u!==D&&(co(!D||D===l,1),D&&delete this.rootIdsByTypename[D],this.rootIdsByTypename[u]=_,this.rootTypenamesById[_]=u)},c.prototype.addPossibleTypes=function(l){var u=this;this.usingPossibleTypes=!0,Object.keys(l).forEach(function(_){u.getSupertypeSet(_,!0),l[_].forEach(function(D){u.getSupertypeSet(D,!0).add(_);var O=D.match(Xd);(!O||O[0]!==D)&&u.fuzzySubtypes.set(D,new RegExp(D))})})},c.prototype.getTypePolicy=function(l){var u=this;if(!$o.call(this.typePolicies,l)){var _=this.typePolicies[l]=Object.create(null);_.fields=Object.create(null);var D=this.supertypeMap.get(l);D&&D.size&&D.forEach(function(A){var N=u.getTypePolicy(A),J=N.fields,H=Pa(N,["fields"]);Object.assign(_,H),Object.assign(_.fields,J)})}var O=this.toBeAdded[l];return O&&O.length&&this.updateTypePolicy(l,rc.apply(void 0,O.splice(0))),this.typePolicies[l]},c.prototype.getFieldPolicy=function(l,u,_){if(l){var D=this.getTypePolicy(l).fields;return D[u]||_&&(D[u]=Object.create(null))}},c.prototype.getSupertypeSet=function(l,u){var _=this.supertypeMap.get(l);return!_&&u&&this.supertypeMap.set(l,_=new Set),_},c.prototype.fragmentMatches=function(l,u,_,D){var O=this;if(!l.typeCondition)return!0;if(!u)return!1;var A=l.typeCondition.name.value;if(u===A)return!0;if(this.usingPossibleTypes&&this.supertypeMap.has(A))for(var N=this.getSupertypeSet(u,!0),J=[N],H=function(ft){var dt=O.getSupertypeSet(ft,!1);dt&&dt.size&&J.indexOf(dt)<0&&J.push(dt)},he=!(!_||!this.fuzzySubtypes.size),ge=0;ge<J.length;++ge){var Xe=J[ge];if(Xe.has(A))return N.has(A)||N.add(A),!0;Xe.forEach(H),he&&ge===J.length-1&&gc(l.selectionSet,_,D)&&(he=!1,this.fuzzySubtypes.forEach(function(ft,dt){var Kt=u.match(ft);Kt&&Kt[0]===u&&H(dt)}))}return!1},c.prototype.hasKeyArgs=function(l,u){var _=this.getFieldPolicy(l,u,!1);return!(!_||!_.keyFn)},c.prototype.getStoreFieldName=function(l){var O,u=l.typename,_=l.fieldName,D=this.getFieldPolicy(u,_,!1),A=D&&D.keyFn;if(A&&u)for(var N={typename:u,fieldName:_,field:l.field||null,variables:l.variables},J=yc(l);A;){var H=A(J,N);if(!Array.isArray(H)){O=H||_;break}A=hp(H)}return void 0===O&&(O=l.field?function(c,l){var u=null;c.directives&&(u={},c.directives.forEach(function(D){u[D.name.value]={},D.arguments&&D.arguments.forEach(function(O){return As(u[D.name.value],O.name,O.value,l)})}));var _=null;return c.arguments&&c.arguments.length&&(_={},c.arguments.forEach(function(D){return As(_,D.name,D.value,l)})),fd(c.name.value,_,u)}(l.field,l.variables):fd(_,yc(l))),!1===O?_:_===Bs(O)?O:_+":"+O},c.prototype.readField=function(l,u){var _=l.from;if(_&&(l.field||l.fieldName)){if(void 0===l.typename){var O=u.store.getFieldValue(_,"__typename");O&&(l.typename=O)}var A=this.getStoreFieldName(l),N=Bs(A),J=u.store.getFieldValue(_,A),H=this.getFieldPolicy(l.typename,N,!1),he=H&&H.read;if(he){var Ae=dp(this,_,l,u,u.store.getStorage(ti(_)?_.__ref:_,A));return Cc.withValue(this.cache,he,[J,Ae])}return J}},c.prototype.getMergeFunction=function(l,u,_){var D=this.getFieldPolicy(l,u,!1),O=D&&D.merge;return!O&&_&&(O=(D=this.getTypePolicy(_))&&D.merge),O},c.prototype.runMergeFunction=function(l,u,_,D,O){var A=_.field,N=_.typename,J=_.merge;return J===cp?pp(D.store.getFieldValue)(l,u):J===up?u:J(l,u,dp(this,void 0,{typename:N,fieldName:A.name.value,field:A,variables:D.variables},D,O||Object.create(null)))},c}();function dp(c,l,u,_,D){var O=c.getStoreFieldName(u),A=Bs(O),N=u.variables||_.variables,J=_.store,H=J.getFieldValue,he=J.toReference,Ae=J.canRead;return{args:yc(u),field:u.field||null,fieldName:A,storeFieldName:O,variables:N,isReference:ti,toReference:he,storage:D,cache:c.cache,canRead:Ae,readField:function(ge,Xe){var ft="string"==typeof ge?{fieldName:ge,from:Xe}:on({},ge);return void 0===ft.from&&(ft.from=l),void 0===ft.variables&&(ft.variables=N),c.readField(ft,_)},mergeObjects:pp(H)}}function pp(c){return function(u,_){if(Array.isArray(u)||Array.isArray(_))throw new Yo(2);if(u&&"object"==typeof u&&_&&"object"==typeof _){var D=c(u,"__typename"),O=c(_,"__typename");return D&&O&&D!==O||!_c(u)||!_c(_)?_:on(on({},u),_)}return _}}function hp(c){return function(l,u){return l?u.fieldName+":"+JSON.stringify(Tc(l,c,!1)):u.fieldName}}function fp(c){var l=new Ha(Js);return function(u,_){var D;if(_.selectionSet&&_.fragmentMap){var O=l.lookupArray([_.selectionSet,_.fragmentMap]);D=O.aliasMap||(O.aliasMap=mp(_.selectionSet,_.fragmentMap))}var A=_.keyObject=Tc(u,c,!0,D);return _.typename+":"+JSON.stringify(A)}}function mp(c,l){var u=Object.create(null),_=new Set([c]);return _.forEach(function(D){D.selections.forEach(function(O){if(Hi(O)){if(O.alias){var A=O.alias.value,N=O.name.value;N!==A&&((u.aliases||(u.aliases=Object.create(null)))[N]=A)}O.selectionSet&&((u.subsets||(u.subsets=Object.create(null)))[O.name.value]=mp(O.selectionSet,l))}else{var he=Ua(O,l);he&&_.add(he.selectionSet)}})}),u}function Tc(c,l,u,_){var O,D=Object.create(null);return l.forEach(function(A){if(Array.isArray(A)){if("string"==typeof O){var N=_&&_.subsets;D[O]=Tc(c[O],A,u,N&&N[O])}}else{var H=_&&_.aliases,he=H&&H[A]||A;$o.call(c,he)?D[O=A]=c[he]:(co(!u,3),O=void 0)}}),D}var wg={dataIdFromObject:ap,addTypename:!0,resultCaching:!0,typePolicies:{}},gp=(function(c){function l(u){void 0===u&&(u={});var _=c.call(this)||this;return _.watches=new Set,_.typenameDocumentCache=new Map,_.makeVar=Pg,_.txCount=0,_.maybeBroadcastWatch=ka(function(D,O){return _.broadcastWatch.call(_,D,!!O)},{makeCacheKey:function(D){var O=D.optimistic?_.optimisticData:_.data;if(Za(O))return O.makeCacheKey(D.query,D.callback,JSON.stringify({optimistic:D.optimistic,rootId:D.rootId,variables:D.variables}))}}),_.watchDep=fc(),_.config=on(on({},wg),u),_.addTypename=!!_.config.addTypename,_.policies=new Bg({cache:_,dataIdFromObject:_.config.dataIdFromObject,possibleTypes:_.config.possibleTypes,typePolicies:_.config.typePolicies}),_.data=new ta.Root({policies:_.policies,resultCaching:_.config.resultCaching}),_.optimisticData=_.data,_.storeWriter=new xg(_,_.storeReader=new Sg({cache:_,addTypename:_.addTypename})),_}Lr(l,c),l.prototype.restore=function(u){return u&&this.data.replace(u),this},l.prototype.extract=function(u){return void 0===u&&(u=!1),(u?this.optimisticData:this.data).extract()},l.prototype.read=function(u){var _=u.returnPartialData,D=void 0!==_&&_;try{return this.storeReader.diffQueryAgainstStore({store:u.optimistic?this.optimisticData:this.data,query:u.query,variables:u.variables,rootId:u.rootId,config:this.config,returnPartialData:D}).result||null}catch(O){if(O instanceof $d)return null;throw O}},l.prototype.write=function(u){try{return++this.txCount,this.storeWriter.writeToStore({store:this.data,query:u.query,result:u.result,dataId:u.dataId,variables:u.variables})}finally{!--this.txCount&&!1!==u.broadcast&&this.broadcastWatches()}},l.prototype.modify=function(u){if($o.call(u,"id")&&!u.id)return!1;var _=u.optimistic?this.optimisticData:this.data;try{return++this.txCount,_.modify(u.id||"ROOT_QUERY",u.fields)}finally{!--this.txCount&&!1!==u.broadcast&&this.broadcastWatches()}},l.prototype.diff=function(u){return this.storeReader.diffQueryAgainstStore({store:u.optimistic?this.optimisticData:this.data,rootId:u.id||"ROOT_QUERY",query:u.query,variables:u.variables,returnPartialData:u.returnPartialData,config:this.config})},l.prototype.watch=function(u){var _=this;return this.watches.size||function(c){na(c).vars.forEach(function(l){return l.attachCache(c)})}(this),this.watches.add(u),u.immediate&&this.maybeBroadcastWatch(u),function(){_.watches.delete(u)&&!_.watches.size&&function(c){na(c).vars.forEach(function(l){return l.forgetCache(c)})}(_),_.watchDep.dirty(u),_.maybeBroadcastWatch.forget(u)}},l.prototype.gc=function(){return this.optimisticData.gc()},l.prototype.retain=function(u,_){return(_?this.optimisticData:this.data).retain(u)},l.prototype.release=function(u,_){return(_?this.optimisticData:this.data).release(u)},l.prototype.identify=function(u){return ti(u)?u.__ref:this.policies.identify(u)[0]},l.prototype.evict=function(u){if(!u.id){if($o.call(u,"id"))return!1;u=on(on({},u),{id:"ROOT_QUERY"})}try{return++this.txCount,this.optimisticData.evict(u)}finally{!--this.txCount&&!1!==u.broadcast&&this.broadcastWatches()}},l.prototype.reset=function(){return this.data.clear(),this.optimisticData=this.data,this.broadcastWatches(),Promise.resolve()},l.prototype.removeOptimistic=function(u){var _=this.optimisticData.removeLayer(u);_!==this.optimisticData&&(this.optimisticData=_,this.broadcastWatches())},l.prototype.performTransaction=function(u,_){var D=this,O=function(N){var H=D.data,he=D.optimisticData;++D.txCount,N&&(D.data=D.optimisticData=N);try{u(D)}finally{--D.txCount,D.data=H,D.optimisticData=he}},A=!1;"string"==typeof _?(this.optimisticData=this.optimisticData.addLayer(_,O),A=!0):null===_?O(this.data):O(),this.broadcastWatches(A)},l.prototype.transformDocument=function(u){if(this.addTypename){var _=this.typenameDocumentCache.get(u);return _||(_=ec(u),this.typenameDocumentCache.set(u,_),this.typenameDocumentCache.set(_,_)),_}return u},l.prototype.broadcastWatches=function(u){var _=this;this.txCount||this.watches.forEach(function(D){return _.maybeBroadcastWatch(D,u)})},l.prototype.broadcastWatch=function(u,_){this.watchDep.dirty(u),this.watchDep(u);var D=this.diff({query:u.query,variables:u.variables,optimistic:u.optimistic});u.optimistic&&_&&(D.fromOptimisticTransaction=!0),u.callback(D)}}(Dg),function(){function c(l){var _=l.client,D=l.resolvers,O=l.fragmentMatcher;this.cache=l.cache,_&&(this.client=_),D&&this.addResolvers(D),O&&this.setFragmentMatcher(O)}return c.prototype.addResolvers=function(l){var u=this;this.resolvers=this.resolvers||{},Array.isArray(l)?l.forEach(function(_){u.resolvers=Td(u.resolvers,_)}):this.resolvers=Td(this.resolvers,l)},c.prototype.setResolvers=function(l){this.resolvers={},this.addResolvers(l)},c.prototype.getResolvers=function(){return this.resolvers||{}},c.prototype.runResolvers=function(l){var u=l.document,_=l.remoteResult,D=l.context,O=l.variables,A=l.onlyRunForcedResolvers,N=void 0!==A&&A;return ss(this,void 0,void 0,function(){return as(this,function(J){return u?[2,this.resolveDocument(u,_.data,D,O,this.fragmentMatcher,N).then(function(H){return on(on({},_),{data:H.result})})]:[2,_]})})},c.prototype.setFragmentMatcher=function(l){this.fragmentMatcher=l},c.prototype.getFragmentMatcher=function(){return this.fragmentMatcher},c.prototype.clientQuery=function(l){return Fa(["client"],l)&&this.resolvers?l:null},c.prototype.serverQuery=function(l){return function(c){zs(c);var l=Cd([{test:function(u){return"client"===u.name.value},remove:!0}],c);return l&&(l=Bt(l,{FragmentDefinition:{enter:function(u){if(u.selectionSet&&u.selectionSet.selections.every(function(D){return Hi(D)&&"__typename"===D.name.value}))return null}}})),l}(l)},c.prototype.prepareContext=function(l){var u=this.cache;return on(on({},l),{cache:u,getCacheKey:function(_){return u.identify(_)}})},c.prototype.addExportedVariables=function(l,u,_){return void 0===u&&(u={}),void 0===_&&(_={}),ss(this,void 0,void 0,function(){return as(this,function(D){return l?[2,this.resolveDocument(l,this.buildRootValueFromCache(l,u)||{},this.prepareContext(_),u).then(function(O){return on(on({},u),O.exportedVariables)})]:[2,on({},u)]})})},c.prototype.shouldForceResolvers=function(l){var u=!1;return Bt(l,{Directive:{enter:function(_){if("client"===_.name.value&&_.arguments&&(u=_.arguments.some(function(D){return"always"===D.name.value&&"BooleanValue"===D.value.kind&&!0===D.value.value})))return ct}}}),u},c.prototype.buildRootValueFromCache=function(l,u){return this.cache.diff({query:Om(l),variables:u,returnPartialData:!0,optimistic:!1}).result},c.prototype.resolveDocument=function(l,u,_,D,O,A){return void 0===_&&(_={}),void 0===D&&(D={}),void 0===O&&(O=function(){return!0}),void 0===A&&(A=!1),ss(this,void 0,void 0,function(){var N,J,H,he,Ae,ge,Xe,ft,dt;return as(this,function(Kt){return N=Jl(l),J=Wa(l),H=Na(J),Ae=(he=N.operation)?he.charAt(0).toUpperCase()+he.slice(1):"Query",Xe=(ge=this).cache,ft=ge.client,dt={fragmentMap:H,context:on(on({},_),{cache:Xe,client:ft}),variables:D,fragmentMatcher:O,defaultOperationType:Ae,exportedVariables:{},onlyRunForcedResolvers:A},[2,this.resolveSelectionSet(N.selectionSet,u,dt).then(function(Jt){return{result:Jt,exportedVariables:dt.exportedVariables}})]})})},c.prototype.resolveSelectionSet=function(l,u,_){return ss(this,void 0,void 0,function(){var D,O,A,N,H=this;return as(this,function(he){return D=_.fragmentMap,O=_.context,A=_.variables,N=[u],[2,Promise.all(l.selections.map(function(Ae){return ss(H,void 0,void 0,function(){var ge;return as(this,function(ft){return wa(Ae,A)?Hi(Ae)?[2,this.resolveField(Ae,u,_).then(function(dt){var Kt;void 0!==dt&&N.push(((Kt={})[Ps(Ae)]=dt,Kt))})]:(gd(Ae)?ge=Ae:co(ge=D[Ae.name.value],11),ge&&ge.typeCondition&&_.fragmentMatcher(u,ge.typeCondition.name.value,O)?[2,this.resolveSelectionSet(ge.selectionSet,u,_).then(function(dt){N.push(dt)})]:[2]):[2]})})})).then(function(){return tc(N)})]})})},c.prototype.resolveField=function(l,u,_){return ss(this,void 0,void 0,function(){var D,O,A,N,J,H,he,Ae,ge,Xe=this;return as(this,function(ft){return D=_.variables,O=l.name.value,A=Ps(l),N=O!==A,J=u[A]||u[O],H=Promise.resolve(J),(!_.onlyRunForcedResolvers||this.shouldForceResolvers(l))&&(he=u.__typename||_.defaultOperationType,(Ae=this.resolvers&&this.resolvers[he])&&(ge=Ae[N?O:A])&&(H=Promise.resolve(Cc.withValue(this.cache,ge,[u,md(l,D),_.context,{field:l,fragmentMap:_.fragmentMap}])))),[2,H.then(function(dt){return void 0===dt&&(dt=J),l.directives&&l.directives.forEach(function(Kt){"export"===Kt.name.value&&Kt.arguments&&Kt.arguments.forEach(function(Jt){"as"===Jt.name.value&&"StringValue"===Jt.value.kind&&(_.exportedVariables[Jt.value.value]=dt)})}),l.selectionSet&&null!=dt?Array.isArray(dt)?Xe.resolveSubSelectedArray(l,dt,_):l.selectionSet?Xe.resolveSelectionSet(l.selectionSet,dt,_):void 0:dt})]})})},c.prototype.resolveSubSelectedArray=function(l,u,_){var D=this;return Promise.all(u.map(function(O){return null===O?null:Array.isArray(O)?D.resolveSubSelectedArray(l,O,_):l.selectionSet?D.resolveSelectionSet(l.selectionSet,O,_):void 0}))},c}()),ws=new(Js?WeakMap:Map);function Dc(c,l){var u=c[l];"function"==typeof u&&(c[l]=function(){return ws.set(c,(ws.get(c)+1)%1e15),u.apply(this,arguments)})}function _p(c){c.notifyTimeout&&(clearTimeout(c.notifyTimeout),c.notifyTimeout=void 0)}var vp=function(){function c(l){this.cache=l,this.listeners=new Set,this.document=null,this.lastRequestId=1,this.subscriptions=new Set,this.stopped=!1,this.dirty=!1,this.diff=null,this.observableQuery=null,ws.has(l)||(ws.set(l,0),Dc(l,"evict"),Dc(l,"modify"),Dc(l,"reset"))}return c.prototype.init=function(l){var u=l.networkStatus||Ao.loading;return this.variables&&this.networkStatus!==Ao.loading&&!Yi(this.variables,l.variables)&&(u=Ao.setVariables),Yi(l.variables,this.variables)||(this.diff=null),Object.assign(this,{document:l.document,variables:l.variables,networkError:null,graphQLErrors:this.graphQLErrors||[],networkStatus:u}),l.observableQuery&&this.setObservableQuery(l.observableQuery),l.lastRequestId&&(this.lastRequestId=l.lastRequestId),this},c.prototype.reset=function(){_p(this),this.diff=null,this.dirty=!1},c.prototype.getDiff=function(l){return void 0===l&&(l=this.variables),this.diff&&Yi(l,this.variables)?this.diff:(this.updateWatch(this.variables=l),this.diff=this.cache.diff({query:this.document,variables:l,returnPartialData:!0,optimistic:!0}))},c.prototype.setDiff=function(l){var u=this,_=this.diff;this.diff=l,!this.dirty&&(l&&l.result)!==(_&&_.result)&&(this.dirty=!0,this.notifyTimeout||(this.notifyTimeout=setTimeout(function(){return u.notify()},0)))},c.prototype.setObservableQuery=function(l){var u=this;l!==this.observableQuery&&(this.oqListener&&this.listeners.delete(this.oqListener),this.observableQuery=l,l?(l.queryInfo=this,this.listeners.add(this.oqListener=function(){u.getDiff().fromOptimisticTransaction?l.observe():l.reobserve()})):delete this.oqListener)},c.prototype.notify=function(){var l=this;_p(this),this.shouldNotify()&&this.listeners.forEach(function(u){return u(l)}),this.dirty=!1},c.prototype.shouldNotify=function(){if(!this.dirty||!this.listeners.size)return!1;if(Xs(this.networkStatus)&&this.observableQuery){var l=this.observableQuery.options.fetchPolicy;if("cache-only"!==l&&"cache-and-network"!==l)return!1}return!0},c.prototype.stop=function(){if(!this.stopped){this.stopped=!0,this.reset(),this.cancel(),delete this.cancel,this.subscriptions.forEach(function(u){return u.unsubscribe()});var l=this.observableQuery;l&&l.stopPolling()}},c.prototype.cancel=function(){},c.prototype.updateWatch=function(l){var u=this;void 0===l&&(l=this.variables);var _=this.observableQuery;_&&"no-cache"===_.options.fetchPolicy||(!this.lastWatch||this.lastWatch.query!==this.document||!Yi(l,this.lastWatch.variables))&&(this.cancel(),this.cancel=this.cache.watch(this.lastWatch={query:this.document,variables:l,optimistic:!0,callback:function(D){return u.setDiff(D)}}))},c.prototype.shouldWrite=function(l,u){var _=this.lastWrite;return!(_&&_.dmCount===ws.get(this.cache)&&Yi(u,_.variables)&&Yi(l.data,_.result.data))},c.prototype.markResult=function(l,u,_){var D=this;this.graphQLErrors=Qs(l.errors)?l.errors:[],this.reset(),"no-cache"===u.fetchPolicy?this.diff={result:l.data,complete:!0}:!this.stopped&&_&&(Oc(l,u.errorPolicy)?this.cache.performTransaction(function(O){if(D.shouldWrite(l,u.variables))O.writeQuery({query:D.document,data:l.data,variables:u.variables}),D.lastWrite={result:l,variables:u.variables,dmCount:ws.get(D.cache)};else if(D.diff&&D.diff.complete)return void(l.data=D.diff.result);var A=O.diff({query:D.document,variables:u.variables,returnPartialData:!0,optimistic:!0});D.stopped||D.updateWatch(u.variables),D.diff=A,A.complete&&(l.data=A.result)}):this.lastWrite=void 0)},c.prototype.markReady=function(){return this.networkError=null,this.networkStatus=Ao.ready},c.prototype.markError=function(l){return this.networkStatus=Ao.error,this.lastWrite=void 0,this.reset(),l.graphQLErrors&&(this.graphQLErrors=l.graphQLErrors),l.networkError&&(this.networkError=l.networkError),l},c}();function Oc(c,l){void 0===l&&(l="none");var u="ignore"===l||"all"===l,_=!Ka(c);return!_&&u&&c.data&&(_=!0),_}var Fg=Object.prototype.hasOwnProperty,Ng=function(){function c(l){var u=l.cache,_=l.link,D=l.queryDeduplication,O=void 0!==D&&D,A=l.onBroadcast,N=l.ssrMode,J=void 0!==N&&N,H=l.clientAwareness,he=void 0===H?{}:H,Ae=l.localState,ge=l.assumeImmutableResults;this.clientAwareness={},this.queries=new Map,this.fetchCancelFns=new Map,this.transformCache=new(Js?WeakMap:Map),this.queryIdCounter=1,this.requestIdCounter=1,this.mutationIdCounter=1,this.inFlightLinkObservables=new Map,this.cache=u,this.link=_,this.queryDeduplication=O,this.clientAwareness=he,this.localState=Ae||new gp({cache:u}),this.ssrMode=J,this.assumeImmutableResults=!!ge,(this.onBroadcast=A)&&(this.mutationStore=Object.create(null))}return c.prototype.stop=function(){var l=this;this.queries.forEach(function(u,_){l.stopQueryNoBroadcast(_)}),this.cancelPendingFetches(new Yo(12))},c.prototype.cancelPendingFetches=function(l){this.fetchCancelFns.forEach(function(u){return u(l)}),this.fetchCancelFns.clear()},c.prototype.mutate=function(l){var u=l.mutation,_=l.variables,D=l.optimisticResponse,O=l.updateQueries,A=l.refetchQueries,N=void 0===A?[]:A,J=l.awaitRefetchQueries,H=void 0!==J&&J,he=l.update,Ae=l.errorPolicy,ge=void 0===Ae?"none":Ae,Xe=l.fetchPolicy,ft=l.context,dt=void 0===ft?{}:ft;return ss(this,void 0,void 0,function(){var Kt,Jt,dn;return as(this,function(Dn){switch(Dn.label){case 0:return co(u,13),co(!Xe||"no-cache"===Xe,14),Kt=this.generateMutationId(),u=this.transform(u).document,_=this.getVariables(u,_),this.transform(u).hasClientExports?[4,this.localState.addExportedVariables(u,_,dt)]:[3,2];case 1:_=Dn.sent(),Dn.label=2;case 2:return Jt=this.mutationStore&&(this.mutationStore[Kt]={mutation:u,variables:_,loading:!0,error:null}),D&&this.markMutationOptimistic(D,{mutationId:Kt,document:u,variables:_,errorPolicy:ge,updateQueries:O,update:he}),this.broadcastQueries(),dn=this,[2,new Promise(function(fn,yn){var Rn,Mn;dn.getObservableFromLink(u,on(on({},dt),{optimisticResponse:D}),_,!1).subscribe({next:function(Pn){if(Ka(Pn)&&"none"===ge)Mn=new Ls({graphQLErrors:Pn.errors});else{if(Jt&&(Jt.loading=!1,Jt.error=null),"no-cache"!==Xe)try{dn.markMutationResult({mutationId:Kt,result:Pn,document:u,variables:_,errorPolicy:ge,updateQueries:O,update:he})}catch(wn){return void(Mn=new Ls({networkError:wn}))}Rn=Pn}},error:function(Pn){Jt&&(Jt.loading=!1,Jt.error=Pn),D&&dn.cache.removeOptimistic(Kt),dn.broadcastQueries(),yn(new Ls({networkError:Pn}))},complete:function(){if(Mn&&Jt&&(Jt.loading=!1,Jt.error=Mn),D&&dn.cache.removeOptimistic(Kt),dn.broadcastQueries(),Mn)yn(Mn);else{"function"==typeof N&&(N=N(Rn));var Pn=[];Qs(N)&&N.forEach(function(wn){if("string"==typeof wn)dn.queries.forEach(function(fr){var Ai=fr.observableQuery;Ai&&Ai.hasObservers()&&Ai.queryName===wn&&Pn.push(Ai.refetch())});else{var wo={query:wn.query,variables:wn.variables,fetchPolicy:"network-only"};wn.context&&(wo.context=wn.context),Pn.push(dn.query(wo))}}),Promise.all(H?Pn:[]).then(function(){"ignore"===ge&&Rn&&Ka(Rn)&&delete Rn.errors,fn(Rn)},yn)}}})})]}})})},c.prototype.markMutationResult=function(l,u){var _=this;if(void 0===u&&(u=this.cache),Oc(l.result,l.errorPolicy)){var D=[{result:l.result.data,dataId:"ROOT_MUTATION",query:l.document,variables:l.variables}],O=l.updateQueries;O&&this.queries.forEach(function(A,N){var J=A.observableQuery,H=J&&J.queryName;if(H&&Fg.call(O,H)){var he=O[H],Ae=_.queries.get(N),ge=Ae.document,Xe=Ae.variables,ft=u.diff({query:ge,variables:Xe,returnPartialData:!0,optimistic:!1}),dt=ft.result;if(ft.complete&&dt){var Jt=he(dt,{mutationResult:l.result,queryName:ge&&Ql(ge)||void 0,queryVariables:Xe});Jt&&D.push({result:Jt,dataId:"ROOT_QUERY",query:ge,variables:Xe})}}}),u.performTransaction(function(A){D.forEach(function(J){return A.write(J)});var N=l.update;N&&N(A,l.result)},null)}},c.prototype.markMutationOptimistic=function(l,u){var _=this,D="function"==typeof l?l(u.variables):l;return this.cache.recordOptimisticTransaction(function(O){try{_.markMutationResult(on(on({},u),{result:{data:D}}),O)}catch(A){}},u.mutationId)},c.prototype.fetchQuery=function(l,u,_){return this.fetchQueryObservable(l,u,_).promise},c.prototype.getQueryStore=function(){var l=Object.create(null);return this.queries.forEach(function(u,_){l[_]={variables:u.variables,networkStatus:u.networkStatus,networkError:u.networkError,graphQLErrors:u.graphQLErrors}}),l},c.prototype.resetErrors=function(l){var u=this.queries.get(l);u&&(u.networkError=void 0,u.graphQLErrors=[])},c.prototype.transform=function(l){var u=this.transformCache;if(!u.has(l)){var _=this.cache.transformDocument(l),D=function(c){return Cd([_m],zs(c))}(this.cache.transformForLink(_)),O=this.localState.clientQuery(_),A=D&&this.localState.serverQuery(D),N={document:_,hasClientExports:em(_),hasForcedResolvers:this.localState.shouldForceResolvers(_),clientQuery:O,serverQuery:A,defaultVars:$l(ks(_))},J=function(H){H&&!u.has(H)&&u.set(H,N)};J(l),J(_),J(O),J(A)}return u.get(l)},c.prototype.getVariables=function(l,u){return on(on({},this.transform(l).defaultVars),u)},c.prototype.watchQuery=function(l){void 0===(l=on(on({},l),{variables:this.getVariables(l.query,l.variables)})).notifyOnNetworkStatusChange&&(l.notifyOnNetworkStatusChange=!1);var u=new vp(this.cache),_=new Wd({queryManager:this,queryInfo:u,options:l});return this.queries.set(_.queryId,u),u.init({document:l.query,observableQuery:_,variables:l.variables}),_},c.prototype.query=function(l){var u=this;co(l.query,15),co("Document"===l.query.kind,16),co(!l.returnPartialData,17),co(!l.pollInterval,18);var _=this.generateQueryId();return this.fetchQuery(_,l).finally(function(){return u.stopQuery(_)})},c.prototype.generateQueryId=function(){return String(this.queryIdCounter++)},c.prototype.generateRequestId=function(){return this.requestIdCounter++},c.prototype.generateMutationId=function(){return String(this.mutationIdCounter++)},c.prototype.stopQueryInStore=function(l){this.stopQueryInStoreNoBroadcast(l),this.broadcastQueries()},c.prototype.stopQueryInStoreNoBroadcast=function(l){var u=this.queries.get(l);u&&u.stop()},c.prototype.clearStore=function(){return this.cancelPendingFetches(new Yo(19)),this.queries.forEach(function(l){l.observableQuery?l.networkStatus=Ao.loading:l.stop()}),this.mutationStore&&(this.mutationStore=Object.create(null)),this.cache.reset()},c.prototype.resetStore=function(){var l=this;return this.clearStore().then(function(){return l.reFetchObservableQueries()})},c.prototype.reFetchObservableQueries=function(l){var u=this;void 0===l&&(l=!1);var _=[];return this.queries.forEach(function(D,O){var A=D.observableQuery;if(A&&A.hasObservers()){var N=A.options.fetchPolicy;A.resetLastResults(),"cache-only"!==N&&(l||"standby"!==N)&&_.push(A.refetch()),u.getQuery(O).setDiff(null)}}),this.broadcastQueries(),Promise.all(_)},c.prototype.setObservableQuery=function(l){this.getQuery(l.queryId).setObservableQuery(l)},c.prototype.startGraphQLSubscription=function(l){var u=this,_=l.query,D=l.fetchPolicy,O=l.errorPolicy,A=l.variables,N=l.context,J=void 0===N?{}:N;_=this.transform(_).document,A=this.getVariables(_,A);var H=function(Ae){return u.getObservableFromLink(_,J,Ae,!1).map(function(ge){if("no-cache"!==D&&(Oc(ge,O)&&u.cache.write({query:_,result:ge.data,dataId:"ROOT_SUBSCRIPTION",variables:Ae}),u.broadcastQueries()),Ka(ge))throw new Ls({graphQLErrors:ge.errors});return ge})};if(this.transform(_).hasClientExports){var he=this.localState.addExportedVariables(_,A,J).then(H);return new(yo())(function(Ae){var ge=null;return he.then(function(Xe){return ge=Xe.subscribe(Ae)},Ae.error),function(){return ge&&ge.unsubscribe()}})}return H(A)},c.prototype.stopQuery=function(l){this.stopQueryNoBroadcast(l),this.broadcastQueries()},c.prototype.stopQueryNoBroadcast=function(l){this.stopQueryInStoreNoBroadcast(l),this.removeQuery(l)},c.prototype.removeQuery=function(l){this.fetchCancelFns.delete(l),this.getQuery(l).stop(),this.queries.delete(l)},c.prototype.broadcastQueries=function(){this.onBroadcast&&this.onBroadcast(),this.queries.forEach(function(l){return l.notify()})},c.prototype.getLocalState=function(){return this.localState},c.prototype.getObservableFromLink=function(l,u,_,D){var A,O=this;void 0===D&&(D=null!==(A=null==u?void 0:u.queryDeduplication)&&void 0!==A?A:this.queryDeduplication);var N,J=this.transform(l).serverQuery;if(J){var he=this.inFlightLinkObservables,Ae=this.link,ge={query:J,variables:_,operationName:Ql(J)||void 0,context:this.prepareContext(on(on({},u),{forceFetch:!D}))};if(u=ge.context,D){var Xe=he.get(J)||new Map;he.set(J,Xe);var ft=JSON.stringify(_);if(!(N=Xe.get(ft))){var dt=new Zs([sc(Ae,ge)]);Xe.set(ft,N=dt),dt.cleanup(function(){Xe.delete(ft)&&Xe.size<1&&he.delete(J)})}}else N=new Zs([sc(Ae,ge)])}else N=new Zs([yo().of({data:{}})]),u=this.prepareContext(u);var Kt=this.transform(l).clientQuery;return Kt&&(N=xd(N,function(Jt){return O.localState.runResolvers({document:Kt,remoteResult:Jt,context:u,variables:_})})),N},c.prototype.getResultsFromLink=function(l,u,_){var D=l.lastRequestId=this.generateRequestId();return xd(this.getObservableFromLink(l.document,_.context,_.variables),function(O){var A=Qs(O.errors);if(D>=l.lastRequestId){if(A&&"none"===_.errorPolicy)throw l.markError(new Ls({graphQLErrors:O.errors}));l.markResult(O,_,u),l.markReady()}var N={data:O.data,loading:!1,networkStatus:l.networkStatus||Ao.ready};return A&&"ignore"!==_.errorPolicy&&(N.errors=O.errors),N},function(O){var A=function(c){return c.hasOwnProperty("graphQLErrors")}(O)?O:new Ls({networkError:O});throw D>=l.lastRequestId&&l.markError(A),A})},c.prototype.fetchQueryObservable=function(l,u,_){var D=this;void 0===_&&(_=Ao.loading);var O=this.transform(u.query).document,A=this.getVariables(O,u.variables),N=this.getQuery(l),J=N.networkStatus,H=u.fetchPolicy,he=void 0===H?"cache-first":H,Ae=u.errorPolicy,ge=void 0===Ae?"none":Ae,Xe=u.returnPartialData,ft=void 0!==Xe&&Xe,dt=u.notifyOnNetworkStatusChange,Kt=void 0!==dt&&dt,Jt=u.context,dn=void 0===Jt?{}:Jt;("cache-first"===he||"cache-and-network"===he||"network-only"===he||"no-cache"===he)&&Kt&&"number"==typeof J&&J!==_&&Xs(_)&&("cache-first"!==he&&(he="cache-and-network"),ft=!0);var fn=Object.assign({},u,{query:O,variables:A,fetchPolicy:he,errorPolicy:ge,returnPartialData:ft,notifyOnNetworkStatusChange:Kt,context:dn}),yn=function(Mn){return fn.variables=Mn,D.fetchQueryByPolicy(N,fn,_)};this.fetchCancelFns.set(l,function(Mn){Promise.resolve().then(function(){return Rn.cancel(Mn)})});var Rn=new Zs(this.transform(fn.query).hasClientExports?this.localState.addExportedVariables(fn.query,fn.variables,fn.context).then(yn):yn(fn.variables));return Rn.cleanup(function(){D.fetchCancelFns.delete(l);var Mn=u.nextFetchPolicy;Mn&&(u.nextFetchPolicy=void 0,u.fetchPolicy="function"==typeof Mn?Mn.call(u,u.fetchPolicy||"cache-first"):Mn)}),Rn},c.prototype.fetchQueryByPolicy=function(l,u,_){var D=this,O=u.query,A=u.variables,N=u.fetchPolicy,J=u.errorPolicy,H=u.returnPartialData,he=u.context;l.init({document:O,variables:A,networkStatus:_});var Ae=function(){return l.getDiff(A)},ge=function(dt,Kt){void 0===Kt&&(Kt=l.networkStatus||Ao.loading);var Jt=dt.result,dn=function(Dn){return yo().of(on({data:Dn,loading:Xs(Kt),networkStatus:Kt},dt.complete?null:{partial:!0}))};return D.transform(O).hasForcedResolvers?D.localState.runResolvers({document:O,remoteResult:{data:Jt},context:he,variables:A,onlyRunForcedResolvers:!0}).then(function(Dn){return dn(Dn.data)}):dn(Jt)},Xe=function(dt){return D.getResultsFromLink(l,dt,{variables:A,context:he,fetchPolicy:N,errorPolicy:J})};switch(N){default:case"cache-first":return(ft=Ae()).complete?[ge(ft,l.markReady())]:H?[ge(ft),Xe(!0)]:[Xe(!0)];case"cache-and-network":var ft;return(ft=Ae()).complete||H?[ge(ft),Xe(!0)]:[Xe(!0)];case"cache-only":return[ge(Ae(),l.markReady())];case"network-only":return[Xe(!0)];case"no-cache":return[Xe(!1)];case"standby":return[]}},c.prototype.getQuery=function(l){return l&&!this.queries.has(l)&&this.queries.set(l,new vp(this.cache)),this.queries.get(l)},c.prototype.prepareContext=function(l){void 0===l&&(l={});var u=this.localState.prepareContext(l);return on(on({},u),{clientAwareness:this.clientAwareness})},c}();function Ic(c,l){return rc(c,l,l.variables&&{variables:on(on({},c.variables),l.variables)})}!function(){function c(l){var u=this;this.defaultOptions={},this.resetStoreCallbacks=[],this.clearStoreCallbacks=[];var _=l.uri,A=l.cache,N=l.ssrMode,J=void 0!==N&&N,H=l.ssrForceFetchDelay,he=void 0===H?0:H,Ae=l.connectToDevTools,ge=void 0===Ae?"object"==typeof window&&!window.__APOLLO_CLIENT__&&!1:Ae,Xe=l.queryDeduplication,ft=void 0===Xe||Xe,dt=l.defaultOptions,Kt=l.assumeImmutableResults,Jt=void 0!==Kt&&Kt,dn=l.resolvers,Dn=l.typeDefs,fn=l.fragmentMatcher,yn=l.name,Rn=l.version,Mn=l.link;if(Mn||(Mn=_?new jm({uri:_,credentials:l.credentials,headers:l.headers}):hr.empty()),!A)throw new Yo(9);this.link=Mn,this.cache=A,this.disableNetworkFetches=J||he>0,this.queryDeduplication=ft,this.defaultOptions=dt||{},this.typeDefs=Dn,he&&setTimeout(function(){return u.disableNetworkFetches=!1},he),this.watchQuery=this.watchQuery.bind(this),this.query=this.query.bind(this),this.mutate=this.mutate.bind(this),this.resetStore=this.resetStore.bind(this),this.reFetchObservableQueries=this.reFetchObservableQueries.bind(this),ge&&"object"==typeof window&&(window.__APOLLO_CLIENT__=this),this.version="3.3.15",this.localState=new gp({cache:A,client:this,resolvers:dn,fragmentMatcher:fn}),this.queryManager=new Ng({cache:this.cache,link:this.link,queryDeduplication:ft,ssrMode:J,clientAwareness:{name:yn,version:Rn},localState:this.localState,assumeImmutableResults:Jt,onBroadcast:ge?function(){u.devToolsHookCb&&u.devToolsHookCb({action:{},state:{queries:u.queryManager.getQueryStore(),mutations:u.queryManager.mutationStore||{}},dataWithOptimisticResults:u.cache.extract(!0)})}:void 0})}c.prototype.stop=function(){this.queryManager.stop()},c.prototype.watchQuery=function(l){return this.defaultOptions.watchQuery&&(l=Ic(this.defaultOptions.watchQuery,l)),this.disableNetworkFetches&&("network-only"===l.fetchPolicy||"cache-and-network"===l.fetchPolicy)&&(l=on(on({},l),{fetchPolicy:"cache-first"})),this.queryManager.watchQuery(l)},c.prototype.query=function(l){return this.defaultOptions.query&&(l=Ic(this.defaultOptions.query,l)),co("cache-and-network"!==l.fetchPolicy,10),this.disableNetworkFetches&&"network-only"===l.fetchPolicy&&(l=on(on({},l),{fetchPolicy:"cache-first"})),this.queryManager.query(l)},c.prototype.mutate=function(l){return this.defaultOptions.mutate&&(l=Ic(this.defaultOptions.mutate,l)),this.queryManager.mutate(l)},c.prototype.subscribe=function(l){return this.queryManager.startGraphQLSubscription(l)},c.prototype.readQuery=function(l,u){return void 0===u&&(u=!1),this.cache.readQuery(l,u)},c.prototype.readFragment=function(l,u){return void 0===u&&(u=!1),this.cache.readFragment(l,u)},c.prototype.writeQuery=function(l){this.cache.writeQuery(l),this.queryManager.broadcastQueries()},c.prototype.writeFragment=function(l){this.cache.writeFragment(l),this.queryManager.broadcastQueries()},c.prototype.__actionHookForDevTools=function(l){this.devToolsHookCb=l},c.prototype.__requestRaw=function(l){return sc(this.link,l)},c.prototype.resetStore=function(){var l=this;return Promise.resolve().then(function(){return l.queryManager.clearStore()}).then(function(){return Promise.all(l.resetStoreCallbacks.map(function(u){return u()}))}).then(function(){return l.reFetchObservableQueries()})},c.prototype.clearStore=function(){var l=this;return Promise.resolve().then(function(){return l.queryManager.clearStore()}).then(function(){return Promise.all(l.clearStoreCallbacks.map(function(u){return u()}))})},c.prototype.onResetStore=function(l){var u=this;return this.resetStoreCallbacks.push(l),function(){u.resetStoreCallbacks=u.resetStoreCallbacks.filter(function(_){return _!==l})}},c.prototype.onClearStore=function(l){var u=this;return this.clearStoreCallbacks.push(l),function(){u.clearStoreCallbacks=u.clearStoreCallbacks.filter(function(_){return _!==l})}},c.prototype.reFetchObservableQueries=function(l){return this.queryManager.reFetchObservableQueries(l)},c.prototype.extract=function(l){return this.cache.extract(l)},c.prototype.restore=function(l){return this.cache.restore(l)},c.prototype.addResolvers=function(l){this.localState.addResolvers(l)},c.prototype.setResolvers=function(l){this.localState.setResolvers(l)},c.prototype.getResolvers=function(){return this.localState.getResolvers()},c.prototype.setLocalStateFragmentMatcher=function(l){this.localState.setFragmentMatcher(l)},c.prototype.setLink=function(l){this.link=this.queryManager.link=l}}();var Qa=function(){return(Qa=Object.assign||function(l){for(var u,_=1,D=arguments.length;_<D;_++)for(var O in u=arguments[_])Object.prototype.hasOwnProperty.call(u,O)&&(l[O]=u[O]);return l}).apply(this,arguments)};function $a(c){return($a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(u){return typeof u}:function(u){return u&&"function"==typeof Symbol&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":typeof u})(c)}"function"==typeof Symbol&&null!=Symbol.iterator&&Symbol,"function"==typeof Symbol&&null!=Symbol.asyncIterator&&Symbol;var yp="function"==typeof Symbol&&null!=Symbol.toStringTag?Symbol.toStringTag:"@@toStringTag";function xc(c,l){for(var O,u=/\r\n|[\n\r]/g,_=1,D=l+1;(O=u.exec(c.body))&&O.index<l;)_+=1,D=l+1-(O.index+O[0].length);return{line:_,column:D}}function Gg(c){return Tp(c.source,xc(c.source,c.start))}function Tp(c,l){var u=c.locationOffset.column-1,_=Xa(u)+c.body,D=l.line-1,A=l.line+(c.locationOffset.line-1),J=l.column+(1===l.line?u:0),H="".concat(c.name,":").concat(A,":").concat(J,"\n"),he=_.split(/\r\n|[\n\r]/g),Ae=he[D];if(Ae.length>120){for(var ge=Math.floor(J/80),Xe=J%80,ft=[],dt=0;dt<Ae.length;dt+=80)ft.push(Ae.slice(dt,dt+80));return H+Dp([["".concat(A),ft[0]]].concat(ft.slice(1,ge+1).map(function(Kt){return["",Kt]}),[[" ",Xa(Xe-1)+"^"],["",ft[ge+1]]]))}return H+Dp([["".concat(A-1),he[D-1]],["".concat(A),Ae],["",Xa(J-1)+"^"],["".concat(A+1),he[D+1]]])}function Dp(c){var l=c.filter(function(_){return void 0!==_[1]}),u=Math.max.apply(Math,l.map(function(_){return _[0].length}));return l.map(function(_){var O=_[1];return function(c,l){return Xa(c-l.length)+l}(u,_[0])+(O?" | "+O:" |")}).join("\n")}function Xa(c){return Array(c+1).join(" ")}function qa(c){return(qa="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(u){return typeof u}:function(u){return u&&"function"==typeof Symbol&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":typeof u})(c)}function Op(c,l){for(var u=0;u<l.length;u++){var _=l[u];_.enumerable=_.enumerable||!1,_.configurable=!0,"value"in _&&(_.writable=!0),Object.defineProperty(c,_.key,_)}}function Ip(c,l){return!l||"object"!==qa(l)&&"function"!=typeof l?oa(c):l}function oa(c){if(void 0===c)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return c}function Mc(c){var l="function"==typeof Map?new Map:void 0;return(Mc=function(_){if(null===_||!function(c){return-1!==Function.toString.call(c).indexOf("[native code]")}(_))return _;if("function"!=typeof _)throw new TypeError("Super expression must either be null or a function");if(void 0!==l){if(l.has(_))return l.get(_);l.set(_,D)}function D(){return el(_,arguments,ra(this).constructor)}return D.prototype=Object.create(_.prototype,{constructor:{value:D,enumerable:!1,writable:!0,configurable:!0}}),ia(D,_)})(c)}function el(c,l,u){return(el=Sp()?Reflect.construct:function(D,O,A){var N=[null];N.push.apply(N,O);var H=new(Function.bind.apply(D,N));return A&&ia(H,A.prototype),H}).apply(null,arguments)}function Sp(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(c){return!1}}function ia(c,l){return(ia=Object.setPrototypeOf||function(_,D){return _.__proto__=D,_})(c,l)}function ra(c){return(ra=Object.setPrototypeOf?Object.getPrototypeOf:function(u){return u.__proto__||Object.getPrototypeOf(u)})(c)}var Qg=function(c){!function(c,l){if("function"!=typeof l&&null!==l)throw new TypeError("Super expression must either be null or a function");c.prototype=Object.create(l&&l.prototype,{constructor:{value:c,writable:!0,configurable:!0}}),l&&ia(c,l)}(u,c);var l=function(c){var l=Sp();return function(){var D,_=ra(c);if(l){var O=ra(this).constructor;D=Reflect.construct(_,arguments,O)}else D=_.apply(this,arguments);return Ip(this,D)}}(u);function u(_,D,O,A,N,J,H){var he,Ae,ge,Xe,ft;(function(c,l){if(!(c instanceof l))throw new TypeError("Cannot call a class as a function")})(this,u),ft=l.call(this,_);var Jt,dt=Array.isArray(D)?0!==D.length?D:void 0:D?[D]:void 0,Kt=O;!Kt&&dt&&(Kt=null===(Jt=dt[0].loc)||void 0===Jt?void 0:Jt.source);var Dn,dn=A;!dn&&dt&&(dn=dt.reduce(function(Rn,Mn){return Mn.loc&&Rn.push(Mn.loc.start),Rn},[])),dn&&0===dn.length&&(dn=void 0),A&&O?Dn=A.map(function(Rn){return xc(O,Rn)}):dt&&(Dn=dt.reduce(function(Rn,Mn){return Mn.loc&&Rn.push(xc(Mn.loc.source,Mn.loc.start)),Rn},[]));var fn=H;if(null==fn&&null!=J){var yn=J.extensions;(function(c){return"object"==$a(c)&&null!==c})(yn)&&(fn=yn)}return Object.defineProperties(oa(ft),{name:{value:"GraphQLError"},message:{value:_,enumerable:!0,writable:!0},locations:{value:null!==(he=Dn)&&void 0!==he?he:void 0,enumerable:null!=Dn},path:{value:null!=N?N:void 0,enumerable:null!=N},nodes:{value:null!=dt?dt:void 0},source:{value:null!==(Ae=Kt)&&void 0!==Ae?Ae:void 0},positions:{value:null!==(ge=dn)&&void 0!==ge?ge:void 0},originalError:{value:J},extensions:{value:null!==(Xe=fn)&&void 0!==Xe?Xe:void 0,enumerable:null!=fn}}),null!=J&&J.stack?(Object.defineProperty(oa(ft),"stack",{value:J.stack,writable:!0,configurable:!0}),Ip(ft)):(Error.captureStackTrace?Error.captureStackTrace(oa(ft),u):Object.defineProperty(oa(ft),"stack",{value:Error().stack,writable:!0,configurable:!0}),ft)}return function(c,l,u){l&&Op(c.prototype,l)}(u,[{key:"toString",value:function(){return function(c){var l=c.message;if(c.nodes)for(var u=0,_=c.nodes;u<_.length;u++){var D=_[u];D.loc&&(l+="\n\n"+Gg(D.loc))}else if(c.source&&c.locations)for(var O=0,A=c.locations;O<A.length;O++)l+="\n\n"+Tp(c.source,A[O]);return l}(this)}},{key:yp,get:function(){return"Object"}}]),u}(Mc(Error));function ui(c,l,u){return new Qg("Syntax Error: ".concat(u),void 0,c,[l])}var Bn=Object.freeze({NAME:"Name",DOCUMENT:"Document",OPERATION_DEFINITION:"OperationDefinition",VARIABLE_DEFINITION:"VariableDefinition",SELECTION_SET:"SelectionSet",FIELD:"Field",ARGUMENT:"Argument",FRAGMENT_SPREAD:"FragmentSpread",INLINE_FRAGMENT:"InlineFragment",FRAGMENT_DEFINITION:"FragmentDefinition",VARIABLE:"Variable",INT:"IntValue",FLOAT:"FloatValue",STRING:"StringValue",BOOLEAN:"BooleanValue",NULL:"NullValue",ENUM:"EnumValue",LIST:"ListValue",OBJECT:"ObjectValue",OBJECT_FIELD:"ObjectField",DIRECTIVE:"Directive",NAMED_TYPE:"NamedType",LIST_TYPE:"ListType",NON_NULL_TYPE:"NonNullType",SCHEMA_DEFINITION:"SchemaDefinition",OPERATION_TYPE_DEFINITION:"OperationTypeDefinition",SCALAR_TYPE_DEFINITION:"ScalarTypeDefinition",OBJECT_TYPE_DEFINITION:"ObjectTypeDefinition",FIELD_DEFINITION:"FieldDefinition",INPUT_VALUE_DEFINITION:"InputValueDefinition",INTERFACE_TYPE_DEFINITION:"InterfaceTypeDefinition",UNION_TYPE_DEFINITION:"UnionTypeDefinition",ENUM_TYPE_DEFINITION:"EnumTypeDefinition",ENUM_VALUE_DEFINITION:"EnumValueDefinition",INPUT_OBJECT_TYPE_DEFINITION:"InputObjectTypeDefinition",DIRECTIVE_DEFINITION:"DirectiveDefinition",SCHEMA_EXTENSION:"SchemaExtension",SCALAR_TYPE_EXTENSION:"ScalarTypeExtension",OBJECT_TYPE_EXTENSION:"ObjectTypeExtension",INTERFACE_TYPE_EXTENSION:"InterfaceTypeExtension",UNION_TYPE_EXTENSION:"UnionTypeExtension",ENUM_TYPE_EXTENSION:"EnumTypeExtension",INPUT_OBJECT_TYPE_EXTENSION:"InputObjectTypeExtension"}),kt=Object.freeze({SOF:"<SOF>",EOF:"<EOF>",BANG:"!",DOLLAR:"$",AMP:"&",PAREN_L:"(",PAREN_R:")",SPREAD:"...",COLON:":",EQUALS:"=",AT:"@",BRACKET_L:"[",BRACKET_R:"]",BRACE_L:"{",PIPE:"|",BRACE_R:"}",NAME:"Name",INT:"Int",FLOAT:"Float",STRING:"String",BLOCK_STRING:"BlockString",COMMENT:"Comment"});function Rc(c,l){if(!Boolean(c))throw new Error(l)}function xp(c,l){for(var u=0;u<l.length;u++){var _=l[u];_.enumerable=_.enumerable||!1,_.configurable=!0,"value"in _&&(_.writable=!0),Object.defineProperty(c,_.key,_)}}var Mp=function(){function c(l){var u=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"GraphQL request",_=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{line:1,column:1};"string"==typeof l||Rc(0,"Body must be a string. Received: ".concat(oe(l),".")),this.body=l,this.name=u,this.locationOffset=_,this.locationOffset.line>0||Rc(0,"line in locationOffset is 1-indexed and must be positive."),this.locationOffset.column>0||Rc(0,"column in locationOffset is 1-indexed and must be positive.")}return function(c,l,u){l&&xp(c.prototype,l)}(c,[{key:yp,get:function(){return"Source"}}]),c}(),e_=Object.freeze({QUERY:"QUERY",MUTATION:"MUTATION",SUBSCRIPTION:"SUBSCRIPTION",FIELD:"FIELD",FRAGMENT_DEFINITION:"FRAGMENT_DEFINITION",FRAGMENT_SPREAD:"FRAGMENT_SPREAD",INLINE_FRAGMENT:"INLINE_FRAGMENT",VARIABLE_DEFINITION:"VARIABLE_DEFINITION",SCHEMA:"SCHEMA",SCALAR:"SCALAR",OBJECT:"OBJECT",FIELD_DEFINITION:"FIELD_DEFINITION",ARGUMENT_DEFINITION:"ARGUMENT_DEFINITION",INTERFACE:"INTERFACE",UNION:"UNION",ENUM:"ENUM",ENUM_VALUE:"ENUM_VALUE",INPUT_OBJECT:"INPUT_OBJECT",INPUT_FIELD_DEFINITION:"INPUT_FIELD_DEFINITION"}),t_=function(){function c(u){var _=new V(kt.SOF,0,0,0,0,null);this.source=u,this.lastToken=_,this.token=_,this.line=1,this.lineStart=0}var l=c.prototype;return l.advance=function(){return this.lastToken=this.token,this.token=this.lookahead()},l.lookahead=function(){var _=this.token;if(_.kind!==kt.EOF)do{var D;_=null!==(D=_.next)&&void 0!==D?D:_.next=o_(this,_)}while(_.kind===kt.COMMENT);return _},c}();function cs(c){return isNaN(c)?kt.EOF:c<127?JSON.stringify(String.fromCharCode(c)):'"\\u'.concat(("00"+c.toString(16).toUpperCase()).slice(-4),'"')}function o_(c,l){for(var u=c.source,_=u.body,D=_.length,O=l.end;O<D;){var A=_.charCodeAt(O),N=c.line,J=1+O-c.lineStart;switch(A){case 65279:case 9:case 32:case 44:++O;continue;case 10:++O,++c.line,c.lineStart=O;continue;case 13:10===_.charCodeAt(O+1)?O+=2:++O,++c.line,c.lineStart=O;continue;case 33:return new V(kt.BANG,O,O+1,N,J,l);case 35:return r_(u,O,N,J,l);case 36:return new V(kt.DOLLAR,O,O+1,N,J,l);case 38:return new V(kt.AMP,O,O+1,N,J,l);case 40:return new V(kt.PAREN_L,O,O+1,N,J,l);case 41:return new V(kt.PAREN_R,O,O+1,N,J,l);case 46:if(46===_.charCodeAt(O+1)&&46===_.charCodeAt(O+2))return new V(kt.SPREAD,O,O+3,N,J,l);break;case 58:return new V(kt.COLON,O,O+1,N,J,l);case 61:return new V(kt.EQUALS,O,O+1,N,J,l);case 64:return new V(kt.AT,O,O+1,N,J,l);case 91:return new V(kt.BRACKET_L,O,O+1,N,J,l);case 93:return new V(kt.BRACKET_R,O,O+1,N,J,l);case 123:return new V(kt.BRACE_L,O,O+1,N,J,l);case 124:return new V(kt.PIPE,O,O+1,N,J,l);case 125:return new V(kt.BRACE_R,O,O+1,N,J,l);case 34:return 34===_.charCodeAt(O+1)&&34===_.charCodeAt(O+2)?l_(u,O,N,J,l,c):a_(u,O,N,J,l);case 45:case 48:case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:return s_(u,O,A,N,J,l);case 65:case 66:case 67:case 68:case 69:case 70:case 71:case 72:case 73:case 74:case 75:case 76:case 77:case 78:case 79:case 80:case 81:case 82:case 83:case 84:case 85:case 86:case 87:case 88:case 89:case 90:case 95:case 97:case 98:case 99:case 100:case 101:case 102:case 103:case 104:case 105:case 106:case 107:case 108:case 109:case 110:case 111:case 112:case 113:case 114:case 115:case 116:case 117:case 118:case 119:case 120:case 121:case 122:return u_(u,O,N,J,l)}throw ui(u,O,i_(A))}return new V(kt.EOF,D,D,c.line,1+O-c.lineStart,l)}function i_(c){return c<32&&9!==c&&10!==c&&13!==c?"Cannot contain the invalid character ".concat(cs(c),"."):39===c?"Unexpected single quote character ('), did you mean to use a double quote (\")?":"Cannot parse the unexpected character ".concat(cs(c),".")}function r_(c,l,u,_,D){var A,O=c.body,N=l;do{A=O.charCodeAt(++N)}while(!isNaN(A)&&(A>31||9===A));return new V(kt.COMMENT,l,N,u,_,D,O.slice(l+1,N))}function s_(c,l,u,_,D,O){var A=c.body,N=u,J=l,H=!1;if(45===N&&(N=A.charCodeAt(++J)),48===N){if((N=A.charCodeAt(++J))>=48&&N<=57)throw ui(c,J,"Invalid number, unexpected digit after 0: ".concat(cs(N),"."))}else J=Pc(c,J,N),N=A.charCodeAt(J);if(46===N&&(H=!0,N=A.charCodeAt(++J),J=Pc(c,J,N),N=A.charCodeAt(J)),(69===N||101===N)&&(H=!0,(43===(N=A.charCodeAt(++J))||45===N)&&(N=A.charCodeAt(++J)),J=Pc(c,J,N),N=A.charCodeAt(J)),46===N||function(c){return 95===c||c>=65&&c<=90||c>=97&&c<=122}(N))throw ui(c,J,"Invalid number, expected digit but got: ".concat(cs(N),"."));return new V(H?kt.FLOAT:kt.INT,l,J,_,D,O,A.slice(l,J))}function Pc(c,l,u){var _=c.body,D=l,O=u;if(O>=48&&O<=57){do{O=_.charCodeAt(++D)}while(O>=48&&O<=57);return D}throw ui(c,D,"Invalid number, expected digit but got: ".concat(cs(O),"."))}function a_(c,l,u,_,D){for(var O=c.body,A=l+1,N=A,J=0,H="";A<O.length&&!isNaN(J=O.charCodeAt(A))&&10!==J&&13!==J;){if(34===J)return H+=O.slice(N,A),new V(kt.STRING,l,A+1,u,_,D,H);if(J<32&&9!==J)throw ui(c,A,"Invalid character within String: ".concat(cs(J),"."));if(++A,92===J){switch(H+=O.slice(N,A-1),J=O.charCodeAt(A)){case 34:H+='"';break;case 47:H+="/";break;case 92:H+="\\";break;case 98:H+="\b";break;case 102:H+="\f";break;case 110:H+="\n";break;case 114:H+="\r";break;case 116:H+="\t";break;case 117:var he=c_(O.charCodeAt(A+1),O.charCodeAt(A+2),O.charCodeAt(A+3),O.charCodeAt(A+4));if(he<0){var Ae=O.slice(A+1,A+5);throw ui(c,A,"Invalid character escape sequence: \\u".concat(Ae,"."))}H+=String.fromCharCode(he),A+=4;break;default:throw ui(c,A,"Invalid character escape sequence: \\".concat(String.fromCharCode(J),"."))}N=++A}}throw ui(c,A,"Unterminated string.")}function l_(c,l,u,_,D,O){for(var A=c.body,N=l+3,J=N,H=0,he="";N<A.length&&!isNaN(H=A.charCodeAt(N));){if(34===H&&34===A.charCodeAt(N+1)&&34===A.charCodeAt(N+2))return he+=A.slice(J,N),new V(kt.BLOCK_STRING,l,N+3,u,_,D,Xh(he));if(H<32&&9!==H&&10!==H&&13!==H)throw ui(c,N,"Invalid character within String: ".concat(cs(H),"."));10===H?(++N,++O.line,O.lineStart=N):13===H?(10===A.charCodeAt(N+1)?N+=2:++N,++O.line,O.lineStart=N):92===H&&34===A.charCodeAt(N+1)&&34===A.charCodeAt(N+2)&&34===A.charCodeAt(N+3)?(he+=A.slice(J,N)+'"""',J=N+=4):++N}throw ui(c,N,"Unterminated string.")}function c_(c,l,u,_){return tl(c)<<12|tl(l)<<8|tl(u)<<4|tl(_)}function tl(c){return c>=48&&c<=57?c-48:c>=65&&c<=70?c-55:c>=97&&c<=102?c-87:-1}function u_(c,l,u,_,D){for(var O=c.body,A=O.length,N=l+1,J=0;N!==A&&!isNaN(J=O.charCodeAt(N))&&(95===J||J>=48&&J<=57||J>=65&&J<=90||J>=97&&J<=122);)++N;return new V(kt.NAME,l,N,u,_,D,O.slice(l,N))}var Lc=function(){function c(u,_){var D=function(c){return c instanceof Mp}(u)?u:new Mp(u);this._lexer=new t_(D),this._options=_}var l=c.prototype;return l.parseName=function(){var _=this.expectToken(kt.NAME);return{kind:Bn.NAME,value:_.value,loc:this.loc(_)}},l.parseDocument=function(){var _=this._lexer.token;return{kind:Bn.DOCUMENT,definitions:this.many(kt.SOF,this.parseDefinition,kt.EOF),loc:this.loc(_)}},l.parseDefinition=function(){if(this.peek(kt.NAME))switch(this._lexer.token.value){case"query":case"mutation":case"subscription":return this.parseOperationDefinition();case"fragment":return this.parseFragmentDefinition();case"schema":case"scalar":case"type":case"interface":case"union":case"enum":case"input":case"directive":return this.parseTypeSystemDefinition();case"extend":return this.parseTypeSystemExtension()}else{if(this.peek(kt.BRACE_L))return this.parseOperationDefinition();if(this.peekDescription())return this.parseTypeSystemDefinition()}throw this.unexpected()},l.parseOperationDefinition=function(){var _=this._lexer.token;if(this.peek(kt.BRACE_L))return{kind:Bn.OPERATION_DEFINITION,operation:"query",name:void 0,variableDefinitions:[],directives:[],selectionSet:this.parseSelectionSet(),loc:this.loc(_)};var O,D=this.parseOperationType();return this.peek(kt.NAME)&&(O=this.parseName()),{kind:Bn.OPERATION_DEFINITION,operation:D,name:O,variableDefinitions:this.parseVariableDefinitions(),directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet(),loc:this.loc(_)}},l.parseOperationType=function(){var _=this.expectToken(kt.NAME);switch(_.value){case"query":return"query";case"mutation":return"mutation";case"subscription":return"subscription"}throw this.unexpected(_)},l.parseVariableDefinitions=function(){return this.optionalMany(kt.PAREN_L,this.parseVariableDefinition,kt.PAREN_R)},l.parseVariableDefinition=function(){var _=this._lexer.token;return{kind:Bn.VARIABLE_DEFINITION,variable:this.parseVariable(),type:(this.expectToken(kt.COLON),this.parseTypeReference()),defaultValue:this.expectOptionalToken(kt.EQUALS)?this.parseValueLiteral(!0):void 0,directives:this.parseDirectives(!0),loc:this.loc(_)}},l.parseVariable=function(){var _=this._lexer.token;return this.expectToken(kt.DOLLAR),{kind:Bn.VARIABLE,name:this.parseName(),loc:this.loc(_)}},l.parseSelectionSet=function(){var _=this._lexer.token;return{kind:Bn.SELECTION_SET,selections:this.many(kt.BRACE_L,this.parseSelection,kt.BRACE_R),loc:this.loc(_)}},l.parseSelection=function(){return this.peek(kt.SPREAD)?this.parseFragment():this.parseField()},l.parseField=function(){var O,A,_=this._lexer.token,D=this.parseName();return this.expectOptionalToken(kt.COLON)?(O=D,A=this.parseName()):A=D,{kind:Bn.FIELD,alias:O,name:A,arguments:this.parseArguments(!1),directives:this.parseDirectives(!1),selectionSet:this.peek(kt.BRACE_L)?this.parseSelectionSet():void 0,loc:this.loc(_)}},l.parseArguments=function(_){return this.optionalMany(kt.PAREN_L,_?this.parseConstArgument:this.parseArgument,kt.PAREN_R)},l.parseArgument=function(){var _=this._lexer.token,D=this.parseName();return this.expectToken(kt.COLON),{kind:Bn.ARGUMENT,name:D,value:this.parseValueLiteral(!1),loc:this.loc(_)}},l.parseConstArgument=function(){var _=this._lexer.token;return{kind:Bn.ARGUMENT,name:this.parseName(),value:(this.expectToken(kt.COLON),this.parseValueLiteral(!0)),loc:this.loc(_)}},l.parseFragment=function(){var _=this._lexer.token;this.expectToken(kt.SPREAD);var D=this.expectOptionalKeyword("on");return!D&&this.peek(kt.NAME)?{kind:Bn.FRAGMENT_SPREAD,name:this.parseFragmentName(),directives:this.parseDirectives(!1),loc:this.loc(_)}:{kind:Bn.INLINE_FRAGMENT,typeCondition:D?this.parseNamedType():void 0,directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet(),loc:this.loc(_)}},l.parseFragmentDefinition=function(){var _,D=this._lexer.token;return this.expectKeyword("fragment"),!0===(null===(_=this._options)||void 0===_?void 0:_.experimentalFragmentVariables)?{kind:Bn.FRAGMENT_DEFINITION,name:this.parseFragmentName(),variableDefinitions:this.parseVariableDefinitions(),typeCondition:(this.expectKeyword("on"),this.parseNamedType()),directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet(),loc:this.loc(D)}:{kind:Bn.FRAGMENT_DEFINITION,name:this.parseFragmentName(),typeCondition:(this.expectKeyword("on"),this.parseNamedType()),directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet(),loc:this.loc(D)}},l.parseFragmentName=function(){if("on"===this._lexer.token.value)throw this.unexpected();return this.parseName()},l.parseValueLiteral=function(_){var D=this._lexer.token;switch(D.kind){case kt.BRACKET_L:return this.parseList(_);case kt.BRACE_L:return this.parseObject(_);case kt.INT:return this._lexer.advance(),{kind:Bn.INT,value:D.value,loc:this.loc(D)};case kt.FLOAT:return this._lexer.advance(),{kind:Bn.FLOAT,value:D.value,loc:this.loc(D)};case kt.STRING:case kt.BLOCK_STRING:return this.parseStringLiteral();case kt.NAME:switch(this._lexer.advance(),D.value){case"true":return{kind:Bn.BOOLEAN,value:!0,loc:this.loc(D)};case"false":return{kind:Bn.BOOLEAN,value:!1,loc:this.loc(D)};case"null":return{kind:Bn.NULL,loc:this.loc(D)};default:return{kind:Bn.ENUM,value:D.value,loc:this.loc(D)}}case kt.DOLLAR:if(!_)return this.parseVariable()}throw this.unexpected()},l.parseStringLiteral=function(){var _=this._lexer.token;return this._lexer.advance(),{kind:Bn.STRING,value:_.value,block:_.kind===kt.BLOCK_STRING,loc:this.loc(_)}},l.parseList=function(_){var D=this,O=this._lexer.token;return{kind:Bn.LIST,values:this.any(kt.BRACKET_L,function(){return D.parseValueLiteral(_)},kt.BRACKET_R),loc:this.loc(O)}},l.parseObject=function(_){var D=this,O=this._lexer.token;return{kind:Bn.OBJECT,fields:this.any(kt.BRACE_L,function(){return D.parseObjectField(_)},kt.BRACE_R),loc:this.loc(O)}},l.parseObjectField=function(_){var D=this._lexer.token,O=this.parseName();return this.expectToken(kt.COLON),{kind:Bn.OBJECT_FIELD,name:O,value:this.parseValueLiteral(_),loc:this.loc(D)}},l.parseDirectives=function(_){for(var D=[];this.peek(kt.AT);)D.push(this.parseDirective(_));return D},l.parseDirective=function(_){var D=this._lexer.token;return this.expectToken(kt.AT),{kind:Bn.DIRECTIVE,name:this.parseName(),arguments:this.parseArguments(_),loc:this.loc(D)}},l.parseTypeReference=function(){var D,_=this._lexer.token;return this.expectOptionalToken(kt.BRACKET_L)?(D=this.parseTypeReference(),this.expectToken(kt.BRACKET_R),D={kind:Bn.LIST_TYPE,type:D,loc:this.loc(_)}):D=this.parseNamedType(),this.expectOptionalToken(kt.BANG)?{kind:Bn.NON_NULL_TYPE,type:D,loc:this.loc(_)}:D},l.parseNamedType=function(){var _=this._lexer.token;return{kind:Bn.NAMED_TYPE,name:this.parseName(),loc:this.loc(_)}},l.parseTypeSystemDefinition=function(){var _=this.peekDescription()?this._lexer.lookahead():this._lexer.token;if(_.kind===kt.NAME)switch(_.value){case"schema":return this.parseSchemaDefinition();case"scalar":return this.parseScalarTypeDefinition();case"type":return this.parseObjectTypeDefinition();case"interface":return this.parseInterfaceTypeDefinition();case"union":return this.parseUnionTypeDefinition();case"enum":return this.parseEnumTypeDefinition();case"input":return this.parseInputObjectTypeDefinition();case"directive":return this.parseDirectiveDefinition()}throw this.unexpected(_)},l.peekDescription=function(){return this.peek(kt.STRING)||this.peek(kt.BLOCK_STRING)},l.parseDescription=function(){if(this.peekDescription())return this.parseStringLiteral()},l.parseSchemaDefinition=function(){var _=this._lexer.token,D=this.parseDescription();this.expectKeyword("schema");var O=this.parseDirectives(!0),A=this.many(kt.BRACE_L,this.parseOperationTypeDefinition,kt.BRACE_R);return{kind:Bn.SCHEMA_DEFINITION,description:D,directives:O,operationTypes:A,loc:this.loc(_)}},l.parseOperationTypeDefinition=function(){var _=this._lexer.token,D=this.parseOperationType();this.expectToken(kt.COLON);var O=this.parseNamedType();return{kind:Bn.OPERATION_TYPE_DEFINITION,operation:D,type:O,loc:this.loc(_)}},l.parseScalarTypeDefinition=function(){var _=this._lexer.token,D=this.parseDescription();this.expectKeyword("scalar");var O=this.parseName(),A=this.parseDirectives(!0);return{kind:Bn.SCALAR_TYPE_DEFINITION,description:D,name:O,directives:A,loc:this.loc(_)}},l.parseObjectTypeDefinition=function(){var _=this._lexer.token,D=this.parseDescription();this.expectKeyword("type");var O=this.parseName(),A=this.parseImplementsInterfaces(),N=this.parseDirectives(!0),J=this.parseFieldsDefinition();return{kind:Bn.OBJECT_TYPE_DEFINITION,description:D,name:O,interfaces:A,directives:N,fields:J,loc:this.loc(_)}},l.parseImplementsInterfaces=function(){var _;if(!this.expectOptionalKeyword("implements"))return[];if(!0===(null===(_=this._options)||void 0===_?void 0:_.allowLegacySDLImplementsInterfaces)){var D=[];this.expectOptionalToken(kt.AMP);do{D.push(this.parseNamedType())}while(this.expectOptionalToken(kt.AMP)||this.peek(kt.NAME));return D}return this.delimitedMany(kt.AMP,this.parseNamedType)},l.parseFieldsDefinition=function(){var _;return!0===(null===(_=this._options)||void 0===_?void 0:_.allowLegacySDLEmptyFields)&&this.peek(kt.BRACE_L)&&this._lexer.lookahead().kind===kt.BRACE_R?(this._lexer.advance(),this._lexer.advance(),[]):this.optionalMany(kt.BRACE_L,this.parseFieldDefinition,kt.BRACE_R)},l.parseFieldDefinition=function(){var _=this._lexer.token,D=this.parseDescription(),O=this.parseName(),A=this.parseArgumentDefs();this.expectToken(kt.COLON);var N=this.parseTypeReference(),J=this.parseDirectives(!0);return{kind:Bn.FIELD_DEFINITION,description:D,name:O,arguments:A,type:N,directives:J,loc:this.loc(_)}},l.parseArgumentDefs=function(){return this.optionalMany(kt.PAREN_L,this.parseInputValueDef,kt.PAREN_R)},l.parseInputValueDef=function(){var _=this._lexer.token,D=this.parseDescription(),O=this.parseName();this.expectToken(kt.COLON);var N,A=this.parseTypeReference();this.expectOptionalToken(kt.EQUALS)&&(N=this.parseValueLiteral(!0));var J=this.parseDirectives(!0);return{kind:Bn.INPUT_VALUE_DEFINITION,description:D,name:O,type:A,defaultValue:N,directives:J,loc:this.loc(_)}},l.parseInterfaceTypeDefinition=function(){var _=this._lexer.token,D=this.parseDescription();this.expectKeyword("interface");var O=this.parseName(),A=this.parseImplementsInterfaces(),N=this.parseDirectives(!0),J=this.parseFieldsDefinition();return{kind:Bn.INTERFACE_TYPE_DEFINITION,description:D,name:O,interfaces:A,directives:N,fields:J,loc:this.loc(_)}},l.parseUnionTypeDefinition=function(){var _=this._lexer.token,D=this.parseDescription();this.expectKeyword("union");var O=this.parseName(),A=this.parseDirectives(!0),N=this.parseUnionMemberTypes();return{kind:Bn.UNION_TYPE_DEFINITION,description:D,name:O,directives:A,types:N,loc:this.loc(_)}},l.parseUnionMemberTypes=function(){return this.expectOptionalToken(kt.EQUALS)?this.delimitedMany(kt.PIPE,this.parseNamedType):[]},l.parseEnumTypeDefinition=function(){var _=this._lexer.token,D=this.parseDescription();this.expectKeyword("enum");var O=this.parseName(),A=this.parseDirectives(!0),N=this.parseEnumValuesDefinition();return{kind:Bn.ENUM_TYPE_DEFINITION,description:D,name:O,directives:A,values:N,loc:this.loc(_)}},l.parseEnumValuesDefinition=function(){return this.optionalMany(kt.BRACE_L,this.parseEnumValueDefinition,kt.BRACE_R)},l.parseEnumValueDefinition=function(){var _=this._lexer.token,D=this.parseDescription(),O=this.parseName(),A=this.parseDirectives(!0);return{kind:Bn.ENUM_VALUE_DEFINITION,description:D,name:O,directives:A,loc:this.loc(_)}},l.parseInputObjectTypeDefinition=function(){var _=this._lexer.token,D=this.parseDescription();this.expectKeyword("input");var O=this.parseName(),A=this.parseDirectives(!0),N=this.parseInputFieldsDefinition();return{kind:Bn.INPUT_OBJECT_TYPE_DEFINITION,description:D,name:O,directives:A,fields:N,loc:this.loc(_)}},l.parseInputFieldsDefinition=function(){return this.optionalMany(kt.BRACE_L,this.parseInputValueDef,kt.BRACE_R)},l.parseTypeSystemExtension=function(){var _=this._lexer.lookahead();if(_.kind===kt.NAME)switch(_.value){case"schema":return this.parseSchemaExtension();case"scalar":return this.parseScalarTypeExtension();case"type":return this.parseObjectTypeExtension();case"interface":return this.parseInterfaceTypeExtension();case"union":return this.parseUnionTypeExtension();case"enum":return this.parseEnumTypeExtension();case"input":return this.parseInputObjectTypeExtension()}throw this.unexpected(_)},l.parseSchemaExtension=function(){var _=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("schema");var D=this.parseDirectives(!0),O=this.optionalMany(kt.BRACE_L,this.parseOperationTypeDefinition,kt.BRACE_R);if(0===D.length&&0===O.length)throw this.unexpected();return{kind:Bn.SCHEMA_EXTENSION,directives:D,operationTypes:O,loc:this.loc(_)}},l.parseScalarTypeExtension=function(){var _=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("scalar");var D=this.parseName(),O=this.parseDirectives(!0);if(0===O.length)throw this.unexpected();return{kind:Bn.SCALAR_TYPE_EXTENSION,name:D,directives:O,loc:this.loc(_)}},l.parseObjectTypeExtension=function(){var _=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("type");var D=this.parseName(),O=this.parseImplementsInterfaces(),A=this.parseDirectives(!0),N=this.parseFieldsDefinition();if(0===O.length&&0===A.length&&0===N.length)throw this.unexpected();return{kind:Bn.OBJECT_TYPE_EXTENSION,name:D,interfaces:O,directives:A,fields:N,loc:this.loc(_)}},l.parseInterfaceTypeExtension=function(){var _=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("interface");var D=this.parseName(),O=this.parseImplementsInterfaces(),A=this.parseDirectives(!0),N=this.parseFieldsDefinition();if(0===O.length&&0===A.length&&0===N.length)throw this.unexpected();return{kind:Bn.INTERFACE_TYPE_EXTENSION,name:D,interfaces:O,directives:A,fields:N,loc:this.loc(_)}},l.parseUnionTypeExtension=function(){var _=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("union");var D=this.parseName(),O=this.parseDirectives(!0),A=this.parseUnionMemberTypes();if(0===O.length&&0===A.length)throw this.unexpected();return{kind:Bn.UNION_TYPE_EXTENSION,name:D,directives:O,types:A,loc:this.loc(_)}},l.parseEnumTypeExtension=function(){var _=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("enum");var D=this.parseName(),O=this.parseDirectives(!0),A=this.parseEnumValuesDefinition();if(0===O.length&&0===A.length)throw this.unexpected();return{kind:Bn.ENUM_TYPE_EXTENSION,name:D,directives:O,values:A,loc:this.loc(_)}},l.parseInputObjectTypeExtension=function(){var _=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("input");var D=this.parseName(),O=this.parseDirectives(!0),A=this.parseInputFieldsDefinition();if(0===O.length&&0===A.length)throw this.unexpected();return{kind:Bn.INPUT_OBJECT_TYPE_EXTENSION,name:D,directives:O,fields:A,loc:this.loc(_)}},l.parseDirectiveDefinition=function(){var _=this._lexer.token,D=this.parseDescription();this.expectKeyword("directive"),this.expectToken(kt.AT);var O=this.parseName(),A=this.parseArgumentDefs(),N=this.expectOptionalKeyword("repeatable");this.expectKeyword("on");var J=this.parseDirectiveLocations();return{kind:Bn.DIRECTIVE_DEFINITION,description:D,name:O,arguments:A,repeatable:N,locations:J,loc:this.loc(_)}},l.parseDirectiveLocations=function(){return this.delimitedMany(kt.PIPE,this.parseDirectiveLocation)},l.parseDirectiveLocation=function(){var _=this._lexer.token,D=this.parseName();if(void 0!==e_[D.value])return D;throw this.unexpected(_)},l.loc=function(_){var D;if(!0!==(null===(D=this._options)||void 0===D?void 0:D.noLocation))return new Re(_,this._lexer.lastToken,this._lexer.source)},l.peek=function(_){return this._lexer.token.kind===_},l.expectToken=function(_){var D=this._lexer.token;if(D.kind===_)return this._lexer.advance(),D;throw ui(this._lexer.source,D.start,"Expected ".concat(Rp(_),", found ").concat(bc(D),"."))},l.expectOptionalToken=function(_){var D=this._lexer.token;if(D.kind===_)return this._lexer.advance(),D},l.expectKeyword=function(_){var D=this._lexer.token;if(D.kind!==kt.NAME||D.value!==_)throw ui(this._lexer.source,D.start,'Expected "'.concat(_,'", found ').concat(bc(D),"."));this._lexer.advance()},l.expectOptionalKeyword=function(_){var D=this._lexer.token;return D.kind===kt.NAME&&D.value===_&&(this._lexer.advance(),!0)},l.unexpected=function(_){var D=null!=_?_:this._lexer.token;return ui(this._lexer.source,D.start,"Unexpected ".concat(bc(D),"."))},l.any=function(_,D,O){this.expectToken(_);for(var A=[];!this.expectOptionalToken(O);)A.push(D.call(this));return A},l.optionalMany=function(_,D,O){if(this.expectOptionalToken(_)){var A=[];do{A.push(D.call(this))}while(!this.expectOptionalToken(O));return A}return[]},l.many=function(_,D,O){this.expectToken(_);var A=[];do{A.push(D.call(this))}while(!this.expectOptionalToken(O));return A},l.delimitedMany=function(_,D){this.expectOptionalToken(_);var O=[];do{O.push(D.call(this))}while(this.expectOptionalToken(_));return O},c}();function bc(c){var l=c.value;return Rp(c.kind)+(null!=l?' "'.concat(l,'"'):"")}function Rp(c){return function(c){return c===kt.BANG||c===kt.DOLLAR||c===kt.AMP||c===kt.PAREN_L||c===kt.PAREN_R||c===kt.SPREAD||c===kt.COLON||c===kt.EQUALS||c===kt.AT||c===kt.BRACKET_L||c===kt.BRACKET_R||c===kt.BRACE_L||c===kt.PIPE||c===kt.BRACE_R}(c)?'"'.concat(c,'"'):c}var nl=new Map,Bc=new Map,Ap=!0,wc=!1;function Pp(c){return c.replace(/[\s,]+/g," ").trim()}function g_(c){var l=Pp(c);if(!nl.has(l)){var u=function(c,l){return new Lc(c,l).parseDocument()}(c,{experimentalFragmentVariables:wc});if(!u||"Document"!==u.kind)throw new Error("Not a valid GraphQL document.");nl.set(l,function(c){var l=new Set(c.definitions);l.forEach(function(_){_.loc&&delete _.loc,Object.keys(_).forEach(function(D){var O=_[D];O&&"object"==typeof O&&l.add(O)})});var u=c.loc;return u&&(delete u.startToken,delete u.endToken),c}(function(c){var l=new Set,u=[];return c.definitions.forEach(function(_){if("FragmentDefinition"===_.kind){var D=_.name.value,O=function(c){return Pp(c.source.body.substring(c.start,c.end))}(_.loc),A=Bc.get(D);A&&!A.has(O)?Ap&&console.warn("Warning: fragment with name "+D+" already exists.\ngraphql-tag enforces all fragment names across your application to be unique; read more about\nthis in the docs: http://dev.apollodata.com/core/fragments.html#unique-names"):A||Bc.set(D,A=new Set),A.add(O),l.has(O)||(l.add(O),u.push(_))}else u.push(_)}),Qa(Qa({},c),{definitions:u})}(u)))}return nl.get(l)}function Fs(c){for(var l=[],u=1;u<arguments.length;u++)l[u-1]=arguments[u];"string"==typeof c&&(c=[c]);var _=c[0];return l.forEach(function(D,O){_+=D&&"Document"===D.kind?D.loc.source.body:D,_+=c[O+1]}),g_(_)}var sa_gql=Fs,sa_resetCaches=function(){nl.clear(),Bc.clear()},sa_disableFragmentWarnings=function(){Ap=!1},sa_enableExperimentalFragmentVariables=function(){wc=!0},sa_disableExperimentalFragmentVariables=function(){wc=!1};(function(c){c.gql=sa_gql,c.resetCaches=sa_resetCaches,c.disableFragmentWarnings=sa_disableFragmentWarnings,c.enableExperimentalFragmentVariables=sa_enableExperimentalFragmentVariables,c.disableExperimentalFragmentVariables=sa_disableExperimentalFragmentVariables})(Fs||(Fs={})),Fs.default=Fs;const aa=Fs;kl=Math.max(0,Ba.indexOf("log"));var Fc=e(90850),y_=e(49549),T_=e(70822),D_=e(62126),O_=e(35811),I_=e(68593),Nc=e(76803);class x_{constructor(l){this.durationSelector=l}call(l,u){return u.subscribe(new M_(l,this.durationSelector))}}class M_ extends Nc.Ds{constructor(l,u){super(l),this.durationSelector=u,this.hasValue=!1}_next(l){try{const u=this.durationSelector.call(this,l);u&&this._tryNext(l,u)}catch(u){this.destination.error(u)}}_complete(){this.emitValue(),this.destination.complete()}_tryNext(l,u){let _=this.durationSubscription;this.value=l,this.hasValue=!0,_&&(_.unsubscribe(),this.remove(_)),_=(0,Nc.ft)(u,new Nc.IY(this)),_&&!_.closed&&this.add(this.durationSubscription=_)}notifyNext(){this.emitValue()}notifyComplete(){this.emitValue()}emitValue(){if(this.hasValue){const l=this.value,u=this.durationSubscription;u&&(this.durationSubscription=void 0,u.unsubscribe(),this.remove(u)),this.value=void 0,this.hasValue=!1,super._next(l)}}}class R_{constructor(l,u){this.query=l,this.data=u}}let Uc=(()=>{class c{constructor(u,_,D){this.queue$=u,this.callback=_,this.config=D,this.result$=new Fc.xQ,this.completed$=new Fc.xQ,this.closed=!1,this.createQueue()}isClosed(){return this.closed}selectResult(u){return this.result$.pipe((0,T_.h)(_=>_.query.getKey()===u.getKey()),(0,D_.b)(1))}createQueue(){this.stackQueue(this.queue$).pipe((0,Sn.w)(u=>this.consumeQueue(u)),(0,O_.R)(this.completed$)).subscribe(u=>{this.passResultsToOutputStream(u),this.completeQueue()})}consumeQueue(u){const _=u.reduce((D,O)=>({gql:`${D.gql}${O.getGql()}`,variables:Object.assign(Object.assign({},D.variables),O.getVariables()||{})}),{gql:"",variables:{}});return this.callback(_).pipe((0,w.U)(({data:D})=>u.map(O=>new R_(O,D[O.getKey()]))))}stackQueue(u){return u.pipe((0,I_.R)((_,D)=>{const O=[..._,D];return O.length>=this.config.getQueuedItemsLimit()&&this.closeQueue(),O},[]),function(c){return l=>l.lift(new x_(c))}(()=>(0,y_.H)(this.closed?0:this.config.getDebounceTime())),(0,tn.b)(()=>this.closeQueue()))}passResultsToOutputStream(u){u.forEach(_=>this.result$.next(_))}closeQueue(){this.closed=!0}completeQueue(){this.completed$.next(),this.completed$.complete()}}return c.DEBOUNCE_TIME=250,c.QUEUED_ITEMS_LIMIT=5,c})(),Wc=(()=>{class c{getDebounceTime(){return this.debounceTime}getQueuedItemsLimit(){return this.queuedItemsLimit}}return c.Builder=class extends de.I{build(){const u=new c;return u.debounceTime=this.debounceTime,u.queuedItemsLimit=this.queuedItemsLimit,u}withDebounceTime(u){return this.debounceTime=u,this}withQueuedItemsLimit(u){return this.queuedItemsLimit=u,this}},c})(),A_=(()=>{class c{constructor(u,_){this.apollo=u,this.graphQLQueueConfig=_,this.graphQLQueryQueue$=new Fc.xQ}sendQuery(u){return this.queryQueue&&!this.queryQueue.isClosed()||(this.queryQueue=new Uc(this.graphQLQueryQueue$,_=>this.apollo.query({query:aa(`query { ${_.gql} }`),variables:_.variables}),this.graphQLQueueConfig)),this.addToQueryQueue(u),this.queryQueue.selectResult(u)}addToQueryQueue(u){this.graphQLQueryQueue$.next(u)}}return c.\u0275fac=function(u){return new(u||c)(Pe.LFG(wu),Pe.LFG(Wc))},c.\u0275prov=Pe.Yz7({token:c,factory:c.\u0275fac}),c})(),P_=(()=>{class c{static forRoot(){return{ngModule:c,providers:[A_,{provide:Sl,useFactory:(u,_)=>({cache:new kf,link:u.create({uri:`${_.getRestBaseUrl()}graphql`})}),deps:[Gu,Q.L]},{provide:Wc,useValue:(new Wc.Builder).withDebounceTime(Uc.DEBOUNCE_TIME).withQueuedItemsLimit(Uc.QUEUED_ITEMS_LIMIT).build()}]}}}return c.\u0275fac=function(u){return new(u||c)},c.\u0275mod=Pe.oAB({type:c}),c.\u0275inj=Pe.cJS({imports:[[Fu,Ui.JF,Fu,df]]}),c})();var L_=e(6103),b_=e(23528),B_=e(61055);e(27445),e(62203),e(93061),e(435),e(99622),e(74647);let w_=(()=>{class c{static forRoot(u){return{ngModule:c,providers:[Un,{provide:fe,useClass:u}]}}}return c.\u0275fac=function(u){return new(u||c)},c.\u0275mod=Pe.oAB({type:c}),c.\u0275inj=Pe.cJS({imports:[[Zi.forRoot(),Qi.forRoot(),si.forRoot(),ao.i.forRoot(),Z.forRoot(),vn.v.forRoot(),bt.J.forApplication(),Te.forRoot(),Fo.forRoot(),Po.z8.forRoot(),P_.forRoot(),Fr.Q.forRoot(),er.$.forRoot(),us.I.forRoot(),Xi.o.forRoot(),cn.VV.forRoot(),ai.gF.forRoot(),yr.forRoot(),I.SV.forRoot(),gr.h.forRoot(),_r.forRoot(),jo.X.forRoot(),Eo.Y.forRoot(),eo.z.forRoot(),$n.xv.forRoot(),$i.I.forRoot(),L_.$,qi,b_.V.forRoot(),B_.w.forRoot()]]}),c})();var F_=e(66021);let N_=(()=>{class c{}return c.\u0275fac=function(u){return new(u||c)},c.\u0275mod=Pe.oAB({type:c}),c.\u0275inj=Pe.cJS({imports:[[t.ez,w_.forRoot(Ee),_n,F_.Q]]}),c})()},12603:(S,g,e)=>{"use strict";e.d(g,{H:()=>n});var t=e(93153);let n=(()=>{class s{constructor(r,a,o){this.extPlatformId=r,this.context=a,this.boxId=o}static fromRaw(r,a){return new s(r,t.g.BOX_CONTEXT,a)}static fromRawGlobal(r){return new s(r,t.g.GLOBAL_CONTEXT)}static fromString(r){[`${s.EXT_PLATFORM_PREFIX}@`,`@${t.g.BOX_CONTEXT}`].forEach(d=>r=r.replace(d,""));const o=r.split("@");return o[1]===t.g.GLOBAL_CONTEXT?s.fromRawGlobal(+o[0]):s.fromRaw(+o[0],o[1])}toString(){return`${s.EXT_PLATFORM_PREFIX}@${this.extPlatformId}@${this.boxId?`${this.context}@${this.boxId}`:`${this.context}`}`}}return s.EXT_PLATFORM_PREFIX="extPlatformId",s})()},28144:(S,g,e)=>{"use strict";e.d(g,{H:()=>t});class t{constructor(s){this.extPlatformId=s}static fromRaw(s){return new t(s)}getInternal(){return this.extPlatformId}}},57107:(S,g,e)=>{"use strict";e.d(g,{S:()=>i});var t=e(83155),n=e(84046),s=e(11531);let i=(()=>{class r extends t.a{constructor(o){super(o),this.fetching=!1,this.fetched=!1}}return r.\u0275fac=function(o){return new(o||r)(n.LFG(s.O))},r.\u0275prov=n.Yz7({token:r,factory:r.\u0275fac}),r})()},2859:(S,g,e)=>{"use strict";e.d(g,{G:()=>E});var t=e(92197),n=e(80380),s=e(70318),i=e(38901);class r{constructor(T,y){this.extPlatformId=T,this.createExtPlatformRequestDTO=y}static fromDomain(T){return new r(T.extPlatformId,i.Y.fromDomain(T.createExtPlatformRequest))}}var a=e(92314),o=e(29201),d=e(71726),h=e(404),p=e(84046),f=e(76165),m=e(57107),v=e(3944);let E=(()=>{class C{constructor(y,I,P,L){this.extPlatformStateService=y,this.extPlatformService=I,this.extPlatformResource=P,this.sanitizer=L}static findTypeByExtPlatform(y,I){return y.find(P=>P.typeId===I.type)}select(){return this.extPlatformStateService.getExtPlatforms().length<1&&this.extPlatformService.getExtPlatforms(),this.extPlatformStateService.getState()}selectAsMap(){return this.select().pipe((0,d.U)(y=>{const I=new Map;return y.forEach(P=>{I.set(P.id,P)}),I}))}getAvailableQueryValues(y,I,P){return this.extPlatformResource.getAvailableQueryValues(y,I,P).pipe((0,d.U)((0,h.$)(a.H.toDomain)))}getExtPlatforms(){return this.extPlatformResource.getExtPlatforms().pipe((0,d.U)((0,h.$)(y=>n.Q.toDomain(y,this.sanitizer))))}getWebhookCallbackUrl(y){return this.extPlatformResource.getWebhookCallbackUrl(y).pipe((0,d.U)(o.g.toDomain))}reauthorizeExistingConnection(y){return this.extPlatformResource.reauthorizeExistingConnection(r.fromDomain(y))}getTypes(){return this.extPlatformResource.getTypes().pipe((0,d.U)(y=>y.map(I=>s.w.toDomain(I,this.sanitizer))))}}return C.\u0275fac=function(y){return new(y||C)(p.LFG(f.I),p.LFG(t.C),p.LFG(m.S),p.LFG(v.H7))},C.\u0275prov=p.Yz7({token:C,factory:C.\u0275fac}),C})()},92197:(S,g,e)=>{"use strict";e.d(g,{C:()=>d});var t=e(80380),n=e(71726),s=e(404),i=e(84046),r=e(57107),a=e(76165),o=e(3944);let d=(()=>{class h{constructor(f,m,v){this.extPlatformResource=f,this.extplatformStateService=m,this.sanitizer=v}getExtPlatforms(){!this.extPlatformResource.fetching&&!this.extPlatformResource.fetched&&(this.extPlatformResource.fetching=!0,this.subscribeForBoxContext())}subscribeForBoxContext(){const f=this.extPlatformResource.getExtPlatforms().pipe((0,n.U)((0,s.$)(m=>t.Q.toDomain(m,this.sanitizer)))).subscribe(m=>{this.extplatformStateService.setExtPlatforms(m),m.length&&(f.unsubscribe(),this.extPlatformResource.fetching=!1,this.extPlatformResource.fetched=!0)})}}return h.\u0275fac=function(f){return new(f||h)(i.LFG(r.S),i.LFG(a.I),i.LFG(o.H7))},h.\u0275prov=i.Yz7({token:h,factory:h.\u0275fac}),h})()},76165:(S,g,e)=>{"use strict";e.d(g,{I:()=>s});var t=e(18840),n=e(84046);let s=(()=>{class i{constructor(){this.extPlatforms=[],this.state$=new t.X([])}setExtPlatforms(a){this.extPlatforms=a,this.state$.next(this.extPlatforms)}getExtPlatforms(){return this.extPlatforms}getState(){return this.state$.asObservable()}}return i.\u0275fac=function(a){return new(a||i)},i.\u0275prov=n.Yz7({token:i,factory:i.\u0275fac}),i})()},78526:(S,g,e)=>{"use strict";e.d(g,{M:()=>s,O:()=>i});var t=e(94299),n=e(70318);const s="Unknown";class i{constructor(a,o,d,h,p,f,m,v,E,C,T){this.id=a,this.type=o,this.name=d,this.baseURL=h,this.homeURL=p,this.defaultExtUser=f,this.isMain=m,this.extPlatformType=v,this.sourceKey=E,this.state=C,this.extPlatformProblems=T}static fromDTO(a,o){return new i(a.id,a.type,a.name,a.baseURL,a.homeURL,t.$.fromDTO(a.defaultExtUser),a.isMain,n.w.toDomain(a.extPlatformTypeDTO,o),a.sourceKey,a.state,a.extPlatformProblems)}}},78189:(S,g,e)=>{"use strict";var t,n;e.d(g,{B:()=>t}),(n=t||(t={})).isInWarningState=function(i){return i!==n.AVAILABLE},function(n){n.AVAILABLE="AVAILABLE",n.UNAVAILABLE="UNAVAILABLE"}(t||(t={}))},2338:(S,g,e)=>{"use strict";e.d(g,{G:()=>t});var t=(()=>{return(n=t||(t={})).JIRA_SERVER_REST="JiraServerREST",n.JIRA_SERVER="JiraServer",n.JIRA_CLOUD="JiraCloud",n.TRELLO="Trello",n.AZURE_DEV_OPS="AzureDevOps",t;var n})()},2628:(S,g,e)=>{"use strict";e.d(g,{K:()=>t});class t{constructor(s,i,r,a,o){this.value=s,this.name=i,this.isExists=r,this.type=a,this.url=o}static fromOption(s,i){return new t(i.value,i.text.toString(),!0,s.getType(),i.url)}}},94299:(S,g,e)=>{"use strict";e.d(g,{$:()=>n});var t=e(90604);class n{constructor(i,r,a,o){this.id=i,this.isActive=r,this.data=a,this.uri=o}static fromUnassigned(i){return new n(t.b.fromCompoundId(i),!0,{},"")}static fromDTO(i){return i?new n(t.b.fromCompoundId(i.id),i.isActive,i.data,i.uri):n.EMPTY}getId(){return this.id.getInternal()}getExtPlatformId(){return this.id.getExtPlatformId()}getExtUserKey(){return this.id.getExtUserKey()}getAvatarUrlLarge(){return this.data[n.avatarUrlLarge]}getAvatarUrlNormal(){return this.data[n.avatarUrlNormal]}getAvatarUrlSmall(){return this.data[n.avatarUrlSmall]}getDisplayName(){return this.data[n.displayName]}getEmail(){return this.data[n.email]}getName(){return this.data[n.userName]}getProperty(i){return this.data?this.data[i]:null}}n.unassignedKey="unassigned",n.unassignedName="unassigned",n.unassignedAvatar="http://www.gravatar.com/avatar/59235f35e4763abb0b547bd093562f6e?d=mm&s=48",n.email="email",n.avatarUrlNormal="avatar_url_normal",n.avatarUrlSmall="avatar_url_small",n.avatarUrlLarge="avatar_url_large",n.displayName="displayName",n.userName="name",n.EMPTY_ID="emptyId",n.EMPTY=new n(t.b.fromCompoundId(n.EMPTY_ID),!1,{})},38901:(S,g,e)=>{"use strict";e.d(g,{Y:()=>t});class t{constructor(s,i,r,a,o,d){this.typeId=s,this.name=i,this.accessAuthorizationMode=r,this.extPlatformAuthStrategyKey=a,this.data=o,this.defaultUserRequestDTO=d}static fromDomain(s){return new t(s.typeId,s.name,s.accessAuthorizationMode,s.extPlatformAuthStrategyKey,s.data,s.defaultUserRequestDTO)}}},80380:(S,g,e)=>{"use strict";e.d(g,{Q:()=>y});var t=e(85847),n=e(60903),s=e(23418),i=e(50870),r=e(34373),a=e(40813),o=e(77816),d=e(78526),h=e(78189),p=e(2338),f=e(94299),m=e(70318),v=e(37157),E=e(17542),C=function(I,P,L,F){var B,b=arguments.length,x=b<3?P:null===F?F=Object.getOwnPropertyDescriptor(P,L):F;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)x=Reflect.decorate(I,P,L,F);else for(var M=I.length-1;M>=0;M--)(B=I[M])&&(x=(b<3?B(x):b>3?B(P,L,x):B(P,L))||x);return b>3&&x&&Object.defineProperty(P,L,x),x},T=function(I,P){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(I,P)};class y extends E.M{static fromDomain(P){const L=new y;return L.id=P.id,L.type=P.type,L.name=P.name,L.baseURL=P.baseURL,L.homeURL=P.homeURL,L.defaultExtUser=v.G.fromRaw(P.defaultExtUser,P.defaultExtUser.getId()),L.isMain=P.isMain,L.extPlatformTypeDTO=m.w.fromDomain(P.extPlatformType),L.sourceKey=P.sourceKey,L.state=P.state,L.extPlatformProblems=P.extPlatformProblems,L}static toDomain(P,L){return new d.O(P.id,P.type,P.name,P.baseURL,P.homeURL,f.$.fromDTO(P.defaultExtUser),P.isMain,m.w.toDomain(P.extPlatformTypeDTO,L),P.sourceKey,P.state,P.extPlatformProblems)}getClassName(){return"ExtPlatformDTO"}}C([(0,n.qA)(),T("design:type",Number)],y.prototype,"id",void 0),C([(0,s.GT)(p.G),T("design:type",String)],y.prototype,"type",void 0),C([(0,i.XV)(),T("design:type",String)],y.prototype,"name",void 0),C([(0,i.XV)(),T("design:type",String)],y.prototype,"baseURL",void 0),C([(0,i.XV)(),T("design:type",String)],y.prototype,"homeURL",void 0),C([(0,r.si)(),T("design:type",Boolean)],y.prototype,"isMain",void 0),C([(0,i.XV)(),T("design:type",String)],y.prototype,"sourceKey",void 0),C([(0,s.GT)(h.B),T("design:type",String)],y.prototype,"state",void 0),C([(0,t.D)(()=>v.G),(0,a.j)(),T("design:type",v.G)],y.prototype,"defaultExtUser",void 0),C([(0,t.D)(()=>m.w),(0,a.j)(),T("design:type",m.w)],y.prototype,"extPlatformTypeDTO",void 0),C([(0,o.Yl)(),T("design:type",Array)],y.prototype,"extPlatformProblems",void 0)},70318:(S,g,e)=>{"use strict";e.d(g,{w:()=>v});var t=e(15380),n=e(33862),s=e.n(n),o=e(50870);class d{constructor(C,T,y,I){this.colorName=C,this.colorHex=T,this.name=y,this.typeId=I}}var E,h=e(2048),p=e(17542),f=function(E,C,T,y){var L,I=arguments.length,P=I<3?C:null===y?y=Object.getOwnPropertyDescriptor(C,T):y;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)P=Reflect.decorate(E,C,T,y);else for(var F=E.length-1;F>=0;F--)(L=E[F])&&(P=(I<3?L(P):I>3?L(C,T,P):L(C,T))||P);return I>3&&P&&Object.defineProperty(C,T,P),P},m=function(E,C){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(E,C)};class v extends p.M{static toDomain(C,T){const y=new d(C.colorName,C.colorHex,C.name,C.typeId);return y.iconURL=T.bypassSecurityTrustUrl(h._.getExtPlatformIconUrl(C.typeId)),y}static fromDomain(C){const T=new v;return T.colorName=C.colorName,T.colorHex=C.colorHex,T.name=C.name,T.typeId=C.typeId,T}getClassName(){return"ExtPlatformTypeDTO"}}f([(0,o.XV)(),m("design:type",String)],v.prototype,"colorName",void 0),f([(0,o.XV)(),(0,t.Y)({name:"isHexColor",validator:{validate:(C,T)=>function(E){return"string"==typeof E&&s()(E)}(C),defaultMessage:(0,t.l)(C=>C+"$property must be a hexadecimal color",E)}},E),m("design:type",String)],v.prototype,"colorHex",void 0),f([(0,o.XV)(),m("design:type",String)],v.prototype,"name",void 0),f([(0,o.XV)(),m("design:type",String)],v.prototype,"typeId",void 0)},92314:(S,g,e)=>{"use strict";e.d(g,{H:()=>d});var t=e(50870),n=e(88401),s=e(34373),i=e(2628),r=e(17542),a=function(h,p,f,m){var C,v=arguments.length,E=v<3?p:null===m?m=Object.getOwnPropertyDescriptor(p,f):m;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)E=Reflect.decorate(h,p,f,m);else for(var T=h.length-1;T>=0;T--)(C=h[T])&&(E=(v<3?C(E):v>3?C(p,f,E):C(p,f))||E);return v>3&&E&&Object.defineProperty(p,f,E),E},o=function(h,p){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(h,p)};class d extends r.M{static fromDomain(p){const f=new d;return f.value=p.value,f.name=p.name,f.isExists=p.isExists,f.type=p.type,f.url=p.url,f}static toDomain(p){return new i.K(p.value,p.name,p.isExists,p.type,p.url)}getClassName(){return"TypedExtTaskQueryElementDTO"}}a([(0,t.XV)(),o("design:type",String)],d.prototype,"value",void 0),a([(0,n.X)(),(0,t.XV)(),o("design:type",String)],d.prototype,"name",void 0),a([(0,n.X)(),(0,s.si)(),o("design:type",Boolean)],d.prototype,"isExists",void 0),a([(0,n.X)(),(0,t.XV)(),o("design:type",String)],d.prototype,"type",void 0),a([(0,n.X)(),(0,t.XV)(),o("design:type",String)],d.prototype,"url",void 0)},29201:(S,g,e)=>{"use strict";e.d(g,{g:()=>a});var t=e(50870);class n{constructor(d){this.url=d}}var s=e(17542);class a extends s.M{static toDomain(d){return new n(d.url)}getClassName(){return"WebhookCallbackUrlDTO"}}!function(o,d,h,p){var v,f=arguments.length,m=f<3?d:null===p?p=Object.getOwnPropertyDescriptor(d,h):p;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)m=Reflect.decorate(o,d,h,p);else for(var E=o.length-1;E>=0;E--)(v=o[E])&&(m=(f<3?v(m):f>3?v(d,h,m):v(d,h))||m);f>3&&m&&Object.defineProperty(d,h,m)}([(0,t.XV)(),function(o,d){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata("design:type",String)}()],a.prototype,"url",void 0)},2048:(S,g,e)=>{"use strict";e.d(g,{_:()=>n});var t=e(2338);class n{static getExtPlatformIconUrl(i){switch(i){case t.G.AZURE_DEV_OPS:return"app/common/assets/images/ext-platform/azure-devops-icon.svg";case t.G.TRELLO:return"app/common/assets/images/ext-platform/trello-icon.svg";case t.G.JIRA_SERVER_REST:case t.G.JIRA_SERVER:return"app/common/assets/images/ext-platform/jira-server-icon.svg";case t.G.JIRA_CLOUD:return"app/common/assets/images/ext-platform/jira-cloud-icon.svg";default:return""}}}},93153:(S,g,e)=>{"use strict";e.d(g,{g:()=>t});var t=(()=>{return(n=t||(t={})).GLOBAL_CONTEXT="global",n.BOX_CONTEXT="boxId",t;var n})()},86434:(S,g,e)=>{"use strict";e.d(g,{Z:()=>y});var t=e(50870),n=e(60903),s=e(17542),i=function(I,P,L,F){var B,b=arguments.length,x=b<3?P:null===F?F=Object.getOwnPropertyDescriptor(P,L):F;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)x=Reflect.decorate(I,P,L,F);else for(var M=I.length-1;M>=0;M--)(B=I[M])&&(x=(b<3?B(x):b>3?B(P,L,x):B(P,L))||x);return b>3&&x&&Object.defineProperty(P,L,x),x},r=function(I,P){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(I,P)};class a extends s.M{getClassName(){return"ContextWarningsDTO"}}i([(0,t.XV)(),r("design:type",String)],a.prototype,"context",void 0),i([(0,n.qA)(),r("design:type",Number)],a.prototype,"counter",void 0),i([(0,t.XV)(),r("design:type",String)],a.prototype,"message",void 0),i([(0,t.XV)(),r("design:type",String)],a.prototype,"type",void 0),i([(0,t.XV)(),r("design:type",String)],a.prototype,"actionUrl",void 0);var o=e(12603);class d{constructor(P,L,F,b,x,B){this.id=P,this.context=L,this.counter=F,this.message=b,this.type=x,this.actionUrl=B}static fromDTO(P){return new d(o.H.fromString(P.context),P.context,P.counter,P.message,P.type,P.actionUrl)}}var h=e(71726),p=e(79657),f=e(65531),m=e(83155),v=e(404),E=e(84046),C=e(11531),T=e(83950);let y=(()=>{class I extends m.a{constructor(L,F){super(L),this.environmentService=F}getWarnings(L){return this.get("",{warningContexts:L.warningContexts}).pipe((0,p.J)(a),(0,h.U)((0,v.$)(d.fromDTO)))}clearWarnings(){return this.post("/clearAll").pipe((0,f.E)("WarningResource"))}getRestUrl(L){return`${this.environmentService.getRestBaseUrl()}system/warning${L}`}}return I.\u0275fac=function(L){return new(L||I)(E.LFG(C.O),E.LFG(T.L))},I.\u0275prov=E.Yz7({token:I,factory:I.\u0275fac}),I})()},21619:(S,g,e)=>{"use strict";e.d(g,{q:()=>m});var t=e(12603),n=e(2859);class s{constructor(E,C,T){this.id=E,this.children=C,this.extPlatform=T}static fromCollection(E,C){return new s(C.id,E,C)}}class i{constructor(E){this.warningContexts=E}static fromExtPlatformIdArray(E){const C=E.map(T=>T.toString());return new i(C)}}var r=e(97809),a=e(86434),o=e(52802),d=e(63833),h=e(9933),p=e(86562),f=e(84046);let m=(()=>{class v{constructor(C,T,y,I){this.warningResource=C,this.extPlatformRepository=T,this.sessionStorage=y,this.localStorage=I,this.warnings$=new r.t(1)}selectWarnings(){return this.warnings$.asObservable()}updateWarnings(C,T){const y=[...C.map(I=>t.H.fromRaw(I.getInternal(),T)),...C.map(I=>t.H.fromRawGlobal(I.getInternal()))];this.warningResource.getWarnings(i.fromExtPlatformIdArray(y)).pipe((0,o.M)(this.extPlatformRepository.getExtPlatforms()),(0,d.q)(1)).subscribe(([I,P])=>{const L=P.map(F=>{const b=I.filter(x=>F.id===x.id.extPlatformId);return s.fromCollection(b,F)}).filter(F=>F.children.length>0);this.warnings$.next(L)})}clearWarnings(){this.warningResource.clearWarnings().pipe((0,d.q)(1)).subscribe(()=>{this.warnings$.next([])})}snoozeWarnings(){this.sessionStorage.setItem("snooze-warnings-log",!0)}isWarningLogSnoozed(){return!this.sessionStorage.getItem("snooze-warnings-log")}isWarningLogDisabled(){return!!this.localStorage.getItem("disable-warning-log")}}return v.\u0275fac=function(C){return new(C||v)(f.LFG(a.Z),f.LFG(n.G),f.LFG(p.x),f.LFG(h.m))},v.\u0275prov=f.Yz7({token:v,factory:v.\u0275fac}),v})()},12856:(S,g,e)=>{"use strict";e.d(g,{E:()=>a});var t=e(55331),n=e(14077),s=e(41001),i=e(68890),r=e(84046);let a=(()=>{class o{}return o.\u0275fac=function(h){return new(h||o)},o.\u0275mod=r.oAB({type:o}),o.\u0275inj=r.cJS({providers:[n.s],imports:[[t.ez,s.J,i.z8]]}),o})()},14077:(S,g,e)=>{"use strict";e.d(g,{s:()=>p});var t=e(78189),n=e(98223),s=e(83941),i=e(68859),r=e(46902),a=e(78609),o=e(84046),d=e(83950),h=e(73455);let p=(()=>{class f{constructor(v,E,C,T){this.environmentService=v,this.navigationLinkService=E,this.messageService=C,this.l10nTextService=T}isWarningState(v){return t.B.isInWarningState(v)}isExtPlatformInWarningState({state:v}){return t.B.isInWarningState(v)}showExtPlatformStateWarnings(v){const E=("extPlatformType"in v?v.extPlatformType:v.extPlatformTypeDTO).name,C="true"===this.environmentService.getParam("hasPluginAdministratorPermission"),I=(new i.q.Builder).withBtnText(C?"SPT_EXTPL_STATE_WARNING_MESSAGE_BUTTON_REVIEW_SETTING":"SPT_EXTPL_STATE_WARNING_MESSAGE_BUTTON_LEARN_HOW_TO_FIX").withBtnClickCallback(C?()=>this.navigationLinkService.goToTechnicalConfigurationToolConnections().navigation():()=>window.open(this.environmentService.getHelpURL("extplatform/state-warning"))).withCloseOnClick().build(),P=(new i.q.Builder).withBtnText("SPT_EXTPL_STATE_WARNING_MESSAGE_BUTTON_CONTACT_SUPPORT").withBtnClickCallback(()=>window.open("https://softwareplant.com/jira/servicedesk/customer/user/login?destination=portals")).build();this.messageService.warning((new r.P).withTitle(this.l10nTextService.translate("SPT_EXTPL_STATE_WARNING_MESSAGE_TITLE",{extPlatformTypeName:E})).withBody(s.H.i18n("SPT_EXTPL_STATE_WARNING_MESSAGE_BODY",{extPlatformName:v.name,extPlatformTypeName:E})).withPrimaryButton(I).withSecondaryButton(P).withDelay(-1))}}return f.\u0275fac=function(v){return new(v||f)(o.LFG(d.L),o.LFG(h.M),o.LFG(a.e),o.LFG(n.e))},f.\u0275prov=o.Yz7({token:f,factory:f.\u0275fac}),f})()},91331:(S,g,e)=>{"use strict";e.d(g,{i:()=>i});var t=e(4662),n=e(6103),s=e(84046);let i=(()=>{class r{static forRoot(){return{ngModule:r,providers:[t.t]}}}return r.\u0275fac=function(o){return new(o||r)},r.\u0275mod=s.oAB({type:r}),r.\u0275inj=s.cJS({imports:[[n.$]]}),r})()},4662:(S,g,e)=>{"use strict";e.d(g,{t:()=>b});var t=e(55331),n=(()=>{return(x=n||(n={})).ONE="ONE",x.TWO="TWO",x.THREE="THREE",x.FOUR="FOUR",x.FIVE="FIVE",x.SIX="SIX",x.SEVEN="SEVEN",x.EIGHT="EIGHT",x.NINE="NINE",n;var x})(),s=e(19327);const i={[n.ONE]:s.B.GRAY.colorName,[n.TWO]:s.B.BLUE.colorName,[n.THREE]:s.B.YELLOW.colorName,[n.FOUR]:s.B.RED.colorName,[n.FIVE]:s.B.BRIGHT_PINK.colorName,[n.SIX]:s.B.PURPLE.colorName,[n.SEVEN]:s.B.CYAN.colorName,[n.EIGHT]:s.B.GREEN.colorName,[n.NINE]:s.B.LIME_GREEN.colorName};var a=e(53339),o=e(66795);class d extends class{}{constructor(B){super(),this.localStorageService=B}setType(B){return this.localStorageService.setItem(this.itemKey,B),(0,a.of)(!0)}getType(){const B=o.bq.ofNullable(this.localStorageService.getItem(this.itemKey));return(0,a.of)(B)}}class h extends d{constructor(B){super(B),this.itemKey="accent-user-theme"}}var p=e(60939);const f={[p.z.DARK]:"Dark",[p.z.LIGHT]:"Light"};class m extends d{constructor(B){super(B),this.itemKey="color-theme"}}var v=e(85105);let E=(()=>{class x{constructor(M,w,K,k,G){this.name=M,this.attributeName=w,this.types=K,this.namesOfEveryType=k,this.defaultType=G,this.isDisabled=!1,this.htmlSelector="html",this.isRemovableDefaultAttribute=!1}getName(){return this.name}getAttributeName(){return this.attributeName}getTypes(){return this.types}getNamesOfEveryType(){return this.namesOfEveryType}getHtmlSelector(){return this.htmlSelector}getDisabledStatus(){return this.isDisabled}getNameOfTypeByType(M){return this.namesOfEveryType[M]}getTypeByTypeName(M){const w=this.getTypeKeyByName(M);return this.types[w]}getDefaultType(){return this.defaultType}getRemovableDefaultAttributeStatus(){return this.isRemovableDefaultAttribute}isNameExist(M){return!!this.getTypeKeyByName(M)}isDefaultType(M){return M===this.defaultType}convertNameOfType(M){return M.replace("_","-")}getTypeKeyByName(M){return Object.keys(this.namesOfEveryType).find(w=>this.namesOfEveryType[w].toLowerCase()===M.toLowerCase())}}return x.Builder=class extends v.I{constructor(M,w,K,k,G){super(),this.name=M,this.attributeName=w,this.types=K,this.namesOfEveryType=k,this.defaultType=G,this.isDisabled=!1,this.htmlSelector="html",this.isRemovableDefaultAttribute=!1}build(){const w=new x(this.name,`data-${this.attributeName}`,this.types,this.namesOfEveryType,this.defaultType);return this.devToolsObjectName&&(w.devToolsObjectName=this.devToolsObjectName),w.isDisabled=this.isDisabled,w.htmlSelector=this.htmlSelector,w.isRemovableDefaultAttribute=this.isRemovableDefaultAttribute,w}withHTMLSelector(M){return this.htmlSelector=M,this}withRemovableDefaultAttribute(M){return this.isRemovableDefaultAttribute=M,this}withDevTools(M){return this.devToolsObjectName=M,this}withDisabled(M){return this.isDisabled=M,this}},x})();var C=e(18840),T=e(4683),y=e(71726),I=e(63833),P=e(62628),L=e(9933),F=e(84046);let b=(()=>{class x extends P.b{constructor(M,w,K){super(),this.localStorage=M,this.rendererFactory=w,this.document=K,this.colorThemeTypeResource=new m(this.localStorage),this.accentUserThemeTypeResource=new h(this.localStorage),this.colorThemeCurrentType$=new C.X(p.z.LIGHT),this.accentUserThemeCurrentType$=new C.X(n.ONE),this.colorThemeTypeConfiguration$=new C.X(null),this.accentUserThemeTypeConfiguration$=new C.X(null),this.colorThemeDisable=!1,this.accentUserColorThemeDisable=!1}init$(){return this.renderer=this.rendererFactory.createRenderer(null,null),this.setColorThemeTypeConfiguration(),this.setAccentUserThemeTypeConfiguration(),(0,T.aj)([this.colorThemeTypeResource.getType(),this.accentUserThemeTypeResource.getType()]).pipe((0,y.U)(([M,w])=>{const K=this.getNameOfColorThemeType(M,this.colorThemeTypeConfiguration$),k=this.getNameOfColorThemeType(w,this.accentUserThemeTypeConfiguration$);this.setColorThemeType(K),this.setAccentUserColorThemeType(k)}),this.takeUntilDestroy())}setColorThemeType(M){this.setThemeType(this.colorThemeTypeConfiguration$,this.colorThemeTypeResource,M,this.colorThemeCurrentType$)}getColorThemeType$(){return this.colorThemeCurrentType$.asObservable()}setDisableColorThemeStatus(M){this.colorThemeDisable=M,this.setColorThemeTypeConfiguration()}getColorThemeConfiguration$(){return this.colorThemeTypeConfiguration$.asObservable()}setAccentUserColorThemeType(M){this.setThemeType(this.accentUserThemeTypeConfiguration$,this.accentUserThemeTypeResource,M,this.accentUserThemeCurrentType$)}getAccentUserColorThemeType$(){return this.accentUserThemeCurrentType$.asObservable()}getAccentUserColorThemeTypeConfiguration$(){return this.accentUserThemeTypeConfiguration$.asObservable()}setDisableAccentUserColorStatus(M){this.accentUserColorThemeDisable=M,this.setAccentUserThemeTypeConfiguration()}getNameOfColorThemeType(M,w){const K=w.getValue();return M.filter(k=>K.isNameExist(k)).map(k=>K.getTypeByTypeName(k)).orElseGet(()=>K.getDefaultType())}setThemeType(M,w,K,k){const G=M.getValue();if(!G||G.getDisabledStatus())return;const $=G.getNameOfTypeByType(K).toLowerCase();w.setType($).pipe((0,I.q)(1)).subscribe(()=>{this.updateApplicationThemeInDocument(G,K),k.next(K)})}updateApplicationThemeInDocument(M,w){const K=this.isAttributeCanBeRemoved(M,w),k=M.getHtmlSelector(),G=this.document.querySelector(k),$=M.getAttributeName();let X;K?this.renderer.removeAttribute(G,$):(X=M.getNameOfTypeByType(w).toLowerCase(),X=M.convertNameOfType(X),this.renderer.setAttribute(G,$,X))}setColorThemeTypeConfiguration(){const M=new E.Builder("colorTheme","color-theme",p.z,f,p.z.LIGHT).withDevTools("colorTheme").withDisabled(this.colorThemeDisable).build();this.colorThemeTypeConfiguration$.next(M)}setAccentUserThemeTypeConfiguration(){const M=new E.Builder("accentUserTheme","accent-user-theme",n,i,n.ONE).withDevTools("accentUserTheme").withDisabled(this.accentUserColorThemeDisable).withRemovableDefaultAttribute(!0).build();this.accentUserThemeTypeConfiguration$.next(M)}isAttributeCanBeRemoved(M,w){const K=M.getRemovableDefaultAttributeStatus(),k=M.isDefaultType(w);return K&&k}}return x.\u0275fac=function(M){return new(M||x)(F.LFG(L.m),F.LFG(F.FYo),F.LFG(t.K0))},x.\u0275prov=F.Yz7({token:x,factory:x.\u0275fac}),x})()},60939:(S,g,e)=>{"use strict";e.d(g,{z:()=>t});var t=(()=>{return(n=t||(t={})).DARK="DARK",n.LIGHT="LIGHT",t;var n})()},15843:(S,g,e)=>{"use strict";e.d(g,{x:()=>n});var t=e(84046);let n=(()=>{class s{init(r){this.properties?console.error("Application features already initialized!"):this.properties=r}getFeatures(){return this.properties||new Error("You need to initialize properties before you can access them!"),this.properties}}return s.\u0275fac=function(r){return new(r||s)},s.\u0275prov=t.Yz7({token:s,factory:s.\u0275fac}),s})()},32874:(S,g,e)=>{"use strict";e.d(g,{a:()=>n});var t=e(84046);let n=(()=>{class s{constructor(r,a){this.elementRef=r,this.renderer=a}ngOnInit(){this.renderer.setAttribute(this.elementRef.nativeElement,"id",this.id)}}return s.\u0275fac=function(r){return new(r||s)(t.Y36(t.SBq),t.Y36(t.Qsj))},s.\u0275dir=t.lG2({type:s,selectors:[["","spStatsCollector",""]],inputs:{id:["spStatsCollector","id"]}}),s})()},82055:(S,g,e)=>{"use strict";e.d(g,{Y:()=>i}),e(32874);var n=e(84046);let i=(()=>{class r{}return r.\u0275fac=function(o){return new(o||r)},r.\u0275mod=n.oAB({type:r}),r.\u0275inj=n.cJS({}),r})()},52591:(S,g,e)=>{"use strict";e.d(g,{x:()=>s});var t=e(27609),n=e(84046);let s=(()=>{class i extends t.V{constructor(){super(!1)}}return i.\u0275fac=function(a){return new(a||i)},i.\u0275prov=n.Yz7({token:i,factory:i.\u0275fac}),i})()},28437:(S,g,e)=>{"use strict";e.d(g,{z:()=>t});var t=(()=>{return(n=t||(t={})).LG="LG",n.XL="XL",t;var n})()},35668:(S,g,e)=>{"use strict";e.d(g,{i:()=>s});var t=e(36116),n=e(84046);let s=(()=>{class i{constructor(a){this.eventsFactory=a}init$(){return this.eventsFactory.create$()}}return i.\u0275fac=function(a){return new(a||i)(n.LFG(t.a))},i.\u0275prov=n.Yz7({token:i,factory:i.\u0275fac}),i})()},435:(S,g,e)=>{"use strict";e.d(g,{x:()=>o});var t=e(55331),n=e(35668),s=e(7899),i=e(18264),r=e(36116),a=e(84046);let o=(()=>{class d{static forRoot(){return{ngModule:d,providers:[i.r,r.a,s.$,n.i]}}}return d.\u0275fac=function(p){return new(p||d)},d.\u0275mod=a.oAB({type:d}),d.\u0275inj=a.cJS({imports:[[t.ez]]}),d})()},18264:(S,g,e)=>{"use strict";e.d(g,{r:()=>r});var t=e(71726),n=e(96105),s=e(7899),i=e(84046);let r=(()=>{class a{constructor(d){this.mediaQueryStorage=d}selectByKey$(d){return this.mediaQueryStorage.select().pipe((0,t.U)(h=>h.get(d)),(0,n.x)())}}return a.\u0275fac=function(d){return new(d||a)(i.LFG(s.$))},a.\u0275prov=i.Yz7({token:a,factory:a.\u0275fac}),a})()},7899:(S,g,e)=>{"use strict";e.d(g,{$:()=>s});var t=e(27609),n=e(84046);let s=(()=>{class i extends t.V{constructor(){super(new Map)}}return i.\u0275fac=function(a){return new(a||i)},i.\u0275prov=n.Yz7({token:i,factory:i.\u0275fac}),i})()},36116:(S,g,e)=>{"use strict";e.d(g,{a:()=>d});var t=e(38009),n=e(73197),s=e(28437),i=e(45635),r=e(17314),a=e(7899),o=e(84046);let d=(()=>{class h{constructor(f,m){this.storage=f,this.window=m,this.queriesMap=new Map([[s.z.LG,"(max-width: 1023px)"],[s.z.XL,"(min-width: 1024px)"]])}create$(){return(0,t.T)(...this.createEvents())}createEvents(){const f=new Map,m=Object.keys(s.z).map(v=>s.z[v]).map(v=>[v,this.queriesMap.get(v)]).map(([v,E])=>{const C=this.window.matchMedia(E);return f.set(v,C.matches),(0,n.R)(C,"change").pipe((0,i.b)(T=>{f.set(v,T.matches),this.updateStorage(f)}))});return this.updateStorage(f),m}updateStorage(f){this.storage.set(f)}}return h.\u0275fac=function(f){return new(f||h)(o.LFG(a.$),o.LFG(r.m))},h.\u0275prov=o.Yz7({token:h,factory:h.\u0275fac}),h})()},92556:(S,g,e)=>{"use strict";e.d(g,{iz:()=>n.i,xv:()=>i.x}),e(7899);var n=e(35668),i=(e(18264),e(435));e(92303)},92303:(S,g,e)=>{"use strict";e.d(g,{V:()=>o});var t=e(62546),n=e(28437),s=e(90850),i=e(35811),r=e(18264),a=e(84046);let o=(()=>{class d extends t.H{constructor(p,f,m,v,E,C){super(p,f),this.viewContainerRef=m,this.template=v,this.repository=E,this.changeDetectorRef=C,this.match=n.z.LG,this.destroyMatch$=new s.xQ,this.isEnabled=!1}ngOnChanges(p){p.match&&p.match.currentValue&&(this.destroyMatch(),this.observeQueryEnabled())}destroyMatch(){this.destroyMatch$.next()}observeQueryEnabled(){this.repository.selectByKey$(this.match).pipe((0,i.R)(this.destroyMatch$),this.takeUntilDestroy()).subscribe(p=>{this.isEnabled=p,this.updateElement()})}updateElement(){this.isEnabled?this.createElement():this.destroyElement()}createElement(){this.viewContainerRef.createEmbeddedView(this.template).detectChanges()}destroyElement(){this.viewContainerRef.clear(),this.changeDetectorRef.detectChanges()}}return d.\u0275fac=function(p){return new(p||d)(a.Y36(a.SBq),a.Y36(a.Qsj),a.Y36(a.s_b),a.Y36(a.Rgc),a.Y36(r.r),a.Y36(a.sBO))},d.\u0275dir=a.lG2({type:d,selectors:[["","spMediaQuery",""]],inputs:{match:["spMediaQuery","match"]},features:[a.qOj,a.TTD]}),d})()},14102:(S,g,e)=>{"use strict";e.d(g,{f:()=>n});var t=e(84046);let n=(()=>{class s{}return s.\u0275fac=function(r){return new(r||s)},s.\u0275prov=t.Yz7({token:s,factory:s.\u0275fac}),s})()},62362:(S,g,e)=>{"use strict";e.d(g,{U:()=>t});var t=(()=>{return(n=t||(t={})).BIGGANTT="BigGantt",n.BIGPICTURE="BigPicture",n.BIGTEMPLATE="BigTemplate",t;var n})()},58633:(S,g,e)=>{"use strict";e.d(g,{c:()=>t});var t=(()=>{return(n=t||(t={})).BIGGANTT="biggantt",n.BIGAGILE="bigagile",n.BIGPICTURE="bigpicture",n.BIGTEMPLATE="bigtemplate",t;var n})()},93338:(S,g,e)=>{"use strict";e.d(g,{n:()=>p});var t=e(50870),n=e(23418),s=e(60903),i=e(62362),r=e(58633),a=e(68534),o=e(17542),d=function(f,m,v,E){var y,C=arguments.length,T=C<3?m:null===E?E=Object.getOwnPropertyDescriptor(m,v):E;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)T=Reflect.decorate(f,m,v,E);else for(var I=f.length-1;I>=0;I--)(y=f[I])&&(T=(C<3?y(T):C>3?y(m,v,T):y(m,v))||T);return C>3&&T&&Object.defineProperty(m,v,T),T},h=function(f,m){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(f,m)};class p extends o.M{getClassName(){return"ApplicationInfoDTO"}}d([(0,t.XV)(),h("design:type",String)],p.prototype,"buildDate",void 0),d([(0,t.XV)(),h("design:type",String)],p.prototype,"commitId",void 0),d([(0,n.GT)(a.i),h("design:type",String)],p.prototype,"platformName",void 0),d([(0,n.GT)(i.U),h("design:type",String)],p.prototype,"systemDisplayName",void 0),d([(0,n.GT)(r.c),h("design:type",String)],p.prototype,"systemName",void 0),d([(0,t.XV)(),h("design:type",String)],p.prototype,"systemVersion",void 0),d([(0,s.qA)(),h("design:type",Number)],p.prototype,"systemDatabaseModelVersion",void 0)},68534:(S,g,e)=>{"use strict";e.d(g,{i:()=>t});var t=(()=>{return(n=t||(t={})).JIRA_SERVER="JiraServer",n.JIRA_CLOUD="JiraCloud",n.TRELLO="Trello",t;var n})()},20823:(S,g,e)=>{"use strict";e.d(g,{d:()=>s});var t=e(27609),n=e(84046);let s=(()=>{class i extends t.V{constructor(){super()}}return i.\u0275fac=function(a){return new(a||i)},i.\u0275prov=n.Yz7({token:i,factory:i.\u0275fac}),i})()},52777:(S,g,e)=>{"use strict";e.d(g,{J:()=>s});var t=e(73198),n=e(19327);class s{constructor(r,a,o=t.z.SOLID){this.name=r,this.colorStyle=a,this.type=o}getName(){return this.name}getColor(){return this.colorStyle}getType(){return this.type}}s.DEFAULT=new s("window",n.B.BLUE.backgroundStyle)},73198:(S,g,e)=>{"use strict";e.d(g,{z:()=>t});var t=(()=>{return(n=t||(t={})).REGULAR="far",n.SOLID="fas",n.LIGHT="fal",n.DUOTONE="fad",t;var n})()},82366:(S,g,e)=>{"use strict";e.d(g,{JO:()=>t.J,QX:()=>s.Q,ze:()=>n.z});var t=e(52777),n=e(73198),s=e(33945)},83063:(S,g,e)=>{"use strict";e.d(g,{o:()=>a});var t=e(73198),n=e(84046),s=e(55331);const i=["name",""],r=function(o,d){return[o,d]};let a=(()=>{class o{constructor(){this.type=t.z.SOLID}}return o.\u0275fac=function(h){return new(h||o)},o.\u0275cmp=n.Xpm({type:o,selectors:[["sp-icon","name",""]],inputs:{name:"name",type:"type",color:"color"},attrs:i,decls:1,vars:6,consts:[[1,"sp-icon__icon",3,"ngClass"]],template:function(h,p){1&h&&n._UZ(0,"i",0),2&h&&(n.Udp("color",p.color),n.Q6J("ngClass",n.WLB(3,r,p.type,"fa-"+p.name)))},directives:[s.mk],encapsulation:2,changeDetection:0}),o})()},33945:(S,g,e)=>{"use strict";e.d(g,{Q:()=>s});var t=e(55331),n=e(84046);let s=(()=>{class i{}return i.\u0275fac=function(a){return new(a||i)},i.\u0275mod=n.oAB({type:i}),i.\u0275inj=n.cJS({imports:[[t.ez]]}),i})()},65799:(S,g,e)=>{"use strict";e.d(g,{L:()=>o});var t=e(90850),n=e(96105),s=e(35811),i=e(84357),r=e(98223),a=e(84046);let o=(()=>{class d{constructor(p,f,m){this.changeDetectorRef=p,this.currentLocaleStorage=f,this.l10nTextService=m,this.destroyed$=new t.xQ,this.selectCurrentLocale()}ngOnDestroy(){this.destroyed$.next(),this.destroyed$.complete()}transform(p,f,m){return this.l10nTextService.translate(p,f,m||this.currentLocale)}selectCurrentLocale(){this.currentLocaleStorage.select().pipe((0,n.x)(),(0,s.R)(this.destroyed$)).subscribe(p=>{this.currentLocale=p,this.changeDetectorRef.markForCheck()})}}return d.\u0275fac=function(p){return new(p||d)(a.Y36(a.sBO,16),a.Y36(i.O,16),a.Y36(r.e,16))},d.\u0275pipe=a.Yjl({name:"spL10nText",type:d,pure:!1}),d})()},14301:(S,g,e)=>{"use strict";e.d(g,{X:()=>t});var t=(()=>{return(n=t||(t={})).UNORDERED_LIST_START="[ul]",n.UNORDERED_LIST_END="[/ul]",n.LIST_ITEM_START="[li]",n.LIST_ITEM_END="[/li]",n.ITALIC_START="[i]",n.ITALIC_END="[/i]",n.BOLD_START="[b]",n.BOLD_END="[/b]",t;var n})()},59152:(S,g,e)=>{"use strict";e.d(g,{i:()=>s});var t=e(84046),n=e(68839);let s=(()=>{class i{constructor(a){this.service=a}init(){this.service.init()}}return i.\u0275fac=function(a){return new(a||i)(t.LFG(n.E))},i.\u0275prov=t.Yz7({token:i,factory:i.\u0275fac}),i})()},93061:(S,g,e)=>{"use strict";e.d(g,{S:()=>E});var t=e(68839),n=e(74069),s=e(71726),i=e(74582),r=e(84046),a=e(9403);let o=(()=>{class C extends t.E{constructor(y){super(),this.licenseResource=y}init(){this.license$=this.licenseResource.selectLicense().pipe((0,s.U)(n.G.toDomain),(0,i.d)(1))}selectLicense(){return this.license$}selectIsValid(){return this.selectLicense().pipe((0,s.U)(y=>y.isValid()))}selectIsEnterprise(){return this.selectLicense().pipe((0,s.U)(y=>y.isEnterprise()))}}return C.\u0275fac=function(y){return new(y||C)(r.LFG(a.$))},C.\u0275prov=r.Yz7({token:C,factory:C.\u0275fac}),C})();var d=e(87555),h=e(55331),p=e(79047),f=e(47473),m=e(41001),v=e(59152);let E=(()=>{class C{static forRoot(){return{ngModule:C,providers:[v.i,{provide:t.E,useClass:o},{provide:a.$,useClass:d.b}]}}}return C.\u0275fac=function(y){return new(y||C)},C.\u0275mod=r.oAB({type:C}),C.\u0275inj=r.cJS({imports:[[h.ez,p.C,f.S,m.J]]}),C})()},32853:(S,g,e)=>{"use strict";e.d(g,{J:()=>t});var t=(()=>{return(n=t||(t={})).FREEMIUM="FREEMIUM",n.STANDARD="STANDARD",n.ENTERPRISE="ENTERPRISE",t;var n})()},68839:(S,g,e)=>{"use strict";e.d(g,{E:()=>n});var t=e(84046);let n=(()=>{class s{}return s.\u0275fac=function(r){return new(r||s)},s.\u0275prov=t.Yz7({token:s,factory:s.\u0275fac}),s})()},85446:(S,g,e)=>{"use strict";e.d(g,{g:()=>t});var t=(()=>((t||(t={})).INVALID="SPT_COMMON_LICENSE_INVALID_MESSAGE",t))()},9403:(S,g,e)=>{"use strict";e.d(g,{$:()=>i});var t=e(83155),n=e(84046),s=e(11531);let i=(()=>{class r extends t.a{constructor(o){super(o)}}return r.\u0275fac=function(o){return new(o||r)(n.LFG(s.O))},r.\u0275prov=n.Yz7({token:r,factory:r.\u0275fac}),r})()},88136:(S,g,e)=>{"use strict";e.d(g,{ip:()=>r.i,SV:()=>t.S,gh:()=>b,Jp:()=>i,ER:()=>n.E,gP:()=>s.g});var t=e(93061),n=e(68839),s=e(85446);class i{}var r=e(59152),a=e(62546),o=e(84046),d=e(83950),h=e(15843),p=e(44259),f=e(55331),m=e(32853),v=e(41004),E=e(65799);function C(x,B){if(1&x&&(o.TgZ(0,"sp-lozenge",12),o._uU(1),o.qZA()),2&x){const M=o.oxw();o.xp6(1),o.hij(" ",M.pricingPlan.FREEMIUM," ")}}function T(x,B){if(1&x&&(o.TgZ(0,"sp-lozenge",13),o._uU(1),o.qZA()),2&x){const M=o.oxw();o.xp6(1),o.hij(" ",M.pricingPlan.STANDARD," ")}}function y(x,B){if(1&x&&(o.TgZ(0,"sp-lozenge",14),o._uU(1),o.qZA()),2&x){const M=o.oxw();o.xp6(1),o.hij(" ",M.pricingPlan.ENTERPRISE," ")}}function I(x,B){1&x&&(o.TgZ(0,"sp-lozenge",15),o._uU(1),o.ALo(2,"spL10nText"),o.qZA()),2&x&&(o.xp6(1),o.hij(" ",o.lcZ(2,1,"SPT_TECHCONF_LICENSE_STATUS_VALID")," "))}function P(x,B){1&x&&(o.TgZ(0,"sp-lozenge",16),o._uU(1),o.ALo(2,"spL10nText"),o.qZA()),2&x&&(o.xp6(1),o.hij(" ",o.lcZ(2,1,"SPT_TECHCONF_LICENSE_STATUS_INVALID")," "))}let L=(()=>{class x{constructor(){this.pricingPlan=m.J}}return x.\u0275fac=function(M){return new(M||x)},x.\u0275cmp=o.Xpm({type:x,selectors:[["sp-license-presenter"]],inputs:{license:"license"},decls:21,vars:16,consts:[["id","sp-license-info-feature-plan",1,"sp-pb-6","sp-pt-2"],[1,"sp-pb-1"],[3,"ngSwitch"],["class","sp-mr-1","color","VIOLET",4,"ngSwitchCase"],["class","sp-mr-1","color","LIGHT_BLUE",4,"ngSwitchCase"],["class","sp-mr-1","color","CHEETO_ORANGE",4,"ngSwitchCase"],["id","sp-license-info-status",1,"sp-pb-6"],[1,"sp-pr-2"],["type","success",4,"ngIf"],["type","error",4,"ngIf"],["id","sp-license-info-id",1,"sp-pb-6"],["type","text","disabled","",1,"sp-input","sp-input-text","sp-fg-icon",3,"value"],["color","VIOLET",1,"sp-mr-1"],["color","LIGHT_BLUE",1,"sp-mr-1"],["color","CHEETO_ORANGE",1,"sp-mr-1"],["type","success"],["type","error"]],template:function(M,w){1&M&&(o.TgZ(0,"fieldset"),o.TgZ(1,"div",0),o.TgZ(2,"label",1),o._uU(3),o.ALo(4,"spL10nText"),o.qZA(),o.ynx(5,2),o.YNc(6,C,2,1,"sp-lozenge",3),o.YNc(7,T,2,1,"sp-lozenge",4),o.YNc(8,y,2,1,"sp-lozenge",5),o.BQk(),o.qZA(),o.TgZ(9,"div",6),o.TgZ(10,"label",1),o._uU(11),o.ALo(12,"spL10nText"),o.qZA(),o.TgZ(13,"div",7),o.YNc(14,I,3,3,"sp-lozenge",8),o.YNc(15,P,3,3,"sp-lozenge",9),o.qZA(),o.qZA(),o.TgZ(16,"div",10),o.TgZ(17,"label",1),o._uU(18),o.ALo(19,"spL10nText"),o.qZA(),o._UZ(20,"input",11),o.qZA(),o.qZA()),2&M&&(o.xp6(3),o.Oqu(o.lcZ(4,10,"SPT_TECHCONF_LICENSE_LABEL_FEATURE_PLAN")),o.xp6(2),o.Q6J("ngSwitch",w.license.getPricingPlan()),o.xp6(1),o.Q6J("ngSwitchCase",w.pricingPlan.FREEMIUM),o.xp6(1),o.Q6J("ngSwitchCase",w.pricingPlan.STANDARD),o.xp6(1),o.Q6J("ngSwitchCase",w.pricingPlan.ENTERPRISE),o.xp6(3),o.Oqu(o.lcZ(12,12,"SPT_TECHCONF_LICENSE_LABEL_STATUS")),o.xp6(3),o.Q6J("ngIf",w.license.isValid()),o.xp6(1),o.Q6J("ngIf",!w.license.isValid()),o.xp6(3),o.Oqu(o.lcZ(19,14,"SPT_TECHCONF_LICENSE_LABEL_LICENSE_ID")),o.xp6(2),o.Q6J("value",w.license.getId()))},directives:[f.RF,f.n9,f.O5,v.H],pipes:[E.L],encapsulation:2,changeDetection:0}),x})();function F(x,B){if(1&x&&o._UZ(0,"sp-license-presenter",3),2&x){const M=o.oxw();o.Q6J("license",M.license)}}let b=(()=>{class x extends a.H{constructor(M,w,K,k,G,$){super(M,w),this.changeDetectorRef=K,this.environmentService=k,this.licenseService=G,this.applicationFeatures=$}ngOnInit(){this.documentationLink=this.applicationFeatures.getFeatures().getLicenseRootConfig().getDocumentationLink(),this.licenseService.selectLicense().pipe(this.takeUntilDestroy()).subscribe(M=>{this.license=M,this.changeDetectorRef.detectChanges()})}}return x.\u0275fac=function(M){return new(M||x)(o.Y36(o.SBq),o.Y36(o.Qsj),o.Y36(o.sBO),o.Y36(d.L),o.Y36(n.E),o.Y36(h.x))},x.\u0275cmp=o.Xpm({type:x,selectors:[["ng-component"]],features:[o.qOj],decls:4,vars:5,consts:[["id","license-info-form",1,"sp-license-root__form","sp-form"],[3,"documentationLink","title"],["id","sp-license-info-panel","class","panel-license sp-form-group",3,"license",4,"ngIf"],["id","sp-license-info-panel",1,"panel-license","sp-form-group",3,"license"]],template:function(M,w){1&M&&(o.TgZ(0,"form",0),o._UZ(1,"sp-panel-header",1),o.ALo(2,"spL10nText"),o.YNc(3,F,1,1,"sp-license-presenter",2),o.qZA()),2&M&&(o.xp6(1),o.Q6J("documentationLink",w.documentationLink)("title",o.lcZ(2,3,"SPT_TECHCONF_LICENSE_HEADER_LICENSE")),o.xp6(2),o.Q6J("ngIf",w.license))},directives:[p.e,f.O5,L],pipes:[E.L],styles:[".panel-license{max-width:400px}.sp-license-root__form{min-width:700px}\n"],encapsulation:2,changeDetection:0}),x})()},74069:(S,g,e)=>{"use strict";e.d(g,{G:()=>p});var t=e(50870),n=e(34373),s=e(88401),i=e(23418),r=e(32853);class a{constructor(m,v,E,C="",T){this.id=m,this.valid=v,this.evaluation=E,this.warning=C,this.pricingPlan=T}isValid(){return this.valid}isEvaluation(){return this.evaluation}isEnterprise(){return this.isValid()&&this.pricingPlan===r.J.ENTERPRISE}getId(){return this.id}getWarning(){return this.warning}getPricingPlan(){return this.pricingPlan}}var o=e(17542),d=function(f,m,v,E){var y,C=arguments.length,T=C<3?m:null===E?E=Object.getOwnPropertyDescriptor(m,v):E;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)T=Reflect.decorate(f,m,v,E);else for(var I=f.length-1;I>=0;I--)(y=f[I])&&(T=(C<3?y(T):C>3?y(m,v,T):y(m,v))||T);return C>3&&T&&Object.defineProperty(m,v,T),T},h=function(f,m){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(f,m)};class p extends o.M{static toDomain(m){return new a(m.licenseId,m.isValid,m.isEvaluation,m.warning,m.pricingPlan)}getClassName(){return"LicenseDTO"}}d([(0,t.XV)(),h("design:type",String)],p.prototype,"licenseId",void 0),d([(0,n.si)(),h("design:type",Boolean)],p.prototype,"isValid",void 0),d([(0,n.si)(),h("design:type",Boolean)],p.prototype,"isEvaluation",void 0),d([(0,s.X)(),h("design:type",String)],p.prototype,"warning",void 0),d([(0,i.GT)(r.J),h("design:type",String)],p.prototype,"pricingPlan",void 0)},87555:(S,g,e)=>{"use strict";e.d(g,{b:()=>o});var t=e(9403),n=e(74069),s=e(2421),i=e(84046),r=e(11531),a=e(83950);let o=(()=>{class d extends t.${constructor(p,f){super(p),this.environmentService=f,this.url="system/tenant/license"}selectLicense(){return this.get(this.url).pipe((0,s.W)(n.G))}getRestUrl(p){return this.environmentService.getRestBaseUrl()+p}}return d.\u0275fac=function(p){return new(p||d)(i.LFG(r.O),i.LFG(a.L))},d.\u0275prov=i.Yz7({token:d,factory:d.\u0275fac}),d})()},80361:(S,g,e)=>{"use strict";e.d(g,{z:()=>h});var t=e(75173),n=e(6436),s=e(32731),i=e(71726),r=e(77286),a=e(84046),d=function(p,f){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(p,f)};class h{constructor(f){this.userProfileProfileResource=f}getUserData(){return this.userProfileProfileResource.getUserProfileData().pipe((0,i.U)(t.C.toDomain))}updateUserData(f){return this.userProfileProfileResource.updateUserProfileData(f)}}h.\u0275fac=function(f){return new(f||h)(a.LFG(n.d))},h.\u0275prov=a.Yz7({token:h,factory:h.\u0275fac}),function(p,f,m,v){var T,E=arguments.length,C=E<3?f:null===v?v=Object.getOwnPropertyDescriptor(f,m):v;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)C=Reflect.decorate(p,f,m,v);else for(var y=p.length-1;y>=0;y--)(T=p[y])&&(C=(E<3?T(C):E>3?T(f,m,C):T(f,m))||C);E>3&&C&&Object.defineProperty(f,m,C)}([(0,r.u)(),d("design:type",Function),d("design:paramtypes",[]),d("design:returntype",s.y)],h.prototype,"getUserData",null)},62320:(S,g,e)=>{"use strict";e.d(g,{c:()=>i});var t=e(80361),n=e(6436),s=e(84046);let i=(()=>{class r{}return r.\u0275fac=function(o){return new(o||r)},r.\u0275mod=s.oAB({type:r}),r.\u0275inj=s.cJS({providers:[t.z,n.d]}),r})()},75173:(S,g,e)=>{"use strict";e.d(g,{C:()=>h});var t=e(50870),n=e(23418),s=e(88401),i=e(60939);class r{constructor(f,m,v,E,C,T){this.id=f,this.displayName=m,this.email=v,this.avatarURL=E,this.colorTheme=C,this.locale=T}}var a=e(17542),o=function(p,f,m,v){var T,E=arguments.length,C=E<3?f:null===v?v=Object.getOwnPropertyDescriptor(f,m):v;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)C=Reflect.decorate(p,f,m,v);else for(var y=p.length-1;y>=0;y--)(T=p[y])&&(C=(E<3?T(C):E>3?T(f,m,C):T(f,m))||C);return E>3&&C&&Object.defineProperty(f,m,C),C},d=function(p,f){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(p,f)};class h extends a.M{static toDomain(f){return new r(f.userId,f.displayName,f.email,f.avatarURL,f.colorTheme,f.locale)}getClassName(){return"UserProfileDataDTO"}}o([(0,t.XV)(),d("design:type",String)],h.prototype,"userId",void 0),o([(0,t.XV)(),d("design:type",String)],h.prototype,"displayName",void 0),o([(0,t.XV)(),d("design:type",String)],h.prototype,"email",void 0),o([(0,t.XV)(),d("design:type",String)],h.prototype,"avatarURL",void 0),o([(0,n.GT)(i.z),(0,s.X)(),d("design:type",String)],h.prototype,"colorTheme",void 0),o([(0,t.XV)(),(0,s.X)(),d("design:type",String)],h.prototype,"locale",void 0)},6436:(S,g,e)=>{"use strict";e.d(g,{d:()=>d});var t=e(75173),n=e(2421),s=e(83155),i=e(65531),r=e(84046),a=e(11531),o=e(83950);let d=(()=>{class h extends s.a{constructor(f,m){super(f),this.environmentService=m}getUserProfileData(){return this.get("").pipe((0,n.W)(t.C))}updateUserProfileData(f){return this.post("",f).pipe((0,i.E)("UserProfileDataResource"))}getRestUrl(f){return`${this.environmentService.getRestBaseUrl()}system/user/current/profile`}}return h.\u0275fac=function(f){return new(f||h)(r.LFG(a.O),r.LFG(o.L))},h.\u0275prov=r.Yz7({token:h,factory:h.\u0275fac}),h})()},90216:(S,g,e)=>{"use strict";e.d(g,{m:()=>i});var t=e(90850),n=e(35811),s=e(62628);class i extends s.b{constructor(){super(),this.hostConnector=null,this.selectedIssue=null,this.unsubscribe$=new t.xQ}connect(a){this.hostConnector=a,this.hostConnector.observeIssueChange().pipe((0,n.R)(this.unsubscribe$)).subscribe(o=>{this.selectedIssue=o}),this.runIntegrationLogic()}disconnect(){this.hostConnector=null,this.selectedIssue=null,this.unsubscribe$.next()}}},30153:(S,g,e)=>{"use strict";e.d(g,{y:()=>t});class t{constructor(s,i){this.extTaskId=s,this.key=i}}},14592:(S,g,e)=>{"use strict";e.d(g,{m:()=>t.m,y:()=>n.y});var t=e(90216),n=e(30153)},8228:(S,g,e)=>{"use strict";e.d(g,{T:()=>r});var t=e(683),n=e(53339),s=e(71726),i=e(56385);class r{constructor(o){this.httpService=o}canReject(o){return o.status===t.o.NOT_FOUND}setActiveProgram(o,d){const h=`${this.getRestBaseUrl()}ppm/box/active/set/${o.toString()}`;return this.httpService.post(h).pipe((0,s.U)(p=>p.data),(0,i.K)(()=>(0,n.of)(1))).toPromise()}}},6248:(S,g,e)=>{"use strict";e.d(g,{g:()=>t});var t=(()=>{return(n=t||(t={})).NOT_STARTED="NOT_STARTED",n.SYNCING="SYNCING",n.COMPLETE="COMPLETE",t;var n})()},30713:(S,g,e)=>{"use strict";e.d(g,{T:()=>n});var t=e(84046);let n=(()=>{class s{}return s.\u0275fac=function(r){return new(r||s)},s.\u0275prov=t.Yz7({token:s,factory:s.\u0275fac}),s})()},4909:(S,g,e)=>{"use strict";e.d(g,{p:()=>a});var t=e(90850),n=e(49549),s=e(35811),i=e(84046),r=e(21102);let a=(()=>{class o{constructor(h){this.lockHeaderGridService=h,this.completed$=new t.xQ}startPageInitLoader(){(0,n.H)(2e3).pipe((0,s.R)(this.completed$)).subscribe(()=>{this.lockHeaderGridService.start()})}show(){this.lockHeaderGridService.start()}complete(){this.completed$.next(),this.lockHeaderGridService.complete()}fail(){this.lockHeaderGridService.fail()}}return o.\u0275fac=function(h){return new(h||o)(i.LFG(r.D))},o.\u0275prov=i.Yz7({token:o,factory:o.\u0275fac}),o})()},77535:(S,g,e)=>{"use strict";e.d(g,{N:()=>r});var t=e(88004),n=e(71118),s=e(27609),i=e(84046);let r=(()=>{class a extends s.V{constructor(d){super(),this.module=d}get(){return this.module?t._[this.module.toUpperCase()]:super.get()}getModuleName(){return n.l.isDefined(this.get())?t._[this.get()]:""}}return a.\u0275fac=function(d){return new(d||a)(i.LFG("MODULE",8))},a.\u0275prov=i.Yz7({token:a,factory:a.\u0275fac}),a})()},85670:(S,g,e)=>{"use strict";e.d(g,{z:()=>t});class t{constructor(s,i,r,a,o){this.moduleType=s,this.active=i,this.moduleName=r,this.defaultModule=a,this.icon=o}static findByType(s,i){return s.find(r=>r.getType()===i)}isActive(){return this.active}isDefault(){return this.defaultModule}getType(){return this.moduleType}getName(){return this.moduleName}getIcon(){return this.icon}}},88004:(S,g,e)=>{"use strict";e.d(g,{_:()=>t});var t=(()=>{return(n=t||(t={}))[n.OVERVIEW=0]="OVERVIEW",n[n.SCOPE=1]="SCOPE",n[n.ROADMAP=2]="ROADMAP",n[n.BOARD=3]="BOARD",n[n.RESOURCES=4]="RESOURCES",n[n.GANTT=5]="GANTT",n[n.REPORTS=6]="REPORTS",n[n.TEAMS=7]="TEAMS",n[n.RISK=8]="RISK",n[n.CALENDAR=9]="CALENDAR",n[n.CONFIGURATION=10]="CONFIGURATION",t;var n})()},47722:(S,g,e)=>{"use strict";e.d(g,{n:()=>n});var t=e(90344);class n extends t.h{isRoot(){return this.id===n.ROOT_TYPE_ID.id}}n.ROOT_TYPE_ID=new n("1")},2196:(S,g,e)=>{"use strict";e.d(g,{N:()=>t});class t{}},70508:(S,g,e)=>{"use strict";e.d(g,{R:()=>t});class t{}},30455:(S,g,e)=>{"use strict";e.d(g,{J:()=>n});var t=e(95281);let n=(()=>{class s extends t.Y{constructor(r){super(r)}static default(){return new s(s.DEFAULT_ID)}}return s.DEFAULT_ID="box-core",s})()},33977:(S,g,e)=>{"use strict";e.d(g,{t:()=>t});class t{}},98234:(S,g,e)=>{"use strict";e.d(g,{e:()=>t});var t=(()=>{return(n=t||(t={})).NAME="6",n.STATUS="8",n.START_DATE="7",n.END_DATE="2",n.DESCRIPTION="1",n.ICON="3",n.LEADER="5",n.TYPE="9",n.ID="4",n.ARCHIVE="10",t;var n})()},61631:(S,g,e)=>{"use strict";e.d(g,{Z:()=>t});class t{}},37452:(S,g,e)=>{"use strict";e.d(g,{p:()=>n});var t=e(90344);class n extends t.h{}},25673:(S,g,e)=>{"use strict";e.d(g,{T:()=>t});class t{}},95752:(S,g,e)=>{"use strict";e.d(g,{G:()=>n});var t=e(66795);class n{findNode(i,r){return r?this.getNodeId(r).equals(i)?t.bq.of(r):t.bq.ofNullable(r.findNode(this.criterionById(i))):t.bq.empty()}findNodes(i,r){if(!r)return[];const a=[];return i.find(o=>o.equals(this.getNodeId(r)))&&a.push(r),a.push(...r.findNodes(this.criterionByIds(i))),a}criterionById(i){return r=>null!==r.getData()&&this.getNodeId(r).equals(i)}criterionByIds(i){return r=>null!==r.getData()&&!!i.find(o=>this.getNodeId(r).equals(o))}}},42484:(S,g,e)=>{"use strict";e.d(g,{I:()=>s});var t=e(39263),n=e(9351);class s{constructor(r,a){this.startDate=r,this.endDate=a}static convertToDate(r){return new Date(r)}static convertToUTCDateFromDate(r){return t.R.toUTCDate(r)}static convertToDateFormat(r,a="DD/MM/YYYY"){const o=s.convertToDate(r),d=t.R.toUTCDate(o);return new n.p(d).format(a)}setStartDate(r){this.startDate=r}setEndDate(r){this.endDate=r}getStartDate(){return this.startDate}getEndDate(){return this.endDate}getUtcStartDate(){return this.startDate?s.convertToUTCDateFromDate(this.startDate):null}getUtcEndDate(){return this.endDate?s.convertToUTCDateFromDate(this.endDate):null}}},72850:(S,g,e)=>{"use strict";e.d(g,{x:()=>n});var t=e(11206);class n{constructor(){this.storedValue=new Map}has(i){return this.storedValue.has(i.toString())}get(i){return this.storedValue.get(i.toString())}keys(){return Array.from(this.storedValue.keys()).map(i=>new t.A(i))}isEmpty(){return 0===this.storedValue.size}set(i,r){this.storedValue.set(i.toString(),r)}delete(i){this.storedValue.delete(i.toString())}clear(){this.storedValue.clear()}forEach(i){this.storedValue.forEach((r,a)=>i(r,new t.A(a)))}}},11:(S,g,e)=>{"use strict";e.d(g,{N:()=>t});var t=(()=>{return(n=t||(t={}))[n.NOT_STARTED=0]="NOT_STARTED",n[n.IN_PROGRESS=1]="IN_PROGRESS",n[n.CLOSED=2]="CLOSED",t;var n})()},81015:(S,g,e)=>{"use strict";e.d(g,{C:()=>t});class t{constructor(s){this.type=s}static of(s){switch(s){case"NONE":return this.NONE;case"OWN":return this.OWN;case"SUB":return this.SUB;default:return this.NONE}}getType(){return this.type}equals(s){return this.type===s.getType()}}t.NONE=new t("NONE"),t.OWN=new t("OWN"),t.SUB=new t("SUB")},3809:(S,g,e)=>{"use strict";e.d(g,{D:()=>s});var t=e(78808),n=e(19327);class s extends t.O{}s.DEFAULT=new t.O("font-awesome-box-open",n.B.VIOLET)},82171:(S,g,e)=>{"use strict";e.d(g,{h:()=>t});class t{constructor(s){this.prefix=s}toString(){return this.prefix}}t.regExp=new RegExp("^[a-zA-Z]+$"),t.errorMessage="SPT_ADMIN_BOX_TYPES_PREFIX_ERROR_MESSAGE"},97069:(S,g,e)=>{"use strict";e.d(g,{p:()=>t});let t=(()=>{class n{constructor(i){this.id=i}get overlappingAllowedId(){return n.OVERLAPPING_ALLOWED_ID}get sequentialId(){return n.SEQUENTIAL_ID}toNumber(){return this.id}isOverlappingAllowed(){return this.id===n.OVERLAPPING_ALLOWED_ID}isSequential(){return this.id===n.SEQUENTIAL_ID}}return n.OVERLAPPING_ALLOWED_ID=1,n.SEQUENTIAL_ID=2,n})()},1870:(S,g,e)=>{"use strict";e.d(g,{C3:()=>t.C,c9:()=>r.c,hf:()=>n.h,pN:()=>i.p});var t=e(81015),n=e(82171),i=(e(3809),e(97069)),r=e(44287)},44287:(S,g,e)=>{"use strict";e.d(g,{c:()=>t});class t{constructor(s){this.id=s,this.MANUAL_ID=1,this.AUTO_TOP_DOWN_ID=2,this.AUTO_BOTTOM_UP_ID=3,this.AUTO_SCOPE_BASED_ID=4}toNumber(){return this.id}isManual(){return this.id===this.MANUAL_ID}isAutoTopDown(){return this.id===this.AUTO_TOP_DOWN_ID}isAutoBottomUp(){return this.id===this.AUTO_BOTTOM_UP_ID}isAutoScopeBased(){return this.id===this.AUTO_SCOPE_BASED_ID}}},99168:(S,g,e)=>{"use strict";e.d(g,{a:()=>n});var t=e(81871);class n extends t.n{constructor(i,r,a){super(i,r),this.error=a}getError(){return this.error}}},1813:(S,g,e)=>{"use strict";e.d(g,{o:()=>n});var t=e(81871);class n extends t.n{}},8663:(S,g,e)=>{"use strict";e.d(g,{w:()=>n});var t=e(99168);class n extends t.a{}},14884:(S,g,e)=>{"use strict";e.d(g,{t:()=>n});var t=e(1813);class n extends t.o{constructor(i,r,a){super(i,r),this.addedBoxId=a}}},74687:(S,g,e)=>{"use strict";e.d(g,{A7:()=>s,Pr:()=>i});var t=e(1813),n=e(99168);class s extends t.o{}class i extends n.a{}},55080:(S,g,e)=>{"use strict";e.d(g,{x:()=>n});var t=e(1813);class n extends t.o{constructor(i,r,a){super(i,r),this.loadMode=a}}},63312:(S,g,e)=>{"use strict";e.d(g,{g:()=>n});var t=e(1813);class n extends t.o{}},69882:(S,g,e)=>{"use strict";e.d(g,{S:()=>n});var t=e(1813);class n extends t.o{constructor(i,r,a){super(i,r),this.updatedBoxesIds=a}}},74122:(S,g,e)=>{"use strict";e.d(g,{v:()=>s,A:()=>i});var t=e(99168),n=e(1813);class s extends n.o{constructor(a,o,d){super(a,o),this.hasPermissionToCreateMatchingBox=d}}class i extends t.a{}},45236:(S,g,e)=>{"use strict";e.d(g,{P:()=>n});var t=e(1813);class n extends t.o{}},25509:(S,g,e)=>{"use strict";e.d(g,{q:()=>n});var t=e(1813);class n extends t.o{constructor(i,r,a){super(i,r),this.boxId=a}}},94522:(S,g,e)=>{"use strict";e.d(g,{j:()=>n});var t=e(1813);class n extends t.o{}},4309:(S,g,e)=>{"use strict";e.d(g,{U:()=>n});var t=e(99168);class n extends t.a{}},46298:(S,g,e)=>{"use strict";e.d(g,{Y:()=>n});var t=e(1813);class n extends t.o{constructor(i,r,a){super(i,r),this.boxIds=a}}},89726:(S,g,e)=>{"use strict";e.d(g,{g:()=>n});var t=e(99168);class n extends t.a{}},43827:(S,g,e)=>{"use strict";e.d(g,{J:()=>n});var t=e(1813);class n extends t.o{constructor(i,r,a){super(i,r),this.boxId=a}}},78272:(S,g,e)=>{"use strict";e.d(g,{I:()=>s,z:()=>i});var t=e(99168),n=e(1813);class s extends t.a{}class i extends n.o{constructor(a,o,d){super(a,o),this.extCatalogName=d}}},23691:(S,g,e)=>{"use strict";e.d(g,{V:()=>n});var t=e(99168);class n extends t.a{}},25137:(S,g,e)=>{"use strict";e.d(g,{U:()=>n});var t=e(1813);class n extends t.o{constructor(i,r,a){super(i,r),this.extTaskCatalogBased=a}}},89443:(S,g,e)=>{"use strict";e.d(g,{m:()=>n});var t=e(1813);class n extends t.o{constructor(i,r,a,o){super(i,r),this.hierarchyObserverId=a,this.filterSettings=o}}},33699:(S,g,e)=>{"use strict";e.d(g,{tU:()=>i.t,eI:()=>b.e,Pr:()=>$.Pr,A7:()=>$.A7,m4:()=>L.m,XA:()=>M.X,mi:()=>X.m,pL:()=>X.p,qi:()=>w.q,S7:()=>o.S,A3:()=>G.A,vT:()=>G.v,UC:()=>f.U,YB:()=>m.Y,gw:()=>v.g,Ju:()=>E.J,BW:()=>C,eh:()=>T,wF:()=>y,I_:()=>ie.I,zv:()=>ie.z,xj:()=>r.x,Q5:()=>K.Q,WK:()=>k.W}),e(99168);var n=e(1813),i=(e(8663),e(14884)),r=e(55080),o=(e(63312),e(69882)),f=(e(45236),e(25509),e(94522),e(4309)),m=e(46298),v=e(89726),E=e(43827);class C extends n.o{}class T extends n.o{constructor(pe,ve,Ce){super(pe,ve),this.expandedBoxIds=Ce}}class y extends n.o{constructor(pe,ve,Ce){super(pe,ve),this.boxId=Ce}}e(23691),e(25137);var L=e(89443),b=(e(22121),e(58747)),M=(e(32645),e(82416),e(56683)),w=e(92731),K=e(43997),k=e(90228),G=e(74122),$=e(74687),X=e(71048),ie=e(78272)},22121:(S,g,e)=>{"use strict";e.d(g,{F:()=>n});var t=e(99168);class n extends t.a{}},58747:(S,g,e)=>{"use strict";e.d(g,{e:()=>n});var t=e(1813);class n extends t.o{}},32645:(S,g,e)=>{"use strict";e.d(g,{z:()=>n});var t=e(1813);class n extends t.o{}},82416:(S,g,e)=>{"use strict";e.d(g,{p:()=>n});var t=e(1813);class n extends t.o{}},71048:(S,g,e)=>{"use strict";e.d(g,{p:()=>s,m:()=>i});var t=e(1813),n=e(99168);class s extends t.o{}class i extends n.a{}},56683:(S,g,e)=>{"use strict";e.d(g,{X:()=>n});var t=e(81871);class n extends t.n{constructor(i,r,a,o){super(i,r),this.hierarchyObserverId=a,this.sortingOptions=o}}},92731:(S,g,e)=>{"use strict";e.d(g,{q:()=>s,$:()=>i});var t=e(99168),n=e(1813);class s extends n.o{constructor(a,o,d){super(o,d),this.idsOfModifiedBoxes=a}}class i extends t.a{}},43997:(S,g,e)=>{"use strict";e.d(g,{Q:()=>n});var t=e(99168);class n extends t.a{}},90228:(S,g,e)=>{"use strict";e.d(g,{W:()=>n});var t=e(1813);class n extends t.o{constructor(i,r,a){super(i,r),this.updatedBoxes=a}}},70038:(S,g,e)=>{"use strict";e.d(g,{d:()=>t});class t{constructor(){this.startDate=null,this.endDate=null,this.text="",this.statuses=[],this.onlyMyBoxes=!1,this.boxTypeIds=[]}getStartDate(){return this.startDate}getEndDate(){return this.endDate}getText(){return this.text}getStatuses(){return this.statuses}getFavouriteBoxesFilterOptions(){return this.favouriteBoxes}areOnlyMyBoxes(){return this.onlyMyBoxes}areFavouriteBoxes(){return!!this.favouriteBoxes&&this.favouriteBoxes.onlyFavourites}getBoxTypeIds(){return this.boxTypeIds}setStartDate(s){this.startDate=s}setEndDate(s){this.endDate=s}setText(s){this.text=s}setStatuses(s){this.statuses=s}setOnlyMyBoxes(s){this.onlyMyBoxes=s}setFavouriteBoxes(s){this.favouriteBoxes=s}setBoxTypeIds(s){this.boxTypeIds=s}}},75737:(S,g,e)=>{"use strict";e.d(g,{G:()=>t});class t{constructor(s,i=!0){this.options=s,this.deepFilter=i}}},27063:(S,g,e)=>{"use strict";e.d(g,{V9:()=>F.V9,tU:()=>I.tU,_V:()=>F._V,NL:()=>t.N,Ry:()=>n.R,J8:()=>o.J,tn:()=>d.t,A7:()=>I.A7,$0:()=>r,e1:()=>h.e,dm:()=>L.d,G3:()=>P.G,Zw:()=>p.Z,m4:()=>I.m4,pK:()=>f.p,TC:()=>m.T,XA:()=>I.XA,Au:()=>v.A,Gu:()=>a.G,I_:()=>E.I,PT:()=>F.PT,pL:()=>I.pL,C3:()=>y.C3,Uq:()=>b.U,NZ:()=>T.N,xw:()=>C.x,qi:()=>I.qi,Fr:()=>F.Fr,S7:()=>I.S7,A3:()=>I.A3,vT:()=>I.vT,UC:()=>I.UC,YB:()=>I.YB,h8:()=>F.h8,gw:()=>I.gw,Ju:()=>I.Ju,Uo:()=>F.Uo,BW:()=>I.BW,eh:()=>I.eh,wF:()=>I.wF,zv:()=>I.zv,nS:()=>F.nS,pN:()=>y.pN,hj:()=>x.h,As:()=>B.A,Q5:()=>I.Q5,WK:()=>I.WK,aI:()=>F.aI,mj:()=>F.mj});var t=e(2196),n=e(70508),s=e(90344);class i extends s.h{}class r extends i{constructor(w){super(w),this.id=w}static create(){return new r("BOX")}}var a=e(95752),o=e(30455),d=e(33977),h=e(98234),p=e(61631),f=e(37452),m=e(25673),v=e(11206),E=e(42484),C=e(72850),T=e(11),y=e(1870),I=e(33699),P=e(75737),L=e(70038),F=e(12724),b=e(47679),x=e(80792),B=e(9294)},32318:(S,g,e)=>{"use strict";e.d(g,{F:()=>t});class t{constructor(s,i){this.boxIds=s,this.newParentId=i}}},12724:(S,g,e)=>{"use strict";e.d(g,{V9:()=>r,_V:()=>n,PT:()=>t.P,Fr:()=>h.F,h8:()=>d,Uo:()=>a,nS:()=>o,aI:()=>i,mj:()=>s});var t=e(58910),n=(()=>{return(p=n||(n={})).INCLUDE_ARCHIVED_BOXES="INCLUDE_ARCHIVED_BOXES",p.EXCLUDE_ARCHIVED_BOXES="EXCLUDE_ARCHIVED_BOXES",n;var p})();function s(p){return p?n.INCLUDE_ARCHIVED_BOXES:n.EXCLUDE_ARCHIVED_BOXES}function i(p){return p===n.INCLUDE_ARCHIVED_BOXES}class r{constructor(f,m,v,E,C,T,y){this.boxTypeId=f,this.parentBoxId=m,this.name=v,this.startDate=E,this.endDate=C,this.icon=T,this.position=y}getBoxTypeId(){return this.boxTypeId}getParentBoxId(){return this.parentBoxId}getName(){return this.name}getStartDate(){return this.startDate}getEndDate(){return this.endDate}getIcon(){return this.icon}getPosition(){return this.position}}class a{constructor(f,m,v,E,C,T,y){this.id=f,this.name=m,this.icon=v,this.leaderId=E,this.description=C,this.startDate=T,this.endDate=y}getId(){return this.id}getName(){return this.name}getIcon(){return this.icon}getLeaderId(){return this.leaderId}getDescription(){return this.description}getStartDate(){return this.startDate}getEndDate(){return this.endDate}}class o{constructor(f,m){this.boxId=f,this.fieldValues=m}}class d{constructor(f,m,v,E,C,T,y){this.id=f,this.parentBoxId=m,this.name=v,this.startDate=E,this.endDate=C,this.icon=T,this.position=y}getId(){return this.id}getParentBoxId(){return this.parentBoxId}getName(){return this.name}getStartDate(){return this.startDate}getEndDate(){return this.endDate}getIcon(){return this.icon}getPosition(){return this.position}}var h=e(32318)},58910:(S,g,e)=>{"use strict";e.d(g,{P:()=>n});var t=e(66795);class n{setExtCatalogId(i){this.extTaskCatalogKey=i}setArchivedBoxesLoadMode(i){this.archivedBoxesLoadMode=i}setExtTaskId(i){this.extTaskId=i}getExtCatalogKey(){return this.extTaskCatalogKey}getArchivedBoxesLoadMode(){return this.archivedBoxesLoadMode}getExtTaskId(){return t.bq.ofNullable(this.extTaskId)}}},47679:(S,g,e)=>{"use strict";e.d(g,{U:()=>t});class t{constructor(s,i){this.field=s,this.order=i}}},80792:(S,g,e)=>{"use strict";e.d(g,{h:()=>t});var t=(()=>{return(n=t||(t={}))[n.NAME=0]="NAME",n[n.ID=1]="ID",n[n.TYPE=2]="TYPE",n[n.STATUS=3]="STATUS",n[n.START_DATE=4]="START_DATE",n[n.END_DATE=5]="END_DATE",n[n.LEADER_NAME=6]="LEADER_NAME",t;var n})()},9294:(S,g,e)=>{"use strict";e.d(g,{A:()=>t});var t=(()=>{return(n=t||(t={}))[n.ASCENDING=0]="ASCENDING",n[n.DESCENDING=1]="DESCENDING",t;var n})()},40811:(S,g,e)=>{"use strict";e.d(g,{H:()=>w});var t=e(30455),n=e(98234),s=e(25673),i=e(11206),r=e(42484),a=e(9294),o=e(71989),d=e(72876),h=e(91793),p=e(31749),f=e(17995),m=e(38269),v=e(95359),E=e(53629),C=e(4254),T=e(1018),y=e(67023),I=e(4683),P=e(71726),L=e(98274),F=e(96105),b=e(32931),x=e(99929),B=e(69417),M=e(84046);let w=(()=>{class K extends s.T{constructor(G,$,X,ie,se,pe,ve,Ce,ye,de){super(),this.boxHierarchyRepository=G,this.boxQueryConverter=$,this.addedBoxRepository=X,this.duplicatedBoxRepository=ie,this.contextBoxRepository=se,this.deletedBoxesRepository=pe,this.updatedBoxesRepository=ve,this.filterSettingsRepository=Ce,this.sortingOptionsRepository=ye,this.filterExceptionsRepository=de}selectRootBoxWithHierarchy(G,$=t.J.default()){return this.selectBoxWithHierarchy(i.A.ROOT_ID,G,$)}selectRootChildBoxesWithHierarchy(G,$=t.J.default()){return this.selectRootBoxWithHierarchy(G,$).pipe((0,P.U)(X=>X?X.getChildren():null))}selectRootBox(G,$=t.J.default()){return this.selectRootBoxWithHierarchy(G,$).pipe((0,P.U)(X=>this.boxQueryConverter.fromQueryNode(X)))}selectRootChildBoxes(G,$=t.J.default()){return this.selectRootChildBoxesWithHierarchy(G,$).pipe((0,P.U)(X=>this.boxQueryConverter.fromQueryNodes(X)))}selectContextBoxWithHierarchy(G,$=t.J.default()){return this.selectContextBoxId($).pipe((0,L.w)(X=>this.selectBoxWithHierarchy(X,G,$)))}selectContextBox(G,$=t.J.default()){return this.selectContextBoxId($).pipe((0,L.w)(X=>this.selectBox(X,G,$)))}selectContextBoxId(G=t.J.default()){return this.contextBoxRepository.select(G).pipe((0,F.x)(($,X)=>$.equals(X)))}selectBoxWithHierarchy(G,$,X=t.J.default()){return(0,I.aj)([this.selectFilterSettings($),this.selectSortingSettings($)]).pipe((0,L.w)(([ie,se])=>this.boxHierarchyRepository.selectBox(X,G).pipe((0,P.U)(pe=>this.resolveNodeFilter(ie,pe,$)),(0,P.U)(pe=>this.resolveNodeSort(se,pe)))))}selectBox(G,$,X=t.J.default()){return this.selectBoxWithHierarchy(G,$,X).pipe((0,P.U)(ie=>this.boxQueryConverter.fromQueryNode(ie).isEmpty()?null:this.boxQueryConverter.fromQueryNode(ie).get()))}selectUpdatedBoxes(G=t.J.default()){return this.updatedBoxesRepository.select(G).pipe((0,P.U)($=>this.getBoxesById($,G)))}selectAddedBox(G=t.J.default()){return this.addedBoxRepository.select(G).pipe((0,P.U)($=>this.getBoxById($,G)))}selectDuplicatedBox(G=t.J.default()){return this.duplicatedBoxRepository.select(G).pipe((0,P.U)($=>this.getBoxById($,G)))}selectDeletedBoxIds(G=t.J.default()){return this.deletedBoxesRepository.select(G)}getContextBox(G=t.J.default()){return this.boxQueryConverter.fromQueryNode(this.getContextBoxWithHierarchy(G)).get()}getContextBoxWithHierarchy(G=t.J.default()){return this.boxHierarchyRepository.getNode(G,this.getContextBoxId(G)).get()}getContextBoxId(G=t.J.default()){return this.contextBoxRepository.get(G)}getContextBoxOverallPeriod(G=t.J.default()){const $=this.getContextBox(G);return new r.I(r.I.convertToDate($.getMinStartDate()),r.I.convertToDate($.getMaxEndDate()))}getAddedBox(G=t.J.default()){return this.getBoxById(this.addedBoxRepository.get(G),G)}getDuplicatedBox(G=t.J.default()){return this.getBoxById(this.duplicatedBoxRepository.get(G),G)}getBoxById(G,$=t.J.default()){return this.boxHierarchyRepository.getNode($,G).isEmpty()?null:this.boxQueryConverter.fromQueryNode(this.boxHierarchyRepository.getNode($,G).get()).get()}getBoxesById(G,$){return this.boxQueryConverter.fromQueryNodes(this.boxHierarchyRepository.getNodes($,G))}getBoxWithHierarchyById(G,$=t.J.default()){return this.boxHierarchyRepository.getNode($,G)}getBoxesWithHierarchyByIds(G,$=t.J.default()){return this.boxHierarchyRepository.getNodes($,G)}getUpdatedBoxes(G=t.J.default()){return this.getBoxesById(this.updatedBoxesRepository.get(G)||[],G)}findNodes(G,$){return(new y.V).findNodes(G,$)}areFiltersActive(G){return!!this.filterSettingsRepository.get(G)}selectFilterSettings(G){return this.filterSettingsRepository.select(G)}selectSortingSettings(G){return this.sortingOptionsRepository.select(G)}resolveNodeFilter(G,$,X){return G?$.filter(G,this.filterExceptionsRepository.get(X)):$}resolveNodeSort(G,$){if(!G||!$)return $;const{field:X,order:ie}=G,se=b.O.getComparator(X.getDataType().getDataTypeId()),pe=b.O.getComparator(x.b.ID);return $.sort((ve,Ce)=>{const ye=se.compare(ve.getData().getFieldCollection().getDataValue(X.getFieldId()),Ce.getData().getFieldCollection().getDataValue(X.getFieldId())),de=ie===a.A.ASCENDING?ye:-ye,Ie=pe.compare(ve.getData().getFieldCollection().getDataValue(B.Z.fromString(n.e.START_DATE)),Ce.getData().getFieldCollection().getDataValue(B.Z.fromString(n.e.START_DATE)));return 0===de?Ie:de})}}return K.\u0275fac=function(G){return new(G||K)(M.LFG(E.p),M.LFG(d.R),M.LFG(o.C),M.LFG(f.n),M.LFG(h.h),M.LFG(p.C),M.LFG(T.U),M.LFG(m.l),M.LFG(C.O),M.LFG(v.z))},K.\u0275prov=M.Yz7({token:K,factory:K.\u0275fac}),K})()},93957:(S,g,e)=>{"use strict";e.d(g,{r:()=>s});var t=e(86278);const s=[e(33847).j,t.S]},67023:(S,g,e)=>{"use strict";e.d(g,{V:()=>n});var t=e(95752);class n extends t.G{getNodeId(i){return i.getData().getId()}}},81473:(S,g,e)=>{"use strict";e.d(g,{x:()=>n});var t=e(25344);class n extends t.g{}},18520:(S,g,e)=>{"use strict";e.d(g,{f:()=>n});var t=e(94062);class n extends t._{compare(i,r){return!(!i||!r)&&i.equals(r)}getMap(){return this.map}}},72876:(S,g,e)=>{"use strict";e.d(g,{R:()=>i});var t=e(80770),n=e(66795),s=e(84046);let i=(()=>{class r{fromQueryNode(o){if(!o||!o.getData())return n.bq.empty();const d=o.getData();return n.bq.of(new t.O(d.getId(),d.getBoxType(),d.getAttributes()))}fromQueryNodes(o){return o.map(d=>this.fromQueryNode(d).get())}}return r.\u0275fac=function(o){return new(o||r)},r.\u0275prov=s.Yz7({token:r,factory:r.\u0275fac}),r})()},80770:(S,g,e)=>{"use strict";e.d(g,{O:()=>s});var t=e(98234),n=e(69417);class s{constructor(r,a,o){this.id=r,this.boxType=a,this.attributes=o}getId(){return this.id}getBoxType(){return this.boxType}getAttributes(){return this.attributes}getFieldCollection(){return this.attributes.getFieldCollection()}isArchived(){return!!this.getFieldCollection().getDataValue(n.Z.fromString(t.e.ARCHIVE))}getStatus(){return this.attributes.getStatus()}getName(){return this.getFieldCollection().getDataValue(n.Z.fromString(t.e.NAME))}getStartDate(){return this.attributes.getStartDate()}getEndDate(){return this.attributes.getEndDate()}getDataTypeStatus(){return this.getFieldCollection().getDataValue(n.Z.fromString(t.e.STATUS))}getDataTypeStartDate(){return this.getFieldCollection().getDataValue(n.Z.fromString(t.e.START_DATE))}getDataTypeEndDate(){return this.getFieldCollection().getDataValue(n.Z.fromString(t.e.END_DATE))}isFavourite(){return this.attributes.isFavourite()}isAvailable(){return this.attributes.isAvailable()}getDescription(){return this.getFieldCollection().getDataValue(n.Z.fromString(t.e.DESCRIPTION))}getIcon(){return this.getFieldCollection().getDataValue(n.Z.fromString(t.e.ICON))}getLeader(){return this.getFieldCollection().getDataValue(n.Z.fromString(t.e.LEADER))}getModules(){return this.attributes.getModules()}getModule(r){return this.attributes.getModule(r)}getSecurity(){return this.attributes.getSecurity()}getMinStartDate(){return this.attributes.getMinStartDate()}getMaxEndDate(){return this.attributes.getMaxEndDate()}getSequentialityId(){return this.boxType.getSequentialityId()}}},71989:(S,g,e)=>{"use strict";e.d(g,{C:()=>s});var t=e(81473),n=e(84046);let s=(()=>{class i extends t.x{}return i.\u0275fac=function(){let r;return function(o){return(r||(r=n.n5z(i)))(o||i)}}(),i.\u0275prov=n.Yz7({token:i,factory:i.\u0275fac}),i})()},91793:(S,g,e)=>{"use strict";e.d(g,{h:()=>d});var t=e(27063),n=e(11206),s=e(81473),i=e(78118),r=e(84046),o=function(h,p){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(h,p)};class d extends s.x{get(p,f){const m=super.get(p,f);return m||console.error("Context box id has not been set! Root box id was return. Call setContextBox method to set context box id"),null!=m?m:n.A.ROOT_ID}}d.\u0275fac=function(){let h;return function(f){return(h||(h=r.n5z(d)))(f||d)}}(),d.\u0275prov=r.Yz7({token:d,factory:d.\u0275fac}),function(h,p,f,m){var C,v=arguments.length,E=v<3?p:null===m?m=Object.getOwnPropertyDescriptor(p,f):m;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)E=Reflect.decorate(h,p,f,m);else for(var T=h.length-1;T>=0;T--)(C=h[T])&&(E=(v<3?C(E):v>3?C(p,f,E):C(p,f))||E);v>3&&E&&Object.defineProperty(p,f,E)}([i.C,o("design:type",Function),o("design:paramtypes",[t.J8,n.A]),o("design:returntype",n.A)],d.prototype,"get",null)},31749:(S,g,e)=>{"use strict";e.d(g,{C:()=>s});var t=e(81473),n=e(84046);let s=(()=>{class i extends t.x{}return i.\u0275fac=function(){let r;return function(o){return(r||(r=n.n5z(i)))(o||i)}}(),i.\u0275prov=n.Yz7({token:i,factory:i.\u0275fac}),i})()},17995:(S,g,e)=>{"use strict";e.d(g,{n:()=>s});var t=e(81473),n=e(84046);let s=(()=>{class i extends t.x{}return i.\u0275fac=function(){let r;return function(o){return(r||(r=n.n5z(i)))(o||i)}}(),i.\u0275prov=n.Yz7({token:i,factory:i.\u0275fac}),i})()},38269:(S,g,e)=>{"use strict";e.d(g,{l:()=>r});var t=e(18520),n=e(38009),s=e(53339),i=e(84046);let r=(()=>{class a extends t.f{select(d){const h=this.has(d)?this.get(d):null;return(0,n.T)((0,s.of)(h),super.select(d))}}return a.\u0275fac=function(){let o;return function(h){return(o||(o=i.n5z(a)))(h||a)}}(),a.\u0275prov=i.Yz7({token:a,factory:a.\u0275fac}),a})()},95359:(S,g,e)=>{"use strict";e.d(g,{z:()=>s});var t=e(18520),n=e(84046);let s=(()=>{class i extends t.f{}return i.\u0275fac=function(){let r;return function(o){return(r||(r=n.n5z(i)))(o||i)}}(),i.\u0275prov=n.Yz7({token:i,factory:i.\u0275fac}),i})()},53629:(S,g,e)=>{"use strict";e.d(g,{p:()=>r});var t=e(81473),n=e(67023),s=e(71726),i=e(84046);let r=(()=>{class a extends t.x{constructor(){super(...arguments),this.boxNodeFinder=new n.V}selectBox(d,h){return this.select(d).pipe((0,s.U)(p=>this.boxNodeFinder.findNode(h,p)),(0,s.U)(p=>p.orElse(null)))}getNode(d,h){return this.boxNodeFinder.findNode(h,this.get(d))}getNodes(d,h){return this.boxNodeFinder.findNodes(h,this.get(d))}}return a.\u0275fac=function(){let o;return function(h){return(o||(o=i.n5z(a)))(h||a)}}(),a.\u0275prov=i.Yz7({token:a,factory:a.\u0275fac}),a})()},4254:(S,g,e)=>{"use strict";e.d(g,{O:()=>r});var t=e(18520),n=e(38009),s=e(53339),i=e(84046);let r=(()=>{class a extends t.f{select(d){const h=this.has(d)?this.get(d):null;return(0,n.T)((0,s.of)(h),super.select(d))}}return a.\u0275fac=function(){let o;return function(h){return(o||(o=i.n5z(a)))(h||a)}}(),a.\u0275prov=i.Yz7({token:a,factory:a.\u0275fac}),a})()},1018:(S,g,e)=>{"use strict";e.d(g,{U:()=>s});var t=e(81473),n=e(84046);let s=(()=>{class i extends t.x{}return i.\u0275fac=function(){let r;return function(o){return(r||(r=n.n5z(i)))(o||i)}}(),i.\u0275prov=n.Yz7({token:i,factory:i.\u0275fac}),i})()},88690:(S,g,e)=>{"use strict";e.d(g,{e:()=>n});var t=e(81015);class n{constructor(i,r,a,o,d,h,p,f,m,v,E,C,T,y,I){this.id=i,this.prefix=r,this.name=a,this.modules=o,this.description=d,this.icon=h,this.periodModeId=p,this.available=f,this.archived=m,this.editableBoxAttributes=v,this.childTypeIds=E,this.readMoreURL=C,this.scopeType=T,this.inUse=y,this.sequentialityId=I}getChildTypeIds(){return this.childTypeIds}getEditableBoxAttributes(){return this.editableBoxAttributes}getIcon(){return this.icon}getModules(){return this.modules}getDescription(){return this.description}getPeriodModeId(){return this.periodModeId}getPrefix(){return this.prefix}getReadMoreUrl(){return this.readMoreURL}getScopeType(){return this.scopeType}getSequentialityId(){return this.sequentialityId}isArchived(){return this.archived}isAvailable(){return this.available}isInUse(){return this.inUse}getId(){return this.id}getName(){return this.name}isNoneBoxScopeType(){return this.scopeType.equals(t.C.NONE)}}},67890:(S,g,e)=>{"use strict";e.d(g,{V9:()=>t.V9,tU:()=>t.tU,_V:()=>t._V,NL:()=>t.NL,Ry:()=>t.Ry,J8:()=>t.J8,tn:()=>t.tn,A7:()=>t.A7,$0:()=>t.$0,e1:()=>t.e1,dm:()=>t.dm,G3:()=>t.G3,Zw:()=>t.Zw,m4:()=>t.m4,pK:()=>t.pK,TC:()=>t.TC,XA:()=>t.XA,Au:()=>t.Au,Gu:()=>t.Gu,I_:()=>t.I_,PT:()=>t.PT,pL:()=>t.pL,C3:()=>t.C3,Uq:()=>t.Uq,NZ:()=>t.NZ,NC:()=>t.xw,qi:()=>t.qi,Fr:()=>t.Fr,S7:()=>t.S7,A3:()=>t.A3,vT:()=>t.vT,YB:()=>t.YB,h8:()=>t.h8,ZM:()=>t.gw,Ju:()=>t.Ju,Uo:()=>t.Uo,zv:()=>t.zv,nS:()=>t.nS,pN:()=>t.pN,hj:()=>t.hj,As:()=>t.As,Q5:()=>t.Q5,WK:()=>t.WK,aI:()=>t.aI,mj:()=>t.mj,HJ:()=>n.HJ,gw:()=>n.gw,jC:()=>n.jC,YY:()=>n.YY,Nj:()=>n.Nj,Ah:()=>n.Ah,kn:()=>n.kn,OL:()=>n.OL,iy:()=>n.iy,_e:()=>n._e,WM:()=>n.WM,JL:()=>n.JL,hQ:()=>n.hQ,BZ:()=>n.BZ,Io:()=>n.Io,FI:()=>n.FI,$V:()=>n.$V,HS:()=>n.HS,lT:()=>n.lT,WT:()=>n.WT,os:()=>n.h8,m:()=>n.m});var t=e(27063),n=e(48492)},17610:(S,g,e)=>{"use strict";e.d(g,{I:()=>o});var t=e(55757),n=e(71726),s=e(83155),i=e(84046),r=e(11531),a=e(83950);let o=(()=>{class d extends s.a{constructor(p,f){super(p),this.environmentService=f,this.OVERVIEW_MODULE_END_POINT="ppm/box/overview-module"}loadBoxAggregate(p,f){return(0,t.D)([this.post(`boxes/${f}`,p),this.loadBoxTypeHierarchy(f)])}loadBoxTypeHierarchy(p){return this.get(`box-types/${p.toString()}`)}markAsFavourite(p,f){return this.handlePutResponse("mark-favourite",f,p)}unmarkFavourite(p,f){return this.handlePutResponse("unmark-favourite",f,p)}resize(p,f){return this.handlePutResponse("resize",f,p)}move(p,f){return this.post(`boxes/${p.toString()}/move`,f).pipe((0,n.U)(m=>m.updatedBoxes))}changeStatus(p,f){return this.handlePutResponse("change-status",f,p)}add(p,f){return this.post(`boxes/${p}/addBox`,f)}addMatchingBox(p,f){return this.post(`boxes/catalogKey/${p}/addBox`,f)}fetchExtCatalogName(p){return this.get(`boxes/catalogKey/${p}/catalogName`)}duplicate(p,f){return this.post(`boxes/${p}/duplicateBox`,f)}edit(p,f){return this.handlePutResponse("update",f,p)}inlineEdit(p,f){return this.handlePutResponse("inlineEdit",f,p)}deleteBoxes(p){return this.put("boxes/delete",p)}archive(p,f){return this.put(`boxes/${p}/archive`,f)}restore(p,f){return this.put(`boxes/${p}/restore`,f)}changeBoxesParent(p){return this.put("boxes/changeParent",p)}syncBoxes(p){return this.post("boxes/sync",p)}extTaskCatalogBased(p){return this.get(`boxes/${p.toString()}/extTaskCatalogBased`)}checkPermissionToCreateMatchingBox(p){return this.get(`boxes/catalogKey/${p}/checkPermissionToCreateMatchingBox`).pipe((0,n.U)(f=>f.hasPermissionToCreateMatchingBox))}updateModules(p,f){return this.put(`boxes/${p}/updateModules`,f).pipe((0,n.U)(m=>m.updatedBoxes))}getRestUrl(p){return`${this.environmentService.getRestBaseUrl()}${this.OVERVIEW_MODULE_END_POINT}/${p}`}handlePutResponse(p,f,m){return this.put(m?`boxes/${m}/${p}`:`boxes/${p}`,f).pipe((0,n.U)(E=>E.updatedBoxes))}}return d.\u0275fac=function(p){return new(p||d)(i.LFG(r.O),i.LFG(a.L))},d.\u0275prov=i.Yz7({token:d,factory:d.\u0275fac}),d})()},33847:(S,g,e)=>{"use strict";e.d(g,{j:()=>i});var t=e(88004);class n{constructor(a,o,d,h,p){this.moduleType=a,this.isActive=o,this.moduleName=d,this.iconId=h,this.isDefault=p}}var s=e(84046);let i=(()=>{class r{toModuleRequestArray(o){return o?o.map(d=>new n(t._[d.getType()],d.isActive(),d.getName(),d.getIcon(),d.isDefault())):[]}}return r.\u0275fac=function(o){return new(o||r)},r.\u0275prov=s.Yz7({token:r,factory:r.\u0275fac}),r})()},20978:(S,g,e)=>{"use strict";e.d(g,{I:()=>i});var t=e(3809),n=e(79658),s=e(84046);let i=(()=>{class r extends n.M{constructor(){super(t.D)}toStringFrom(o){const d=new t.D(o.getIconId(),o.getColor());return this.toString(d)}}return r.\u0275fac=function(o){return new(o||r)},r.\u0275prov=s.Yz7({token:r,factory:r.\u0275fac}),r})()},86278:(S,g,e)=>{"use strict";e.d(g,{S:()=>i});var t=e(85670),n=e(88004),s=e(84046);let i=(()=>{class r{toDomain(o){return o?new t.z(n._[o.moduleType],o.isActive,o.moduleName,o.isDefault,o.iconId):null}toDomainArray(o){return o?o.map(d=>this.toDomain(d)):[]}}return r.\u0275fac=function(o){return new(o||r)},r.\u0275prov=s.Yz7({token:r,factory:r.\u0275fac}),r})()},37912:(S,g,e)=>{"use strict";e.d(g,{y:()=>i});class t{constructor(a,o,d){this.id=a,this.name=o,this.description=d}getId(){return this.id}getName(){return this.name}getDescription(){return this.description}}var n=e(44287),s=e(84046);let i=(()=>{class r{toDomain(o){return o?new t(new n.c(o.id),o.name,o.description):null}toDomainArray(o){return o?o.map(d=>this.toDomain(d)):[]}}return r.\u0275fac=function(o){return new(o||r)},r.\u0275prov=s.Yz7({token:r,factory:r.\u0275fac}),r})()},95995:(S,g,e)=>{"use strict";e.d(g,{x:()=>$c});var t=e(55331),n=e(2196),s=e(61631),i=e(30455),r=e(11206),a=e(8663),o=e(14884),d=e(4309),h=e(46298),p=e(43827),f=e(23691),m=e(25137),v=e(43997),E=e(90228),C=e(19461);class T extends C.m{constructor(z,R,q){super(z),this.boxAggregateId=z,this.loadMode=R,this.adjustHierarchy=q}}class y extends C.m{constructor(z,R){super(z),this.boxAggregateId=z,this.addBox=R}}class I extends C.m{constructor(z,R){super(z),this.boxAggregateId=z,this.boxTypeId=R}}class P extends C.m{constructor(z,R){super(z),this.boxAggregateId=z,this.boxId=R}}class L extends C.m{constructor(z,R){super(z),this.boxAggregateId=z,this.changeBoxesParentDTO=R}}class F extends C.m{constructor(z,R,q){super(z),this.boxAggregateId=z,this.boxId=R,this.boxStatus=q}}class b extends C.m{constructor(z,R){super(z),this.boxAggregateId=z,this.extTaskCatalogKey=R}}class x extends C.m{constructor(z,R){super(z),this.boxAggregateId=z,this.boxId=R}}class B extends C.m{constructor(z,R){super(z),this.boxAggregateId=z,this.boxIds=R}}class M extends C.m{constructor(z,R){super(z),this.boxAggregateId=z,this.box=R}}class w extends C.m{constructor(z,R){super(z),this.boxAggregateId=z,this.editBoxDTO=R}}class K extends C.m{constructor(z){super(z),this.boxAggregateId=z}}class k extends C.m{constructor(z,R){super(z),this.boxAggregateId=z,this.boxId=R}}class G extends C.m{constructor(z,R){super(z),this.boxAggregateId=z,this.boxId=R}}class $ extends C.m{constructor(z,R,q){super(z),this.boxAggregateId=z,this.boxId=R,this.period=q}}class X extends C.m{constructor(z,R,q){super(z),this.boxAggregateId=z,this.boxId=R,this.period=q}}class ie extends C.m{constructor(z,R){super(z),this.boxAggregateId=z,this.boxId=R}}class se extends C.m{constructor(z,R){super(z),this.boxAggregateId=z,this.boxId=R}}class pe extends C.m{constructor(z,R,q){super(z),this.boxAggregateId=z,this.boxId=R,this.modules=q}}class ve extends C.m{constructor(z,R){super(z),this.boxAggregateId=z,this.boxId=R}}class Ce extends C.m{constructor(z){super(z),this.boxAggregateId=z}}class ye extends C.m{constructor(z,R){super(z),this.boxAggregateId=z,this.boxId=R}}class de extends C.m{constructor(z,R){super(z),this.boxAggregateId=z,this.requestSpecification=R}}var Ie=e(78783),He=e(58747),Ve=e(22121),Ue=e(74687),xe=e(71048),gt=e(74122),tt=e(78272),lt=e(89726);class Mt extends C.m{constructor(z,R){super(R),this.request=z}}var ne=e(84046),De=e(26009),Ye=e(42599);let Qe=(()=>{class U extends n.N{constructor(R,q){super(),this.commandDispatcher=R,this.eventStore=q}init(R=i.J.default()){this.commandDispatcher.dispatch(new Ce(R))}load(R=i.J.default(),q=r.A.ROOT_ID){this.commandDispatcher.dispatch(new ye(R,q))}loadAsync(R=i.J.default(),q=r.A.ROOT_ID){const Oe=new ye(R,q);return this.handleAsyncEvent(Oe,He.e.type,Ve.F.type)}loadBoxTypeHierarchy(R=i.J.default(),q=r.A.ROOT_ID){this.commandDispatcher.dispatch(new ve(R,q))}setRequestSpecification(R,q=i.J.default()){this.commandDispatcher.dispatch(new de(q,R))}addAsync(R,q=i.J.default()){const Oe=new y(q,R);return this.handleAsyncEvent(Oe,o.t.type,a.w.type)}addMatchingBoxAsync(R,q=i.J.default()){const Oe=new I(q,R);return this.handleAsyncEvent(Oe,o.t.type,a.w.type)}duplicateAsync(R,q=i.J.default()){const Oe=new M(q,R);return this.handleAsyncEvent(Oe,p.J.type,lt.g.type)}deleteAsync(R,q=i.J.default()){const Oe=new B(q,R);return this.handleAsyncEvent(Oe,h.Y.type,d.U.type)}editAsync(R,q=i.J.default()){const Oe=new w(q,R);return this.handleAsyncEvent(Oe,E.W.type,v.Q.type)}inlineEditAsync(R,q=i.J.default()){const Oe=new Mt(R,q);return this.handleAsyncEvent(Oe,E.W.type,v.Q.type)}markAsFavourite(R,q=i.J.default()){this.commandDispatcher.dispatch(new G(q,R))}markAsFavouriteAsync(R,q=i.J.default()){const Oe=new G(q,R);return this.handleAsyncEvent(Oe,E.W.type,v.Q.type)}unmarkFavourite(R,q=i.J.default()){this.commandDispatcher.dispatch(new se(q,R))}unmarkFavouriteAsync(R,q=i.J.default()){const Oe=new se(q,R);return this.handleAsyncEvent(Oe,E.W.type,v.Q.type)}setContextBox(R,q=i.J.default()){this.commandDispatcher.dispatch(new x(q,R))}resizeAsync(R,q,Oe=i.J.default()){const et=new X(Oe,R,q);return this.handleAsyncEvent(et,E.W.type,v.Q.type)}moveAsync(R,q,Oe=i.J.default()){const et=new $(Oe,R,q);return this.handleAsyncEvent(et,E.W.type,v.Q.type)}archiveAsync(R,q=i.J.default()){const Oe=new P(q,R);return this.handleAsyncEvent(Oe,Ue.A7.type,Ue.Pr.type)}restoreAsync(R,q=i.J.default()){const Oe=new ie(q,R);return this.handleAsyncEvent(Oe,xe.p.type,xe.m.type)}changeStatus(R,q,Oe=i.J.default()){this.commandDispatcher.dispatch(new F(Oe,R,q))}changeBoxesParentAsync(R,q=i.J.default()){const Oe=new L(q,R);return this.handleAsyncEvent(Oe,E.W.type,v.Q.type)}updateBoxModules(R,q,Oe=i.J.default()){const et=new pe(Oe,R,q);return this.handleAsyncEvent(et,E.W.type,v.Q.type)}fetchExtCatalogName(R=i.J.default()){const q=new K(R);return this.handleAsyncEvent(q,tt.z.type,tt.I.type)}extTaskCatalogBased(R,q=i.J.default()){const Oe=new k(q,R);return this.handleAsyncEvent(Oe,m.U.type,f.V.type)}checkPermissionToCreateMatchingBox(R,q=i.J.default()){const Oe=new b(q,R);return this.handleAsyncEvent(Oe,gt.v.type,gt.A.type)}setLoadModeForArchivedBoxes(R,q,Oe=i.J.default()){this.commandDispatcher.dispatch(new T(Oe,R,q))}handleAsyncEvent(R,q,Oe){const et=R.getId();return this.commandDispatcher.dispatchAsync(R),(0,Ie.S3)(this.eventStore.waitForEventEmittedForCommand(et,q),this.eventStore.waitForEventEmittedForCommand(et,Oe))}}return U.\u0275fac=function(R){return new(R||U)(ne.LFG(De.h),ne.LFG(Ye.s))},U.\u0275prov=ne.Yz7({token:U,factory:U.\u0275fac}),U})();var Ke=e(27063),it=e(45236),Se=e(25509),Ct=e(92731);class Lt extends C.m{constructor(z){super(z),this.boxAggregateId=z}}class Vt extends C.m{constructor(z,R){super(z),this.boxAggregateId=z,this.boxId=R}}class St extends C.m{constructor(z){super(z),this.boxAggregateId=z}}class $t extends C.m{constructor(z,R){super(z),this.boxAggregateId=z,this.boxId=R}}class yt extends C.m{constructor(z,R,q){super(z),this.hierarchyObserverId=R,this.filterSettings=q}}class Ft extends C.m{constructor(z,R,q){super(z),this.boxAggregateId=z,this.hierarchyObserverId=R,this.sortingOptions=q}}class ot extends C.m{constructor(z){super(z),this.boxAggregateId=z}}let Me=(()=>{class U extends s.Z{constructor(R,q){super(),this.commandDispatcher=R,this.eventStore=q}filter(R,q,Oe=i.J.default()){this.commandDispatcher.dispatch(new yt(Oe,R,q))}sort(R,q,Oe=i.J.default()){this.commandDispatcher.dispatch(new Ft(Oe,R,q))}expand(R,q=i.J.default()){this.commandDispatcher.dispatch(new $t(q,R))}expandAsync(R,q=i.J.default()){const Oe=new $t(q,R),et=Oe.getId();return this.commandDispatcher.dispatchAsync(Oe),this.eventStore.waitForEventEmittedForCommand(et,Ke.wF.type)}collapse(R,q=i.J.default()){this.commandDispatcher.dispatch(new Vt(q,R))}collapseAsync(R,q=i.J.default()){const Oe=new Vt(q,R),et=Oe.getId();return this.commandDispatcher.dispatchAsync(Oe),this.eventStore.waitForEventEmittedForCommand(et,Se.q.type)}expandAll(R=i.J.default()){this.commandDispatcher.dispatch(new St(R))}expandAllAsync(R=i.J.default()){const q=new St(R),Oe=q.getId();return this.commandDispatcher.dispatchAsync(q),this.eventStore.waitForEventEmittedForCommand(Oe,Ke.eh.type)}collapseAll(R=i.J.default()){this.commandDispatcher.dispatch(new Lt(R))}collapseAllAsync(R=i.J.default()){const q=new Lt(R),Oe=q.getId();return this.commandDispatcher.dispatchAsync(q),this.eventStore.waitForEventEmittedForCommand(Oe,it.P.type)}sync(R=i.J.default()){this.commandDispatcher.dispatch(new ot(R))}syncAsync(R){const q=new ot(R);return this.commandDispatcher.dispatchAsync(q),this.eventStore.waitForEventEmittedForCommand(q.getId(),Ct.q.type)}}return U.\u0275fac=function(R){return new(R||U)(ne.LFG(De.h),ne.LFG(Ye.s))},U.\u0275prov=ne.Yz7({token:U,factory:U.\u0275fac}),U})();var Ze=e(81871);class Ne extends Ze.n{constructor(z,R,q){super(z,R),this.exceptionsList=q}}var we=e(83941),At=e(68859),Rt=e(46902),zt=e(78609),Yt=e(9829),ln=e(683),pn=e(83950),nn=e(8688);let hn=(()=>{class U{constructor(R,q,Oe){this.messageService=R,this.environmentService=q,this.cqrsEventDispatcher=Oe}static getMessageOptions(R,q,Oe){return(new Rt.P).withDefaultsByStatus(Oe).withTitle(q).withBody(we.H.string(R))}dispatchBoxAggregateLoadedFailureEvent(R,q,Oe){Oe.status===ln.o.BAD_REQUEST&&this.messageService.errorFromResponse(Oe.error);const et=new Ve.F(R,q,Oe);this.cqrsEventDispatcher.dispatch(et)}dispatchUpdatedBoxFailureEvent(R,q,Oe){Oe.status===ln.o.BAD_REQUEST&&this.messageService.errorFromResponse(Oe.error);const et=new v.Q(R,q,Oe);this.cqrsEventDispatcher.dispatch(et)}showValidationExceptionMessage(R,q,Oe="Oops..."){const et=Yt.r.ERROR,Ht=(new At.q.Builder).withBtnText("Read more").withBtnClickCallback(()=>{const Ln=this.environmentService.getHelpURL(q);window.open(Ln,"_blank")}).build(),xn=U.getMessageOptions(R,Oe,et).withLinkButton(Ht);this.messageService.error(xn)}getValidationExceptionMessage(R,q){var Oe,et;const Ht=null===(Oe=R.error)||void 0===Oe?void 0:Oe.errors;return null!==(et=Ht&&Ht[q])&&void 0!==et?et:""}}return U.\u0275fac=function(R){return new(R||U)(ne.LFG(zt.e),ne.LFG(pn.L),ne.LFG(nn.p))},U.\u0275prov=ne.Yz7({token:U,factory:U.\u0275fac}),U})();var xt=(()=>{return(U=xt||(xt={})).BOX_AREA_CREATION_VALIDATION_EXCEPTION="BoxAreaCreationValidationException",U.BOX_PARENT_CHANGE_NEW_PARENT_BOX_ARCHIVED_VALIDATION_EXCEPTION="BoxParentChangeNewParentBoxArchivedValidationException",U.BOX_PARENT_CHANGE_NEW_PARENT_BOX_CLOSED_VALIDATION_EXCEPTION="BoxParentChangeNewParentBoxClosedValidationException",U.BOX_AREA_PARENT_CHANGE_VALIDATION_EXCEPTION="BoxAreaParentChangeValidationException",xt;var U})(),Zt=e(63833),je=e(16804),Le=e(38620),vt=e(54490),qe=e(32687),Et=e(59838);let st=(()=>{class U extends Et.g{}return U.\u0275fac=function(){let z;return function(q){return(z||(z=ne.n5z(U)))(q||U)}}(),U.\u0275prov=ne.Yz7({token:U,factory:U.\u0275fac}),U})(),Nt=(()=>{class U extends qe.f{constructor(R){super(R)}}return U.\u0275fac=function(R){return new(R||U)(ne.LFG(st))},U.\u0275prov=ne.Yz7({token:U,factory:U.\u0275fac}),U})(),Je=(()=>{class U extends Le.Z{constructor(R,q){super(R),this.boxAggregateStore=q}getById(R){return this.boxAggregateStore.getById(R)}save(R){this.boxAggregateStore.save(R)}}return U.\u0275fac=function(R){return new(R||U)(ne.LFG(vt.t),ne.LFG(Nt))},U.\u0275prov=ne.Yz7({token:U,factory:U.\u0275fac}),U})();class Ot{}let fe=(()=>{class U extends je.W{constructor(R,q,Oe,et,Ht,xn){super(y.type),this.boxAggregateRepository=R,this.boxAggregateResource=q,this.environmentService=Oe,this.messageService=et,this.cqrsEventDispatcher=Ht,this.aggregateDispatcher=xn}execute(R){const q=R.getAggregateId(),Oe=R.addBox,et=Oe.getParentBoxId(),Ht=Oe.getPosition(),xn=this.boxAggregateRepository.getById(q);this.boxAggregateResource.add(Oe,xn.getRequestSpecification()).pipe((0,Zt.q)(1)).subscribe(Ln=>{const Qn=Ln.addedBox;this.cqrsEventDispatcher.dispatch(new Ne(R.getId(),q,[Qn.getId()])),this.boxAggregateRepository.use(R,Mo=>{Mo.addBox(Qn,et,Ht),Mo.updateBoxes(Ln.boxesToUpdate)})},Ln=>{const Qn=this.aggregateDispatcher.getValidationExceptionMessage(Ln,xt.BOX_AREA_CREATION_VALIDATION_EXCEPTION);Ln.status===ln.o.BAD_REQUEST&&Qn&&this.aggregateDispatcher.showValidationExceptionMessage(Qn,"ppm/boxarea/boxarea-task/box-creation-scope-type-validation"),this.cqrsEventDispatcher.dispatch(new a.w(R.getId(),q,Ln))})}}return U.\u0275fac=function(R){return new(R||U)(ne.LFG(Je),ne.LFG(Ot),ne.LFG(pn.L),ne.LFG(zt.e),ne.LFG(nn.p),ne.LFG(hn))},U.\u0275prov=ne.Yz7({token:U,factory:U.\u0275fac}),U})(),Ge=(()=>{class U extends je.W{constructor(R,q,Oe){super(I.type),this.boxAggregateRepository=R,this.boxAggregateResource=q,this.cqrsEventDispatcher=Oe}execute(R){const q=R.getAggregateId(),Oe=this.boxAggregateRepository.getById(q);this.boxAggregateResource.addMatchingBox(R.boxTypeId,Oe.getRequestSpecification()).pipe((0,Zt.q)(1)).subscribe(et=>{this.boxAggregateRepository.use(R,Ht=>{Ht.setEntityMap(et.boxEntityMap),Ht.setNodeMap(et.boxNodeMap),Ht.setRoot(et.root),Ht.addBox(et.addedBox,r.A.ROOT_ID,0)})},et=>{this.cqrsEventDispatcher.dispatch(new a.w(R.getId(),q,et))})}}return U.\u0275fac=function(R){return new(R||U)(ne.LFG(Je),ne.LFG(Ot),ne.LFG(nn.p))},U.\u0275prov=ne.Yz7({token:U,factory:U.\u0275fac}),U})();var Tt=e(63312),Pe=e(32318);let pt=(()=>{class U extends je.W{constructor(R,q,Oe,et,Ht){super(L.type),this.boxAggregateRepository=R,this.boxAggregateResource=q,this.boxDispatcher=Oe,this.cqrsEventDispatcher=et,this.aggregateDispatcher=Ht}static getMessageTitle(){return"SPT_BOX_CORE_CANNOT_MOVE_BOX_AS_ITS_PARENT_BOX_IS_ARCHIVED_VALIDATION_MESSAGE_TITLE"}execute(R){const q=R.getAggregateId(),Oe=R.changeBoxesParentDTO,et=this.boxAggregateRepository.getById(q),Ht=this.boxAggregateRepository.getById(q),xn=new Pe.F(this.filterBoxIdsWitchParentIdsExistInArray(Oe.boxIds,Ht),Oe.newParentId);this.boxAggregateResource.changeBoxesParent(xn,et.getRequestSpecification()).pipe((0,Zt.q)(1)).subscribe(Ln=>{this.boxAggregateRepository.use(R,Qn=>{Qn.changeBoxesParent(Ln.updatedBoxes),Qn.updateBoxes(Ln.affectedBoxes)}),this.cqrsEventDispatcher.dispatch(new Tt.g(R.getId(),q))},Ln=>{if(Ln.status===ln.o.BAD_REQUEST){const Qn=this.aggregateDispatcher.getValidationExceptionMessage(Ln,xt.BOX_AREA_PARENT_CHANGE_VALIDATION_EXCEPTION),Mo=this.aggregateDispatcher.getValidationExceptionMessage(Ln,xt.BOX_PARENT_CHANGE_NEW_PARENT_BOX_ARCHIVED_VALIDATION_EXCEPTION),os=this.aggregateDispatcher.getValidationExceptionMessage(Ln,xt.BOX_PARENT_CHANGE_NEW_PARENT_BOX_CLOSED_VALIDATION_EXCEPTION);os&&this.aggregateDispatcher.showValidationExceptionMessage(os,"ppm/box/closing",U.getMessageTitle()),Qn&&this.aggregateDispatcher.showValidationExceptionMessage(Qn,"ppm/boxarea/boxarea-task/parent-change-scope-type-validation",U.getMessageTitle()),Mo&&this.aggregateDispatcher.showValidationExceptionMessage(Mo,"ppm/box/archiving",U.getMessageTitle())}this.boxDispatcher.dispatchUpdatedBoxFailureEvent(R.getId(),q,Ln)})}filterBoxIdsWitchParentIdsExistInArray(R,q){return R.filter(Oe=>{const Ht=q.findNode(Oe).getParent().getData();if(!this.isBoxIdExistInArray(Ht,R))return!0})}isBoxIdExistInArray(R,q){return!!q.find(Oe=>Oe.toString()===R.toString())}}return U.\u0275fac=function(R){return new(R||U)(ne.LFG(Je),ne.LFG(Ot),ne.LFG(hn),ne.LFG(nn.p),ne.LFG(hn))},U.\u0275prov=ne.Yz7({token:U,factory:U.\u0275fac}),U})();var Q=e(33699);let Ee=(()=>{class U extends je.W{constructor(R,q,Oe){super(b.type),this.boxAggregateRepository=R,this.boxAggregateResource=q,this.cqrsEventDispatcher=Oe}execute(R){const q=R.getAggregateId();this.boxAggregateResource.checkPermissionToCreateMatchingBox(R.extTaskCatalogKey).pipe((0,Zt.q)(1)).subscribe(Oe=>{this.cqrsEventDispatcher.dispatch(new Q.vT(R.getId(),q,Oe))},Oe=>{this.cqrsEventDispatcher.dispatch(new Q.A3(R.getId(),q,Oe))})}}return U.\u0275fac=function(R){return new(R||U)(ne.LFG(Je),ne.LFG(Ot),ne.LFG(nn.p))},U.\u0275prov=ne.Yz7({token:U,factory:U.\u0275fac}),U})(),ue=(()=>{class U extends je.W{constructor(R){super(Lt.type),this.aggregateRepository=R}execute(R){this.aggregateRepository.use(R,q=>q.collapseAllBoxes())}}return U.\u0275fac=function(R){return new(R||U)(ne.LFG(Je))},U.\u0275prov=ne.Yz7({token:U,factory:U.\u0275fac}),U})(),be=(()=>{class U extends je.W{constructor(R){super(Vt.type),this.aggregateRepository=R}execute(R){this.aggregateRepository.use(R,q=>q.collapseBox(R.boxId))}}return U.\u0275fac=function(R){return new(R||U)(ne.LFG(Je))},U.\u0275prov=ne.Yz7({token:U,factory:U.\u0275fac}),U})(),mt=(()=>{class U extends je.W{constructor(R){super(x.type),this.boxAggregateRepository=R}execute(R){this.boxAggregateRepository.use(R,q=>{q.setContextBoxId(R.boxId)})}}return U.\u0275fac=function(R){return new(R||U)(ne.LFG(Je))},U.\u0275prov=ne.Yz7({token:U,factory:U.\u0275fac}),U})();var Ut=e(2895);let Xt=(()=>{class U{create(){const R=we.H.i18n("SPT_BOX_NO_LONGER_EXISTS_MESSAGE_BODY");return(new Rt.P).withTitle("SPT_BOX_NO_LONGER_EXISTS_MESSAGE_TITLE").withBody(R).withDelay(-1).withPrimaryButton(this.createPrimaryButtonConfig())}createPrimaryButtonConfig(){return(new At.q.Builder).withBtnText("SPT_BOX_NO_LONGER_EXISTS_MESSAGE_BTNS_REFRESH_PAGE").withBtnClickCallback(()=>{(0,Ut.h)(document).location.reload()}).build()}}return U.\u0275fac=function(R){return new(R||U)},U.\u0275prov=ne.Yz7({token:U,factory:U.\u0275fac}),U})(),en=(()=>{class U extends je.W{constructor(R,q,Oe,et,Ht){super(B.type),this.boxAggregateRepository=R,this.boxAggregateResource=q,this.cqrsEventDispatcher=Oe,this.messageService=et,this.boxNoLongerExistsMessageFactory=Ht}static boxNotFoundError(R){return-1!==Object.keys(R).indexOf("BOX_NOT_FOUND")}execute(R){const q=R.getAggregateId(),Oe=R.boxIds,et=this.boxAggregateRepository.getById(q);this.boxAggregateResource.delete(Oe,et.getRequestSpecification()).pipe((0,Zt.q)(1)).subscribe(Ht=>{this.boxAggregateRepository.use(R,xn=>{xn.deleteBoxes(Oe),xn.updateBoxes(Ht.boxesToUpdate)})},Ht=>{U.boxNotFoundError(Ht.error.errors)&&this.showBoxNoLongerExistsMessage(),this.cqrsEventDispatcher.dispatch(new Ke.UC(R.getId(),q,Ht))})}showBoxNoLongerExistsMessage(){const R=this.boxNoLongerExistsMessageFactory.create();this.messageService.info(R)}}return U.\u0275fac=function(R){return new(R||U)(ne.LFG(Je),ne.LFG(Ot),ne.LFG(nn.p),ne.LFG(zt.e),ne.LFG(Xt))},U.\u0275prov=ne.Yz7({token:U,factory:U.\u0275fac}),U})(),mn=(()=>{class U extends je.W{constructor(R,q,Oe){super(M.type),this.boxAggregateRepository=R,this.boxAggregateResource=q,this.cqrsEventDispatcher=Oe}execute(R){const q=R.getAggregateId(),Oe=R.box,et=Oe.getPosition(),Ht=Oe.getParentBoxId(),xn=this.boxAggregateRepository.getById(q);this.boxAggregateResource.duplicate(Oe,xn.getRequestSpecification()).pipe((0,Zt.q)(1)).subscribe(Ln=>{this.boxAggregateRepository.use(R,Qn=>{Qn.duplicateBox(Ln.duplicatedBox,Ht,et),Qn.updateBoxes(Ln.boxesToUpdate)})},Ln=>{this.cqrsEventDispatcher.dispatch(new Ke.gw(R.getId(),q,Ln))})}}return U.\u0275fac=function(R){return new(R||U)(ne.LFG(Je),ne.LFG(Ot),ne.LFG(nn.p))},U.\u0275prov=ne.Yz7({token:U,factory:U.\u0275fac}),U})();class In extends Ze.n{constructor(z,R,q){super(z.getId(),R),this.command=z,this.changedBoxes=q}}let Un=(()=>{class U extends je.W{constructor(R,q,Oe,et){super(w.type),this.aggregateResource=R,this.boxAggregateRepository=q,this.cqrsEventDispatcher=Oe,this.boxDispatcher=et}execute(R){const q=R.getAggregateId(),Oe=R.editBoxDTO,et=this.boxAggregateRepository.getById(q);this.aggregateResource.edit(Oe,et.getRequestSpecification()).pipe((0,Zt.q)(1)).subscribe(Ht=>{this.cqrsEventDispatcher.dispatch(new In(R,q,Ht)),this.cqrsEventDispatcher.dispatch(new Ke.BW(R.getId(),q))},Ht=>{this.boxDispatcher.dispatchUpdatedBoxFailureEvent(R.getId(),q,Ht)})}}return U.\u0275fac=function(R){return new(R||U)(ne.LFG(Ot),ne.LFG(Je),ne.LFG(nn.p),ne.LFG(hn))},U.\u0275prov=ne.Yz7({token:U,factory:U.\u0275fac}),U})(),Jn=(()=>{class U extends je.W{constructor(R){super(St.type),this.aggregateRepository=R}execute(R){this.aggregateRepository.use(R,q=>q.expandAllBoxes())}}return U.\u0275fac=function(R){return new(R||U)(ne.LFG(Je))},U.\u0275prov=ne.Yz7({token:U,factory:U.\u0275fac}),U})(),zn=(()=>{class U extends je.W{constructor(R){super($t.type),this.aggregateRepository=R}execute(R){this.aggregateRepository.use(R,q=>q.expandBox(R.boxId))}}return U.\u0275fac=function(R){return new(R||U)(ne.LFG(Je))},U.\u0275prov=ne.Yz7({token:U,factory:U.\u0275fac}),U})();var An=e(89443);class to extends Ze.n{constructor(z,R,q){super(z,R),this.hierarchyObserverId=q}}let no=(()=>{class U extends je.W{constructor(R){super(yt.type),this.cqrsEventDispatcher=R}execute(R){const q=R.getAggregateId(),Oe=R.getId(),et=R.hierarchyObserverId,Ht=R.filterSettings;this.cqrsEventDispatcher.dispatch(new to(Oe,q,et)),this.cqrsEventDispatcher.dispatch(new An.m(Oe,q,et,Ht))}}return U.\u0275fac=function(R){return new(R||U)(ne.LFG(nn.p))},U.\u0275prov=ne.Yz7({token:U,factory:U.\u0275fac}),U})(),uo=(()=>{class U extends je.W{constructor(R,q,Oe,et){super(G.type),this.boxAggregateResource=R,this.boxAggregateRepository=q,this.boxDispatcher=Oe,this.cqrsEventDispatcher=et}execute(R){const q=R.getAggregateId(),Oe=R.boxId,et=this.boxAggregateRepository.getById(q);this.boxAggregateResource.markBoxAsFavourite(Oe,et.getRequestSpecification()).pipe((0,Zt.q)(1)).subscribe(Ht=>{this.cqrsEventDispatcher.dispatch(new In(R,q,Ht))},Ht=>{this.boxDispatcher.dispatchUpdatedBoxFailureEvent(R.getId(),q,Ht)})}}return U.\u0275fac=function(R){return new(R||U)(ne.LFG(Ot),ne.LFG(Je),ne.LFG(hn),ne.LFG(nn.p))},U.\u0275prov=ne.Yz7({token:U,factory:U.\u0275fac}),U})();var $n=e(32645),kn=e(42484),ro=e(71118);let Dt=(()=>{class U extends je.W{constructor(R,q,Oe,et){super($.type),this.boxAggregateRepository=R,this.boxAggregateResource=q,this.boxDispatcher=Oe,this.cqrsEventDispatcher=et}execute(R){const q=R.getAggregateId(),Oe=R.period,et=R.boxId,Ht=this.boxAggregateRepository.getById(q),xn=this.calculateDateDifferenceInDays(Ht,Oe,et);this.boxAggregateResource.move(et,xn,Ht.getRequestSpecification()).pipe((0,Zt.q)(1)).subscribe(Ln=>{this.cqrsEventDispatcher.dispatch(new In(R,q,Ln)),this.cqrsEventDispatcher.dispatch(new $n.z(R.getId(),q))},Ln=>{this.boxDispatcher.dispatchUpdatedBoxFailureEvent(R.getId(),q,Ln)})}calculateDateDifferenceInDays(R,q,Oe){const et=R.findEntity(Oe),Ht=et?et.getStartDate():null;return ro.l.calculateDateDifferenceInDays(q.getStartDate(),kn.I.convertToDate(Ht))}}return U.\u0275fac=function(R){return new(R||U)(ne.LFG(Je),ne.LFG(Ot),ne.LFG(hn),ne.LFG(nn.p))},U.\u0275prov=ne.Yz7({token:U,factory:U.\u0275fac}),U})();var Cn=e(82416);let Fe=(()=>{class U extends je.W{constructor(R,q,Oe,et){super(X.type),this.boxAggregateResource=R,this.boxAggregateRepository=q,this.cqrsEventDispatcher=Oe,this.boxDispatcher=et}execute(R){const q=R.getAggregateId(),Oe=this.boxAggregateRepository.getById(q);this.boxAggregateResource.resize(R.boxId,R.period,Oe.getRequestSpecification()).pipe((0,Zt.q)(1)).subscribe(et=>{this.cqrsEventDispatcher.dispatch(new In(R,q,et)),this.cqrsEventDispatcher.dispatch(new Cn.p(R.getId(),q))},et=>{this.boxDispatcher.dispatchUpdatedBoxFailureEvent(R.getId(),q,et)})}}return U.\u0275fac=function(R){return new(R||U)(ne.LFG(Ot),ne.LFG(Je),ne.LFG(nn.p),ne.LFG(hn))},U.\u0275prov=ne.Yz7({token:U,factory:U.\u0275fac}),U})();var Pt=e(69882);let tn=(()=>{class U extends je.W{constructor(R,q,Oe,et){super(F.type),this.boxAggregateResource=R,this.boxAggregateRepository=q,this.boxDispatcher=Oe,this.cqrsEventDispatcher=et}execute(R){const q=R.getAggregateId(),Oe=R.boxId,et=this.boxAggregateRepository.getById(q);this.boxAggregateResource.changeStatus(Oe,R.boxStatus,et.getRequestSpecification()).pipe((0,Zt.q)(1)).subscribe(xn=>{const Ln=xn.boxesToModify.map(Qn=>Qn.getId());this.cqrsEventDispatcher.dispatch(new In(R,q,xn)),this.cqrsEventDispatcher.dispatch(new Pt.S(R.getId(),q,Ln))},xn=>{this.boxDispatcher.dispatchUpdatedBoxFailureEvent(R.getId(),q,xn)})}}return U.\u0275fac=function(R){return new(R||U)(ne.LFG(Ot),ne.LFG(Je),ne.LFG(hn),ne.LFG(nn.p))},U.\u0275prov=ne.Yz7({token:U,factory:U.\u0275fac}),U})();var Sn=e(56683);let qt=(()=>{class U extends je.W{constructor(R,q,Oe){super(Ft.type),this.boxAggregateRepository=R,this.boxAggregateResource=q,this.cqrsEventDispatcher=Oe}execute(R){const q=R.getAggregateId(),Oe=R.getId();this.cqrsEventDispatcher.dispatch(new Sn.X(Oe,q,R.hierarchyObserverId,R.sortingOptions))}}return U.\u0275fac=function(R){return new(R||U)(ne.LFG(Je),ne.LFG(Ot),ne.LFG(nn.p))},U.\u0275prov=ne.Yz7({token:U,factory:U.\u0275fac}),U})(),cn=(()=>{class U extends je.W{constructor(R,q,Oe){super(ot.type),this.boxAggregateRepository=R,this.boxAggregateResource=q,this.cqrsEventDispatcher=Oe}execute(R){const q=R.boxAggregateId,Oe=this.boxAggregateRepository.getById(q),et=Oe.getRequestSpecification(),Ht=Oe.getBoxSynchronizationStamp();!Ht||this.boxAggregateResource.sync(Ht,et).pipe((0,Zt.q)(1)).subscribe(xn=>{this.boxAggregateRepository.use(R,Ln=>{Ln.syncBoxes(xn)})},xn=>{this.cqrsEventDispatcher.dispatch(new Ct.$(R.getId(),q,xn))})}}return U.\u0275fac=function(R){return new(R||U)(ne.LFG(Je),ne.LFG(Ot),ne.LFG(nn.p))},U.\u0275prov=ne.Yz7({token:U,factory:U.\u0275fac}),U})(),rn=(()=>{class U extends je.W{constructor(R,q,Oe,et){super(se.type),this.boxAggregateResource=R,this.boxAggregateRepository=q,this.boxDispatcher=Oe,this.cqrsEventDispatcher=et}execute(R){const q=R.getAggregateId(),Oe=this.boxAggregateRepository.getById(q);this.boxAggregateResource.unmarkBoxFavourite(R.boxId,Oe.getRequestSpecification()).pipe((0,Zt.q)(1)).subscribe(et=>{this.cqrsEventDispatcher.dispatch(new In(R,q,et))},et=>{this.boxDispatcher.dispatchUpdatedBoxFailureEvent(R.getId(),q,et)})}}return U.\u0275fac=function(R){return new(R||U)(ne.LFG(Ot),ne.LFG(Je),ne.LFG(hn),ne.LFG(nn.p))},U.\u0275prov=ne.Yz7({token:U,factory:U.\u0275fac}),U})(),un=(()=>{class U extends je.W{constructor(R,q,Oe,et){super(pe.type),this.boxAggregateRepository=R,this.aggregateResource=q,this.cqrsEventDispatcher=Oe,this.boxDispatcher=et}execute(R){const q=R.boxAggregateId,Oe=this.boxAggregateRepository.getById(q);this.aggregateResource.updateModules(R.boxId,R.modules,Oe.getRequestSpecification()).pipe((0,Zt.q)(1)).subscribe(et=>{this.cqrsEventDispatcher.dispatch(new In(R,q,et))},et=>{this.boxDispatcher.dispatchUpdatedBoxFailureEvent(R.getId(),q,et)})}}return U.\u0275fac=function(R){return new(R||U)(ne.LFG(Je),ne.LFG(Ot),ne.LFG(nn.p),ne.LFG(hn))},U.\u0275prov=ne.Yz7({token:U,factory:U.\u0275fac}),U})(),Hn=(()=>{class U extends je.W{constructor(R,q){super(ve.type),this.boxAggregateRepository=R,this.boxAggregateResource=q}execute(R){this.boxAggregateResource.loadBoxTypeHierarchy(R.boxId).pipe((0,Zt.q)(1)).subscribe(q=>{this.boxAggregateRepository.use(R,Oe=>{Oe.setPeriodModes(q.periodModes),Oe.setBoxTypes(q.boxTypes)})})}}return U.\u0275fac=function(R){return new(R||U)(ne.LFG(Je),ne.LFG(Ot))},U.\u0275prov=ne.Yz7({token:U,factory:U.\u0275fac}),U})();var oo=e(58910);function qn(U,z){return-1!==U.findIndex(z.equals,z)}var bn=e(66453),so=e(55080);class Yn extends bn.i{constructor(z,R){super(z),this.boxAggregateId=z,this.loadMode=R}toDomainEvents(z){return[new so.x(z,this.boxAggregateId,this.loadMode)]}}class Do extends bn.i{constructor(z,R){super(z),this.boxAggregateId=z,this.addedBoxId=R}toDomainEvents(z){return[new o.t(z,this.boxAggregateId,this.addedBoxId)]}}class _t extends bn.i{constructor(z){super(z),this.boxAggregateId=z}toDomainEvents(z){return[new it.P(z,this.boxAggregateId)]}}class sn extends bn.i{constructor(z,R){super(z),this.boxAggregateId=z,this.boxId=R}toDomainEvents(z){return[new Se.q(z,this.boxAggregateId,this.boxId)]}}var Nn,Wn,Xn,_e=e(94522);class ke extends bn.i{constructor(z){super(z),this.boxAggregateId=z}toDomainEvents(z){return[new _e.j(z,this.boxAggregateId)]}}class nt extends Ze.n{constructor(z,R,q){super(z,R),this.boxId=q}}class me extends bn.i{constructor(z,R){super(z),this.boxAggregateId=z,this.boxId=R}toDomainEvents(z){return[new nt(z,this.boxAggregateId,this.boxId)]}}class ht extends bn.i{constructor(z,R){super(z),this.boxAggregateId=z,this.boxIds=R}toDomainEvents(z){return[new Ke.YB(z,this.boxAggregateId,this.boxIds)]}}class Wt extends bn.i{constructor(z,R){super(z),this.boxAggregateId=z,this.duplicatedBoxId=R}toDomainEvents(z){return[new Ke.Ju(z,this.boxAggregateId,this.duplicatedBoxId)]}}class It extends bn.i{constructor(z,R){super(z),this.boxAggregateId=z,this.expandedBoxIds=R}toDomainEvents(z){return[new Ke.eh(z,this.boxAggregateId,this.expandedBoxIds)]}}class at extends bn.i{constructor(z,R){super(z),this.boxAggregateId=z,this.boxId=R}toDomainEvents(z){return[new Ke.wF(z,this.boxAggregateId,this.boxId)]}}class wt extends Ze.n{constructor(z,R,q,Oe){super(z,R),this.root=q,this.boxEntityMap=Oe}}class jt extends bn.i{constructor(z,R,q){super(z),this.boxAggregateId=z,this.root=R,this.boxEntityMap=q}toDomainEvents(z){return[new wt(z,this.boxAggregateId,this.root,this.boxEntityMap)]}}class Tn extends bn.i{constructor(z,R){super(z),this.boxAggregateId=z,this.idsOfModifiedBoxes=R}toDomainEvents(z){return[new Ct.q(this.idsOfModifiedBoxes,z,this.boxAggregateId)]}}class Fn extends bn.i{constructor(z,R){super(z),this.boxAggregateId=z,this.updatedBoxes=R}toDomainEvents(z){return[new E.W(z,this.boxAggregateId,this.updatedBoxes)]}}const Vn=Symbol("NgMapEntries");class rt{constructor(z){this[Nn]="NgMap",this[Wn]=[];const R=z instanceof rt?Array.from(z.entries()):z;Array.isArray(R)&&R.length&&R.forEach(([q,Oe])=>{this.set(q,Oe)})}get size(){return this[Vn].length}[(Nn=Symbol.toStringTag,Wn=Vn,Symbol.iterator)](){return new an(this[Vn],([z,R])=>[z,R])}has(z){return this[Vn].findIndex(([R])=>R.equals(z))>-1}get(z){const R=this[Vn].find(([q])=>q.equals(z));return R&&R[1]}set(z,R){if("[object Object]"!==Object.prototype.toString.call(z)||"function"!=typeof z.equals)throw new TypeError("The provided key is not an object or has no equals method.");const q=this[Vn].findIndex(([et])=>et.equals(z)),Oe=[z,R];return this[Vn]=q>-1?[...this[Vn].slice(0,q),Oe,...this[Vn].slice(q+1)]:[...this[Vn],Oe],this}delete(z){const R=this[Vn].length;return this[Vn]=this[Vn].filter(([q])=>!q.equals(z)),R>this[Vn].length}clear(){this[Vn]=[]}copy(){return new rt(Array.from(this.entries()))}filter(z){const R=Array.from(this.entries()).filter(z);return new rt(R)}map(z){const R=Array.from(this.entries()).map(z);return new rt(R)}reduce(z,R){return Array.from(this.entries()).reduce(z,R)}reduceRight(z,R){return Array.from(this.entries()).reduceRight(z,R)}some(z){return Array.from(this.entries()).some(z)}every(z){return Array.from(this.entries()).every(z)}keys(){return new an(this[Vn],([z])=>z)}values(){return new an(this[Vn],([z,R])=>R)}entries(){return new an(this[Vn],z=>z)}forEach(z){this[Vn].forEach(([R,q])=>z(q,R,this))}}class an{constructor(z,R){this.mapperFn=R,this[Xn]="NgMap Iterator",this.pointer=0,this.entries=z.slice(0)}next(){const z=this.pointer>=this.entries.length;return{value:z?void 0:this.mapperFn(this.entries[this.pointer++]),done:z}}[(Xn=Symbol.toStringTag,Symbol.iterator)](){return this}}class We{constructor(z){this.boxNodeMap=z,this.boxesWithMissingParent=new rt,this.boxesWithMissingChild=new rt}registerMissingChild(z,R,q){this.boxesWithMissingChild.set(R,{parentId:z,indexAtWhichToInsert:q})}registerMissingParent(z,R){this.boxesWithMissingParent.set(R,z)}reestablishRelations(){this.boxesWithMissingParent.forEach((z,R)=>{const q=this.boxNodeMap.get(R);q&&this.boxNodeMap.get(z).setParent(q)}),this.boxesWithMissingChild.forEach((z,R)=>{const q=this.boxNodeMap.get(R);q&&this.boxNodeMap.get(z.parentId).addChild(q,z.indexAtWhichToInsert)}),this.boxesWithMissingParent.clear(),this.boxesWithMissingChild.clear()}}class Gt{constructor(z,R){this.boxNodeMap=z,this.boxEntityMap=R,this.idsOfDisconnectedChildren=[]}recordChildWithoutParent(z){this.idsOfDisconnectedChildren.push(z)}removeDisconnectedChildren(){const z=[];return this.idsOfDisconnectedChildren.forEach(R=>{null===this.boxNodeMap.get(R).getParent()&&(z.push(R),this.boxNodeMap.delete(R),this.boxEntityMap.delete(R))}),this.idsOfDisconnectedChildren.splice(0),z}}var _n=e(67559);class ao{constructor(z,R){this.boxNodeMap=z,this.boxEntityMap=R,this.relationIntegrityKeeper=new We(z),this.trackerOfDisconnectedChildren=new Gt(z,R)}sync(z){return z.forEach(this.updateLocalBox,this),this.relationIntegrityKeeper.reestablishRelations(),this.trackerOfDisconnectedChildren.removeDisconnectedChildren()}updateLocalBox(z){const R=z.entity,q=z.parentId,Oe=z.childIds,et=R.getId(),Ht=this.retrieveExistingOrCreateNew(et);this.identifyAndDisconnectBoxesWhichAreNoLongerChildren(Ht,Oe),q&&this.setParent(Ht,et,q),this.setChildren(Ht,et,Oe),this.boxEntityMap.set(et,R)}retrieveExistingOrCreateNew(z){let R=this.boxNodeMap.get(z);return R||(R=new _n.N(z),R.setId(z.toString()),this.boxNodeMap.set(z,R)),R}identifyAndDisconnectBoxesWhichAreNoLongerChildren(z,R){const q=this.getChildIds(z),Oe=this.getIdsOfRemovedChildren(q,R);Oe.length&&Oe.forEach(this.disconnectChild,this)}getChildIds(z){return z.getChildren().map(R=>R.getData())}getIdsOfRemovedChildren(z,R){return z.filter(Oe=>!qn(R,Oe))}disconnectChild(z){this.boxNodeMap.get(z).setParent(null),this.trackerOfDisconnectedChildren.recordChildWithoutParent(z)}setParent(z,R,q){const Oe=this.boxNodeMap.get(q)||null;Oe||this.relationIntegrityKeeper.registerMissingParent(R,q),z.setParent(Oe)}setChildren(z,R,q){const Oe=[];q.forEach((et,Ht)=>{const xn=this.boxNodeMap.get(et)||null;xn?Oe.push(xn):this.relationIntegrityKeeper.registerMissingChild(R,et,Ht)}),z.setChildren(Oe)}}class go extends Ze.n{constructor(z,R,q){super(z,R),this.boxTypes=q}}class _o extends bn.i{constructor(z,R){super(z),this.boxAggregateId=z,this.dateFormat=R}toDomainEvents(z){return[new go(z,this.boxAggregateId,this.dateFormat)]}}class vo extends Ze.n{constructor(z,R,q){super(z,R),this.periodModes=q}}class Oo extends bn.i{constructor(z,R){super(z),this.boxAggregateId=z,this.periodModes=R}toDomainEvents(z){return[new vo(z,this.boxAggregateId,this.periodModes)]}}class Po extends Ze.n{constructor(z,R,q){super(z,R),this.requestSpecification=q}}class Bo extends bn.i{constructor(z,R){super(z),this.boxAggregateId=z,this.requestSpecification=R}toDomainEvents(z){return[new Po(z,this.boxAggregateId,this.requestSpecification)]}}class Fo extends Ze.n{constructor(z,R,q){super(z,R),this.stamp=q}}class si extends bn.i{constructor(z,R){super(z),this.boxAggregateId=z,this.stamp=R}toDomainEvents(z){return[new Fo(z,this.boxAggregateId,this.stamp)]}}var hi=e(17658);class Pi extends hi.Z{constructor(z){super(z),this.id=z,this.root=new _n.N(null),this.contextBoxId=r.A.ROOT_ID,this.requestSpecification=new oo.P}getContextBoxId(){return this.contextBoxId}getBoxSynchronizationStamp(){return this.boxSynchronizationStamp}getBoxTypes(){return this.boxTypes}getRequestSpecification(){return this.requestSpecification}init(z){this.setBoxTypes(z.types,!1),this.setPeriodModes(z.periodModes),this.setEntityMap(z.boxEntityMap),this.setNodeMap(z.boxNodeMap),this.setRoot(z.root),this.setSynchronizationStamp(z.synchronizationStamp),this.boxSynchronizer=new ao(this.boxNodeMap,this.boxEntityMap)}updateBoxes(z){const R=z.map(Oe=>this.updateBox(Oe)),q=new Fn(this.getId(),R);R.length?this.dispatchCustomEventWithFirstBoxHierarchyChangedEvent(q):this.emit(q)}updateBox(z){const R=z.getId();return this.boxEntityMap.has(R)&&this.boxEntityMap.set(R,z),R}addBox(z,R,q){this.addBoxToHierarchy(z,R,q),this.dispatchCustomEventWithFirstBoxHierarchyChangedEvent(new Do(this.getId(),z.getId()))}duplicateBox(z,R,q){this.addBoxToHierarchy(z,R,q),this.dispatchCustomEventWithFirstBoxHierarchyChangedEvent(new Wt(this.getId(),z.getId()))}deleteBoxes(z){z.forEach(R=>this.deleteBoxFromHierarchy(R)),this.dispatchCustomEventWithFirstBoxHierarchyChangedEvent(new ht(this.getId(),z))}changeBoxesParent(z){const R=z.reverse().map(q=>this.changeBoxParent(q.entity,q.parentBoxId));this.dispatchCustomEventWithFirstBoxHierarchyChangedEvent(new Fn(this.getId(),R))}changeBoxParent(z,R){const q=z.getId(),Oe=this.findNode(q),et=Oe.getParent(),Ht=this.findNode(R);return et.removeChild(et.getChildPosition(Oe)),Ht.addChild(Oe),q}syncBoxes(z){this.boxSynchronizationStamp=z.synchronizationStamp;const R=z.modifiedBoxes;if(!R.length)return void this.emit(new Tn(this.getId(),[]));if(qn(this.boxSynchronizer.sync(R),this.getContextBoxId()))return void this.emit(new ke(this.getId()));const et=R.map(Ht=>Ht.entity.getId());this.dispatchCustomEventWithFirstBoxHierarchyChangedEvent(new Tn(this.getId(),et))}setContextBoxId(z){this.contextBoxId=z,this.emit(new me(this.getId(),this.contextBoxId))}setEntityMap(z){this.boxEntityMap=z}setNodeMap(z){this.boxNodeMap=z}setRoot(z){this.root=z,this.emit(this.getBoxHierarchyChangedEvent())}setBoxTypes(z,R=!0){this.boxTypes=z;const q=new _o(this.getId(),this.boxTypes);R?this.dispatchCustomEventWithFirstBoxHierarchyChangedEvent(q):this.emit(q)}setPeriodModes(z){this.periodModes=z,this.emit(new Oo(this.getId(),this.periodModes))}setRequest(z){this.requestSpecification=z,this.emit(new Bo(this.getId(),this.requestSpecification))}setLoadModeForArchivedBoxes(z){this.requestSpecification.setArchivedBoxesLoadMode(z),this.emit(new Yn(this.getId(),z))}setSynchronizationStamp(z){this.boxSynchronizationStamp=z,this.emit(new si(this.getId(),this.boxSynchronizationStamp))}expandBox(z){this.findNode(z).expand(),this.dispatchCustomEventWithFirstBoxHierarchyChangedEvent(new at(this.getId(),z))}collapseBox(z){this.findNode(z).collapse(),this.dispatchCustomEventWithFirstBoxHierarchyChangedEvent(new sn(this.getId(),z))}expandAllBoxes(){this.root.expandAll(),this.dispatchCustomEventWithFirstBoxHierarchyChangedEvent(new It(this.getId(),this.getAllBoxIds()))}collapseAllBoxes(){this.root.collapseAll(),this.dispatchCustomEventWithFirstBoxHierarchyChangedEvent(new _t(this.getId()))}findEntity(z){return this.boxEntityMap.get(z)}findNode(z){return this.boxNodeMap.get(z)}findNodes(z){return z.map(this.findNode,this)}dispatchCustomEventWithFirstBoxHierarchyChangedEvent(z){const R=this.getEvents().filter(q=>q.getType()!==jt.type);R.unshift(this.getBoxHierarchyChangedEvent()),R.push(z),this.clearEvents(),this.emit(R)}getBoxHierarchyChangedEvent(){return new jt(this.getId(),this.root,this.boxEntityMap)}addBoxToHierarchy(z,R,q){if(!z)return;const Oe=z.getId(),et=new _n.N(Oe);et.setId(Oe.toString()),this.findNode(R).addChild(et,q),this.boxEntityMap.set(Oe,z),this.boxNodeMap.set(Oe,et)}deleteBoxFromHierarchy(z){const R=this.findNode(z);if(!R)return;const q=R.getParent();q.removeChild(q.getChildPosition(R)),this.boxEntityMap.delete(z),this.boxNodeMap.delete(z)}getAllBoxIds(){return Array.from(this.boxEntityMap.keys())}}class yi extends Ze.n{}let Li=(()=>{class U extends je.W{constructor(R,q){super(Ce.type,yi,q),this.boxAggregateRepository=R}execute(R){const q=new Pi(R.boxAggregateId);this.boxAggregateRepository.save(q)}}return U.\u0275fac=function(R){return new(R||U)(ne.LFG(Je),ne.LFG(nn.p))},U.\u0275prov=ne.Yz7({token:U,factory:U.\u0275fac}),U})(),ko=(()=>{class U extends je.W{constructor(R,q,Oe,et){super(ye.type),this.boxAggregateRepository=R,this.boxAggregateResource=q,this.cqrsEventDispatcher=Oe,this.boxAggregateDispatcher=et}execute(R){const q=R.getAggregateId(),Oe=this.boxAggregateRepository.getById(q);this.boxAggregateResource.loadBoxAggregate(Oe.getRequestSpecification(),R.boxId).pipe((0,Zt.q)(1)).subscribe(et=>{this.boxAggregateRepository.use(R,Ht=>{Ht.init(et)}),this.cqrsEventDispatcher.dispatch(new He.e(R.getId(),q))},et=>{this.boxAggregateDispatcher.dispatchBoxAggregateLoadedFailureEvent(R.getId(),q,et)})}}return U.\u0275fac=function(R){return new(R||U)(ne.LFG(Je),ne.LFG(Ot),ne.LFG(nn.p),ne.LFG(hn))},U.\u0275prov=ne.Yz7({token:U,factory:U.\u0275fac}),U})(),bi=(()=>{class U extends je.W{constructor(R){super(de.type),this.boxAggregateRepository=R}execute(R){this.boxAggregateRepository.use(R,q=>{q.setRequest(R.requestSpecification)})}}return U.\u0275fac=function(R){return new(R||U)(ne.LFG(Je))},U.\u0275prov=ne.Yz7({token:U,factory:U.\u0275fac}),U})();var Kn=e(50476);let zi=(()=>{class U extends je.W{constructor(R,q){super(k.type),this.boxAggregateResource=R,this.cqrsEventDispatcher=q}execute(R){const q=R.getAggregateId();this.boxAggregateResource.extTaskCatalogBased(R.boxId).pipe((0,Zt.q)(1)).subscribe(et=>{this.cqrsEventDispatcher.dispatch(new m.U(R.getId(),q,et))},et=>{this.cqrsEventDispatcher.dispatch(new f.V(R.getId(),q,et))})}}return U.\u0275fac=function(R){return new(R||U)(ne.LFG(Ot),ne.LFG(nn.p))},U.\u0275prov=ne.Yz7({token:U,factory:U.\u0275fac}),U})();var ki=e(12724);let mr=(()=>{class U extends je.W{constructor(R,q,Oe,et){super(P.type),this.boxAggregateRepository=R,this.boxAggregateResource=q,this.cqrsEventDispatcher=Oe,this.boxAggregateDispatcher=et}execute(R){const q=R.getAggregateId(),Oe=this.boxAggregateRepository.getById(q),et=R.boxId,Ht=Oe.getRequestSpecification();this.boxAggregateResource.archive(et,Ht).pipe((0,Zt.q)(1)).subscribe(({boxesToModify:xn})=>{this.boxAggregateRepository.use(R,Ln=>{xn.length&&Ln.updateBoxes(xn),Ht.getArchivedBoxesLoadMode()===ki._V.EXCLUDE_ARCHIVED_BOXES&&Ln.deleteBoxes([et])}),this.cqrsEventDispatcher.dispatch(new Q.A7(R.getId(),R.getAggregateId()))},xn=>{this.cqrsEventDispatcher.dispatch(new Q.Pr(R.getId(),R.getAggregateId(),xn)),this.boxAggregateDispatcher.dispatchUpdatedBoxFailureEvent(R.getId(),q,xn)})}}return U.\u0275fac=function(R){return new(R||U)(ne.LFG(Je),ne.LFG(Ot),ne.LFG(nn.p),ne.LFG(hn))},U.\u0275prov=ne.Yz7({token:U,factory:U.\u0275fac}),U})(),fi=(()=>{class U extends je.W{constructor(R,q,Oe,et){super(ie.type),this.boxAggregateRepository=R,this.boxAggregateResource=q,this.cqrsEventDispatcher=Oe,this.boxAggregateDispatcher=et}execute(R){const q=R.getAggregateId(),Oe=this.boxAggregateRepository.getById(q);this.boxAggregateResource.restore(R.boxId,Oe.getRequestSpecification()).pipe((0,Zt.q)(1)).subscribe(et=>{this.cqrsEventDispatcher.dispatch(new In(R,q,et)),this.cqrsEventDispatcher.dispatch(new Q.pL(R.getId(),R.getAggregateId()))},et=>{this.cqrsEventDispatcher.dispatch(new Q.mi(R.getId(),R.getAggregateId(),et)),this.boxAggregateDispatcher.dispatchUpdatedBoxFailureEvent(R.getId(),q,et)})}}return U.\u0275fac=function(R){return new(R||U)(ne.LFG(Je),ne.LFG(Ot),ne.LFG(nn.p),ne.LFG(hn))},U.\u0275prov=ne.Yz7({token:U,factory:U.\u0275fac}),U})(),Bi=(()=>{class U extends je.W{constructor(R,q,Oe,et){super(T.type),this.boxAggregateRepository=R,this.boxAggregateResource=q,this.cqrsEventDispatcher=Oe,this.boxAggregateDispatcher=et}execute(R){this.boxAggregateRepository.use(R,q=>{q.setLoadModeForArchivedBoxes(R.loadMode)}),R.adjustHierarchy&&this.adjustHierarchyToMatchNewLoadMode(R)}adjustHierarchyToMatchNewLoadMode(R){const q=R.getAggregateId(),Oe=this.boxAggregateRepository.getById(q);this.boxAggregateResource.loadBoxAggregate(Oe.getRequestSpecification(),r.A.ROOT_ID).pipe((0,Zt.q)(1)).subscribe(et=>{this.boxAggregateRepository.use(R,Ht=>{Ht.init(et)}),this.cqrsEventDispatcher.dispatch(new Q.eI(R.getId(),q))},et=>{this.boxAggregateDispatcher.dispatchBoxAggregateLoadedFailureEvent(R.getId(),q,et)})}}return U.\u0275fac=function(R){return new(R||U)(ne.LFG(Je),ne.LFG(Ot),ne.LFG(nn.p),ne.LFG(hn))},U.\u0275prov=ne.Yz7({token:U,factory:U.\u0275fac}),U})(),ji=(()=>{class U extends je.W{constructor(R,q,Oe){super(K.type),this.boxAggregateResource=R,this.cqrsEventDispatcher=q,this.boxAggregateRepository=Oe}execute(R){const q=R.getAggregateId(),et=this.boxAggregateRepository.getById(q).getRequestSpecification().getExtCatalogKey();this.boxAggregateResource.fetchExtCatalogName(et).pipe((0,Zt.q)(1)).subscribe(Ht=>{this.cqrsEventDispatcher.dispatch(new Q.zv(R.getId(),q,Ht))},Ht=>{this.cqrsEventDispatcher.dispatch(new Q.I_(R.getId(),q,Ht))})}}return U.\u0275fac=function(R){return new(R||U)(ne.LFG(Ot),ne.LFG(nn.p),ne.LFG(Je))},U.\u0275prov=ne.Yz7({token:U,factory:U.\u0275fac}),U})(),Zi=(()=>{class U extends je.W{constructor(R,q,Oe,et){super(Mt.type),this.boxAggregateResource=R,this.boxAggregateRepository=q,this.boxAggregateDispatcher=Oe,this.cqrsEventDispatcher=et}execute(R){const q=R.getAggregateId(),Oe=this.boxAggregateRepository.getById(q);this.boxAggregateResource.inlineEdit(R.request,Oe.getRequestSpecification()).pipe((0,Zt.q)(1)).subscribe(et=>{this.cqrsEventDispatcher.dispatch(new In(R,q,et)),this.cqrsEventDispatcher.dispatch(new Ke.BW(R.getId(),q))},et=>{this.boxAggregateDispatcher.dispatchUpdatedBoxFailureEvent(R.getId(),q,et)})}}return U.\u0275fac=function(R){return new(R||U)(ne.LFG(Ot),ne.LFG(Je),ne.LFG(hn),ne.LFG(nn.p))},U.\u0275prov=ne.Yz7({token:U,factory:U.\u0275fac}),U})();const Qi=[{provide:s.Z,useClass:Me},{provide:n.N,useClass:Qe},(0,Kn.p)(Li),(0,Kn.p)(ko),(0,Kn.p)(Hn),(0,Kn.p)(mt),(0,Kn.p)(mr),(0,Kn.p)(fi),(0,Kn.p)(en),(0,Kn.p)(Fe),(0,Kn.p)(Dt),(0,Kn.p)(cn),(0,Kn.p)(uo),(0,Kn.p)(rn),(0,Kn.p)(no),(0,Kn.p)(qt),(0,Kn.p)(fe),(0,Kn.p)(ji),(0,Kn.p)(Ge),(0,Kn.p)(mn),(0,Kn.p)(zi),(0,Kn.p)(un),(0,Kn.p)(tn),(0,Kn.p)(Ee),(0,Kn.p)(Un),(0,Kn.p)(Zi),(0,Kn.p)(pt),(0,Kn.p)(be),(0,Kn.p)(ue),(0,Kn.p)(zn),(0,Kn.p)(Jn),(0,Kn.p)(bi),(0,Kn.p)(Bi),hn];var Ji=e(70508),ae=e(70822);let re=(()=>{class U extends Ji.R{constructor(R){super(),this.eventStore=R}selectEditedBoxSuccessEvent(){return this.eventStore.selectEvent(Q.BW.type)}selectChangedBoxStatusSuccessEvent(){return this.eventStore.selectEvent(Pt.S.type)}selectUpdatedBoxesSuccessEvent(){return this.eventStore.selectEvent(E.W.type)}selectAddedBoxSuccessEvent(){return this.eventStore.selectEvent(o.t.type)}selectDuplicatedBoxSuccessEvent(){return this.eventStore.selectEvent(Q.Ju.type)}selectDeletedBoxesSuccessEvent(){return this.eventStore.selectEvent(Q.YB.type)}selectChangeBoxesParentSuccessEvent(){return this.eventStore.selectEvent(Tt.g.type)}selectBoxHierarchyFilteredEvent(R){return this.eventStore.selectEvent(An.m.type).pipe((0,ae.h)(q=>q.hierarchyObserverId.equals(R)))}selectBoxHierarchySortedEvent(R){return this.eventStore.selectEvent(Sn.X.type).pipe((0,ae.h)(q=>q.hierarchyObserverId.equals(R)))}selectExpandedAllBoxesEvent(){return this.eventStore.selectEvent(Q.eh.type)}selectCollapsedAllBoxesEvent(){return this.eventStore.selectEvent(it.P.type)}selectContextBoxRemovedEvent(){return this.eventStore.selectEvent(_e.j.type)}selectBoxesSynchronizedEvent(){return this.eventStore.selectEvent(Ct.q.type)}selectMovedBoxSuccessEvent(){return this.eventStore.selectEvent($n.z.type)}selectResizedBoxSuccessEvent(){return this.eventStore.selectEvent(Cn.p.type)}selectBoxArchivingSuccessEvent(){return this.eventStore.selectEvent(Q.A7.type)}selectBoxRestoreSuccessEvent(){return this.eventStore.selectEvent(Q.pL.type)}selectBoxAggregateLoadedSuccessEvent(){return this.eventStore.selectEvent(Q.eI.type)}selectSetArchivedBoxesLoadModeDomainEvent(){return this.eventStore.selectEvent(Q.xj.type)}}return U.\u0275fac=function(R){return new(R||U)(ne.LFG(Ye.s))},U.\u0275prov=ne.Yz7({token:U,factory:U.\u0275fac}),U})();var Z=e(33977),Te=e(25673),bt=e(81473);let vn=(()=>{class U extends bt.x{}return U.\u0275fac=function(){let z;return function(q){return(z||(z=ne.n5z(U)))(q||U)}}(),U.\u0275prov=ne.Yz7({token:U,factory:U.\u0275fac}),U})(),eo=(()=>{class U extends bt.x{}return U.\u0275fac=function(){let z;return function(q){return(z||(z=ne.n5z(U)))(q||U)}}(),U.\u0275prov=ne.Yz7({token:U,factory:U.\u0275fac}),U})();var jo=e(25344);let ai=(()=>{class U extends jo.g{}return U.\u0275fac=function(){let z;return function(q){return(z||(z=ne.n5z(U)))(q||U)}}(),U.\u0275prov=ne.Yz7({token:U,factory:U.\u0275fac}),U})(),$i=(()=>{class U extends bt.x{}return U.\u0275fac=function(){let z;return function(q){return(z||(z=ne.n5z(U)))(q||U)}}(),U.\u0275prov=ne.Yz7({token:U,factory:U.\u0275fac}),U})(),Eo=(()=>{class U extends jo.g{}return U.\u0275fac=function(){let z;return function(q){return(z||(z=ne.n5z(U)))(q||U)}}(),U.\u0275prov=ne.Yz7({token:U,factory:U.\u0275fac}),U})(),us=(()=>{class U extends Z.t{constructor(R,q,Oe,et,Ht){super(),this.boxTypePeriodModesRepository=R,this.boxTypeRepository=q,this.boxRequestSpecificationRepository=Oe,this.archivedBoxesLoadModeRepository=et,this.boxSynchronizationStampRepository=Ht}selectBoxTypes(R=i.J.default()){return this.boxTypeRepository.select(R)}selectLoadModeForArchivedBoxes(R=i.J.default()){return this.archivedBoxesLoadModeRepository.select(R)}getBoxTypes(R=i.J.default()){return this.boxTypeRepository.get(R)}getPeriodModes(R=i.J.default()){return this.boxTypePeriodModesRepository.get(R)}getRequestSpecification(R=i.J.default()){return this.boxRequestSpecificationRepository.get(R)}getLoadModeForArchivedBoxes(R=i.J.default()){return this.archivedBoxesLoadModeRepository.get(R)}getSynchronizationStamp(R=i.J.default()){return this.boxSynchronizationStampRepository.get(R)}}return U.\u0275fac=function(R){return new(R||U)(ne.LFG(ai),ne.LFG(eo),ne.LFG($i),ne.LFG(vn),ne.LFG(Eo))},U.\u0275prov=ne.Yz7({token:U,factory:U.\u0275fac}),U})();var Xi=e(40811),fo=e(51257);let wr=(()=>{class U extends fo.b{constructor(R){super(In.type),this.boxAggregateRepository=R}execute(R){const q=R.changedBoxes;this.boxAggregateRepository.use(R.command,Oe=>{Oe.updateBoxes(q.boxesToModify)})}}return U.\u0275fac=function(R){return new(R||U)(ne.LFG(Je))},U.\u0275prov=ne.Yz7({token:U,factory:U.\u0275fac}),U})();var qi=e(71989);let Fr=(()=>{class U extends fo.b{constructor(R){super(o.t.type),this.addedBoxRepository=R}execute(R){this.addedBoxRepository.set(R.getAggregateId(),R.addedBoxId)}}return U.\u0275fac=function(R){return new(R||U)(ne.LFG(qi.C))},U.\u0275prov=ne.Yz7({token:U,factory:U.\u0275fac}),U})();var gr=e(72876),er=e(47722),Co=e(98234),li=e(85670);class _r{constructor(z,R,q,Oe,et,Ht,xn,Ln,Qn,Mo){this.favourite=z,this.modules=R,this.available=q,this.security=Oe,this.fieldCollection=et,this.startDate=Ht,this.endDate=xn,this.minStartDate=Ln,this.maxEndDate=Qn,this.status=Mo}isFavourite(){return this.favourite}isAvailable(){return this.available}getFieldCollection(){return this.fieldCollection}getStartDate(){return this.startDate}getEndDate(){return this.endDate}getMinStartDate(){return this.minStartDate}getMaxEndDate(){return this.maxEndDate}getModules(){return this.modules}getModule(z){return li.z.findByType(this.modules,z)}getSecurity(){return this.security}getStatus(){return this.status}}var Vo=e(69417),Io=e(80770);let vr=(()=>{class U{fromEntityNode(R,q,Oe){if(!R||!R.getData())return null;const et=q.get(R.getData()),Ht=R.getChildren(),xn=this.fromEntityNodes(Ht,q,Oe),Ln=new _n.N(this.toQuery(et,Oe),xn,R.isExpanded());Ln.setId(R.getId());const Qn=R.getParent();if(Qn&&Qn.getData()){const Mo=q.get(Qn.getData());Ln.setParent(new _n.N(this.toQuery(Mo,Oe)))}return Ln}fromEntityNodes(R,q,Oe){return R.map(et=>this.fromEntityNode(et,q,Oe))}toQuery(R,q){const{boxTypeId:Oe}=R.getFieldCollection().getDataValue(Vo.Z.fromString(Co.e.TYPE));return new Io.O(R.getId(),this.getBoxType(new er.n(Oe),q),class{static convert(z){var R;const q=null===(R=z.getFieldCollection().getDataValue(Vo.Z.fromString(Ke.e1.STATUS)).name)||void 0===R?void 0:R.replace(" ","_");return new _r(z.isFavourite(),z.getModules(),z.isAvailable(),z.getSecurity(),z.getFieldCollection(),z.getStartDate(),z.getEndDate(),z.getMinStartDate(),z.getMaxEndDate(),Ke.NZ[q])}}.convert(R))}getBoxType(R,q){return R?q.find(Oe=>Oe.getId().equals(R)):null}}return U.\u0275fac=function(R){return new(R||U)},U.\u0275prov=ne.Yz7({token:U,factory:U.\u0275fac}),U})();class wi extends class{constructor(z,R){this.getCurrentValue=z,this.updateValue=R}}{set(z,R){const q=z.toString(),Oe=[...this.getCurrentValue()],et=Oe.indexOf(q),Ht=-1!==et;R&&!Ht?Oe.push(q):!R&&Ht&&Oe.splice(et,1),this.updateValue(Oe)}expandAll(z){this.updateValue(z.map(R=>R.toString()))}collapseAll(){this.updateValue([])}get(z){return-1!==this.getCurrentValue().indexOf(z.toString())}}class po{constructor(){this.expandStorage=this.initSubStorage(wi,"idsOfExpandedBoxes"),this.cachedSettings=null}initSubStorage(z,R){return new z(()=>this.retrieveValue(R),q=>this.updateValue(R,q))}retrieveValue(z){return this.retrieveCachedSettings()[z]}updateValue(z,R){this.updateCachedSettings(Object.assign(Object.assign({},this.retrieveCachedSettings()),{[z]:R}))}retrieveCachedSettings(){return this.cachedSettings||(this.cachedSettings=this.retrieveCurrentSettings()),this.cachedSettings}updateCachedSettings(z){this.cachedSettings=z,this.updateSettings(this.cachedSettings)}}let Xo=(()=>{class U extends fo.b{constructor(R){super(it.P.type),this.boxCoreSettingsStorage=R}execute(R){this.boxCoreSettingsStorage.expandStorage.collapseAll()}}return U.\u0275fac=function(R){return new(R||U)(ne.LFG(po))},U.\u0275prov=ne.Yz7({token:U,factory:U.\u0275fac}),U})(),mi=(()=>{class U extends fo.b{constructor(R){super(Se.q.type),this.boxCoreSettingsStorage=R}execute(R){this.boxCoreSettingsStorage.expandStorage.set(R.boxId,!1)}}return U.\u0275fac=function(R){return new(R||U)(ne.LFG(po))},U.\u0275prov=ne.Yz7({token:U,factory:U.\u0275fac}),U})();var Fi=e(91793);let ni=(()=>{class U extends fo.b{constructor(R){super(nt.type),this.activeBoxRepository=R}execute(R){this.activeBoxRepository.set(R.getAggregateId(),R.boxId)}}return U.\u0275fac=function(R){return new(R||U)(ne.LFG(Fi.h))},U.\u0275prov=ne.Yz7({token:U,factory:U.\u0275fac}),U})();var bo=e(31749);let tr=(()=>{class U extends fo.b{constructor(R){super(Ke.YB.type),this.deletedBoxesRepository=R}execute(R){this.deletedBoxesRepository.set(R.getAggregateId(),R.boxIds)}}return U.\u0275fac=function(R){return new(R||U)(ne.LFG(bo.C))},U.\u0275prov=ne.Yz7({token:U,factory:U.\u0275fac}),U})();var nr=e(17995);let or=(()=>{class U extends fo.b{constructor(R){super(Ke.Ju.type),this.duplicatedBoxRepository=R}execute(R){this.duplicatedBoxRepository.set(R.getAggregateId(),R.boxId)}}return U.\u0275fac=function(R){return new(R||U)(ne.LFG(nr.n))},U.\u0275prov=ne.Yz7({token:U,factory:U.\u0275fac}),U})(),ir=(()=>{class U extends fo.b{constructor(R){super(Ke.eh.type),this.boxCoreSettingsStorage=R}execute(R){this.boxCoreSettingsStorage.expandStorage.expandAll(R.expandedBoxIds)}}return U.\u0275fac=function(R){return new(R||U)(ne.LFG(po))},U.\u0275prov=ne.Yz7({token:U,factory:U.\u0275fac}),U})(),Ni=(()=>{class U extends fo.b{constructor(R){super(Ke.wF.type),this.boxCoreSettingsStorage=R}execute(R){this.boxCoreSettingsStorage.expandStorage.set(R.boxId,!0)}}return U.\u0275fac=function(R){return new(R||U)(ne.LFG(po))},U.\u0275prov=ne.Yz7({token:U,factory:U.\u0275fac}),U})();var Er=e(38269),gi=e(95359);class No{constructor(){this.listOfIdsException=[]}addId(z){this.listOfIdsException.push(z)}clear(){this.listOfIdsException=[]}has(z){return this.listOfIdsException.some(R=>R===z)}}let Cr=(()=>{class U extends fo.b{constructor(R){super(Ne.type),this.repository=R}execute(R){this.repository.getMap().forEach((q,Oe)=>{q||new No,R.exceptionsList.forEach(et=>{q.has(et.toString())||q.addId(et.toString())}),this.repository.set(Oe,q)})}}return U.\u0275fac=function(R){return new(R||U)(ne.LFG(gi.z))},U.\u0275prov=ne.Yz7({token:U,factory:U.\u0275fac}),U})(),jn=(()=>{class U extends fo.b{constructor(R){super(to.type),this.repository=R}execute(R){const q=R.hierarchyObserverId,Oe=this.repository.get(q)||new No;Oe.clear(),this.repository.set(q,Oe)}}return U.\u0275fac=function(R){return new(R||U)(ne.LFG(gi.z))},U.\u0275prov=ne.Yz7({token:U,factory:U.\u0275fac}),U})();const qo=new ne.OlP("BOX_FILER_FACTORY_TOKEN");class Zo{constructor(z,R){this.startDate=z,this.endDate=R}static validateStartDate(z,R){return Zo.isBeforeOrEqual(Zo.resetTime(z),R)}static validateEndDate(z,R){return Zo.isAfterOrEqual(Zo.resetTime(z),R)}static resetTime(z){const R=ro.l.convertDateToString(z);return new Date(R)}static isBeforeOrEqual(z,R){return z.getTime()<=R.getTime()}static isAfterOrEqual(z,R){return z.getTime()>=R.getTime()}match(z){const R=kn.I.convertToDate(z.getData().getStartDate()),q=kn.I.convertToDate(z.getData().getEndDate());return this.startDate&&this.endDate?Zo.validateStartDate(this.startDate,q)&&Zo.validateEndDate(this.endDate,R):this.startDate?Zo.validateStartDate(this.startDate,q):!!this.endDate&&Zo.validateEndDate(this.endDate,R)}}var So=e(66795);let ds=(()=>{class U{create(R){const q=R.getStartDate()?new Date(R.getStartDate()):null,Oe=R.getEndDate()?new Date(R.getEndDate()):null;return q||Oe?So.bq.of(new Zo(q,Oe)):So.bq.empty()}}return U.\u0275fac=function(R){return new(R||U)},U.\u0275prov=ne.Yz7({token:U,factory:U.\u0275fac}),U})();class rr{constructor(z){this.statuses=z}match(z){const R=z.getData().getStatus();return this.statuses.some(q=>q===R)}}let Ko=(()=>{class U{create(R){const q=R.getStatuses();return q&&q.length?So.bq.of(new rr(q)):So.bq.empty()}}return U.\u0275fac=function(R){return new(R||U)},U.\u0275prov=ne.Yz7({token:U,factory:U.\u0275fac}),U})();class yr{constructor(z){this.text=this.prepareTextToMatch(z)}match(z){return this.isNameMatch(z)||this.isIdMatch(z)||this.isDescriptionMatch(z)}isNameMatch(z){const R=z.getData().getName().value;return R&&this.prepareTextToMatch(R).includes(this.text)}isIdMatch(z){const R=z.getData().getId();return R&&this.prepareTextToMatch(R.toString()).includes(this.text)}isDescriptionMatch(z){const R=z.getData().getDescription().value;return R&&this.prepareTextToMatch(R).includes(this.text)}prepareTextToMatch(z){return z.toLowerCase().replace(/\s/g,"")}}let Ui=(()=>{class U{create(R){const q=R.getText();return q?So.bq.of(new yr(q)):So.bq.empty()}}return U.\u0275fac=function(R){return new(R||U)},U.\u0275prov=ne.Yz7({token:U,factory:U.\u0275fac}),U})();class sr{constructor(z){this.boxTypeIds=z}match(z){const R=z.getData().getBoxType().getId();return this.boxTypeIds.some(q=>q.equals(R))}}let ps=(()=>{class U{create(R){const q=R.getBoxTypeIds();return q&&q.length?So.bq.of(new sr(q)):So.bq.empty()}}return U.\u0275fac=function(R){return new(R||U)},U.\u0275prov=ne.Yz7({token:U,factory:U.\u0275fac}),U})();class Wi{constructor(z=!0){this.childrenInheritFavouriteFromParents=z}static recuGetParentFavourite(z){let R=z;for(;R;){const Oe=R.getData().isFavourite();if(Oe)return Oe;R=R.getParent()}return!1}match(z){return!!z.getData().isFavourite()||!!this.childrenInheritFavouriteFromParents&&Wi.recuGetParentFavourite(z)}}let hs=(()=>{class U{create(R){return R.areFavouriteBoxes()?So.bq.of(new Wi(R.getFavouriteBoxesFilterOptions().childrenInheritFavouriteFromParents)):So.bq.empty()}}return U.\u0275fac=function(R){return new(R||U)},U.\u0275prov=ne.Yz7({token:U,factory:U.\u0275fac}),U})();class Ti{constructor(z){this.userKey=Ti.prepareTextToMatch(z.userKey)}static recuGetParentLeader(z){let R=z;for(;R;){const q=R.getData().getLeader();if(q)return q;R=R.getParent()}return null}static prepareTextToMatch(z){return z.trim().toLowerCase()}match(z){const R=z.getData().getLeader();return this.matchLeader(R||Ti.recuGetParentLeader(z))}matchLeader(z){return!!z&&Ti.prepareTextToMatch(z.id)===this.userKey}}let Vi=(()=>{class U{constructor(R){this.environmentService=R}create(R){return R.areOnlyMyBoxes()?So.bq.of(new Ti(this.environmentService.getLoggedInUser())):So.bq.empty()}}return U.\u0275fac=function(R){return new(R||U)(ne.LFG(pn.L))},U.\u0275prov=ne.Yz7({token:U,factory:U.\u0275fac}),U})();class fs{constructor(){this.filters=[]}add(z){this.filters.push(z)}clear(){this.filters=[]}isEmpty(){return 0===this.filters.length}match(z){for(let R=0;R<this.filters.length;R++)if(!this.filters[R].match(z))return!1;return!0}}class Tr{constructor(z,R=!0){this.filterChain=z,this.deepFilter=R}}let Ur=(()=>{class U extends fo.b{constructor(R,q){super(An.m.type),this.repository=R,this.filterFactories=q}execute(R){const q=new fs,Oe=R.filterSettings;if(this.filterFactories.forEach(Ht=>{Ht.create(Oe.options).ifPresent(Ln=>q.add(Ln))}),q.isEmpty())return void this.repository.set(R.hierarchyObserverId,null);const et=new Tr(q,Oe.deepFilter);this.repository.set(R.hierarchyObserverId,et)}}return U.\u0275fac=function(R){return new(R||U)(ne.LFG(Er.l),ne.LFG(qo))},U.\u0275prov=ne.Yz7({token:U,factory:U.\u0275fac}),U})();var Wr=e(53629);let ms=(()=>{class U extends fo.b{constructor(R,q,Oe){super(wt.type),this.boxQueryNodeConverter=R,this.boxHierarchyRepository=q,this.boxAggregateRepository=Oe}execute(R){const q=this.boxAggregateRepository.getById(R.getAggregateId()),Oe=R.getAggregateId(),et=this.boxQueryNodeConverter.fromEntityNode(R.root,R.boxEntityMap,q.getBoxTypes());this.boxHierarchyRepository.set(Oe,et)}}return U.\u0275fac=function(R){return new(R||U)(ne.LFG(vr),ne.LFG(Wr.p),ne.LFG(Je))},U.\u0275prov=ne.Yz7({token:U,factory:U.\u0275fac}),U})();var Di=e(4254);let Vr=(()=>{class U extends fo.b{constructor(R){super(Sn.X.type),this.repository=R}execute(R){this.repository.set(R.hierarchyObserverId,R.sortingOptions)}}return U.\u0275fac=function(R){return new(R||U)(ne.LFG(Di.O))},U.\u0275prov=ne.Yz7({token:U,factory:U.\u0275fac}),U})();var Dr=e(1018);let Kr=(()=>{class U extends fo.b{constructor(R){super(E.W.type),this.updatedBoxesRepository=R}execute(R){this.updatedBoxesRepository.set(R.getAggregateId(),R.updatedBoxes)}}return U.\u0275fac=function(R){return new(R||U)(ne.LFG(Dr.U))},U.\u0275prov=ne.Yz7({token:U,factory:U.\u0275fac}),U})(),xo=(()=>{class U extends fo.b{constructor(R){super(go.type),this.boxTypesRepository=R}execute(R){this.boxTypesRepository.set(R.getAggregateId(),R.boxTypes)}}return U.\u0275fac=function(R){return new(R||U)(ne.LFG(eo))},U.\u0275prov=ne.Yz7({token:U,factory:U.\u0275fac}),U})(),Gr=(()=>{class U extends fo.b{constructor(R){super(vo.type),this.boxTypePeriodModesRepository=R}execute(R){this.boxTypePeriodModesRepository.set(R.getAggregateId(),R.periodModes)}}return U.\u0275fac=function(R){return new(R||U)(ne.LFG(ai))},U.\u0275prov=ne.Yz7({token:U,factory:U.\u0275fac}),U})(),Hr=(()=>{class U extends fo.b{constructor(R){super(Po.type),this.boxRequestSpecificationRepository=R}execute(R){this.boxRequestSpecificationRepository.set(R.getAggregateId(),R.requestSpecification)}}return U.\u0275fac=function(R){return new(R||U)(ne.LFG($i))},U.\u0275prov=ne.Yz7({token:U,factory:U.\u0275fac}),U})(),Yr=(()=>{class U extends fo.b{constructor(R){super(Fo.type),this.boxSynchronizationStampRepository=R}execute(R){this.boxSynchronizationStampRepository.set(R.getAggregateId(),R.stamp)}}return U.\u0275fac=function(R){return new(R||U)(ne.LFG(Eo))},U.\u0275prov=ne.Yz7({token:U,factory:U.\u0275fac}),U})();var mo=e(78042);let zr=(()=>{class U extends fo.b{constructor(R){super(so.x.type),this.archivedBoxesLoadModeRepository=R}execute(R){this.archivedBoxesLoadModeRepository.set(R.getAggregateId(),R.loadMode)}}return U.\u0275fac=function(R){return new(R||U)(ne.LFG(vn))},U.\u0275prov=ne.Yz7({token:U,factory:U.\u0275fac}),U})();const Or=[{provide:Te.T,useClass:Xi.H},{provide:Ji.R,useClass:re},{provide:Z.t,useClass:us},qi.C,(0,mo.u)(Kr),(0,mo.u)(Fr),(0,mo.u)(or),(0,mo.u)(ni),(0,mo.u)(tr),(0,mo.u)(xo),(0,mo.u)(zr),(0,mo.u)(Gr),(0,mo.u)(wr),(0,mo.u)(ms),(0,mo.u)(Ur),(0,mo.u)(Vr),(0,mo.u)(Cr),(0,mo.u)(jn),(0,mo.u)(Ni),(0,mo.u)(ir),(0,mo.u)(mi),(0,mo.u)(Xo),(0,mo.u)(Hr),(0,mo.u)(Yr),_i(ds),_i(Ko),_i(Ui),_i(ps),_i(hs),_i(Vi),Dr.U,gr.R,nr.n,bo.C,Fi.h,eo,vn,ai,Wr.p,vr,Er.l,Di.O,gi.z,$i,Eo];function _i(U){return{provide:qo,useClass:U,multi:!0}}var gs=e(93957),ar=e(78808),Oi=e(79658);let En=(()=>{class U extends Oi.M{constructor(){super(ar.O)}}return U.\u0275fac=function(R){return new(R||U)},U.\u0275prov=ne.Yz7({token:U,factory:U.\u0275fac}),U})();var lr=e(20978),Ir=e(17610);class cr{constructor(z,R,q,Oe,et,Ht){this.boxTypeId=z,this.name=R,this.startDate=q,this.endDate=Oe,this.iconId=et,this.responseSpecification=Ht}}var vi=(()=>{return(U=vi||(vi={}))[U.BOX_AND_DESCENDANTS=0]="BOX_AND_DESCENDANTS",U[U.BOX_AND_CHILDREN=1]="BOX_AND_CHILDREN",vi;var U})();class Uo{constructor(z,R,q,Oe){this.boxLoadMode=z,this.filteringOptions=R,this.firstBoxId=q,this.archivedBoxesLoadMode=Oe}}let Qo=(()=>{class U{toRequest(R){var q,Oe;const et=null!==(Oe=null===(q=R.getExtCatalogKey())||void 0===q?void 0:q.toString())&&void 0!==Oe?Oe:void 0;return R.getExtTaskId().map(xn=>({extTaskId:xn.getId(),extTaskType:xn.getType(),extPlatformId:xn.getPlatformId(),catalogKey:et})).orElseGet(()=>({catalogKey:et}))}}return U.\u0275fac=function(R){return new(R||U)},U.\u0275prov=ne.Yz7({token:U,factory:U.\u0275fac}),U})(),Wo=(()=>{class U{constructor(R){this.filteringOptionsRequestConverter=R}toRequest(R,q=r.A.ROOT_ID){var Oe;const et=vi[vi.BOX_AND_DESCENDANTS],Ht=this.filteringOptionsRequestConverter.toRequest(R);return new Uo(et,Ht,null!==(Oe=null==q?void 0:q.toString())&&void 0!==Oe?Oe:void 0,R.getArchivedBoxesLoadMode())}}return U.\u0275fac=function(R){return new(R||U)(ne.LFG(Qo))},U.\u0275prov=ne.Yz7({token:U,factory:U.\u0275fac}),U})();var oi=e(9351);let Ki=(()=>{class U{constructor(R,q){this.requestSpecificationConverter=R,this.boxTypeIconConverter=q}toRequest(R,q){return new cr(R.getBoxTypeId(),R.getName(),oi.p.simpleDateFromUTCDate(R.getStartDate()),oi.p.simpleDateFromUTCDate(R.getEndDate()),this.boxTypeIconConverter.toString(R.getIcon()),this.requestSpecificationConverter.toRequest(q))}}return U.\u0275fac=function(R){return new(R||U)(ne.LFG(Wo),ne.LFG(En))},U.\u0275prov=ne.Yz7({token:U,factory:U.\u0275fac}),U})();class Ii{constructor(z,R){this.boxTypeId=z,this.responseSpecification=R}}let Ei=(()=>{class U{constructor(R){this.requestSpecificationConverter=R}toRequest(R,q){return new Ii(R.toString(),this.requestSpecificationConverter.toRequest(q))}}return U.\u0275fac=function(R){return new(R||U)(ne.LFG(Wo))},U.\u0275prov=ne.Yz7({token:U,factory:U.\u0275fac}),U})();class kr{constructor(z,R,q){this.boxIdsToChange=z,this.newParent=R,this.responseSpecification=q}}let Ci=(()=>{class U{constructor(R){this.requestSpecificationConverter=R}toRequest(R,q){const Oe=R.boxIds.map(et=>et.toString());return new kr(Oe,R.newParentId.toString(),this.requestSpecificationConverter.toRequest(q))}}return U.\u0275fac=function(R){return new(R||U)(ne.LFG(Wo))},U.\u0275prov=ne.Yz7({token:U,factory:U.\u0275fac}),U})();var jr=e(11);class _s{constructor(z,R){this.newStatus=z,this.responseSpecification=R}}let Sr=(()=>{class U{constructor(R){this.requestSpecificationConverter=R}toRequest(R,q){return new _s(jr.N[R],this.requestSpecificationConverter.toRequest(q))}}return U.\u0275fac=function(R){return new(R||U)(ne.LFG(Wo))},U.\u0275prov=ne.Yz7({token:U,factory:U.\u0275fac}),U})();class vs{constructor(z,R,q,Oe,et){this.name=z,this.startDate=R,this.endDate=q,this.iconId=Oe,this.responseSpecification=et}}let Zr=(()=>{class U{constructor(R,q){this.requestSpecificationConverter=R,this.iconConverter=q}toRequest(R,q){return new vs(R.getName(),oi.p.simpleDateFromUTCDate(R.getStartDate()),oi.p.simpleDateFromUTCDate(R.getEndDate()),this.iconConverter.toString(R.getIcon()),this.requestSpecificationConverter.toRequest(q))}}return U.\u0275fac=function(R){return new(R||U)(ne.LFG(Wo),ne.LFG(En))},U.\u0275prov=ne.Yz7({token:U,factory:U.\u0275fac}),U})();class Qr{constructor(z,R,q,Oe,et,Ht,xn){this.name=z,this.iconId=R,this.leaderId=q,this.description=Oe,this.startDate=et,this.endDate=Ht,this.responseSpecification=xn}}let xr=(()=>{class U{constructor(R,q){this.responseSpecificationConverter=R,this.boxIconConverter=q}toRequest(R,q){const Oe=this.boxIconConverter.toString(R.getIcon());return new Qr(R.getName(),Oe,R.getLeaderId(),R.getDescription(),oi.p.simpleDateFromUTCDate(R.getStartDate()),oi.p.simpleDateFromUTCDate(R.getEndDate()),this.responseSpecificationConverter.toRequest(q))}}return U.\u0275fac=function(R){return new(R||U)(ne.LFG(Wo),ne.LFG(En))},U.\u0275prov=ne.Yz7({token:U,factory:U.\u0275fac}),U})();class Jr{constructor(z,R){this.dayCount=z,this.responseSpecification=R}}let ur=(()=>{class U{constructor(R){this.requestSpecificationConverter=R}toRequest(R,q){return new Jr(R,this.requestSpecificationConverter.toRequest(q))}}return U.\u0275fac=function(R){return new(R||U)(ne.LFG(Wo))},U.\u0275prov=ne.Yz7({token:U,factory:U.\u0275fac}),U})();class ho{constructor(z,R,q){this.startDate=z,this.endDate=R,this.responseSpecification=q}}let ei=(()=>{class U{constructor(R){this.requestSpecificationConverter=R}toRequest(R,q){return new ho(ro.l.convertDateToString(R.getUtcStartDate()),ro.l.convertDateToString(R.getUtcEndDate()),this.requestSpecificationConverter.toRequest(q))}}return U.\u0275fac=function(R){return new(R||U)(ne.LFG(Wo))},U.\u0275prov=ne.Yz7({token:U,factory:U.\u0275fac}),U})();class $r{constructor(z,R,q){this.hash=z,this.time=R,this.catalogKey=q}}let Y=(()=>{class U{toRequest(R,q){const Oe=q.getExtCatalogKey()?q.getExtCatalogKey().toString():void 0;return new $r(R.hash,R.time,Oe)}}return U.\u0275fac=function(R){return new(R||U)},U.\u0275prov=ne.Yz7({token:U,factory:U.\u0275fac}),U})();class oe{constructor(z,R){this.responseSpecification=z,this.modules=R}}var j=e(33847);let W=(()=>{class U{constructor(R,q){this.boxModuleRequestConverter=R,this.requestSpecificationConverter=q}toRequest(R,q){return new oe(this.requestSpecificationConverter.toRequest(q),this.boxModuleRequestConverter.toModuleRequestArray(R))}}return U.\u0275fac=function(R){return new(R||U)(ne.LFG(j.j),ne.LFG(Wo))},U.\u0275prov=ne.Yz7({token:U,factory:U.\u0275fac}),U})();class te{constructor(z,R,q,Oe){this.root=z,this.boxNodeMap=R,this.boxEntityMap=q,this.addedBox=Oe}}var ce=e(72850);class Be{constructor(z,R,q,Oe,et,Ht,xn,Ln,Qn,Mo){this.id=z,this.favourite=R,this.modules=q,this.available=Oe,this.security=et,this.fieldCollection=Ht,this.startDate=xn,this.endDate=Ln,this.minStartDate=Qn,this.maxEndDate=Mo}getFieldCollection(){return this.fieldCollection}isFavourite(){return this.favourite}isAvailable(){return this.available}getId(){return this.id}getStartDate(){return this.startDate}getEndDate(){return this.endDate}getMinStartDate(){return this.minStartDate}getMaxEndDate(){return this.maxEndDate}getModules(){return this.modules}getSecurity(){return this.security}}var ze=e(48058),ut=e(86278);class ee{constructor(z,R,q){this.id=z,this.active=R,this.data=q}getId(){return this.id}isActive(){return this.active}getData(){return this.data}}var Re=e(90344);let V=(()=>{class U extends Re.h{getExtPlatformId(){return+this.splitId()[0]}getExtUserKey(){return this.splitId()[1]}splitId(){return this.id.split(U.separator)}}return U.separator="@",U})(),le=(()=>{class U{toDomain(R){return R?new ee(new V(R.id),R.isActive,R.data):null}}return U.\u0275fac=function(R){return new(R||U)},U.\u0275prov=ne.Yz7({token:U,factory:U.\u0275fac}),U})();class $e{constructor(z,R,q,Oe){this.isBoxAdmin=z,this.isBoxEditor=R,this.isBoxViewer=q,this.isChildBoxCreator=Oe}}let ct=(()=>{class U{toDomain(R){return new $e(R.isBoxAdmin,R.isBoxEditor,R.isBoxViewer,R.isChildBoxCreator)}}return U.\u0275fac=function(R){return new(R||U)},U.\u0275prov=ne.Yz7({token:U,factory:U.\u0275fac}),U})(),Bt=(()=>{class U{constructor(R,q,Oe,et,Ht){this.boxIconConverter=R,this.moduleResponseConverter=q,this.extUserResponseConverter=Oe,this.boxSecurityResponseConverter=et,this.fieldCollectionFactory=Ht}fromResponse(R){if(!R)return null;const q=this.fieldCollectionFactory.fromRaw(R.fields),Oe=new r.A(q.getDataValue(Vo.Z.fromString(Co.e.ID)).key),et=q.getDataValue(Vo.Z.fromString(Co.e.START_DATE)).value,Ht=q.getDataValue(Vo.Z.fromString(Co.e.END_DATE)).value;return new Be(Oe,R.isFavourite,this.moduleResponseConverter.toDomainArray(R.modules),R.matchingFilter,this.boxSecurityResponseConverter.toDomain(R.security),q,et,Ht,R.minStartDate,R.maxEndDate)}fromResponses(R){return R?R.map(q=>this.fromResponse(q)):[]}}return U.\u0275fac=function(R){return new(R||U)(ne.LFG(En),ne.LFG(ut.S),ne.LFG(le),ne.LFG(ct),ne.LFG(ze.b))},U.\u0275prov=ne.Yz7({token:U,factory:U.\u0275fac}),U})(),Qt=(()=>{class U{constructor(R,q){this.boxCoreSettingsStorage=R,this.boxEntityConverter=q}buildRoot(R,q){if(!R)return null;const Oe=this.createNode(R,null,q);return Oe.expand(),this.buildChildren(R.children?R.children:[],Oe,q),Oe}buildChildren(R,q,Oe){R.forEach(et=>{const Ht=et.children||[],xn=this.createNode(et,q,Oe);Ht.length>0&&this.buildChildren(Ht,xn,Oe)})}createNode(R,q,Oe){const et=this.boxEntityConverter.fromResponse(R),Ht=et.getId(),xn=new _n.N(Ht);return et&&xn.setId(Ht.toString()),null!==q&&q.addChild(xn),xn.setExpanded(this.isExpanded(Ht)),Oe&&Oe(xn,et),xn}isExpanded(R){return!!R&&this.boxCoreSettingsStorage.expandStorage.get(R)}}return U.\u0275fac=function(R){return new(R||U)(ne.LFG(po),ne.LFG(Bt))},U.\u0275prov=ne.Yz7({token:U,factory:U.\u0275fac}),U})(),gn=(()=>{class U{constructor(R,q){this.boxAggregateEntityFactory=R,this.boxEntityConverter=q}toResponse(R){const q=new ce.x,Oe=new ce.x,Ht=this.boxAggregateEntityFactory.buildRoot(R.updatedBoxes[0],(xn,Ln)=>{const Qn=xn.getData();q.set(Qn,Ln),Oe.set(Qn,xn)});return new te(Ht,Oe,q,this.boxEntityConverter.fromResponse(R.addedBox))}}return U.\u0275fac=function(R){return new(R||U)(ne.LFG(Qt),ne.LFG(Bt))},U.\u0275prov=ne.Yz7({token:U,factory:U.\u0275fac}),U})();class Gn{constructor(z,R,q,Oe,et,Ht){this.root=z,this.boxNodeMap=R,this.boxEntityMap=q,this.synchronizationStamp=Oe,this.types=et,this.periodModes=Ht}}var io=e(1870),Gi=e(88690);let dr=(()=>{class U{constructor(R,q){this.moduleResponseConverter=R,this.iconConverter=q}toDomain(R){return new Gi.e(new er.n(R.boxTypeId),new io.hf(R.boxIdPrefix),R.name,this.moduleResponseConverter.toDomainArray(R.modules),R.description,this.iconConverter.toDomain(R.iconId),new io.c9(R.periodModeId),R.available,R.archived,R.editableBoxAttributes,R.childTypes.map(q=>new er.n(q)),R.readMoreURL,io.C3.of(R.scopeType),R.inUse,new io.pN(R.sequentialityId))}toDomainArray(R){return R.map(q=>this.toDomain(q))}}return U.\u0275fac=function(R){return new(R||U)(ne.LFG(ut.S),ne.LFG(lr.I))},U.\u0275prov=ne.Yz7({token:U,factory:U.\u0275fac}),U})(),Si=(()=>{class U{toPeriod(R,q){const Oe=new kn.I;return this.isValidDate(R)&&Oe.setStartDate(new Date(R)),this.isValidDate(q)&&Oe.setEndDate(new Date(q)),Oe}isValidDate(R){if(!R)return!1;if(!R.match(/^\d{4}-\d{2}-\d{2}$/))return!1;const et=new Date(R).getTime();return!(!et&&0!==et)}}return U.\u0275fac=function(R){return new(R||U)},U.\u0275prov=ne.Yz7({token:U,factory:U.\u0275fac}),U})();var Mr=e(37912);let Xr=(()=>{class U{constructor(R,q,Oe,et){this.boxAggregateEntityFactory=R,this.boxPeriodConverter=q,this.periodModeResponseConverter=Oe,this.boxTypeResponseConverter=et}toDomain(R,q){const Oe=new ce.x,et=new ce.x,Ht=this.boxAggregateEntityFactory.buildRoot(R.boxHierarchy.box,(Mo,os)=>{const Vs=Mo.getData();Oe.set(Vs,os),et.set(Vs,Mo)}),xn=R.boxHierarchy.syncStamp,Ln=this.boxTypeResponseConverter.toDomainArray(q.boxTypes),Qn=this.periodModeResponseConverter.toDomainArray(q.periodModes);return new Gn(Ht,et,Oe,xn,Ln,Qn)}}return U.\u0275fac=function(R){return new(R||U)(ne.LFG(Qt),ne.LFG(Si),ne.LFG(Mr.y),ne.LFG(dr))},U.\u0275prov=ne.Yz7({token:U,factory:U.\u0275fac}),U})();class qr{constructor(z,R){this.parentBoxId=z,this.entity=R}}let es=(()=>{class U{constructor(R){this.boxEntityConverter=R}toChangedBoxes(R){return R.map(q=>new qr(new r.A(q.parentId),this.boxEntityConverter.fromResponse(q)))}}return U.\u0275fac=function(R){return new(R||U)(ne.LFG(Bt))},U.\u0275prov=ne.Yz7({token:U,factory:U.\u0275fac}),U})();class ts{constructor(z){this.boxesToModify=z}}let Us=(()=>{class U{constructor(R){this.boxEntityConverter=R}toChangedBoxes(R){return new ts(this.boxEntityConverter.fromResponses(R))}}return U.\u0275fac=function(R){return new(R||U)(ne.LFG(Bt))},U.\u0275prov=ne.Yz7({token:U,factory:U.\u0275fac}),U})();class Es{constructor(z,R,q){this.entity=z,this.childIds=R,this.parentId=q}}class ns{constructor(z,R){this.modifiedBoxes=z,this.synchronizationStamp=R}}let ol=(()=>{class U{constructor(R){this.boxEntityConverter=R}toChanges(R){const q=R.modifiedBoxes.map(Oe=>{const et=Oe.parentId;return new Es(this.boxEntityConverter.fromResponse(Oe),Oe.children.map(Ht=>new r.A(Ht)),et?new r.A(et):void 0)});return new ns(q,R.stamp)}}return U.\u0275fac=function(R){return new(R||U)(ne.LFG(Bt))},U.\u0275prov=ne.Yz7({token:U,factory:U.\u0275fac}),U})();class Vc{constructor(z,R){this.addedBox=z,this.boxesToUpdate=R}}class Cs{constructor(z,R){this.updatedBoxes=z,this.affectedBoxes=R}}class Kc{constructor(z){this.boxesToUpdate=z}}class Gc{constructor(z,R){this.duplicatedBox=z,this.boxesToUpdate=R}}class Hc{constructor(z,R){this.boxTypes=z,this.periodModes=R}}class Yc{constructor(z,R){this.responseSpecification=z,this.boxIdsToDelete=R}}class zc{constructor(z,R){this.boxFieldValues=z,this.responseSpecification=R}}let il=(()=>{class U{constructor(R){this.requestSpecificationConverter=R}toRestRequest(R,q){return new zc(R.fieldValues.map(Oe=>({boxFieldDefinitionId:Oe.boxFieldDefinitionId.toString(),value:Oe.value})),this.requestSpecificationConverter.toRequest(q))}}return U.\u0275fac=function(R){return new(R||U)(ne.LFG(Wo))},U.\u0275prov=ne.Yz7({token:U,factory:U.\u0275fac}),U})();var ii=e(71726);class kc{constructor(z,R,q,Oe){this.extPlatformId=z,this.extTaskCatalogKey=R,this.matchingBox=q,this.isUserExtCatalogAdmin=Oe}getExtPlatformId(){return this.extPlatformId}getExtTaskCatalogKey(){return this.extTaskCatalogKey}isMatchingBox(){return this.matchingBox}isExtCatalogAdmin(){return this.isUserExtCatalogAdmin}}let ys=(()=>{class U{fromResponse(R){return new kc(+R.extPlatformId,R.extTaskCatalogKey,R.matchingBox,R.isUserExtCatalogAdmin)}}return U.\u0275fac=function(R){return new(R||U)},U.\u0275prov=ne.Yz7({token:U,factory:U.\u0275fac}),U})();const rl=[Xr,Ir.I,le,Si,Mr.y,Us,es,ol,Ki,Ei,Zr,xr,il,ys,ct,En,Qo,Wo,ei,ur,Sr,Ci,Y,W,lr.I,gn,dr,...gs.r,{provide:Ot,useClass:(()=>{class U extends Ot{constructor(R,q,Oe,et,Ht,xn,Ln,Qn,Mo,os,Vs,Xc,qc,eu,tu,nu,ou,sl,da,pa,ha,al){super(),this.httpBoxResource=R,this.boxAggregateResponseConverter=q,this.boxTypeResponseConverter=Oe,this.periodModeResponseConverter=et,this.changedBoxesResponseConverter=Ht,this.requestSpecificationConverter=xn,this.resizeBoxRequestConverter=Ln,this.moveBoxRequestConverter=Qn,this.changeBoxStatusRequestConverter=Mo,this.editBoxRequestConverter=os,this.updateBoxModulesRestRequestConverter=Vs,this.addBoxRequestConverter=Xc,this.boxEntityConverter=qc,this.addMatchingBoxRequestConverter=eu,this.addMatchingBoxChangesResponseConverter=tu,this.duplicateBoxRequestConverter=nu,this.changeParentOfBoxesRequestConverter=ou,this.changedBoxesParentResponseConverter=sl,this.boxSyncRestRequestConverter=da,this.syncBoxesResponseConverter=pa,this.taskCatalogBasedConverter=ha,this.inlineEditBoxRequestConverter=al}loadBoxAggregate(R,q){const Oe=this.requestSpecificationConverter.toRequest(R,null);return this.httpBoxResource.loadBoxAggregate(Oe,q.toString()).pipe((0,ii.U)(([et,Ht])=>this.boxAggregateResponseConverter.toDomain(et,Ht)))}loadBoxTypeHierarchy(R){return this.httpBoxResource.loadBoxTypeHierarchy(R.toString()).pipe((0,ii.U)(q=>new Hc(this.boxTypeResponseConverter.toDomainArray(q.boxTypes),this.periodModeResponseConverter.toDomainArray(q.periodModes))))}markBoxAsFavourite(R,q){const Oe=this.requestSpecificationConverter.toRequest(q);return this.handleChangedBoxesResponse(this.httpBoxResource.markAsFavourite(R.toString(),Oe))}unmarkBoxFavourite(R,q){const Oe=this.requestSpecificationConverter.toRequest(q);return this.handleChangedBoxesResponse(this.httpBoxResource.unmarkFavourite(R.toString(),Oe))}resize(R,q,Oe){const et=this.resizeBoxRequestConverter.toRequest(q,Oe);return this.handleChangedBoxesResponse(this.httpBoxResource.resize(R.toString(),et))}move(R,q,Oe){const et=this.moveBoxRequestConverter.toRequest(q,Oe);return this.handleChangedBoxesResponse(this.httpBoxResource.move(R.toString(),et))}changeStatus(R,q,Oe){const et=this.changeBoxStatusRequestConverter.toRequest(q,Oe);return this.handleChangedBoxesResponse(this.httpBoxResource.changeStatus(R.toString(),et))}add(R,q){const Oe=this.addBoxRequestConverter.toRequest(R,q);return this.httpBoxResource.add(R.getParentBoxId().toString(),Oe).pipe((0,ii.U)(et=>new Vc(this.boxEntityConverter.fromResponse(et.addedBox),this.boxEntityConverter.fromResponses(et.updatedBoxes))))}addMatchingBox(R,q){const Oe=this.addMatchingBoxRequestConverter.toRequest(R,q),et=q.getExtCatalogKey();return this.httpBoxResource.addMatchingBox(et.toString(),Oe).pipe((0,ii.U)(Ht=>this.addMatchingBoxChangesResponseConverter.toResponse(Ht)))}fetchExtCatalogName(R){return this.httpBoxResource.fetchExtCatalogName(R.toString()).pipe((0,ii.U)(q=>q.catalogName))}duplicate(R,q){const Oe=this.duplicateBoxRequestConverter.toRequest(R,q);return this.httpBoxResource.duplicate(R.getId().toString(),Oe).pipe((0,ii.U)(et=>new Gc(this.boxEntityConverter.fromResponse(et.duplicatedBox),this.boxEntityConverter.fromResponses(et.updatedBoxes))))}edit(R,q){const Oe=this.editBoxRequestConverter.toRequest(R,q);return this.handleChangedBoxesResponse(this.httpBoxResource.edit(R.getId().toString(),Oe))}inlineEdit(R,q){return this.handleChangedBoxesResponse(this.httpBoxResource.inlineEdit(R.boxId.toString(),this.inlineEditBoxRequestConverter.toRestRequest(R,q)))}delete(R,q){const Oe=new Yc(this.requestSpecificationConverter.toRequest(q),R.map(et=>et.toString()));return this.httpBoxResource.deleteBoxes(Oe).pipe((0,ii.U)(et=>new Kc(this.boxEntityConverter.fromResponses(et.updatedBoxes))))}archive(R,q){const Oe=this.requestSpecificationConverter.toRequest(q);return this.httpBoxResource.archive(R.toString(),Oe).pipe((0,ii.U)(et=>new ts(this.boxEntityConverter.fromResponses(et.updatedBoxes))))}restore(R,q){const Oe=this.requestSpecificationConverter.toRequest(q);return this.httpBoxResource.restore(R.toString(),Oe).pipe((0,ii.U)(et=>new ts(this.boxEntityConverter.fromResponses(et.updatedBoxes))))}changeBoxesParent(R,q){const Oe=this.changeParentOfBoxesRequestConverter.toRequest(R,q);return this.httpBoxResource.changeBoxesParent(Oe).pipe((0,ii.U)(et=>new Cs(this.changedBoxesParentResponseConverter.toChangedBoxes(et.updatedBoxes),this.boxEntityConverter.fromResponses(et.affectedBoxes))))}sync(R,q){const Oe=this.boxSyncRestRequestConverter.toRequest(R,q);return this.httpBoxResource.syncBoxes(Oe).pipe((0,ii.U)(et=>this.syncBoxesResponseConverter.toChanges(et)))}extTaskCatalogBased(R){return this.httpBoxResource.extTaskCatalogBased(R).pipe((0,ii.U)(q=>this.taskCatalogBasedConverter.fromResponse(q)))}checkPermissionToCreateMatchingBox(R){return this.httpBoxResource.checkPermissionToCreateMatchingBox(R.toString())}updateModules(R,q,Oe){const et=this.updateBoxModulesRestRequestConverter.toRequest(q,Oe);return this.handleChangedBoxesResponse(this.httpBoxResource.updateModules(R.toString(),et))}handleChangedBoxesResponse(R){return R.pipe((0,ii.U)(q=>this.changedBoxesResponseConverter.toChangedBoxes(q)))}}return U.\u0275fac=function(R){return new(R||U)(ne.LFG(Ir.I),ne.LFG(Xr),ne.LFG(dr),ne.LFG(Mr.y),ne.LFG(Us),ne.LFG(Wo),ne.LFG(ei),ne.LFG(ur),ne.LFG(Sr),ne.LFG(xr),ne.LFG(W),ne.LFG(Ki),ne.LFG(Bt),ne.LFG(Ei),ne.LFG(gn),ne.LFG(Zr),ne.LFG(Ci),ne.LFG(es),ne.LFG(Y),ne.LFG(ol),ne.LFG(ys),ne.LFG(il))},U.\u0275prov=ne.Yz7({token:U,factory:U.\u0275fac}),U})()}],Zn=[...Qi,...Or,Nt,st,Je,Qt,Bt,...rl];var ca=e(9933);let ua=(()=>{class U extends po{constructor(R,q){super(),this.environmentService=R,this.localStorage=q;const Oe=this.environmentService.getLoggedInUser().userKey;this.key=`sp-box-core-settings-of-${Oe}`}retrieveCurrentSettings(){return this.localStorage.getObject(this.key)||{idsOfExpandedBoxes:[]}}updateSettings(R){return this.localStorage.setObject(this.key,R)}}return U.\u0275fac=function(R){return new(R||U)(ne.LFG(pn.L),ne.LFG(ca.m))},U.\u0275prov=ne.Yz7({token:U,factory:U.\u0275fac}),U})();var jc=e(30828),Zc=e(96554),Ws=e(65389),Qc=e(11657),ri=e(28579);const Jc=[jc.h,Xt,{provide:po,useClass:ua},Qc.g];let $c=(()=>{class U{static forRoot(){return{ngModule:U,providers:[...Jc,...Zn]}}}return U.\u0275fac=function(R){return new(R||U)},U.\u0275mod=ne.oAB({type:U}),U.\u0275inj=ne.cJS({imports:[[t.ez,Ws.Qr.withConfig({loggers:!1}),Zc.gF.forStyle(e.e(5518).then(e.t.bind(e,15518,17))),ri.X]]}),U})()},40955:(S,g,e)=>{"use strict";e.d(g,{Y:()=>p});var t=e(55331),n=e(90323),s=e(65993),i=e(74388),r=e(68890),a=e(3306),o=e(40999),d=e(26566),h=e(84046);let p=(()=>{class f{}return f.\u0275fac=function(v){return new(v||f)},f.\u0275mod=h.oAB({type:f}),f.\u0275inj=h.cJS({providers:[o.W,a.b],imports:[[t.ez,i.K.forRoot(),r.z8,s.k,n.H,d.n]]}),f})()},40999:(S,g,e)=>{"use strict";e.d(g,{W:()=>o});var t=e(18840),n=e(31689),s=e(84046),i=e(25673),r=e(3306),a=e(37865);let o=(()=>{class d{constructor(p,f,m){this.boxHierarchyService=p,this.availabilityService=f,this.pushClient=m,this.activeUsersList$=new t.X([]),this.activeUsersLiveSyncAvailable=this.availabilityService.isActiveUsersLiveSyncAvailable(),this.isAvailable()&&(this.activeUsersContext=n.J.forFeature("activeUsers").with("boxId",this.boxHierarchyService.getContextBoxId().toString()))}subscribeActiveUsers(){return this.isAvailable()?(this.pushClient.subscribeContext(this.activeUsersContext).subscribe(p=>{this.activeUsersList$.next(p.data.payload.activeUsers)}),this.activeUsersList$):this.activeUsersList$}unsubscribeActiveUsers(){!this.isAvailable()||this.pushClient.unsubscribeContext(this.activeUsersContext)}disconnect(){!this.isAvailable()||this.pushClient.disconnect()}isAvailable(){return this.activeUsersLiveSyncAvailable&&!!this.pushClient}}return d.\u0275fac=function(p){return new(p||d)(s.LFG(i.T),s.LFG(r.b),s.LFG(a.E,8))},d.\u0275prov=s.Yz7({token:d,factory:d.\u0275fac}),d})()},3306:(S,g,e)=>{"use strict";e.d(g,{b:()=>s});var t=e(84046),n=e(83950);let s=(()=>{class i{constructor(a){this.environmentService=a}isActiveUsersLiveSyncAvailable(){return this.environmentService.isActiveUsersLiveSyncEnabled()}}return i.\u0275fac=function(a){return new(a||i)(t.LFG(n.L))},i.\u0275prov=t.Yz7({token:i,factory:i.\u0275fac}),i})()},56864:(S,g,e)=>{"use strict";e.d(g,{v:()=>d});var t=e(55331),n=e(51805),s=e(83437),i=e(33945),r=e(48352),a=e(68890),o=e(84046);let d=(()=>{class h{}return h.\u0275fac=function(f){return new(f||h)},h.\u0275mod=o.oAB({type:h}),h.\u0275inj=o.cJS({imports:[[t.ez,n.$,s.j,i.Q,r.I,a.z8]]}),h})()},4551:(S,g,e)=>{"use strict";e.d(g,{lT:()=>s,WT:()=>i});var t=e(89787);class n extends t.w{constructor(a){super(a.routeConfig),this.def=a,this.children=a.childrenRoutes,this.canActivate=a.security&&[a.security]||[]}}class s extends n{}class i extends n{}},55611:(S,g,e)=>{"use strict";e.d(g,{j:()=>d});var t=e(92945),n=e(70822),s=e(71726),i=e(43349),r=e(74582),a=e(74386),o=e(84046);let d=(()=>{class h extends a.${constructor(f,m){super(h.observeActiveUrlFrom(f)),this.router=f,this.route=m}static observeActiveUrlFrom(f){return f.events.pipe((0,n.h)(m=>m instanceof t.m2),(0,s.U)(m=>m.urlAfterRedirects.split("?")[0]),(0,i.O)(f.url),(0,r.d)(1))}navigate(f){const m=this.router.createUrlTree([f],{relativeTo:this.route}),v=this.router.serializeUrl(m);this.router.navigateByUrl(v)}}return h.\u0275fac=function(f){return new(f||h)(o.LFG(t.F0),o.LFG(t.gz))},h.\u0275prov=o.Yz7({token:h,factory:h.\u0275fac}),h})()},35172:(S,g,e)=>{"use strict";e.d(g,{N:()=>K});var t=e(84046),n=e(70335),s=e(85670);class i{static toNode(G){return{id:G.getType().toString(),moduleType:G.getType()}}}var r=e(70822),a=e(71726),o=e(88573),d=e(95938),h=e(19327),p=e(29186),f=e(81058),m=e(86145),v=e(34322),E=e(95992),C=e(78609),T=e(683),y=e(38179),I=e(62546),P=e(32375);function L(k,G){if(1&k&&(t.ynx(0,7),t._UZ(1,"sp-checkbox-swiper",8,9),t.ALo(3,"lowercase"),t.ALo(4,"spBoxModuleType"),t.ALo(5,"spRichTextI18n"),t.BQk()),2&k){const $=G.dataIndex,X=G.data,ie=t.MAs(2),se=t.oxw();t.Q6J("formGroupName",$),t.xp6(1),t.Q6J("idPrefix","sp-module-active-"+t.lcZ(3,7,t.lcZ(4,9,X.moduleType)))("spTooltipColor",se.TOOLTIP_COLOR_OF_DISABLED_ACTIVE_CONTROL)("spTooltipEnabled",ie.disabled)("formControlName",se.MODULE_FORM_CONTROL_NAMES.active)("spBoxModuleActiveControlDisabler",X.moduleType)("spTooltip",t.lcZ(5,11,"SPT_BOXCONFIG_GENERAL_MODULES_TABLE_SWIPER_ACTIVE_TOOLTIP"))}}function F(k,G){if(1&k){const $=t.EpF();t.ynx(0),t.TgZ(1,"sp-form-control-radio",11),t.NdJ("valueChanged",function(){t.CHM($);const ie=t.oxw().data;return t.oxw().setDefaultModule(ie.moduleType)}),t.ALo(2,"spRichTextI18n"),t.qZA(),t.BQk()}if(2&k){const $=t.oxw().data,X=t.oxw();t.xp6(1),t.Q6J("formControl",X.defaultModuleFormControl)("value",$.moduleType)("spTooltip",t.lcZ(2,3,"SPT_BOXCONFIG_GENERAL_MODULES_TABLE_DEFAULT_MODULE_RADIO_TOOLTIP"))}}function b(k,G){if(1&k&&t.YNc(0,F,3,5,"ng-container",10),2&k){const $=G.dataIndex,X=t.oxw();t.Q6J("ngIf",X.getModuleFormValueByIndex($).active)}}function x(k,G){if(1&k&&(t.TgZ(0,"span"),t.ALo(1,"lowercase"),t.ALo(2,"spBoxModuleType"),t._uU(3),t.ALo(4,"titlecase"),t.ALo(5,"spBoxModuleType"),t.qZA()),2&k){const $=G.data;t.uIk("id","sp-module-type-"+t.lcZ(1,2,t.lcZ(2,4,$.moduleType))),t.xp6(3),t.hij(" ",t.lcZ(4,6,t.lcZ(5,8,$.moduleType))," ")}}function B(k,G){if(1&k&&(t.ynx(0,7),t.TgZ(1,"div",12),t.TgZ(2,"div",13),t.ALo(3,"spRichTextI18n"),t._UZ(4,"input",14),t.ALo(5,"lowercase"),t.ALo(6,"spBoxModuleType"),t.qZA(),t.qZA(),t.BQk()),2&k){const $=G.dataIndex,X=G.data,ie=t.oxw();t.Q6J("formGroupName",$),t.xp6(2),t.Q6J("spTooltipColor",null==ie.boxModuleNameUneditable?null:ie.boxModuleNameUneditable.tooltipColorName)("spTooltip",t.lcZ(3,7,null==ie.boxModuleNameUneditable?null:ie.boxModuleNameUneditable.reason))("spTooltipEnabled",ie.boxModuleNameUneditable),t.xp6(2),t.Q6J("formControlName",ie.MODULE_FORM_CONTROL_NAMES.name),t.uIk("id","sp-module-name-"+t.lcZ(5,9,t.lcZ(6,11,X.moduleType)))("disabled",ie.boxModuleNameUneditable)}}class K extends I.H{constructor(G,$,X,ie,se,pe){super(G,$),this.changeDetectorRef=X,this.boxModuleNameEditability$=ie,this.formRepository=se,this.messageService=pe,this.saveButtonStatus=d.o.NORMAL,this.boxModuleNameUneditable=null,this.TOOLTIP_COLOR_OF_DISABLED_ACTIVE_CONTROL=h.B.RED.colorName,this.MODULES_CONTROL_KEY="modules",this.MODULE_FORM_CONTROL_NAMES={active:"active",name:"name"},this.form=new n.cw({[this.MODULES_CONTROL_KEY]:new n.Oe([])}),this.defaultModuleFormControl=new n.NI(null),this.treeConfig=p.Z.default().withSelectNode(!1),this.gridType=f.W.HORIZONTAL,this.inputChangeHandler=new y.z,this.initSaveButtonConfig(),this.inputChangeHandler.addHandler(this.MODULES_CONTROL_KEY,this.handleModulesInputChange.bind(this))}ngOnChanges(G){this.inputChangeHandler.handle(G)}ngOnInit(){this.observeBoxModuleNameFieldEditability(),this.updateSaveButtonStatusOnFormValidityChanges()}saveModulesChanges(){this.saveButtonStatus=d.o.PENDING;const G=this.getModulesControlValue().map(this.mapControlValueToBoxModule.bind(this));this.formRepository.submit(G).pipe(this.takeUntilDestroy()).subscribe(()=>{this.saveButtonStatus=d.o.SUCCESS,this.detectChanges()},$=>{$.status===T.o.BAD_REQUEST&&(this.messageService.errorFromResponse($.error),this.saveButtonStatus=d.o.FAILED,this.detectChanges())})}getModuleFormValueByIndex(G){return this.getModulesControlValue()[G]}detectChanges(){this.changeDetectorRef.detectChanges()}setDefaultModule(G){this.defaultModuleFormControl.setValue(G),this.changeDetectorRef.detectChanges()}getHostClasses(){return["sp-box-modules-configuration-form"]}getModulesControlValue(){return this.form.get(this.MODULES_CONTROL_KEY).getRawValue()}handleModulesInputChange(G){const $=G.currentValue;if(!$||!$.length)return;const X=$.find(ie=>ie.isDefault());if(void 0===X)throw new Error("No default box module was found");this.rebuildFormControls($),this.defaultModuleFormControl.reset(X.getType()),this.moduleNodes=$.map(i.toNode)}rebuildFormControls(G){const $=G.map(this.mapBoxModuleToFormGroup.bind(this));this.form.setControl(this.MODULES_CONTROL_KEY,new n.Oe($))}mapControlValueToBoxModule(G,$){const X=this.modules[$];return new s.z(X.getType(),G.active,G.name,X.getType()===this.defaultModuleFormControl.value,X.getIcon())}mapBoxModuleToFormGroup(G){return new n.cw({[this.MODULE_FORM_CONTROL_NAMES.active]:new n.NI(G.isActive()),[this.MODULE_FORM_CONTROL_NAMES.name]:new n.NI(G.getName(),[m.j.notBlank,v.Z.validateMinLength(1),v.Z.validateMaxLength(255),E.J.validateXssViolation()])})}observeBoxModuleNameFieldEditability(){this.boxModuleNameEditability$.pipe((0,r.h)(G=>null!==G),this.takeUntilDestroy()).subscribe(G=>{this.boxModuleNameUneditable=G,this.detectChanges()})}updateSaveButtonStatusOnFormValidityChanges(){this.form.statusChanges.pipe((0,a.U)(()=>this.form.valid),this.takeUntilDestroy()).subscribe(G=>{this.saveButtonStatus=G?d.o.NORMAL:d.o.DISABLED,this.detectChanges()})}initSaveButtonConfig(){const G=o.h.default();this.saveButtonConfig=new o.h(G.normal,G.pending,G.success,G.failed,G.disabled)}}K.BOX_MODULE_NAME_EDITABILITY=new t.OlP("BOX_MODULE_NAME_EDITABILITY"),K.\u0275fac=function(G){return new(G||K)(t.Y36(t.SBq),t.Y36(t.Qsj),t.Y36(t.sBO),t.Y36(K.BOX_MODULE_NAME_EDITABILITY),t.Y36(P.J),t.Y36(C.e))},K.\u0275cmp=t.Xpm({type:K,selectors:[["sp-box-modules-configuration-form"]],inputs:{modules:"modules"},features:[t.qOj,t.TTD],decls:17,vars:19,consts:[[3,"formGroup"],["treeId","boxes-type-config-modules-tree",1,"sp-mb-4",3,"config","gridType","nodes"],[3,"formArrayName"],["disableResize","true","flex","0 1 80px",3,"header"],["disableResize","true","flex","0 1 128px",3,"header"],["disableResize","true",3,"header"],[1,"sp-pt-4","sp-pb-6",3,"configuration","status","actionStarted"],[3,"formGroupName"],[3,"idPrefix","spTooltipColor","spTooltipEnabled","formControlName","spBoxModuleActiveControlDisabler","spTooltip"],["moduleActiveCheckbox",""],[4,"ngIf"],[3,"formControl","value","spTooltip","valueChanged"],[1,"sp-flex","sp-items-center","sp-flex-auto"],[1,"sp-module-configuration-input-wrapper","sp-flex","sp-items-center",3,"spTooltipColor","spTooltip","spTooltipEnabled"],["spBoxModuleNameFieldErrorMarker","","name","sp-box-name",1,"sp-box-modules-configuration-form__input","sp-form-control",3,"formControlName"]],template:function(G,$){1&G&&(t.TgZ(0,"form",0),t.TgZ(1,"sp-treegrid",1),t.TgZ(2,"sp-tree-column-collection",2),t.TgZ(3,"sp-tree-column",3),t.ALo(4,"spL10nText"),t.YNc(5,L,6,13,"ng-template"),t.qZA(),t.TgZ(6,"sp-tree-column",3),t.ALo(7,"spL10nText"),t._uU(8,"> "),t.YNc(9,b,1,1,"ng-template"),t.qZA(),t.TgZ(10,"sp-tree-column",4),t.ALo(11,"spL10nText"),t.YNc(12,x,6,10,"ng-template"),t.qZA(),t.TgZ(13,"sp-tree-column",5),t.ALo(14,"spL10nText"),t.YNc(15,B,7,13,"ng-template"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(16,"sp-save-button",6),t.NdJ("actionStarted",function(){return $.saveModulesChanges()}),t.qZA(),t.qZA()),2&G&&(t.Q6J("formGroup",$.form),t.xp6(1),t.Q6J("config",$.treeConfig)("gridType",$.gridType)("nodes",$.moduleNodes),t.xp6(1),t.Q6J("formArrayName",$.MODULES_CONTROL_KEY),t.xp6(1),t.Q6J("header",t.lcZ(4,11,"SPT_BOXCONFIG_GENERAL_MODULES_TABLE_HEADER_ACTIVE")),t.xp6(3),t.Q6J("header",t.lcZ(7,13,"SPT_BOXCONFIG_GENERAL_MODULES_TABLE_HEADER_DEFAULT")),t.xp6(4),t.Q6J("header",t.lcZ(11,15,"SPT_BOXCONFIG_GENERAL_MODULES_TABLE_HEADER_MODULE_TYPE")),t.xp6(3),t.Q6J("header",t.lcZ(14,17,"SPT_BOXCONFIG_GENERAL_MODULES_TABLE_HEADER_MODULE_NAME")),t.xp6(3),t.Q6J("configuration",$.saveButtonConfig)("status",$.saveButtonStatus))},styles:[".sp-box-modules-configuration-form__input{width:550px}.sp-box-modules-configuration-form .ng-invalid{border-color:var(--error)}\n"],encapsulation:2,changeDetection:0})},29583:(S,g,e)=>{"use strict";e.d(g,{W:()=>X});var t=e(55331),n=e(70335),s=e(41001),i=e(71726),r=e(98223),a=e(43941),o=e(95486),d=e(62546),h=e(84046);let p=(()=>{class ie extends d.H{constructor(pe,ve,Ce,ye,de){super(pe,ve),this.ngControl=Ce,this.validationDotFactory=ye,this.l10nTextService=de,this.validationDot=null}ngOnInit(){const pe=this.ngControl.control;pe.statusChanges.pipe((0,i.U)(()=>pe.errors),this.takeUntilDestroy()).subscribe(this.showErrorMarkerIfErrorsPresent.bind(this))}finalize(){this.destroyValidationDotIfPresent()}showErrorMarkerIfErrorsPresent(pe){if(this.destroyValidationDotIfPresent(),pe){const ve=(0,a.J)(this.l10nTextService,pe);this.validationDot=this.validationDotFactory.create(this.elementRef,ve)}}destroyValidationDotIfPresent(){null!==this.validationDot&&(this.validationDot.destroy(),this.validationDot=null)}}return ie.\u0275fac=function(pe){return new(pe||ie)(h.Y36(h.SBq),h.Y36(h.Qsj),h.Y36(n.a5),h.Y36(o.y),h.Y36(r.e))},ie.\u0275dir=h.lG2({type:ie,selectors:[["","spBoxModuleNameFieldErrorMarker",""]],features:[h.qOj]}),ie})();var f=e(48876),m=e(76821),v=e(68890),E=e(88004);let C=(()=>{class ie{transform(pe){return pe===E._.RISK?"RISKS":E._[pe]}}return ie.\u0275fac=function(pe){return new(pe||ie)},ie.\u0275pipe=h.Yjl({name:"spBoxModuleType",type:ie,pure:!0}),ie})();var T=e(35172),y=e(43349);let I=(()=>{class ie extends d.H{constructor(pe,ve,Ce,ye){super(pe,ve),this.ngControl=Ce,this.parentFormComponent=ye,this.selectedModuleType$=this.observeControlValue(ye.defaultModuleFormControl)}ngOnInit(){this.selectedModuleType$.pipe(this.takeUntilDestroy()).subscribe(pe=>{this.enableOrDisableAssociatedControlDependingOn(pe)})}enableOrDisableAssociatedControlDependingOn(pe){const ve=this.associatedModuleType===pe,Ce=this.ngControl.control;ve&&Ce.enabled?(Ce.disable(),this.parentFormComponent.detectChanges()):!ve&&Ce.disabled&&(Ce.enable(),this.parentFormComponent.detectChanges())}observeControlValue(pe){return pe.valueChanges.pipe((0,y.O)(pe.value))}}return ie.\u0275fac=function(pe){return new(pe||ie)(h.Y36(h.SBq),h.Y36(h.Qsj),h.Y36(n.a5),h.Y36(T.N))},ie.\u0275dir=h.lG2({type:ie,selectors:[["","spBoxModuleActiveControlDisabler",""]],inputs:{associatedModuleType:["spBoxModuleActiveControlDisabler","associatedModuleType"]},features:[h.qOj]}),ie})();var P=e(51545),L=e(40131),F=e(62807),b=e(26566),x=e(92574),B=e(43939),M=e(81171),w=e(71783),K=e(76617),k=e(43796),G=e(65799),$=e(18217);let X=(()=>{class ie{}return ie.\u0275fac=function(pe){return new(pe||ie)},ie.\u0275mod=h.oAB({type:ie}),ie.\u0275inj=h.cJS({imports:[[t.ez,n.UX,P.F,F.nv.forRoot(),L.l,v.z8,f.y,s.J,m.A.forRoot(),b.n]]}),ie})();h.B6R(T.N,[n._Y,n.JL,n.sg,x.l,B.$,n.CE,M.F,n.x0,w.l,n.JJ,n.u,I,v.i9,t.O5,K.x,n.oH,n.Fj,p,k.t],[G.L,t.i8,C,$.d,t.rS])},32375:(S,g,e)=>{"use strict";e.d(g,{J:()=>t});class t{}},48492:(S,g,e)=>{"use strict";e.d(g,{HJ:()=>Me,gw:()=>lt.g,jC:()=>Ze.j,YY:()=>xe.Y,Nj:()=>Ue.N,Ah:()=>Ce,kn:()=>He,OL:()=>de,iy:()=>m.i,_e:()=>Lt,WM:()=>we.W,JL:()=>Ne.J,hQ:()=>tt.h,BZ:()=>f,Io:()=>v.I,FI:()=>ne.F,$V:()=>Ie,HS:()=>ye.H,lT:()=>yt.lT,WT:()=>yt.WT,h8:()=>gt.h8,m:()=>gt.m}),e(62565);var n=e(98234),s=e(80792),i=e(38322),r=e(99929),a=e(11095),o=e(94932),d=e(7052),h=e(53387),p=e(69417);class f{static getSortAttributeField(zt,Yt){switch(zt){case s.h.NAME:return Yt.get(d.r.ID).getFieldBuilder(p.Z.fromString(n.e.NAME)).build();case s.h.ID:return Yt.get(a.q.ID).getFieldBuilder(p.Z.fromString(n.e.ID)).build();case s.h.TYPE:return Yt.get(i.A.ID).getFieldBuilder(p.Z.fromString(n.e.TYPE)).build();case s.h.STATUS:return Yt.get(o.C.ID).getFieldBuilder(p.Z.fromString(n.e.STATUS)).build();case s.h.START_DATE:return Yt.get(r.b.ID).getFieldBuilder(p.Z.fromString(n.e.START_DATE)).build();case s.h.END_DATE:return Yt.get(r.b.ID).getFieldBuilder(p.Z.fromString(n.e.END_DATE)).build();case s.h.LEADER_NAME:return Yt.get(h.a.ID).getFieldBuilder(p.Z.fromString(n.e.LEADER)).build();default:throw new Error(`Can't recognize SortAttribute: ${zt}`)}}}var m=e(45963),v=e(39579),E=e(55331),L=(e(93297),e(99609),e(75596),e(78212),e(49753),e(84046));e(60130),e(54348),e(48675),e(92006),e(27181),e(3737),e(78088),e(13845);var pe=e(28579);let Ce=(()=>{class Rt{}return Rt.\u0275fac=function(Yt){return new(Yt||Rt)},Rt.\u0275mod=L.oAB({type:Rt}),Rt.\u0275inj=L.cJS({imports:[[E.ez,pe.X],pe.X]}),Rt})();var ye=e(35454);class de extends ye.H{retrieveSecurityDataFrom(zt){return zt.getRawTreeNode().getData().getSecurity()}matchesFilter(zt){return zt.getRawTreeNode().isMatchingFilter()&&this.isAvailable(zt)}isAvailable(zt){return zt.getRawTreeNode().getData().isAvailable()}}class Ie{constructor(zt){this.boxSecurityResolver=zt}resolve(zt,Yt){if(Yt.treeExpand)return!0;const ln=this.getSecurityDataFrom(zt);return this.boxSecurityResolver.canView(ln)}}let He=(()=>{class Rt extends Ie{getSecurityDataFrom(Yt){return Yt.getData().data.getSecurity()}}return Rt.\u0275fac=function(){let zt;return function(ln){return(zt||(zt=L.n5z(Rt)))(ln||Rt)}}(),Rt.\u0275prov=L.Yz7({token:Rt,factory:Rt.\u0275fac}),Rt})();var Ve=e(79843),Ue=e(75195),xe=e(7015),gt=e(90377),tt=e(30828),lt=e(11657),ne=(e(77062),e(49343)),Ye=(e(26799),e(83437)),Qe=e(51805),Ke=e(40344),it=e(65993),Se=e(51545),Ct=e(68890);let Lt=(()=>{class Rt{}return Rt.\u0275fac=function(Yt){return new(Yt||Rt)},Rt.\u0275mod=L.oAB({type:Rt}),Rt.\u0275inj=L.cJS({imports:[[E.ez,Qe.$,Ct.z8,Ye.j,Ke._,it.k,Se.F],Ye.j]}),Rt})();e(54419),e(56864),e(40955);var yt=e(4551),Ft=e(75779),ot=e(8560);class Me{adaptModuleRoute(zt,Yt){const ln=Yt.getName(),pn=Yt.getIcon()||(0,Ve.K)(Yt.getType());return this.toVerticalTabGroup(zt,ln,pn)}adaptNonModuleRoute(zt){return this.toVerticalTabGroup(zt,zt.def.name)}toVerticalTabGroup(zt,Yt,ln){const[pn]=zt.canActivate;return new ot.g(Yt,this.getAdapteeChildrenRoutes(zt).map(nn=>this.adaptSingle(zt,nn)),pn,ln,zt.path)}adaptSingle(zt,Yt){const[ln]=Yt.canActivate;return new Ft.L(Yt.def.name,`${zt.path}/${Yt.path}`,ln)}getAdapteeChildrenRoutes(zt){return(zt.def.childrenRoutes||[]).filter(ln=>ln instanceof yt.WT)}}var Ze=e(55611),Ne=e(32375),we=e(29583);e(95995)},83437:(S,g,e)=>{"use strict";e.d(g,{j:()=>i});var t=e(55331),n=e(45963),s=e(84046);let i=(()=>{class r{}return r.\u0275fac=function(o){return new(o||r)},r.\u0275mod=s.oAB({type:r}),r.\u0275inj=s.cJS({providers:[n.i],imports:[[t.ez]]}),r})()},54419:(S,g,e)=>{"use strict";e.d(g,{O:()=>d});var t=e(55331),n=e(51545),s=e(51805),i=e(65993),r=e(68890),a=e(26566),o=e(84046);let d=(()=>{class h{}return h.\u0275fac=function(f){return new(f||h)},h.\u0275mod=o.oAB({type:h}),h.\u0275inj=o.cJS({imports:[[t.ez,i.k,n.F,s.$,r.z8,a.n]]}),h})()},11657:(S,g,e)=>{"use strict";e.d(g,{g:()=>s});var t=e(84046),n=e(30828);let s=(()=>{class i{constructor(a){this.boxSecurityResolver=a}determineUnavailabilityReason(a){return this.boxSecurityResolver.canEdit(a.getSecurity())?this.boxSecurityResolver.isBoxClosed(a)?"SPT_BOX_CORE_CLOSED_BOX_TOOLTIP":a.isArchived()?"SPT_BOX_CORE_CONFIGURE_ARCHIVED_BOX_TOOLTIP":null:"SPT_BOX_CORE_NO_PERMISSION_TO_BOX_TOOLTIP"}}return i.\u0275fac=function(a){return new(a||i)(t.LFG(n.h))},i.\u0275prov=t.Yz7({token:i,factory:i.\u0275fac}),i})()},30828:(S,g,e)=>{"use strict";e.d(g,{h:()=>i});var t=e(88004),n=e(11),s=e(84046);let i=(()=>{class r{constructor(){}isReadOnly(o){return o.isBoxViewer&&!o.isBoxEditor&&!o.isBoxAdmin}canView(o){return o.isBoxViewer||o.isBoxAdmin||o.isBoxEditor}canDelete(o){return o.isBoxAdmin}canCreate(o,d){return o.isChildBoxCreator||(null==d?void 0:d.isBoxAdmin)}canEdit(o){return o.isBoxAdmin}canArchive(o){return o.isBoxAdmin}isModuleActive(o,d){return d===t._.CONFIGURATION?this.isModuleTypeConfigurationAvailable(o):!!o.getModules().find(h=>h.getType()===d&&h.isActive())}isModuleAccessible(o,d){if(!o)return!1;const h=o.getData(),p=h.getSecurity();return!!this.canView(p)||(d===t._.OVERVIEW?p.isChildBoxCreator||0!==o.getChildren().length:d===t._.CONFIGURATION&&this.isModuleTypeConfigurationAvailable(h))}isModuleTypeConfigurationAvailable(o){return!this.isBoxClosed(o)&&this.canEdit(o.getSecurity())&&!o.isArchived()}isBoxClosed(o){return o.getStatus()===n.N.CLOSED}}return r.\u0275fac=function(o){return new(o||r)},r.\u0275prov=s.Yz7({token:r,factory:r.\u0275fac}),r})()},81622:(S,g,e)=>{"use strict";e.d(g,{N:()=>de});var t=e(55331),n=e(84046),s=e(98234),r=(e(11206),e(9294)),a=e(47679),o=e(36215),d=e(63187),h=e(37452),p=e(78641),f=e(39686),m=e(8739),v=e(36799),E=e(83262),C=e(79403),T=e(18300),y=e(21992),I=e(7015);const P=[v.D,y.X,p.i,m.X,f.c,o.O,I.Y,T.s,E.K,C.X,{provide:h.p,useValue:new h.p("select-box-query-observer")}];var L=e(65906),F=e(90850),b=e(70822),x=e(98274),B=e(35811),M=e(69417),w=e(6397),K=e(68890),k=e(71118),G=e(95900),$=e(62546),X=e(85703),ie=e(76379),se=e(75596),pe=e(7052),ve=e(25673),Ce=e(61631),ye=e(92463);let de=(()=>{class Ie extends $.H{constructor(Ve,Ue,xe,gt,tt,lt,Mt,ne,De,Ye,Qe,Ke,it,Se,Ct){super(Ve,Ue),this.changeDetectorRef=xe,this.injector=gt,this.selectedBoxIdStorage=tt,this.selectBoxConfigStorage=lt,this.dropdownController=Mt,this.boxHierarchyService=ne,this.boxHierarchyCommandService=De,this.hierarchyObserverId=Ye,this.selectBoxIdStorage=Qe,this.dataTypeInstanceRepository=Ke,this.selectBoxService=it,this.selectBoxFavouritePendingNotifierStorage=Se,this.document=Ct,this.config=(new d.L.Builder).build(),this.selectedBoxIdChange=new n.vpe,this.dropdownOpened=new n.vpe,this.favouritePending=new n.vpe,this.gravity=G.X}ngOnChanges(Ve){Ve.config&&k.l.isDefined(this.config)&&this.setConfigToStorage(),Ve.selectedBoxId&&k.l.isDefined(this.selectedBoxIdStorage)&&this.selectedBoxIdStorage.set(this.selectedBoxId)}ngOnInit(){const Ve=this.dataTypeInstanceRepository.get(pe.r.ID).getFieldBuilder(M.Z.fromString(s.e.NAME)).build(),Ue=new a.U(Ve,r.A.ASCENDING);this.boxHierarchyCommandService.sort(this.hierarchyObserverId,Ue),this.observeDropdownExistence(),this.observeSelectedBoxId(),this.observeOpenDropdown(),this.observeFavouritePending(),this.setSelectId()}finalize(){this.dropdownController.destroy(),this.unsubscribeFromClickOutside()}getHostClasses(){return["sp-flex"]}toggleDropdown(){this.tooltip.forceHideTooltip(),this.dropdownExist()?this.dropdownController.destroy():this.openDropdown(),this.changeDetectorRef.detectChanges()}dropdownExist(){return!!this.dropdownEl}setSelectId(){this.optionalShowLSWarn(),this.selectId=this.selectId||(0,X.Hu)(),this.selectBoxIdStorage.set(this.selectId),this.changeDetectorRef.detectChanges()}optionalShowLSWarn(){!this.selectId&&this.config.getFiltersStoredInLS()&&console.warn("SelectBox: selectId is required to persist filters in LS")}observeOpenDropdown(){this.selectBoxService.selectDropdownVisibility().pipe((0,b.h)(Ve=>Ve.id===this.selectId),this.takeUntilDestroy()).subscribe(Ve=>{Ve.visible?!this.dropdownExist()&&this.openDropdown():this.dropdownExist()&&this.dropdownController.destroy()})}observeFavouritePending(){this.selectBoxFavouritePendingNotifierStorage.select().pipe(this.takeUntilDestroy()).subscribe(Ve=>{this.favouritePending.next(Ve)})}setConfigToStorage(){this.selectBoxConfigStorage.set(this.config)}observeSelectedBoxId(){this.selectedBoxIdStorage.select().pipe((0,x.w)(Ve=>this.selectBoxById(Ve)),this.takeUntilDestroy()).subscribe(Ve=>{!Ve.getId().equals(this.selectedBoxId)&&this.emitChangedContextBoxId(Ve.getId()),this.boxQuery=Ve,this.changeDetectorRef.detectChanges()})}selectBoxById(Ve){return this.boxHierarchyService.selectBox(Ve).pipe((0,b.h)(Ue=>!!Ue))}emitChangedContextBoxId(Ve){this.selectedBoxId=Ve,this.selectedBoxIdChange.emit(this.selectedBoxId)}openDropdown(){this.dropdownOpened.emit(),this.dropdownEl=this.dropdownController.create(this.elementRef.nativeElement,n.zs3.create({providers:[{provide:ie.e,useValue:{closeDropdown:()=>this.dropdownController.destroy()}}],parent:this.injector})),this.observeClickOutside()}observeDropdownExistence(){this.dropdownController.observeDropdownExistence().pipe((0,b.h)(Ve=>!Ve),this.takeUntilDestroy()).subscribe(()=>{this.dropdownEl=null,this.unsubscribeFromClickOutside(),this.changeDetectorRef.detectChanges()})}observeClickOutside(){this.clickOutsideUnsubscribeSubject$=new F.xQ,new w.$(this.dropdownEl,this.document,{ignoredElement:this.elementRef.nativeElement}).pipe((0,B.R)(this.clickOutsideUnsubscribeSubject$),this.takeUntilDestroy()).subscribe(()=>{this.dropdownController.destroy()})}unsubscribeFromClickOutside(){this.clickOutsideUnsubscribeSubject$&&(this.clickOutsideUnsubscribeSubject$.next(),this.clickOutsideUnsubscribeSubject$.complete())}}return Ie.\u0275fac=function(Ve){return new(Ve||Ie)(n.Y36(n.SBq),n.Y36(n.Qsj),n.Y36(n.sBO),n.Y36(n.zs3),n.Y36(y.X),n.Y36(v.D),n.Y36(o.O),n.Y36(ve.T),n.Y36(Ce.Z),n.Y36(h.p),n.Y36(C.X),n.Y36(se.v),n.Y36(ye.e),n.Y36(L.O),n.Y36(t.K0))},Ie.\u0275cmp=n.Xpm({type:Ie,selectors:[["sp-select-box"]],viewQuery:function(Ve,Ue){if(1&Ve&&n.Gf(K.i9,5),2&Ve){let xe;n.iGM(xe=n.CRH())&&(Ue.tooltip=xe.first)}},hostVars:1,hostBindings:function(Ve,Ue){2&Ve&&n.uIk("id",Ue.selectId)},inputs:{selectId:"selectId",config:"config",selectedBoxId:"selectedBoxId"},outputs:{selectedBoxIdChange:"selectedBoxIdChange",dropdownOpened:"dropdownOpened",favouritePending:"favouritePending"},features:[n._Bn(P),n.qOj,n.TTD],decls:2,vars:5,consts:[[3,"spTooltip","spTooltipGravity","boxName","triggerClick"]],template:function(Ve,Ue){1&Ve&&(n.TgZ(0,"sp-select-box-trigger",0),n.NdJ("triggerClick",function(){return Ue.toggleDropdown()}),n.ALo(1,"spRichTextI18n"),n.qZA()),2&Ve&&n.Q6J("spTooltip",n.lcZ(1,3,"SPT_SELECT_BOX_SWITCH_CONTEXT_TOOLTIP"))("spTooltipGravity",Ue.gravity.SOUTH)("boxName",null==Ue.boxQuery?null:Ue.boxQuery.getName().value)},encapsulation:2,changeDetection:0}),Ie})()},63187:(S,g,e)=>{"use strict";e.d(g,{L:()=>s});var t=e(50292),n=e(85105);let s=(()=>{class i{getShowResizeIcon(){return this.showResizeIcon}getShowDropdownOpenIndicator(){return this.showDropdownOpenIndicator}getDropdownOpenIndicatorColor(){return this.dropdownOpenIndicatorColor}getDropdownLayout(){return this.dropdownLayout}getShowFavouriteColumn(){return this.showFavouriteColumn}getDropdownTriggerTextClass(){return this.dropdownTriggerCssClass}getDropdownMinHeight(){return this.dropdownMinHeight}getDropdownMinWidth(){return this.dropdownMinWidth}getShowHomeIcon(){return this.showHomeIcon}getDestroyDropdownAfterSelect(){return this.destroyDropdownAfterSelect}getFiltersStoredInLS(){return this.filtersStoredInLS}getNavigationLinkResolver(){return this.navigationLinkResolver}getDisabledBoxes(){return this.disabledBoxes}getRowBreadcrumbInFlatMode(){return this.rowBreadcrumbInFlatMode}}return i.Builder=class extends n.I{constructor(){super(...arguments),this.showDropdownOpenIndicator=!1,this.showFavouriteColumn=!1,this.dropdownLayout=t.A.NORMAL,this.dropdownTriggerCssClass="",this.dropdownMinHeight=300,this.dropdownMinWidth=600,this.showHomeIcon=!1,this.showResizeIcon=!1,this.destroyDropdownAfterSelect=!1,this.filtersStoredInLS=!1,this.disabledBoxes=[],this.rowBreadcrumbInFlatMode=!1}build(){const a=new i;return a.showDropdownOpenIndicator=this.showDropdownOpenIndicator,a.dropdownOpenIndicatorColor=this.dropdownOpenIndicatorColor,a.dropdownLayout=this.dropdownLayout,a.showFavouriteColumn=this.showFavouriteColumn,a.dropdownTriggerCssClass=this.dropdownTriggerCssClass,a.dropdownMinHeight=this.dropdownMinHeight,a.dropdownMinWidth=this.dropdownMinWidth,a.showHomeIcon=this.showHomeIcon,a.showResizeIcon=this.showResizeIcon,a.destroyDropdownAfterSelect=this.destroyDropdownAfterSelect,a.filtersStoredInLS=this.filtersStoredInLS,a.navigationLinkResolver=this.navigationLinkResolver,a.disabledBoxes=this.disabledBoxes,a.rowBreadcrumbInFlatMode=this.rowBreadcrumbInFlatMode,a}withShowDropdownOpenIndicator(a){return this.showDropdownOpenIndicator=a,this}withDropdownOpenIndicatorColor(a){return this.dropdownOpenIndicatorColor=a,this}withDropdownLayout(a){return this.dropdownLayout=a,this}withShowFavouriteColumn(a){return this.showFavouriteColumn=a,this}withDropdownTriggerCssClass(a){return this.dropdownTriggerCssClass=a,this}withDropdownMinHeight(a){return this.dropdownMinHeight=a,this}withDropdownMinWidth(a){return this.dropdownMinWidth=a,this}withDropdownResize(a){return this.showResizeIcon=a,this}withShowHomeIcon(a){return this.showHomeIcon=a,this}withDestroyDropdownAfterSelect(a){return this.destroyDropdownAfterSelect=a,this}withFiltersStoredInLS(a){return this.filtersStoredInLS=a,this}withNavigationLinkResolver(a){return this.navigationLinkResolver=a,this}withDisabledBoxes(a){return this.disabledBoxes=a,this}withRowBreadcrumbInFlatMode(a){return this.rowBreadcrumbInFlatMode=a,this}},i})()},26799:(S,g,e)=>{"use strict";e.d(g,{L:()=>pt});var t=e(55331),n=e(41001),s=e(70335),i=e(56425),r=e(48342),o=(e(35168),e(84046)),d=e(36799),h=e(90377),p=e(71118),m=(e(67559),e(25673)),v=e(70402),E=e(26463),C=e(68890),T=e(94944),y=e(53623);function I(Q,Ee){if(1&Q){const ue=o.EpF();o.ynx(0),o.TgZ(1,"a",5),o.NdJ("clicked",function(){o.CHM(ue);const mt=o.oxw(2).item;return o.oxw().boxSelected$.emit(mt.data.getId())}),o.ALo(2,"spRichTextString"),o._uU(3),o.ALo(4,"truncate"),o.qZA(),o.BQk()}if(2&Q){const ue=o.oxw(2).item,be=o.oxw();o.xp6(1),o.Q6J("spTooltipEnabled",ue.data.getName().value.length>be.breadcrumbTextLength)("spTooltip",o.lcZ(2,4,ue.data.getName().value))("spNavigationLink",be.getNavigationLink(ue.data)),o.xp6(2),o.hij(" ",o.xi3(4,6,ue.data.getName().value,be.breadcrumbTextLength)," ")}}function P(Q,Ee){if(1&Q&&(o.TgZ(0,"span",6),o.ALo(1,"spRichTextString"),o._uU(2),o.ALo(3,"truncate"),o.qZA()),2&Q){const ue=o.oxw(2).item,be=o.oxw();o.Q6J("spTooltipEnabled",ue.data.getName().value.length>be.breadcrumbTextLength)("spTooltip",o.lcZ(1,3,ue.data.getName().value)),o.xp6(2),o.hij(" ",o.xi3(3,5,ue.data.getName().value,be.breadcrumbTextLength)," ")}}function L(Q,Ee){if(1&Q&&(o.ynx(0),o.YNc(1,I,5,9,"ng-container",3),o.YNc(2,P,4,8,"ng-template",null,4,o.W1O),o.BQk()),2&Q){const ue=o.MAs(3),be=o.oxw().item;o.xp6(1),o.Q6J("ngIf",be.data.isAvailable())("ngIfElse",ue)}}function F(Q,Ee){if(1&Q&&(o.TgZ(0,"span",7),o._uU(1),o.qZA()),2&Q){const ue=o.oxw().item;o.xp6(1),o.Oqu(ue.data.getId().toString())}}function b(Q,Ee){if(1&Q&&(o.YNc(0,L,4,2,"ng-container",1),o.YNc(1,F,2,1,"span",2)),2&Q){const ue=Ee.isLast;o.Q6J("ngIf",!ue),o.xp6(1),o.Q6J("ngIf",ue)}}const x=["*"];let B=(()=>{class Q{constructor(ue,be,mt){this.changeDetectorRef=ue,this.boxHierarchyService=be,this.selectBoxConfigStorage=mt,this.boxSelected$=new o.vpe,this.breadcrumbDeep=2,this.breadcrumbTextLength=20}ngOnChanges(ue){const{boxWithHierarchy:be={}}=ue;p.l.isDefined(be.currentValue)&&this.buildBreadcrumbPath(be.currentValue)}getNavigationLink(ue){const be=this.selectBoxConfigStorage.get().getNavigationLinkResolver();if(be)return be(ue.getId())}buildBreadcrumbPath(ue){const be=[ue.getData(),...(0,h.Xw)(ue).map(mt=>this.boxHierarchyService.getBoxById(mt))].filter(mt=>!mt.getId().isRoot());this.breadCrumbItems=be.map(mt=>({id:mt.getId().toString(),data:mt})).reverse(),this.changeDetectorRef.detectChanges()}}return Q.\u0275fac=function(ue){return new(ue||Q)(o.Y36(o.sBO),o.Y36(m.T),o.Y36(d.D))},Q.\u0275cmp=o.Xpm({type:Q,selectors:[["sp-select-box-breadcrumb"]],inputs:{boxWithHierarchy:"boxWithHierarchy"},outputs:{boxSelected$:"boxSelected$"},features:[o.TTD],ngContentSelectors:x,decls:3,vars:2,consts:[[3,"items","deep"],[4,"ngIf"],["class","sp-font-normal sp-mr-2",4,"ngIf"],[4,"ngIf","ngIfElse"],["itemWithoutLink",""],[3,"spTooltipEnabled","spTooltip","spNavigationLink","clicked"],[3,"spTooltipEnabled","spTooltip"],[1,"sp-font-normal","sp-mr-2"]],template:function(ue,be){1&ue&&(o.F$t(),o.TgZ(0,"sp-breadcrumb",0),o.YNc(1,b,2,2,"ng-template"),o.Hsn(2),o.qZA()),2&ue&&o.Q6J("items",be.breadCrumbItems)("deep",be.breadcrumbDeep)},directives:[v.L,t.O5,E.k,C.i9],pipes:[T.C,y.W],encapsulation:2,changeDetection:0}),Q})();var M=e(19327),w=e(62546);let K=(()=>{class Q extends w.H{constructor(ue,be){super(ue,be),this.color=M.B.SLATE,this.boxSelected$=new o.vpe}selectBox(ue){this.boxSelected$.emit(ue)}getHostClasses(){return["sp-flex","sp-flex-col","sp-justify-center","sp-overflow-hidden","sp-w-full","sp-h-full","sp-self-center"]}}return Q.\u0275fac=function(ue){return new(ue||Q)(o.Y36(o.SBq),o.Y36(o.Qsj))},Q.\u0275dir=o.lG2({type:Q,inputs:{boxWithHierarchy:"boxWithHierarchy",color:"color",boxCanBeViewed:"boxCanBeViewed",boxLink:"boxLink",boxStatusName:"boxStatusName",isPlainText:"isPlainText",isContextBox:"isContextBox",selectBoxId:"selectBoxId"},outputs:{boxSelected$:"boxSelected$"},features:[o.qOj]}),Q})();var k=e(41004);function G(Q,Ee){1&Q&&o.GkF(0)}function $(Q,Ee){if(1&Q){const ue=o.EpF();o.TgZ(0,"a",3),o.NdJ("click",function(){o.CHM(ue);const mt=o.oxw();return mt.selectBox(mt.boxWithHierarchy.getData().getId())}),o.YNc(1,G,1,0,"ng-container",4),o.qZA()}if(2&Q){const ue=o.oxw(),be=o.MAs(3);o.ekj("sp-select-box-item--without-link",ue.isPlainText)("sp-cursor-default",ue.isContextBox),o.uIk("id","sp-select-box-"+ue.selectBoxId+"-box-link-"+ue.boxWithHierarchy.getId()),o.xp6(1),o.Q6J("ngTemplateOutlet",be)}}function X(Q,Ee){1&Q&&o.GkF(0)}function ie(Q,Ee){if(1&Q){const ue=o.EpF();o.TgZ(0,"a",5),o.NdJ("clicked",function(){o.CHM(ue);const mt=o.oxw();return mt.selectBox(mt.boxWithHierarchy.getData().getId())}),o.YNc(1,X,1,0,"ng-container",4),o.qZA()}if(2&Q){const ue=o.oxw(),be=o.MAs(3);o.ekj("sp-select-box-item--without-link",ue.isPlainText)("sp-cursor-default",ue.isContextBox),o.Q6J("spNavigationLink",ue.boxLink),o.uIk("id","sp-select-box-"+ue.selectBoxId+"-box-link-"+ue.boxWithHierarchy.getId()),o.xp6(1),o.Q6J("ngTemplateOutlet",be)}}function se(Q,Ee){if(1&Q&&(o.TgZ(0,"div",10),o._uU(1),o.qZA()),2&Q){const ue=o.oxw(2);o.xp6(1),o.hij(" ",ue.boxWithHierarchy.getId()," ")}}function pe(Q,Ee){if(1&Q&&(o.TgZ(0,"sp-lozenge",11),o._uU(1),o.qZA()),2&Q){const ue=o.oxw(2);o.Q6J("color",ue.color.colorName),o.uIk("id","sp-select-box-"+ue.selectBoxId+"-box-status-"+ue.boxWithHierarchy.getId()),o.xp6(1),o.hij(" ",ue.boxStatusName," ")}}function ve(Q,Ee){if(1&Q&&(o.TgZ(0,"div",6),o.ALo(1,"spRichTextString"),o.YNc(2,se,2,1,"div",7),o.TgZ(3,"span",8),o._uU(4),o.qZA(),o.qZA(),o.YNc(5,pe,2,3,"sp-lozenge",9)),2&Q){const ue=o.oxw();o.Q6J("spTooltip",o.lcZ(1,4,ue.boxWithHierarchy.getData().getName().value)),o.xp6(2),o.Q6J("ngIf",ue.boxCanBeViewed),o.xp6(2),o.Oqu(ue.boxWithHierarchy.getData().getName().value),o.xp6(1),o.Q6J("ngIf",ue.boxCanBeViewed)}}let Ce=(()=>{class Q extends K{}return Q.\u0275fac=function(){let Ee;return function(be){return(Ee||(Ee=o.n5z(Q)))(be||Q)}}(),Q.\u0275cmp=o.Xpm({type:Q,selectors:[["sp-select-box-nested-node-cell"]],features:[o.qOj],decls:4,vars:2,consts:[["class","sp-select-box-item sp-flex sp-items-center",3,"sp-select-box-item--without-link","sp-cursor-default","click",4,"ngIf"],["class","sp-select-box-item sp-flex sp-items-center",3,"sp-select-box-item--without-link","sp-cursor-default","spNavigationLink","clicked",4,"ngIf"],["elementContent",""],[1,"sp-select-box-item","sp-flex","sp-items-center",3,"click"],[4,"ngTemplateOutlet"],[1,"sp-select-box-item","sp-flex","sp-items-center",3,"spNavigationLink","clicked"],[1,"sp-select-box-item__view-name","sp-flex","sp-overflow-hidden",3,"spTooltip"],["class","sp-select-box-item__view-name--key sp-pr-2",4,"ngIf"],[1,"sp-truncate","sp-select-box-item__view-name--text"],["class","sp-ml-2","subtle","",3,"color",4,"ngIf"],[1,"sp-select-box-item__view-name--key","sp-pr-2"],["subtle","",1,"sp-ml-2",3,"color"]],template:function(ue,be){1&ue&&(o.YNc(0,$,2,6,"a",0),o.YNc(1,ie,2,7,"a",1),o.YNc(2,ve,6,6,"ng-template",null,2,o.W1O)),2&ue&&(o.Q6J("ngIf",!be.boxLink),o.xp6(1),o.Q6J("ngIf",be.boxLink))},directives:[t.O5,t.tP,E.k,C.i9,k.H],pipes:[T.C],encapsulation:2,changeDetection:0}),Q})();var ye=e(76379),de=e(79403),Ie=e(21992),He=e(39579),Ve=e(30828);function Ue(Q,Ee){if(1&Q&&(o.TgZ(0,"sp-lozenge",6),o._uU(1),o.qZA()),2&Q){const ue=o.oxw(2);o.Q6J("color",ue.color.colorName),o.uIk("id","sp-select-box-"+ue.selectBoxId+"-box-status-"+ue.boxWithHierarchy.getData().getId().toString()),o.xp6(1),o.hij(" ",ue.boxStatusName," ")}}function xe(Q,Ee){if(1&Q){const ue=o.EpF();o.TgZ(0,"sp-select-box-breadcrumb",4),o.NdJ("boxSelected$",function(mt){return o.CHM(ue),o.oxw().selectBox(mt)}),o.YNc(1,Ue,2,3,"sp-lozenge",5),o.qZA()}if(2&Q){const ue=o.oxw();o.Q6J("boxWithHierarchy",ue.boxWithHierarchy),o.xp6(1),o.Q6J("ngIf",ue.boxCanBeViewed)}}function gt(Q,Ee){1&Q&&o.GkF(0)}function tt(Q,Ee){if(1&Q){const ue=o.EpF();o.TgZ(0,"a",7),o.NdJ("click",function(){o.CHM(ue);const mt=o.oxw();return mt.selectBox(mt.boxWithHierarchy.getData().getId())}),o.YNc(1,gt,1,0,"ng-container",8),o.qZA()}if(2&Q){const ue=o.oxw(),be=o.MAs(4);o.ekj("sp-select-box-item--without-link",ue.isPlainText)("sp-cursor-default",ue.isContextBox),o.uIk("id","sp-select-box-"+ue.selectBoxId+"-box-link-"+ue.boxWithHierarchy.getData().getId().toString()),o.xp6(1),o.Q6J("ngTemplateOutlet",be)}}function lt(Q,Ee){1&Q&&o.GkF(0)}function Mt(Q,Ee){if(1&Q){const ue=o.EpF();o.TgZ(0,"a",9),o.NdJ("clicked",function(){o.CHM(ue);const mt=o.oxw();return mt.selectBox(mt.boxWithHierarchy.getData().getId())}),o.YNc(1,lt,1,0,"ng-container",8),o.qZA()}if(2&Q){const ue=o.oxw(),be=o.MAs(4);o.ekj("sp-select-box-item--without-link",ue.isPlainText)("sp-cursor-default",ue.isContextBox),o.Q6J("spNavigationLink",ue.boxLink),o.uIk("id","sp-select-box-"+ue.selectBoxId+"-box-link-"+ue.boxWithHierarchy.getData().getId().toString()),o.xp6(1),o.Q6J("ngTemplateOutlet",be)}}function ne(Q,Ee){if(1&Q&&(o.TgZ(0,"span",10),o.ALo(1,"spRichTextString"),o._uU(2),o.qZA()),2&Q){const ue=o.oxw();o.Q6J("spTooltip",o.lcZ(1,2,ue.boxWithHierarchy.getData().getName().value)),o.xp6(2),o.hij(" ",ue.boxWithHierarchy.getData().getName().value," ")}}let De=(()=>{class Q extends K{constructor(ue,be,mt){super(ue,be),this.selectBoxConfigStorage=mt,this.showBreadcrumb=mt.get().getRowBreadcrumbInFlatMode()}}return Q.\u0275fac=function(ue){return new(ue||Q)(o.Y36(o.SBq),o.Y36(o.Qsj),o.Y36(d.D))},Q.\u0275cmp=o.Xpm({type:Q,selectors:[["sp-select-box-flat-node-cell"]],features:[o.qOj],decls:5,vars:3,consts:[["class","sp-mb-1",3,"boxWithHierarchy","boxSelected$",4,"ngIf"],["class","sp-select-box-item sp-flex sp-items-center sp-leading-4 sp-w-fit",3,"sp-select-box-item--without-link","sp-cursor-default","click",4,"ngIf"],["class","sp-select-box-item sp-flex sp-items-center sp-leading-4 sp-w-fit",3,"sp-select-box-item--without-link","sp-cursor-default","spNavigationLink","clicked",4,"ngIf"],["rowText",""],[1,"sp-mb-1",3,"boxWithHierarchy","boxSelected$"],["subtle","",3,"color",4,"ngIf"],["subtle","",3,"color"],[1,"sp-select-box-item","sp-flex","sp-items-center","sp-leading-4","sp-w-fit",3,"click"],[4,"ngTemplateOutlet"],[1,"sp-select-box-item","sp-flex","sp-items-center","sp-leading-4","sp-w-fit",3,"spNavigationLink","clicked"],[1,"sp-truncate","sp-select-box-item__view-name--text",3,"spTooltip"]],template:function(ue,be){1&ue&&(o.YNc(0,xe,2,2,"sp-select-box-breadcrumb",0),o.YNc(1,tt,2,6,"a",1),o.YNc(2,Mt,2,7,"a",2),o.YNc(3,ne,3,4,"ng-template",null,3,o.W1O)),2&ue&&(o.Q6J("ngIf",be.showBreadcrumb),o.xp6(1),o.Q6J("ngIf",!be.boxLink),o.xp6(1),o.Q6J("ngIf",be.boxLink))},encapsulation:2,changeDetection:0}),Q})();var Ye=e(18217);function Qe(Q,Ee){if(1&Q){const ue=o.EpF();o.TgZ(0,"sp-select-box-nested-node-cell",4),o.NdJ("boxSelected$",function(mt){return o.CHM(ue),o.oxw().selectBox(mt)}),o.qZA()}if(2&Q){const ue=o.oxw();o.Q6J("boxWithHierarchy",ue.boxWithHierarchy)("color",ue.color)("boxCanBeViewed",ue.boxCanBeViewed)("boxLink",ue.boxLink)("isPlainText",ue.isPlainText)("boxStatusName",ue.boxStatusName)("isContextBox",ue.isContextBox)("selectBoxId",ue.selectBoxIdStorage.get())}}function Ke(Q,Ee){if(1&Q){const ue=o.EpF();o.TgZ(0,"sp-select-box-flat-node-cell",5),o.NdJ("boxSelected$",function(mt){return o.CHM(ue),o.oxw().selectBox(mt)}),o.qZA()}if(2&Q){const ue=o.oxw();o.Q6J("boxWithHierarchy",ue.boxWithHierarchy)("color",ue.color)("boxCanBeViewed",ue.boxCanBeViewed)("boxLink",ue.boxLink)("isPlainText",ue.isPlainText)("boxStatusName",ue.boxStatusName)("isContextBox",ue.isContextBox)("selectBoxId",ue.selectBoxIdStorage.get())}}let it=(()=>{class Q extends w.H{constructor(ue,be,mt,Ut,Xt,en,mn,In,Un,Jn){super(ue,be),this.changeDetectorRef=mt,this.selectBoxSelectedStorage=Ut,this.dropdownHostAPI=Xt,this.boxSecurityResolver=en,this.selectedBoxIdStorage=mn,this.selectBoxConfigStorage=In,this.boxHierarchyService=Un,this.selectBoxIdStorage=Jn,this.color=M.B.SLATE,this.boxStatusMapper=new He.I,this.contextBoxId=mn.get()}ngOnChanges(ue){const{boxWithHierarchy:be={}}=ue;p.l.isDefined(be.currentValue)&&this.defineProperties()}selectBox(ue){const be=this.selectBoxConfigStorage.get().getDisabledBoxes().map(Ut=>Ut.toString()),mt=this.boxHierarchyService.getBoxById(ue);be.includes(ue.toString())||!mt.isAvailable()||(this.selectBoxSelectedStorage.set(ue),this.destroyDropdown())}getHostClasses(){return["sp-flex","sp-flex-1","sp-items-center","sp-justify-center","sp-overflow-hidden","sp-h-full","sp-self-center"]}destroyDropdown(){this.selectBoxConfigStorage.get().getDestroyDropdownAfterSelect()&&this.dropdownHostAPI.closeDropdown()}defineProperties(){this.boxQuery=this.boxWithHierarchy.getData(),this.boxId=this.boxQuery.getId(),this.boxCanBeViewed=this.boxSecurityResolver.canView(this.boxQuery.getSecurity()),this.isContextBox=this.boxId.toString()===this.contextBoxId.toString(),this.isPlainText=this.isContextBox||!this.boxQuery.getModules().length||!this.boxQuery.isAvailable(),this.defineNavigation(),this.defineBoxStatus(),this.isArchived=this.boxQuery.isArchived()}defineNavigation(){const ue=this.selectBoxConfigStorage.get().getNavigationLinkResolver();!ue||(this.boxLink=ue(this.boxId))}defineBoxStatus(){const ue=this.boxQuery.getStatus();p.l.isDefined(ue)&&(this.color=this.boxStatusMapper.toStatusColor(ue),this.boxStatusName=this.boxStatusMapper.toStatusUppercase(ue))}}return Q.\u0275fac=function(ue){return new(ue||Q)(o.Y36(o.SBq),o.Y36(o.Qsj),o.Y36(o.sBO),o.Y36(Ie.X),o.Y36(ye.e),o.Y36(Ve.h),o.Y36(Ie.X),o.Y36(d.D),o.Y36(m.T),o.Y36(de.X))},Q.\u0275cmp=o.Xpm({type:Q,selectors:[["sp-select-box-main-cell"]],inputs:{boxWithHierarchy:"boxWithHierarchy",onlyFavouriteBoxes:"onlyFavouriteBoxes"},features:[o.qOj,o.TTD],decls:5,vars:8,consts:[[3,"ngSwitch"],["class","sp-pr-11",3,"boxWithHierarchy","color","boxCanBeViewed","boxLink","isPlainText","boxStatusName","isContextBox","selectBoxId","boxSelected$",4,"ngSwitchCase"],["class","sp-ml-2 sp-pr-11",3,"boxWithHierarchy","color","boxCanBeViewed","boxLink","isPlainText","boxStatusName","isContextBox","selectBoxId","boxSelected$",4,"ngSwitchCase"],[1,"fas","fa-archive","sp-ml-auto",3,"spTooltip"],[1,"sp-pr-11",3,"boxWithHierarchy","color","boxCanBeViewed","boxLink","isPlainText","boxStatusName","isContextBox","selectBoxId","boxSelected$"],[1,"sp-ml-2","sp-pr-11",3,"boxWithHierarchy","color","boxCanBeViewed","boxLink","isPlainText","boxStatusName","isContextBox","selectBoxId","boxSelected$"]],template:function(ue,be){1&ue&&(o.ynx(0,0),o.YNc(1,Qe,1,8,"sp-select-box-nested-node-cell",1),o.YNc(2,Ke,1,8,"sp-select-box-flat-node-cell",2),o.BQk(),o._UZ(3,"i",3),o.ALo(4,"spRichTextI18n")),2&ue&&(o.Q6J("ngSwitch",be.onlyFavouriteBoxes),o.xp6(1),o.Q6J("ngSwitchCase",!1),o.xp6(1),o.Q6J("ngSwitchCase",!0),o.xp6(1),o.ekj("sp-invisible",!be.isArchived),o.Q6J("spTooltip",o.lcZ(4,6,"SPT_BOX_CORE_BOX_ARCHIVED_ICON_TOOLTIP")))},directives:[t.RF,t.n9,C.i9,Ce,De],pipes:[Ye.d],styles:[".sp-box-not-available .sp-select-box-item{cursor:not-allowed;pointer-events:none}.sp-select-box-item{max-width:100%}.sp-select-box-item--without-link{color:var(--gray-800);text-decoration:none!important;cursor:pointer}.sp-select-box-item__view-name--key{color:var(--gray-90);display:initial}.sp-select-box-item:hover{text-decoration:none}.sp-select-box-item:hover .sp-select-box-item__view-name--text{text-decoration:underline}\n"],encapsulation:2,changeDetection:0}),Q})();var Se=e(60396),Ct=e(8739),Lt=e(65906),Vt=e(2196);function St(Q,Ee){if(1&Q){const ue=o.EpF();o.TgZ(0,"span",1),o.NdJ("click",function(mt){return o.CHM(ue),o.oxw().toggleFavourite(mt)}),o.qZA()}if(2&Q){const ue=o.oxw();o.ekj("sp-select-box-favourite-icon--marked",ue.boxQuery.isFavourite())("sp-cursor-not-allowed",ue.boxQuery.isArchived())("sp-cursor-pointer",!ue.boxQuery.isArchived())}}let $t=(()=>{class Q extends w.H{constructor(ue,be,mt,Ut,Xt,en){super(ue,be),this.boxSecurityResolver=mt,this.treeGridItemIndicator=Ut,this.boxAggregateCommandService=Xt,this.selectBoxFavouritePendingNotifierStorage=en}ngOnChanges(ue){ue.boxWithHierarchy&&this.defineProperties()}finalize(){this.isLoaderStarted&&this.removeLoader()}toggleFavourite(ue){if(this.boxQuery.isArchived())return;const be=this.boxQuery.getId();let mt;ue.stopPropagation(),this.treeGridItemIndicator.notIndicateNodeNextTime(),this.selectBoxFavouritePendingNotifierStorage.set(!0),this.isLoaderStarted=!0,mt=this.boxQuery.isFavourite()?this.boxAggregateCommandService.unmarkFavouriteAsync(be):this.boxAggregateCommandService.markAsFavouriteAsync(be),mt.pipe(this.takeUntilDestroy()).subscribe(()=>this.removeLoader())}removeLoader(){this.selectBoxFavouritePendingNotifierStorage.set(!1),this.isLoaderStarted=!1}defineProperties(){this.boxQuery=this.boxWithHierarchy.getData();const ue=this.boxSecurityResolver.canView(this.boxQuery.getSecurity()),be=this.boxQuery.getBoxType();this.isFavouriteIconVisible=be.getEditableBoxAttributes().isFavourite&&ue&&this.boxWithHierarchy.isMatchingFilter()&&this.boxQuery.isAvailable()}}return Q.\u0275fac=function(ue){return new(ue||Q)(o.Y36(o.SBq),o.Y36(o.Qsj),o.Y36(Ve.h),o.Y36(Ct.X),o.Y36(Vt.N),o.Y36(Lt.O))},Q.\u0275cmp=o.Xpm({type:Q,selectors:[["sp-select-box-structure-favourite-cell"]],inputs:{boxWithHierarchy:"boxWithHierarchy"},features:[o.qOj,o.TTD],decls:1,vars:1,consts:[["class","sp-select-box-favourite-icon fas fa-star",3,"sp-select-box-favourite-icon--marked","sp-cursor-not-allowed","sp-cursor-pointer","click",4,"ngIf"],[1,"sp-select-box-favourite-icon","fas","fa-star",3,"click"]],template:function(ue,be){1&ue&&o.YNc(0,St,1,6,"span",0),2&ue&&o.Q6J("ngIf",be.isFavouriteIconVisible)},directives:[t.O5],styles:[".sp-select-box-favourite-icon{color:var(--gray-50)}.sp-select-box-favourite-icon--marked{color:var(--warning)}\n"],encapsulation:2,changeDetection:0}),Q})();var yt=e(79047),Ft=e(51805),ot=e(62807),Me=e(76752),Ze=e(26566),Ne=e(73275),we=e(92574),At=e(43939),Rt=e(81171),zt=e(65799);let ln=(()=>{class Q{}return Q.\u0275fac=function(ue){return new(ue||Q)},Q.\u0275mod=o.oAB({type:Q}),Q.\u0275inj=o.cJS({imports:[[t.ez,ot.nv.forRoot(),yt.C,Ft.$,C.z8,Me.w,Ne.k,Ze.n,n.J]]}),Q})();o.B6R(Se.V,[t.O5,we.l,At.$,Rt.F,it,$t],[zt.L]),o.B6R(De,[t.O5,B,k.H,t.tP,E.k,C.i9],[T.C]);var pn=e(51545),nn=e(97425),hn=e(3465),xt=e(80810);let je=(()=>{class Q{}return Q.\u0275fac=function(ue){return new(ue||Q)},Q.\u0275mod=o.oAB({type:Q}),Q.\u0275inj=o.cJS({providers:[xt.B],imports:[[t.ez,s.UX,C.z8,nn.o,Ft.$,ln,n.J,pn.F,Ze.n]]}),Q})();o.B6R(i.j,[r.T,Se.V,t.O5,hn.Y],[]);var Le=e(81622),vt=e(92463),qe=e(36215);const Et=["selectBoxTriggerName"],st=["selectBoxTriggerUnderline"];function Nt(Q,Ee){1&Q&&o._UZ(0,"span",5,6)}const Ot=function(Q){return["sp-select-box-trigger__box-name sp-truncate sp-mb-0",Q]};let fe=(()=>{class Q extends w.H{constructor(ue,be,mt,Ut,Xt,en){super(ue,be),this.selectBoxConfigStorage=mt,this.dropdownController=Ut,this.changeDetectorRef=Xt,this.selectBoxIdStorage=en,this.triggerClick=new o.vpe}ngOnInit(){this.observeDropdownExistence(),this.observeSelectBoxConfig(),this.observeHostId(),this.observeClick()}getHostClasses(){return["sp-select-box-trigger","sp-cursor-pointer","sp-border-rounded","sp-px-1","sp-block"]}observeClick(){this.domManipulator.hostListen("click").subscribe(()=>this.triggerClick.emit())}observeHostId(){this.selectBoxIdStorage.select().pipe(this.takeUntilDestroy()).subscribe(ue=>{this.domManipulator.setAttribute(this.selectBoxTriggerName.nativeElement,"id",`sp-select-box-${ue}-name`),this.domManipulator.setHostAttribute("id",`sp-select-box-${ue}-trigger`)})}observeSelectBoxConfig(){this.selectBoxConfigStorage.select().pipe(this.takeUntilDestroy()).subscribe(ue=>{this.selectBoxConfig=ue,this.changeDetectorRef.detectChanges()})}observeDropdownExistence(){this.dropdownController.observeDropdownExistence().pipe(this.takeUntilDestroy()).subscribe(ue=>{this.setUnderlineVisibility(ue),this.setDropdownOpenClass(ue)})}setUnderlineVisibility(ue){if(!this.selectBoxTriggerUnderline)return;const be=this.selectBoxTriggerUnderline.nativeElement,mt="visible";ue?this.domManipulator.addClass(be,mt):this.domManipulator.removeClass(be,mt)}setDropdownOpenClass(ue){const be="dropdown-open";ue?this.domManipulator.addHostClass(be):this.domManipulator.removeHostClass(be)}}return Q.\u0275fac=function(ue){return new(ue||Q)(o.Y36(o.SBq),o.Y36(o.Qsj),o.Y36(d.D),o.Y36(qe.O),o.Y36(o.sBO),o.Y36(de.X))},Q.\u0275cmp=o.Xpm({type:Q,selectors:[["sp-select-box-trigger"]],viewQuery:function(ue,be){if(1&ue&&(o.Gf(Et,5),o.Gf(st,5)),2&ue){let mt;o.iGM(mt=o.CRH())&&(be.selectBoxTriggerName=mt.first),o.iGM(mt=o.CRH())&&(be.selectBoxTriggerUnderline=mt.first)}},inputs:{boxName:"boxName"},outputs:{triggerClick:"triggerClick"},features:[o.qOj],decls:6,vars:5,consts:[[1,"sp-select-box-trigger__container","sp-flex","sp-items-center","sp-h-full"],[1,"sp-no-select",3,"ngClass"],["selectBoxTriggerName",""],[1,"sp-select-box-trigger__icon","sp-ml-2","fa","fa-chevron-down"],["class","sp-select-box-trigger__underline sp-border-rounded sp-relative sp-block",4,"ngIf"],[1,"sp-select-box-trigger__underline","sp-border-rounded","sp-relative","sp-block"],["selectBoxTriggerUnderline",""]],template:function(ue,be){1&ue&&(o.TgZ(0,"div",0),o.TgZ(1,"h1",1,2),o._uU(3),o.qZA(),o._UZ(4,"span",3),o.qZA(),o.YNc(5,Nt,2,0,"span",4)),2&ue&&(o.xp6(1),o.Q6J("ngClass",o.VKq(3,Ot,(null==be.selectBoxConfig?null:be.selectBoxConfig.getDropdownTriggerTextClass())||"")),o.xp6(2),o.hij(" ",be.boxName," "),o.xp6(2),o.Q6J("ngIf",null==be.selectBoxConfig?null:be.selectBoxConfig.getShowDropdownOpenIndicator()))},directives:[t.mk,t.O5],styles:[".sp-select-box-trigger{height:32px;min-width:0;transition:background .25s linear}.sp-select-box-trigger:hover{background:var(--gray-20)}.sp-select-box-trigger__box-name{min-height:25px;font-weight:400}.sp-select-box-trigger__box-name:not(.sp-text-base){font-size:1.375rem}.sp-select-box-trigger__icon{color:var(--gray-600);font-size:.6875rem}.sp-select-box-trigger__underline{height:2px;width:100%;transition:transform .25s linear;transform:scaleX(0);transform-origin:left;background:var(--color-link)}.sp-select-box-trigger__underline.visible{transform:scaleX(1)}.sp-select-box-trigger.dropdown-open{color:var(--color-link)}.sp-select-box-trigger.dropdown-open .sp-select-box-trigger__box-name{color:var(--color-link)}.sp-select-box-trigger.dropdown-open .sp-select-box-trigger__icon{color:var(--color-link)}\n"],encapsulation:2,changeDetection:0}),Q})();var Ge=e(1030),Tt=e(28579);let pt=(()=>{class Q{}return Q.\u0275fac=function(ue){return new(ue||Q)},Q.\u0275mod=o.oAB({type:Q}),Q.\u0275inj=o.cJS({providers:[vt.e,Lt.O],imports:[[t.ez,je,Ge.l,C.z8,n.J,Ze.n,Tt.X]]}),Q})();o.B6R(Le.N,[fe,C.i9],[Ye.d])},92463:(S,g,e)=>{"use strict";e.d(g,{e:()=>s});var t=e(90850),n=e(84046);let s=(()=>{class i{constructor(){this.openDropdown$=new t.xQ}openDropdown(a){this.openDropdown$.next({id:a,visible:!0})}closeDropdown(a){this.openDropdown$.next({id:a,visible:!1})}selectDropdownVisibility(){return this.openDropdown$.asObservable()}}return i.\u0275fac=function(a){return new(a||i)},i.\u0275prov=n.Yz7({token:i,factory:i.\u0275fac}),i})()},56425:(S,g,e)=>{"use strict";e.d(g,{j:()=>b});var t=e(84046),n=e(70038),s=e(75737),i=e(36799),r=e(79403),a=e(18300),o=e(7015),d=e(70822),h=e(98274),p=e(63833),f=e(62546),m=e(39686),v=e(48342),E=e(3465),C=e(60396),T=e(37452),y=e(25673),I=e(61631),P=e(70508),L=e(4199);function F(x,B){if(1&x){const M=t.EpF();t.TgZ(0,"div",2),t.NdJ("sizeChanged",function(K){return t.CHM(M),t.oxw().onBoxDropdownSizeChange(K)}),t.O4$(),t.TgZ(1,"svg",3),t._UZ(2,"rect",4),t._UZ(3,"rect",5),t.qZA(),t.qZA()}if(2&x){const M=t.oxw();t.Q6J("selectBoxDropdownSize",M.boxDropdownSize)("selectBoxDropdownMinSize",M.boxDropdownMinSize)}}let b=(()=>{class x extends f.H{constructor(M,w,K,k,G,$,X,ie,se,pe,ve,Ce,ye){super(M,w),this.hierarchyObserverId=K,this.boxHierarchyService=k,this.boxHierarchyCommandService=G,this.boxAggregateEventService=$,this.filterMessageResolver=X,this.localStorageService=ie,this.configStorage=se,this.selectBoxIdStorage=pe,this.treeRepaintService=ve,this.treeConfigAccessor=Ce,this.changeDetectorRef=ye,this.filterOptions=new n.d}ngOnInit(){this.domManipulator.setHostAttribute("id",`sp-select-box-${this.selectBoxIdStorage.get()}-dropdown`),this.observeConfig(),this.filterBoxes(this.filterOptions),this.observeUpdatedBoxes()}onBoxDropdownSizeChange(M){this.setDropdownSize(M),this.localStorageService.setBoxSize(M),this.treeRepaintService.repaint([this.treeConfigAccessor.getId()])}filterBoxes(M){this.boxHierarchyCommandService.filter(this.hierarchyObserverId,new s.G(M))}getHostClasses(){return["sp-flex","sp-flex-col","sp-border","sp-shadow","sp-border-rounded","sp-z-3","sp-pb-4"]}observeConfig(){this.configStorage.select().pipe(this.takeUntilDestroy()).subscribe(M=>{this.config=M,this.config.getShowFavouriteColumn()&&this.config.getFiltersStoredInLS()&&this.setInitialFilterOptions(),this.setHostWidth(),this.setSelectBoxDropdownMinSize(),this.setSelectBoxDropdownSize(),this.changeDetectorRef.detectChanges(),this.setDropdownSize(this.boxDropdownSize)})}setSelectBoxDropdownSize(){var M;this.boxDropdownSize=null!==(M=this.localStorageService.getBoxSize())&&void 0!==M?M:this.boxDropdownMinSize}setDropdownSize(M){this.domManipulator.addHostStyle("height",`${M.height}px`),this.domManipulator.addHostStyle("width",`${M.width}px`),this.adjustBoxStructureElemHeightBasedOn(M.height)}adjustBoxStructureElemHeightBasedOn(M){var w,K,k,G;const $=null!==(K=null===(w=this.boxControlPanel)||void 0===w?void 0:w.nativeElement.offsetHeight)&&void 0!==K?K:0,X=null!==(G=null===(k=this.dropdownResizer)||void 0===k?void 0:k.nativeElement.offsetHeight)&&void 0!==G?G:0;this.domManipulator.addStyle(this.boxStructure.nativeElement,"height",M-$-X+"px")}setSelectBoxDropdownMinSize(){this.boxDropdownMinSize={width:this.config.getDropdownMinWidth(),height:this.config.getDropdownMinHeight()}}setHostWidth(){const M=this.config.getDropdownMinWidth();let K=`${M}px`;window.innerWidth<M&&(K="100%"),this.domManipulator.addHostStyle("width",K)}setInitialFilterOptions(){const M={onlyFavourites:this.localStorageService.getFavouriteBoxesValue(),childrenInheritFavouriteFromParents:!1};this.filterOptions.setFavouriteBoxes(M),this.onlyFavourite=this.filterOptions.areFavouriteBoxes()}observeUpdatedBoxes(){this.boxAggregateEventService.selectUpdatedBoxesSuccessEvent().pipe((0,d.h)(()=>this.boxHierarchyService.areFiltersActive(this.hierarchyObserverId)),(0,h.w)(()=>this.boxHierarchyService.selectContextBoxWithHierarchy(this.hierarchyObserverId).pipe((0,p.q)(1))),this.takeUntilDestroy()).subscribe(M=>{this.filterMessageResolver.resolve(M)})}}return x.\u0275fac=function(M){return new(M||x)(t.Y36(t.SBq),t.Y36(t.Qsj),t.Y36(T.p),t.Y36(y.T),t.Y36(I.Z),t.Y36(P.R),t.Y36(o.Y),t.Y36(a.s),t.Y36(i.D),t.Y36(r.X),t.Y36(L.l),t.Y36(m.c),t.Y36(t.sBO))},x.\u0275cmp=t.Xpm({type:x,selectors:[["sp-select-box-dropdown"]],viewQuery:function(M,w){if(1&M&&(t.Gf(v.T,5,t.SBq),t.Gf(C.V,5,t.SBq),t.Gf(E.Y,5,t.SBq)),2&M){let K;t.iGM(K=t.CRH())&&(w.boxControlPanel=K.first),t.iGM(K=t.CRH())&&(w.boxStructure=K.first),t.iGM(K=t.CRH())&&(w.dropdownResizer=K.first)}},features:[t.qOj],decls:3,vars:5,consts:[[3,"onlyFavourite","filterOptions","filterBoxes$"],["spBoxDropdownResizeContent","","class","sp-absolute sp-bottom-0 sp-w-full sp-h-5",3,"selectBoxDropdownSize","selectBoxDropdownMinSize","sizeChanged",4,"ngIf"],["spBoxDropdownResizeContent","",1,"sp-absolute","sp-bottom-0","sp-w-full","sp-h-5",3,"selectBoxDropdownSize","selectBoxDropdownMinSize","sizeChanged"],["width","15","height","15","viewBox","0 0 10 10","fill","none","xmlns","http://www.w3.org/2000/svg",1,"sp-absolute","sp-bottom-0","sp-right-0","sp-text-right","sp-resize-icon"],["y","8.48528","width","12","height","1","rx","0.5","transform","rotate(-45 0 8.48528)","fill","#c1c7d0"],["x","3","y","8.65685","width","8","height","1","rx","0.5","transform","rotate(-45 3 8.65685)","fill","#c1c7d0"]],template:function(M,w){1&M&&(t.TgZ(0,"sp-select-box-control-panel",0),t.NdJ("filterBoxes$",function(k){return w.filterBoxes(k)}),t.qZA(),t._UZ(1,"sp-select-box-structure"),t.YNc(2,F,4,2,"div",1)),2&M&&(t.Q6J("onlyFavourite",w.onlyFavourite)("filterOptions",w.filterOptions),t.uIk("id","sp-select-box-"+w.selectBoxIdStorage.get()+"-dropdown-control-panel"),t.xp6(1),t.uIk("id","sp-select-box-"+w.selectBoxIdStorage.get()+"-dropdown-treegrid"),t.xp6(1),t.Q6J("ngIf",null==w.config?null:w.config.getShowResizeIcon()))},styles:["sp-select-box-dropdown{display:flex;position:absolute;background:var(--color-bg)}sp-select-box-control-panel{padding:15px}\n"],encapsulation:2,changeDetection:0}),x})()},36215:(S,g,e)=>{"use strict";e.d(g,{O:()=>h});var t=e(78641),n=e(18840),s=e(71118),i=e(95900),r=e(64026),a=e(52265),o=e(84046),d=e(17199);let h=(()=>{class p{constructor(m,v,E){this.boxSwitcherDropdownFactory=v,this.positionCalculator=E,this.positionCalculatorParams=a.i.default().withAlignment(r.e.LEFT).withGravity(i.X.SOUTH).withMargin(p.POSITION_CALCULATOR_MARGIN),this.dropdownExistence$=new n.X(!1),this.renderer=m.createRenderer(null,null)}create(m,v){this.dropdownRef=this.boxSwitcherDropdownFactory.create(v);const E=s.l.getDOMElementFromComponentRef(this.dropdownRef),C=this.getPositionForDropdown(E,m);return this.renderer.setStyle(E,"top",s.l.numberToPxString(C.top)),this.renderer.setStyle(E,"left",s.l.numberToPxString(C.left)),this.dropdownExistence$.next(!0),E}destroy(){this.dropdownRef&&this.dropdownRef.destroy(),this.dropdownRef=null,this.dropdownExistence$.next(!1)}observeDropdownExistence(){return this.dropdownExistence$.asObservable()}getPositionForDropdown(m,v){const E=this.positionCalculatorParams.withLinkedElements({element:m,anchor:v});return this.positionCalculator.calculateNewElementsPosition(E)}}return p.POSITION_CALCULATOR_MARGIN=8,p.\u0275fac=function(m){return new(m||p)(o.LFG(o.FYo),o.LFG(t.i),o.LFG(d.o))},p.\u0275prov=o.Yz7({token:p,factory:p.\u0275fac}),p})()},78641:(S,g,e)=>{"use strict";e.d(g,{i:()=>i});var t=e(56425),n=e(84046),s=e(45927);let i=(()=>{class r{constructor(o){this.componentOutlet=o}create(o){const d=this.componentOutlet.createComponent(t.j,o);return d.changeDetectorRef.detectChanges(),d}}return r.\u0275fac=function(o){return new(o||r)(n.LFG(s.r))},r.\u0275prov=n.Yz7({token:r,factory:r.\u0275fac}),r})()},76379:(S,g,e)=>{"use strict";e.d(g,{e:()=>n});const n=new(e(84046).OlP)("SELECT_BOX_DROPDOWN_HOST_API_TOKEN")},3465:(S,g,e)=>{"use strict";e.d(g,{Y:()=>d});var t=e(84046),n=e(62546),s=e(55331),i=e(17314),r=e(90850),a=e(35811),o=e(80810);let d=(()=>{class h extends n.H{constructor(f,m,v,E,C){super(f,m),this.document=v,this.window=E,this.resizeService=C,this.sizeChanged=new t.vpe,this.mouseDownCompleted$=new r.xQ,this.isGrabbing=!1,this.NO_SELECT_CLASS_NAME="sp-no-select"}ngOnInit(){this.resizeIcon=this.document.querySelector(".sp-resize-icon"),this.resizeService.setSelectBoxDropdownSize(this.selectBoxDropdownSize),this.resizeService.setSelectBoxDropdownMinSize(this.selectBoxDropdownMinSize),this.calculateDropdownSize(),this.onMouseDownEvent(),this.onWindowResize(),this.onMouseEnterEvent()}onMouseDownEvent(){this.domManipulator.listen(this.resizeIcon,"mousedown").pipe(this.takeUntilDestroy()).subscribe(f=>{this.isGrabbing=!0,this.resizeService.setCurrentDropdownSize({width:f.clientX,height:f.clientY}),this.domManipulator.addClass(this.document.body,this.NO_SELECT_CLASS_NAME),this.onMouseUpEvent(),this.onMouseMoveEvent()})}onMouseEnterEvent(){this.domManipulator.listen(this.resizeIcon,"mouseenter").pipe(this.takeUntilDestroy()).subscribe(()=>{this.resizeService.hasSizeEqualMinSize()?this.displaySeResizeCursor():this.displayNwseResizeCursor()})}onMouseUpEvent(){this.domManipulator.listen(this.document,"mouseup").pipe((0,a.R)(this.mouseDownCompleted$),this.takeUntilDestroy()).subscribe(()=>{this.isGrabbing=!1,this.mouseDownCompleted$.next(),this.domManipulator.removeClass(this.document.body,this.NO_SELECT_CLASS_NAME)})}onMouseMoveEvent(){this.domManipulator.listen(this.document,"mousemove").pipe((0,a.R)(this.mouseDownCompleted$),this.takeUntilDestroy()).subscribe(f=>{if(this.isGrabbing){if(this.resizeService.hasMinSize(f))return void this.displaySeResizeCursor();this.displayNwseResizeCursor(),this.resizeService.calculateSizeOnMouseMove(f),this.sizeChanged.emit(this.resizeService.getSelectBoxDropdownSize())}})}onWindowResize(){this.domManipulator.listen(this.window,"resize").pipe(this.takeUntilDestroy()).subscribe(()=>{this.calculateDropdownSize()})}calculateDropdownSize(){this.resizeService.hasSizeLowerThanWindow()||(this.resizeService.calculateSizeOnWindowResize(),this.sizeChanged.emit(this.resizeService.getSelectBoxDropdownSize()))}displaySeResizeCursor(){this.domManipulator.addClass(this.resizeIcon,"sp-cursor-se-resize"),this.domManipulator.removeClass(this.resizeIcon,"sp-cursor-nwse-resize")}displayNwseResizeCursor(){this.domManipulator.addClass(this.resizeIcon,"sp-cursor-nwse-resize"),this.domManipulator.removeClass(this.resizeIcon,"sp-cursor-se-resize")}}return h.\u0275fac=function(f){return new(f||h)(t.Y36(t.SBq),t.Y36(t.Qsj),t.Y36(s.K0),t.Y36(i.m),t.Y36(o.B))},h.\u0275dir=t.lG2({type:h,selectors:[["","spBoxDropdownResizeContent",""]],inputs:{selectBoxDropdownSize:"selectBoxDropdownSize",selectBoxDropdownMinSize:"selectBoxDropdownMinSize"},outputs:{sizeChanged:"sizeChanged"},features:[t.qOj]}),h})()},80810:(S,g,e)=>{"use strict";e.d(g,{B:()=>i});var t=e(17314),n=e(84046);const s=140;let i=(()=>{class r{constructor(o){this.window=o,this.currentDropdownSize={width:0,height:0}}getSelectBoxDropdownSize(){return this.selectBoxDropdownSize}setCurrentDropdownSize(o){this.currentDropdownSize=o}setSelectBoxDropdownSize(o){this.selectBoxDropdownSize=o}setSelectBoxDropdownMinSize(o){this.selectBoxDropdownMinSize=o}calculateSizeOnMouseMove(o){this.hasMinWidth(this.newWidth(o))||(this.selectBoxDropdownSize=Object.assign(Object.assign({},this.selectBoxDropdownSize),{width:this.newWidth(o)}),this.currentDropdownSize=Object.assign(Object.assign({},this.currentDropdownSize),{width:o.clientX})),this.hasMinHeight(this.newHeight(o))||(this.selectBoxDropdownSize=Object.assign(Object.assign({},this.selectBoxDropdownSize),{height:this.newHeight(o)}),this.currentDropdownSize=Object.assign(Object.assign({},this.currentDropdownSize),{height:o.clientY}))}calculateSizeOnWindowResize(){if(this.hasWindowWidthBigger(this.dropdownWidthWithMargin())||(this.currentDropdownSize=Object.assign(Object.assign({},this.currentDropdownSize),{width:this.window.innerWidth-s}),this.selectBoxDropdownSize=Object.assign(Object.assign({},this.selectBoxDropdownSize),{width:this.currentDropdownSize.width})),this.hasMinHeight(window.innerHeight-s))return this.selectBoxDropdownSize=Object.assign(Object.assign({},this.selectBoxDropdownSize),{height:this.selectBoxDropdownMinSize.height}),void(this.currentDropdownSize=Object.assign({},this.selectBoxDropdownSize));this.hasWindowHeightBigger(this.dropdownHeightWithMargin())||(this.currentDropdownSize=Object.assign(Object.assign({},this.currentDropdownSize),{height:this.window.innerHeight-s}),this.selectBoxDropdownSize=Object.assign(Object.assign({},this.selectBoxDropdownSize),{height:this.currentDropdownSize.height}))}hasSizeEqualMinSize(){return this.selectBoxDropdownSize.width===this.selectBoxDropdownMinSize.width&&this.selectBoxDropdownSize.height===this.selectBoxDropdownMinSize.height}hasMinSize(o){return this.hasMinWidth(this.newWidth(o))&&this.hasMinHeight(this.newHeight(o))}hasSizeLowerThanWindow(){return this.hasWindowWidthBigger(this.dropdownWidthWithMargin())&&this.hasWindowHeightBigger(this.dropdownHeightWithMargin())}hasMinWidth(o){return o<this.selectBoxDropdownMinSize.width}hasMinHeight(o){return o<this.selectBoxDropdownMinSize.height}newWidth(o){return this.selectBoxDropdownSize.width+o.clientX-this.currentDropdownSize.width}newHeight(o){return this.selectBoxDropdownSize.height+o.clientY-this.currentDropdownSize.height}dropdownWidthWithMargin(){return this.selectBoxDropdownSize.width+s}dropdownHeightWithMargin(){return this.selectBoxDropdownSize.height+s}hasWindowWidthBigger(o){return o<window.innerWidth}hasWindowHeightBigger(o){return o<window.innerHeight}}return r.\u0275fac=function(o){return new(o||r)(n.LFG(t.m))},r.\u0275prov=n.Yz7({token:r,factory:r.\u0275fac}),r})()},48342:(S,g,e)=>{"use strict";e.d(g,{T:()=>F});var t=e(84046),n=e(11206),s=e(35168),i=e(76379),r=e(36799),a=e(79403),o=e(18300),d=e(84605),h=e(62126),p=e(95900),f=e(62546),v=(e(67559),e(73455)),E=e(55331),C=e(26463),T=e(68890),y=e(57142),I=e(18217);function P(b,x){if(1&b){const B=t.EpF();t.TgZ(0,"a",3),t.NdJ("clicked",function(){return t.CHM(B),t.oxw().destroyDropdown()}),t.ALo(1,"spRichTextI18n"),t._UZ(2,"span",4),t.qZA()}if(2&b){const B=t.oxw();t.Q6J("spNavigationLink",B.goToOverviewNavigationLink)("spTooltip",t.lcZ(1,4,B.homeBtnTooltipText))("spTooltipGravity",B.gravity.NORTH),t.uIk("id","sp-select-box-"+B.selectBoxIdStorage.get()+"-dropdown-home-button")}}function L(b,x){if(1&b){const B=t.EpF();t.TgZ(0,"sp-toggle-button",5),t.NdJ("clicked",function(){return t.CHM(B),t.oxw().toggleFavourite()}),t.ALo(1,"spRichTextI18n"),t._UZ(2,"span",6),t.qZA()}if(2&b){const B=t.oxw();t.Q6J("checked",B.onlyFavourite)("spTooltip",t.lcZ(1,5,"SPT_SELECT_BOX_CONTROL_PANEL_FAVOURITE_TOOLTIP"))("spTooltipGravity",B.gravity.NORTH)("isIconButton",!0),t.uIk("id","sp-select-box-"+B.selectBoxIdStorage.get()+"-dropdown-favourite-button")}}let F=(()=>{class b extends f.H{constructor(B,M,w,K,k,G,$,X){super(B,M),this.changeDetectorRef=w,this.navigationLinkService=K,this.localStorageService=k,this.selectBoxConfigStorage=G,this.dropdownHostAPI=$,this.selectBoxIdStorage=X,this.filterBoxes$=new t.vpe,this.gravity=p.X,this.goToOverviewNavigationLink=this.navigationLinkService.goToOverview(n.A.ROOT_ID.toString()),this.DEFAULT_SEARCH_DEBOUNCE_TIME=500}ngOnChanges(B){if(B.boxWithHierarchy&&B.boxWithHierarchy.currentValue){const M=this.boxWithHierarchy.getData();this.homeBtnTooltipText=this.boxWithHierarchy?M.getName().value:"Home"}}ngOnInit(){this.observeConfig(),this.observeSearchChanges()}finalize(){var B;(null===(B=this.config)||void 0===B?void 0:B.getFiltersStoredInLS())&&this.localStorageService.setTextValue("")}getHostClasses(){return["sp-select-box-control-panel","sp-flex","sp-pb-2","sp-border-bottom-1","sp-justify-between","sp-items-center"]}destroyDropdown(){this.selectBoxConfigStorage.get().getDestroyDropdownAfterSelect()&&this.dropdownHostAPI.closeDropdown()}toggleFavourite(){this.onlyFavourite=!this.onlyFavourite,this.filterOptions.setFavouriteBoxes({onlyFavourites:this.onlyFavourite,childrenInheritFavouriteFromParents:!1}),this.localStorageService.setFavouriteBoxesValue(this.onlyFavourite),this.changeDetectorRef.detectChanges(),this.filterBoxes()}observeConfig(){this.selectBoxConfigStorage.select().pipe(this.takeUntilDestroy()).subscribe(B=>{this.config=B})}observeSearchChanges(){this.searchComponent.searched.pipe((0,d.T)(1),(0,h.b)(this.DEFAULT_SEARCH_DEBOUNCE_TIME),this.takeUntilDestroy()).subscribe(B=>{this.filterOptions.setText(B),this.config.getFiltersStoredInLS()&&this.localStorageService.setTextValue(B),this.filterBoxes()})}filterBoxes(){this.filterBoxes$.next(this.filterOptions)}}return b.\u0275fac=function(B){return new(B||b)(t.Y36(t.SBq),t.Y36(t.Qsj),t.Y36(t.sBO),t.Y36(v.M),t.Y36(o.s),t.Y36(r.D),t.Y36(i.e),t.Y36(a.X))},b.\u0275cmp=t.Xpm({type:b,selectors:[["sp-select-box-control-panel"]],viewQuery:function(B,M){if(1&B&&t.Gf(s.E,7),2&B){let w;t.iGM(w=t.CRH())&&(M.searchComponent=w.first)}},inputs:{boxWithHierarchy:"boxWithHierarchy",filterOptions:"filterOptions",onlyFavourite:"onlyFavourite"},outputs:{filterBoxes$:"filterBoxes$"},features:[t.qOj,t.TTD],decls:3,vars:4,consts:[["class","sp-btn sp-ml-2",3,"spNavigationLink","spTooltip","spTooltipGravity","clicked",4,"ngIf"],[1,"sp-mr-2","sp-flex-1",3,"withFocusAfterInit"],[3,"checked","spTooltip","spTooltipGravity","isIconButton","clicked",4,"ngIf"],[1,"sp-btn","sp-ml-2",3,"spNavigationLink","spTooltip","spTooltipGravity","clicked"],["aria-hidden","true",1,"fa","fa-home"],[3,"checked","spTooltip","spTooltipGravity","isIconButton","clicked"],["aria-hidden","true",1,"fa","fa-star"]],template:function(B,M){1&B&&(t.YNc(0,P,3,6,"a",0),t._UZ(1,"sp-select-box-search",1),t.YNc(2,L,3,7,"sp-toggle-button",2)),2&B&&(t.Q6J("ngIf",null==M.config?null:M.config.getShowHomeIcon()),t.xp6(1),t.Q6J("withFocusAfterInit",!0),t.uIk("id","sp-select-box-"+M.selectBoxIdStorage.get()+"-dropdown-search"),t.xp6(1),t.Q6J("ngIf",null==M.config?null:M.config.getShowFavouriteColumn()))},directives:[E.O5,s.E,C.k,T.i9,y.d],pipes:[I.d],encapsulation:2,changeDetection:0}),b})()},35168:(S,g,e)=>{"use strict";e.d(g,{E:()=>p});var t=e(84046),n=e(70335),s=e(79403),i=e(71726),r=e(95900),a=e(62546),o=e(68890),d=e(18217);const h=["input"];let p=(()=>{class f extends a.H{constructor(v,E,C,T){super(v,E),this.changeDetectorRef=C,this.selectBoxIdStorage=T,this.searched=new t.vpe,this.DEFAULT_INPUT_VALUE="",this.gravity=r.X,this.searchIconTooltipText="Search",this.inputControl=new n.NI(this.DEFAULT_INPUT_VALUE)}ngOnInit(){this.observeInputChanges()}ngAfterViewInit(){this.withFocusAfterInit&&this.input.nativeElement.focus(),this.searched.next(this.DEFAULT_INPUT_VALUE)}clearInput(){this.inputControl.reset(),this.withFocusAfterInit&&this.input.nativeElement.focus(),this.changeDetectorRef.detectChanges()}getHostClasses(){return["sp-select-box-search"]}observeInputChanges(){this.inputControl.valueChanges.pipe(this.takeUntilDestroy(),(0,i.U)(v=>v||this.DEFAULT_INPUT_VALUE)).subscribe(v=>{this.searched.next(v),this.changeDetectorRef.detectChanges()})}}return f.\u0275fac=function(v){return new(v||f)(t.Y36(t.SBq),t.Y36(t.Qsj),t.Y36(t.sBO),t.Y36(s.X))},f.\u0275cmp=t.Xpm({type:f,selectors:[["sp-select-box-search"]],viewQuery:function(v,E){if(1&v&&t.Gf(h,7),2&v){let C;t.iGM(C=t.CRH())&&(E.input=C.first)}},inputs:{withFocusAfterInit:"withFocusAfterInit"},outputs:{searched:"searched"},features:[t.qOj],decls:5,vars:10,consts:[["placeholder","Search...","id","sp-search-control-input","autocomplete","off","type","text",1,"sp-form-control","sp-pr-6",3,"formControl"],["input",""],[1,"sp-select-box-search__icon-btn","far","fa-times","sp-cursor-pointer",3,"click"],[1,"sp-select-box-search__icon-btn","far","fa-search",3,"spTooltip","spTooltipGravity"]],template:function(v,E){1&v&&(t._UZ(0,"input",0,1),t.TgZ(2,"span",2),t.NdJ("click",function(){return E.clearInput()}),t.qZA(),t._UZ(3,"span",3),t.ALo(4,"spRichTextI18n")),2&v&&(t.Q6J("formControl",E.inputControl),t.xp6(2),t.ekj("sp-select-box-search__icon-btn--visible",E.inputControl.value),t.uIk("id","sp-select-box-"+E.selectBoxIdStorage.get()+"-clear-search-btn"),t.xp6(1),t.ekj("sp-select-box-search__icon-btn--visible",!E.inputControl.value),t.Q6J("spTooltip",t.lcZ(4,8,E.searchIconTooltipText))("spTooltipGravity",E.gravity.NORTH))},directives:[n.Fj,n.JJ,n.oH,o.i9],pipes:[d.d],styles:[".sp-select-box-search{position:relative;width:250px;height:32px}.sp-select-box-search__icon-btn{position:absolute;top:9px;right:10px;color:#666;font-size:14px;visibility:hidden}.sp-select-box-search__icon-btn--visible{visibility:visible}\n"],encapsulation:2,changeDetection:0}),f})()},60396:(S,g,e)=>{"use strict";e.d(g,{V:()=>ve});var t=e(11206),n=e(76379),s=e(36799),i=e(21992),r=e(86495),a=e(55688),o=e(93051),d=e(82613),h=e(67761),p=e(80064),f=e(84046),m=e(25673);let v=(()=>{class Ce{constructor(de,Ie,He,Ve,Ue,xe,gt){this.treeCommandService=de,this.selectedItemsRepository=Ie,this.selectedBoxIdStorage=He,this.boxHierarchyService=Ve,this.dropdownHostAPI=Ue,this.selectBoxConfigStorage=xe,this.shortcutsService=gt}initShortcuts(de){this.treeNavigationGroup=this.shortcutsService.createGroup("Select Box Shortcuts",{position:o.N.FORCE_TO_TOP}),this.shortcutsService.createContainer("Previous Box",this.treeNavigationGroup).add(new a.z(r.s.ARROW_UP,()=>{this.treeCommandService.selectPreviousItem(de)}).withPreventDefault()),this.shortcutsService.createContainer("Next Box",this.treeNavigationGroup).add(new a.z(r.s.ARROW_DOWN,()=>{this.treeCommandService.selectNextItem(de)}).withPreventDefault()),this.shortcutsService.createContainer("Open Box",this.treeNavigationGroup).add(new a.z(r.s.ENTER,()=>{const Ie=this.selectedBoxIdStorage.get(),He=new t.A(this.selectedItemsRepository.getIds(de)[0]);Ie.equals(He)||(this.selectedBoxIdStorage.set(He),this.dropdownHostAPI.closeDropdown(),this.handleNavigationLink(He))}).withPreventDefault())}destroyShortcuts(){this.treeNavigationGroup&&this.shortcutsService.removeShortcutGroup(this.treeNavigationGroup)}handleNavigationLink(de){const Ie=this.selectBoxConfigStorage.get().getNavigationLinkResolver();Ie&&Ie(de).navigation()}}return Ce.\u0275fac=function(de){return new(de||Ce)(f.LFG(p.z),f.LFG(h.G),f.LFG(i.X),f.LFG(m.T),f.LFG(n.e),f.LFG(s.D),f.LFG(d.L))},Ce.\u0275prov=f.Yz7({token:Ce,factory:Ce.\u0275fac}),Ce})();var E=e(39686),C=e(8739),T=e(18300),y=e(35454);class I extends y.H{constructor(ye,de){super(ye),this.selectBoxComponentConfig=de}retrieveSecurityDataFrom(ye){return this.getBoxQuery(ye).getSecurity()}matchesFilter(ye){return this.getRawNode(ye).isMatchingFilter()&&this.isAvailable(ye)}isAvailable(ye){const de=this.selectBoxComponentConfig.getDisabledBoxes().map(He=>He.toString()),Ie=this.getBoxQuery(ye);return!de.includes(Ie.getId().toString())&&Ie.isAvailable()}}var P=e(73790),L=e(81503),F=e(14878),b=e(92574),x=e(16599),B=e(50292),M=e(62546),w=e(37452),K=e(70508),k=e(30828);function G(Ce,ye){if(1&Ce&&f._UZ(0,"sp-select-box-main-cell",6),2&Ce){const de=ye.rawTreeNode,Ie=f.oxw(2);f.Q6J("onlyFavouriteBoxes",Ie.anyFiltersActive)("boxWithHierarchy",de)}}function $(Ce,ye){1&Ce&&f._UZ(0,"sp-select-box-structure-favourite-cell",8),2&Ce&&f.Q6J("boxWithHierarchy",ye.rawTreeNode)}function X(Ce,ye){1&Ce&&(f.TgZ(0,"sp-tree-column",7),f.YNc(1,$,1,1,"ng-template"),f.qZA()),2&Ce&&f.Q6J("cssClass","sp-justify-center")}function ie(Ce,ye){if(1&Ce&&(f.TgZ(0,"sp-treegrid",3),f.TgZ(1,"sp-tree-column-collection"),f.TgZ(2,"sp-tree-column",4),f.YNc(3,G,1,2,"ng-template"),f.qZA(),f.YNc(4,X,2,1,"sp-tree-column",5),f.qZA(),f.qZA()),2&Ce){const de=f.oxw();f.Q6J("treeId",de.treeId.toString())("config",de.treeConfig)("markedNodeId",de.contextBoxId.toString())("nodes",de.boxes),f.xp6(2),f.Q6J("treeExpand",!de.anyFiltersActive),f.xp6(2),f.Q6J("ngIf",null==de.selectBoxConfig?null:de.selectBoxConfig.getShowFavouriteColumn())}}function se(Ce,ye){1&Ce&&f._UZ(0,"div",9)}function pe(Ce,ye){if(1&Ce&&(f.TgZ(0,"div",10),f.TgZ(1,"span"),f._uU(2),f.ALo(3,"spL10nText"),f.qZA(),f.qZA()),2&Ce){const de=f.oxw();f.xp6(2),f.Oqu(f.lcZ(3,1,de.noResultMessageText))}}let ve=(()=>{class Ce extends M.H{constructor(de,Ie,He,Ve,Ue,xe,gt,tt,lt,Mt,ne,De,Ye,Qe){super(de,Ie),this.changeDetectorRef=He,this.boxHierarchyService=Ve,this.treeNodeIndicator=Ue,this.structureShortcutsController=xe,this.selectBoxConfigStorage=gt,this.selectedBoxIdStorage=tt,this.hierarchyObserverId=lt,this.boxAggregateEventService=Mt,this.boxSecurityResolver=ne,this.treeCommandService=De,this.selectBoxLocalStorageService=Ye,this.treeInitialized=!1,this.boxHierarchyLoading=!1,this.noResultMessageText="",Qe.initTreeConfig(),this.treeConfig=Qe.getConfig(),this.treeId=new F.H(Qe.getId()),this.contextBoxId=this.selectedBoxIdStorage.get()}ngOnInit(){this.observeSelectBoxConfig(),this.observeBoxHierarchy()}finalize(){this.structureShortcutsController.destroyShortcuts(),this.treeNodeIndicator.unSelectBox()}getHostClasses(){return["sp-select-box-structure"]}observeBoxHierarchy(){this.boxHierarchyService.selectRootBoxWithHierarchy(this.hierarchyObserverId).pipe(this.takeUntilDestroy()).subscribe(de=>{this.setBoxes(de)})}setBoxes(de){const Ie=!!de;this.anyFiltersActive=this.boxHierarchyService.areFiltersActive(this.hierarchyObserverId),this.boxes=this.anyFiltersActive?de?this.getFlatListOfNodes(de):[]:[de],this.changeDetectorRef.detectChanges(),this.resolveTreeInitialization(Ie),this.changeLayout(),Ie&&this.treeNodeIndicator.indicateBox()}observeSelectBoxConfig(){this.selectBoxConfigStorage.select().pipe(this.takeUntilDestroy()).subscribe(de=>{this.selectBoxConfig=de,this.treeConfig=this.treeConfig.withTreeLayout(de.getDropdownLayout()),this.treeConfig=this.treeConfig.withNodesCssClassResolver(new I(this.boxSecurityResolver,de)),this.changeDetectorRef.detectChanges()})}resolveTreeInitialization(de){de&&!this.treeInitialized?(this.treeInitialized=!0,this.changeDetectorRef.detectChanges(),this.structureShortcutsController.initShortcuts(this.treeRef.getAggregateTreeId()),this.treeNodeIndicator.setTreeRef(this.treeRef)):de||(this.structureShortcutsController.destroyShortcuts(),this.treeNodeIndicator.unSelectBox(),this.treeInitialized=!1,this.noResultMessageText=this.createNoResultMessage(),this.changeDetectorRef.detectChanges())}changeLayout(){const de=this.selectBoxConfigStorage.get();this.anyFiltersActive&&de.getRowBreadcrumbInFlatMode()?this.treeCommandService.setLayout(this.treeId,B.A.WIDE):de.getRowBreadcrumbInFlatMode()&&this.treeCommandService.setLayout(this.treeId,de.getDropdownLayout())}getFlatListOfNodes(de){const Ie=de.getChildren();let He=[];if(Ie.forEach(Ve=>{He=[...He,...this.getFlatListOfNodes(Ve)]}),de.isMatchingFilter()){const Ve=de.copyWithoutChildren();Ve.expand(),He=[Ve,...He]}return He.filter(Ve=>Ve.isMatchingFilter())}createNoResultMessage(){return this.selectBoxLocalStorageService.isOnlyFavouriteFilterActive()?"SPT_SELECT_BOX_NO_FAVOURITE_BOXES_MESSAGE":"SPT_SELECT_BOX_NO_RESULTS_MESSAGE"}}return Ce.\u0275fac=function(de){return new(de||Ce)(f.Y36(f.SBq),f.Y36(f.Qsj),f.Y36(f.sBO),f.Y36(m.T),f.Y36(C.X),f.Y36(v),f.Y36(s.D),f.Y36(i.X),f.Y36(w.p),f.Y36(K.R),f.Y36(k.h),f.Y36(p.z),f.Y36(T.s),f.Y36(E.c))},Ce.\u0275cmp=f.Xpm({type:Ce,selectors:[["sp-select-box-structure"]],viewQuery:function(de,Ie){if(1&de&&f.Gf(b.l,5),2&de){let He;f.iGM(He=f.CRH())&&(Ie.treeRef=He.first)}},features:[f._Bn([x.R,{provide:L.o,useValue:P.c.TEMPLATE},v]),f.qOj],decls:4,vars:3,consts:[[3,"treeId","config","markedNodeId","nodes",4,"ngIf","ngIfElse"],["class","sp-tree-grid-section-gradient sp-absolute sp-bottom-0 sp-w-full",4,"ngIf"],["noResultsMessage",""],[3,"treeId","config","markedNodeId","nodes"],["flex","1 1 90%",3,"treeExpand"],["flex","0 0 52px",3,"cssClass",4,"ngIf"],[3,"onlyFavouriteBoxes","boxWithHierarchy"],["flex","0 0 52px",3,"cssClass"],[3,"boxWithHierarchy"],[1,"sp-tree-grid-section-gradient","sp-absolute","sp-bottom-0","sp-w-full"],[1,"sp-no-results-message","sp-p-4"]],template:function(de,Ie){if(1&de&&(f.YNc(0,ie,5,6,"sp-treegrid",0),f.YNc(1,se,1,0,"div",1),f.YNc(2,pe,4,3,"ng-template",null,2,f.W1O)),2&de){const He=f.MAs(3);f.Q6J("ngIf",Ie.treeInitialized)("ngIfElse",He),f.xp6(1),f.Q6J("ngIf",Ie.treeInitialized)}},styles:[".sp-select-box-structure{display:block;height:368px}.sp-select-box-structure .sp-tree-grid-section-gradient{height:4px;background:linear-gradient(180deg,rgba(255,255,255,0) 0%,var(--white) 100%)}.sp-select-box-structure .sp-no-results-message{color:var(--gray-50)}\n"],encapsulation:2,changeDetection:0}),Ce})()},39686:(S,g,e)=>{"use strict";e.d(g,{c:()=>h});var t=e(21992),n=e(90377),s=e(29186),i=e(17483),r=e(60508),a=e(30684),o=e(84046),d=e(25673);let h=(()=>{class p{constructor(m,v){this.boxHierarchyService=m,this.selectedBoxIdStorage=v,this.TREE_GRID_ITEM_SELECTION_MODE=r.M.ONE,this.TREE_GRID_ID="sp-box-switcher-tree",this.ADDITIONAL_ITEMS_IN_VIEWPORT=1,this.SCROLL_DEBOUNCE_TIME=0,this.initViewportRenderConfig()}getId(){return this.TREE_GRID_ID}getItemSelectionMode(){return this.TREE_GRID_ITEM_SELECTION_MODE}getConfig(){return this.treeConfig}initTreeConfig(){const m=this.selectedBoxIdStorage.get();this.boxHierarchyService.getBoxWithHierarchyById(m).ifPresent(E=>{const C=[...(0,n.Xw)(E).map(T=>T.toString()),m.toString()];this.treeConfig=s.Z.default().withColumnHeaders(!1).withColumnResize(!1).withContentScroll(!0).withSelectNode(!0).withExpandedNodeIds(C).withNodesExpandedAtStart(!1).withExpandedStoredInLS(!1).withViewportRender(this.viewPortRenderConfig).withTreeRowHierarchyStrategy(a.N.CHEVRON_WITH_LINES).withBottomGradient()})}initViewportRenderConfig(){this.viewPortRenderConfig=i.t.default().withViewPortRender(!0).withScrollDebounceTime(this.SCROLL_DEBOUNCE_TIME).withAdditionalTasksOnViewport(this.ADDITIONAL_ITEMS_IN_VIEWPORT)}}return p.\u0275fac=function(m){return new(m||p)(o.LFG(d.T),o.LFG(t.X))},p.\u0275prov=o.Yz7({token:p,factory:p.\u0275fac}),p})()},8739:(S,g,e)=>{"use strict";e.d(g,{X:()=>h});var t=e(11206),n=e(21992),s=e(39686),i=e(18300),r=e(67761),a=e(34826),o=e(80064),d=e(84046);let h=(()=>{class p{constructor(m,v,E,C,T,y){this.treeCommandService=m,this.treeConfigAccessor=v,this.treeQueryService=E,this.selectedBoxIdStorage=C,this.boxSwitcherLocalStorageService=T,this.selectedItemsRepository=y,this.canIndicate=!0}setTreeRef(m){this.treeRef=m}notIndicateNodeNextTime(){this.canIndicate=!1}indicateBox(){const m=this.treeRef.tree.getFlatListOfNodes();m.length&&this.canIndicate?this.boxSwitcherLocalStorageService.isFilteringOptionsClear()?this.indicateContextBox():this.indicateFirstBox(m):this.canIndicate=!0}unSelectBox(){var m;const v=null===(m=this.treeRef)||void 0===m?void 0:m.getAggregateTreeId();v&&this.treeCommandService.unselectItems(v)}indicateContextBox(){const m=this.treeRef.getAggregateTreeId(),v=this.selectedBoxIdStorage.get();this.selectBox(v,m),this.treeCommandService.snipe(m,v.toString())}indicateFirstBox(m){const v=this.treeRef.getAggregateTreeId();this.treeRef.treeRowContainer.nativeElement.scrollTop=0;const E=new t.A(m[0].getId());this.selectBox(E,v)}selectBox(m,v){this.selectedItemsRepository.getIds(v).pop()!==m.toString()&&this.treeCommandService.toggleItemSelection(v,m.toString(),this.treeConfigAccessor.getItemSelectionMode())}}return p.\u0275fac=function(m){return new(m||p)(d.LFG(o.z),d.LFG(s.c),d.LFG(a.p),d.LFG(n.X),d.LFG(i.s),d.LFG(r.G))},p.\u0275prov=d.Yz7({token:p,factory:p.\u0275fac}),p})()},36799:(S,g,e)=>{"use strict";e.d(g,{D:()=>s});var t=e(27609),n=e(84046);let s=(()=>{class i extends t.V{constructor(){super()}}return i.\u0275fac=function(a){return new(a||i)},i.\u0275prov=n.Yz7({token:i,factory:i.\u0275fac}),i})()},65906:(S,g,e)=>{"use strict";e.d(g,{O:()=>s});var t=e(27609),n=e(84046);let s=(()=>{class i extends t.V{constructor(){super()}}return i.\u0275fac=function(a){return new(a||i)},i.\u0275prov=n.Yz7({token:i,factory:i.\u0275fac}),i})()},83262:(S,g,e)=>{"use strict";e.d(g,{K:()=>i});var t=e(59058),n=e(27609),s=e(84046);let i=(()=>{class r extends n.V{constructor(){super(t.Y)}}return r.\u0275fac=function(o){return new(o||r)},r.\u0275prov=s.Yz7({token:r,factory:r.\u0275fac}),r})()},79403:(S,g,e)=>{"use strict";e.d(g,{X:()=>s});var t=e(27609),n=e(84046);let s=(()=>{class i extends t.V{constructor(){super()}}return i.\u0275fac=function(a){return new(a||i)},i.\u0275prov=n.Yz7({token:i,factory:i.\u0275fac}),i})()},59058:(S,g,e)=>{"use strict";e.d(g,{Y:()=>t});const t={onlyFavouriteBoxes:!1,text:""}},18300:(S,g,e)=>{"use strict";e.d(g,{s:()=>o});var t=e(79403),n=e(59058),s=e(83262),i=e(9933),r=e(84046),a=e(83950);let o=(()=>{class d{constructor(p,f,m,v){this.localStorage=p,this.settingsStorage=f,this.selectBoxIdStorage=m,this.EMPTY_STRING="";const E=this.selectBoxIdStorage.get();this.SELECT_BOX_STORAGE_KEY=`select-box-${E}-settings-user-${v.getLoggedInUser().userKey}`,this.init()}getFavouriteBoxesValue(){return this.getSettings().onlyFavouriteBoxes}setFavouriteBoxesValue(p){this.updateSettings(Object.assign(Object.assign({},this.getSettings()),{onlyFavouriteBoxes:p}))}getBoxSize(){return this.getSettings().boxSize}setBoxSize(p){this.updateSettings(Object.assign(Object.assign({},this.getSettings()),{boxSize:p}))}setTextValue(p){this.updateSettings(Object.assign(Object.assign({},this.getSettings()),{text:p}))}isFilteringOptionsClear(){const p=this.getSettings();return!(p&&(p.text||p.onlyFavouriteBoxes))}isOnlyFavouriteFilterActive(){const p=this.getSettings();return!(null==p?void 0:p.text)&&(null==p?void 0:p.onlyFavouriteBoxes)}init(){const p={text:this.EMPTY_STRING},f=this.localStorage.getObject(this.SELECT_BOX_STORAGE_KEY)||n.Y;this.settingsStorage.set(Object.assign(Object.assign({},f),p))}getSettings(){return this.settingsStorage.get()}updateSettings(p){this.localStorage.setObject(this.SELECT_BOX_STORAGE_KEY,p),this.settingsStorage.set(p)}}return d.\u0275fac=function(p){return new(p||d)(r.LFG(i.m),r.LFG(s.K),r.LFG(t.X),r.LFG(a.L))},d.\u0275prov=r.Yz7({token:d,factory:d.\u0275fac}),d})()},21992:(S,g,e)=>{"use strict";e.d(g,{X:()=>s});var t=e(27609),n=e(84046);let s=(()=>{class i extends t.V{constructor(){super()}}return i.\u0275fac=function(a){return new(a||i)},i.\u0275prov=n.Yz7({token:i,factory:i.\u0275fac}),i})()},18982:(S,g,e)=>{"use strict";e.d(g,{n:()=>y});var t=e(84046),n=e(19327),s=e(69047),i=e(86495),r=e(55688),a=e(82613),o=e(62546),d=e(2196),h=e(25673),p=e(92463);function f(I,P){if(1&I&&(t.ynx(0),t._UZ(1,"sp-box-switcher-icon",3),t.TgZ(2,"sp-box-switcher-main-view",4),t.ynx(3,5),t.Hsn(4),t.BQk(),t.qZA(),t.BQk()),2&I){const L=t.oxw(2);t.xp6(1),t.Q6J("contextBox",L.boxQuery),t.xp6(1),t.Q6J("selectBoxId",L.getSelectBoxId())("moduleType",L.moduleType)("syncBoxesOnDropdownOpen",L.syncBoxesOnDropdownOpen)}}function m(I,P){1&I&&t._UZ(0,"sp-box-switcher-product-metadata-visualisation")}function v(I,P){if(1&I&&(t.ynx(0),t.YNc(1,f,5,4,"ng-container",0),t.YNc(2,m,1,0,"ng-template",null,2,t.W1O),t.BQk()),2&I){const L=t.MAs(3),F=t.oxw();t.xp6(1),t.Q6J("ngIf",F.boxQuery)("ngIfElse",L)}}function E(I,P){1&I&&(t.TgZ(0,"div",6),t.TgZ(1,"div",7),t.TgZ(2,"div",8),t._UZ(3,"div",9),t.qZA(),t.qZA(),t.TgZ(4,"div",10),t.TgZ(5,"div",11),t.TgZ(6,"div",8),t._UZ(7,"div",9),t.qZA(),t.qZA(),t.TgZ(8,"div",12),t.TgZ(9,"div",8),t._UZ(10,"div",9),t.qZA(),t.qZA(),t.qZA(),t.qZA())}const C=[[["","sp-next-to-select-box",""]]],T=["[sp-next-to-select-box]"];let y=(()=>{class I extends o.H{constructor(L,F,b,x,B,M,w){super(L,F),this.changeDetectorRef=b,this.boxAggregateCommandService=x,this.boxHierarchyService=B,this.shortcutsService=M,this.selectBoxService=w,this.loaded=new t.vpe,this.SHORTCUTS_GROUP_NAME=s.x.NAVIGATION,this.shortcutGroup=this.shortcutsService.createGroup(this.SHORTCUTS_GROUP_NAME,{groupColor:n.B.LIGHT_BLUE}),this.initBoxSwitcherShortcuts()}ngOnInit(){this.observeContextBox()}finalize(){this.shortcutsService.removeShortcutGroup(this.shortcutGroup)}getSelectBoxId(){return I.SELECT_BOX_ID}getHostClasses(){return["sp-box-switcher","sp-flex","sp-items-center","sp-w-full"]}observeContextBox(){this.boxHierarchyService.selectContextBox().pipe(this.takeUntilDestroy()).subscribe(L=>{this.boxHierarchyLoaded=!0,this.boxQuery=L,this.loaded.emit(),this.changeDetectorRef.detectChanges()})}initBoxSwitcherShortcuts(){this.shortcutsService.createContainer("Open Box Switcher",this.shortcutGroup).add(new r.z(i.s.K,()=>this.selectBoxService.openDropdown(I.SELECT_BOX_ID)).withModifier(i.s.SHIFT))}}return I.SELECT_BOX_ID="box-switcher",I.\u0275fac=function(L){return new(L||I)(t.Y36(t.SBq),t.Y36(t.Qsj),t.Y36(t.sBO),t.Y36(d.N),t.Y36(h.T),t.Y36(a.L),t.Y36(p.e))},I.\u0275cmp=t.Xpm({type:I,selectors:[["sp-box-switcher"]],inputs:{moduleType:"moduleType",syncBoxesOnDropdownOpen:"syncBoxesOnDropdownOpen"},outputs:{loaded:"loaded"},features:[t.qOj],ngContentSelectors:T,decls:3,vars:2,consts:[[4,"ngIf","ngIfElse"],["loading",""],["blockedSwitcher",""],["id","sp-box-switcher-icon",1,"sp-box-switcher__icon","sp-mr-2","sp-flex-shrink-0",3,"contextBox"],["id","sp-box-switcher-main-view",1,"sp-dropdown-btn",3,"selectBoxId","moduleType","syncBoxesOnDropdownOpen"],["sp-next-to-select-box",""],[1,"header-placeholder__top","sp-flex","sp-flex","sp-py-2","sp-items-center"],[1,"header-placeholder__item","sp-overflow-hidden","header-placeholder__item--is-dark","header-placeholder__top-circle","sp-circle","sp-mr-2"],[1,"loading","sp-flex","sp-items-center","sp-w-full","sp-h-full","sp-overflow-hidden"],[1,"loading__loader"],[1,""],[1,"header-placeholder__item","sp-overflow-hidden","header-placeholder__top--short","sp-mb-1"],[1,"header-placeholder__item","sp-overflow-hidden","header-placeholder__item--is-dark","header-placeholder__top--long"]],template:function(L,F){if(1&L&&(t.F$t(C),t.YNc(0,v,4,2,"ng-container",0),t.YNc(1,E,11,0,"ng-template",null,1,t.W1O)),2&L){const b=t.MAs(2);t.Q6J("ngIf",F.boxHierarchyLoaded)("ngIfElse",b)}},styles:[".sp-box-switcher{min-height:64px}\n"],encapsulation:2,changeDetection:0}),I})()},77062:(S,g,e)=>{"use strict";e.d(g,{q:()=>Vn});var t=e(55331),n=e(82055),s=e(41001),i=e(26799),r=e(18982),a=e(49343),o=e(84046),d=e(6248),h=e(24977),p=e(90850),f=e(63833),m=e(35811),v=e(7845),E=e(62546),C=e(2196),T=e(4909),y=e(30828),I=e(30713),P=e(84027),L=e(49549),F=e(97433),b=e(69001);function x(rt,an){if(1&rt&&(o.TgZ(0,"sp-circle-loader",2),o.Hsn(1),o.qZA()),2&rt){const We=o.oxw();o.Q6J("configuration",We.circleLoaderConfiguration)}}function B(rt,an){1&rt&&o._UZ(0,"i",3)}const M=["*"];let w=(()=>{class rt extends E.H{constructor(We,Gt){super(We,Gt),this.isComplete=!1,this.completeDelay=rt.DEFAULT_COMPLETE_DELAY_TIMER,this.animationComplete=new o.vpe}ngOnChanges(We){We.isComplete&&this.setView()}ngOnInit(){this.setCircleLoaderConfiguration()}getHostClasses(){return["sp-circle-counter-loader","sp-relative","sp-flex","sp-items-center","sp-justify-center","sp-circle","sp-cursor-pointer","sp-bg-gray-0","sp-dark:bg-gray-10"]}setView(){this.isComplete?this.showCompleteView():this.showSyncingView()}showCompleteView(){this.domManipulator.addHostClass(rt.SUCCESS_CLASS),this.completeDelay$=(0,L.H)(this.completeDelay).pipe(this.takeUntilDestroy()).subscribe(()=>{this.resetCompleteDelay(),this.animationComplete.next()})}showSyncingView(){this.completeDelay$&&this.resetCompleteDelay(),this.domManipulator.removeHostClass(rt.SUCCESS_CLASS)}resetCompleteDelay(){this.completeDelay$.unsubscribe(),this.completeDelay$=null}setCircleLoaderConfiguration(){this.circleLoaderConfiguration=(new F.y.Builder).withDefaultSize(!1).withStrokeColor("var(--purple-50)").withStrokeWidth(rt.STROKE_WIDTH).build()}}return rt.DEFAULT_COMPLETE_DELAY_TIMER=4e3,rt.SUCCESS_CLASS="sp-circle-counter-loader--success",rt.STROKE_WIDTH=4,rt.\u0275fac=function(We){return new(We||rt)(o.Y36(o.SBq),o.Y36(o.Qsj))},rt.\u0275cmp=o.Xpm({type:rt,selectors:[["sp-circle-complete-loader"]],inputs:{isComplete:"isComplete",completeDelay:"completeDelay"},outputs:{animationComplete:"animationComplete"},features:[o.qOj,o.TTD],ngContentSelectors:M,decls:3,vars:2,consts:[["class","sp-w-full sp-h-full",3,"configuration",4,"ngIf","ngIfElse"],["completeIcon",""],[1,"sp-w-full","sp-h-full",3,"configuration"],["id","sp-circle-counter-loader-success-icon",1,"fa","fa-check","sp-circle-counter-loader__success-icon","sp-text-success","sp-h1"]],template:function(We,Gt){if(1&We&&(o.F$t(),o.YNc(0,x,2,1,"sp-circle-loader",0),o.YNc(1,B,1,0,"ng-template",null,1,o.W1O)),2&We){const _n=o.MAs(2);o.Q6J("ngIf",!Gt.isComplete)("ngIfElse",_n)}},directives:[t.O5,b._],styles:[".sp-circle-counter-loader{transition-property:opacity,background-color,box-shadow;transition-duration:.6s;transition-timing-function:ease-in-out;animation:host-fade-in .6s ease-in-out}.sp-circle-counter-loader__success-icon{animation:icon-fade-in .6s ease-in-out}.sp-circle-counter-loader--success{box-shadow:0 0 5px var(--lime-green-100);background-color:var(--lime-green-subtle);cursor:default}@keyframes icon-fade-in{0%{opacity:0;transform:scale(0)}to{opacity:1;transform:scale(1)}}@keyframes host-fade-in{0%{opacity:0}to{opacity:1}}\n"],encapsulation:2,changeDetection:0}),rt})();var K=e(68890),k=e(88768),G=e(18217);const $=["syncLoader"],X=["refreshLoader"];function ie(rt,an){if(1&rt&&o._UZ(0,"sp-colored-icon",4),2&rt){const We=o.oxw();o.Q6J("coloredIcon",We.icon)}}function se(rt,an){if(1&rt){const We=o.EpF();o.TgZ(0,"sp-circle-complete-loader",5,6),o.NdJ("animationComplete",function(){return o.CHM(We),o.oxw().onSyncAnimationComplete()})("click",function(){return o.CHM(We),o.oxw().onLoaderClick()}),o.ALo(2,"spRichTextI18n"),o._UZ(3,"sp-digital-counter",7),o.qZA()}if(2&rt){const We=o.oxw();o.ekj("sp-opacity-0",We.isSyncLoaderFadeIn),o.Q6J("isComplete",We.syncStatus===We.SYNC_PROGRESS_STATUS_TYPE.COMPLETE)("spTooltip",o.lcZ(2,6,We.tooltipSyncingMap[We.syncStatus])),o.xp6(3),o.Q6J("counterColor",We.digitalCounterColor)("value",We.syncProgress)}}function pe(rt,an){if(1&rt){const We=o.EpF();o.TgZ(0,"sp-circle-complete-loader",8,9),o.NdJ("animationComplete",function(){return o.CHM(We),o.oxw().onRefreshAnimationComplete()}),o.ALo(2,"spRichTextI18n"),o._UZ(3,"i",10),o.qZA()}if(2&rt){const We=o.oxw();o.ekj("sp-opacity-0",We.isRefreshLoaderFadeIn),o.Q6J("isComplete",We.completeRefreshLoader)("spTooltipEnabled",!!We.refreshLoaderTooltipText)("spTooltip",o.lcZ(2,5,We.refreshLoaderTooltipText))}}function ve(rt,an){if(1&rt){const We=o.EpF();o.TgZ(0,"i",11),o.NdJ("click",function(){o.CHM(We);const _n=o.oxw();return _n.toggleFavourite(!_n.markedAsFavourite)}),o.qZA()}if(2&rt){const We=o.oxw();o.ekj("sp-text-yellow-200",We.markedAsFavourite)("sp-dark:text-yellow-200",We.markedAsFavourite)("sp-cursor-not-allowed",We.contextBox.isArchived())}}let Ce=(()=>{class rt extends E.H{constructor(We,Gt,_n,ao,go,_o,vo,Oo,Po){super(We,Gt),this.changeDetectorRef=_n,this.boxAggregateCommandService=ao,this.boxApplicationBarLoaderService=go,this.boxSecurityResolver=_o,this.scopeSyncRepository=vo,this.scopeSyncService=Oo,this.boxSwitcherRefreshLoaderVisibilityService=Po,this.digitalCounterColor="var(--purple-300)",this.SYNC_PROGRESS_STATUS_TYPE=d.g,this.tooltipSyncingMap={[d.g.SYNCING]:"SPT_BOX_CORE_SWITCHER_LOADER_SYNCING",[d.g.COMPLETE]:"SPT_BOX_CORE_SWITCHER_LOADER_COMPLETE"},this.isIconVisible=!1,this.isRefreshLoaderVisible=!1,this.completeRefreshLoader=!1,this.isRefreshLoaderFadeIn=!1,this.refreshLoaderFadeEnd$=new p.xQ,this.isSyncingLoaderVisible=!1,this.isSyncLoaderFadeIn=!1,this.isScopeSyncModuleAcceptsNewStrategy=!1,this.syncingLoaderFadeEnd$=new p.xQ,this.syncStatus=d.g.NOT_STARTED,this.syncProgress=0}ngOnChanges(We){We.contextBox&&this.initProperties()}ngOnInit(){this.observeSyncStatus(),this.observeSyncProgressStatus(),this.observeModuleNewStrategyAcceptance(),this.observeRefreshLoaderVisibility()}toggleFavourite(We){this.contextBox.isArchived()||(this.boxApplicationBarLoaderService.show(),(We?this.markFavouriteAsync():this.unmarkFavouriteAsync()).pipe((0,f.q)(1),this.takeUntilDestroy()).subscribe(()=>this.boxApplicationBarLoaderService.complete()))}onSyncAnimationComplete(){this.observeTransitionEndAfterSyncLoaderFadeIn(),this.resetSyncProgress(),this.startSyncLoaderFade(),this.showIcon(),this.changeDetectorRef.detectChanges()}onRefreshAnimationComplete(){this.observeOnTransitionEndAfterRefreshLoaderFadeIn(),this.startRefreshLoaderFade(),this.showIcon(),this.changeDetectorRef.detectChanges()}onLoaderClick(){this.syncStatus!==d.g.COMPLETE&&this.scopeSyncService.showModal()}getHostClasses(){return["sp-box-switcher__icon","sp-relative","sp-block","sp-w-12","sp-h-12"]}initProperties(){const We=this.contextBox.getBoxType(),Gt=this.boxSecurityResolver.canView(this.contextBox.getSecurity());this.boxId=this.contextBox.getId(),this.markedAsFavourite=this.contextBox.isFavourite(),this.icon=v.o.fromBuiltinIcon(this.contextBox.getIcon()),this.isFavouriteStarVisible=We.getEditableBoxAttributes().isFavourite&&Gt,this.changeDetectorRef.detectChanges()}observeSyncStatus(){this.scopeSyncRepository.selectStatus().pipe(this.takeUntilDestroy()).subscribe(We=>{this.syncStatus=We,this.syncStatus===d.g.NOT_STARTED?(this.hideSyncingLoader(),this.showIcon()):this.syncStatus===d.g.SYNCING&&(this.syncingLoaderFadeEnd$.next(),this.resetSyncLoaderFade(),this.showSyncingLoader(),this.hideIcon()),this.changeDetectorRef.detectChanges()})}observeSyncProgressStatus(){this.scopeSyncRepository.selectProgressStatus().pipe(this.takeUntilDestroy()).subscribe(We=>{this.syncProgress=We.progress,this.changeDetectorRef.detectChanges()})}observeModuleNewStrategyAcceptance(){this.scopeSyncService.selectModuleNewStrategyAcceptance().pipe(this.takeUntilDestroy()).subscribe(We=>{this.isScopeSyncModuleAcceptsNewStrategy=We,this.isScopeSyncModuleAcceptsNewStrategy||(this.hideSyncingLoader(),this.resetSyncLoaderFade(),this.resetSyncProgress(),this.showIcon()),this.changeDetectorRef.detectChanges()})}observeRefreshLoaderVisibility(){this.boxSwitcherRefreshLoaderVisibilityService.select().pipe(this.takeUntilDestroy()).subscribe(We=>{this.completeRefreshLoader=We.status===a.S.COMPLETE,We.status===a.S.NOT_STARTED?(this.hideRefreshLoader(),this.showIcon()):We.status===a.S.SYNCING&&(this.completeRefreshLoader=!1,this.refreshLoaderFadeEnd$.next(),this.resetRefreshLoaderFade(),this.showRefreshLoader(),this.hideIcon()),this.refreshLoaderTooltipText=null==We?void 0:We.tooltipText,this.changeDetectorRef.detectChanges()})}observeTransitionEndAfterSyncLoaderFadeIn(){this.domManipulator.listen(this.syncLoaderElement.nativeElement,"transitionend").pipe((0,m.R)(this.syncingLoaderFadeEnd$),this.takeUntilDestroy()).subscribe(()=>{this.resetSyncLoaderFade(),this.hideSyncingLoader(),this.changeDetectorRef.detectChanges()})}observeOnTransitionEndAfterRefreshLoaderFadeIn(){this.domManipulator.listen(this.refreshLoaderElement.nativeElement,"transitionend").pipe((0,m.R)(this.refreshLoaderFadeEnd$),this.takeUntilDestroy()).subscribe(()=>{this.resetRefreshLoaderFade(),this.hideRefreshLoader(),this.changeDetectorRef.detectChanges()})}unmarkFavouriteAsync(){return this.boxAggregateCommandService.unmarkFavouriteAsync(this.boxId)}markFavouriteAsync(){return this.boxAggregateCommandService.markAsFavouriteAsync(this.boxId)}resetSyncProgress(){this.syncProgress=0}startSyncLoaderFade(){this.isSyncLoaderFadeIn=!0}resetSyncLoaderFade(){this.isSyncLoaderFadeIn=!1}showSyncingLoader(){this.isSyncingLoaderVisible=!0}hideSyncingLoader(){this.isSyncingLoaderVisible=!1}showRefreshLoader(){this.isRefreshLoaderVisible=!0}hideRefreshLoader(){this.isRefreshLoaderVisible=!1}startRefreshLoaderFade(){this.isRefreshLoaderFadeIn=!0}resetRefreshLoaderFade(){this.isRefreshLoaderFadeIn=!1}showIcon(){this.isIconVisible=!0}hideIcon(){this.isIconVisible=!1}}return rt.\u0275fac=function(We){return new(We||rt)(o.Y36(o.SBq),o.Y36(o.Qsj),o.Y36(o.sBO),o.Y36(C.N),o.Y36(T.p),o.Y36(y.h),o.Y36(I.T),o.Y36(h.h),o.Y36(a.F))},rt.\u0275cmp=o.Xpm({type:rt,selectors:[["sp-box-switcher-icon"]],viewQuery:function(We,Gt){if(1&We&&(o.Gf($,5,o.SBq),o.Gf(X,5,o.SBq)),2&We){let _n;o.iGM(_n=o.CRH())&&(Gt.syncLoaderElement=_n.first),o.iGM(_n=o.CRH())&&(Gt.refreshLoaderElement=_n.first)}},inputs:{contextBox:"contextBox"},features:[o.qOj,o.TTD],decls:4,vars:4,consts:[["class","sp-text-2xl !sp-w-full !sp-h-full",3,"coloredIcon",4,"ngIf"],["class","sp-box-switcher__loader sp-absolute sp-top-0 sp-left-0 sp-w-full sp-h-full",3,"isComplete","spTooltip","sp-opacity-0","animationComplete","click",4,"ngIf"],["class","sp-box-switcher__loader sp-absolute sp-top-0 sp-left-0 sp-w-full sp-h-full",3,"isComplete","sp-opacity-0","spTooltipEnabled","spTooltip","animationComplete",4,"ngIf"],["class","sp-box-switcher__icon-star fa fa-star sp-absolute sp-text-xl sp-cursor-pointer sp-dark:text-gray-80 sp-text-gray-50",3,"sp-text-yellow-200","sp-dark:text-yellow-200","sp-cursor-not-allowed","click",4,"ngIf"],[1,"sp-text-2xl","!sp-w-full","!sp-h-full",3,"coloredIcon"],[1,"sp-box-switcher__loader","sp-absolute","sp-top-0","sp-left-0","sp-w-full","sp-h-full",3,"isComplete","spTooltip","animationComplete","click"],["syncLoader",""],[3,"counterColor","value"],[1,"sp-box-switcher__loader","sp-absolute","sp-top-0","sp-left-0","sp-w-full","sp-h-full",3,"isComplete","spTooltipEnabled","spTooltip","animationComplete"],["refreshLoader",""],[1,"fas","fa-sync","sp-text-violet-primary","sp-box-switcher__loader--icon"],[1,"sp-box-switcher__icon-star","fa","fa-star","sp-absolute","sp-text-xl","sp-cursor-pointer","sp-dark:text-gray-80","sp-text-gray-50",3,"click"]],template:function(We,Gt){1&We&&(o.YNc(0,ie,1,1,"sp-colored-icon",0),o.YNc(1,se,4,8,"sp-circle-complete-loader",1),o.YNc(2,pe,4,7,"sp-circle-complete-loader",2),o.YNc(3,ve,1,6,"i",3)),2&We&&(o.Q6J("ngIf",Gt.isIconVisible),o.xp6(1),o.Q6J("ngIf",Gt.isSyncingLoaderVisible),o.xp6(1),o.Q6J("ngIf",!Gt.isSyncingLoaderVisible&&Gt.isRefreshLoaderVisible),o.xp6(1),o.Q6J("ngIf",Gt.isFavouriteStarVisible))},directives:[t.O5,P.B,w,K.i9,k.Q],pipes:[G.d],styles:[".sp-box-switcher__icon-star{bottom:-2px;right:-2px;-webkit-text-stroke-width:2px;-webkit-text-stroke-color:var(--gray-0);z-index:1}\n"],encapsulation:2,changeDetection:0}),rt})();var ye=e(63187),de=e(77535),Ie=e(88004),He=e(45963),Ve=e(73455);let Ue=(()=>{class rt{constructor(We,Gt,_n){this.navigationLinkService=We,this.boxModuleType=Gt,this.boxSecurityResolver=_n,this.boxLinksMapper=new He.i(We)}resolve(We){this.contextBoxModuleType=this.boxModuleType.get();const Gt=We.getId(),_n=We.getModules();let ao;return ao=this.contextModuleTypeExistsInBoxModules(We)?this.contextBoxModuleType:_n.find(_o=>_o.isActive()).getType(),this.boxLinksMapper.getModuleNavigationLink(ao,Gt.toString())}contextModuleTypeExistsInBoxModules(We){const Gt=this.contextBoxModuleType,_n=We.getModules().find(ao=>ao.getType()===Gt&&ao.isActive());return!(_n&&_n.getType()===Ie._.CONFIGURATION&&!this.boxSecurityResolver.isModuleTypeConfigurationAvailable(We)||!_n)}}return rt.\u0275fac=function(We){return new(We||rt)(o.LFG(Ve.M),o.LFG(de.N),o.LFG(y.h))},rt.\u0275prov=o.Yz7({token:rt,factory:rt.\u0275fac}),rt})();var xe=e(39579),gt=e(70822),tt=e(28663),lt=e(19327),Mt=e(43070),ne=e(95900),De=e(25673),Ye=e(61631);function Qe(rt,an){1&rt&&(o.TgZ(0,"sp-lozenge",9),o._uU(1),o.ALo(2,"spL10nText"),o.qZA()),2&rt&&(o.xp6(1),o.hij(" ",o.lcZ(2,1,"SPT_BOX_CORE_BOX_ARCHIVED_LOZENGE")," "))}function Ke(rt,an){1&rt&&(o._UZ(0,"i",10),o.ALo(1,"spRichTextI18n")),2&rt&&o.Q6J("spTooltip",o.lcZ(1,1,"SPT_BOX_CORE_SWITCHER_MAIN_VIEW_SYNCING_ICON"))}function it(rt,an){if(1&rt&&(o.TgZ(0,"span",11),o.ALo(1,"spRichTextI18n"),o._UZ(2,"i",12),o.qZA()),2&rt){const We=o.oxw();o.Q6J("spTooltipGravity",We.gravity.NORTH)("spTooltip",o.lcZ(1,2,"SPT_OVERVIEW_KANBAN_BON_BOX_ICON_READONLY_TOOLTIP"))}}function Se(rt,an){if(1&rt){const We=o.EpF();o.TgZ(0,"sp-select-box",13),o.NdJ("dropdownOpened",function(){return o.CHM(We),o.oxw().onSelectBoxDropdownOpened()})("favouritePending",function(_n){return o.CHM(We),o.oxw().toggleBarLoader(_n)}),o.qZA()}if(2&rt){const We=o.oxw();o.Q6J("selectId",We.selectBoxId)("selectedBoxId",We.boxQuery.getId())("config",We.selectBoxConfig)}}const Ct=[[["","sp-next-to-select-box",""]]],Lt=["[sp-next-to-select-box]"];let Vt=(()=>{class rt extends E.H{constructor(We,Gt,_n,ao,go,_o,vo,Oo,Po,Bo,Fo,si){super(We,Gt),this.changeDetectorRef=_n,this.lozengeTypeConverter=ao,this.statusIndicatorService=go,this.boxSwitcherNavigationLinkResolver=_o,this.boxHierarchyService=vo,this.boxSecurityResolver=Oo,this.boxHierarchyCommandService=Po,this.scopeSyncRepository=Bo,this.scopeSyncService=Fo,this.boxApplicationBarLoaderService=si,this.boxClicked=new o.vpe,this.SYNC_PROGRESS_STATUS_TYPE=d.g,this.gravity=ne.X,this.copyIconVisible=!1,this.isScopeSyncModuleAcceptsNewStrategy=!1,this.boxStatusMapper=new xe.I}ngOnInit(){this.observeContextBox(),this.observeSyncProgressStatus(),this.observeModuleNewStrategyAcceptance()}onSelectBoxDropdownOpened(){this.syncBoxesOnDropdownOpen&&this.boxHierarchyCommandService.sync()}toggleBarLoader(We){We?this.boxApplicationBarLoaderService.show():this.boxApplicationBarLoaderService.complete()}getHostClasses(){return["sp-box-switcher-main-view","sp-border-rounded","sp-overflow-hidden"]}observeModuleNewStrategyAcceptance(){this.scopeSyncService.selectModuleNewStrategyAcceptance().pipe(this.takeUntilDestroy()).subscribe(We=>{this.isScopeSyncModuleAcceptsNewStrategy=We,this.changeDetectorRef.detectChanges()})}observeSyncProgressStatus(){this.scopeSyncRepository.selectStatus().pipe(this.takeUntilDestroy()).subscribe(We=>{this.scopeSyncStatus=We,this.changeDetectorRef.detectChanges()})}observeContextBox(){this.boxHierarchyService.selectContextBox().pipe((0,gt.h)(We=>!!We),this.takeUntilDestroy()).subscribe(We=>{this.boxQuery=We,this.initProperties(),this.changeDetectorRef.detectChanges()})}initProperties(){const We=this.boxQuery.getStatus();this.boxStatusName=this.boxStatusMapper.toStatusUppercase(We),this.lozengeColor=this.boxStatusMapper.toStatusColor(We),this.boxIconColor=lt.B[this.boxQuery.getIcon().builtinColor.value],this.boxId=this.boxQuery.getId().toString(),this.boxName=this.boxQuery.getName().value,this.selectBoxConfig=(new ye.L.Builder).withShowDropdownOpenIndicator(!0).withDropdownOpenIndicatorColor(this.boxIconColor).withShowFavouriteColumn(!0).withDropdownMinHeight(rt.SELECT_BOX_DROPDOWN_HEIGHT).withDropdownMinWidth(rt.SELECT_BOX_DROPDOWN_WIDTH).withFiltersStoredInLS(!0).withDropdownResize(!0).withDestroyDropdownAfterSelect(!0).withRowBreadcrumbInFlatMode(!0).withNavigationLinkResolver(Gt=>{const _n=this.boxHierarchyService.getBoxById(Gt);return this.boxSwitcherNavigationLinkResolver.resolve(_n)}).build(),this.readonlyIconVisible=this.boxSecurityResolver.isReadOnly(this.boxQuery.getSecurity())}}return rt.SELECT_BOX_DROPDOWN_HEIGHT=368,rt.SELECT_BOX_DROPDOWN_WIDTH=600,rt.\u0275fac=function(We){return new(We||rt)(o.Y36(o.SBq),o.Y36(o.Qsj),o.Y36(o.sBO),o.Y36(Mt.L),o.Y36(tt.N),o.Y36(Ue),o.Y36(De.T),o.Y36(y.h),o.Y36(Ye.Z),o.Y36(I.T),o.Y36(h.h),o.Y36(T.p))},rt.\u0275cmp=o.Xpm({type:rt,selectors:[["sp-box-switcher-main-view"]],inputs:{selectBoxId:"selectBoxId",moduleType:"moduleType",syncBoxesOnDropdownOpen:"syncBoxesOnDropdownOpen"},outputs:{boxClicked:"boxClicked"},features:[o._Bn([Ue]),o.qOj],ngContentSelectors:Lt,decls:11,vars:6,consts:[[1,"sp-box-switcher-icons-container","sp-mx-1","sp-mb-1","sp-flex","sp-items-center","sp-text-xs"],["id","sp-box-switcher-breadcrumb",1,"sp-mr-2"],["id","sp-box-switcher-lozenge","subtle","",1,"sp-ml-1",3,"color"],["class","sp-ml-1","id","sp-box-switcher-box-archived-lozenge","subtle","",4,"ngIf"],["class","fa fa-eye sp-box-switcher-main-view__sync-icon sp-text-gray-400 sp-text-s",3,"spTooltip",4,"ngIf"],[1,"sp-ml-2"],["class","sp-box-switcher-read-only-icon sp-ml-1",3,"spTooltipGravity","spTooltip",4,"ngIf"],[1,"sp-flex","sp-items-center","sp-box-switcher-view-container","sp-mb-1"],["class","sp-box-switcher-view-container__select-box",3,"selectId","selectedBoxId","config","dropdownOpened","favouritePending",4,"ngIf"],["id","sp-box-switcher-box-archived-lozenge","subtle","",1,"sp-ml-1"],[1,"fa","fa-eye","sp-box-switcher-main-view__sync-icon","sp-text-gray-400","sp-text-s",3,"spTooltip"],[1,"sp-box-switcher-read-only-icon","sp-ml-1",3,"spTooltipGravity","spTooltip"],[1,"fas","fa-eye"],[1,"sp-box-switcher-view-container__select-box",3,"selectId","selectedBoxId","config","dropdownOpened","favouritePending"]],template:function(We,Gt){1&We&&(o.F$t(Ct),o.TgZ(0,"div",0),o.TgZ(1,"sp-box-switcher-breadcrumb",1),o.TgZ(2,"sp-lozenge",2),o._uU(3),o.qZA(),o.YNc(4,Qe,3,3,"sp-lozenge",3),o.qZA(),o.YNc(5,Ke,2,3,"i",4),o._UZ(6,"sp-warning",5),o.YNc(7,it,3,4,"span",6),o.qZA(),o.TgZ(8,"div",7),o.YNc(9,Se,1,3,"sp-select-box",8),o.Hsn(10),o.qZA()),2&We&&(o.xp6(2),o.Q6J("color",null==Gt.lozengeColor?null:Gt.lozengeColor.colorName),o.xp6(1),o.hij(" ",Gt.boxStatusName," "),o.xp6(1),o.Q6J("ngIf",null==Gt.boxQuery?null:Gt.boxQuery.isArchived()),o.xp6(1),o.Q6J("ngIf",Gt.isScopeSyncModuleAcceptsNewStrategy&&Gt.scopeSyncStatus===Gt.SYNC_PROGRESS_STATUS_TYPE.SYNCING),o.xp6(2),o.Q6J("ngIf",Gt.readonlyIconVisible),o.xp6(2),o.Q6J("ngIf",Gt.boxQuery))},styles:[".sp-box-switcher-main-view{padding-top:10px}.sp-box-switcher-main-view__icons-container{color:var(--gray-100);width:-moz-fit-content;width:fit-content;line-height:1.25}.sp-box-switcher-main-view__icons-container .sp-copy-icon{opacity:0}.sp-box-switcher-main-view__icons-container .sp-copy-icon-visible{opacity:1}.sp-box-switcher-main-view__sync-icon{animation:sync-icon-fade-in .3s ease-in-out}.sp-box-switcher-main-view .sp-box-switcher-view-container__select-box{min-width:0}@keyframes sync-icon-fade-in{0%{opacity:0}to{opacity:1}}\n"],encapsulation:2,changeDetection:0}),rt})();var St=e(11206),$t=e(90377),yt=e(17176),Ft=e(15843),ot=e(70402),Me=e(26463),Ze=e(83063),Ne=e(94944),we=e(53623);function At(rt,an){if(1&rt&&(o.ynx(0),o.TgZ(1,"a",5),o.ALo(2,"spRichTextString"),o._UZ(3,"sp-icon",6),o.qZA(),o.BQk()),2&rt){const We=o.oxw(3);o.xp6(1),o.Q6J("spTooltipGravity",We.gravity.NORTH)("spTooltip",o.lcZ(2,3,We.rootBoxQuery.getName().value))("spNavigationLink",We.getNavigationLink(We.rootBoxQuery))}}function Rt(rt,an){1&rt&&o._UZ(0,"sp-icon",6)}function zt(rt,an){if(1&rt&&(o.ynx(0),o.YNc(1,At,4,5,"ng-container",3),o.YNc(2,Rt,1,0,"sp-icon",4),o.BQk()),2&rt){const We=o.oxw(2);o.xp6(1),o.Q6J("ngIf",!We.contextBoxQuery.getId().isRoot()),o.xp6(1),o.Q6J("ngIf",We.contextBoxQuery.getId().isRoot())}}function Yt(rt,an){if(1&rt&&(o.ynx(0),o.TgZ(1,"a",9),o.ALo(2,"spRichTextString"),o._uU(3),o.ALo(4,"truncate"),o.qZA(),o.BQk()),2&rt){const We=o.oxw(3).item,Gt=o.oxw();o.xp6(1),o.Q6J("spTooltipEnabled",!0)("spTooltipGravity",Gt.gravity.NORTH)("spTooltip",o.lcZ(2,5,We.data.getId().toString()+" "+We.data.getName().value))("spNavigationLink",Gt.getNavigationLink(We.data)),o.xp6(2),o.hij(" ",o.xi3(4,7,We.data.getName().value,Gt.breadcrumbTextLength)," ")}}function ln(rt,an){if(1&rt&&(o.TgZ(0,"span",10),o.ALo(1,"spRichTextString"),o._uU(2),o.ALo(3,"truncate"),o.qZA()),2&rt){const We=o.oxw(3).item,Gt=o.oxw();o.Q6J("spTooltipGravity",Gt.gravity.NORTH)("spTooltip",o.lcZ(1,3,We.data.getId().toString()+" "+We.data.getName().value)),o.xp6(2),o.hij(" ",o.xi3(3,5,We.data.getName().value,Gt.breadcrumbTextLength)," ")}}function pn(rt,an){if(1&rt&&(o.ynx(0),o.YNc(1,Yt,5,10,"ng-container",1),o.YNc(2,ln,4,8,"ng-template",null,8,o.W1O),o.BQk()),2&rt){const We=o.MAs(3),Gt=o.oxw(2).item;o.xp6(1),o.Q6J("ngIf",Gt.data.isAvailable())("ngIfElse",We)}}function nn(rt,an){if(1&rt&&(o.TgZ(0,"span",11),o._uU(1),o.qZA()),2&rt){const We=o.oxw(2).item;o.xp6(1),o.Oqu(We.data.getId().toString())}}function hn(rt,an){if(1&rt&&(o.YNc(0,pn,4,2,"ng-container",3),o.YNc(1,nn,2,1,"span",7)),2&rt){const We=o.oxw().isLast;o.Q6J("ngIf",!We),o.xp6(1),o.Q6J("ngIf",We)}}function xt(rt,an){if(1&rt&&(o.YNc(0,zt,3,2,"ng-container",1),o.YNc(1,hn,2,2,"ng-template",null,2,o.W1O)),2&rt){const We=an.isFirst,Gt=o.MAs(2),_n=o.oxw();o.Q6J("ngIf",We&&_n.homeIconVisible)("ngIfElse",Gt)}}const Zt=["*"];let je=(()=>{class rt extends E.H{constructor(We,Gt,_n,ao,go,_o,vo){super(We,Gt),this.boxHierarchyService=_n,this.changeDetectorRef=ao,this.boxSwitcherNavigationLinkResolver=go,this.boxLinksMapper=_o,this.applicationFeaturesStorage=vo,this.gravity=ne.X,this.breadcrumbTextLength=30,this.breadcrumbDeep=2;const Oo=vo.getFeatures();this.homeIconVisible=Oo.getApplicationContext()===yt.Z.GLOBAL}ngOnInit(){this.observeContextBox()}getNavigationLink(We){const Gt=null==We?void 0:We.getId();if(null==We?void 0:We.isAvailable())return Gt.isRoot()?this.boxLinksMapper.createDefaultModuleUri(We.getModules(),Gt.toString()):this.boxSwitcherNavigationLinkResolver.resolve(We)}observeContextBox(){this.boxHierarchyService.selectContextBoxWithHierarchy().pipe((0,gt.h)(We=>!!We),this.takeUntilDestroy()).subscribe(We=>{this.rootBoxQuery=this.boxHierarchyService.getBoxById(St.A.ROOT_ID),this.contextBoxQuery=We.getData(),this.buildBreadcrumbPath(We),this.changeDetectorRef.detectChanges()})}buildBreadcrumbPath(We){let Gt=[We.getData(),...(0,$t.Xw)(We).map(_n=>this.boxHierarchyService.getBoxById(_n))];this.homeIconVisible||(Gt=Gt.filter(_n=>!_n.getId().isRoot())),this.breadCrumbItems=Gt.map(_n=>({id:_n.getId().toString(),data:_n})).reverse(),this.changeDetectorRef.detectChanges()}}return rt.\u0275fac=function(We){return new(We||rt)(o.Y36(o.SBq),o.Y36(o.Qsj),o.Y36(De.T),o.Y36(o.sBO),o.Y36(Ue),o.Y36(He.i),o.Y36(Ft.x))},rt.\u0275cmp=o.Xpm({type:rt,selectors:[["sp-box-switcher-breadcrumb"]],features:[o.qOj],ngContentSelectors:Zt,decls:3,vars:3,consts:[[3,"items","deep","alwaysShowFirstItem"],[4,"ngIf","ngIfElse"],["elseTemplate",""],[4,"ngIf"],["name","home",4,"ngIf"],[3,"spTooltipGravity","spTooltip","spNavigationLink"],["name","home"],["class","sp-font-normal",4,"ngIf"],["itemWithoutLink",""],[1,"sp-breadcrumb__element-link",3,"spTooltipEnabled","spTooltipGravity","spTooltip","spNavigationLink"],[1,"sp-breadcrumb__element-link",3,"spTooltipGravity","spTooltip"],[1,"sp-font-normal"]],template:function(We,Gt){1&We&&(o.F$t(),o.TgZ(0,"sp-breadcrumb",0),o.YNc(1,xt,3,2,"ng-template"),o.Hsn(2),o.qZA()),2&We&&o.Q6J("items",Gt.breadCrumbItems)("deep",Gt.breadcrumbDeep)("alwaysShowFirstItem",Gt.homeIconVisible)},directives:[ot.L,t.O5,Me.k,K.i9,Ze.o],pipes:[Ne.C,we.W],encapsulation:2,changeDetection:0}),rt})();var Le=e(25082);function vt(rt,an){if(1&rt&&(o._UZ(0,"img",3),o.ALo(1,"spSanitize")),2&rt){const We=o.oxw(2);o.uIk("src",o.xi3(1,1,We.logo,"url"),o.LSH)}}function qe(rt,an){if(1&rt&&(o.ynx(0),o.YNc(1,vt,2,4,"img",1),o.TgZ(2,"h1",2),o._uU(3),o.qZA(),o.BQk()),2&rt){const We=o.oxw();o.xp6(1),o.Q6J("ngIf",We.logo),o.xp6(2),o.Oqu(We.name)}}let Et=(()=>{class rt extends E.H{constructor(We,Gt,_n){super(We,Gt),this.applicationFeaturesStorage=_n,this.initialized=!1}ngOnInit(){this.defineProperties()}defineProperties(){const We=this.applicationFeaturesStorage.getFeatures().getSystemPlatform();this.logo=We.getLogo(),this.name=We.getName(),this.initialized=!0}}return rt.\u0275fac=function(We){return new(We||rt)(o.Y36(o.SBq),o.Y36(o.Qsj),o.Y36(Ft.x))},rt.\u0275cmp=o.Xpm({type:rt,selectors:[["sp-box-switcher-product-metadata-visualisation"]],hostAttrs:[1,"sp-flex","sp-items-center"],features:[o.qOj],decls:1,vars:1,consts:[[4,"ngIf"],["class","sp-circle sp-mr-2 sp-w-12 sp-h-12",4,"ngIf"],[1,"sp-mb-0"],[1,"sp-circle","sp-mr-2","sp-w-12","sp-h-12"]],template:function(We,Gt){1&We&&o.YNc(0,qe,4,2,"ng-container",0),2&We&&o.Q6J("ngIf",Gt.initialized)},directives:[t.O5],pipes:[Le.n],encapsulation:2,changeDetection:0}),rt})();var st=e(24490),Nt=e(8855);let Je=(()=>{class rt{}return rt.\u0275fac=function(We){return new(We||rt)},rt.\u0275mod=o.oAB({type:rt}),rt.\u0275inj=o.cJS({providers:[st.U,Nt.g],imports:[[t.ez]]}),rt})();var Ot=e(12002),fe=e(82263);let Ge=(()=>{class rt{}return rt.\u0275fac=function(We){return new(We||rt)},rt.\u0275mod=o.oAB({type:rt}),rt.\u0275inj=o.cJS({imports:[[t.ez,fe.Z.forRoot(),Ot.K]]}),rt})();var Tt=e(79047),Pe=e(51805),pt=e(51820),Q=e(12856),Ee=e(51545),ue=e(86434),be=e(21619),mt=e(93153),Ut=e(14077),Xt=e(29186),en=e(17483),mn=e(30684),In=e(2100),Un=e(83950),Jn=e(58425),zn=e(34909),An=e(65521),to=e(92574),no=e(43939),uo=e(81171),$n=e(41004),kn=e(37752),ro=e(65799);function Dt(rt,an){if(1&rt&&(o.TgZ(0,"div",16),o.TgZ(1,"span",17),o._UZ(2,"img",18),o.qZA(),o.TgZ(3,"span",19),o._uU(4),o.qZA(),o.TgZ(5,"div",20),o._uU(6),o.qZA(),o.TgZ(7,"sp-lozenge",21),o._uU(8),o.ALo(9,"spL10nText"),o.qZA(),o.qZA()),2&rt){const We=o.oxw().data,Gt=o.oxw(2);o.xp6(2),o.Q6J("src",null==We||null==We.extPlatform||null==We.extPlatform.extPlatformType?null:We.extPlatform.extPlatformType.iconURL,o.LSH),o.xp6(2),o.Oqu(null==We||null==We.extPlatform?null:We.extPlatform.name),o.xp6(2),o.hij(" ",null==We?null:We.childrenCount," "),o.xp6(1),o.Q6J("color",Gt.getExtPlatformStateLozengeColor(null==We||null==We.extPlatform?null:We.extPlatform.state)),o.xp6(1),o.hij(" ",o.lcZ(9,5,Gt.getExtPlatformStateText(null==We||null==We.extPlatform?null:We.extPlatform.state))," ")}}function Cn(rt,an){1&rt&&(o._UZ(0,"sp-rich-text",24),o.ALo(1,"spRichTextI18n")),2&rt&&o.Q6J("config",o.lcZ(1,1,"SPT_WARNING_DIALOG_GLOBAL_PREFIX"))}function Fe(rt,an){if(1&rt&&(o.TgZ(0,"span",22),o.ALo(1,"spRichTextI18n"),o.YNc(2,Cn,2,3,"sp-rich-text",23),o._uU(3),o.qZA()),2&rt){const We=o.oxw().data,Gt=o.oxw(2);o.Q6J("spTooltip",o.lcZ(1,4,null==We?null:We.message))("spTooltipGravity",Gt.gravity.NORTH),o.xp6(2),o.Q6J("ngIf",Gt.isExtPlatformGlobalWarningMessage(We)),o.xp6(1),o.hij(" ",null==We?null:We.message," ")}}function Pt(rt,an){if(1&rt&&(o.YNc(0,Dt,10,7,"div",14),o.YNc(1,Fe,4,6,"span",15)),2&rt){const We=an.data,Gt=o.oxw(2);o.Q6J("ngIf",Gt.isExtPlatformWarningCollection(We)),o.xp6(1),o.Q6J("ngIf",Gt.isExtPlatformWarning(We))}}function tn(rt,an){if(1&rt){const We=o.EpF();o.TgZ(0,"button",28),o.NdJ("click",function(){o.CHM(We);const _n=o.oxw(2).data;return o.oxw(2).openActionUrl(null==_n?null:_n.actionUrl)}),o._uU(1),o.ALo(2,"spL10nText"),o.qZA()}2&rt&&(o.xp6(1),o.hij(" ",o.lcZ(2,1,"SPT_WARNING_DIALOG_READ_MORE")," "))}function Sn(rt,an){if(1&rt&&(o.TgZ(0,"span",26),o.YNc(1,tn,3,3,"button",27),o.qZA()),2&rt){const We=o.oxw().data;o.xp6(1),o.Q6J("ngIf",null==We?null:We.actionUrl)}}function qt(rt,an){if(1&rt&&o.YNc(0,Sn,2,1,"span",25),2&rt){const We=an.data,Gt=o.oxw(2);o.Q6J("ngIf",Gt.isExtPlatformWarning(We))}}function cn(rt,an){if(1&rt&&(o.TgZ(0,"sp-treegrid",10,11),o.TgZ(2,"sp-tree-column-collection"),o.TgZ(3,"sp-tree-column",12),o.YNc(4,Pt,2,2,"ng-template"),o.qZA(),o.TgZ(5,"sp-tree-column",13),o.YNc(6,qt,1,1,"ng-template"),o.qZA(),o.qZA(),o.qZA()),2&rt){const We=o.oxw();o.Q6J("config",We.config)("nodes",null==We.configuration?null:We.configuration.warnings)}}let rn=(()=>{class rt extends E.H{constructor(We,Gt,_n,ao,go,_o,vo){super(We,Gt),this.warningService=_n,this.changeDetectorRef=ao,this.environmentService=go,this.extPlatformStateWarningService=_o,this.modalWindowComponentRef=vo,this.gravity=ne.X,this.helpUrl=this.environmentService.getHelpURL("util/diagnostic/troubleshooting"),this.isHasPluginAdministratorPermission="true"===this.environmentService.getParam("hasPluginAdministratorPermission")}ngOnInit(){this.initializeConfirmActionShortcut(),this.initTreeGridConfiguration()}clear(){this.isCanClear()&&(this.warningService.clearWarnings(),this.modalWindowComponentRef.close())}snoozeWarnings(){this.warningService.snoozeWarnings(),this.modalWindowComponentRef.close()}isExtPlatformWarningCollection(We){return!!We.children}isExtPlatformWarning(We){return!We.children&&!!We.message}isExtPlatformGlobalWarningMessage(We){return We.context.includes(mt.g.GLOBAL_CONTEXT)}getExtPlatformStateLozengeColor(We){return this.extPlatformStateWarningService.isWarningState(We)?"RED":"GREEN"}getExtPlatformStateText(We){return this.extPlatformStateWarningService.isWarningState(We)?"SPT_TECHCONF_TOOLS_TABLE_STATE_UNAVAILABLE":"SPT_TECHCONF_TOOLS_TABLE_STATE_AVAILABLE"}openActionUrl(We){window.open(We,"_blank")}isCanClear(){return this.isHasPluginAdministratorPermission}initializeConfirmActionShortcut(){this.modalWindowComponentRef.setConfirmAction(()=>{this.isHasPluginAdministratorPermission&&this.clear()})}initTreeGridConfiguration(){const We=en.t.default().withRenderViewportOnResize(!0).withViewPortRender(!0);this.config=Xt.Z.default().withViewportRender(We).withLockTreeAction(!1).withColumnHeaders(!1).withTreeRowHierarchyStrategy(mn.N.CHEVRON_WITH_LINES).withExpandedStoredInLS(!1).withOverflowEnabled(!0)}}return rt.\u0275fac=function(We){return new(We||rt)(o.Y36(o.SBq),o.Y36(o.Qsj),o.Y36(be.q),o.Y36(o.sBO),o.Y36(Un.L),o.Y36(Ut.s),o.Y36(In.Zh))},rt.\u0275cmp=o.Xpm({type:rt,selectors:[["sp-warning-dialog-content"]],inputs:{configuration:"configuration"},features:[o.qOj],decls:20,vars:19,consts:[[1,"sp-modal-header"],[1,"sp-modal-title"],["id","warning-content",1,"sp-pb-6"],["id","warning-disclaimer"],[3,"config","nodes",4,"ngIf"],[1,"sp-flex","sp-justify-between","sp-pb-5"],["target","_blank",1,"fa","fa-question-circle",2,"font-size","20px",3,"href"],[1,"sp-flex"],["sp-button","",1,"sp-mr-2",3,"spTooltip","spTooltipGravity","click"],[3,"disabled","onConfirm"],[3,"config","nodes"],["treeRef",""],["disableResize","true","treeExpand","true","flex","1 0 80%"],["disableResize","true","flex","0 0 115px"],["class","sp-flex sp-items-center",4,"ngIf"],["class","sp-truncate",3,"spTooltip","spTooltipGravity",4,"ngIf"],[1,"sp-flex","sp-items-center"],[1,"sp-pr-2","sp-flex","sp-items-center"],["height","24px","width","24px",3,"src"],[1,"sp-pr-2"],[1,"sp-bg-gray-20","sp-dark:bg-gray-20","sp-text-xs","sp-circle","sp-px-2","sp-mr-2"],["subtle","",3,"color"],[1,"sp-truncate",3,"spTooltip","spTooltipGravity"],[3,"config",4,"ngIf"],[3,"config"],["class","sp-h-full sp-flex sp-items-center",4,"ngIf"],[1,"sp-h-full","sp-flex","sp-items-center"],["sp-button","","link","","class","sp-bg-transparent",3,"click",4,"ngIf"],["sp-button","","link","",1,"sp-bg-transparent",3,"click"]],template:function(We,Gt){1&We&&(o.TgZ(0,"div",0),o.TgZ(1,"h2",1),o._uU(2),o.ALo(3,"spL10nText"),o.qZA(),o._UZ(4,"sp-modal-window-close-button"),o.qZA(),o.TgZ(5,"div",2),o.TgZ(6,"p",3),o._uU(7),o.ALo(8,"spL10nText"),o.qZA(),o.YNc(9,cn,7,2,"sp-treegrid",4),o.qZA(),o.TgZ(10,"div",5),o._UZ(11,"a",6),o.TgZ(12,"div",7),o.TgZ(13,"button",8),o.NdJ("click",function(){return Gt.snoozeWarnings()}),o.ALo(14,"spRichTextI18n"),o._uU(15),o.ALo(16,"spL10nText"),o.qZA(),o.TgZ(17,"sp-modal-window-confirm-button",9),o.NdJ("onConfirm",function(){return Gt.clear()}),o._uU(18),o.ALo(19,"spL10nText"),o.qZA(),o.qZA(),o.qZA()),2&We&&(o.xp6(2),o.hij(" ",o.lcZ(3,9,"SPT_COMMON_WARNING_DIALOG_TITLE")," "),o.xp6(5),o.hij(" ",o.lcZ(8,11,"SPT_COMMON_WARNING_DIALOG_DISCLAIMER")," "),o.xp6(2),o.Q6J("ngIf",(null==Gt.configuration||null==Gt.configuration.warnings?null:Gt.configuration.warnings.length)>0),o.xp6(2),o.s9C("href",Gt.helpUrl,o.LSH),o.xp6(2),o.Q6J("spTooltip",o.lcZ(14,13,"SPT_WARNING_DIALOG_SNOOZE_TOOLTIP"))("spTooltipGravity",Gt.gravity.WEST),o.xp6(2),o.hij(" ",o.lcZ(16,15,"SPT_WARNING_DIALOG_SNOOZE_BUTTON")," "),o.xp6(2),o.Q6J("disabled",!Gt.isHasPluginAdministratorPermission),o.xp6(1),o.hij(" ",o.lcZ(19,17,"SPT_COMMON_WARNING_DIALOG_BUTTON_CLEAR_LOG")," "))},directives:[Jn.D,t.O5,zn.r,K.i9,An.r,to.l,no.$,uo.F,$n.H,kn.E],pipes:[ro.L,G.d],encapsulation:2,changeDetection:0}),rt})();var Hn=e(83194),oo=e(4683),qn=e(71726),bn=e(90902),so=e(62126),Yn=e(86263),Do=e(21693),_t=e(23854);function sn(rt,an){if(1&rt){const We=o.EpF();o.TgZ(0,"i",1),o.NdJ("click",function(){return o.CHM(We),o.oxw().showDialog()}),o.ALo(1,"spRichTextI18n"),o.qZA()}2&rt&&o.Q6J("spTooltip",o.lcZ(1,1,"SPT_COMMON_WARNING_MESSAGE_TOOLTIP"))}let _e=(()=>{class rt extends E.H{constructor(We,Gt,_n,ao,go){super(We,Gt),this.warningService=_n,this.changeDetectorRef=ao,this.modalWindowService=go,this.warningExists=!1,this.warnings=[]}ngOnInit(){this.observeNewWarningAvailable()}showDialog(){this.isExportModeEnabled()||(this.warningsModalConfiguration=new Yn.g.Builder(rn).withSize(_t.e.XL).build(),this.modalWindowService.open(this.warningsModalConfiguration,{warnings:this.warnings}))}selectIsWarningLogDisabled(){return(0,Hn.F)(rt.WARNING_LOG_DISABLED_INTERVAL).pipe((0,f.q)(rt.WARNING_LOG_DISABLED_BUFFER_SIZE),(0,qn.U)(()=>this.warningService.isWarningLogDisabled()),(0,bn.j)(rt.WARNING_LOG_DISABLED_BUFFER_SIZE),(0,qn.U)(We=>We.some(Gt=>Gt)))}observeNewWarningAvailable(){(0,oo.aj)([this.warningService.selectWarnings(),this.selectIsWarningLogDisabled()]).pipe((0,so.b)(rt.NEW_WARNINGS_DEBOUNCE_TIME),this.takeUntilDestroy()).subscribe(([We,Gt])=>{this.warningExists=We.length>0,this.warnings=We,this.changeDetectorRef.detectChanges(),this.warningService.isWarningLogSnoozed()&&this.warningExists&&!Gt&&this.showDialog()})}isExportModeEnabled(){return"function"==typeof window.imageExportCallbackFunction}}return rt.WARNING_LOG_DISABLED_INTERVAL=100,rt.WARNING_LOG_DISABLED_BUFFER_SIZE=5,rt.NEW_WARNINGS_DEBOUNCE_TIME=1e3,rt.\u0275fac=function(We){return new(We||rt)(o.Y36(o.SBq),o.Y36(o.Qsj),o.Y36(be.q),o.Y36(o.sBO),o.Y36(Do.b))},rt.\u0275cmp=o.Xpm({type:rt,selectors:[["sp-warning"]],features:[o.qOj],decls:1,vars:1,consts:[["id","sp-warning-log-indicator","class","fas fa-exclamation-triangle sp-text-warning sp-text-l sp-cursor-pointer",3,"spTooltip","click",4,"ngIf"],["id","sp-warning-log-indicator",1,"fas","fa-exclamation-triangle","sp-text-warning","sp-text-l","sp-cursor-pointer",3,"spTooltip","click"]],template:function(We,Gt){1&We&&o.YNc(0,sn,2,3,"i",0),2&We&&o.Q6J("ngIf",Gt.warningExists)},directives:[t.O5,K.i9],pipes:[G.d],encapsulation:2,changeDetection:0}),rt})();var ke=e(62807),nt=e(37869),me=e(62475),ht=e(26566);const Wt=[be.q,ue.Z];let at=(()=>{class rt{static forRoot(){return{ngModule:rt,providers:Wt}}}return rt.\u0275fac=function(We){return new(We||rt)},rt.\u0275mod=o.oAB({type:rt}),rt.\u0275inj=o.cJS({imports:[[t.ez,nt.o,me.o,Ee.F,K.z8,s.J,Q.E,ke.nv,Tt.C,ht.n]]}),rt})();var wt=e(76752),jt=e(1030),Tn=e(73275),Fn=e(4252),Nn=e(33945),Wn=e(41798),Xn=e(81622);let Vn=(()=>{class rt{}return rt.\u0275fac=function(We){return new(We||rt)},rt.\u0275mod=o.oAB({type:rt}),rt.\u0275inj=o.cJS({providers:[He.i,a.F],imports:[[t.ez,Tn.k,wt.w,Fn.R.forRoot(),Tt.C,pt.I,K.z8,i.L,jt.l,s.J,n.Y,Ot.K,fe.Z.forRoot(),Ge,Je,at.forRoot(),Ge,Pe.$,ht.n,Nn.Q,Wn.I]]}),rt})();o.B6R(r.n,[t.O5,Ce,Vt,Et],[]),o.B6R(Vt,[je,$n.H,t.O5,K.i9,_e,Xn.N],[ro.L,G.d])},49343:(S,g,e)=>{"use strict";e.d(g,{S:()=>s,F:()=>i});var t=e(27609),n=e(84046),s=(()=>{return(r=s||(s={}))[r.NOT_STARTED=0]="NOT_STARTED",r[r.SYNCING=1]="SYNCING",r[r.COMPLETE=2]="COMPLETE",s;var r})();let i=(()=>{class r extends t.V{constructor(){super()}start(o){this.set({status:s.SYNCING,tooltipText:o})}complete(o){this.set({status:s.COMPLETE,tooltipText:o})}cancel(){this.set({status:s.NOT_STARTED})}}return r.\u0275fac=function(o){return new(o||r)},r.\u0275prov=n.Yz7({token:r,factory:r.\u0275fac}),r})()},7015:(S,g,e)=>{"use strict";e.d(g,{Y:()=>h});var t=e(98223),n=e(30455),s=e(83941),i=e(46902),r=e(78609),a=e(9829),o=e(84046),d=e(25673);let h=(()=>{class p{constructor(m,v,E){this.boxHierarchyService=m,this.messageService=v,this.l10nTextService=E}resolve(m,v=n.J.default()){const E=this.boxHierarchyService.getUpdatedBoxes(v);E&&E.length&&(this.boxHierarchyService.findNodes(E.map(T=>T.getId()),m).length||this.showMessage())}showMessage(){const m=this.l10nTextService.translate("SPT_BOX_CORE_LOST_SOMETHING_FILTER_MESSAGE_TITLE"),v=s.H.i18n("SPT_BOX_CORE_LOST_SOMETHING_FILTER_MESSAGE_BODY"),E=(new i.P).withDefaultsByStatus(a.r.INFO).withBody(v).withTitle(m);this.messageService.info(E)}}return p.\u0275fac=function(m){return new(m||p)(o.LFG(d.T),o.LFG(r.e),o.LFG(t.e))},p.\u0275prov=o.Yz7({token:p,factory:p.\u0275fac}),p})()},75195:(S,g,e)=>{"use strict";e.d(g,{N:()=>o}),e(29737),e(86319);var s=e(45963),i=e(84046);const a=[s.i];let o=(()=>{class d{static forRoot(){return{ngModule:d,providers:[...a]}}}return d.\u0275fac=function(p){return new(p||d)},d.\u0275mod=i.oAB({type:d}),d.\u0275inj=i.cJS({}),d})()},29737:(S,g,e)=>{"use strict";e.d(g,{n:()=>s});var t=e(11206),n=e(84046);let s=(()=>{class i{transform(a){return new t.A(a)}}return i.\u0275fac=function(a){return new(a||i)},i.\u0275pipe=n.Yjl({name:"spBoxIdPipe",type:i,pure:!0}),i})()},35454:(S,g,e)=>{"use strict";e.d(g,{H:()=>a});var t=e(1637);class a extends t.V{constructor(d){super(),this.boxSecurityResolver=d}resolveRowCssClass(d){return[!this.matchesFilter(d)&&"sp-box-not-matching-filter",!this.matchesPermissions(d)&&"sp-box-limited-access",!this.isAvailable(d)&&"sp-box-not-available",this.isArchived(d)&&"sp-box-archived"]}getRawNode(d){return d.getRawTreeNode()}getBoxQuery(d){return this.getRawNode(d).getData()}isArchived(d){return this.getBoxQuery(d).isArchived()}matchesPermissions(d){const h=this.retrieveSecurityDataFrom(d);return this.boxSecurityResolver.canView(h)}}},90377:(S,g,e)=>{"use strict";e.d(g,{Xw:()=>n,h8:()=>s,m:()=>i});var t=e(27063);function n(a){const o=[];let d=a;for(;d;){const h=d.getParent();h&&o.push(h.getData().getId()),d=h}return o}function s(a){if(!a)return[];const o=new Set;return r(a,o),Array.from(o)}function i(a){return Object.values(t.e1).includes(a.toString())}function r(a,o){const d=null==a?void 0:a.getData().getBoxType();o.add(d),null==a||a.getChildren().forEach(h=>r(h,o))}},86319:(S,g,e)=>{"use strict";e.d(g,{e:()=>a});var t=e(11206),n=e(45963),s=e(84046),i=e(73455),r=e(25673);let a=(()=>{class o{constructor(h,p){this.boxHierarchyService=p,this.boxLinksMapper=new n.i(h)}transform(h){const f=this.boxHierarchyService.getBoxById(new t.A(h)).getModules().find(m=>m.isDefault());if(void 0===f)throw new Error("Default module was not found");return this.boxLinksMapper.getModuleNavigationLink(f.getType(),h)}}return o.\u0275fac=function(h){return new(h||o)(s.Y36(i.M,16),s.Y36(r.T,16))},o.\u0275pipe=s.Yjl({name:"spDefaultBoxModuleLink",type:o,pure:!0}),o})()},93297:(S,g,e)=>{"use strict";e.d(g,{d:()=>s});var t=e(70204),n=e(84046);let s=(()=>{class i{transform(a){return new t.J(a.getId().toString(),a.getFieldCollection(),!0,!0,{})}}return i.\u0275fac=function(a){return new(a||i)},i.\u0275pipe=n.Yjl({name:"spBoxDataTypeEntity",type:i,pure:!0}),i})()},54348:(S,g,e)=>{"use strict";e.d(g,{I:()=>i});var t=e(75596),n=e(99929),s=e(84046);let i=(()=>{class r{constructor(o){this.dataTypes=o}transform(o,d){return this.dataTypes.get(n.b.ID).getCustomFieldBuilder(o).withLabelName(d).build()}}return r.\u0275fac=function(o){return new(o||r)(s.Y36(t.v,16))},r.\u0275pipe=s.Yjl({name:"spBoxDateField",type:r,pure:!0}),r})()},48675:(S,g,e)=>{"use strict";e.d(g,{a:()=>r});var t=e(75596),n=e(99609),s=e(89869),i=e(84046);let r=(()=>{class a{constructor(d){this.dataTypes=d}transform(d){return this.dataTypes.get(s.A.ID).getCustomFieldBuilder(d).withDecorator(n.J.BUILTIN_ICON_ICON).withLabelName("Icon").build()}}return a.\u0275fac=function(d){return new(d||a)(i.Y36(t.v,16))},a.\u0275pipe=i.Yjl({name:"spBoxIconField",type:a,pure:!0}),a})()},3737:(S,g,e)=>{"use strict";e.d(g,{S:()=>r});var t=e(75596),n=e(7052),s=e(69417),i=e(84046);let r=(()=>{class a{constructor(d){this.dataTypes=d}transform(d){return this.dataTypes.get(n.r.ID).getFieldBuilder(s.Z.fromString(d)).withLabelName("Name").build()}}return a.\u0275fac=function(d){return new(d||a)(i.Y36(t.v,16))},a.\u0275pipe=i.Yjl({name:"spBoxStringField",type:a,pure:!0}),a})()},78088:(S,g,e)=>{"use strict";e.d(g,{r:()=>i});var t=e(75596),n=e(38322),s=e(84046);let i=(()=>{class r{constructor(o){this.dataTypeInstanceRepository=o}transform(o){return this.dataTypeInstanceRepository.get(n.A.ID).getCustomFieldBuilder(o).withLabelName("Type").build()}}return r.\u0275fac=function(o){return new(o||r)(s.Y36(t.v,16))},r.\u0275pipe=s.Yjl({name:"spBoxTypeValueField",type:r,pure:!0}),r})()},13845:(S,g,e)=>{"use strict";e.d(g,{$:()=>r});var t=e(99609),n=e(75596),s=e(53387),i=e(84046);let r=(()=>{class a{constructor(d){this.dataTypes=d}transform(d){return this.dataTypes.get(s.a.ID).getCustomFieldBuilder(d).withDecorator(t.J.AVATAR_AND_NAME).withLabelName("Leader").build()}}return a.\u0275fac=function(d){return new(d||a)(i.Y36(n.v,16))},a.\u0275pipe=i.Yjl({name:"spBoxUserField",type:a,pure:!0}),a})()},62565:(S,g,e)=>{"use strict";e.d(g,{H:()=>n});var t=e(11206);class n{toBoxIds(i){return i.map(r=>new t.A(r))}toStrings(i){return i.map(r=>r.toString())}}},45963:(S,g,e)=>{"use strict";e.d(g,{i:()=>r});var t=e(88004),n=e(79843),s=e(84046),i=e(73455);let r=(()=>{class a{constructor(d){this.navigationLinkService=d}getModuleNavigationLink(d,h){switch(d){case t._.OVERVIEW:return this.navigationLinkService.goToOverview(h);case t._.SCOPE:return this.navigationLinkService.goToScope(h);case t._.GANTT:return this.navigationLinkService.goToGantt(h);case t._.REPORTS:return this.navigationLinkService.goToReports(h);case t._.RESOURCES:return this.navigationLinkService.goToResources(h);case t._.RISK:return this.navigationLinkService.goToRisk(h);case t._.ROADMAP:return this.navigationLinkService.goToObjectives(h);case t._.TEAMS:return this.navigationLinkService.goToTeams(h);case t._.BOARD:return this.navigationLinkService.goToBoard(h);case t._.CALENDAR:return this.navigationLinkService.goToCalendar(h);case t._.CONFIGURATION:return this.navigationLinkService.goToBoxConfiguration(h);default:return this.navigationLinkService.goToOverview(h)}}getModuleIconClass(d){return n.Z[t._[d].toUpperCase()]}createDefaultModuleUri(d,h){const f=d.find(m=>m.isDefault())||d[0];return this.getModuleNavigationLink(f.getType(),h)}}return a.\u0275fac=function(d){return new(d||a)(s.LFG(i.M))},a.\u0275prov=s.Yz7({token:a,factory:a.\u0275fac}),a})()},39579:(S,g,e)=>{"use strict";e.d(g,{I:()=>s});var t=e(11),n=e(19327);class s{toStringTitle(r){switch(r){case t.N.NOT_STARTED:return"Not started";case t.N.IN_PROGRESS:return"In progress";case t.N.CLOSED:return"Closed";default:throw new Error(`Can't recognize Box Status: ${r}`)}}toStatusUppercase(r){switch(r){case t.N.NOT_STARTED:return"NOT STARTED";case t.N.IN_PROGRESS:return"IN PROGRESS";case t.N.CLOSED:return"CLOSED";default:throw new Error(`Can't recognize Box Status: ${r}`)}}toStatusColor(r){switch(r){case t.N.NOT_STARTED:return n.B.MEDIUM_GRAY;case t.N.IN_PROGRESS:return n.B.BLUE;case t.N.CLOSED:return n.B.GREEN;default:throw new Error(`Can't recognize Box Status: ${r}`)}}toStatusIndex(r){switch(r){case t.N.NOT_STARTED:return 1;case t.N.IN_PROGRESS:return 2;case t.N.CLOSED:return 3;default:throw new Error(`Can't recognize Box Status: ${r}`)}}}},79843:(S,g,e)=>{"use strict";e.d(g,{Z:()=>n,K:()=>s});var t=e(88004);const n={OVERVIEW:"fas fa-sitemap",GANTT:"fas fa-stream",SCOPE:"fas fa-list-ul",BOARD:"fas fa-columns",ROADMAP:"fas fa-map-signs",RESOURCES:"fas fa-battery-three-quarters",RISK:"fas fa-fire-alt",TEAMS:"fas fa-users",REPORTS:"fas fa-chart-line",CALENDAR:"fas fa-calendar",CONFIGURATION:"fas fa-cog"};function s(i){return n[t._[i].toUpperCase()]}},76723:(S,g,e)=>{"use strict";e.d(g,{l:()=>s});var t=e(62628),n=e(84046);let s=(()=>{class i extends t.b{}return i.\u0275fac=function(){let r;return function(o){return(r||(r=n.n5z(i)))(o||i)}}(),i.\u0275prov=n.Yz7({token:i,factory:i.\u0275fac}),i})()},24977:(S,g,e)=>{"use strict";e.d(g,{h:()=>r});var t=e(76723),n=e(62628),s=e(84046),i=e(96085);let r=(()=>{class a extends n.b{constructor(d,h){super(),this.aggregate=d,this.resource=h}checkStatus(d){return this.aggregate.checkStatus(d)}run(d,h=[]){this.resource.sync(d).pipe(this.takeUntilDestroy()).subscribe(()=>{const p=h.filter(f=>!d.equals(f));this.aggregate.run([d,...p])})}forceRun(d){this.resource.forceSync(d).pipe(this.takeUntilDestroy()).subscribe(()=>{this.aggregate.run([d])})}showModal(){this.aggregate.showProgressModal()}removeModal(){this.aggregate.removeProgressModal()}selectModuleNewStrategyAcceptance(){return this.aggregate.selectModuleNewStrategyAcceptance()}getBoxesToSync(d){return this.resource.getBoxesToSync(d)}}return a.\u0275fac=function(d){return new(d||a)(s.LFG(t.l),s.LFG(i.$))},a.\u0275prov=s.Yz7({token:a,factory:a.\u0275fac}),a})()},96085:(S,g,e)=>{"use strict";e.d(g,{$:()=>n});var t=e(84046);let n=(()=>{class s{}return s.\u0275fac=function(r){return new(r||s)},s.\u0275prov=t.Yz7({token:s,factory:s.\u0275fac}),s})()},59942:(S,g,e)=>{"use strict";e.d(g,{T:()=>s});var t=e(27609),n=e(84046);let s=(()=>{class i extends t.V{constructor(){super(!1)}}return i.\u0275fac=function(a){return new(a||i)},i.\u0275prov=n.Yz7({token:i,factory:i.\u0275fac}),i})()},24490:(S,g,e)=>{"use strict";e.d(g,{U:()=>d});var t=e(71726),n=e(97809),s=e(28144),i=e(83155),r=e(84046),a=e(11531),o=e(83950);let d=(()=>{class h extends i.a{constructor(f,m){super(f),this.environmentService=m,this.boxRelatedExtPlatforms$=new n.t(1)}getRestUrl(f){return this.environmentService.getRestBaseUrl()+"ppm/box"+f}selectBoxRelatedExtPlatforms$(){return this.boxRelatedExtPlatforms$}initBoxRelatedExtPlatforms(f){return this.get(`/${f}/area/task/scope/def/extplatforms`,{withDescendantBoxesExtPlatformsForNoneScope:!1}).pipe((0,t.U)(m=>m.map(v=>s.H.fromRaw(v.extPlatformId)))).subscribe(m=>{this.boxRelatedExtPlatforms$.next(m)})}}return h.\u0275fac=function(f){return new(f||h)(r.LFG(a.O),r.LFG(o.L))},h.\u0275prov=r.Yz7({token:h,factory:h.\u0275fac}),h})()},8855:(S,g,e)=>{"use strict";e.d(g,{g:()=>s});var t=e(84046),n=e(24490);let s=(()=>{class i{constructor(a){this.boxScopeDefExtPlatformResource=a}selectBoxRelatedExtPlatforms$(){return this.boxScopeDefExtPlatformResource.selectBoxRelatedExtPlatforms$()}initBoxRelatedExtPlatforms(a){return this.boxScopeDefExtPlatformResource.initBoxRelatedExtPlatforms(a)}}return i.\u0275fac=function(a){return new(a||i)(t.LFG(n.U))},i.\u0275prov=t.Yz7({token:i,factory:i.\u0275fac}),i})()},64865:(S,g,e)=>{"use strict";e.d(g,{I:()=>t});var t=(()=>{return(n=t||(t={})).BOARD="BOARD",n.GANTT="GANTT",n.RISK="RISK",n.SCOPE="SCOPE",n.WBS_EXTERNAL_TASK_PANEL="WBS_EXTERNAL_TASK_PANEL",n.OVERVIEW_HIERARCHY_COLUMN="OVERVIEW_HIERARCHY_COLUMN",n.OVERVIEW_TIMELINE_COLUMN="OVERVIEW_TIMELINE_COLUMN",t;var n})()},84109:(S,g,e)=>{"use strict";e.d(g,{T:()=>t});class t{constructor(s,i,r){this.name=s,this.description=i,this.prv=r}}},35981:(S,g,e)=>{"use strict";e.d(g,{G:()=>t});class t{constructor(s,i,r,a){this.name=s,this.description=i,this.prv=r,this.saveToOrigin=a}}},35323:(S,g,e)=>{"use strict";e.d(g,{H:()=>s});var t=e(61241),n=e(84046);let s=(()=>{class i{static forRoot(){return{ngModule:i,providers:[t.s]}}}return i.\u0275fac=function(a){return new(a||i)},i.\u0275mod=n.oAB({type:i}),i.\u0275inj=n.cJS({}),i})()},61241:(S,g,e)=>{"use strict";e.d(g,{s:()=>a});var t=e(83155),n=e(15709),s=e(84046),i=e(11531),r=e(83950);let a=(()=>{class o extends t.a{constructor(h,p){super(h),this.environmentService=p}isAbsencesViewEnabled(){return this.get("/enabled",null,{responseType:n.O.TEXT})}getRestUrl(h){return`${this.environmentService.getRestBaseUrl()}ppm/boxmodule/resources/absence-configuration${h}`}}return o.\u0275fac=function(h){return new(h||o)(s.LFG(i.O),s.LFG(r.L))},o.\u0275prov=s.Yz7({token:o,factory:o.\u0275fac}),o})()},90323:(S,g,e)=>{"use strict";e.d(g,{H:()=>$});var t=e(55331),n=e(91331),s=e(41587),i=e(84046);let r=(()=>{class X{}return X.\u0275fac=function(se){return new(se||X)},X.\u0275mod=i.oAB({type:X}),X.\u0275inj=i.cJS({imports:[[n.i,s.v]]}),X})();var a=e(51545),o=e(33945);let d=(()=>{class X{}return X.\u0275fac=function(se){return new(se||X)},X.\u0275mod=i.oAB({type:X}),X.\u0275inj=i.cJS({imports:[[n.i,a.F,o.Q]]}),X})();var h=e(41001),p=e(35323),f=e(80361);let m=(()=>{class X{constructor(se){this.userProfileDataRepository=se}getLoggedInUser(){return this.userProfileDataRepository.getUserData()}}return X.\u0275fac=function(se){return new(se||X)(i.LFG(f.z))},X.\u0275prov=i.Yz7({token:X,factory:X.\u0275fac}),X})();var v=e(30045),E=e(62320),C=e(28852),T=e(49105),y=e(12081),I=e(43542),P=e(38882),L=e(51219),F=e(96181),b=e(51805),x=e(97425),B=e(65993),M=e(68890),w=e(54052),K=e(82055),k=e(81305),G=e(26566);let $=(()=>{class X{}return X.\u0275fac=function(se){return new(se||X)},X.\u0275mod=i.oAB({type:X}),X.\u0275inj=i.cJS({providers:[{provide:v.q,useClass:m},I.t,T.f,C.U,L.p,P.J,F.u,y.m,k.d],imports:[[t.ez,B.k,a.F,h.J,b.$,x.o,M.z8,w.o,o.Q,r,d,E.c,p.H.forRoot(),K.Y,G.n]]}),X})()},30045:(S,g,e)=>{"use strict";e.d(g,{q:()=>t});class t{}},4055:(S,g,e)=>{"use strict";e.d(g,{s:()=>t});class t{}},71780:(S,g,e)=>{"use strict";e.d(g,{L:()=>t});class t{}},77903:(S,g,e)=>{"use strict";e.d(g,{K:()=>t});var t=(()=>{return(n=t||(t={})).CLIENT_CREDENTIALS_NOT_SET="CLIENT_CREDENTIALS_NOT_SET",n.INVALID_REQUEST="INVALID_REQUEST",n.INVALID_CLIENT_CREDENTIALS="INVALID_CLIENT_CREDENTIALS",n.CODE_INVALID_OR_EXPIRED_OR_REDIRECT_URL_INVALID="CODE_INVALID_OR_EXPIRED_OR_REDIRECT_URL_INVALID",n.UNAUTHORIZED_CLIENT="UNAUTHORIZED_CLIENT",n.INVALID_SCOPE="INVALID_SCOPE",n.UNSUPPORTED_GRANT_TYPE="UNSUPPORTED_GRANT_TYPE",n.GET_ACCESS_TOKEN_OTHER_ERROR="GET_ACCESS_TOKEN_OTHER_ERROR",n.INSUFFICIENT_PERMISSIONS_IN_RESOURCE_SERVER="INSUFFICIENT_PERMISSIONS_IN_RESOURCE_SERVER",n.UNKNOWN_ERROR="UNKNOWN_ERROR",t;var n})()},50108:(S,g,e)=>{"use strict";e.d(g,{t:()=>F});var t=e(55331),n=e(41001),s=e(7528),i=e(17255),r=e(71254),a=e(12002),o=e(51805),d=e(26566),h=e(92944),p=e(37869),f=e(84046);const m=[r.S,i.q,s.n];let v=(()=>{class b{static forRoot(){return{ngModule:b,providers:m}}}return b.\u0275fac=function(B){return new(B||b)},b.\u0275mod=f.oAB({type:b}),b.\u0275inj=f.cJS({imports:[[t.ez,h.$,a.K,p.o,n.J,d.n,o.$]]}),b})();var E=e(11149),C=e(35649),T=e(36275),y=e(17853),I=e(93723),P=e(42158);const L=[E.P,T.r,P.U,y.t,I.I,C.K];let F=(()=>{class b{static forRoot(){return{ngModule:b,providers:L}}}return b.\u0275fac=function(B){return new(B||b)},b.\u0275mod=f.oAB({type:b}),b.\u0275inj=f.cJS({imports:[[t.ez,h.$,v.forRoot()]]}),b})()},81206:(S,g,e)=>{"use strict";e.d(g,{D:()=>t});class t{}},11149:(S,g,e)=>{"use strict";e.d(g,{P:()=>m});var t=e(88136),n=e(43431),s=e(17853),i=e(32731),r=e(78609),a=e(77286),o=e(84046),d=e(15843),h=e(42158),f=function(v,E){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(v,E)};class m{constructor(E,C,T,y,I){this.messageService=E,this.applicationFeaturesStorage=C,this.tempoSyncHandler=T,this.licenseService=y,this.tempoSyncRepository=I}getSyncAvailability(){return this.applicationFeaturesStorage.getFeatures().getSynchronizationAvailabilityService().checkSynchronizationAvailability(n.Y.SYNCHRONIZATION,this.licenseService.selectLicense(),this.getTempoAvailability())}getResyncAvailability(){return this.applicationFeaturesStorage.getFeatures().getSynchronizationAvailabilityService().checkSynchronizationAvailability(n.Y.RESYNCHRONIZATION,this.licenseService.selectLicense(),this.getTempoAvailability())}handleProbableLaunchedSyncProcess(E,C){return this.tempoSyncHandler.handleSyncProcess(E,!1,C)}handleSyncProcess(E,C){return this.tempoSyncHandler.handleSyncProcess(E,!0,C)}handleSyncComplete(E,C){this.tempoSyncHandler.showSyncCompleteMessages(E,C)}getTempoAvailability(){return this.tempoSyncRepository.getTempoAvailability()}}m.\u0275fac=function(E){return new(E||m)(o.LFG(r.e),o.LFG(d.x),o.LFG(s.t),o.LFG(t.ER),o.LFG(h.U))},m.\u0275prov=o.Yz7({token:m,factory:m.\u0275fac}),function(v,E,C,T){var P,y=arguments.length,I=y<3?E:null===T?T=Object.getOwnPropertyDescriptor(E,C):T;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)I=Reflect.decorate(v,E,C,T);else for(var L=v.length-1;L>=0;L--)(P=v[L])&&(I=(y<3?P(I):y>3?P(E,C,I):P(E,C))||I);y>3&&I&&Object.defineProperty(E,C,I)}([(0,a.u)(),f("design:type",Function),f("design:paramtypes",[]),f("design:returntype",i.y)],m.prototype,"getTempoAvailability",null)},43431:(S,g,e)=>{"use strict";e.d(g,{Y:()=>t});var t=(()=>{return(n=t||(t={}))[n.SYNCHRONIZATION=0]="SYNCHRONIZATION",n[n.RESYNCHRONIZATION=1]="RESYNCHRONIZATION",t;var n})()},24826:(S,g,e)=>{"use strict";e.d(g,{h:()=>t});var t=(()=>{return(n=t||(t={}))[n.UNKNOWN=0]="UNKNOWN",n[n.IN_PROGRESS=1]="IN_PROGRESS",n[n.COMPLETED=2]="COMPLETED",t;var n})()},47281:(S,g,e)=>{"use strict";e.d(g,{Z:()=>n});class t{constructor(i,r,a){this.externalSystem=i,this.syncErrorCode=r,this.syncErrorDescription=a}static fromRaw(i){return new t(i.externalSystem,i.syncErrorCode,i.syncErrorDescription)}}class n{constructor(i,r){this.systemSyncResults=[],this.syncResultCode=i,this.systemSyncResults=r}static toDomain(i){const r=i.systemSyncResults.map(a=>t.fromRaw(a));return new n(i.syncResultCode,r)}isSyncSuccessful(){return"SUCCESS"===this.syncResultCode}}},35649:(S,g,e)=>{"use strict";e.d(g,{K:()=>i});var t=e(47281);class n{constructor(a,o){this.jobInProgress=a,this.syncResult=o}}var s=e(84046);let i=(()=>{class r{toDomain(o){return new n(o.jobInProgress,o.result?t.Z.toDomain(o.result):null)}}return r.\u0275fac=function(o){return new(o||r)},r.\u0275prov=s.Yz7({token:r,factory:r.\u0275fac}),r})()},7528:(S,g,e)=>{"use strict";e.d(g,{n:()=>C});var t=e(50870),n=e(17542),s=function(T,y,I,P){var b,L=arguments.length,F=L<3?y:null===P?P=Object.getOwnPropertyDescriptor(y,I):P;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)F=Reflect.decorate(T,y,I,P);else for(var x=T.length-1;x>=0;x--)(b=T[x])&&(F=(L<3?b(F):L>3?b(y,I,F):b(y,I))||F);return L>3&&F&&Object.defineProperty(y,I,F),F},i=function(T,y){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(T,y)};class r extends n.M{getClassName(){return"TempoAuthProcessDTO"}}s([(0,t.XV)(),i("design:type",String)],r.prototype,"authorizationProcessId",void 0),s([(0,t.XV)(),i("design:type",String)],r.prototype,"authorizationProcessStatus",void 0),s([(0,t.XV)(),i("design:type",String)],r.prototype,"url",void 0);var a=function(T,y,I,P){var b,L=arguments.length,F=L<3?y:null===P?P=Object.getOwnPropertyDescriptor(y,I):P;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)F=Reflect.decorate(T,y,I,P);else for(var x=T.length-1;x>=0;x--)(b=T[x])&&(F=(L<3?b(F):L>3?b(y,I,F):b(y,I))||F);return L>3&&F&&Object.defineProperty(y,I,F),F},o=function(T,y){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(T,y)};class d extends n.M{getClassName(){return"TempoAuthProcessStatusDTO"}}a([(0,t.XV)(),o("design:type",String)],d.prototype,"authorizationProcessStatus",void 0),a([(0,t.XV)(),o("design:type",String)],d.prototype,"errorCode",void 0);var h=e(2421),p=e(83155),f=e(15709),m=e(84046),v=e(83950),E=e(11531);let C=(()=>{class T extends p.a{constructor(I,P){super(P),this.environmentService=I,this.AUTHORIZATION_SERVER_ID="TEMPO_JIRA_CLOUD"}isAuthorized(I=this.AUTHORIZATION_SERVER_ID){return this.get(`${I}/is-authorized`,{},{responseType:f.O.TEXT})}startAuth(I=this.AUTHORIZATION_SERVER_ID){return this.post(`start-authorization-process/${I}`).pipe((0,h.W)(r))}getAuthProcessStatus(I){return this.get(`status/${this.AUTHORIZATION_SERVER_ID}/${I}`).pipe((0,h.W)(d))}getRestUrl(I){return`${this.environmentService.getRestBaseUrl()}oauth2/authorization/${I}`}}return T.\u0275fac=function(I){return new(I||T)(m.LFG(v.L),m.LFG(E.O))},T.\u0275prov=m.Yz7({token:T,factory:T.\u0275fac}),T})()},42158:(S,g,e)=>{"use strict";e.d(g,{U:()=>a});var t=e(71726),n=e(84046),s=e(36275),i=e(93723),r=e(35649);let a=(()=>{class o{constructor(h,p,f){this.tempoSyncResource=h,this.jobStatusResource=p,this.jobSyncStatusResultConverter=f}getSyncStatusResult(h){return this.jobStatusResource.getStatus(h.id).pipe((0,t.U)(p=>this.jobSyncStatusResultConverter.toDomain(p)))}getTempoAvailability(){return this.tempoSyncResource.getTempoAvailability()}}return o.\u0275fac=function(h){return new(h||o)(n.LFG(s.r),n.LFG(i.I),n.LFG(r.K))},o.\u0275prov=n.Yz7({token:o,factory:o.\u0275fac}),o})()},36275:(S,g,e)=>{"use strict";e.d(g,{r:()=>o});var t=e(71726),n=e(83155),s=e(15709),i=e(84046),r=e(83950),a=e(11531);let o=(()=>{class d extends n.a{constructor(p,f){super(f),this.environmentService=p,this.tempo="TEMPO"}getTempoAvailability(){return this.get("available",{},{responseType:s.O.TEXT}).pipe((0,t.U)(p=>p.indexOf(this.tempo)>=0))}getRestUrl(p){return`${this.environmentService.getRestBaseUrl()}ppm/resource/external-systems/${p}`}}return d.\u0275fac=function(p){return new(p||d)(i.LFG(r.L),i.LFG(a.O))},d.\u0275prov=i.Yz7({token:d,factory:d.\u0275fac}),d})()},17255:(S,g,e)=>{"use strict";e.d(g,{q:()=>i});var t=e(77903),n=e(83941),s=e(84046);let i=(()=>{class r{toErrorDescription(o){switch(o){case t.K.INVALID_CLIENT_CREDENTIALS:case t.K.CLIENT_CREDENTIALS_NOT_SET:return n.H.i18n("SPT_COMMON_AUTH_INVALID_CLIENT_CREDENTIALS_ERROR_DESC");case t.K.INVALID_REQUEST:case t.K.INVALID_SCOPE:case t.K.UNSUPPORTED_GRANT_TYPE:return n.H.i18n("SPT_COMMON_AUTH_INVALID_SMTH_GROUP_DESC");case t.K.INSUFFICIENT_PERMISSIONS_IN_RESOURCE_SERVER:return n.H.i18n("SPT_COMMON_AUTH_INSUFFICIENT_PERMISSIONS_ERROR_DESC");case t.K.UNAUTHORIZED_CLIENT:case t.K.CODE_INVALID_OR_EXPIRED_OR_REDIRECT_URL_INVALID:case t.K.GET_ACCESS_TOKEN_OTHER_ERROR:case t.K.UNKNOWN_ERROR:default:return n.H.i18n("SPT_COMMON_AUTH_UNKNOWN_ERROR_GROUP_DESC")}}toErrorBtnTitle(o){switch(o){case t.K.INSUFFICIENT_PERMISSIONS_IN_RESOURCE_SERVER:case t.K.INVALID_CLIENT_CREDENTIALS:case t.K.CLIENT_CREDENTIALS_NOT_SET:return"SPT_COMMON_AUTH_GET_CREDENTIALS_BTN_TITLE";default:return"SPT_COMMON_AUTH_READ_MORE_BTN_TITLE"}}}return r.\u0275fac=function(o){return new(o||r)},r.\u0275prov=s.Yz7({token:r,factory:r.\u0275fac}),r})()},71254:(S,g,e)=>{"use strict";e.d(g,{S:()=>a});var t=e(17255),n=e(68859),s=e(46902),i=e(78609),r=e(84046);let a=(()=>{class o{constructor(h,p){this.messageService=h,this.tempoAuthErrorCodeConverter=p}handle(h){const p=(new s.P).withTitle("SPT_COMMON_SYNC_FAILED_TITLE").withBody(this.tempoAuthErrorCodeConverter.toErrorDescription(h)).withLinkButton(this.getMessageBtnConfig(h)).withFadeout(!1);this.messageService.error(p)}getMessageBtnConfig(h){return(new n.q.Builder).withBtnText(this.tempoAuthErrorCodeConverter.toErrorBtnTitle(h)).withBtnExternalLink("https://wiki.softwareplant.com/doc/all/administration/tempo-synchronization/authorization-jira-cloud").build()}}return o.\u0275fac=function(h){return new(h||o)(r.LFG(i.e),r.LFG(t.q))},o.\u0275prov=r.Yz7({token:o,factory:o.\u0275fac}),o})()},17853:(S,g,e)=>{"use strict";e.d(g,{t:()=>p});var t=e(43431),n=e(24826),s=e(49549),i=e(83941),r=e(46902),a=e(78609),o=e(27609),d=e(84046),h=e(42158);let p=(()=>{class f extends o.V{constructor(v,E){super(),this.messageService=v,this.tempoSyncRepository=E,this.IN_PROGRESS_MESSAGE_BODY={[t.Y.RESYNCHRONIZATION]:i.H.i18n("SPT_TEMPO_SYNCHRONIZATION_RESYNC_IN_PROGRESS_MESSAGE"),[t.Y.SYNCHRONIZATION]:i.H.i18n("SPT_TEMPO_SYNC_SYNC_IN_PROGRESS_MESSAGE")},this.SUCCESSFULLY_COMPLETED_MESSAGE_BODY={[t.Y.RESYNCHRONIZATION]:i.H.i18n("SPT_TEMPO_SYNCHRONIZATION_RESYNC_SUCCESSFULLY_COMPLETED_MESSAGE"),[t.Y.SYNCHRONIZATION]:i.H.i18n("SPT_TEMPO_SYNCHRONIZATION_SYNC_SUCCESSFULLY_COMPLETED_BODY_MESSAGE")},this.IN_PROGRESS_MESSAGE_TITLE={[t.Y.RESYNCHRONIZATION]:"SPT_TEMPO_SYNCHRONIZATION_RESYNC_IN_PROGRESS_MESSAGE_TITLE",[t.Y.SYNCHRONIZATION]:"SPT_TEMPO_SYNCHRONIZATION_SYNC_IN_PROGRESS_MESSAGE_TITLE"},this.SUCCESSFULLY_COMPLETED_MESSAGE_TITLE={[t.Y.RESYNCHRONIZATION]:"SPT_TEMPO_SYNCHRONIZATION_RESYNC_SUCCESSFULLY_COMPLETED_MESSAGE_TITLE",[t.Y.SYNCHRONIZATION]:"SPT_TEMPO_SYNCHRONIZATION_SYNC_SUCCESSFULLY_COMPLETED_MESSAGE_TITLE"}}handleSyncProcess(v,E,C){return this.set(n.h.UNKNOWN),this.handle(v,E,C),this.select()}showSyncCompleteMessages(v,E){switch(v.syncResultCode){case"SUCCESS":this.handleSuccessResult(E);break;case"PARTIAL_SUCCESS":this.handlePartialSuccessResult(v);break;case"FAILURE":this.handleFailureResult(v);break;default:console.warn(`Sync result code: ${v.syncResultCode} should be one of: SUCCESS|PARTIAL_SUCCESS|FAILURE`)}}handle(v,E,C){this.tempoSyncRepository.getSyncStatusResult(v).subscribe(T=>{T.jobInProgress?(this.showSyncInProgressMessage(C),this.set(n.h.IN_PROGRESS),(0,s.H)(f.DELAY_TIME_TO_CHECK_STATUS_SYNC_AGAIN).subscribe(()=>this&&this.handle(v,E,C))):((this.get()===n.h.IN_PROGRESS||E)&&this.showSyncCompleteMessages(T.syncResult,C),this.set(n.h.COMPLETED))})}showSyncInProgressMessage(v){this.get()!==n.h.IN_PROGRESS&&this.messageService.info((new r.P).withTitle(this.IN_PROGRESS_MESSAGE_TITLE[v]).withBody(this.IN_PROGRESS_MESSAGE_BODY[v]).withFadeout(!0).withDuration(f.SYNC_IN_PROGRESS_MESSAGE_DURATION))}handleSuccessResult(v){this.messageService.success((new r.P).withTitle(this.SUCCESSFULLY_COMPLETED_MESSAGE_TITLE[v]).withBody(this.SUCCESSFULLY_COMPLETED_MESSAGE_BODY[v]).withFadeout(!0))}handlePartialSuccessResult(v){let E="";v.systemSyncResults.forEach(C=>{E+=C.syncErrorDescription}),this.messageService.warning((new r.P).withTitle(v.syncResultCode).withBody(i.H.i18n("SPT_TEMPO_SYNCHRONIZATION_SYNC_PARTIAL_SUCCESS_MESSAGE_BODY",{problemDescription:E})))}handleFailureResult(v){let E="";v.systemSyncResults.forEach(C=>{E+=C.syncErrorDescription}),this.messageService.error((new r.P).withTitle(v.syncResultCode).withBody(i.H.i18n("SPT_TEMPO_SYNCHRONIZATION_SYNC_FAILURE_MESSAGE_BODY",{problemDescription:E})))}}return f.DELAY_TIME_TO_CHECK_STATUS_SYNC_AGAIN=4e3,f.SYNC_IN_PROGRESS_MESSAGE_DURATION=1e3,f.\u0275fac=function(v){return new(v||f)(d.LFG(a.e),d.LFG(h.U))},f.\u0275prov=d.Yz7({token:f,factory:f.\u0275fac}),f})()},66371:(S,g,e)=>{"use strict";e.d(g,{j:()=>t});class t{constructor(s){this.id=s}toNumber(){return this.id}}},43542:(S,g,e)=>{"use strict";e.d(g,{t:()=>p});var t=e(28144);class n{constructor(m,v,E,C,T=[],y=-1,I=!1,P,L,F="http://www.gravatar.com/avatar/59235f35e4763abb0b547bd093562f6e?d=mm&s=48",b,x,B,M,w,K,k,G,$,X,ie){this.resourceKey=m,this.externalKey=v,this.login=E,this.displayName=C,this.currentSkills=T,this.id=y,this.isResynchronizable=I,this.archived=P,this.isRestorable=L,this.iconUrl=F,this.originExtPlatformId=b,this.currentWorkloadPlan=x,this.currentHolidayPlan=B,this.currentAbsence=M,this.externalSystem=w,this.syncStatus=K,this.extPlatformBasicInfo=k,this.absences=G,this.holidayPlans=$,this.workloadPlans=X,this.skills=ie,this.teams=[]}clone(){return new n(this.resourceKey,this.externalKey,this.login,this.displayName,this.currentSkills,this.id,this.isResynchronizable,this.archived,this.isRestorable,this.iconUrl,this.originExtPlatformId,this.currentWorkloadPlan,this.currentHolidayPlan,this.currentAbsence,this.externalSystem,this.syncStatus,this.extPlatformBasicInfo)}setTeams(m){this.teams=m}}var s=e(84046),i=e(49105),r=e(28852),a=e(51219),o=e(38882),d=e(96181),h=e(12081);let p=(()=>{class f{constructor(v,E,C,T,y,I){this.attributeNameColorConverter=v,this.currentAbsenceConverter=E,this.resourceSkillConverter=C,this.resourceHolidayPlanConverter=T,this.resourceWorkloadPlanConverter=y,this.resourceAbsenceConverter=I}fromListItemDTOtoDomainArraySorted(v,E){const C=v.map(T=>this.fromListItemDTOtoDomain(T,E.get(T.originExtPlatformId)));return C.sort((T,y)=>T.displayName.toLowerCase().localeCompare(y.displayName.toLowerCase())),C}fromListItemDTOtoDomain(v,E){return new n(v.resourceBasic.resourceKey,null,v.resourceBasic.login,v.resourceBasic.name,v.currentSkills?this.attributeNameColorConverter.fromSkillsDTOArray(v.currentSkills):[],null,null,v.resourceBasic.isArchived,v.isRestorable,v.resourceBasic.avatarUrl,v.originExtPlatformId&&new t.H(v.originExtPlatformId),v.currentWorkloadPlan&&this.attributeNameColorConverter.fromWorkloadPlanDTO(v.currentWorkloadPlan),v.currentHolidayPlan&&this.attributeNameColorConverter.fromHolidayPlanDTO(v.currentHolidayPlan),v.currentAbsence&&this.currentAbsenceConverter.toDomain(v.currentAbsence),v.externalSystem,v.syncStatus,E)}fromDetailedDTOToDomain(v){return new n(v.resourceBasic.resourceKey,null,v.resourceBasic.login,v.resourceBasic.name,v.currentSkills?this.attributeNameColorConverter.fromSkillsDTOArray(v.currentSkills):[],null,v.isResynchronizable,v.resourceBasic.isArchived,null,v.resourceBasic.avatarUrl,null,v.currentWorkloadPlan&&this.attributeNameColorConverter.fromWorkloadPlanDTO(v.currentWorkloadPlan),v.currentHolidayPlan&&this.attributeNameColorConverter.fromHolidayPlanDTO(v.currentHolidayPlan),v.currentAbsence&&this.currentAbsenceConverter.toDomain(v.currentAbsence),v.externalSystem,v.syncStatus,null,v.absences&&this.resourceAbsenceConverter.toDomainArray(v.absences),v.holidayPlans&&this.resourceHolidayPlanConverter.toDomainArray(v.holidayPlans),v.workloadPlans&&this.resourceWorkloadPlanConverter.toDomainArray(v.workloadPlans),v.skills&&this.resourceSkillConverter.toDomainArray(v.skills))}}return f.\u0275fac=function(v){return new(v||f)(s.LFG(i.f),s.LFG(r.U),s.LFG(a.p),s.LFG(o.J),s.LFG(d.u),s.LFG(h.m))},f.\u0275prov=s.Yz7({token:f,factory:f.\u0275fac}),f})()},28852:(S,g,e)=>{"use strict";e.d(g,{U:()=>s});class t{constructor(r,a,o,d){this.typeName=r,this.startDate=a,this.endDate=o,this.color=d}}var n=e(84046);let s=(()=>{class i{toDomain(a){return new t(a.absenceTypeDTO.name,new Date(a.startDate),new Date(a.endDate),a.absenceTypeDTO.color)}}return i.\u0275fac=function(a){return new(a||i)},i.\u0275prov=n.Yz7({token:i,factory:i.\u0275fac}),i})()},49105:(S,g,e)=>{"use strict";e.d(g,{f:()=>s});class t{constructor(r,a){this.name=r,this.color=a}}var n=e(84046);let s=(()=>{class i{fromSkillsDTOArray(a){return a.map(o=>new t(o.skill.name,o.skill.color))}fromWorkloadPlanDTO(a){return new t(a.workloadPlanName,a.color)}fromHolidayPlanDTO(a){return new t(a.holidayPlanName,a.color)}}return i.\u0275fac=function(a){return new(a||i)},i.\u0275prov=n.Yz7({token:i,factory:i.\u0275fac}),i})()},12081:(S,g,e)=>{"use strict";e.d(g,{m:()=>i});class t{constructor(a,o,d,h,p,f,m){this.id=a,this.typeId=o,this.typeName=d,this.color=h,this.startDate=p,this.endDate=f,this.comment=m}}var n=e(66371),s=e(84046);let i=(()=>{class r{toDomainArray(o){return o.map(d=>new t(null,new n.j(d.absenceTypeDTO.absenceTypeId),d.absenceTypeDTO.name,d.absenceTypeDTO.color,d.startDate,d.endDate,d.comment))}}return r.\u0275fac=function(o){return new(o||r)},r.\u0275prov=s.Yz7({token:r,factory:r.\u0275fac}),r})()},38882:(S,g,e)=>{"use strict";e.d(g,{J:()=>s});class t{constructor(r,a,o,d,h,p,f,m,v){this.id=r,this.name=a,this.color=o,this.startDate=d,this.externalId=h,this.externalSystem=p,this.syncStatus=f,this.planId=m,this.endDate=v}}var n=e(84046);let s=(()=>{class i{toDomainArray(a){return a.map(o=>new t(null,o.holidayPlanName,o.color,o.startDate,null,null,null,o.holidayPlanId,o.endDate))}}return i.\u0275fac=function(a){return new(a||i)},i.\u0275prov=n.Yz7({token:i,factory:i.\u0275fac}),i})()},51219:(S,g,e)=>{"use strict";e.d(g,{p:()=>i});class t{constructor(a,o,d,h,p,f,m,v,E,C){this.id=a,this.skillId=o,this.skillName=d,this.skillCode=h,this.skillColor=p,this.startDate=f,this.endDate=m,this.externalSystem=v,this.externalId=E,this.syncStatus=C}}class n{static toDateWithJoiner(a,o="-"){const d=a.split(/\D/),p=d[1],f=d[2];return[d[0],(1===p.length?"0":"")+p,(1===f.length?"0":"")+f].join(o)}}var s=e(84046);let i=(()=>{class r{toDomainArray(o){return o.map(d=>{const h=d.endDate?n.toDateWithJoiner(d.endDate):"";return new t(d.skill.id,d.skill.id,d.skill.name,d.skill.code,d.skill.color,n.toDateWithJoiner(d.startDate),h,null,null,null)})}}return r.\u0275fac=function(o){return new(o||r)},r.\u0275prov=s.Yz7({token:r,factory:r.\u0275fac}),r})()},96181:(S,g,e)=>{"use strict";e.d(g,{u:()=>s});class t{constructor(r,a,o,d,h,p,f,m,v,E){this.id=r,this.name=a,this.color=o,this.startDate=d,this.externalId=h,this.externalSystem=p,this.syncStatus=f,this.planId=m,this.efficiency=v,this.endDate=E}}var n=e(84046);let s=(()=>{class i{toDomainArray(a){return a.map(o=>new t(null,o.workloadPlanName,o.color,o.startDate,null,null,null,o.workloadPlanId,o.efficiency,o.endDate))}}return i.\u0275fac=function(a){return new(a||i)},i.\u0275prov=n.Yz7({token:i,factory:i.\u0275fac}),i})()},81305:(S,g,e)=>{"use strict";e.d(g,{d:()=>a});class t{constructor(d,h,p,f,m,v,E,C,T){this.id=d,this.creationBoxId=h,this.involvedBoxes=p,this.memberships=f,this.isAccessLimited=m,this.usedBoxTypes=v,this.name=E,this.color=C,this.code=T,this.creationBox=this.involvedBoxes.find(y=>y.id===this.creationBoxId)}}class n{constructor(d,h,p,f){this.id=d,this.isAccessLimited=h,this.name=p,this.boxType=f}}class s{constructor(d,h,p){this.id=d,this.name=h,this.color=p}}class i{constructor(d,h,p){this.percentageAvailability=d,this.startDate=h,this.endDate=p}}var r=e(84046);let a=(()=>{class o{toDomainArray(h){return h.map(p=>new t(p.id,p.creationBoxId,this.toTeamBoxDomainArray(p.involvedBoxes.boxes),this.toTeamMembershipDomainArray(p.memberships),p.isAccessLimited,this.toTeamBoxTypesDomainArray(p.involvedBoxes.usedBoxTypes),p.name,p.color,p.code))}toTeamBoxDomain(h){return new n(h.id,h.isAccessLimited,h.name,h.boxType?new s(h.boxType.id,h.boxType.name,h.boxType.color):null)}toTeamBoxDomainArray(h){return h.map(p=>this.toTeamBoxDomain(p))}toTeamMembershipDomainArray(h){return h.map(p=>new i(p.percentageAvailability,p.startDate,p.endDate))}toTeamBoxTypesDomainArray(h){return h.map(p=>new s(p.id,p.name,p.color))}}return o.\u0275fac=function(h){return new(h||o)},o.\u0275prov=r.Yz7({token:o,factory:o.\u0275fac}),o})()},16519:(S,g,e)=>{"use strict";function t(n,s,i){return(r,a)=>{const o=i(r),d=i(a),h=n(r),p=n(a);return h===s&&p!==s||h!==s&&p!==s&&("string"==typeof h&&"string"==typeof p&&h.toLowerCase()<p.toLowerCase()||"number"==typeof h&&"number"==typeof p&&h<p)||h===p&&o.toLowerCase()<d.toLowerCase()?-1:0}}e.d(g,{B:()=>t})},62983:(S,g,e)=>{"use strict";e.d(g,{X:()=>B});var t=e(85847),n=e(60903),s=e(50870),i=e(34373),r=e(77816),a=e(40813),o=e(41085),d=e(88401),h=e(17542),p=function(M,w,K,k){var X,G=arguments.length,$=G<3?w:null===k?k=Object.getOwnPropertyDescriptor(w,K):k;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)$=Reflect.decorate(M,w,K,k);else for(var ie=M.length-1;ie>=0;ie--)(X=M[ie])&&($=(G<3?X($):G>3?X(w,K,$):X(w,K))||$);return G>3&&$&&Object.defineProperty(w,K,$),$},f=function(M,w){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(M,w)};class m extends h.M{getClassName(){return"EntityFieldResponse"}}p([(0,s.XV)(),f("design:type",String)],m.prototype,"name",void 0),p([(0,s.XV)(),f("design:type",String)],m.prototype,"label",void 0),p([(0,o.ci)(),f("design:type",Object)],m.prototype,"configuration",void 0),p([(0,s.XV)(),f("design:type",String)],m.prototype,"dataType",void 0),p([(0,s.XV)({each:!0}),f("design:type",Array)],m.prototype,"aggregations",void 0),p([(0,s.XV)({each:!0}),f("design:type",Array)],m.prototype,"distributes",void 0),p([(0,s.XV)(),f("design:type",String)],m.prototype,"aggregation",void 0),p([(0,s.XV)(),f("design:type",String)],m.prototype,"distribute",void 0),p([(0,n.qA)(),f("design:type",Number)],m.prototype,"fieldDefinitionId",void 0),p([(0,i.si)(),f("design:type",Boolean)],m.prototype,"isSortable",void 0),p([(0,d.X)(),(0,i.si)(),f("design:type",Boolean)],m.prototype,"isEditable",void 0);var v=function(M,w,K,k){var X,G=arguments.length,$=G<3?w:null===k?k=Object.getOwnPropertyDescriptor(w,K):k;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)$=Reflect.decorate(M,w,K,k);else for(var ie=M.length-1;ie>=0;ie--)(X=M[ie])&&($=(G<3?X($):G>3?X(w,K,$):X(w,K))||$);return G>3&&$&&Object.defineProperty(w,K,$),$},E=function(M,w){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(M,w)};class C extends h.M{getClassName(){return"EntityViewResponse"}}v([(0,n.qA)(),E("design:type",Number)],C.prototype,"id",void 0),v([(0,s.XV)(),E("design:type",String)],C.prototype,"name",void 0),v([(0,s.XV)(),E("design:type",String)],C.prototype,"description",void 0),v([(0,i.si)(),E("design:type",Boolean)],C.prototype,"prv",void 0),v([(0,t.D)(()=>m),(0,r.Yl)(),(0,a.j)({each:!0}),E("design:type",Array)],C.prototype,"fieldConfigs",void 0),v([(0,s.XV)(),E("design:type",String)],C.prototype,"inheritedFromEntityViewContextId",void 0),v([(0,s.XV)(),E("design:type",String)],C.prototype,"inheritedFromEntityViewContextType",void 0),v([(0,i.si)(),E("design:type",Boolean)],C.prototype,"inEditMode",void 0);var T=function(M,w,K,k){var X,G=arguments.length,$=G<3?w:null===k?k=Object.getOwnPropertyDescriptor(w,K):k;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)$=Reflect.decorate(M,w,K,k);else for(var ie=M.length-1;ie>=0;ie--)(X=M[ie])&&($=(G<3?X($):G>3?X(w,K,$):X(w,K))||$);return G>3&&$&&Object.defineProperty(w,K,$),$},y=function(M,w){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(M,w)};class I extends h.M{getClassName(){return"EntityViewResponses"}}T([(0,t.D)(()=>C),(0,r.Yl)(),(0,a.j)({each:!0}),y("design:type",Array)],I.prototype,"views",void 0),T([(0,n.qA)(),y("design:type",Number)],I.prototype,"selectedViewId",void 0),T([(0,d.X)(),(0,r.Yl)(),y("design:type",Array)],I.prototype,"favouriteViewIds",void 0);var P=e(2421),L=e(83155),F=e(84046),b=e(11531),x=e(83950);let B=(()=>{class M extends L.a{constructor(K,k){super(K),this.environmentService=k,this.url="util/entity/view/column"}getViewsByBoxId$(K,k,G){return this.get(`entity/${K}/${k}/view-type/${G}/views`).pipe((0,P.W)(I))}addEntityViewField$(K,k){return this.post(`view/${K}/column`,k).pipe((0,P.W)(C))}updateEntityViewField$(K,k){return this.put(`view/${K}/column`,k).pipe((0,P.W)(C))}reorderEntityViewField$(K,k){return this.put(`view/${K}/column/reorder`,k).pipe((0,P.W)(C))}deleteEntityViewField$(K,k,G,$,X,ie){return this.delete(`view/${K}/column\n\t\t?applyToExistingView=${k}\n\t\t&entityViewContextType=${G}\n\t\t&entityViewContextId=${$}\n\t\t&entityFieldDefinitionId=${X}\n\t\t&entityViewFieldColumnIndex=${ie}`).pipe((0,P.W)(C))}getRestUrl(K){return`${this.environmentService.getRestBaseUrl()}${this.url}/${K}`}}return M.\u0275fac=function(K){return new(K||M)(F.LFG(b.O),F.LFG(x.L))},M.\u0275prov=F.Yz7({token:M,factory:M.\u0275fac}),M})()},61921:(S,g,e)=>{"use strict";e.d(g,{M:()=>I});var t=e(17542),n=e(77816),s=e(40813),i=e(50870),r=e(60903),a=function(P,L,F,b){var M,x=arguments.length,B=x<3?L:null===b?b=Object.getOwnPropertyDescriptor(L,F):b;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)B=Reflect.decorate(P,L,F,b);else for(var w=P.length-1;w>=0;w--)(M=P[w])&&(B=(x<3?M(B):x>3?M(L,F,B):M(L,F))||B);return x>3&&B&&Object.defineProperty(L,F,B),B},o=function(P,L){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(P,L)};class d extends t.M{getClassName(){return"FieldForExtPlatformsDTO"}}a([(0,n.Yl)(),(0,i.XV)({each:!0}),o("design:type",Array)],d.prototype,"aggregations",void 0),a([(0,i.XV)(),o("design:type",String)],d.prototype,"extPlatformFieldId",void 0),a([(0,r.qA)(),o("design:type",Number)],d.prototype,"extPlatformId",void 0),a([(0,i.XV)(),o("design:type",String)],d.prototype,"label",void 0),a([(0,i.XV)(),o("design:type",String)],d.prototype,"dataType",void 0),a([(0,n.Yl)(),(0,i.XV)({each:!0}),o("design:type",Array)],d.prototype,"distributes",void 0);var h=e(34373),p=e(88401),f=function(P,L,F,b){var M,x=arguments.length,B=x<3?L:null===b?b=Object.getOwnPropertyDescriptor(L,F):b;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)B=Reflect.decorate(P,L,F,b);else for(var w=P.length-1;w>=0;w--)(M=P[w])&&(B=(x<3?M(B):x>3?M(L,F,B):M(L,F))||B);return x>3&&B&&Object.defineProperty(L,F,B),B},m=function(P,L){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(P,L)};class v extends t.M{getClassName(){return"GlobalFieldDefinitionDTO"}}f([(0,r.qA)(),m("design:type",Number)],v.prototype,"fieldId",void 0),f([(0,i.XV)(),m("design:type",String)],v.prototype,"fieldName",void 0),f([(0,i.XV)(),m("design:type",String)],v.prototype,"dataType",void 0),f([(0,h.si)(),m("design:type",Boolean)],v.prototype,"isSortable",void 0),f([(0,p.X)(),(0,r.qA)(),m("design:type",Number)],v.prototype,"extPlatformId",void 0),f([(0,p.X)(),(0,i.XV)(),m("design:type",String)],v.prototype,"fieldLabel",void 0),f([(0,p.X)(),(0,i.XV)(),m("design:type",String)],v.prototype,"defaultFieldAggregation",void 0),f([(0,p.X)(),(0,h.si)(),m("design:type",Boolean)],v.prototype,"isEditable",void 0);var E=e(85847),C=e(59358),T=function(P,L,F,b){var M,x=arguments.length,B=x<3?L:null===b?b=Object.getOwnPropertyDescriptor(L,F):b;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)B=Reflect.decorate(P,L,F,b);else for(var w=P.length-1;w>=0;w--)(M=P[w])&&(B=(x<3?M(B):x>3?M(L,F,B):M(L,F))||B);return x>3&&B&&Object.defineProperty(L,F,B),B},y=function(P,L){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(P,L)};class I extends t.M{getClassName(){return"AllAvailableFieldsDTO"}}T([(0,C.$)(d),y("design:type",Object)],I.prototype,"allFieldsForExtPlatforms",void 0),T([(0,E.D)(()=>v),(0,n.Yl)(),(0,s.j)({each:!0}),y("design:type",Array)],I.prototype,"globalFieldDefinitions",void 0)},80358:(S,g,e)=>{"use strict";e.d(g,{h:()=>s});var t=e(27609),n=e(84046);let s=(()=>{class i extends t.V{constructor(){super()}}return i.\u0275fac=function(a){return new(a||i)},i.\u0275prov=n.Yz7({token:i,factory:i.\u0275fac}),i})()},91303:(S,g,e)=>{"use strict";e.d(g,{M:()=>i});var t=e(71726),n=e(22521),s=e(84046);let i=(()=>{class r{constructor(o){this.commandRepository=o}waitForChangeSelectedColumnView(){return this.commandRepository.waitForCommandByType("ChangeSelectedColumnViewSuccessCommand").pipe((0,t.U)(o=>o.payload))}waitForRedirectColumnView(){return this.commandRepository.selectForCommandByType("RedirectColumnViewCommand").pipe((0,t.U)(o=>o.columnViewId))}}return r.\u0275fac=function(o){return new(o||r)(s.LFG(n.F))},r.\u0275prov=s.Yz7({token:r,factory:r.\u0275fac}),r})()},71079:(S,g,e)=>{"use strict";e.d(g,{J:()=>k});var t=e(69989),n=e(58754),s=e(56385),i=e(71726),r=e(63833),a=e(98274),o=e(96439),d=e(64775),h=e(98482),p=e(91598),f=e(50745),m=e(48765);class v{constructor($,X,ie,se){this.id=$,this.name=X,this.prv=ie,this.description=se}}var E=e(90578);class C extends E.m{constructor(){super("TruncateColumnViewCommand")}}var T=e(60143),y=e(26073),I=e(5843),P=e(1529),L=e(599),F=e(13503),b=e(22521),x=e(84046),B=e(98222),M=e(83950),w=e(82394),K=e(66706);let k=(()=>{class G{constructor(X,ie,se,pe,ve){this.columnViewDispatcher=X,this.commandRepository=ie,this.environmentService=se,this.columnViewAggregateRepository=pe,this.columnViewModuleCode=ve}fetchAll(){const X=new f.VQ;return setTimeout(()=>{this.columnViewDispatcher.dispatch(X)}),this.commandRepository.waitForResponseCommand(X).pipe((0,n.h)(null),(0,s.K)(ie=>(console.log(ie),(0,t._)(ie))))}addFieldToWorkingArea(X,ie,se,pe){this.columnViewDispatcher.dispatchAddFieldConfig(new T.SA({fieldConfigId:ie,extPlatformId:se,columnViewId:X,select:!0,saveToOrigin:pe}))}addFieldToWorkingAreaAndWait(X,ie,se,pe){const ve=new T.SA({fieldConfigId:ie,extPlatformId:se,columnViewId:X,select:!0,saveToOrigin:pe});return setTimeout(()=>{this.columnViewDispatcher.dispatchAddFieldConfig(ve)}),this.commandRepository.waitForResponseCommand(ve).pipe((0,i.U)(()=>null),(0,s.K)(Ce=>(console.log(Ce),(0,t._)(Ce))))}removeFieldFromWorkingArea(X,ie,se){this.columnViewDispatcher.removeFieldConfig(new L.$p({fieldConfigUseId:ie,columnViewId:X,saveToOrigin:se}))}changeSelected(X,ie=!0){const se=new o.cQ({columnViewId:X,shouldSelectRemotely:ie});return setTimeout(()=>{this.columnViewDispatcher.changeSelected(se)}),this.commandRepository.waitForResponseCommand(se).pipe((0,i.U)(()=>null),(0,s.K)(pe=>(console.log(pe),(0,t._)(pe))))}commitChangesInColumnView(X){const ie=new L.vo(X);this.columnViewDispatcher.commitChanges(ie)}commitChangesInColumnViewAndWait(X){const ie=new L.vo(X);return setTimeout(()=>{this.columnViewDispatcher.commitChanges(ie)}),this.commandRepository.waitForResponseCommand(ie).pipe((0,r.q)(1),(0,s.K)(se=>(console.log(se),(0,t._)(se))))}discardChangesInColumnView(X,ie=!0){const se=new L.JU({columnViewId:X,select:ie});this.columnViewDispatcher.discardChanges(se)}reorderFieldConfig(X,ie,se,pe){this.columnViewDispatcher.reorderFieldConfig(new L.Rs({fieldConfigId:X,columnViewId:ie,nodeIndex:se,saveToOrigin:pe}))}changeFieldConfigFlex(X){this.columnViewDispatcher.changeFieldConfigFlexStyle(new L.F7(X))}changeAggregation(X,ie,se,pe,ve){this.columnViewDispatcher.changeAggregation(new y.X({columnViewId:X,fieldConfigId:ie,extPlatformId:se,aggregation:pe,saveToOrigin:ve}))}changeAggregationAndWait(X,ie,se,pe,ve){const Ce=new y.X({columnViewId:X,fieldConfigId:ie,extPlatformId:se,aggregation:pe,saveToOrigin:ve});return setTimeout(()=>{this.columnViewDispatcher.changeAggregation(Ce)}),this.commandRepository.waitForResponseCommand(Ce).pipe((0,i.U)(()=>null),(0,s.K)(ye=>(console.log(ye),(0,t._)(ye))))}changeAggregationAndCommit(X,ie,se,pe){this.changeAggregationAndWait(X,ie,se,pe,!0).pipe((0,r.q)(1)).subscribe()}changeDistribute(X,ie,se,pe,ve){this.columnViewDispatcher.changeDistribute(new P.k({columnViewId:X,fieldConfigId:ie,extPlatformId:se,distribute:pe,saveToOrigin:ve}))}changeDistributeAndWait(X,ie,se,pe,ve){const Ce=new P.k({columnViewId:X,fieldConfigId:ie,extPlatformId:se,distribute:pe,saveToOrigin:ve});return setTimeout(()=>{this.columnViewDispatcher.changeDistribute(Ce)}),this.commandRepository.waitForResponseCommand(Ce).pipe((0,i.U)(()=>null),(0,s.K)(ye=>(console.log(ye),(0,t._)(ye))))}changeDistributeAndCommit(X,ie,se,pe){this.changeDistributeAndWait(X,ie,se,pe,!0).pipe((0,r.q)(1)).subscribe()}changeDisplay(X,ie,se,pe){this.columnViewDispatcher.changeDisplay(new I.O({columnViewId:X,fieldConfigId:ie,display:se,saveToOrigin:pe}))}changeDisplayAndCommit(X,ie,se){const pe=new I.O({columnViewId:X,fieldConfigId:ie,display:se,saveToOrigin:!0});this.commandRepository.waitForResponseCommand(pe).pipe((0,i.U)(()=>null),(0,s.K)(ve=>(console.log(ve),(0,t._)(ve)))).pipe((0,r.q)(1)).subscribe(),this.columnViewDispatcher.changeDisplay(pe)}changeDisplayAndWait(X,ie,se,pe){const ve=new I.O({columnViewId:X,fieldConfigId:ie,display:se,saveToOrigin:pe});return setTimeout(()=>{this.columnViewDispatcher.changeDisplay(ve)}),this.commandRepository.waitForResponseCommand(ve).pipe((0,i.U)(()=>null),(0,s.K)(Ce=>(console.log(Ce),(0,t._)(Ce))))}addToFavourites(X){this.columnViewDispatcher.dispatch(new p.p6(X))}removeFromFavourites(X){this.columnViewDispatcher.dispatch(new p.be(X))}truncate(){this.columnViewDispatcher.truncate(new C)}saveAsNew(X,ie,se,pe){return this.columnViewAggregateRepository.selectOne(X).pipe((0,r.q)(1),(0,a.w)(ve=>{let Ie=ie||ve.name;ie||(Ie+=" - copy");const He=new v(X,Ie,(pe||ve.origin)===F.T.PRIVATE,se||ve.description);return this.saveAsNewColumnViewAndWait(He).pipe((0,r.q)(1))}))}clone(X,ie,se,pe){return this.columnViewAggregateRepository.selectOne(X).pipe((0,r.q)(1),(0,a.w)(ve=>{const ye=(pe||ve.origin)===F.T.PRIVATE;let Ie=ie||ve.name;ie||(Ie+=" - copy");const He=new h.E(Ie,se||ve.description,this.columnViewModuleCode.getCode(),ye);return this.createColumnViewAndWait(He).pipe((0,r.q)(1))}))}createColumnView(X){this.columnViewDispatcher.dispatch(new d.aL(X))}saveAsNewColumnViewAndWait(X){const ie=new m.c(X);return setTimeout(()=>{this.columnViewDispatcher.dispatch(ie)}),this.commandRepository.waitForResponseCommand(ie).pipe((0,s.K)(se=>(console.log(se),(0,t._)(se))))}createColumnViewAndWait(X){const ie=new d.aL(X);return setTimeout(()=>{this.columnViewDispatcher.dispatch(ie)}),this.commandRepository.waitForResponseCommand(ie).pipe((0,s.K)(se=>(console.log(se),(0,t._)(se))))}}return G.\u0275fac=function(X){return new(X||G)(x.LFG(B.n),x.LFG(b.F),x.LFG(M.L),x.LFG(w.F),x.LFG(K.L))},G.\u0275prov=x.Yz7({token:G,factory:G.\u0275fac}),G})()},95442:(S,g,e)=>{"use strict";e.d(g,{i:()=>o});var t=e(80358),n=e(71079),s=e(59458),i=e(62628),r=e(84046),a=e(9274);let o=(()=>{class d extends i.b{constructor(p,f,m,v){super(),this.fieldConfigCommandService=p,this.columnViewCommandService=f,this.allAvailableFieldsStorage=m,this.fieldConfigResource=v}initColumnView(){this.fieldConfigResource.fetchAllAvailableFields().pipe(this.takeUntilDestroy()).subscribe(p=>{this.allAvailableFieldsStorage.set(p),this.columnViewCommandService.fetchAll(),this.fieldConfigCommandService.fetchAllAvailable()})}}return d.\u0275fac=function(p){return new(p||d)(r.LFG(s.B),r.LFG(n.J),r.LFG(t.h),r.LFG(a.Q))},d.\u0275prov=r.Yz7({token:d,factory:d.\u0275fac}),d})()},28693:(S,g,e)=>{"use strict";e.d(g,{z:()=>_e});var t=e(85847),n=e(40813),s=e(50870),i=e(60903),r=e(17542),a=function(ke,nt,me,ht){var at,Wt=arguments.length,It=Wt<3?nt:null===ht?ht=Object.getOwnPropertyDescriptor(nt,me):ht;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)It=Reflect.decorate(ke,nt,me,ht);else for(var wt=ke.length-1;wt>=0;wt--)(at=ke[wt])&&(It=(Wt<3?at(It):Wt>3?at(nt,me,It):at(nt,me))||It);return Wt>3&&It&&Object.defineProperty(nt,me,It),It},o=function(ke,nt){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(ke,nt)};class d extends r.M{getClassName(){return"EntityFieldDefinitionResponse"}}a([(0,s.XV)(),o("design:type",String)],d.prototype,"dataType",void 0),a([(0,i.qA)(),o("design:type",Number)],d.prototype,"fieldId",void 0),a([(0,s.XV)(),o("design:type",String)],d.prototype,"fieldName",void 0),a([(0,s.XV)(),o("design:type",String)],d.prototype,"fieldLabel",void 0),a([(0,s.XV)(),o("design:type",String)],d.prototype,"defaultFieldAggregation",void 0);class f extends r.M{getClassName(){return"EntityFieldDefinitionsResponse"}}!function(ke,nt,me,ht){var at,Wt=arguments.length,It=Wt<3?nt:null===ht?ht=Object.getOwnPropertyDescriptor(nt,me):ht;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)It=Reflect.decorate(ke,nt,me,ht);else for(var wt=ke.length-1;wt>=0;wt--)(at=ke[wt])&&(It=(Wt<3?at(It):Wt>3?at(nt,me,It):at(nt,me))||It);Wt>3&&It&&Object.defineProperty(nt,me,It)}([(0,t.D)(()=>d),(0,n.j)(),function(ke,nt){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata("design:type",Array)}()],f.prototype,"fieldDefinitions",void 0);var m=e(2421),v=e(83155),E=e(84046),C=e(11531),T=e(83950);let y=(()=>{class ke extends v.a{constructor(me,ht){super(me),this.environmentService=ht,this.url="util/entity/view/field-definition"}getAllAvailableFields$(me){return this.get(me).pipe((0,m.W)(f))}getRestUrl(me){return`${this.environmentService.getRestBaseUrl()}${this.url}/${me}`}}return ke.\u0275fac=function(me){return new(me||ke)(E.LFG(C.O),E.LFG(T.L))},ke.\u0275prov=E.Yz7({token:ke,factory:ke.\u0275fac}),ke})();var I=e(62983);const P=[y,I.X];var L=e(80358),F=e(91303),b=e(71079),x=e(95442),B=e(66706),M=e(45432),w=e(81785),K=e(80257),k=e(95376),G=e(59458),$=e(31703),X=e(61104),ie=e(5706),se=e(53824),pe=e(82394),ve=e(98222),Ce=e(13364),ye=e(49469),de=e(27042),Ie=e(17897),He=e(46627),Ve=e(74851),Ue=e(66558),xe=e(79219),gt=e(50027),tt=e(14537),lt=e(56459),Mt=e(56182),ne=e(49319),De=e(72106),Ye=e(510),Qe=e(58399),Ke=e(57492),it=e(17257),Se=e(74232),Ct=e(17253),Lt=e(9274),Vt=e(30293),St=e(79510),$t=e(53436),yt=e(56556),Ft=e(4683),ot=e(69989),Me=e(32731),Ze=e(63833),Ne=e(32271),we=e(71726),At=e(56385),Rt=e(2859),zt=e(89630);class Yt{constructor(nt,me,ht,Wt,It,at,wt,jt,Tn,Fn,Nn,Wn,Xn,lo,Vn,rt){this.id=nt,this.name=me,this.origin=ht,this.type=Wt,this.distributes=It,this.aggregations=at,this.label=wt,this.taskFieldId=jt,this.columnIndex=Tn,this.extPlatformId=Fn,this.isGlobal=Nn,this.isGroupable=Wn,this.isSortable=Xn,this.defaultDecorator=lo,this.defaultAggregation=Vn,this.isEditable=rt}getDefaultDisplay(){return this.defaultDecorator}}var ln=e(69417),pn=e(25337),nn=e(75596),hn=e(47868),xt=e(56509),Zt=e(31270);let je=(()=>{class ke{constructor(me,ht){this.configOriginService=me,this.dataTypes=ht}convert(me){const ht=me.isGlobal?pn.B.create():this.configOriginService.create(me.extPlatformId);return new Yt(me.name,me.name,ht,hn.r.of(me.dataType),me.distributes?me.distributes.map(Wt=>Zt.c.of(Wt)):[],me.aggregations?me.distributes.map(Wt=>xt.I.of(Wt)):[],me.label,ln.Z.fromNumber(me.taskFieldId),me.configuration?me.configuration.columnIndex:null,ht.id,me.isGlobal,me.isGroupable,me.isSortable,this.dataTypes.get(hn.r.of(me.dataType)).getDefaultDecorator(),xt.I.of(me.defaultAggregation),me.isEditable)}convertMany(me){return me.map(ht=>this.convert(ht))}}return ke.\u0275fac=function(me){return new(me||ke)(E.LFG(K.B),E.LFG(nn.v))},ke.\u0275prov=E.Yz7({token:ke,factory:ke.\u0275fac}),ke})();var Le=e(77286),vt=e(61921),qe=e(53770),Et=e(99236),Nt=function(ke,nt){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(ke,nt)};class Je extends v.a{constructor(nt,me,ht,Wt,It,at,wt){super(nt),this.environmentService=me,this.extPlatformRepository=ht,this.restFieldConfigConverter=Wt,this.allAvailableFieldsStorage=It,this.dataTypeResource=at,this.dataTypeInstanceRepository=wt,this.url="ppm/task"}getRestUrl(nt){return this.environmentService.getRestBaseUrl()+nt}fetchAllAvailable(){return(0,Ft.aj)([this.allAvailableFieldsStorage.select().pipe((0,Ze.q)(1)),this.dataTypeResource.fetchAvailableDataTypes(),this.extPlatformRepository.select().pipe((0,Ne.n)(nt=>!nt||!nt.length),(0,Ze.q)(1))]).pipe((0,we.U)(([nt,me,ht])=>{const Wt=this.parseExtPlatformFields(nt.allFieldsForExtPlatforms,ht),It=this.parseGlobalFields(nt.globalFieldDefinitions,me);return this.restFieldConfigConverter.convertMany([...Wt,...It])}),(0,At.K)(nt=>(console.error(nt),(0,ot._)(nt))))}fetchAllAvailableFields(){return this.get(`${this.url}/fields/available`).pipe((0,m.W)(vt.M))}createExtPlatformFieldOrigin(nt){return(new zt.D.Builder).withId(nt.id).withName(nt.name).withType(nt.extPlatformType.name).withIconURL(nt.extPlatformType.iconURL).withHomeURL(nt.baseURL).build()}parseExtPlatformFields(nt,me){return Object.keys(nt).map(ht=>nt[ht].filter(Wt=>this.dataTypeInstanceRepository.isDefined(hn.r.of(Wt.dataType))).map(Wt=>{const It=me.find(at=>`${at.id}`===ht);return Object.assign(Object.assign({},Wt),{aggregation:void 0,distribute:void 0,name:Wt.extPlatformFieldId,origin:this.createExtPlatformFieldOrigin(It),extPlatformId:It.id,isGlobal:!1,customField:void 0,isGroupable:void 0,configuration:void 0,availableAggregations:void 0,taskFieldId:void 0,isSortable:void 0,getClassName:()=>"FieldConfigDTO",isEditable:void 0})})).reduce((ht,Wt)=>ht.concat(Wt))}parseGlobalFields(nt,me){return nt.filter(ht=>this.dataTypeInstanceRepository.isDefined(hn.r.of(ht.dataType))).map(ht=>{const Wt=me.find(wt=>wt.dataTypeId===`${ht.dataType}`),It=Wt?Wt.aggregations:[],at=Wt?Wt.histograms:[];return{aggregation:It.length?qe.H.toString():null,availableAggregations:It,configuration:null,distribute:at.length?qe.H.toString():null,customField:!1,dataType:ht.dataType,label:ht.fieldName,taskFieldId:ht.fieldId,name:ht.fieldName,aggregations:It,distributes:at,origin:pn.B.create(),extPlatformId:ht.extPlatformId,isGlobal:!0,isSortable:ht.isSortable,isGroupable:!0,getClassName:()=>"FieldConfigDTO",isEditable:ht.isEditable}})}}Je.\u0275fac=function(nt){return new(nt||Je)(E.LFG(C.O),E.LFG(T.L),E.LFG(Rt.G),E.LFG(je),E.LFG(L.h),E.LFG(Et.y),E.LFG(nn.v))},Je.\u0275prov=E.Yz7({token:Je,factory:Je.\u0275fac}),function(ke,nt,me,ht){var at,Wt=arguments.length,It=Wt<3?nt:null===ht?ht=Object.getOwnPropertyDescriptor(nt,me):ht;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)It=Reflect.decorate(ke,nt,me,ht);else for(var wt=ke.length-1;wt>=0;wt--)(at=ke[wt])&&(It=(Wt<3?at(It):Wt>3?at(nt,me,It):at(nt,me))||It);Wt>3&&It&&Object.defineProperty(nt,me,It)}([(0,Le.u)(),Nt("design:type",Function),Nt("design:paramtypes",[]),Nt("design:returntype",Me.y)],Je.prototype,"fetchAllAvailableFields",null);var Ot=e(12827);let fe=(()=>{class ke{constructor(me,ht,Wt,It,at,wt,jt,Tn){this.httpFieldConfigResource=me,this.extPlatformRepository=ht,this.restFieldConfigConverter=Wt,this.allAvailableFieldsStorage=It,this.dataTypeResource=at,this.dataTypeInstanceRepository=wt,this.columnViewModuleCode=jt,this.httpEntityFieldDefinitionsResources=Tn}fetchAllAvailable(){return(0,Ot.t)(this.columnViewModuleCode.getCode())?(0,Ft.aj)([this.allAvailableFieldsStorage.select().pipe((0,Ze.q)(1)),this.dataTypeResource.fetchAvailableDataTypes()]).pipe((0,we.U)(([me,ht])=>{const Wt=this.parseGlobalFields(me.globalFieldDefinitions,ht);return this.restFieldConfigConverter.convertMany(Wt)}),(0,At.K)(me=>(console.error(me),(0,ot._)(me)))):this.httpFieldConfigResource.fetchAllAvailable()}fetchAllAvailableFields(){const me=this.columnViewModuleCode.getCode();return(0,Ot.t)(me)?this.httpEntityFieldDefinitionsResources.getAllAvailableFields$(me).pipe((0,we.U)(ht=>({allFieldsForExtPlatforms:{},globalFieldDefinitions:ht.fieldDefinitions,getClassName:()=>"AllAvailableFieldsDTO"}))):this.httpFieldConfigResource.fetchAllAvailableFields()}parseGlobalFields(me,ht){return me.filter(Wt=>this.dataTypeInstanceRepository.isDefined(hn.r.of(Wt.dataType))).map(Wt=>{const It=ht.find(jt=>jt.dataTypeId===`${Wt.dataType}`),at=It?It.aggregations:[],wt=It?It.histograms:[];return{aggregation:at.length?qe.H.toString():null,availableAggregations:at,configuration:null,distribute:wt.length?qe.H.toString():null,customField:!1,dataType:Wt.dataType,label:Wt.fieldLabel,taskFieldId:Wt.fieldId,name:Wt.fieldName,aggregations:at,distributes:wt,origin:pn.B.create(),extPlatformId:Wt.extPlatformId,isGlobal:!0,isSortable:!Wt.isSortable||Wt.isSortable,isGroupable:!0,defaultAggregation:Wt.defaultFieldAggregation,getClassName:()=>"FieldConfigDTO",isEditable:Wt.isEditable}})}}return ke.\u0275fac=function(me){return new(me||ke)(E.LFG(Je),E.LFG(Rt.G),E.LFG(je),E.LFG(L.h),E.LFG(Et.y),E.LFG(nn.v),E.LFG(B.L),E.LFG(y))},ke.\u0275prov=E.Yz7({token:ke,factory:ke.\u0275fac}),ke})(),Ge=(()=>{class ke extends Lt.Q{constructor(me){super(),this.restFieldConfigAdapter=me}fetchAllAvailable(){return this.restFieldConfigAdapter.fetchAllAvailable()}fetchAllAvailableFields(){return this.restFieldConfigAdapter.fetchAllAvailableFields()}}return ke.\u0275fac=function(me){return new(me||ke)(E.LFG(fe))},ke.\u0275prov=E.Yz7({token:ke,factory:ke.\u0275fac}),ke})();var Tt=e(70822),Pe=e(73112),pt=e(12033),Q=e(25468);let Ee=(()=>{class ke extends pe.F{constructor(me,ht){super(),this.store=me,this.dataTypes=ht}selectOne(me){return this.store.select(ht=>this.getCvState(ht).columnViews.entities).pipe((0,we.U)(ht=>this.convertToColumnView(ht[me])))}selectActual(){return this.store.select(me=>this.getCvState(me).columnViews).pipe((0,Tt.h)(me=>me.fetched),(0,we.U)(me=>me.entities),(0,we.U)(me=>Object.keys(me).map(ht=>me[ht]).map(ht=>this.convertToColumnView(ht))),(0,we.U)(me=>me.filter(ht=>ht.selected)),(0,Tt.h)(me=>me.length>0),(0,we.U)(me=>me[0]))}convertToColumnView(me){if(!me)return;const ht=me.fieldConfigs.map(It=>this.convertToFieldConfig(It));return new Pe.b(me.id,me.name,me.favourite,me.selected,me.origin,me.description,ht,me.inEditMode,me.inheritedFromRefId)}convertToFieldConfig(me){const ht=me.id,Wt=new pt.x(me.name,me.name,me.label,me.origin,me.type,me.display,me.aggregation,me.distribute,me.treeRoot,me.flex,me.taskFieldId,me.columnIndex,me.origin.id,me.isGlobal,me.isGroupable,me.isSortable,me.aggregations,me.distributes,this.dataTypes.get(me.type),me.isEditable);return ht&&(Wt.id=ht),Wt}getCvState(me){return me[_e.StoreName]}}return ke.\u0275fac=function(me){return new(me||ke)(E.LFG(Q.yh),E.LFG(nn.v))},ke.\u0275prov=E.Yz7({token:ke,factory:ke.\u0275fac}),ke})();class ue{constructor(nt,me,ht,Wt,It,at,wt,jt,Tn){this.id=nt,this.name=me,this.favourite=ht,this.selected=Wt,this.origin=It,this.description=at,this.fieldConfigs=wt,this.inEditMode=jt,this.inheritedFromRefId=Tn}static fromAggregate(nt){return new ue(nt.id,nt.name,nt.favourite,nt.selected,nt.origin,nt.description,nt.usedFieldConfigs,nt.inEditMode,nt.inheritedFromRefId||null)}static fromAggregateArray(nt){return nt.map(me=>ue.fromAggregate(me))}}var be=e(50745),mt=e(64775),Ut=e(41808),Xt=e(44938),en=e(61754),mn=e(91598),In=e(60143);let Un=(()=>{class ke extends ve.n{constructor(me){super(),this.store=me}dispatch(me){if(me instanceof be.V6)return void this.dispatchFetchAllSuccess(me);if(me instanceof mt.o8)return void this.dispatchCreateSuccess(me);if(me instanceof Xt.ch)return void this.dispatchUpdateSuccess(me);if(me instanceof Ut.Ul)return void this.dispatchDeleteSuccess(me);if(me instanceof mn.aD)return void this.dispatchAddToFavouriteSuccess(me);if(me instanceof mn.MU)return void this.dispatchRemoveFromFavouriteSuccess(me);if(me instanceof In.rO)return void this.dispatchAddFieldConfigToWorkingAreaSuccessCommand(me);const ht=new en.S(me.getType(),me);this.store.dispatch(ht)}dispatchFetchAllSuccess(me){const Wt=ue.fromAggregateArray(me.views);me.views=null,me.setData(Wt);const It=new en.S(me.getType(),me);this.store.dispatch(It)}dispatchCreateSuccess(me){const Wt=ue.fromAggregate(me.view);me.setData(Wt);const It=new en.S(me.getType(),me);this.store.dispatch(It)}dispatchDeleteSuccess(me){const ht=me.cvId;me.cvId=null,me.setData(ht);const Wt=new en.S(me.getType(),me);this.store.dispatch(Wt)}dispatchUpdateSuccess(me){const Wt=ue.fromAggregate(me.view);me.view=null,me.setData(Wt);const It=new en.S(me.getType(),me);this.store.dispatch(It)}dispatchAddToFavouriteSuccess(me){const ht=me.cvId;me.cvId=null,me.setData(ht);const Wt=new en.S(me.getType(),me);this.store.dispatch(Wt)}dispatchRemoveFromFavouriteSuccess(me){const ht=me.cvId;me.cvId=null,me.setData(ht);const Wt=new en.S(me.getType(),me);this.store.dispatch(Wt)}dispatchAddFieldConfigToWorkingAreaSuccessCommand(me){const ht=me.payload;me.payload=null,me.setData(ht);const Wt=new en.S(me.getType(),me);this.store.dispatch(Wt)}}return ke.\u0275fac=function(me){return new(me||ke)(E.LFG(Q.yh))},ke.\u0275prov=E.Yz7({token:ke,factory:ke.\u0275fac}),ke})(),Jn=(()=>{class ke extends Se.p{constructor(me,ht){super(),this.store=me,this.dataTypes=ht}selectAllAvailables(){return this.store.select(me=>this.getCvState(me).availableFieldConfigs).pipe((0,Tt.h)(me=>me.fetched),(0,we.U)(me=>me.entities),(0,we.U)(me=>Object.keys(me).map(ht=>me[ht]).map(ht=>this.convertToFieldConfig(ht))))}selectOne(me,ht){return this.selectAll().pipe((0,Ze.q)(1),(0,we.U)(Wt=>Wt.find(It=>It.name.replace(/\s/g,"").toLowerCase()===me.replace(/\s/g,"").toLowerCase()&&It.extPlatformId===ht)))}selectAll(){return this.store.select(me=>this.getCvState(me).availableFieldConfigs).pipe((0,Tt.h)(me=>me.fetched),(0,we.U)(me=>me.entities),(0,we.U)(me=>Object.keys(me).map(ht=>me[ht]).map(ht=>this.convertToFieldConfig(ht))))}convertToFieldConfig(me){return new Yt(me.id,me.name,me.origin,me.type,me.distributes,me.aggregations,me.label,me.taskFieldId,me.columnIndex,me.extPlatformId,me.isGlobal,me.isGroupable,me.isSortable,this.dataTypes.get(me.type).getDefaultDecorator(),me.defaultAggregation,me.isEditable)}getCvState(me){return me[_e.StoreName]}}return ke.\u0275fac=function(me){return new(me||ke)(E.LFG(Q.yh),E.LFG(nn.v))},ke.\u0275prov=E.Yz7({token:ke,factory:ke.\u0275fac}),ke})();var zn=e(61822);class An{constructor(nt,me,ht,Wt,It,at,wt,jt,Tn,Fn,Nn,Wn,Xn,lo,Vn){this.id=nt,this.name=me,this.origin=ht,this.type=Wt,this.distributes=It,this.aggregations=at,this.label=wt,this.taskFieldId=jt,this.columnIndex=Tn,this.extPlatformId=Fn,this.isGlobal=Nn,this.isSortable=Wn,this.isGroupable=Xn,this.defaultAggregation=lo,this.isEditable=Vn}static fromAggregate(nt){return new An(`${nt.extPlatformId}-${nt.name}`,nt.name,nt.origin,nt.type,nt.distributes,nt.aggregations,nt.label,nt.taskFieldId,nt.columnIndex,nt.extPlatformId,nt.isGlobal,nt.isSortable,nt.isGroupable,nt.defaultAggregation,nt.isEditable)}static fromAggregateArray(nt){return nt.map(me=>An.fromAggregate(me))}}let to=(()=>{class ke extends Ct.v{constructor(me){super(),this.store=me}dispatch(me){if(me instanceof zn.PW)return void this.dispatchFetchAllSuccess(me);const ht=new en.S(me.getType(),me);this.store.dispatch(ht)}dispatchFetchAllSuccess(me){const Wt=An.fromAggregateArray(me.availableFieldConfigs);me.availableFieldConfigs=null,me.setData(Wt);const It=new en.S(me.getType(),me);this.store.dispatch(It)}}return ke.\u0275fac=function(me){return new(me||ke)(E.LFG(Q.yh))},ke.\u0275prov=E.Yz7({token:ke,factory:ke.\u0275fac}),ke})();var no=e(38768),uo=e(92586),$n=e(13503);class kn{constructor(nt,me,ht,Wt,It,at,wt,jt,Tn){this.id=nt,this.name=me,this.favourite=ht,this.selected=Wt,this.origin=It,this.description=at,this.fieldConfigs=wt,this.changed=jt,this.inheritedFromRefId=Tn}static getTooltipForDisabledDelete(nt,me){if(nt.selected)return"SPT_BOXCONFIG_COLUMN_VIEWS_BUTTON_DELETE_FAILURE_MESSAGE_1";if(me){if(1===me.length)return"SPT_BOXCONFIG_COLUMN_VIEWS_BUTTON_DELETE_FAILURE_MESSAGE_2";if(!nt.isPrivate()&&1===me.filter(Wt=>!Wt.isPrivate()).length)return"SPT_BOXCONFIG_COLUMN_VIEWS_BUTTON_DELETE_FAILURE_MESSAGE_3"}return""}isFavourite(){return this.favourite}equals(nt){return this.id===nt.id}isDeleteDisabled(nt){return!!kn.getTooltipForDisabledDelete(this,nt||[])}isEditDisabled(){return!1}isPrivate(){return this.origin===$n.T.PRIVATE}}class ro{constructor(nt,me,ht,Wt,It,at,wt,jt,Tn,Fn,Nn,Wn,Xn){this.fieldId=nt,this.id=me,this.name=ht,this.label=Wt,this.origin=It,this.type=at,this.decoratorType=wt,this.aggregation=jt,this.distribute=Tn,this.treeRoot=Fn,this.flex=Nn,this.isSortable=Wn,this.editable=Xn,this.distribute&&this.distribute.value!==qe.H.toString()&&(this.aggregation=null)}hasDistribute(){return!!this.distribute}}class Dt{constructor(nt,me){this.value=nt,this.label=me}}var Cn=e(24298),Fe=e(67489);let Pt=(()=>{class ke extends no.s{constructor(me){super(),this.store=me,this.fieldConfigAggregationPipe=new Cn.z}selectAll(){return this.selectColumnViews()}selectOneColumnView(me){return this.store.select(ht=>this.getCvState(ht).columnViews).pipe((0,Tt.h)(ht=>ht.fetched),(0,we.U)(ht=>ht.entities),(0,Tt.h)(ht=>ht[me]),(0,we.U)(ht=>this.convertColumnViewFromAnemia(ht[me])))}selectActual(){return this.store.select(me=>this.getCvState(me).columnViews).pipe((0,Tt.h)(me=>me.fetched),(0,we.U)(me=>me.entities),(0,we.U)(me=>Object.keys(me).map(ht=>me[ht]).map(ht=>this.convertColumnViewFromAnemia(ht))),(0,we.U)(me=>me.filter(ht=>ht.selected)),(0,we.U)(me=>1===me.length?me[0]:null))}selectAllFavourites(){return this.selectColumnViews().pipe((0,we.U)(me=>me.filter(ht=>ht.favourite)))}selectAllAvailable(){return this.selectColumnViews().pipe((0,we.U)(me=>me.filter(ht=>!ht.favourite)))}selectColumnViews(){return this.selectColumnViewEntities().pipe((0,we.U)(me=>Object.keys(me).map(ht=>me[ht]).map(ht=>this.convertColumnViewFromAnemia(ht))))}selectColumnViewEntities(){return this.store.select(me=>this.getCvState(me).columnViews).pipe((0,Tt.h)(me=>me.fetched),(0,we.U)(me=>me.entities))}convertColumnViewFromAnemia(me){return new kn(me.id,me.name,me.favourite,me.selected,me.origin,me.description,this.convertFieldConfigUseFromAnemia(me.fieldConfigs),me.inEditMode,me.inheritedFromRefId||null)}convertFieldConfigUseFromAnemia(me=[]){return me.filter(ht=>ht.id).map(ht=>new ro(ht.taskFieldId,ht.id,ht.name,ht.label,ht.origin,ht.type,this.convertDecoratorType(ht.display),this.convertAggregation(ht.aggregation),this.convertAggregation(ht.distribute),ht.treeRoot,ht.flex,ht.isSortable,ht.isEditable))}convertAggregation(me){return me?new Dt(me.toString(),this.fieldConfigAggregationPipe.transform(me)):null}convertDecoratorType(me){return new Dt(me,Fe.Q.transformDecoratorType(me))}getCvState(me){return me[_e.StoreName]}}return ke.\u0275fac=function(me){return new(me||ke)(E.LFG(Q.yh))},ke.\u0275prov=E.Yz7({token:ke,factory:ke.\u0275fac}),ke})();var tn=e(98223);class Sn{constructor(nt,me,ht,Wt,It,at,wt,jt){this.id=nt,this.name=me,this.origin=ht,this.tooltip=Wt,this.type=It,this.distributes=at,this.aggregations=wt,this.label=jt,at||(this.distributes=[]),wt||(this.aggregations=[])}}var qt=e(73921),cn=e(16519);let rn=(()=>{class ke extends uo.c{constructor(me,ht){super(),this.store=me,this.l10nTextService=ht}selectAllAvailable(){return this.selectFieldConfigs()}selectFieldConfigs(){return this.store.select(me=>this.getCvState(me).availableFieldConfigs).pipe((0,Tt.h)(me=>me.fetched),(0,we.U)(me=>me.entities),(0,we.U)(me=>Object.keys(me).map(ht=>me[ht]).map(ht=>this.convertToFieldConfig(ht))),(0,we.U)(me=>this.sortByOriginAndName(me)))}convertToFieldConfig(me){return new Sn(me.id,me.name,me.origin,qt.p.resolveTooltipTextFromPlatform(this.l10nTextService,me.origin,!0),me.type,me.distributes,me.aggregations,me.label)}getCvState(me){return me[_e.StoreName]}sortByOriginAndName(me){const ht=[...me],Wt=(0,cn.B)(It=>It.origin.type,ke.BUILT_IN_FIELD_ORIGIN_PLATFORM_NAME,It=>It.label);return ht.sort(Wt)}}return ke.BUILT_IN_FIELD_ORIGIN_PLATFORM_NAME="Built-in",ke.\u0275fac=function(me){return new(me||ke)(E.LFG(Q.yh),E.LFG(tn.e))},ke.\u0275prov=E.Yz7({token:ke,factory:ke.\u0275fac}),ke})();var un=e(53339),Hn=e(98274),oo=e(98482),qn=e(90578);class bn extends qn.m{constructor(nt){super("RedirectColumnViewCommand"),this.columnViewId=nt}}var so=e(67177),Yn=e(22521);let Do=(()=>{class ke extends so.g{constructor(me,ht,Wt,It,at){super(),this.columnViewRepository=me,this.commandRepository=ht,this.columnViewDispatcher=Wt,this.environmentService=It,this.columnViewModuleCode=at}getItems(){return this.columnViewRepository.selectAll()}createItem(me){const ht=me.origin.value===$n.T.PRIVATE,Wt=new oo.E(me.name,me.description,`${this.columnViewModuleCode.getCode()}_COLUMN`,ht),It=new mt.aL(Wt),at=this.commandRepository.waitForResponseCommand(It).pipe((0,Hn.w)(wt=>{const jt=wt.getData().id,Tn=new bn(jt);return this.columnViewDispatcher.dispatch(Tn),this.columnViewRepository.selectOneColumnView(jt).pipe((0,Ze.q)(1))}),(0,At.K)(wt=>(console.log(wt),(0,ot._)(wt))));return setTimeout(()=>{this.columnViewDispatcher.dispatch(It)}),at}updateItem(me,ht){let Wt;Wt=ht?new mn.be(me):new mn.p6(me);const It=this.commandRepository.waitForResponseCommand(Wt).pipe((0,Hn.w)(at=>{const wt=at.getData();return this.columnViewRepository.selectOneColumnView(wt).pipe((0,Ze.q)(1))}),(0,At.K)(at=>(console.log(at),(0,ot._)(at))));return setTimeout(()=>{this.columnViewDispatcher.dispatch(Wt)}),It}removeItem(me){const ht=new Ut.Us(me.id),Wt=this.commandRepository.waitForResponseCommand(ht).pipe((0,Hn.w)(()=>(0,un.of)(!0)));return setTimeout(()=>{this.columnViewDispatcher.dispatch(ht)}),Wt}}return ke.\u0275fac=function(me){return new(me||ke)(E.LFG(no.s),E.LFG(Yn.F),E.LFG(ve.n),E.LFG(T.L),E.LFG(B.L))},ke.\u0275prov=E.Yz7({token:ke,factory:ke.\u0275fac}),ke})();var _t=e(25069);const sn=[ie.h,Ce.x,Ve.I,He.j,ye.a,Ue.w,it.Z,de.A,Ie.u,tt.Y,lt.C,Mt.H,ne.W,gt.G,Qe.q,xe.f,Ye.J];let _e=(()=>{class ke{static forRoot(){return{ngModule:ke,providers:[{provide:_t.H,useClass:X.o},{provide:no.s,useClass:Pt},{provide:uo.c,useClass:rn},{provide:ve.n,useClass:Un},{provide:Se.p,useClass:Jn},{provide:pe.F,useClass:Ee},{provide:Ct.v,useClass:to},{provide:uo.c,useClass:rn},{provide:so.g,useClass:Do},B.L,L.h,w.X,G.B,$.C,M.L,k.y,De.v,...P]}}static forChild(){return{ngModule:ke,providers:[{provide:Vt.S,useClass:St.x},{provide:Lt.Q,useClass:Ge},fe,Je,K.B,yt.L,se.F,$t.M,je,b.J,x.i,Ke.l,F.M,...sn]}}}return ke.StoreName="ColumnView",ke.\u0275fac=function(me){return new(me||ke)},ke.\u0275mod=E.oAB({type:ke}),ke.\u0275inj=E.cJS({}),ke})()},66706:(S,g,e)=>{"use strict";e.d(g,{L:()=>s});var t=e(97809),n=e(84046);let s=(()=>{class i{constructor(){this.code$=new t.t(1)}getCode(){return this.code}setCode(a){this.code=a,this.code$.next(a)}selectCode(){return this.code$.asObservable()}}return i.\u0275fac=function(a){return new(a||i)},i.\u0275prov=n.Yz7({token:i,factory:i.\u0275fac}),i})()},81785:(S,g,e)=>{"use strict";e.d(g,{X:()=>r});var t=e(70822),n=e(71726),s=e(84046),i=e(38768);let r=(()=>{class a{constructor(d){this.columnViewQueryRepository=d}selectOne(d){return this.columnViewQueryRepository.selectOneColumnView(d)}selectActual(){return this.columnViewQueryRepository.selectActual()}selectAllAvailable(){return this.columnViewQueryRepository.selectAllAvailable()}selectAllFavourites(){return this.columnViewQueryRepository.selectAllFavourites()}selectActualFieldConfigUse(){return this.columnViewQueryRepository.selectActual().pipe((0,t.h)(Boolean),(0,n.U)(d=>d.fieldConfigs))}}return a.\u0275fac=function(d){return new(d||a)(s.LFG(i.s))},a.\u0275prov=s.Yz7({token:a,factory:a.\u0275fac}),a})()},59458:(S,g,e)=>{"use strict";e.d(g,{B:()=>a});var t=e(61822),n=e(90578);class s extends n.m{constructor(){super("TruncateFieldConfigsCommand")}}var i=e(84046),r=e(17253);let a=(()=>{class o{constructor(h){this.fieldConfigDispatcher=h}fetchAllAvailable(){this.fieldConfigDispatcher.dispatch(new t.dy)}truncate(){this.fieldConfigDispatcher.dispatch(new s)}}return o.\u0275fac=function(h){return new(h||o)(i.LFG(r.v))},o.\u0275prov=i.Yz7({token:o,factory:o.\u0275fac}),o})()},31703:(S,g,e)=>{"use strict";e.d(g,{C:()=>s});var t=e(84046),n=e(92586);let s=(()=>{class i{constructor(a){this.fieldConfigQueryRepository=a}selectAllAvailable(){return this.fieldConfigQueryRepository.selectAllAvailable()}}return i.\u0275fac=function(a){return new(a||i)(t.LFG(n.c))},i.\u0275prov=t.Yz7({token:i,factory:i.\u0275fac}),i})()},45432:(S,g,e)=>{"use strict";e.d(g,{L:()=>f});var t=e(98223),n=e(73921),s=e(61788);class i{static fromRaw(v){const E=new i;return E.id=v.id,E.name=v.name,E.treeColumn=v.treeColumn,E.columns=v.columns,E}static fromDomain(v){const E=new i;return E.id=v.getId(),E.name=v.getName(),E.treeColumn=0,E.columns=s.D.fromDomainArray(v.getColumnsFromCollection()),E}}var r=e(85703),a=e(92520),o=e(69417),d=e(75596),h=e(47868),p=e(84046);let f=(()=>{class m{constructor(E,C){this.l10nTextService=E,this.dataTypes=C}fromColumnViewQuery(E){return i.fromRaw({id:E.id,name:E.name,columns:E.fieldConfigs.map(C=>{const T=this.dataTypes.get(C.type);return{fieldId:C.fieldId,id:C.id,label:C.label,name:C.name,resize:!0,treeExpander:C.treeRoot,type:C.type,configuration:{flex:C.flex,align:"center"},aggregation:C.aggregation,distribute:C.distribute,decoratorType:C.decoratorType,decorators:T.getAvailableDecorators(),origin:C.origin,tooltip:n.p.resolveTooltipTextFromPlatform(this.l10nTextService,C.origin),isSortable:C.isSortable}})})}fromColumnView(E,C){return i.fromRaw({id:E.id,name:E.name,columns:C.map(T=>{const y=this.dataTypes.get(h.r.of(T.dataType));return{fieldId:o.Z.fromNumber(T.taskFieldId),id:(0,r.Mc)((0,r.Y)()),label:T.label,name:T.name,resize:!0,treeExpander:T.root,type:y.getDataTypeId(),configuration:{flex:T.flex},aggregation:new a.d(T.aggregation,T.aggregation),distribute:new a.d(T.distribute,T.distribute),decoratorType:new a.d(T.decoratorType,T.decoratorType),decorators:y.getAvailableDecorators(),origin:null,tooltip:""}})})}}return m.\u0275fac=function(E){return new(E||m)(p.LFG(t.e),p.LFG(d.v))},m.\u0275prov=p.Yz7({token:m,factory:m.\u0275fac}),m})()},80257:(S,g,e)=>{"use strict";e.d(g,{B:()=>r});var t=e(78526),n=e(89630),s=e(2859),i=e(84046);let r=(()=>{class a{constructor(d){this.extPlatformRepository=d,this.extPlatforms=[],d.select().subscribe(h=>{this.extPlatforms=h})}create(d){let h=new n.D.Builder;if(d){const p=this.extPlatforms.find(f=>f.id===d);h=h.withId(p.id).withName(p.name).withType(p.extPlatformType.name).withIconURL(p.extPlatformType.iconURL).withHomeURL(p.baseURL)}else h=h.withName(t.M);return h.build()}}return a.\u0275fac=function(d){return new(d||a)(i.LFG(s.G))},a.\u0275prov=i.Yz7({token:a,factory:a.\u0275fac}),a})()},95376:(S,g,e)=>{"use strict";e.d(g,{y:()=>a});var t=e(72075),n=e(89744),s=e(61788),i=e(84046),r=e(83950);let a=(()=>{class o{constructor(h){this.environmentService=h}toTreeColumnAnemia(h){return h.map(p=>s.D.fromRaw(Object.assign(Object.assign({},p),{configuration:{iconURL:this.getFieldConfigIconURL(p),linkURL:this.getFieldConfigLinkURL(p)}})))}getFieldConfigIconURL(h){return n.c.isBuiltIn(h.origin)?null:h.origin.iconURL}getFieldConfigLinkURL(h){return n.c.isBuiltIn(h.origin)?this.environmentService.getHelpURL(t.m):h.origin.homeURL}}return o.\u0275fac=function(h){return new(h||o)(i.LFG(r.L))},o.\u0275prov=i.Yz7({token:o,factory:o.\u0275fac}),o})()},61104:(S,g,e)=>{"use strict";e.d(g,{o:()=>m});var t=e(71079),n=e(24298),s=e(71726),i=e(75596),r=e(67489),a=e(19448),o=e(25069),d=e(92520),h=e(84046),p=e(92586),f=e(82394);let m=(()=>{class v extends o.H{constructor(C,T,y,I){super(),this.columnViewCommandService=C,this.fieldConfigQueryRepository=T,this.columnViewAggregateRepository=y,this.dataTypes=I,this.fieldConfigAggregationPipe=new n.z}getAvailableColumnConfig$(C){return this.columnViewAggregateRepository.selectActual().pipe((0,s.U)(T=>T.usedFieldConfigs),(0,s.U)(T=>{const y=T.find(I=>this.isMatchingField(I,C));return y?this.convert(y):null}))}changeAggregation(C,T,y,I){this.columnViewCommandService.changeAggregation(C,T,y,I,!1)}changeDistribute(C,T,y,I){this.columnViewCommandService.changeDistribute(C,T,y,I,!1)}changeDisplay(C,T,y){this.columnViewCommandService.changeDisplay(C,T,y,!1)}getColumnViewCommandService(){return this.columnViewCommandService}convert(C){return new a.W(C.id,this.convertAggregations(C.aggregations),this.createDecorators(C),this.convertAggregations(C.distributes))}convertAggregations(C){return C.map(T=>new d.d(T.toString(),this.fieldConfigAggregationPipe.transform(T)))}createDecorators(C){const T=this.dataTypes.get(C.type).getAvailableDecorators();return this.convertDecoratorType(T,C.type.toString())}isMatchingField(C,T){const I=`${T.origin.id}-${T.name}`;return`${C.origin.id}-${C.name}`.replace(/\s/g,"").toLowerCase()===I.replace(/\s/g,"").toLowerCase()&&C.type===T.type}convertDecoratorType(C,T){return C.map(y=>new d.d(y,r.Q.transformDecoratorType(y,T)))}}return v.\u0275fac=function(C){return new(C||v)(h.LFG(t.J),h.LFG(p.c),h.LFG(f.F),h.LFG(i.v))},v.\u0275prov=h.Yz7({token:v,factory:v.\u0275fac}),v})()},73112:(S,g,e)=>{"use strict";e.d(g,{b:()=>t});class t{constructor(s,i,r,a,o,d,h,p,f){this.id=s,this.name=i,this.favourite=r,this.selected=a,this.origin=o,this.description=d,this.usedFieldConfigs=h,this.inEditMode=p,this.inheritedFromRefId=f}setName(s){this.name=s}setOrigin(s){this.origin=s}setDescriptions(s){this.description=s}setFieldConfigs(s){this.usedFieldConfigs=s}setInEditMode(s){this.inEditMode=s}}},53824:(S,g,e)=>{"use strict";e.d(g,{F:()=>d});var t=e(63833),n=e(71726),s=e(73112),i=e(56556),r=e(13503),a=e(84046),o=e(82394);let d=(()=>{class h{constructor(f,m){this.columnViewAggregateRepository=f,this.fieldConfigUseConverter=m}afterUpdate(f){return this.columnViewAggregateRepository.selectOne(f.id).pipe((0,t.q)(1),(0,n.U)(m=>m?this.updateExistingColumnView(m,f):this.createNewColumnViewCopy(f)))}fromView(f){return new s.b(f.id,f.name,!1,!1,f.prv?r.T.PRIVATE:r.T.PUBLIC,f.description,this.fieldConfigUseConverter.convertMany(f.fieldConfigs),f.inEditMode,f.inheritedFromRefId)}createNewColumnViewCopy(f){return this.fromView(f)}updateExistingColumnView(f,m){return f.setName(m.name),f.setOrigin(m.prv?r.T.PRIVATE:r.T.PUBLIC),f.setDescriptions(m.description),f.setFieldConfigs(this.fieldConfigUseConverter.convertMany(m.fieldConfigs)),f.setInEditMode(m.inEditMode),f}}return h.\u0275fac=function(f){return new(f||h)(a.LFG(o.F),a.LFG(i.L))},h.\u0275prov=a.Yz7({token:h,factory:h.\u0275fac}),h})()},82394:(S,g,e)=>{"use strict";e.d(g,{F:()=>t});class t{}},98222:(S,g,e)=>{"use strict";e.d(g,{n:()=>n});var t=e(28909);class n extends t.U{constructor(){super()}dispatchAddFieldConfig(i){i.setData({columnViewId:i.payload.columnViewId,nodeIndex:i.payload.nodeIndex}),this.dispatch(i)}removeFieldConfig(i){i.setData({fieldConfigId:i.payload.fieldConfigUseId,columnViewId:i.payload.columnViewId}),this.dispatch(i)}changeTreeRoot(i){i.setData({fieldConfigId:i.payload.fieldConfigUseId,columnViewId:i.payload.columnViewId}),this.dispatch(i)}reorderFieldConfig(i){i.setData({fieldConfigId:i.payload.fieldConfigId,columnViewId:i.payload.columnViewId,nodeIndex:i.payload.nodeIndex,saveToOrigin:i.payload.saveToOrigin}),this.dispatch(i)}changeFieldConfigFlexStyle(i){i.setData(i.payload),this.dispatch(i)}discardChanges(i){i.setData({columnViewId:i.payload}),this.dispatch(i)}commitChanges(i){i.setData({columnViewId:i.payload}),this.dispatch(i)}changeSelected(i){i.setData({columnViewId:i.payload}),this.dispatch(i)}changeAggregation(i){i.setData({columnViewId:i.payload.columnViewId,fieldConfigId:i.payload.fieldConfigId,aggregation:i.payload.aggregation}),this.dispatch(i)}changeDistribute(i){i.setData({columnViewId:i.payload.columnViewId,fieldConfigId:i.payload.fieldConfigId,distribute:i.payload.distribute}),this.dispatch(i)}changeDisplay(i){i.setData({columnViewId:i.payload.columnViewId,fieldConfigId:i.payload.fieldConfigId,display:i.payload.display}),this.dispatch(i)}truncate(i){this.dispatch(i)}}},79411:(S,g,e)=>{"use strict";e.d(g,{$:()=>t});class t{constructor(s,i,r,a,o,d,h,p,f,m,v,E){this.taskFieldId=s,this.fieldName=i,this.decoratorType=r,this.aggregation=a,this.distribute=o,this.flex=d,this.root=h,this.isGlobal=p,this.columnIndex=f,this.dataTypeId=m,this.extPlatformId=v,this.extPlatformFieldId=E}static fromFieldConfigUseArray(s){return s.map(i=>t.fromFieldConfigUse(i))}static fromFieldConfigUse(s){const i=new t(s.taskFieldId&&s.taskFieldId.toNumber(),s.label,s.display,s.aggregation.toString(),s.distribute.toString(),s.flex,s.treeRoot,s.isGlobal,s.columnIndex,s.type.toString());return i.isGlobal?i:i.withExtPlatformData(s.extPlatformId,s.name)}withExtPlatformData(s,i){return this.withExtPlatformId(s).withExtPlatformFieldId(i)}withExtPlatformId(s){return this.extPlatformId=s,this}withExtPlatformFieldId(s){return this.extPlatformFieldId=s,this}}},12033:(S,g,e)=>{"use strict";e.d(g,{x:()=>s});var t=e(85703),n=e(53770);class s{constructor(r,a,o,d,h,p,f,m,v,E,C,T,y,I,P,L,F,b,x,B){this.fieldConfigId=r,this.name=a,this.label=o,this.origin=d,this.type=h,this.display=p,this.aggregation=f,this.distribute=m,this.treeRoot=v,this.flex=E,this.taskFieldId=C,this.columnIndex=T,this.extPlatformId=y,this.isGlobal=I,this.isGroupable=P,this.isSortable=L,this.aggregations=F,this.distributes=b,this.dataType=x,this.isEditable=B,this.id=(0,t.Hu)(),this.distribute&&!this.distribute.isNone()&&(this.aggregation=n.H)}clone(){const r=this.id,a=new s(this.fieldConfigId,this.name,this.label,this.origin,this.type,this.display,this.aggregation,this.distribute,this.treeRoot,this.flex,this.taskFieldId,this.columnIndex,this.extPlatformId,this.isGlobal,this.isGroupable,this.isSortable,this.aggregations,this.distributes,this.dataType,this.isEditable);return a.id=r,a}setAggregation(r){this.aggregation=r}setDistribute(r){this.distribute=r}setDisplay(r){this.display=r}setFlex(r){this.flex=r}setTreeRoot(r){this.treeRoot=r}getDefaultDisplay(){return this.dataType.getDefaultDecorator()}}},59999:(S,g,e)=>{"use strict";e.d(g,{u:()=>t});class t{}},12701:(S,g,e)=>{"use strict";e.d(g,{X:()=>t});class t{}},8154:(S,g,e)=>{"use strict";e.d(g,{E:()=>t});class t{}},38960:(S,g,e)=>{"use strict";e.d(g,{h:()=>t});class t{constructor(s,i){this.columns=s,this.saveToOrigin=i}}},96439:(S,g,e)=>{"use strict";e.d(g,{cQ:()=>i,XY:()=>r,qe:()=>a});var t=e(90578),n=e(76094),s=e(12861);class i extends t.m{constructor(d){super("ChangeSelectedColumnViewCommand"),this.payload=d}}class r extends n.F{constructor(d,h){super("ChangeSelectedColumnViewSuccessCommand",h?h.getId():null),this.payload=d}}class a extends s.h{constructor(d,h){super("ChangeSelectedColumnViewFailureCommand",h?h.getId():null),this.payload=d}}},5706:(S,g,e)=>{"use strict";e.d(g,{h:()=>p});var t=e(69989),n=e(53339),s=e(45635),i=e(58754),r=e(56385),a=e(96439),o=e(84046),d=e(98222),h=e(8154);let p=(()=>{class f{constructor(v,E){this.columnViewDispatcher=v,this.taskColumnViewSelectResource=E}execute(v){const E=v.payload.columnViewId;return v.payload.shouldSelectRemotely?this.selectColumnViewRemotely(E,v):this.selectColumnViewLocally(E,v)}selectColumnViewRemotely(v,E){return this.taskColumnViewSelectResource.selectView(v).pipe((0,s.b)(()=>{this.columnViewDispatcher.dispatch(new a.XY(v,E))}),(0,i.h)(null),(0,r.K)(C=>(this.columnViewDispatcher.dispatch(new a.qe(C,E)),(0,t._)(C))))}selectColumnViewLocally(v,E){return(0,n.of)({}).pipe((0,s.b)(()=>{this.columnViewDispatcher.dispatch(new a.XY(v,E))}),(0,i.h)(null))}}return f.\u0275fac=function(v){return new(v||f)(o.LFG(d.n),o.LFG(h.E))},f.\u0275prov=o.Yz7({token:f,factory:f.\u0275fac}),f})()},64775:(S,g,e)=>{"use strict";e.d(g,{aL:()=>i,o8:()=>r,xo:()=>a});var t=e(90578),n=e(12861),s=e(76094);class i extends t.m{constructor(d){super("CreateColumnViewCommand"),this.request=d}}class r extends s.F{constructor(d,h){super("CreateColumnViewSuccessCommand",h?h.getId():null),this.view=d}}class a extends n.h{constructor(d,h){super("CreateColumnViewFailureCommand",h?h.getId():null),this.error=d}}},13364:(S,g,e)=>{"use strict";e.d(g,{x:()=>h});var t=e(50906),n=e(45635),s=e(58754),i=e(56385),r=e(64775),a=e(84046),o=e(98222),d=e(12701);let h=(()=>{class p{constructor(m,v){this.columnViewDispatcher=m,this.taskColumnViewResource=v}execute(m){return this.taskColumnViewResource.addView(m.request).pipe((0,n.b)(v=>{this.columnViewDispatcher.dispatch(new r.o8(v,m))}),(0,s.h)(null),(0,i.K)(v=>(this.columnViewDispatcher.dispatch(new r.xo(v,m)),t.E)))}}return p.\u0275fac=function(m){return new(m||p)(a.LFG(o.n),a.LFG(d.X))},p.\u0275prov=a.Yz7({token:p,factory:p.\u0275fac}),p})()},98482:(S,g,e)=>{"use strict";e.d(g,{E:()=>t});class t{constructor(s,i,r,a){this.name=s,this.description=i,this.viewType=r,this.prv=a}}},41808:(S,g,e)=>{"use strict";e.d(g,{Us:()=>i,Ul:()=>r,TS:()=>a});var t=e(90578),n=e(76094),s=e(12861);class i extends t.m{constructor(d){super("DeleteColumnViewCommand"),this.cvId=d}}class r extends n.F{constructor(d,h){super("DeleteColumnViewSuccessCommand",h?h.getId():null),this.cvId=d}}class a extends s.h{constructor(d,h){super("DeleteColumnViewFailureCommand",h?h.getId():null),this.error=d}}},49469:(S,g,e)=>{"use strict";e.d(g,{a:()=>h});var t=e(50906),n=e(45635),s=e(58754),i=e(56385),r=e(41808),a=e(84046),o=e(98222),d=e(12701);let h=(()=>{class p{constructor(m,v){this.columnViewDispatcher=m,this.taskColumnViewResource=v}execute(m){const v=m.cvId;return this.taskColumnViewResource.deleteView(v).pipe((0,n.b)(()=>{this.columnViewDispatcher.dispatch(new r.Ul(v,m))}),(0,s.h)(null),(0,i.K)(E=>(this.columnViewDispatcher.dispatch(new r.TS(E,m)),t.E)))}}return p.\u0275fac=function(m){return new(m||p)(a.LFG(o.n),a.LFG(d.X))},p.\u0275prov=a.Yz7({token:p,factory:p.\u0275fac}),p})()},27042:(S,g,e)=>{"use strict";e.d(g,{A:()=>h});var t=e(69989),n=e(45635),s=e(58754),i=e(56385),r=e(91598),a=e(84046),o=e(98222),d=e(59999);let h=(()=>{class p{constructor(m,v){this.columnViewDispatcher=m,this.taskColumnViewFavouritesResource=v}execute(m){const v=m.cvId;return this.taskColumnViewFavouritesResource.markAsFavourite(v).pipe((0,n.b)(()=>{this.columnViewDispatcher.dispatch(new r.aD(v,m))}),(0,s.h)(null),(0,i.K)(E=>(this.columnViewDispatcher.dispatch(new r.Vl(E,m)),(0,t._)(E))))}}return p.\u0275fac=function(m){return new(m||p)(a.LFG(o.n),a.LFG(d.u))},p.\u0275prov=a.Yz7({token:p,factory:p.\u0275fac}),p})()},91598:(S,g,e)=>{"use strict";e.d(g,{p6:()=>i,aD:()=>r,Vl:()=>a,be:()=>o,MU:()=>d,og:()=>h});var t=e(90578),n=e(76094),s=e(12861);class i extends t.m{constructor(f){super("AddColumnViewToFavouritesCommand"),this.cvId=f}}class r extends n.F{constructor(f,m){super("AddColumnViewToFavouritesSuccessCommand",m?m.getId():null),this.cvId=f}}class a extends s.h{constructor(f,m){super("AddColumnViewToFavouritesFailureCommand",m?m.getId():null),this.error=f}}class o extends t.m{constructor(f){super("RemoveColumnViewFromFavouritesCommand"),this.cvId=f}}class d extends n.F{constructor(f,m){super("RemoveColumnViewFromFavouritesSuccessCommand",m?m.getId():null),this.cvId=f}}class h extends s.h{constructor(f,m){super("RemoveColumnViewFromFavouritesFailureCommand",m?m.getId():null),this.error=f}}},17897:(S,g,e)=>{"use strict";e.d(g,{u:()=>h});var t=e(50906),n=e(45635),s=e(58754),i=e(56385),r=e(91598),a=e(84046),o=e(98222),d=e(59999);let h=(()=>{class p{constructor(m,v){this.columnViewDispatcher=m,this.taskColumnViewFavouritesResource=v}execute(m){const v=m.cvId;return this.taskColumnViewFavouritesResource.unmarkFromFavourite(v).pipe((0,n.b)(()=>{this.columnViewDispatcher.dispatch(new r.MU(v,m))}),(0,s.h)(null),(0,i.K)(E=>(this.columnViewDispatcher.dispatch(new r.og(E,m)),t.E)))}}return p.\u0275fac=function(m){return new(m||p)(a.LFG(o.n),a.LFG(d.u))},p.\u0275prov=a.Yz7({token:p,factory:p.\u0275fac}),p})()},46627:(S,g,e)=>{"use strict";e.d(g,{j:()=>h});var t=e(50906),n=e(45635),s=e(58754),i=e(56385),r=e(50745),a=e(84046),o=e(98222),d=e(12701);let h=(()=>{class p{constructor(m,v){this.columnViewDispatcher=m,this.taskColumnViewResource=v}execute(m){return this.taskColumnViewResource.fetchViews().pipe((0,n.b)(v=>{this.columnViewDispatcher.dispatch(new r.V6(v,m))}),(0,s.h)(null),(0,i.K)(v=>(this.columnViewDispatcher.dispatch(new r.Y9(v,m)),t.E)))}}return p.\u0275fac=function(m){return new(m||p)(a.LFG(o.n),a.LFG(d.X))},p.\u0275prov=a.Yz7({token:p,factory:p.\u0275fac}),p})()},50745:(S,g,e)=>{"use strict";e.d(g,{VQ:()=>i,V6:()=>r,Y9:()=>a});var t=e(90578),n=e(76094),s=e(12861);class i extends t.m{constructor(){super("FetchAllColumnViewsCommand")}}class r extends n.F{constructor(h,p){super("FetchAllColumnViewsSuccessCommand",p?p.getId():null),this.views=h}}class a extends s.h{constructor(h,p){super("FetchAllColumnViewsFailureCommand",p?p.getId():null),this.error=h}}},48765:(S,g,e)=>{"use strict";e.d(g,{c:()=>s,w:()=>i});var t=e(90578),n=e(12861);class s extends t.m{constructor(a){super("SaveAsNewColumnViewCommand"),this.columnViewRequestDto=a}}class i extends n.h{constructor(a,o){super("SaveAsNewColumnViewFailureCommand",o?o.getId():null),this.error=a}}},74851:(S,g,e)=>{"use strict";e.d(g,{I:()=>v});var t=e(53339),n=e(50906),s=e(63833),i=e(98274),r=e(56385),a=e(96439),o=e(48765),d=e(44938),h=e(84109),p=e(84046),f=e(98222),m=e(12701);let v=(()=>{class E{constructor(T,y){this.columnViewDispatcher=T,this.taskColumnViewResource=y}execute(T){return this.saveAsNew(T.columnViewRequestDto).pipe((0,s.q)(1),(0,i.w)(y=>(this.columnViewDispatcher.dispatch(new d.ch(y,T)),this.columnViewDispatcher.dispatch(new a.XY(y.id,T)),(0,t.of)(null))),(0,r.K)(y=>(this.columnViewDispatcher.dispatch(new o.w(y,T)),n.E)))}saveAsNew(T){const y=new h.T(T.name,T.description,T.prv);return this.taskColumnViewResource.saveAsNew(T.id,y)}}return E.\u0275fac=function(T){return new(T||E)(p.LFG(f.n),p.LFG(m.X))},E.\u0275prov=p.Yz7({token:E,factory:E.\u0275fac}),E})()},44938:(S,g,e)=>{"use strict";e.d(g,{_r:()=>i,ch:()=>r,eG:()=>a});var t=e(90578),n=e(76094),s=e(12861);class i extends t.m{constructor(d){super("UpdateColumnViewCommand"),this.payload=d}}class r extends n.F{constructor(d,h){super("UpdateColumnViewSuccessCommand",h?h.getId():null),this.view=d}}class a extends s.h{constructor(d,h){super("UpdateColumnViewFailureCommand",h?h.getId():null),this.error=d}}},66558:(S,g,e)=>{"use strict";e.d(g,{w:()=>f});var t=e(69989),n=e(45635),s=e(58754),i=e(56385),r=e(44938),a=e(13503),o=e(35981),d=e(84046),h=e(98222),p=e(12701);let f=(()=>{class m{constructor(E,C){this.columnViewDispatcher=E,this.taskColumnViewResource=C}execute(E){return this.update(E.payload).pipe((0,n.b)(C=>{this.columnViewDispatcher.dispatch(new r.ch(C,E))}),(0,s.h)(null),(0,i.K)(C=>(this.columnViewDispatcher.dispatch(new r.eG(C,E)),(0,t._)(C))))}update(E){const C=new o.G(E.name,E.description,E.origin===a.T.PRIVATE,E.saveToOrigin);return this.taskColumnViewResource.updateView(E.id,C)}}return m.\u0275fac=function(E){return new(E||m)(d.LFG(h.n),d.LFG(p.X))},m.\u0275prov=d.Yz7({token:m,factory:m.\u0275fac}),m})()},57492:(S,g,e)=>{"use strict";e.d(g,{l:()=>a});var t=e(53824),n=e(79411),s=e(38960),i=e(84046),r=e(12701);let a=(()=>{class o{constructor(h,p){this.columnViewAggregateConverter=h,this.taskColumnViewResource=p}updateColumn(h,p,f){const m=new s.h(n.$.fromFieldConfigUseArray(p),f);return this.taskColumnViewResource.updateColumnInView(h,m)}}return o.\u0275fac=function(h){return new(h||o)(i.LFG(t.F),i.LFG(r.X))},o.\u0275prov=i.Yz7({token:o,factory:o.\u0275fac}),o})()},599:(S,g,e)=>{"use strict";e.d(g,{$p:()=>n,Rs:()=>s,F7:()=>i,JU:()=>r,vo:()=>a,Ec:()=>o});var t=e(90578);class n extends t.m{constructor(h){super("RemoveFieldConfigFromWorkingAreaCommand"),this.payload=h}}class s extends t.m{constructor(h){super("ReorderFieldConfigInWorkingAreaCommand"),this.payload=h}}class i extends t.m{constructor(h){super("ChangeFieldConfigFlexStyleInWorkingAreaCommand"),this.payload=h}}class r extends t.m{constructor(h){super("DiscardChangesFromWorkingAreaCommand"),this.payload=h}}class a extends t.m{constructor(h){super("CommitWorkingAreaChangesCommand"),this.payload=h}}class o extends t.m{constructor(){super("CommitWorkingAreaChangesSuccessCommand")}}},60143:(S,g,e)=>{"use strict";e.d(g,{SA:()=>i,rO:()=>r,pn:()=>a});var t=e(90578),n=e(76094),s=e(12861);class i extends t.m{constructor(d){super("AddFieldConfigToWorkingAreaCommand"),this.payload=d}}class r extends n.F{constructor(d,h){super("AddFieldConfigToWorkingAreaSuccessCommand",h?h.getId():null),this.payload=d}}class a extends s.h{constructor(d,h){super("AddFieldConfigToWorkingAreaFailureCommand",h?h.getId():null),this.payload=d}}},79219:(S,g,e)=>{"use strict";e.d(g,{f:()=>b});var t=e(71079),n=e(53824),s=e(79411),i=e(64775),r=e(12033),a=e(60143);class o{constructor(B,M){this.columns=B,this.saveToOrigin=M}}var d=e(72106),h=e(53339),p=e(63833),f=e(98274),m=e(45635),v=e(54561),E=e(71726),C=e(75596),T=e(53770),y=e(84046),I=e(82394),P=e(98222),L=e(74232),F=e(12701);let b=(()=>{class x{constructor(M,w,K,k,G,$,X,ie){this.columnViewAggregateConverter=M,this.columnViewAggregateRepository=w,this.columnViewCommandService=K,this.columnViewDispatcher=k,this.commitWorkingAreaMessenger=G,this.fieldConfigAggregateRepository=$,this.taskColumnViewResource=X,this.dataTypes=ie}execute(M){const k=M.payload.columnViewId,G=M.payload.select;return this.fieldConfigAggregateRepository.selectOne(M.payload.fieldConfigId,M.payload.extPlatformId).pipe((0,p.q)(1),(0,f.w)($=>{if(!$)return this.columnViewDispatcher.dispatch(new a.pn(k,M)),(0,h.of)(null);const X=this.convertToFieldConfigUse($);return X.columnIndex=M.payload.nodeIndex,this.addColumn(k,[X],M.payload.saveToOrigin).pipe((0,m.b)(ie=>{this.columnViewDispatcher.dispatch(new i.o8(ie,M))}),(0,v.g)(x.ASYNC_ACTION_DELAY_TIME),(0,f.w)(ie=>G?this.columnViewCommandService.changeSelected(ie.id):(0,h.of)(null)),(0,f.w)(()=>this.columnViewCommandService.fetchAll()))}),(0,E.U)(()=>null))}convertToFieldConfigUse(M){var w;const K=null!==(w=M.defaultAggregation)&&void 0!==w?w:T.H;return new r.x(M.id,M.name,M.label,M.origin,M.type,M.getDefaultDisplay(),K,T.H,!1,"1 1 auto",M.taskFieldId,M.columnIndex,M.extPlatformId,M.isGlobal,M.isGroupable,M.isSortable,M.aggregations,M.distributes,this.dataTypes.get(M.type),M.isEditable)}addColumn(M,w,K){const k=new o(s.$.fromFieldConfigUseArray(w),K);return this.taskColumnViewResource.addColumnInView(M,k)}}return x.ASYNC_ACTION_DELAY_TIME=150,x.\u0275fac=function(M){return new(M||x)(y.LFG(n.F),y.LFG(I.F),y.LFG(t.J),y.LFG(P.n),y.LFG(d.v),y.LFG(L.p),y.LFG(F.X),y.LFG(C.v))},x.\u0275prov=y.Yz7({token:x,factory:x.\u0275fac}),x})()},50027:(S,g,e)=>{"use strict";e.d(g,{G:()=>v});var t=e(53339),n=e(69989),s=e(63833),i=e(71726),r=e(98274),a=e(56385),o=e(44938),d=e(57492),h=e(84046),p=e(82394),f=e(98222),m=e(12701);let v=(()=>{class E{constructor(T,y,I,P){this.columnViewAggregateRepository=T,this.columnViewDispatcher=y,this.taskColumnViewResource=I,this.workingAreaColumnService=P}execute(T){const y=T.payload.columnViewId,I=T.payload.fieldConfigUseId,P=T.payload.treeRootFieldConfigUseId;return this.columnViewAggregateRepository.selectOne(y).pipe((0,s.q)(1),(0,i.U)(L=>{const F=this.getFieldById(L.usedFieldConfigs,P),b=this.getFieldById(L.usedFieldConfigs,I);return F.setTreeRoot(!1),[b,F]}),(0,r.w)(([L,F])=>this.workingAreaColumnService.updateColumn(y,[L,F],!1).pipe((0,r.w)(b=>{const x=new o.ch(b,T);return this.columnViewDispatcher.dispatch(x),(0,t.of)(null)}))),(0,a.K)(L=>(this.columnViewDispatcher.dispatch(new o.eG(L,T)),(0,n._)(L))))}getFieldById(T,y){return T.find(I=>I.id===y)}}return E.\u0275fac=function(T){return new(T||E)(h.LFG(p.F),h.LFG(f.n),h.LFG(m.X),h.LFG(d.l))},E.\u0275prov=h.Yz7({token:E,factory:E.\u0275fac}),E})()},26073:(S,g,e)=>{"use strict";e.d(g,{X:()=>s,R:()=>i});var t=e(90578),n=e(12861);class s extends t.m{constructor(a){super("ChangeAggregationInWorkingAreaCommand"),this.payload=a}}class i extends n.h{constructor(a,o){super("ChangeAggregationInWorkingAreaFailureCommand",o?o.getId():null),this.payload=a}}},14537:(S,g,e)=>{"use strict";e.d(g,{Y:()=>T});var t=e(53339),n=e(69989),s=e(63833),i=e(71726),r=e(98274),a=e(56385),o=e(96439),d=e(44938),h=e(26073),p=e(57492),f=e(53770),m=e(84046),v=e(82394),E=e(98222),C=e(12701);let T=(()=>{class y{constructor(P,L,F,b){this.columnViewAggregateRepository=P,this.columnViewDispatcher=L,this.taskColumnViewResource=F,this.workingAreaColumnService=b}execute(P){const L=P.payload.columnViewId,F=P.payload.fieldConfigId,b=P.payload.extPlatformId,x=P.payload.aggregation;return this.columnViewAggregateRepository.selectOne(L).pipe((0,s.q)(1),(0,i.U)(B=>{const M=[...B.usedFieldConfigs],w=M.findIndex(K=>K.id===F&&K.extPlatformId===b);if(w>-1){const K=M[w].clone();K.setAggregation(x),K.setDistribute(f.H),M[w]=K}return M[w]}),(0,r.w)(B=>this.workingAreaColumnService.updateColumn(L,[B],P.payload.saveToOrigin).pipe((0,r.w)(M=>{const w=new d.ch(M,P);return this.columnViewDispatcher.dispatch(w),this.columnViewDispatcher.dispatch(new o.XY(M.id,P)),(0,t.of)(null)}))),(0,a.K)(B=>(this.columnViewDispatcher.dispatch(new h.R(B,P)),(0,n._)(B))))}}return y.\u0275fac=function(P){return new(P||y)(m.LFG(v.F),m.LFG(E.n),m.LFG(C.X),m.LFG(p.l))},y.\u0275prov=m.Yz7({token:y,factory:y.\u0275fac}),y})()},5843:(S,g,e)=>{"use strict";e.d(g,{O:()=>s,n:()=>i});var t=e(90578),n=e(12861);class s extends t.m{constructor(a){super("ChangeDisplayInWorkingAreaCommand"),this.payload=a}}class i extends n.h{constructor(a,o){super("ChangeDisplayInWorkingAreaFailureCommand",o?o.getId():null),this.payload=a}}},56459:(S,g,e)=>{"use strict";e.d(g,{C:()=>C});var t=e(53339),n=e(69989),s=e(63833),i=e(71726),r=e(98274),a=e(56385),o=e(96439),d=e(44938),h=e(5843),p=e(57492),f=e(84046),m=e(82394),v=e(98222),E=e(12701);let C=(()=>{class T{constructor(I,P,L,F){this.columnViewAggregateRepository=I,this.columnViewDispatcher=P,this.taskColumnViewResource=L,this.workingAreaColumnService=F}execute(I){const P=I.payload,L=P.columnViewId,F=P.fieldConfigId,b=P.display;return this.columnViewAggregateRepository.selectOne(L).pipe((0,s.q)(1),(0,i.U)(x=>{const B=[...x.usedFieldConfigs],M=B.findIndex(w=>w.id===F);if(M>-1){const w=B[M].clone();w.display=b,B[M]=w}return B[M]}),(0,r.w)(x=>this.workingAreaColumnService.updateColumn(L,[x],I.payload.saveToOrigin).pipe((0,r.w)(B=>{const M=new d.ch(B,I);return this.columnViewDispatcher.dispatch(M),this.columnViewDispatcher.dispatch(new o.XY(B.id,I)),(0,t.of)(null)}))),(0,a.K)(x=>(this.columnViewDispatcher.dispatch(new h.n(x,I)),(0,n._)(x))))}}return T.\u0275fac=function(I){return new(I||T)(f.LFG(m.F),f.LFG(v.n),f.LFG(E.X),f.LFG(p.l))},T.\u0275prov=f.Yz7({token:T,factory:T.\u0275fac}),T})()},1529:(S,g,e)=>{"use strict";e.d(g,{k:()=>s,f:()=>i});var t=e(90578),n=e(12861);class s extends t.m{constructor(a){super("ChangeDistributeInWorkingAreaCommand"),this.payload=a}}class i extends n.h{constructor(a,o){super("ChangeDistributeInWorkingAreaFailureCommand",o?o.getId():null),this.payload=a}}},56182:(S,g,e)=>{"use strict";e.d(g,{H:()=>v});var t=e(53339),n=e(69989),s=e(63833),i=e(98274),r=e(56385),a=e(57492),o=e(1529),d=e(44938),h=e(53770),p=e(84046),f=e(82394),m=e(98222);let v=(()=>{class E{constructor(T,y,I){this.columnViewAggregateRepository=T,this.columnViewDispatcher=y,this.workingAreaColumnService=I}execute(T){const y=T.payload.columnViewId,I=T.payload.fieldConfigId,P=T.payload.distribute;return this.columnViewAggregateRepository.selectOne(y).pipe((0,s.q)(1),(0,i.w)(L=>{const F=[...L.usedFieldConfigs],b=F.findIndex(x=>x.id===I);if(b>-1){const x=F[b].clone();x.setDistribute(P),x.setAggregation(h.H),x.setDisplay(x.getDefaultDisplay()),F[b]=x}return this.workingAreaColumnService.updateColumn(y,[F[b]],T.payload.saveToOrigin).pipe((0,i.w)(x=>{const B=new d.ch(x,T);return this.columnViewDispatcher.dispatch(B),(0,t.of)(null)}),(0,r.K)(x=>(this.columnViewDispatcher.dispatch(new o.f(x,T)),(0,n._)(x))))}))}}return E.\u0275fac=function(T){return new(T||E)(p.LFG(f.F),p.LFG(m.n),p.LFG(a.l))},E.\u0275prov=p.Yz7({token:E,factory:E.\u0275fac}),E})()},49319:(S,g,e)=>{"use strict";e.d(g,{W:()=>C});var t=e(53339),n=e(69989),s=e(63833),i=e(71726),r=e(98274),a=e(56385),o=e(96439),d=e(44938),h=e(1529),p=e(57492),f=e(84046),m=e(82394),v=e(98222),E=e(12701);let C=(()=>{class T{constructor(I,P,L,F){this.columnViewAggregateRepository=I,this.columnViewDispatcher=P,this.taskColumnViewResource=L,this.workingAreaColumnService=F}execute(I){const P=I.payload[0],L=I.payload[1],F=P.columnViewId;return this.columnViewAggregateRepository.selectOne(F).pipe((0,s.q)(1),(0,i.U)(b=>[this.updateField(b,P.fieldConfigId,P.flex),this.updateField(b,L.fieldConfigId,L.flex)]),(0,r.w)(b=>this.workingAreaColumnService.updateColumn(F,b,I.payload[2]).pipe((0,r.w)(x=>{const B=new d.ch(x,I);return this.columnViewDispatcher.dispatch(B),this.columnViewDispatcher.dispatch(new o.XY(x.id,I)),(0,t.of)(null)}))),(0,a.K)(b=>(this.columnViewDispatcher.dispatch(new h.f(b,I)),(0,n._)(b))))}updateField(I,P,L){const F=[...I.usedFieldConfigs],b=F.findIndex(x=>x.id===P);if(b>-1){const x=F[b].clone();x.setFlex(L),F[b]=x}return F[b]}}return T.\u0275fac=function(I){return new(I||T)(f.LFG(m.F),f.LFG(v.n),f.LFG(E.X),f.LFG(p.l))},T.\u0275prov=f.Yz7({token:T,factory:T.\u0275fac}),T})()},72106:(S,g,e)=>{"use strict";e.d(g,{v:()=>o});var t=e(98223),n=e(84046);let s=(()=>{class d{}return d.\u0275fac=function(p){return new(p||d)},d.\u0275cmp=n.Xpm({type:d,selectors:[["sp-column-view-failure-commit-message-body"]],inputs:{text:"text",linkText:"linkText"},decls:4,vars:2,consts:[["href","https://wiki.softwareplant.com/display/DOCUMENTATION/Knowledge+Base"]],template:function(p,f){1&p&&(n._uU(0),n._UZ(1,"br"),n.TgZ(2,"a",0),n._uU(3),n.qZA()),2&p&&(n.hij(" ",f.text," "),n.xp6(3),n.hij(" ",f.linkText," "))},encapsulation:2,changeDetection:0}),d})();var i=e(83941),r=e(46902),a=e(78609);let o=(()=>{class d{constructor(p,f){this.messageService=p,this.l10nTextService=f}showSuccessfulCommitMessage(){this.messageService.success((new r.P).withTitle("SPT_COLUMNVIEWS_SAVE_SUCCESS_MESSAGE_TITLE").withBody(i.H.i18n("SPT_COLUMNVIEWS_SAVE_SUCCESS_MESSAGE")))}showFailureCommitMessage(){const p=this.l10nTextService.translate("SPT_COLUMNVIEWS_SAVE_ERROR_MESSAGE"),f=this.l10nTextService.translate("SPT_COLUMNVIEWS_SAVE_ERROR_MESSAGE_LINK");this.messageService.error((new r.P).withTitle("SPT_COLUMNVIEWS_SAVE_ERROR_MESSAGE_TITLE").withBody(i.H.component(s,{text:p,linkText:f})))}}return d.\u0275fac=function(p){return new(p||d)(n.LFG(a.e),n.LFG(t.e))},d.\u0275prov=n.Yz7({token:d,factory:d.\u0275fac}),d})()},510:(S,g,e)=>{"use strict";e.d(g,{J:()=>y});var t=e(53339),n=e(70822),s=e(63833),i=e(98274),r=e(58754),a=e(45635),o=e(71079),d=e(79411),h=e(64775),p=e(38960),f=e(72106),m=e(84046),v=e(82394),E=e(98222),C=e(74232),T=e(12701);let y=(()=>{class I{constructor(L,F,b,x,B,M){this.columnViewAggregateRepository=L,this.columnViewCommandService=F,this.columnViewDispatcher=b,this.commitWorkingAreaMessenger=x,this.fieldConfigAggregateRepository=B,this.taskColumnViewResource=M}execute(L){const F=L.payload.fieldConfigUseId,b=L.payload.columnViewId,x=L.payload.newTreeRootFieldConfigUseId;return this.columnViewAggregateRepository.selectOne(b).pipe((0,n.h)(Boolean),(0,n.h)(B=>!!B.usedFieldConfigs.find(M=>M.id===F)),(0,s.q)(1),(0,i.w)(B=>{const M=B.usedFieldConfigs.find(w=>w.id===F);return this.isRemovingTreeRootField(L)?this.setNewTreeRoot(b,B.usedFieldConfigs,M,x).pipe((0,i.w)(()=>this.removeColumn(b,M.taskFieldId,M.columnIndex,L.payload.saveToOrigin))):this.removeColumn(b,M.taskFieldId,M.columnIndex,L.payload.saveToOrigin)}),(0,r.h)(null))}isRemovingTreeRootField(L){return!!L.payload.newTreeRootFieldConfigUseId}removeColumn(L,F,b,x){return this.taskColumnViewResource.deleteColumnInView(L,F,b,x).pipe((0,i.w)(B=>(this.columnViewDispatcher.dispatch(new h.o8(B,null)),(0,t.of)(null))),(0,a.b)(()=>this.columnViewCommandService.fetchAll()))}setNewTreeRoot(L,F,b,x){b.setTreeRoot(!1),F.find(w=>w.id===x).setTreeRoot(!0);const M=new p.h(F.map(w=>d.$.fromFieldConfigUse(w)),!1);return this.taskColumnViewResource.updateColumnInView(L,M).pipe((0,r.h)(null))}}return I.\u0275fac=function(L){return new(L||I)(m.LFG(v.F),m.LFG(o.J),m.LFG(E.n),m.LFG(f.v),m.LFG(C.p),m.LFG(T.X))},I.\u0275prov=m.Yz7({token:I,factory:I.\u0275fac}),I})()},58399:(S,g,e)=>{"use strict";e.d(g,{q:()=>T});var t=e(44938);class n{constructor(I,P,L){this.startingPosition=I,this.endingPosition=P,this.saveToOrigin=L}}var s=e(53339),i=e(63833),r=e(71726),a=e(98274),o=e(56385),d=e(83941),h=e(46902),p=e(78609),f=e(9829),m=e(84046),v=e(82394),E=e(98222),C=e(12701);let T=(()=>{class y{constructor(P,L,F,b){this.columnViewAggregateRepository=P,this.columnViewDispatcher=L,this.messageService=F,this.taskColumnViewResource=b}execute(P){const L=P.getData(),F=L.fieldConfigId,b=L.columnViewId,x=L.nodeIndex,B=L.saveToOrigin;return this.columnViewAggregateRepository.selectOne(b).pipe((0,i.q)(1),(0,r.U)(M=>[...M.usedFieldConfigs].map(K=>K.id).indexOf(F)),(0,a.w)(M=>this.reorderColumn(b,M,x,B).pipe((0,a.w)(w=>{const K=new t.ch(w,null);return this.columnViewDispatcher.dispatch(K),(0,s.of)(null)}),(0,o.K)(w=>(this.showErrorMessage(w),(0,s.of)(new t.eG(w.error.description,null)))))))}reorderColumn(P,L,F,b){const x=new n(L,F,b);return this.taskColumnViewResource.reorderViewFields(P,x)}showErrorMessage(P){this.messageService.error((new h.P).withBody(d.H.string(P.error.errorMessages[0])).withStatus(f.r.ERROR))}}return y.\u0275fac=function(P){return new(P||y)(m.LFG(v.F),m.LFG(E.n),m.LFG(p.e),m.LFG(C.X))},y.\u0275prov=m.Yz7({token:y,factory:y.\u0275fac}),y})()},74232:(S,g,e)=>{"use strict";e.d(g,{p:()=>n});class n extends class{}{}},17253:(S,g,e)=>{"use strict";e.d(g,{v:()=>n});var t=e(28909);class n extends t.U{}},9274:(S,g,e)=>{"use strict";e.d(g,{Q:()=>t});class t{}},61822:(S,g,e)=>{"use strict";e.d(g,{dy:()=>n,PW:()=>s,mY:()=>i});var t=e(90578);class n extends t.m{constructor(){super("FetchAllAvailableFieldConfigsCommand")}}class s extends t.m{constructor(a){super("FetchAllAvailableFieldConfigsSuccessCommand"),this.availableFieldConfigs=a}}class i extends t.m{constructor(a){super("FetchAllAvailableFieldConfigsFailureCommand"),this.error=a}}},17257:(S,g,e)=>{"use strict";e.d(g,{Z:()=>h});var t=e(50906),n=e(45635),s=e(71726),i=e(56385),r=e(61822),a=e(84046),o=e(9274),d=e(17253);let h=(()=>{class p{constructor(m,v){this.fieldConfigResource=m,this.fieldConfigDispatcher=v}execute(){return this.fieldConfigResource.fetchAllAvailable().pipe((0,n.b)(m=>{this.fieldConfigDispatcher.dispatch(new r.PW(m))}),(0,s.U)(()=>null),(0,i.K)(m=>(this.fieldConfigDispatcher.dispatch(new r.mY(m)),t.E)))}}return p.\u0275fac=function(m){return new(m||p)(a.LFG(o.Q),a.LFG(d.v))},p.\u0275prov=a.Yz7({token:p,factory:p.\u0275fac}),p})()},13503:(S,g,e)=>{"use strict";e.d(g,{T:()=>t});var t=(()=>{return(n=t||(t={})).PUBLIC="PUBLIC",n.PRIVATE="PRIVATE",t;var n})()},38768:(S,g,e)=>{"use strict";e.d(g,{s:()=>t});class t{}},92586:(S,g,e)=>{"use strict";e.d(g,{c:()=>t});class t{}},12827:(S,g,e)=>{"use strict";e.d(g,{t:()=>n});var t=e(64865);function n(s){return s===t.I.OVERVIEW_HIERARCHY_COLUMN||s===t.I.OVERVIEW_TIMELINE_COLUMN}},30293:(S,g,e)=>{"use strict";e.d(g,{S:()=>t});class t{}},79510:(S,g,e)=>{"use strict";e.d(g,{x:()=>r});var t=e(53339),n=e(30293),s=e(84046),i=e(25673);let r=(()=>{class a extends n.S{constructor(d){super(),this.boxHierarchyService=d}getBoxId(){const d=this.boxHierarchyService.getContextBoxId().toString();return(0,t.of)(d)}}return a.\u0275fac=function(d){return new(d||a)(s.LFG(i.T))},a.\u0275prov=s.Yz7({token:a,factory:a.\u0275fac}),a})()},53436:(S,g,e)=>{"use strict";e.d(g,{M:()=>p});var t=e(78526),n=e(73112),s=e(56556),i=e(89630),r=e(13503),a=e(25337),o=e(75596),d=e(47868),h=e(84046);let p=(()=>{class f{constructor(v,E){this.fieldConfigUseConverter=v,this.dataTypeInstanceRepository=E}convertMany(v,E,C){return v.views.map(T=>this.convert(v,T,E,C))}convert(v,E,C,T){const y=E.id===v.selectedViewId,I=-1!==v.favouriteViewIds.indexOf(E.id),P=E.prv?r.T.PRIVATE:r.T.PUBLIC,L=this.fieldConfigUseConverter.convertMany(this.parseFieldConfigs(E.fieldConfigs,C,T));return new n.b(E.id,E.name,I,y,P,E.description,L,E.inEditMode,E.inheritedFromRefId)}filterOutGlobalFieldsWithNotImplementedDataTypes(v){return v.filter(E=>this.dataTypeInstanceRepository.isDefined(d.r.of(E.dataType)))}isGlobalField(v,E){const C=v.label,T=v.dataType;return!!E.find(y=>y.fieldName===C&&y.dataType===T)}parseFieldConfigs(v,E,C){const T=this.filterOutGlobalFieldsWithNotImplementedDataTypes(E.globalFieldDefinitions);return v.map(y=>this.isGlobalField(y,T)?Object.assign(Object.assign({},y),{aggregation:y.aggregation,distribute:y.distribute,origin:a.B.create(),getClassName:()=>"FieldConfigDTO"}):Object.assign(Object.assign({},y),{aggregation:y.aggregation,distribute:y.distribute,origin:this.resolveFieldExtPlatformOrigin(y,C),getClassName:()=>"FieldConfigDTO"}))}resolveFieldExtPlatformOrigin(v,E){let C=new i.D.Builder;const T=v.extPlatformId;if(T){const y=E.find(I=>I.id===T);C=C.withId(y.id).withName(y.name).withType(y.extPlatformType.name).withIconURL(y.extPlatformType.iconURL).withHomeURL(y.baseURL)}else C=C.withName(t.M);return C.build()}}return f.\u0275fac=function(v){return new(v||f)(h.LFG(s.L),h.LFG(o.v))},f.\u0275prov=h.Yz7({token:f,factory:f.\u0275fac}),f})()},56556:(S,g,e)=>{"use strict";e.d(g,{L:()=>m});var t=e(80257),n=e(12033),s=e(69417),i=e(25337),r=e(78134),a=e(71118),o=e(75596),d=e(47868),h=e(56509),p=e(31270),f=e(84046);let m=(()=>{class v{constructor(C,T){this.configOriginService=C,this.dataTypes=T}convertMany(C){if(!C)return[];let T=C.map(y=>this.convert(y));return T=r.y.recalculate(T),T}convert(C){const T=this.resolveDecorator(C),y=this.createFieldDefinition(C.dataType,C.name),I=this.resolveIsGroupable(y);return this.createFieldConfig(C,T,I)}resolveDecorator(C){const T=C.configuration.decoratorType,y=this.createFieldDefinition(C.dataType,C.name);return!T||this.isDecoratorUnavailable(y,T)?y.getDataType().getDefaultDecorator():T}resolveIsGroupable(C){return C.isGroupable()}createFieldDefinition(C,T){return this.dataTypes.get(d.r.of(C)).getCustomFieldBuilder(T).build()}isDecoratorUnavailable(C,T){return!C.getDataType().getAvailableDecorators().some(I=>I===T)}createFieldConfig(C,T,y){const I=C.isGlobal?i.B.create():this.configOriginService.create(C.extPlatformId);return new n.x(C.name,C.name,a.l.capitalizeFirstLetter(C.label),I,d.r.of(C.dataType),T,h.I.of(C.aggregation),p.c.of(C.distribute),C.configuration.root||!1,C.configuration.flex,s.Z.fromNumber(C.taskFieldId),C.configuration.columnIndex,C.extPlatformId,C.isGlobal,y,C.isSortable,C.aggregations.map(P=>h.I.of(P)),C.distributes.map(P=>p.c.of(P)),this.dataTypes.get(d.r.of(C.dataType)),C.isEditable)}}return v.\u0275fac=function(C){return new(C||v)(f.LFG(t.B),f.LFG(o.v))},v.\u0275prov=f.Yz7({token:v,factory:v.\u0275fac}),v})()},89630:(S,g,e)=>{"use strict";e.d(g,{D:()=>n});var t=e(85105);let n=(()=>{class s{constructor(){}}return s.Builder=class extends t.I{constructor(){super(...arguments),this.id=null}withId(r){return this.id=r,this}withName(r){return this.name=r,this}withType(r){return this.type=r,this}withIconURL(r){return this.iconURL=r,this}withHomeURL(r){return this.homeURL=r,this}build(){const r=new s;return r.id=this.id,r.name=this.name,r.type=this.type,r.iconURL=this.iconURL,r.homeURL=this.homeURL,r}},s})()},24298:(S,g,e)=>{"use strict";e.d(g,{z:()=>s});var t=e(84046);const n_translations={subtask_version:"Children versions",subtask_version_percentage:"Children versions in %",subtask_statuses:"Children statuses",subtask_statuses_percentage:"Children statuses in %",subtask_status_categories:"Children status categories",subtask_status_categories_percentage:"Children status categories in %",task_status_categories_percentage:"Status categories in %",sum:"Sum",sum_no_parent:"Sum, without parent",avg:"Average",min:"Minimum",max:"Maximum",avg_no_parent:"Average, without parent"};let s=(()=>{class i{transform(a,...o){let d=a.toString().toLowerCase();return d=this.getTranslations()[d]?this.getTranslations()[d]:this.titleCaseAndRemoveUnderscore(d),d}getTranslations(){return n_translations}titleCaseAndRemoveUnderscore(a){return a.charAt(0).toUpperCase()+a.slice(1).replace(/_/g," ").toLowerCase()}}return i.\u0275fac=function(a){return new(a||i)},i.\u0275pipe=t.Yjl({name:"spFieldConfigAggregation",type:i,pure:!0}),i})()},70445:(S,g,e)=>{"use strict";e.d(g,{Y:()=>t});class t{}},17072:(S,g,e)=>{"use strict";e.d(g,{C:()=>t});let t=(()=>{class n{static getWorkloadPlanUrls(){return[n.WORKLOAD_PLAN,n.WORKLOAD_PLAN_ID]}static getHolidayPlanUrls(){return[n.HOLIDAY_PLAN,n.HOLIDAY_PLAN_ID]}static getResourceManagerUrls(){return[n.RESOURCE_MANAGER,n.RESOURCE_MANAGER_INDIVIDUALS,n.RESOURCE_MANAGER_INDIVIDUALS_KEY]}static getSkillsUrls(){return[n.SKILLS]}static getBoxTypeConfigurationUrls(){return[n.BOX_TYPE_CONFIGURATION,n.BOX_TYPE_CONFIGURATION_ID]}static getSecurityUrls(){return[n.SECURITY,n.SECURITY_SCHEMEMANAGER,n.SECURITY_GLOBAL_ROLE_ASSESMENT]}}return n.WORKLOAD_PLAN="workloadplan",n.WORKLOAD_PLAN_ID="workloadplan/:id",n.HOLIDAY_PLAN="holidayplan",n.HOLIDAY_PLAN_ID="holidayplan/:id",n.RESOURCE_MANAGER="resources",n.RESOURCE_MANAGER_INDIVIDUALS="individuals",n.RESOURCE_MANAGER_INDIVIDUALS_KEY="individuals/:resourceKey",n.SKILLS="skills",n.BOX_TYPE_CONFIGURATION="box-type-configuration",n.BOX_TYPE_CONFIGURATION_ID="box-type-configuration/:id",n.SECURITY="security",n.SECURITY_GLOBAL_ROLE_ASSESMENT="security/globalroleassignment",n.SECURITY_SCHEMEMANAGER="security/schememanager",n.CUSTOM_ACTIONS="custom-actions",n.ER_EXAMPLE="er-example",n})()},89806:(S,g,e)=>{"use strict";e.d(g,{i:()=>t});class t{constructor(){}}},28663:(S,g,e)=>{"use strict";e.d(g,{N:()=>v});var t=e(97809),n=e(4683),s=e(96105),i=e(88136),r=e(9829),a=e(85105);let o=(()=>{class E{getIconCss(){return this.iconCss}getCssClass(){return this.cssClass}getTooltipColor(){return this.tooltipColor}getTooltipDescription(){return this.tooltipDescription}getIsPulsing(){return this.isPulsing}}return E.Builder=class extends a.I{constructor(){super(...arguments),this.isPulsing=!0}build(){const T=new E;return T.iconCss=this.iconCss,T.tooltipColor=this.tooltipColor,T.tooltipDescription=this.tooltipDescription,T.cssClass=this.cssClass,T.isPulsing=this.isPulsing,T}withIcon(T){return this.iconCss=T,this}withTooltipColor(T){return this.tooltipColor=T,this}withTooltipDescription(T){return this.tooltipDescription=T,this}withStatus(T){switch(T){case r.r.INFO:return this.withCssClass("sp-status-indicator-root__icon--info-pulsate");case r.r.SUCCESS:return this.withCssClass("sp-status-indicator-root__icon--success-pulsate");case r.r.WARNING:return this.withCssClass("sp-status-indicator-root__icon--warning-pulsate");case r.r.ERROR:return this.withCssClass("sp-status-indicator-root__icon--danger-pulsate");case r.r.CRITICAL:return this.withCssClass("sp-status-indicator-root__icon--critical-pulsate");default:return this.withCssClass("sp-status-indicator-root__icon--info-pulsate")}}withDefaultTooltipByStatus(T){switch(T){case r.r.INFO:return this.withStatus(r.r.INFO).withTooltipColor("VIOLET").withTooltipDescription("Info").withIcon("fa-info-circle sp-status-indicator-root__icon--info");case r.r.SUCCESS:return this.withStatus(r.r.SUCCESS).withTooltipColor("GREEN").withTooltipDescription("Success").withIcon("fa-check-circle sp-status-indicator-root__icon--success");case r.r.WARNING:return this.withStatus(r.r.WARNING).withTooltipColor("CHEETO_ORANGE").withTooltipDescription("Warning").withIcon("fa-exclamation-circle sp-status-indicator-root__icon--warning");case r.r.ERROR:return this.withStatus(r.r.ERROR).withTooltipColor("RED").withTooltipDescription("Error").withIcon("fa-exclamation-circle sp-status-indicator-root__icon--danger");case r.r.CRITICAL:return this.withStatus(r.r.CRITICAL).withTooltipColor("CRITICAL").withTooltipDescription("Critical").withIcon("fa-do-not-enter sp-status-indicator-root__icon--critical");default:return this.withStatus(r.r.INFO).withTooltipColor("VIOLET").withTooltipDescription("Info").withIcon("fa-info-circle sp-status-indicator-root__icon--info")}}withCssClass(T){return this.cssClass=T,this}withAdditionalCssClass(T){return this.cssClass+=` ${T} `,this}withPulse(T){return this.isPulsing=T,this}},E})(),d=(()=>{class E{getId(){return this.id}getDescription(){return this.description}getIconCss(){return this.iconCss}getHideButtonCss(){return this.hideButtonCss}getSettingButtonCss(){return this.settingButtonCss}getSettingButtonLink(){return this.settingButtonLink}getIsHideButtonVisible(){return this.isHideButtonVisible}getIsSettingButtonVisible(){return this.isSettingsButtonVisible}getCssClass(){return this.cssClass}}return E.Builder=class extends a.I{build(){const T=new E;return T.isHideButtonVisible=this.isHideButtonVisible,T.isSettingsButtonVisible=this.isSettingsButtonVisible,T.iconCss=this.iconCss,T.hideButtonCss=this.hideButtonCss,T.settingButtonCss=this.settingButtonCss,T.settingButtonLink=this.settingButtonLink,T.description=this.description,T.id=this.id,T.cssClass=this.cssClass,T}withIcon(T){return this.iconCss=T,this}withDescription(T){return this.description=T,this}withId(T){return this.id=T,this}withSettingsButton(T,y){return this.settingButtonCss=T,this.settingButtonLink=y,this.isSettingsButtonVisible=!0,this}withHideButton(T){return this.hideButtonCss=T,this.isHideButtonVisible=!0,this}withAdditionalCssClass(T){return this.cssClass+=` ${T} `,this}withStatus(T){switch(T){case r.r.INFO:return this.withCssClass("sp-status-indicator-ribbon__info-bg-color");case r.r.SUCCESS:return this.withCssClass("sp-status-indicator-ribbon__success-bg-color");case r.r.WARNING:return this.withCssClass("sp-status-indicator-ribbon__warning-bg-color");case r.r.ERROR:return this.withCssClass("sp-status-indicator-ribbon__error-bg-color");case r.r.CRITICAL:return this.withCssClass("sp-status-indicator-ribbon__critical-bg-color");default:return this.withCssClass("sp-status-indicator-ribbon__info-bg-color")}}withSettingsButtonDefaultsByStatus(T,y){switch(y){case r.r.INFO:return this.withSettingsButton("sp-btn-primary",T);case r.r.SUCCESS:return this.withSettingsButton("sp-btn-success",T);case r.r.WARNING:return this.withSettingsButton("sp-btn-warning sp-status-indicator-ribbon__alternative_setting-btn-font-color",T);case r.r.ERROR:return this.withSettingsButton("sp-btn-error",T);case r.r.CRITICAL:return this.withSettingsButton("sp-btn-critical",T);default:return this.withSettingsButton("sp-btn-primary",T)}}withHideButtonDefaultsByStatus(){return this.withHideButton("sp-status-indicator-ribbon__hide-btn-color")}withDefaultsByStatus(T){switch(T){case r.r.INFO:return this.withStatus(r.r.INFO).withIcon("fa-info-circle sp-status-indicator-ribbon__info-icon-color");case r.r.SUCCESS:return this.withStatus(r.r.SUCCESS).withIcon("fa-check-circle sp-status-indicator-ribbon__success-icon-color");case r.r.WARNING:return this.withStatus(r.r.WARNING).withIcon("fa-exclamation-triangle sp-status-indicator-ribbon__warning-icon-color");case r.r.ERROR:return this.withStatus(r.r.ERROR).withIcon("fa-exclamation-triangle sp-status-indicator-ribbon__error-icon-color");case r.r.CRITICAL:return this.withStatus(r.r.CRITICAL).withIcon("fa-do-not-enter sp-status-indicator-ribbon__critical-icon-color");default:return this.withStatus(r.r.INFO).withIcon("fa-info-circle sp-status-indicator-ribbon__info-icon-color")}}withCssClass(T){return this.cssClass=T,this}},E})();var h=e(59942),p=e(62628),f=e(84046),m=e(73455);let v=(()=>{class E extends p.b{constructor(T,y,I){super(),this.jiraIndexCorruptedStorageService=T,this.licenseService=y,this.navigationLinkService=I,this.statusIndicatorConfiguration$=new t.t(1),this.statusIndicatorRibbonOptions=[],this.statusIndicatorRibbonsConfiguration$=new t.t(1)}init(){(0,n.aj)(this.selectLicense(),this.selectJiraIndexCorrupted()).pipe((0,s.x)(([T,y],[I,P])=>T===I&&y===P),this.takeUntilDestroy()).subscribe(([T,y])=>{this.showIndicatorIfJiraIndexCorrupted(y),this.checkLicense(T)})}selectStatusIndicatorConfiguration(){return this.statusIndicatorConfiguration$}selectStatusIndicatorRibbonConfiguration(){return this.statusIndicatorRibbonsConfiguration$}setStatusIndicatorOptions(T){this.statusIndicatorOptions=T,this.statusIndicatorConfiguration$.next(this.statusIndicatorOptions)}addStatusIndicatorRibbon(T){this.statusIndicatorRibbonOptions.push(T),this.statusIndicatorRibbonsConfiguration$.next(this.statusIndicatorRibbonOptions)}selectLicense(){return this.licenseService.selectLicense()}getLicenseWarningSeverity(T){return T.isValid()?r.r.WARNING:r.r.ERROR}checkLicense(T){if(T.getWarning()){const y=this.getLicenseWarningSeverity(T);return this.setStatusIndicatorOptions((new o.Builder).withDefaultTooltipByStatus(y).withTooltipDescription(T.getWarning()).build()),void this.addStatusIndicatorRibbon((new d.Builder).withId(T.getId()).withDefaultsByStatus(y).withHideButtonDefaultsByStatus().withDescription(T.getWarning()).withSettingsButtonDefaultsByStatus(this.navigationLinkService.goToAppManagement(),y).build())}}selectJiraIndexCorrupted(){return this.jiraIndexCorruptedStorageService.select()}showIndicatorIfJiraIndexCorrupted(T){!T||this.setStatusIndicatorOptions((new o.Builder).withDefaultTooltipByStatus(r.r.ERROR).withTooltipDescription("Jira index is corrupted").withPulse(!1).build())}}return E.\u0275fac=function(T){return new(T||E)(f.LFG(h.T),f.LFG(i.ER),f.LFG(m.M))},E.\u0275prov=f.Yz7({token:E,factory:E.\u0275fac}),E})()},84694:(S,g,e)=>{"use strict";e.d(g,{u:()=>o});var t=e(74972),n=e(87470),s=e(90546),i=e(51890),r=e(9351),a=e(84046);let o=(()=>{class d{constructor(p,f,m,v){this.dataTypeDateFormatStorage=p,this.dataTypeDateTimeFormatStorage=f,this.dataTypeLocalizationStorage=m,this.timeZoneStorage=v}formatSimpleDateToDate(p){return r.p.formatSimpleDateToDate(p,this.dataTypeDateFormatStorage.get(),this.dataTypeLocalizationStorage.get())}formatTimestampToDate(p){return r.p.formatTimestamp(p,this.dataTypeDateFormatStorage.get(),this.timeZoneStorage.get(),this.dataTypeLocalizationStorage.get())}formatTimestampToDateTime(p){return r.p.formatTimestamp(p,this.dataTypeDateTimeFormatStorage.get(),this.timeZoneStorage.get(),this.dataTypeLocalizationStorage.get())}}return d.\u0275fac=function(p){return new(p||d)(a.LFG(t.R),a.LFG(s.M),a.LFG(n.$),a.LFG(i.A))},d.\u0275prov=a.Yz7({token:d,factory:d.\u0275fac}),d})()},42218:(S,g,e)=>{"use strict";e.d(g,{H:()=>r});var t=e(3518),n=e(75596),s=e(37042),i=e(84046);let r=(()=>{class o{constructor(h,p){this.dataTypeInstanceRepository=h,this.dataValueFactory=p}fromLocalStorageObject(h,p){if(null===h)return null;const f=this.dataTypeInstanceRepository.get(h.fieldDefinition.dataType.dataTypeId.id),m=h.dataTypeFilterConfigs.map(C=>f.getFilterByName(C.uniqueName).fromRaw(C,this.dataValueFactory)),v=this.dataTypeInstanceRepository.get(f.getDataTypeId()).getFieldBuilder(p).build(),E=h.selectedDataValues.map(C=>this.dataValueFactory.create(Object.assign({},C,{dataTypeId:C.dataTypeId.id})));return new t.t(v,m,E)}}return o.\u0275fac=function(h){return new(h||o)(i.LFG(n.v),i.LFG(s.e))},o.\u0275prov=i.Yz7({token:o,factory:o.\u0275fac}),o})()},45856:(S,g,e)=>{"use strict";e.d(g,{D:()=>s,E:()=>i});var t=e(84046),n=e(43563);const s=new t.OlP("DATA_TYPES");function i(a){return{provide:s,useFactory:o=>{const d=new a;return function(a,o){!o||a.register(o)}(o,d),d},deps:[n.t],multi:!0}}},37042:(S,g,e)=>{"use strict";e.d(g,{e:()=>i});var t=e(75596),n=e(47868),s=e(84046);let i=(()=>{class r{constructor(o){this.dataTypeInstanceRepository=o}create(o){if(!o)return null;const d=n.r.of(o.dataTypeId);if(!d)return console.error("DataTypeId is not defined in AnemicDataValue structure."),console.error(o),null;const h=this.dataTypeInstanceRepository.get(d);return h?h.buildDataValue(o):(console.error(`No DataType defined for dataTypeId: ${d}`),null)}}return r.\u0275fac=function(o){return new(o||r)(s.LFG(t.v))},r.\u0275prov=s.Yz7({token:r,factory:r.\u0275fac}),r})()},2939:(S,g,e)=>{"use strict";e.d(g,{w:()=>s});var t=e(75596),n=e(84046);let s=(()=>{class i{constructor(a){this.dataTypes=a}filterEntities(a,o){const d=[];return a.forEach(h=>{this.isInFilter(h,o)&&d.push(h)}),d}isInFilter(a,o){const d=a.getDataValue(o.getFieldDefinition().getFieldId()).slice(),h=o.getSelectedDataValues(),p=o.getFieldAttributeFiltersConfigs().filter(v=>this.getFilter(v.uniqueName,o).isApplicable());if(this.isFieldFilterEmpty(o,p))return!0;const f=!(h.length>0)||this.isAnyDataValueMatch(h,d),m=p.every(v=>this.getFilter(v.uniqueName,o).isEntityInFilter(a,o.getFieldDefinition(),v));return f&&m}getDataValuesMatchingSearchFilters(a,o){if(!o)return a;const d=new Map,h=o.getFieldAttributeFiltersConfigs();return a&&h?(a.forEach(p=>{h.every(m=>{const v=this.getFilter(m.uniqueName,o);return!!v&&(!v.isSearch()||v.isDataValueInFilter(p,m))})&&p.slice().forEach(m=>{d.set(m.hashCode(),m)})}),Array.from(d.values())):[]}getFilter(a,o){return o.getFieldDefinition().getDataType().getFilterByName(a)}isFieldFilterEmpty(a,o){return 0===a.getSelectedDataValues().length&&0===o.length}isAnyDataValueMatch(a,o){const d=a.reduce((h,p)=>{const f=p.hashCode();return h.set(f,f),h},new Map);return o.some(h=>{const p=h.hashCode();return p===d.get(p)})}}return i.\u0275fac=function(a){return new(a||i)(n.LFG(t.v))},i.\u0275prov=n.Yz7({token:i,factory:i.\u0275fac}),i})()},48058:(S,g,e)=>{"use strict";e.d(g,{b:()=>r});var t=e(37042),n=e(19268),s=e(53770),i=e(84046);let r=(()=>{class a{constructor(d){this.dataValueFactory=d}fromRaw(d){return n.i.fromRaw(this.dataValueFactory,d)}getDataValueFromRaw(d,h,p=s.H){return n.i.getDataValueFromRaw(this.dataValueFactory,d,h,p)}clone(d){return n.i.clone(this.dataValueFactory,d)}}return a.\u0275fac=function(d){return new(d||a)(i.LFG(t.e))},a.\u0275prov=i.Yz7({token:a,factory:a.\u0275fac}),a})()},3518:(S,g,e)=>{"use strict";e.d(g,{t:()=>n});var t=e(71118);class n{constructor(i,r=[],a=[]){this.fieldDefinition=i,this.dataTypeFilterConfigs=r,this.selectedDataValues=a}getFieldAttributeFiltersConfigs(){return this.dataTypeFilterConfigs}getSelectedDataValues(){var i;return(null===(i=this.selectedDataValues)||void 0===i?void 0:i.length)?this.selectedDataValues:this.dataTypeFilterConfigs.find(a=>"checkbox"===a.uniqueName).selectedDataValues}getFieldDefinition(){return this.fieldDefinition}isAdvancedFiltersEmpty(){return!t.l.arrayHasElements(this.dataTypeFilterConfigs)||this.dataTypeFilterConfigs.every(i=>i.isEmpty())}setSelectedDataValues(i){this.selectedDataValues=i}setDataTypeFilterConfigs(i){this.dataTypeFilterConfigs=i}cloneWithSelectedDataValues(i){return new n(this.fieldDefinition,this.dataTypeFilterConfigs,i)}cloneDataTypeFilterConfigs(i){return new n(this.fieldDefinition,i,this.selectedDataValues)}}},73147:(S,g,e)=>{"use strict";e.d(g,{H:()=>n});var t=e(84046);let n=(()=>{class s{}return s.\u0275fac=function(r){return new(r||s)},s.\u0275prov=t.Yz7({token:s,factory:s.\u0275fac}),s})()},74972:(S,g,e)=>{"use strict";e.d(g,{R:()=>s});var t=e(27609),n=e(84046);let s=(()=>{class i extends t.V{constructor(){super(i.DEFAULT_DATE_FORMAT)}static get DEFAULT_DATE_FORMAT(){return"dd/MMM/yy"}}return i.\u0275fac=function(a){return new(a||i)},i.\u0275prov=n.Yz7({token:i,factory:i.\u0275fac}),i})()},90546:(S,g,e)=>{"use strict";e.d(g,{M:()=>s});var t=e(27609),n=e(84046);let s=(()=>{class i extends t.V{constructor(){super(i.DEFAULT_DATE_TIME_FORMAT)}static get DEFAULT_DATE_TIME_FORMAT(){return"dd/MMM/yy h:mm"}}return i.\u0275fac=function(a){return new(a||i)},i.\u0275prov=n.Yz7({token:i,factory:i.\u0275fac}),i})()},15956:(S,g,e)=>{"use strict";e.d(g,{Q:()=>p});var t=e(88716),n=e(83941),s=e(68859),i=e(46902),r=e(78609),a=e(79366),o=e(47285),d=e(84046),h=e(83950);let p=(()=>{class f{constructor(v,E,C,T){this.permissionService=v,this.messageService=E,this.environmentService=C,this.localStorageWithUserKey=T}displayInfoMessage(){this.messageService.info(this.getInfoMessage())}clearStopDisplayingWrongMessageFromLS(){this.localStorageWithUserKey.removeItem("stop-displaying-invalid-date-format")}getInfoMessage(){return this.permissionService.isHostPlatformAdmin()?this.getDefaultInfoMessage().withPrimaryButton(this.getPrimaryButtonConfig()).withLinkButton(this.getLinkButtonConfig()):this.getDefaultInfoMessage()}getDefaultInfoMessage(){return(new i.P).withTitle(n.H.i18n("SPT_WRONG_DATE_FORMAT_MESSAGE_TITLE").toString()).withBody(n.H.component(t.W)).withDelay(-1).withStopDisplayingThisMessageButtonAsSecondary("invalid-date-format","SPT_WRONG_DATE_FORMAT_MESSAGE_SECONDARY_BUTTON_LABEL")}getPrimaryButtonConfig(){return(new s.q.Builder).withBtnText("SPT_WRONG_DATE_FORMAT_MESSAGE_PRIMARY_BUTTON_LABEL").withBtnClickCallback(()=>{window.open(this.environmentService.getBaseURL()+f.LOOK_AND_FEEL_NAVIGATION_LINK,"_blank")}).build()}getLinkButtonConfig(){return(new s.q.Builder).withBtnText("SPT_WRONG_DATE_FORMAT_MESSAGE_LINK_BUTTON_LABEL").withBtnClickCallback(()=>{window.open(f.READ_MORE_EXTERNAL_LINK,"_blank")}).build()}}return f.READ_MORE_EXTERNAL_LINK="https://docs.oracle.com/javase/6/docs/api/java/text/SimpleDateFormat.html",f.LOOK_AND_FEEL_NAVIGATION_LINK="/secure/admin/LookAndFeel!default.jspa",f.\u0275fac=function(v){return new(v||f)(d.LFG(o.$),d.LFG(r.e),d.LFG(h.L),d.LFG(a.v))},f.\u0275prov=d.Yz7({token:f,factory:f.\u0275fac}),f})()},1645:(S,g,e)=>{"use strict";e.d(g,{f:()=>Ie});var t=e(55331),n=e(70335),s=e(41001),i=e(42218),r=e(2939),a=e(36196);e(44980),e(71118),e(1352),e(19327),e(81e3);var v=e(84046);e(96105),e(6040),e(99609),e(11507),e(21563),e(68318),e(21412);var ie=e(26566),se=e(38696),pe=e(84974),ve=e(48876);e(19561);const de=[i.H,r.w];let Ie=(()=>{class He{static forRoot(){return{ngModule:He,providers:de}}}return He.\u0275fac=function(Ue){return new(Ue||He)},He.\u0275mod=v.oAB({type:He}),He.\u0275inj=v.cJS({providers:de,imports:[[t.ez,n.u5,n.UX,ie.n,ve.y,se.I,pe.A,s.J,a.I]]}),He})()},46005:(S,g,e)=>{"use strict";e.d(g,{O:()=>h});var t=e(84357),n=e(74972),s=e(90546),i=e(15956),r=e(87470),a=e(51890),o=e(9351),d=e(84046);let h=(()=>{class p{constructor(m,v,E,C,T,y){this.dataTypeDateFormatStorage=m,this.dataTypeDateTimeFormatStorage=v,this.dataTypeDateWrongFormatMessageService=E,this.dataTypeLocalizationStorage=C,this.timezoneStorage=T,this.currentLocaleStorage=y}initializeDateFormats(m){let v;v=m.timeZone.indexOf("GMT")>-1?this.convertTimezoneGmtToUtc(m.timeZone):m.timeZone;const E=o.p.validateDateFormat(m.dateFormat,r.$.DEFAULT_LOCALE),C=o.p.validateDateTimeFormat(m.dateTimeFormat,v,r.$.DEFAULT_LOCALE),T=o.p.validateTimestamp((new Date).getTime(),m.dateFormat,v,r.$.DEFAULT_LOCALE);E||this.dataTypeDateFormatStorage.set(m.dateFormat),C||this.dataTypeDateTimeFormatStorage.set(m.dateTimeFormat),T||this.timezoneStorage.set(v.toString()),E||C||T?this.dataTypeDateWrongFormatMessageService.displayInfoMessage():this.dataTypeDateWrongFormatMessageService.clearStopDisplayingWrongMessageFromLS(),this.dataTypeLocalizationStorage.set(this.currentLocaleStorage.get())}convertTimezoneGmtToUtc(m){return p.UTC_TIMEZONE_PREFIX+m.split("GMT").slice(-1)[0]}}return p.UTC_TIMEZONE_PREFIX="UTC",p.\u0275fac=function(m){return new(m||p)(d.LFG(n.R),d.LFG(s.M),d.LFG(i.Q),d.LFG(r.$),d.LFG(a.A),d.LFG(t.O))},p.\u0275prov=d.Yz7({token:p,factory:p.\u0275fac}),p})()},75596:(S,g,e)=>{"use strict";e.d(g,{v:()=>r});var t=e(71118),n=e(45856),s=e(43563),i=e(84046);let r=(()=>{class a{constructor(d,h){this._dataTypesInitializationTokenDoNotRemove=d,this.dataTypeProviderRepository=h}get(d){const h=this.dataTypeProviderRepository.get(d);if(!h)throw new Error(`There is no dataType ${d} provided`);return h}getAll(){return Array.from(this.dataTypeProviderRepository.getAll().values())}isDefined(d){return t.l.isDefined(this.dataTypeProviderRepository.get(d))}}return a.\u0275fac=function(d){return new(d||a)(i.LFG(n.D,8),i.LFG(s.t))},a.\u0275prov=i.Yz7({token:a,factory:a.\u0275fac}),a})()},87470:(S,g,e)=>{"use strict";e.d(g,{$:()=>i});var t=e(27609),n=e(22797),s=e(84046);let i=(()=>{class r extends t.V{constructor(){super(r.DEFAULT_LOCALE)}static get DEFAULT_LOCALE(){return n.Z}}return r.\u0275fac=function(o){return new(o||r)},r.\u0275prov=s.Yz7({token:r,factory:r.\u0275fac}),r})()},28579:(S,g,e)=>{"use strict";e.d(g,{X:()=>tn,$:()=>Sn});var t=e(55331),n=e(70335),s=e(41001),i=e(78039),r=e(45856),a=e(37042),o=e(48058),d=e(70204),h=e(84046);let p=(()=>{class qt{constructor(rn){this.fieldCollectionFactory=rn}fromRaw(rn,un,Hn,oo,qn){return new d.J(rn,this.fieldCollectionFactory.fromRaw(un),Hn,oo,qn)}}return qt.\u0275fac=function(rn){return new(rn||qt)(h.LFG(o.b))},qt.\u0275prov=h.Yz7({token:qt,factory:qt.\u0275fac}),qt})();var f=e(73147),m=e(74972),v=e(90546),E=e(1645),C=e(75596),T=e(87470),y=e(43563),I=e(36196),P=e(94305),L=e(75649),F=e(18935),b=e(25121),B=(e(88716),e(51890)),M=e(72364),w=e(38322),K=e(34353),k=e(89869),G=e(32931),$=e(99929),X=e(58982),ie=e(50687),se=e(11095),pe=e(51179),ve=e(78212),Ce=e(15493),ye=e(99609),de=e(4742),Ie=e(57011);class He extends de.p{constructor(cn,rn,un,Hn=ye.J.TRAFFIC_LIGHT,oo=!1,qn="Traffic light"){super(qn,un,rn,Hn,oo),this.dataType=cn}static BUILDER(cn,rn){return new Ie.I(He,cn,rn)}getTextValue(){return""}getDataType(){return this.dataType}}var Ve=e(19589);class Ue extends Ve.R{constructor(){super(...arguments),this.name="colors"}getName(){return this.name}compareNotNullDataValues(cn,rn){return this.compareStringLists([cn.leftColor,cn.middleColor,cn.rightColor],[rn.leftColor,rn.middleColor,rn.rightColor])}}var xe=e(20134),gt=e(14228),tt=e(71118),lt=e(47868);const Mt=new lt.r("EXTRA_TRAFFIC_LIGHT");class ne extends gt.G{constructor(cn,rn,un){super(),this.leftColor=cn,this.middleColor=rn,this.rightColor=un,this.dataTypeId=Mt}static of(cn){return cn&&new ne(cn.leftColor,cn.middleColor,cn.rightColor)}clone(){return Object.freeze(ne.of(tt.l.deepClone(this)))}isEmpty(){var cn,rn,un;return!(null===(cn=this.leftColor)||void 0===cn?void 0:cn.length)&&!(null===(rn=this.middleColor)||void 0===rn?void 0:rn.length)&&!(null===(un=this.rightColor)||void 0===un?void 0:un.length)}}class De extends Ce.g{constructor(){super(...arguments),this.dataTypeId=De.ID,this.comparator=new Ue}getFieldBuilder(cn){return He.BUILDER(cn,this)}getCustomFieldBuilder(cn){return He.BUILDER(de._,this).withFieldName(cn)}getAvailableDecorators(){return[ye.J.TRAFFIC_LIGHT]}getDefaultDecorator(){return ye.J.TRAFFIC_LIGHT}getDefaultComparator(){return this.comparator}getDisplayComponent(){return xe.Y}buildDataValue(cn){return ne.of(cn)}}De.ID=new lt.r("EXTRA_TRAFFIC_LIGHT");var Ye=e(13849),Qe=e(51080),Ke=e(47126),it=e(99490),Se=e(13248),Ct=e(26151),Lt=e(27745),Vt=e(39856),St=e(17190),$t=e(51750),yt=e(39455),Ft=e(30031),ot=e(3926),Me=e(49548),Ze=e(18933),Ne=e(49885),we=e(77702),At=e(9485),Rt=e(23467),zt=e(28328),Yt=e(94932),ln=e(7052),pn=e(46789),nn=e(60130),hn=e(51315),xt=e(53387),Zt=e(52390),je=e(11534),Le=e(53975),vt=e(82471),qe=e(36846),Et=e(9474),st=e(72090),Nt=e(99236),Je=e(73088),Ot=e(69989),fe=e(11531),Ge=e(83950);let Tt=(()=>{class qt extends Et.w{constructor(rn,un){super(rn,un)}update(rn,un){return(0,Ot._)("You have no provider for FieldValueResource, now you use DefaultFieldValueResource")}clear(rn,un){}getRestUrl(rn){return""}}return qt.\u0275fac=function(rn){return new(rn||qt)(h.LFG(fe.O),h.LFG(Ge.L))},qt.\u0275prov=h.Yz7({token:qt,factory:qt.\u0275fac}),qt})(),Pe=(()=>{class qt extends st.n{constructor(){super(...arguments),this.editableDataTypes=[],this.notEditableFields=[]}isEntityParent(rn){}}return qt.\u0275fac=function(){let cn;return function(un){return(cn||(cn=h.n5z(qt)))(un||qt)}}(),qt.\u0275prov=h.Yz7({token:qt,factory:qt.\u0275fac}),qt})();var pt=e(66270),Q=e(17583),be=(e(34606),e(37544),e(39473)),In=e(5425),Un=e(54654),Jn=e(61993),zn=e(79047),An=e(51805),to=e(26566),no=e(27881),uo=e(68890),$n=e(76821),kn=e(18655),ro=e(47285);let Dt=(()=>{class qt{constructor(rn){this.permissionService=rn}isEditable(){return this.permissionService.isEdit()}}return qt.\u0275fac=function(rn){return new(rn||qt)(h.LFG(ro.$))},qt.\u0275prov=h.Yz7({token:qt,factory:qt.\u0275fac}),qt})();const Pt=[(0,r.E)(M.B),(0,r.E)(w.A),(0,r.E)(K.y),(0,r.E)(k.A),(0,r.E)($.b),(0,r.E)(X.G),(0,r.E)(ie.Z),(0,r.E)(se.q),(0,r.E)(pe.v),(0,r.E)(ve.c),(0,r.E)(De),(0,r.E)(Ye.k),(0,r.E)(Qe.c),(0,r.E)(Ke.f),(0,r.E)(it.R),(0,r.E)(Se.f),(0,r.E)(Ct.S),(0,r.E)(Lt.s),(0,r.E)(Vt.K),(0,r.E)($t.V),(0,r.E)(yt.Z),(0,r.E)(Ft.g),(0,r.E)(Me.H),(0,r.E)(Ze.h),(0,r.E)(Ne.v),(0,r.E)(ot.M),(0,r.E)(we.U),(0,r.E)(At.e),(0,r.E)(zt.r),(0,r.E)(Yt.C),(0,r.E)(ln.r),(0,r.E)(pn.A),(0,r.E)(nn.T),(0,r.E)(hn.n),(0,r.E)(xt.a),(0,r.E)(Zt.A),(0,r.E)(Rt.a),(0,r.E)(St.O),C.v,y.t,m.R,T.$,v.M,B.A,pt.e,je.m,G.O,F._,vt.N,b._,qe.R,P.k,Nt.y,{provide:f.H,useClass:Je.N},Un.c,be.O,i.V,Le.a,a.e,o.b,p,In.t,{provide:kn.o,useClass:Dt}];let tn=(()=>{class qt{static forRoot(){return{ngModule:qt,providers:[...Pt]}}static forRoute(rn=Tt,un=Pe){return{ngModule:qt,providers:[Q.q,{provide:Et.w,useClass:rn},{provide:st.n,useClass:un}]}}}return qt.\u0275fac=function(rn){return new(rn||qt)},qt.\u0275mod=h.oAB({type:qt}),qt.\u0275inj=h.cJS({imports:[[t.ez,n.u5,n.UX,zn.C,Jn.r.forRoot(),An.$,uo.z8,no.Z.forRoot(),E.f.forRoot(),I.I.forRoot(),L.n.forRoot(),$n.A.forRoot(),to.n,s.J]]}),qt})();function Sn(qt=Tt,cn=Pe){return[Q.q,{provide:Et.w,useClass:qt},{provide:st.n,useClass:cn}]}},43563:(S,g,e)=>{"use strict";e.d(g,{t:()=>i});var t=e(69989),n=e(71118),s=e(84046);let i=(()=>{class r{constructor(){this.dataTypeMap=new Map}register(o){this.dataTypeMap.set(o.getDataTypeId().getId(),o)}get(o){const d=this.dataTypeMap.get(o.toString());return d||(0,t._)(`There is no dataType ${o} provided`),d}getAll(){return Array.from(this.dataTypeMap.values())}isDefined(o){return n.l.isDefined(this.dataTypeMap.get(o.toString()))}}return r.\u0275fac=function(o){return new(o||r)},r.\u0275prov=s.Yz7({token:r,factory:r.\u0275fac}),r})()},94305:(S,g,e)=>{"use strict";e.d(g,{k:()=>C});var t=e(58982),n=e(51080),s=e(99490),i=e(27745),r=e(3926),a=e(23467),o=e(94932),d=e(46789),h=e(53387),p=e(11534),f=e(99929),m=e(75596),v=e(88983),E=e(84046);let C=(()=>{class T{constructor(I,P){this.domainFieldsRepository=I,this.dataTypes=P}createSummaryField(){return this.dataTypes.get(d.A.ID).getFieldBuilder(this.domainFieldsRepository.getSummaryId()).withEditable(!0)}createKeyField(){return this.dataTypes.get(s.R.ID).getFieldBuilder(this.domainFieldsRepository.getKeyId()).withEditable(!0)}createStatusField(){return this.dataTypes.get(o.C.ID).getFieldBuilder(this.domainFieldsRepository.getStatusId()).withEditable(!0)}createStartDateField(){return this.dataTypes.get(f.b.ID).getFieldBuilder(this.domainFieldsRepository.getStartDateId()).withEditable(!0)}createEndDateField(){return this.dataTypes.get(f.b.ID).getFieldBuilder(this.domainFieldsRepository.getEndDateId()).withEditable(!0)}createBaselineStartDateField(){return this.dataTypes.get(t.G.ID).getFieldBuilder(this.domainFieldsRepository.getBaselineStartDateId()).withEditable(!0)}createBaselineEndDateField(){return this.dataTypes.get(t.G.ID).getFieldBuilder(this.domainFieldsRepository.getBaselineEndDateId()).withEditable(!0)}createProgressField(){return this.dataTypes.get(v.E).getFieldBuilder(this.domainFieldsRepository.getProgressId()).withEditable(!0)}createMilestoneField(){return this.dataTypes.get(i.s.ID).getFieldBuilder(this.domainFieldsRepository.getMilestoneId()).withEditable(!0)}createPeriodModeField(){return this.dataTypes.get(r.M.ID).getFieldBuilder(this.domainFieldsRepository.getPeriodModeId()).withEditable(!0)}createAssigneeField(){return this.dataTypes.get(h.a.ID).getFieldBuilder(this.domainFieldsRepository.getAssigneeId()).withEditable(!0)}createDurationField(){return this.dataTypes.get(v.E).getFieldBuilder(this.domainFieldsRepository.getDurationId()).withEditable(!0)}createSkillsField(){return this.dataTypes.get(a.a.ID).getFieldBuilder(this.domainFieldsRepository.getSkillsId()).withEditable(!0)}createIconField(){return this.dataTypes.get(n.c.ID).getFieldBuilder(this.domainFieldsRepository.getIconId()).withEditable(!0)}}return T.\u0275fac=function(I){return new(I||T)(E.LFG(p.m),E.LFG(m.v))},T.\u0275prov=E.Yz7({token:T,factory:T.\u0275fac}),T})()},18935:(S,g,e)=>{"use strict";e.d(g,{_:()=>s});var t=e(84046),n=e(82471);let s=(()=>{class i{constructor(a){this.fieldValueChangeSubject=a}select(){return this.fieldValueChangeSubject.asObservable()}}return i.\u0275fac=function(a){return new(a||i)(t.LFG(n.N))},i.\u0275prov=t.Yz7({token:i,factory:i.\u0275fac}),i})()},25121:(S,g,e)=>{"use strict";e.d(g,{_:()=>s});var t=e(84046),n=e(36846);let s=(()=>{class i{constructor(a){this.fieldValueErrorSubject=a}select(){return this.fieldValueErrorSubject.asObservable()}}return i.\u0275fac=function(a){return new(a||i)(t.LFG(n.R))},i.\u0275prov=t.Yz7({token:i,factory:i.\u0275fac}),i})()},8163:(S,g,e)=>{"use strict";e.d(g,{Q:()=>t});class t{}},51890:(S,g,e)=>{"use strict";e.d(g,{A:()=>s});var t=e(27609),n=e(84046);let s=(()=>{class i extends t.V{constructor(){super(i.DEFAULT_TIME_ZONE)}static get DEFAULT_TIME_ZONE(){return"Europe/Warsaw"}}return i.\u0275fac=function(a){return new(a||i)},i.\u0275prov=n.Yz7({token:i,factory:i.\u0275fac}),i})()},47801:(S,g,e)=>{"use strict";e.d(g,{_:()=>i});var t=e(46005),n=e(87156),s=e(84046);let i=(()=>{class r{constructor(o,d){this.dateFormatsResource=o,this.dataTypeInitializeDateService=d}init(){this.dateFormatsResource&&this.dateFormatsResource.getFormats().subscribe(o=>{this.dataTypeInitializeDateService.initializeDateFormats(o)})}}return r.\u0275fac=function(o){return new(o||r)(s.LFG(n.H,8),s.LFG(t.O))},r.\u0275prov=s.Yz7({token:r,factory:r.\u0275fac}),r})()},36196:(S,g,e)=>{"use strict";e.d(g,{I:()=>zn});var t=e(70335),n=e(55331),s=e(41001),i=e(13747),r=e(15956),a=e(46005),Ie=(e(73168),e(89218),e(93231),e(63532),e(90331),e(65989),e(21167),e(10190),e(39433),e(41299),e(83087),e(81281),e(23406),e(59486),e(68502),e(48315),e(90257),e(97483),e(11188),e(13395),e(97609),e(79779),e(44066),e(84965),e(14067),e(84785),e(23800),e(45129),e(45501),e(13787),e(10767),e(95272),e(643)),we=(e(86874),e(38971),e(98704),e(83216),e(40626),e(18419),e(38362),e(40383),e(94290),e(95596),e(39542),e(84042),e(72650),e(3043),e(2947),e(34573),e(54614),e(37374),e(25539),e(63716),e(39459),e(82015),e(77962),e(64823),e(30702),e(20134),e(16281)),Rt=(e(78600),e(88275)),zt=e(74111),nn=(e(50128),e(95660),e(73101),e(79047)),hn=e(51805),xt=e(73891),Zt=e(68890),je=e(27881),Le=e(61993),vt=e(1030),Ot=(e(6536),e(7194),e(93743),e(11507),e(18675),e(26566)),Ge=(e(92490),e(96554)),Tt=e(69032),Pe=e(37042),pt=e(87156),Q=e(84694),Ee=e(47801),ue=e(77419),mt=(e(98711),e(41798)),Ut=e(48352),Xt=e(82366),en=e(84046),mn=e(39905),In=e(94944);const Jn=[Tt.J,Ie.D,Pe.e,Ie.D,pt.H,Q.u,Ee._,Q.u,r.Q,a.O];let zn=(()=>{class An{static forRoot(){return{ngModule:An,providers:Jn}}}return An.\u0275fac=function(no){return new(no||An)},An.\u0275mod=en.oAB({type:An}),An.\u0275inj=en.cJS({imports:[[t.u5,n.ez,nn.C,hn.$,Zt.z8,je.Z.forRoot(),Le.r.forRoot(),zt.Y.forRoot(),mt.I,s.J,vt.l,xt.Z,i.v,Xt.QX,Ut.I,Ot.n,Rt.B,Ge.gF.forStyle(e.e(5983).then(e.t.bind(e,65983,17)))]]}),An})();en.B6R(ue.L,[n.O5,Zt.i9,n.sg,mn._,n.mk,we.Y],[In.C])},75649:(S,g,e)=>{"use strict";e.d(g,{n:()=>Vt});var t=e(55331),n=e(70335),s=e(41001),i=e(84046),r=e(83155);class a{constructor($t,yt){if(this.suggestedValue=$t,this.score=yt,yt>1)throw Error("Score cannot be higher than 1")}static fromRaw($t){return new a($t.suggestedValue,$t.score)}static fromRawArray($t){return $t.map(yt=>a.fromRaw(yt))}}var o=e(71726),d=e(15709),h=e(11531),p=e(83950);let f=(()=>{class St extends r.a{constructor(yt,Ft){super(yt),this.environmentService=Ft}isSuggestionAvailable(yt){return this.get(`/availability/${yt}`,{},{responseType:d.O.TEXT})}getSuggestions(yt,Ft){return this.get(`/task/${yt}/suggest/${Ft}`).pipe((0,o.U)(ot=>a.fromRawArray(ot.suggestionsWithScore)))}getRestUrl(yt){return`${this.environmentService.getRestBaseUrl()}ppm/task-field-suggestion${yt}`}}return St.\u0275fac=function(yt){return new(yt||St)(i.LFG(h.O),i.LFG(p.L))},St.\u0275prov=i.Yz7({token:St,factory:St.\u0275fac}),St})(),m=(()=>{class St{constructor(yt){this.dataSuggestionResource=yt}isSuggestionAvailable(yt){return this.dataSuggestionResource.isSuggestionAvailable(yt)}getSuggestions(yt,Ft){return this.dataSuggestionResource.getSuggestions(yt,Ft)}}return St.\u0275fac=function(yt){return new(yt||St)(i.LFG(f))},St.\u0275prov=i.Yz7({token:St,factory:St.\u0275fac}),St})();var v=e(74388),E=e(68890),C=e(12002),T=e(26566);const y=[m,f];let I=(()=>{class St{static forRoot(){return{ngModule:St,providers:y}}}return St.\u0275fac=function(yt){return new(yt||St)},St.\u0275mod=i.oAB({type:St}),St.\u0275inj=i.cJS({imports:[[t.ez,v.K.forRoot(),E.z8,C.K,s.J,T.n]]}),St})();e(29659),e(20032),e(450),e(18669),e(25400),e(20796),e(51124),e(95297),e(65397),e(11058);var G=e(94794),X=(e(8816),e(89764)),ie=e(13883),se=e(61993),pe=e(79047),ve=e(51805),Ce=e(97425),ye=e(38696),de=e(27881),Ie=e(84974),He=e(39202),Ve=e(92944),xe=(e(37906),e(37042)),gt=e(82366),tt=e(48352),lt=e(92006),Mt=e(26910),ne=e(98807),De=e(83941),Ye=e(14650),Qe=e(83372);function Ke(St,$t){if(1&St){const yt=i.EpF();i.TgZ(0,"div",1),i.TgZ(1,"sp-select-data-type-edit-control",2),i.NdJ("valueSelected",function(){i.CHM(yt);const ot=i.oxw();return ot.propagateTouched(),ot.editor.submit()})("click",function(ot){return ot.stopPropagation()}),i.qZA(),i.qZA()}if(2&St){const yt=i.oxw();i.Q6J("formGroup",yt.formGroup),i.xp6(1),i.ekj("sp-status-data-type-edit__loding",yt.isLoading),i.Q6J("configuration",yt.selectConfiguration)("options",yt.selectOptions)("formControlName","name")}}const it={provide:n.JU,useExisting:(0,i.Gpc)(()=>Se),multi:!0};let Se=(()=>{class St extends ne.F{constructor(){super(...arguments),this.selectOptions=[],this.isLoading=!0,this.elementToIgnoreOnClickOutsideSelector="#sp-status-mode-inline-edit-options-menu",this.selectConfiguration=(new Qe.w).withOptionsMenuWidth(St.STATUS_MENU_WIDTH).withMaxOptionsMenuWidth(St.STATUS_MENU_MAX_WIDTH).withOpenedMenuOnCreation().withResponsiveHeight().withPrefixForId("sp-status-mode-inline-edit")}init(){const{data$:yt,isLoading$:Ft}=this.fetchAvailableOptions();this.observeAdditionalData(yt),this.observeLoadingState(Ft)}formGroupCreated(){this.observeValueChanges()}getFormGroup(yt){return this.formBuilder.group({name:[yt?yt.name:"",[]]})}getHostClasses(){return["sp-select-data-type-edit","sp-w-full","sp-h-full"]}observeAdditionalData(yt){yt.pipe(this.takeUntilDestroy()).subscribe(Ft=>{this.nameToDataValue=this.createNameToDataValueMap(Ft),this.selectOptions=Ft.map(ot=>new Ye.W(ot.name,De.H.string(ot.name))),this.changeDetectorRef.detectChanges()})}observeLoadingState(yt){yt.pipe(this.takeUntilDestroy()).subscribe(Ft=>{this.isLoading=Ft})}observeValueChanges(){this.formGroup.get("name").valueChanges.pipe(this.takeUntilDestroy()).subscribe(yt=>{const Ft=this.nameToDataValue.get(yt);this.editor.setDataValue(Mt.R.of({dataTypeId:lt.C.toString(),name:yt,id:Ft.id,description:Ft.description,statusCategory:Ft.statusCategory,hexColor:Ft.hexColor.toAnemia(),sequence:Ft.sequence}))})}createNameToDataValueMap(yt){const Ft=new Map;return yt.forEach(ot=>{Ft.set(ot.name,ot)}),Ft}}return St.STATUS_MENU_WIDTH="160px",St.STATUS_MENU_MAX_WIDTH=300,St.\u0275fac=function(){let $t;return function(Ft){return($t||($t=i.n5z(St)))(Ft||St)}}(),St.\u0275cmp=i.Xpm({type:St,selectors:[["sp-status-data-type-edit"]],features:[i._Bn([it]),i.qOj],decls:1,vars:1,consts:[["class","sp-inline-edit-group",3,"formGroup",4,"ngIf"],[1,"sp-inline-edit-group",3,"formGroup"],[3,"configuration","options","formControlName","valueSelected","click"]],template:function(yt,Ft){1&yt&&i.YNc(0,Ke,2,6,"div",0),2&yt&&i.Q6J("ngIf",Ft.formGroup)},directives:[t.O5,n.JL,n.sg,G.c,n.JJ,n.u],styles:[".sp-inline-edit-group{height:100%}.sp-inline-edit-group .sp-inline-edit-string,.sp-inline-edit-group .sp-inline-edit-number{outline:none}.sp-inline-edit-control{width:100%;height:100%;border-radius:4px;border:2px solid var(--gray-30);background-color:var(--gray-10)}.sp-inline-edit-control:focus{border:2px solid var(--blue-100)}.sp-marked .sp-inline-edit-string,.sp-marked .sp-inline-edit-number{border:2px solid var(--error)}.sp-marked-warning .sp-inline-edit-string,.sp-marked-warning .sp-inline-edit-number{border:2px solid var(--yellow-primary)}.sp-inline-edit-control.ng-invalid:focus{border:2px solid var(--error)}.sp-inline-edit-loading{color:transparent;background:linear-gradient(100deg,var(--gray-30) 30%,var(--gray-20) 50%,var(--gray-40) 70%);background-size:400%;animation:loading 1.2s ease-in-out infinite;width:150px;height:70%}@keyframes loading{0%{background-position:100% 50%}to{background-position:0 50%}}.sp-status-data-type-edit__loding{display:none!important}\n"],encapsulation:2,changeDetection:0}),St})();const Lt=[ie.O,X.Z,He.a,xe.e];let Vt=(()=>{class St{static forRoot(){return{ngModule:St,providers:Lt}}}return St.\u0275fac=function(yt){return new(yt||St)},St.\u0275mod=i.oAB({type:St}),St.\u0275inj=i.cJS({providers:[xe.e],imports:[[n.UX,n.u5,t.ez,pe.C,ve.$,E.z8,de.Z.forRoot(),se.r.forRoot(),Ve.$,Ce.o,I,Ie.A,ye.I.forRoot(),gt.QX,tt.I,s.J]]}),St})()},88716:(S,g,e)=>{"use strict";e.d(g,{W:()=>s});var t=e(84046),n=e(65799);let s=(()=>{class i{}return i.\u0275fac=function(a){return new(a||i)},i.\u0275cmp=t.Xpm({type:i,selectors:[["sp-data-type-wrong-format-message-body"]],decls:10,vars:9,consts:[[1,"sp-flex-column"],[1,"sp-pt-2"]],template:function(a,o){1&a&&(t.TgZ(0,"div",0),t.TgZ(1,"p"),t._uU(2),t.ALo(3,"spL10nText"),t.qZA(),t.TgZ(4,"p",1),t._uU(5),t.ALo(6,"spL10nText"),t.qZA(),t.TgZ(7,"p"),t._uU(8),t.ALo(9,"spL10nText"),t.qZA(),t.qZA()),2&a&&(t.xp6(2),t.hij(" ",t.lcZ(3,3,"SPT_WRONG_DATE_FORMAT_MESSAGE_BODY")," "),t.xp6(3),t.hij("\u2022 ",t.lcZ(6,5,"SPT_WRONG_DATE_FORMAT_MESSAGE_BODY_DEFAULT_DATETIME_EXAMPLE"),""),t.xp6(3),t.hij("\u2022 ",t.lcZ(9,7,"SPT_WRONG_DATE_FORMAT_MESSAGE_BODY_DEFAULT_DATE_EXAMPLE"),""))},pipes:[n.L],encapsulation:2,changeDetection:0}),i})()},11534:(S,g,e)=>{"use strict";e.d(g,{m:()=>a});var t=e(97809),n=e(99768),s=e(66795);class i{constructor(){this.fieldNameToId=new Map,this.fieldIdToName=new Map}getSummaryId(){return this.getId(n.M.SUMMARY)}getKeyId(){return this.getId(n.M.KEY)}getStatusId(){return this.getId(n.M.STATUS)}getStartDateId(){return this.getId(n.M.START_DATE)}getEndDateId(){return this.getId(n.M.END_DATE)}getBaselineStartDateId(){return this.getId(n.M.BASELINE_START_DATE)}getBaselineEndDateId(){return this.getId(n.M.BASELINE_END_DATE)}getProgressId(){return this.getId(n.M.PROGRESS)}getColorId(){return this.getId(n.M.COLOR)}getMilestoneId(){return this.getId(n.M.MILESTONE)}getPeriodModeId(){return this.getId(n.M.PERIOD_MODE)}getAssigneeId(){return this.getId(n.M.ASSIGNEE)}getDurationId(){return this.getId(n.M.DURATION_TECHNICAL)}getSkillsId(){return this.getId(n.M.SKILLS)}getConsequenceId(){return this.getId(n.M.RISK_CONSEQUENCE)}getProbabilityId(){return this.getId(n.M.RISK_PROBABILITY)}getOriginalEstimateId(){return this.getId(n.M.ORIGINAL_ESTIMATE)}getRemainingEstimateId(){return this.getId(n.M.REMAINING_ESTIMATE)}getStoryPointsId(){return this.getId(n.M.STORY_POINTS)}getPriorityId(){return this.getId(n.M.PRIORITY)}getIconId(){return this.getId(n.M.ICON)}getTimeSpentId(){return this.getId(n.M.TIME_SPENT)}getTimeTrackingId(){return this.getId(n.M.TIME_TRACKING)}getWorkloadContouringModeId(){return this.getId(n.M.WORKLOAD_CONTOURING_MODE)}getSummary(d){return d.getDataValue(this.getSummaryId())}getStatus(d){return d.getDataValue(this.getStatusId())}initFields(d){d.forEach((h,p)=>{this.fieldNameToId.set(p,h),this.fieldIdToName.set(d.get(p).toString(),p)})}getName(d){return s.bq.ofNullable(this.fieldIdToName.get(d.toString()))}getId(d){return this.fieldNameToId.get(d)}}var r=e(84046);let a=(()=>{class o{constructor(){this.mapperInitialized$=new t.t(1),this.domainFieldMapper=new i}init(h){this.domainFieldMapper.initFields(h),this.mapperInitialized$.next(!0)}selectDomainFieldsInitialized(){return this.mapperInitialized$}getMapper(){return this.domainFieldMapper}getName(h){return this.domainFieldMapper.getName(h)}getSummaryId(){return this.domainFieldMapper.getSummaryId()}getKeyId(){return this.domainFieldMapper.getKeyId()}getStatusId(){return this.domainFieldMapper.getStatusId()}getStartDateId(){return this.domainFieldMapper.getStartDateId()}getEndDateId(){return this.domainFieldMapper.getEndDateId()}getBaselineStartDateId(){return this.domainFieldMapper.getBaselineStartDateId()}getBaselineEndDateId(){return this.domainFieldMapper.getBaselineEndDateId()}getProgressId(){return this.domainFieldMapper.getProgressId()}getColorId(){return this.domainFieldMapper.getColorId()}getMilestoneId(){return this.domainFieldMapper.getMilestoneId()}getPeriodModeId(){return this.domainFieldMapper.getPeriodModeId()}getAssigneeId(){return this.domainFieldMapper.getAssigneeId()}getDurationId(){return this.domainFieldMapper.getDurationId()}getSkillsId(){return this.domainFieldMapper.getSkillsId()}getConsequenceId(){return this.domainFieldMapper.getConsequenceId()}getProbabilityId(){return this.domainFieldMapper.getProbabilityId()}getRemainingEstimateId(){return this.domainFieldMapper.getRemainingEstimateId()}getOriginalEstimateId(){return this.domainFieldMapper.getOriginalEstimateId()}getStoryPointsId(){return this.domainFieldMapper.getStoryPointsId()}getPriorityId(){return this.domainFieldMapper.getPriorityId()}getIconId(){return this.domainFieldMapper.getIconId()}getTimeSpentId(){return this.domainFieldMapper.getTimeSpentId()}getTimeTrackingId(){return this.domainFieldMapper.getTimeTrackingId()}getWorkloadContouringModeId(){return this.domainFieldMapper.getWorkloadContouringModeId()}getSummary(h){return this.domainFieldMapper.getSummary(h)}}return o.\u0275fac=function(h){return new(h||o)},o.\u0275prov=r.Yz7({token:o,factory:o.\u0275fac}),o})()},70204:(S,g,e)=>{"use strict";e.d(g,{J:()=>i});var t=e(19268),n=e(71118),s=e(53770);class i{constructor(a,o,d,h,p){this.id=a,this.fieldCollection=o,this.editable=d,this.accessible=h,this.fieldsEditability=p,this.outdatedFields=new Set,this.operations={}}static fromAnemia(a,o){const d=t.i.fromRaw(o,a.fieldCollection),h=this&&new i(n.l.lodashCloneDeep(a.id),d,n.l.lodashCloneDeep(a.editable),n.l.lodashCloneDeep(a.accessible),n.l.lodashCloneDeep(a.fieldsEditability));return a.updateDate&&(h.updateDate=n.l.lodashCloneDeep(a.updateDate)),a.outdatedFields&&(h.outdatedFields=new Set(n.l.lodashCloneDeep(Array.from(a.outdatedFields)))),a.operations&&(h.operations=n.l.lodashCloneDeep(a.operations)),h.deletable=a.deletable,h}clone(a){const o=t.i.clone(a,this.fieldCollection),d=this&&new i(n.l.lodashCloneDeep(this.id),o,n.l.lodashCloneDeep(this.editable),n.l.lodashCloneDeep(this.accessible),n.l.lodashCloneDeep(this.fieldsEditability));return this.updateDate&&(d.updateDate=n.l.lodashCloneDeep(this.updateDate)),this.outdatedFields&&(d.outdatedFields=new Set(n.l.lodashCloneDeep(Array.from(this.outdatedFields)))),this.operations&&(d.operations=n.l.lodashCloneDeep(this.operations)),d.deletable=n.l.lodashCloneDeep(this.deletable),d}getDataValue(a,o=s.H){return this.fieldCollection.getDataValue(a,o)}getSlicedDataValue(a,o=s.H){return this.fieldCollection.getSlicedDataValue(a,o)}getFieldCollection(){return this.fieldCollection}updateFieldCollection(a){this.fieldCollection.update(a)}setFieldCollection(a){this.fieldCollection=n.l.lodashCloneDeep(a)}setUpdateDate(a){this.updateDate=n.l.lodashCloneDeep(a)}setOperations(a){this.operations=n.l.lodashCloneDeep(a)}setEditable(a){this.editable=n.l.lodashCloneDeep(a)}setDeletable(a){this.deletable=n.l.lodashCloneDeep(a)}setAccessible(a){this.accessible=n.l.lodashCloneDeep(a)}setFieldsEditability(a){this.fieldsEditability=n.l.lodashCloneDeep(a)}}},19268:(S,g,e)=>{"use strict";e.d(g,{i:()=>i});var t=e(69417),n=e(53770);class s{constructor(){this.fieldCollection=new i}withField(a,o,d=n.H){return this.fieldCollection.setField(a,d,o),this}build(){return this.fieldCollection}}class i{constructor(a=new Map){this.fieldIdToAggregatedDataValue=a}static fromRaw(a,o){o||(o={});const d=new Map;return Object.keys(o).forEach(h=>{d.set(h,new Map);const p=o[h];null!=p&&Object.keys(p).forEach(f=>{d.get(`${h}`).set(f,a.create(p[f]))})}),new i(d)}static BUILDER(){return new s}static getDataValueFromRaw(a,o,d,h=n.H){return o&&o[d.toString()]&&a.create(o[d.toString()][h.toString()])}static clone(a,o){const d={};return o.fieldIdToAggregatedDataValue.forEach((h,p)=>{d[p]||(d[p]={}),h.forEach((f,m)=>{d[p][m]=f?f.clone():null})}),i.fromRaw(a,d)}clone(){const a=new Map;return this.fieldIdToAggregatedDataValue.forEach((o,d)=>{a.get(d)||a.set(d,new Map),o.forEach((h,p)=>{a.get(d).set(p.toString(),h?h.clone():null)})}),new i(a)}getAggregatedField(a){return this.fieldIdToAggregatedDataValue.get(a.toString())}getDataValue(a,o=n.H){const d=this.fieldIdToAggregatedDataValue.get(a.toString());return d?d.get(o.toString()):void 0}getSlicedDataValue(a,o=n.H){return this.getDataValue(a,o).slice()}update(a){a.fieldIdToAggregatedDataValue.forEach((o,d)=>{(!this.fieldIdToAggregatedDataValue.has(d)||!o.size)&&this.fieldIdToAggregatedDataValue.set(d,new Map),o.forEach((h,p)=>{this.fieldIdToAggregatedDataValue.get(d).set(p,h)})})}setField(a,o,d){this.fieldIdToAggregatedDataValue.get(a.toString())||this.fieldIdToAggregatedDataValue.set(a.toString(),new Map),this.fieldIdToAggregatedDataValue.get(a.toString()).set(o.toString(),d.clone())}forEach(a){this.fieldIdToAggregatedDataValue.forEach((o,d)=>a(o,t.Z.fromString(d)))}}},53975:(S,g,e)=>{"use strict";e.d(g,{a:()=>v});var t=e(69417),n=e(16),s=e(75596),i=e(5498),r=e(47868),a=e(17190),o=e(51080),d=e(47126),h=e(49548),p=e(53387),f=e(56509),m=e(84046);class v{constructor(C){this.dataTypeInstanceRepository=C}static fromConfiguration(C,T){var y;let I,P;if(C.fieldType){if(C.distribute)return T.get(new r.r(C.distribute)).getFieldBuilder(t.Z.fromNumber(C.taskFieldId)).withFieldName(C.fieldName).withLabelName(C.fieldLabel).withAggregation(C.distribute).build();P=T.get(new r.r(C.fieldType)).getFieldBuilder(t.Z.fromNumber(C.taskFieldId))}else P=T.get(a.O.ID).getFieldBuilder(t.Z.fromNumber(C.taskFieldId));return I=C.aggregation&&"NONE"!==C.aggregation?P.withFieldName(C.fieldName).withDecorator(C.decoratorType).withLabelName(C.fieldLabel).withEditable(!0).build().aggregated(f.I.of(C.aggregation)):P.withFieldName(C.fieldName).withDecorator(C.decoratorType).withLabelName(C.fieldLabel).withEditable(!0).build(),this.fieldsWithCenterAlignment.includes(null===(y=null==C?void 0:C.fieldType)||void 0===y?void 0:y.toString())&&(I=I.align(i.x.CENTER)),I}fromAvailableField(C){let T;const y=C.name,I=n.r.resolve(C.label,C.origin);return T=C.distribute?this.dataTypeInstanceRepository.get(new r.r(C.distribute)).getCustomFieldBuilder(y):this.dataTypeInstanceRepository.get(new r.r(C.dataType)).getCustomFieldBuilder(y),T.withLabelName(I).build()}fromTaskField(C){let T;const y=C.name,I=t.Z.fromNumber(C.taskFieldId),P=n.r.resolve(C.label,C.origin);return T="NONE"!==C.distribute?this.dataTypeInstanceRepository.get(new r.r(C.distribute)).getFieldBuilder(I):this.dataTypeInstanceRepository.get(new r.r(C.dataType)).getFieldBuilder(I),T.withFieldName(y).withLabelName(P).build()}fromTaskFields(C){return C.map(T=>this.fromTaskField(T))}}v.fieldsWithCenterAlignment=[o.c.ID.toString(),d.f.ID.toString(),h.H.ID.toString(),p.a.ID.toString()],v.\u0275fac=function(C){return new(C||v)(m.LFG(s.v))},v.\u0275prov=m.Yz7({token:v,factory:v.\u0275fac})},69417:(S,g,e)=>{"use strict";e.d(g,{Z:()=>n});var t=e(90344);class n extends t.h{static fromNumber(i){if(!isNaN(i)&&"number"==typeof i)return new n(`${i}`);if("string"==typeof i)throw new Error("fromNumber method needs a number, but string was provided");return null}static fromString(i){if("string"==typeof i)return new n(i);if("number"==typeof i)throw new Error("fromString method needs a string, but number was provided");return null}toNumber(){return parseInt(this.id)}}},82471:(S,g,e)=>{"use strict";e.d(g,{N:()=>s});var t=e(90850),n=e(84046);let s=(()=>{class i extends t.xQ{}return i.\u0275fac=function(){let r;return function(o){return(r||(r=n.n5z(i)))(o||i)}}(),i.\u0275prov=n.Yz7({token:i,factory:i.\u0275fac}),i})()},36846:(S,g,e)=>{"use strict";e.d(g,{R:()=>s});var t=e(90850),n=e(84046);let s=(()=>{class i extends t.xQ{}return i.\u0275fac=function(){let r;return function(o){return(r||(r=n.n5z(i)))(o||i)}}(),i.\u0275prov=n.Yz7({token:i,factory:i.\u0275fac}),i})()},18655:(S,g,e)=>{"use strict";e.d(g,{o:()=>t});class t{}},9474:(S,g,e)=>{"use strict";e.d(g,{w:()=>s});var t=e(83155),n=e(71726);class s extends t.a{constructor(r,a){super(r),this._httpService=r,this._environmentService=a}getAvailableFieldOptions(r,a){return a.includes("@")?this._httpService.get(`${this._environmentService.getRestBaseUrl()}ppm/task/fields/available/old/options`,{taskKey:a,fieldId:r}).pipe((0,n.U)(o=>o.data)):this._httpService.get(`${this._environmentService.getRestBaseUrl()}ppm/task/fields/available/options`,{taskId:a,fieldId:r}).pipe((0,n.U)(o=>o.data))}}},72090:(S,g,e)=>{"use strict";e.d(g,{n:()=>a});var t=e(18840),n=e(90850),s=e(11534),i=e(62628),r=e(84046);let a=(()=>{class o extends i.b{constructor(h){super(),this.domainFieldsRepository=h,this.editAvailable$=new t.X(!1),this.entityIdsToIsParentChanged$=new n.xQ}editableForField(h){return void 0!==this.editableDataTypes.find(p=>p.equals(h))}isDomainFieldEditable(h){const p=this.domainFieldsRepository.getMapper();return!this.notEditableFields.find(f=>p.getId(f).equals(h))}}return o.\u0275fac=function(h){return new(h||o)(r.LFG(s.m))},o.\u0275prov=r.Yz7({token:o,factory:o.\u0275fac}),o})()},56509:(S,g,e)=>{"use strict";e.d(g,{I:()=>s});var t=e(90344);const n="NONE";class s extends t.h{constructor(r){super(r)}static of(r=n){return new s(r)}isHistogram(){return!1}isNone(){return this.id===n}}},31270:(S,g,e)=>{"use strict";e.d(g,{c:()=>s});var t=e(56509);class s extends t.I{constructor(r){super(r)}static of(r="NONE"){return new s(r)}isHistogram(){return!0}}},35672:(S,g,e)=>{"use strict";e.d(g,{d:()=>n});const n=e(56509).I.of("AVG")},3131:(S,g,e)=>{"use strict";e.d(g,{X:()=>n});const n=e(56509).I.of("AVG_NO_PARENT")},35714:(S,g,e)=>{"use strict";e.d(g,{k:()=>n});const n=e(56509).I.of("MAX")},9332:(S,g,e)=>{"use strict";e.d(g,{K:()=>n});const n=e(56509).I.of("MIN")},53770:(S,g,e)=>{"use strict";e.d(g,{H:()=>n});const n=e(56509).I.of("NONE")},49753:(S,g,e)=>{"use strict";e.d(g,{i:()=>n});const n=e(56509).I.of("SUM")},91718:(S,g,e)=>{"use strict";e.d(g,{f:()=>n});const n=e(56509).I.of("SUM_NO_PARENT")},62146:(S,g,e)=>{"use strict";e.d(g,{h:()=>n});const n=e(31270).c.of("SUBTASK_STATUS_CATEGORIES")},14175:(S,g,e)=>{"use strict";e.d(g,{J:()=>n});const n=e(31270).c.of("SUBTASK_STATUS_CATEGORIES_PERCENTAGE")},27181:(S,g,e)=>{"use strict";e.d(g,{Z:()=>n});const n=e(31270).c.of("TASK_STATUS_CATEGORIES_PERCENTAGE")},15493:(S,g,e)=>{"use strict";e.d(g,{g:()=>t});class t{isEditable(){return null!==this.getEditComponent()}getAvailableAggregations(){return[]}getEditComponent(){return null}getDataTypeId(){return this.dataTypeId}getFilters(){return[]}getFilterByName(s){return this.getFilters().find(i=>i.getUniqueName()===s)}}},47868:(S,g,e)=>{"use strict";e.d(g,{r:()=>n});var t=e(90344);class n extends t.h{static of(i){return new n(i)}}},14228:(S,g,e)=>{"use strict";e.d(g,{G:()=>t});class t{isAggregated(){return!1}getSearchValue(){return null}getLength(){throw new Error(`Method getLength is not implemented in ${this.dataTypeId}`)}slice(){return[this]}equals(s){return!!s&&this.hashCode()===s.hashCode()}hashCode(){return JSON.stringify(this)}toAnemia(){return Object.assign({},this.clone(),{dataTypeId:this.dataTypeId.toString()})}}},19589:(S,g,e)=>{"use strict";e.d(g,{R:()=>t});class t{compare(s,i){return s||i?s?i?this.compareNotNullDataValues(s,i):-1:1:0}compareStrings(s,i){return s||i?s?i?(s=s.toLowerCase().trim())>(i=i.toLowerCase().trim())?1:i>s?-1:0:-1:1:0}compareIndexedStrings(s,i){const r=this.compareStrings(s.text,i.text);if(0===r){const a=this.compareNumbers(s.index,i.index);if(0===a){const o=this.compareNumbers(s.indexLength,i.indexLength);return 0===s.indexLength||0===i.indexLength?o:-o}return a}return r}compareNumbers(s,i){return s>i?1:i>s?-1:0}compareStringLists(s,i){return this.compareLists(s,i,(r,a)=>this.compareStrings(r,a))}compareIndexedStringLists(s,i){return this.compareLists(s,i,(r,a)=>this.compareIndexedStrings(r,a))}compareNumberLists(s,i){return this.compareLists(s,i,(r,a)=>this.compareNumbers(r,a))}compareLists(s,i,r){const a=Math.min(s.length,i.length);for(let o=0;o<a;o++){const d=r(s[o],i[o]);if(0!==d)return d}return s.length<i.length?-1:s.length>i.length?1:0}}},32931:(S,g,e)=>{"use strict";e.d(g,{O:()=>r});var t=e(19589),s=e(75596),i=e(84046);class r{constructor(o){this.dataTypeInstanceRepository=o}static getComparator(o){return this.comparators.get(o.toString())||this.defaultComparator}static exist(o){return!!this.comparators.get(o.toString())}initComparators(){!this.dataTypeInstanceRepository||this.dataTypeInstanceRepository.getAll().forEach(o=>{r.comparators.set(o.getDataTypeId().toString(),o.getDefaultComparator())})}}r.comparators=new Map,r.defaultComparator=new class extends t.R{constructor(){super(...arguments),this.compareNotNullDataValues=null,this.name="default"}getName(){return this.name}compare(o,d){return 0}},r.\u0275fac=function(o){return new(o||r)(i.LFG(s.v))},r.\u0275prov=i.Yz7({token:r,factory:r.\u0275fac})},4742:(S,g,e)=>{"use strict";e.d(g,{_:()=>i,p:()=>r});var t=e(69417),n=e(5498),s=e(53770);const i=new t.Z("");class r{constructor(o,d,h,p,f,m=n.x.LEFT){this.labelName=o,this.fieldName=d,this.fieldId=h,this.decoratorType=p,this.editable=f,this.defaultAlignment=m,this.aggregation=s.H,this.alignment=this.defaultAlignment}getValueForEdit(o){}getTextValue(o){return""}getDataValue(o){return null===o?null:this.isCustomField()?o.getDataValue(t.Z.fromString(this.fieldName),this.aggregation):o.getDataValue(this.fieldId,this.aggregation)}getDecoratorType(){return this.decoratorType}getEditable(){return this.editable}getFieldId(){return this.fieldId}getFieldName(){return this.fieldName}getLabelName(){return this.labelName}setEditable(o){this.editable=o}aggregated(o=s.H){return o.isNone()||this.getDataType().getAvailableAggregations().some(h=>h.equals(h))?(this.aggregation=o,this):(console.error(`DataType ${this.getDataType().getDataTypeId().toString()} don't support aggregation ${o.toString()}`),this)}align(o){return this.alignment=o,this}isCustomField(){return this.fieldId===i}isGroupable(){return!0}}},57011:(S,g,e)=>{"use strict";e.d(g,{I:()=>s});var t=e(4742),n=e(53770);class s{constructor(r,a=t._,o){this.fieldDefinition=r,this.fieldId=a,this.dataType=o,this.aggregation=n.H}withFieldName(r){return this.fieldName=r,this}withLabelName(r){return this.labelName=r,this}withDecorator(r){return this.decoratorType=r,this}withEditable(r){return this.editable=r,this}withAggregation(r){return this.aggregation=r,this}build(){const r=new this.fieldDefinition(this.dataType,this.fieldId,this.fieldName,this.decoratorType,this.editable,this.labelName);return this.aggregation.isNone()||r.aggregated(this.aggregation),r}}},56335:(S,g,e)=>{"use strict";e.d(g,{Z:()=>t});class t{constructor(s,i,r){this.text=s,this.index=i,this.indexLength=r}static parse(s){const i=/([0-9]+)$/.exec(s),r=i?parseInt(i[0]):0,a=i?i[0].length:0,o=s.slice(0,s.length-a);return new t(o,r,a)}}},72364:(S,g,e)=>{"use strict";e.d(g,{B:()=>C});var t=e(15493),n=e(99609),s=e(4742),i=e(57011);class r extends s.p{constructor(y,I,P,L=n.J.ATTACHMENTS,F=!1,b="Attachments"){super(b,P,I,L,F),this.dataType=y}static BUILDER(y,I){return new i.I(r,y,I)}getTextValue(y){return y?y.attachments.map(I=>I.name).join("; "):""}isGroupable(){return!1}getDataType(){return this.dataType}}var a=e(19589);class o extends a.R{constructor(){super(...arguments),this.name="attachment names"}getName(){return this.name}compareNotNullDataValues(y,I){const P=y.attachments.map(F=>F.name),L=I.attachments.map(F=>F.name);return this.compareStringLists(P,L)}}var d=e(72650),h=e(14228),p=e(71118),f=e(47868);const m=new f.r("ATTACHMENTS");class v extends h.G{constructor(y){super(),this.attachments=y,this.dataTypeId=m}static of(y){return y&&new v(y.attachments.map(I=>E.of(I)))}clone(){return Object.freeze(v.of(p.l.deepClone(this)))}isEmpty(){var y;return!(null===(y=this.attachments)||void 0===y?void 0:y.length)}}class E{constructor(y,I,P,L){this.id=y,this.name=I,this.mimeType=P,this.url=L}static of(y){return y&&new E(y.id,y.name,y.mimeType,y.url)}}class C extends t.g{constructor(){super(...arguments),this.dataTypeId=C.ID,this.validators=[],this.comparator=new o}getFieldBuilder(y){return r.BUILDER(y,this)}getCustomFieldBuilder(y){return r.BUILDER(s._,this).withFieldName(y)}getAvailableDecorators(){return[n.J.ATTACHMENTS]}getDefaultDecorator(){return n.J.ATTACHMENTS}getDefaultComparator(){return this.comparator}getDisplayComponent(){return d.m}buildDataValue(y){return v.of(y)}}C.ID=new f.r("ATTACHMENTS")},38322:(S,g,e)=>{"use strict";e.d(g,{A:()=>C});var t=e(15493),n=e(99609),s=e(4742),i=e(57011);class r extends s.p{constructor(y,I,P,L=n.J.BOX_TYPE_VALUE_LOZENGE,F=!1,b="Box type value"){super(b,P,I,L,F),this.dataType=y}static BUILDER(y,I){return new i.I(r,y,I)}getTextValue(y){return y?y.name:""}getDataType(){return this.dataType}}var a=e(19589);class o extends a.R{constructor(){super(...arguments),this.name="name"}getName(){return this.name}compareNotNullDataValues(y,I){return this.compareStrings(y.name,I.name)}}var d=e(73168),h=e(17201),p=e(14228),f=e(71118),m=e(47868);const v=new m.r("BOX_TYPE_VALUE");class E extends p.G{constructor(y,I,P){super(),this.boxTypeId=y,this.name=I,this.color=P,this.dataTypeId=v}static of(y){return y&&new E(y.boxTypeId,y.name,h.U.of(y.color))}clone(){return Object.freeze(E.of(f.l.deepClone(this)))}isEmpty(){var y,I;return!(null===(y=this.name)||void 0===y?void 0:y.length)&&(null===(I=this.color)||void 0===I?void 0:I.isEmpty())}}class C extends t.g{constructor(){super(...arguments),this.dataTypeId=C.ID,this.comparator=new o}getFieldBuilder(y){return r.BUILDER(y,this)}getCustomFieldBuilder(y){return r.BUILDER(s._,this).withFieldName(y)}getAvailableDecorators(){return[n.J.BOX_TYPE_VALUE_LOZENGE]}getDefaultDecorator(){return n.J.BOX_TYPE_VALUE_LOZENGE}getDefaultComparator(){return this.comparator}getDisplayComponent(){return d.S}buildDataValue(y){return E.of(y)}}C.ID=new m.r("BOX_TYPE_VALUE")},34353:(S,g,e)=>{"use strict";e.d(g,{y:()=>T});var t=e(17201),n=e(99609),s=e(4742),i=e(57011);class r extends s.p{constructor(I,P,L,F=n.J.BUILTIN_COLOR_ICON_AND_NAME,b=!1,x="Built-in Color"){super(x,L,P,F,b),this.dataType=I}static BUILDER(I,P){return new i.I(r,I,P)}getTextValue(I){return I?this.getFormattedName(I):""}getFormattedName(I){const P=I.value.toLowerCase().replace("_"," ");return P.charAt(0).toUpperCase()+P.slice(1)}getDataType(){return this.dataType}}var a=e(19589);class o extends a.R{constructor(){super(...arguments),this.name="value"}getName(){return this.name}compareNotNullDataValues(I,P){return this.compareStrings(I.value,P.value)}}var d=e(15493),h=e(47868),p=e(13354),f=e(86691),m=e(63532),v=e(93231),E=e(90331),C=e(29659);class T extends d.g{constructor(){super(...arguments),this.dataTypeId=T.ID,this.comparator=new o,this.FILTERS=[new f.o,new p.J]}getFilters(){return this.FILTERS}getFieldBuilder(I){return r.BUILDER(I,this)}getCustomFieldBuilder(I){return r.BUILDER(s._,this).withFieldName(I)}getAvailableDecorators(){return[n.J.BUILTIN_COLOR_ICON_AND_NAME,n.J.BUILTIN_COLOR_ICON,n.J.BUILTIN_COLOR_NAME]}getDefaultDecorator(){return n.J.BUILTIN_COLOR_ICON_AND_NAME}getDefaultComparator(){return this.comparator}getDisplayComponent(I){return I===n.J.BUILTIN_COLOR_ICON?m.A:I===n.J.BUILTIN_COLOR_ICON_AND_NAME?v.o:I===n.J.BUILTIN_COLOR_NAME?E.y:v.o}getEditComponent(){return C.$}buildDataValue(I){return t.U.of(I)}}T.ID=new h.r("BUILTIN_COLOR")},3097:(S,g,e)=>{"use strict";e.d(g,{p:()=>n});const n=new(e(47868).r)("BUILTIN_COLOR")},17201:(S,g,e)=>{"use strict";e.d(g,{U:()=>i});var t=e(3097),n=e(14228),s=e(71118);class i extends n.G{constructor(a){super(),this.value=a,this.dataTypeId=t.p}static of(a){return a&&new i(a.value)}getSearchValue(){return this.value}isEmpty(){return!s.l.isDefined(this.value)}clone(){return Object.freeze(i.of(s.l.deepClone(this)))}}},89869:(S,g,e)=>{"use strict";e.d(g,{A:()=>C});var t=e(15493),n=e(99609),s=e(4742),i=e(57011);class r extends s.p{constructor(y,I,P,L=n.J.BUILTIN_ICON_ICON,F=!1,b="Built-in Icon"){super(b,P,I,L,F),this.dataType=y}static BUILDER(y,I){return new i.I(r,y,I)}getTextValue(y){return y?y.icon:""}getDataType(){return this.dataType}}var a=e(19589);class o extends a.R{constructor(){super(...arguments),this.name="icon and builtin color"}getName(){return this.name}compareNotNullDataValues(y,I){const P=this.compareStrings(y.icon,I.icon);return 0===P?this.compareStrings(y.builtinColor.value,I.builtinColor.value):P}}var d=e(89218),h=e(17201),p=e(14228),f=e(71118),m=e(47868);const v=new m.r("BUILTIN_ICON");class E extends p.G{constructor(y,I){super(),this.icon=y,this.builtinColor=I,this.dataTypeId=v}static of(y){return y&&new E(y.icon,h.U.of(y.builtinColor))}clone(){return Object.freeze(E.of(f.l.deepClone(this)))}isEmpty(){var y,I;return!(null===(y=this.icon)||void 0===y?void 0:y.length)&&(null===(I=this.builtinColor)||void 0===I?void 0:I.isEmpty())}}class C extends t.g{constructor(){super(...arguments),this.dataTypeId=C.ID,this.comparator=new o}getFieldBuilder(y){return r.BUILDER(y,this)}getCustomFieldBuilder(y){return r.BUILDER(s._,this).withFieldName(y)}getAvailableDecorators(){return[n.J.BUILTIN_ICON_ICON]}getDefaultDecorator(){return n.J.BUILTIN_ICON_ICON}getDefaultComparator(){return this.comparator}getDisplayComponent(){return d.o}buildDataValue(y){return E.of(y)}}C.ID=new m.r("BUILTIN_ICON")},99929:(S,g,e)=>{"use strict";e.d(g,{b:()=>F});var t=e(15493),n=e(47868),s=e(19589),i=e(9351);class r extends s.R{constructor(){super(...arguments),this.name="date"}getName(){return this.name}compareNotNullDataValues(x,B){const M=i.p.createUTCDateFromString(x.value),w=i.p.createUTCDateFromString(B.value);return this.compareNumbers(M.getTime(),w.getTime())}}var a=e(33195),o=e(4742),d=e(57011),h=e(99609);class p extends o.p{constructor(x,B,M,w=h.J.DATE,K=!1,k="Date"){super(k,M,B,w,K),this.dataType=x}static BUILDER(x,B){return new d.I(p,x,B)}getTextValue(x){return x&&x.value?i.p.formatUTCDate(i.p.createUTCDateFromString(x.value),"DD/MMM/YY"):""}getDataType(){return this.dataType}getValueForEdit(x){return x.value}}var f=e(93743),m=e(20032),v=e(9332),E=e(35714),C=e(6040),T=e(47005),y=e(7280),I=(()=>{return(b=I||(I={})).YEARS="years",b.QUARTERS="quarters",b.MONTHS="months",b.WEEKS="weeks",b.DAYS="days",b.HOURS="hours",b.MINUTES="minutes",b.SECONDS="seconds",b.MILLISECONDS="milliseconds",I;var b})();class P{constructor(x,B,M,w,K,k,G,$,X){this.years=x,this.quarters=B,this.months=M,this.weeks=w,this.days=K,this.hours=k,this.minutes=G,this.seconds=$,this.milliseconds=X}static MAP_CONSTRUCTOR(x){return this.buildDateTimeUnitFromMap(x)}getDurationObjectUnits(){return{years:this.years,quarters:this.quarters,months:this.months,weeks:this.weeks,days:this.days,hours:this.hours,minutes:this.minutes,seconds:this.seconds,milliseconds:this.milliseconds}}static buildDateTimeUnitFromMap(x){let B,M,w,K,k,G,$,X,ie;return x.forEach((se,pe)=>{switch(pe){case I.YEARS:B=se;break;case I.QUARTERS:M=se;break;case I.MONTHS:w=se;break;case I.WEEKS:K=se;break;case I.DAYS:k=se;break;case I.HOURS:G=se;break;case I.MINUTES:$=se;break;case I.SECONDS:X=se;break;case I.MILLISECONDS:ie=se;break;default:throw new Error("Unhandled case!")}}),new P(B,M,w,K,k,G,$,X,ie)}}class L extends y.w{isEntityInFilter(x,B,M){return this.isDataValueInFilter(x.getDataValue(B.getFieldId()),M)}isDataValueInFilter(x,B){const M=i.p.createUTCDateFromString(x.value);return this.isMatchingConditionForDateOption(M,B)}getComponent(){return C._}getDisplayName(){return"Date"}getUniqueName(){return"date"}fromRaw(x){return x?new T.$(x):this.createEmpty()}getFilterType(){return y.V.APPLICABLE}createEmpty(){return new T.$}isMatchingConditionForDateOption(x,B){switch(B.dateFilterOptionsEnum){case C.p.BEFORE:{const M=i.p.createUTCDateFromString(B.before);return i.p.isBefore(x,M)}case C.p.AFTER:{const M=i.p.createUTCDateFromString(B.after);return i.p.isAfter(x,M)}case C.p.BETWEEN:{const M=i.p.createUTCDateFromString(B.between.start),w=i.p.createUTCDateFromString(B.between.end);return i.p.isBetween(x,M,w)}case C.p.WITHIN_THE_LAST:{const M=i.p.getUTCTodayDate(),w=new Map;w.set(B.withinTheLast.timeUnit,parseInt(B.withinTheLast.number));const K=i.p.addFromToday(P.MAP_CONSTRUCTOR(w));return i.p.isBetween(x,M,K)}case C.p.MORE_THAN:{const M=i.p.getUTCTodayDate(),w=new Map;w.set(B.moreThan.timeUnit,parseInt(B.moreThan.number));const K=i.p.subtractFromToday(P.MAP_CONSTRUCTOR(w));return i.p.isBetween(x,K,M)}default:throw new Error("Unhandled case!")}}}class F extends t.g{constructor(){super(...arguments),this.dataTypeId=F.ID,this.comparator=new r,this.FILTERS=[new L]}getFieldBuilder(x){return p.BUILDER(x,this)}getCustomFieldBuilder(x){return p.BUILDER(o._,this).withFieldName(x)}getAvailableAggregations(){return[v.K,E.k]}getAvailableDecorators(){return[h.J.DATE]}getDefaultDecorator(){return h.J.DATE}getDefaultComparator(){return this.comparator}getDisplayComponent(){return f.I}getEditComponent(){return m.V}getFilters(){return this.FILTERS}buildDataValue(x){return a.Q.of(x)}}F.ID=new n.r("DATE")},79184:(S,g,e)=>{"use strict";e.d(g,{N:()=>n});const n=new(e(47868).r)("DATE")},33195:(S,g,e)=>{"use strict";e.d(g,{Q:()=>i});var t=e(14228),n=e(71118),s=e(79184);class i extends t.G{constructor(a){super(),this.value=a,this.dataTypeId=s.N}static of(a){return a&&new i(a.value)}copy(){return new i(this.value)}clone(){return Object.freeze(i.of(n.l.deepClone(this)))}isEmpty(){var a;return!this.value||!(null===(a=this.value)||void 0===a?void 0:a.length)}}},6040:(S,g,e)=>{"use strict";e.d(g,{p:()=>C,_:()=>T});var t=e(70335),n=e(90850),s=e(35811),i=e(70822),r=e(47005),a=e(1352),o=e(83941),d=e(14650),h=e(83372),p=e(84046),f=e(76617),m=e(29634),v=e(97265),E=e(65799),C=(()=>{return(y=C||(C={})).BEFORE="before",y.AFTER="after",y.BETWEEN="between",y.WITHIN_THE_LAST="within_the_last",y.MORE_THAN="more_than",C;var y})();let T=(()=>{class y extends a.f{constructor(){super(...arguments),this.timeUnitsOptions=[new d.W("days",o.H.string("days")),new d.W("weeks",o.H.string("weeks"))],this.selectConfiguration=(new h.w).withPrefixForId("sp-date-filter"),this.dateFilterOptionsEnum=C,this.dateOptionFormGroup=this.formBuilder.group({dateOption:["",t.kI.required]}),this.beforeOptionFormControl=new t.NI,this.afterOptionFormControl=new t.NI,this.betweenOptionFormGroup=this.formBuilder.group({start:[null],end:[null]}),this.withinTheLastOptionFormGroup=this.formBuilder.group({number:[""],timeUnit:["days"]}),this.moreThanOptionFormGroup=this.formBuilder.group({number:[""],timeUnit:["days"]}),this.destroyPrevOption$=new n.xQ}ngOnInit(){this.observeSearchControlValueChanges(),this.observeDestroyOfDateOption(),this.afterOptionFormControl.disable(),this.beforeOptionFormControl.disable(),this.betweenOptionFormGroup.disable(),this.withinTheLastOptionFormGroup.disable(),this.moreThanOptionFormGroup.disable()}setDataTypeFilterConfig(P=new r.$){this.dataTypeFilterConfig=P,this.setDataTypeFilterOption()}getHostClasses(){return["sp-date-filter"]}setDataTypeFilterOption(){this.dateOptionFormGroup.setValue({dataOption:this.dataTypeFilterConfig.dateFilterOptionsEnum})}observeSearchControlValueChanges(){this.dateOptionFormGroup.valueChanges.pipe(this.takeUntilDestroy()).subscribe(P=>{this.destroyPrevOption$.next(this.prevOption),this.getConcreteFormControl(P.dateOption).enable(),this.prevOption=P.dateOption,this.connectWithConcreteFormControl(P.dateOption).pipe((0,s.R)(this.destroyPrevOption$),this.takeUntilDestroy()).subscribe(L=>{this.dataTypeFilterConfig=new r.$(this.getConcreteFormControlValue(P.dateOption,L)),this.emitConfig()})})}connectWithConcreteFormControl(P){return this.getConcreteFormControl(P).valueChanges}getConcreteFormControl(P){switch(P){case C.AFTER:return this.afterOptionFormControl;case C.BEFORE:return this.beforeOptionFormControl;case C.BETWEEN:return this.betweenOptionFormGroup;case C.WITHIN_THE_LAST:return this.withinTheLastOptionFormGroup;case C.MORE_THAN:return this.moreThanOptionFormGroup;default:throw new Error("Unhandled option!")}}getConcreteFormControlValue(P,L){switch(P){case C.AFTER:return{dateFilterOptionsEnum:P,after:L};case C.BEFORE:return{dateFilterOptionsEnum:P,before:L};case C.BETWEEN:return{dateFilterOptionsEnum:P,between:L};case C.WITHIN_THE_LAST:return{dateFilterOptionsEnum:P,withinTheLast:L};case C.MORE_THAN:return{dateFilterOptionsEnum:P,moreThan:L};default:throw new Error("Unhandled option!")}}observeDestroyOfDateOption(){this.destroyPrevOption$.pipe((0,i.h)(P=>!!P),this.takeUntilDestroy()).subscribe(P=>{this.getConcreteFormControl(P).disable()})}}return y.\u0275fac=function(){let I;return function(L){return(I||(I=p.n5z(y)))(L||y)}}(),y.\u0275cmp=p.Xpm({type:y,selectors:[["sp-date-filter"]],features:[p.qOj],decls:50,vars:39,consts:[[1,"sp-bg-background","sp-w-auto","sp-p-3","sp-shadow",3,"formGroup"],[1,"sp-flex","sp-text-gray-200","sp-text-s"],[1,"sp-flex","sp-items-center","sp-mb-2"],[1,"sp-flex","sp-items-center","sp-date-filter__radio-with-text"],["formControlName","dateOption",3,"value"],[1,"sp-mr-2"],[1,"!sp-w-36",3,"formControl"],[3,"formGroup"],["formControlName","start",1,"sp-w-36"],[1,"sp-mx-2"],["formControlName","end",1,"sp-w-36"],[1,"sp-flex","sp-items-center","sp-date-filter__radio-with-text-wide"],["type","number",1,"sp-form-control","!sp-w-36","sp-mr-2"],["formControlName","timeUnit",1,"!sp-w-28",3,"options","configuration"],["formControlName","number","type","number",1,"sp-form-control","!sp-w-36","sp-mr-2"],["formControlName","timeUnit",1,"!sp-w-28","sp-mr-2",3,"options","configuration"]],template:function(P,L){1&P&&(p.TgZ(0,"div",0),p.TgZ(1,"p",1),p._uU(2),p.ALo(3,"spL10nText"),p.qZA(),p.TgZ(4,"div",2),p.TgZ(5,"div",3),p._UZ(6,"sp-form-control-radio",4),p.TgZ(7,"span",5),p._uU(8),p.ALo(9,"spL10nText"),p.qZA(),p.qZA(),p._UZ(10,"sp-datepicker-one",6),p.qZA(),p.TgZ(11,"div",2),p.TgZ(12,"div",3),p._UZ(13,"sp-form-control-radio",4),p.TgZ(14,"span",5),p._uU(15),p.ALo(16,"spL10nText"),p.qZA(),p.qZA(),p._UZ(17,"sp-datepicker-one",6),p.qZA(),p.TgZ(18,"div",2),p.TgZ(19,"div",3),p._UZ(20,"sp-form-control-radio",4),p.TgZ(21,"span",5),p._uU(22),p.ALo(23,"spL10nText"),p.qZA(),p.qZA(),p.ynx(24,7),p._UZ(25,"sp-datepicker-one",8),p.TgZ(26,"span",9),p._uU(27),p.ALo(28,"spL10nText"),p.qZA(),p._UZ(29,"sp-datepicker-one",10),p.BQk(),p.qZA(),p.TgZ(30,"div",2),p.TgZ(31,"div",11),p._UZ(32,"sp-form-control-radio",4),p.TgZ(33,"span",5),p._uU(34),p.ALo(35,"spL10nText"),p.qZA(),p.qZA(),p.ynx(36,7),p._UZ(37,"input",12),p._UZ(38,"sp-select",13),p.BQk(),p.qZA(),p.TgZ(39,"div",2),p.TgZ(40,"div",11),p._UZ(41,"sp-form-control-radio",4),p.TgZ(42,"span",5),p._uU(43),p.ALo(44,"spL10nText"),p.qZA(),p.qZA(),p.ynx(45,7),p._UZ(46,"input",14),p._UZ(47,"sp-select",15),p.BQk(),p._uU(48),p.ALo(49,"spL10nText"),p.qZA(),p.qZA()),2&P&&(p.Q6J("formGroup",L.dateOptionFormGroup),p.xp6(2),p.Oqu(p.lcZ(3,23,"SPT_FILTER_PANEL_HEADER_LABEL")),p.xp6(4),p.Q6J("value",L.dateFilterOptionsEnum.BEFORE),p.xp6(2),p.hij(" ",p.lcZ(9,25,"SPT_FILTER_PANEL_BEFORE_LABEL")," "),p.xp6(2),p.Q6J("formControl",L.beforeOptionFormControl),p.xp6(3),p.Q6J("value",L.dateFilterOptionsEnum.AFTER),p.xp6(2),p.hij(" ",p.lcZ(16,27,"SPT_FILTER_PANEL_AFTER_LABEL")," "),p.xp6(2),p.Q6J("formControl",L.afterOptionFormControl),p.xp6(3),p.Q6J("value",L.dateFilterOptionsEnum.BETWEEN),p.xp6(2),p.Oqu(p.lcZ(23,29,"SPT_FILTER_PANEL_BETWEEN_LABEL")),p.xp6(2),p.Q6J("formGroup",L.betweenOptionFormGroup),p.xp6(3),p.Oqu(p.lcZ(28,31,"SPT_FILTER_PANEL_AND_LABEL")),p.xp6(5),p.Q6J("value",L.dateFilterOptionsEnum.WITHIN_THE_LAST),p.xp6(2),p.Oqu(p.lcZ(35,33,"SPT_FILTER_PANEL_WITHIN_THE_LAST_LABEL")),p.xp6(2),p.Q6J("formGroup",L.withinTheLastOptionFormGroup),p.xp6(2),p.Q6J("options",L.timeUnitsOptions)("configuration",L.selectConfiguration),p.xp6(3),p.Q6J("value",L.dateFilterOptionsEnum.MORE_THAN),p.xp6(2),p.Oqu(p.lcZ(44,35,"SPT_FILTER_PANEL_MORE_THAN_LABEL")),p.xp6(2),p.Q6J("formGroup",L.moreThanOptionFormGroup),p.xp6(2),p.Q6J("options",L.timeUnitsOptions)("configuration",L.selectConfiguration),p.xp6(1),p.hij(" ",p.lcZ(49,37,"SPT_FILTER_PANEL_AGO_LABEL")," "))},directives:[t.JL,t.sg,f.x,t.JJ,t.u,m.L,t.oH,v.Hr,t.Fj,t.wV],pipes:[E.L],styles:[".sp-date-filter__control{width:125px}.sp-date-filter__radio-with-text{flex:0 0 100px}.sp-date-filter__radio-with-text-wide{flex:0 0 auto}\n"],encapsulation:2,changeDetection:0}),y})()},47005:(S,g,e)=>{"use strict";e.d(g,{$:()=>n});var t=e(44980);class n extends t.Z{constructor(i){super(),this.uniqueName="date",this.dateFilterOptionsEnum=null,this.before="",this.after="",this.between={start:"",end:""},this.withinTheLast={number:"",timeUnit:""},this.moreThan={number:"",timeUnit:""},this.dateFilterOptionsEnum=i.dateFilterOptionsEnum?i.dateFilterOptionsEnum:this.dateFilterOptionsEnum,this.before=i.before?i.before:this.before,this.after=i.after?i.after:this.after,this.between=i.between?i.between:this.between,this.withinTheLast=i.withinTheLast?i.withinTheLast:this.withinTheLast,this.moreThan=i.moreThan?i.moreThan:this.moreThan}isEmpty(){var i;return!(null===(i=this.dateFilterOptionsEnum)||void 0===i?void 0:i.length)}getText(){return"date"}createEmpty(){return new n}}},58982:(S,g,e)=>{"use strict";e.d(g,{G:()=>E});var t=e(15493),n=e(99609),s=e(4742),i=e(57011);class r extends s.p{constructor(T,y,I,P=n.J.DATE,L=!1,F="Date time"){super(F,I,y,P,L),this.dataType=T}static BUILDER(T,y){return new i.I(r,T,y)}getTextValue(T){return T?T.epochMilli.toString():""}getDataType(){return this.dataType}}var a=e(19589);class o extends a.R{constructor(){super(...arguments),this.name="original"}getName(){return this.name}compareNotNullDataValues(T,y){return this.compareNumbers(T.epochMilli,y.epochMilli)}}var d=e(7194),h=e(65989),p=e(72803),f=e(47868),m=e(9332),v=e(35714);class E extends t.g{constructor(){super(...arguments),this.dataTypeId=E.ID,this.comparator=new o}getFieldBuilder(T){return r.BUILDER(T,this)}getCustomFieldBuilder(T){return r.BUILDER(s._,this).withFieldName(T)}getAvailableAggregations(){return[m.K,v.k]}getAvailableDecorators(){return[n.J.DATE,n.J.DATE_TIME]}getDefaultDecorator(){return n.J.DATE}getDefaultComparator(){return this.comparator}getDisplayComponent(T){return T===n.J.DATE_TIME?d.i:h.F}buildDataValue(T){return p.e.of(T)}}E.ID=new f.r("DATE_TIME")},72803:(S,g,e)=>{"use strict";e.d(g,{e:()=>r});var t=e(14228),n=e(71118);const i=new(e(47868).r)("DATE_TIME");class r extends t.G{constructor(o){super(),this.epochMilli=o,this.dataTypeId=i}static of(o){return o&&new r(o.epochMilli)}clone(){return Object.freeze(r.of(n.l.deepClone(this)))}isEmpty(){return!this.epochMilli}}},50687:(S,g,e)=>{"use strict";e.d(g,{Z:()=>E});var t=e(15493),n=e(99609),s=e(4742),i=e(57011);class r extends s.p{constructor(T,y,I,P=n.J.DATE,L=!1,F="Due date"){super(F,I,y,P,L),this.dataType=T,this.fieldId=y}static BUILDER(T,y){return new i.I(r,T,y)}getTextValue(T){return T?T.dateValue:""}getDataType(){return this.dataType}}var a=e(19589);class o extends a.R{constructor(){super(...arguments),this.name="original"}getName(){return this.name}compareNotNullDataValues(T,y){return this.compareNumbers(T.original,y.original)}}var d=e(21167),h=e(14228),p=e(71118),f=e(47868);const m=new f.r("DUE_DATE");class v extends h.G{constructor(T,y,I){super(),this.original=T,this.value=y,this.dateValue=I,this.dataTypeId=m}static of(T){return T&&new v(T.original,T.value,T.dateValue)}clone(){return Object.freeze(v.of(p.l.deepClone(this)))}isEmpty(){var T,y;return!p.l.isDefined(this.original)&&!(null===(T=this.value)||void 0===T?void 0:T.length)&&!(null===(y=this.dateValue)||void 0===y?void 0:y.length)}}class E extends t.g{constructor(){super(...arguments),this.dataTypeId=E.ID,this.comparator=new o}getFieldBuilder(T){return r.BUILDER(T,this)}getCustomFieldBuilder(T){return r.BUILDER(s._,this).withFieldName(T)}getAvailableDecorators(){return[n.J.DATE]}getDefaultDecorator(){return n.J.DATE}getDefaultComparator(){return this.comparator}getDisplayComponent(){return d.D}buildDataValue(T){return v.of(T)}}E.ID=new f.r("DUE_DATE")},11095:(S,g,e)=>{"use strict";e.d(g,{q:()=>C});var t=e(15493),n=e(99609),s=e(4742),i=e(57011);class r extends s.p{constructor(y,I,P,L=n.J.ENTITY_KEY_LINK,F=!1,b="Entity key"){super(b,P,I,L,F),this.dataType=y}static BUILDER(y,I){return new i.I(r,y,I)}getTextValue(y){return y?y.key:""}getDataType(){return this.dataType}}var a=e(19589),o=e(56335);class d extends a.R{constructor(){super(...arguments),this.name="key"}getName(){return this.name}compareNotNullDataValues(y,I){return this.compareIndexedStrings(o.Z.parse(y.key),o.Z.parse(I.key))}}var h=e(86874),p=e(14228),f=e(71118),m=e(47868);const v=new m.r("ENTITY_KEY");class E extends p.G{constructor(y){super(),this.key=y,this.dataTypeId=v}static of(y){return y&&new E(y.key)}clone(){return Object.freeze(E.of(f.l.deepClone(this)))}isEmpty(){var y;return!(null===(y=this.key)||void 0===y?void 0:y.length)}}class C extends t.g{constructor(){super(...arguments),this.dataTypeId=C.ID,this.comparator=new d}getFieldBuilder(y){return r.BUILDER(y,this)}getCustomFieldBuilder(y){return r.BUILDER(s._,this).withFieldName(y)}getAvailableDecorators(){return[n.J.ENTITY_KEY_LINK]}getDefaultDecorator(){return n.J.ENTITY_KEY_LINK}getDefaultComparator(){return this.comparator}getDisplayComponent(){return h.h}buildDataValue(y){return E.of(y)}}C.ID=new m.r("ENTITY_KEY")},51179:(S,g,e)=>{"use strict";e.d(g,{v:()=>C});var t=e(15493),n=e(99609),s=e(4742),i=e(57011);class r extends s.p{constructor(y,I,P,L=n.J.LOZENGE_LINK,F=!1,b="Name"){super(b,P,I,L,F),this.dataType=y}static BUILDER(y,I){return new i.I(r,y,I)}getTextValue(y){return y?y.name:""}getDataType(){return this.dataType}}var a=e(19589);class o extends a.R{constructor(){super(...arguments),this.name="name"}getName(){return this.name}compareNotNullDataValues(y,I){return this.compareStrings(y.name,I.name)}}var d=e(92490),h=e(14228),p=e(26651),f=e(71118),m=e(47868);const v=new m.r("EPIC");class E extends h.G{constructor(y,I,P,L,F,b){super(),this.link=y,this.color=I,this.name=P,this.status=L,this.url=F,this.hexColor=b,this.dataTypeId=v}static of(y){return y&&new E(y.link,y.color,y.name,y.status,y.url,p.a.of(y.hexColor))}clone(){return Object.freeze(E.of(f.l.deepClone(this)))}isEmpty(){var y,I,P,L,F;return!(null===(y=this.link)||void 0===y?void 0:y.length)&&!(null===(I=this.color)||void 0===I?void 0:I.length)&&!(null===(P=this.name)||void 0===P?void 0:P.length)&&(null===(L=this.status)||void 0===L?void 0:L.length)&&!(null===(F=this.url)||void 0===F?void 0:F.length)&&this.hexColor.isEmpty()}}class C extends t.g{constructor(){super(...arguments),this.dataTypeId=C.ID,this.comparator=new o}getFieldBuilder(y){return r.BUILDER(y,this)}getCustomFieldBuilder(y){return r.BUILDER(s._,this).withFieldName(y)}getAvailableDecorators(){return[n.J.LOZENGE_LINK]}getDefaultDecorator(){return n.J.LOZENGE_LINK}getDefaultComparator(){return this.comparator}getDisplayComponent(){return d.H}buildDataValue(y){return E.of(y)}}C.ID=new m.r("EPIC")},78212:(S,g,e)=>{"use strict";e.d(g,{c:()=>F});var t=e(15493),n=e(99609),s=e(4742),i=e(57011);class r extends s.p{constructor(x,B,M,w=n.J.ESTIMATE_FORMATTED_PRETTY_TEXT,K=!1,k="Estimation"){super(k,M,B,w,K),this.dataType=x}static BUILDER(x,B){return new i.I(r,x,B)}getTextValue(x){return x?x.estimateFormattedPretty:""}getDataType(){return this.dataType}}var a=e(19589);class o extends a.R{constructor(){super(...arguments),this.name="decimal hours"}getName(){return this.name}compareNotNullDataValues(x,B){return this.compareNumbers(parseFloat(x.estimateFormattedDecimalHours),parseFloat(B.estimateFormattedDecimalHours))}}var d=e(41299),h=e(6536),p=e(39433),f=e(10190),m=e(450),v=e(40575),E=e(47868),C=e(9332),T=e(35714),y=e(49753),I=e(91718),P=e(35672),L=e(3131);class F extends t.g{constructor(){super(...arguments),this.dataTypeId=F.ID,this.comparator=new o}getFieldBuilder(x){return r.BUILDER(x,this)}getCustomFieldBuilder(x){return r.BUILDER(s._,this).withFieldName(x)}getAvailableAggregations(){return[C.K,T.k,y.i,I.f,P.d,L.X]}getAvailableDecorators(){return[n.J.ESTIMATE_FORMATTED_PRETTY_TEXT,n.J.ESTIMATE_NUMBER_OF_DAYS,n.J.ESTIMATE_FORMATTED_HOURS_TEXT,n.J.ESTIMATE_FORMATTED_DECIMAL_PRETTY_TEXT]}getDefaultDecorator(){return n.J.ESTIMATE_FORMATTED_PRETTY_TEXT}getDefaultComparator(){return this.comparator}getDisplayComponent(x){return x===n.J.ESTIMATE_FORMATTED_PRETTY_TEXT?d.e:x===n.J.ESTIMATE_NUMBER_OF_DAYS?h.g:x===n.J.ESTIMATE_FORMATTED_HOURS_TEXT?p.q:x===n.J.ESTIMATE_FORMATTED_DECIMAL_PRETTY_TEXT?f.f:d.e}getEditComponent(){return m.J}buildDataValue(x){return v.L.of(x)}}F.ID=new E.r("ESTIMATION")},81557:(S,g,e)=>{"use strict";e.d(g,{o:()=>n});const n=new(e(47868).r)("ESTIMATION")},40575:(S,g,e)=>{"use strict";e.d(g,{L:()=>i});var t=e(14228),n=e(71118),s=e(81557);class i extends t.G{constructor(a,o,d,h,p){super(),this.estimateFormattedPretty=a,this.estimateFormattedHours=o,this.estimateFormattedDecimalHours=d,this.numberOfDays=h,this.estimate=p,this.dataTypeId=s.o}static of(a){return a&&new i(a.estimateFormattedPretty,a.estimateFormattedHours,a.estimateFormattedDecimalHours,a.numberOfDays,a.estimate)}copy(){return new i(this.estimateFormattedPretty,this.estimateFormattedHours,this.estimateFormattedDecimalHours,this.numberOfDays,this.estimate)}clone(){return Object.freeze(i.of(n.l.deepClone(this)))}isEmpty(){var a,o,d;return!((null===(a=this.estimateFormattedPretty)||void 0===a?void 0:a.length)||(null===(o=this.estimateFormattedHours)||void 0===o?void 0:o.length)||(null===(d=this.estimateFormattedDecimalHours)||void 0===d?void 0:d.length)||n.l.isDefined(this.numberOfDays)||n.l.isDefined(this.numberOfDays))}}},13849:(S,g,e)=>{"use strict";e.d(g,{k:()=>m});var t=e(15493),n=e(99609),s=e(4742),i=e(57011);class r extends s.p{constructor(E,C,T,y=n.J.HEX_COLOR,I=!1,P="Hex Color"){super(P,T,C,y,I),this.dataType=E}static BUILDER(E,C){return new i.I(r,E,C)}getTextValue(E){return E?`${E.backgroundColor}, ${E.textColor}`:""}getDataType(){return this.dataType}}var a=e(19589),o=e(71118);class d extends a.R{constructor(){super(...arguments),this.name="background and text color"}getName(){return this.name}compareNotNullDataValues(E,C){const T=o.l.hex2rgb(E.backgroundColor),y=o.l.hex2rgb(C.backgroundColor),I=this.compareNumberLists(T,y);if(0===I){const P=o.l.hex2rgb(E.textColor),L=o.l.hex2rgb(C.textColor);return this.compareNumberLists(P,L)}return I}}var h=e(83087),p=e(26651),f=e(47868);class m extends t.g{constructor(){super(...arguments),this.dataTypeId=m.ID,this.comparator=new d}getFieldBuilder(E){return r.BUILDER(E,this)}getCustomFieldBuilder(E){return r.BUILDER(s._,this).withFieldName(E)}getAvailableDecorators(){return[n.J.HEX_COLOR]}getDefaultDecorator(){return n.J.HEX_COLOR}getDefaultComparator(){return this.comparator}getDisplayComponent(){return h.U}buildDataValue(E){return p.a.of(E)}}m.ID=new f.r("HEX_COLOR")},26651:(S,g,e)=>{"use strict";e.d(g,{a:()=>r});var t=e(14228),n=e(71118);const i=new(e(47868).r)("HEX_COLOR");class r extends t.G{constructor(o,d){super(),this.backgroundColor=o,this.textColor=d,this.dataTypeId=i}static of(o){return o&&new r(o.backgroundColor,o.textColor)}clone(){return Object.freeze(r.of(n.l.deepClone(this)))}isEmpty(){var o,d;return!(null===(o=this.backgroundColor)||void 0===o?void 0:o.length)&&!(null===(d=this.textColor)||void 0===d?void 0:d.length)}}},51080:(S,g,e)=>{"use strict";e.d(g,{c:()=>f});var t=e(15493),n=e(99609),s=e(4742),i=e(57011);class r extends s.p{constructor(v,E,C,T=n.J.ICON,y=!1,I="Icon"){super(I,C,E,T,y),this.dataType=v}static BUILDER(v,E){return new i.I(r,v,E)}getTextValue(v){return v?v.description:""}getDataType(){return this.dataType}}var a=e(19589);class o extends a.R{constructor(){super(...arguments),this.name="description"}getName(){return this.name}compareNotNullDataValues(v,E){return this.compareStrings(v.description,E.description)}}var d=e(23406),h=e(21070),p=e(47868);class f extends t.g{constructor(){super(...arguments),this.dataTypeId=f.ID,this.comparator=new o}getFieldBuilder(v){return r.BUILDER(v,this)}getCustomFieldBuilder(v){return r.BUILDER(s._,this).withFieldName(v)}getAvailableDecorators(){return[n.J.ICON]}getDefaultDecorator(){return n.J.ICON}getDefaultComparator(){return this.comparator}getDisplayComponent(){return d.O}buildDataValue(v){return h.e.of(v)}}f.ID=new p.r("ICON")},21070:(S,g,e)=>{"use strict";e.d(g,{e:()=>r});var t=e(14228),n=e(71118);const i=new(e(47868).r)("ICON");class r extends t.G{constructor(o,d){super(),this.iconUrl=o,this.description=d,this.dataTypeId=i}static of(o){return o&&new r(o.iconUrl,o.description)}clone(){return Object.freeze(r.of(n.l.deepClone(this)))}isEmpty(){var o,d;return!(null===(o=this.iconUrl)||void 0===o?void 0:o.length)&&!(null===(d=this.description)||void 0===d?void 0:d.length)}}},47126:(S,g,e)=>{"use strict";e.d(g,{f:()=>T});var t=e(15493),n=e(99609),s=e(4742),i=e(57011);class r extends s.p{constructor(I,P,L,F=n.J.ICON_AND_NAME,b=!1,x="Issue type"){super(x,L,P,F,b),this.dataType=I}static BUILDER(I,P){return new i.I(r,I,P)}getTextValue(I){return I?I.name:""}getDataType(){return this.dataType}}var a=e(19589);class o extends a.R{constructor(){super(...arguments),this.name="name"}getName(){return this.name}compareNotNullDataValues(I,P){return this.compareStrings(I.name,P.name)}}var d=e(59486),h=e(68502),p=e(48315),f=e(14228),m=e(71118),v=e(47868);const E=new v.r("ISSUE_TYPE");class C extends f.G{constructor(I,P,L,F,b,x){super(),this.id=I,this.name=P,this.description=L,this.iconUrl=F,this.sequence=b,this.subTask=x,this.dataTypeId=E}static of(I){return I&&new C(I.id,I.name,I.description,I.iconUrl,I.sequence,I.subTask)}clone(){return Object.freeze(C.of(m.l.deepClone(this)))}isEmpty(){var I,P,L,F;return!((null===(I=this.id)||void 0===I?void 0:I.length)||(null===(P=this.name)||void 0===P?void 0:P.length)||(null===(L=this.description)||void 0===L?void 0:L.length)||(null===(F=this.iconUrl)||void 0===F?void 0:F.length)||m.l.isDefined(this.sequence)||m.l.isDefined(this.subTask))}}class T extends t.g{constructor(){super(...arguments),this.dataTypeId=T.ID,this.comparator=new o}getFieldBuilder(I){return r.BUILDER(I,this)}getCustomFieldBuilder(I){return r.BUILDER(s._,this).withFieldName(I)}getAvailableDecorators(){return[n.J.ICON_AND_NAME,n.J.ICON,n.J.TEXT]}getDefaultDecorator(){return n.J.ICON_AND_NAME}getDefaultComparator(){return this.comparator}getDisplayComponent(I){return I===n.J.ICON?d.S:I===n.J.ICON_AND_NAME?h.R:I===n.J.TEXT?p.d:h.R}buildDataValue(I){return C.of(I)}}T.ID=new v.r("ISSUE_TYPE")},99490:(S,g,e)=>{"use strict";e.d(g,{R:()=>m});var t=e(15493),n=e(99609),s=e(4742),i=e(57011);class r extends s.p{constructor(E,C,T,y=n.J.TASK_KEY,I=!1,P="Key"){super(P,T,C,y,I),this.dataType=E}static BUILDER(E,C){return new i.I(r,E,C)}getTextValue(E){return E?E.value:""}isGroupable(){return!1}getDataType(){return this.dataType}}var a=e(56335),o=e(19589);class d extends o.R{constructor(){super(...arguments),this.name="value"}getName(){return this.name}compareNotNullDataValues(E,C){return this.compareIndexedStrings(a.Z.parse(E.value),a.Z.parse(C.value))}}var h=e(30702),p=e(3345),f=e(47868);class m extends t.g{constructor(){super(...arguments),this.dataTypeId=m.ID,this.comparator=new d}getFieldBuilder(E){return r.BUILDER(E,this)}getCustomFieldBuilder(E){return r.BUILDER(s._,this).withFieldName(E)}getAvailableDecorators(){return[n.J.TASK_KEY]}getDefaultDecorator(){return n.J.TASK_KEY}getDefaultComparator(){return this.comparator}getDisplayComponent(){return h.t}buildDataValue(E){return p.l.of(E)}}m.ID=new f.r("KEY")},25766:(S,g,e)=>{"use strict";e.d(g,{N:()=>n});const n=new(e(47868).r)("KEY")},3345:(S,g,e)=>{"use strict";e.d(g,{l:()=>i});var t=e(14228),n=e(71118),s=e(25766);class i extends t.G{constructor(a,o){super(),this.value=a,this.url=o,this.dataTypeId=s.N}static of(a){return a&&new i(a.value,a.url)}clone(){return Object.freeze(i.of(n.l.deepClone(this)))}isEmpty(){var a,o;return!(null===(a=this.value)||void 0===a?void 0:a.length)&&!(null===(o=this.url)||void 0===o?void 0:o.length)}}},13248:(S,g,e)=>{"use strict";e.d(g,{f:()=>v});var t=e(15493),n=e(13354),s=e(86691),i=e(99609),r=e(4742),a=e(57011);class o extends r.p{constructor(C,T,y,I=i.J.LOZENGE_LINK,P=!1,L="Label names"){super(L,y,T,I,P),this.dataType=C}static BUILDER(C,T){return new a.I(o,C,T)}getTextValue(C){return C?C.labels.map(T=>T.name).join("; "):""}getDataType(){return this.dataType}}var d=e(19589);class h extends d.R{constructor(){super(...arguments),this.name="label names"}getName(){return this.name}compareNotNullDataValues(C,T){const y=C.labels.map(P=>P.name),I=T.labels.map(P=>P.name);return this.compareStringLists(y,I)}}var p=e(81281),f=e(99786),m=e(47868);class v extends t.g{constructor(){super(...arguments),this.dataTypeId=v.ID,this.comparator=new h}getFieldBuilder(C){return o.BUILDER(C,this)}getCustomFieldBuilder(C){return o.BUILDER(r._,this).withFieldName(C)}getAvailableDecorators(){return[i.J.LOZENGE_LINK]}getDefaultDecorator(){return i.J.LOZENGE_LINK}getDefaultComparator(){return this.comparator}getDisplayComponent(){return p.g}getFilters(){return[new s.o,new n.J]}buildDataValue(C){return f.X.of(C)}}v.ID=new m.r("LABELS")},99786:(S,g,e)=>{"use strict";e.d(g,{_:()=>o,X:()=>a});var t=e(14228),n=e(26651);const i=new(e(47868).r)("LABELS");var r=e(71118);class a extends t.G{constructor(h){super(),this.labels=h,this.dataTypeId=i}static of(h){return h&&new a(h.labels.map(p=>o.of(p)))}clone(){return Object.freeze(a.of(r.l.deepClone(this)))}slice(){return 0===this.labels.length?[this]:this.labels.map(h=>new a([h]))}isEmpty(){return!r.l.isDefined(this.labels)||!this.labels.length}getLength(){return r.l.isDefined(this.labels)&&this.labels.length}getSearchValue(){return this.labels.map(h=>h.name)}}class o{constructor(h,p,f){this.name=h,this.url=p,this.hexColor=f}static of(h){return h&&new o(h.name,h.url,n.a.of(h.hexColor))}}},26151:(S,g,e)=>{"use strict";e.d(g,{S:()=>E});var t=e(15493),n=e(99609),s=e(4742),i=e(57011);class r extends s.p{constructor(T,y,I,P=n.J.LINK,L=!1,F="link"){super(F,I,y,P,L),this.dataType=T}static BUILDER(T,y){return new i.I(r,T,y)}getTextValue(T){return T?T.value:""}getDataType(){return this.dataType}}var a=e(19589);class o extends a.R{constructor(){super(...arguments),this.name="value"}getName(){return this.name}compareNotNullDataValues(T,y){return this.compareStrings(T.value,y.value)}}var d=e(54614),h=e(14228),p=e(71118),f=e(47868);const m=new f.r("LINK");class v extends h.G{constructor(T){super(),this.value=T,this.dataTypeId=m}static of(T){return T&&new v(T.value)}clone(){return Object.freeze(v.of(p.l.deepClone(this)))}isEmpty(){var T;return!(null===(T=this.value)||void 0===T?void 0:T.length)}}class E extends t.g{constructor(){super(...arguments),this.dataTypeId=E.ID,this.comparator=new o}getFieldBuilder(T){return r.BUILDER(T,this)}getCustomFieldBuilder(T){return r.BUILDER(s._,this).withFieldName(T)}getAvailableDecorators(){return[n.J.LINK]}getDefaultDecorator(){return n.J.LINK}getDefaultComparator(){return this.comparator}getDisplayComponent(){return d.K}buildDataValue(T){return v.of(T)}}E.ID=new f.r("LINK")},27745:(S,g,e)=>{"use strict";e.d(g,{s:()=>E});var t=e(15493),n=e(99609),s=e(4742),i=e(57011);class r extends s.p{constructor(T,y,I,P=n.J.MILESTONE_ICON_AND_NAME,L=!1,F="Milestone"){super(F,I,y,P,L),this.dataType=T}static BUILDER(T,y){return new i.I(r,T,y)}getTextValue(T){return T?"MILESTONE"===T.value?"on":"off":""}isMilestone(T){return"MILESTONE"===(null==T?void 0:T.value)}getFormattedName(T){const y=null==T?void 0:T.value.toLowerCase();return this.isMilestone(T)?y.charAt(0).toUpperCase()+y.slice(1):""}getDataType(){return this.dataType}}var a=e(19589);class o extends a.R{constructor(){super(...arguments),this.name="value"}getName(){return this.name}compareNotNullDataValues(T,y){return this.compareStrings(T.value,y.value)}}var d=e(90257),h=e(97483),p=e(11188),f=e(18669),m=e(97754),v=e(47868);class E extends t.g{constructor(){super(...arguments),this.dataTypeId=E.ID,this.comparator=new o}getFieldBuilder(T){return r.BUILDER(T,this)}getCustomFieldBuilder(T){return r.BUILDER(s._,this).withFieldName(T)}getAvailableDecorators(){return[n.J.MILESTONE_ICON_AND_NAME,n.J.MILESTONE_ICON,n.J.MILESTONE_NAME]}getDefaultDecorator(){return n.J.MILESTONE_ICON_AND_NAME}getDefaultComparator(){return this.comparator}getDisplayComponent(T){return T===n.J.MILESTONE_ICON_AND_NAME?d.P:T===n.J.MILESTONE_ICON?h.e:T===n.J.MILESTONE_NAME?p.W:d.P}getEditComponent(){return f.L}buildDataValue(T){return m.G.of(T)}}E.ID=new v.r("MILESTONE")},62959:(S,g,e)=>{"use strict";e.d(g,{$:()=>n});const n=new(e(47868).r)("MILESTONE")},97754:(S,g,e)=>{"use strict";e.d(g,{G:()=>i});var t=e(14228),n=e(71118),s=e(62959);class i extends t.G{constructor(a){super(),this.value=a,this.dataTypeId=s.$}static of(a){return a&&new i(a.value)}clone(){return Object.freeze(i.of(n.l.deepClone(this)))}isEmpty(){var a;return!(null===(a=this.value)||void 0===a?void 0:a.length)}}},39856:(S,g,e)=>{"use strict";e.d(g,{K:()=>y});var t=e(15493),n=e(99609),s=e(4742),i=e(57011);class r extends s.p{constructor(P,L,F,b=n.J.AVATAR_AND_NAME,x=!1,B=""){super(B,F,L,b,x),this.dataType=P}static BUILDER(P,L){return new i.I(r,P,L)}getTextValue(P){return P?P.users.map(L=>L.data.displayName).join("; "):""}getDataType(){return this.dataType}}var a=e(19589);class o extends a.R{constructor(){super(...arguments),this.name="user display names"}getName(){return this.name}compareNotNullDataValues(P,L){const F=P.users.map(x=>x.data.displayName),b=L.users.map(x=>x.data.displayName);return this.compareStringLists(F,b)}}var d=e(13395),h=e(3043),p=e(2947),f=e(14228),m=e(5142),v=e(71118),E=e(47868);const C=new E.r("MULTI_USER");class T extends f.G{constructor(P){super(),this.users=P,this.dataTypeId=C}static of(P){return P&&new T(P.users.map(L=>m.I.of(L)))}clone(){return Object.freeze(T.of(v.l.deepClone(this)))}isEmpty(){var P;return!(null===(P=this.users)||void 0===P?void 0:P.length)}}class y extends t.g{constructor(){super(...arguments),this.dataTypeId=y.ID,this.comparator=new o}getFieldBuilder(P){return r.BUILDER(P,this)}getCustomFieldBuilder(P){return r.BUILDER(s._,this).withFieldName(P)}getAvailableDecorators(){return[n.J.AVATAR_AND_NAME,n.J.AVATARS,n.J.TEXT]}getDefaultDecorator(){return n.J.AVATAR_AND_NAME}getDefaultComparator(){return this.comparator}getDisplayComponent(P){return P===n.J.AVATARS?p.t:P===n.J.AVATAR_AND_NAME?h.U:P===n.J.TEXT?d.C:h.U}buildDataValue(P){return T.of(P)}}y.ID=new E.r("MULTI_USER")},17190:(S,g,e)=>{"use strict";e.d(g,{O:()=>m});var t=e(15493),n=e(99609),s=e(4742),i=e(57011);class r extends s.p{constructor(E,C,T,y=n.J.NONE,I=!1,P=""){super(P,T,C,y,I),this.dataType=E}static BUILDER(E,C){return new i.I(r,E,C)}getDataType(){return this.dataType}}var a=e(63716),o=e(14228),d=e(71118),h=e(47868);const p=new h.r("NONE");class f extends o.G{constructor(E=null){super(),this.value=E,this.dataTypeId=p}static of(E){return E&&new f(E)}clone(){return Object.freeze(f.of(d.l.deepClone(this)))}isEmpty(){return!1}}class m extends t.g{constructor(){super(...arguments),this.dataTypeId=m.ID}getFieldBuilder(E){return r.BUILDER(E,this)}getCustomFieldBuilder(E){return r.BUILDER(s._,this).withFieldName(E)}getAvailableDecorators(){return[n.J.NONE]}getDefaultDecorator(){return n.J.NONE}getDefaultComparator(){return null}getDisplayComponent(){return a.m}buildDataValue(E){return f.of(E)}}m.ID=new h.r("NONE")},51750:(S,g,e)=>{"use strict";e.d(g,{V:()=>se});var t=e(15493),n=e(99609),s=e(25400),i=e(4742),r=e(57011);class a extends i.p{constructor(ve,Ce,ye,de=n.J.TEXT,Ie=!1,He="Number"){super(He,ye,Ce,de,Ie),this.dataType=ve}static BUILDER(ve,Ce){return new r.I(a,ve,Ce)}getTextValue(ve){return!ve||ve.isAggregated()?"":`${ve.number}`}getDataType(){return this.dataType}}var o=e(19589);class d extends o.R{constructor(){super(...arguments),this.name="number"}getName(){return this.name}compareNotNullDataValues(ve,Ce){return this.compareNumbers(ve.number,Ce.number)}}var h=e(97609),p=e(79779),f=e(50045),m=e(47868),v=e(88983),E=e(14228),C=e(71118);class T extends E.G{constructor(ve,Ce,ye){super(),this.leaf=ve,this.percentage=Ce,this.distribution=ye,this.dataTypeId=v.E}static of(ve){return ve&&new T(ve.leaf,ve.percentage,ve.distribution.map(Ce=>y.of(Ce)))}clone(){return Object.freeze(T.of(C.l.deepClone(this)))}isEmpty(){return!C.l.isDefined(this.leaf)&&!C.l.isDefined(this.percentage)&&!this.distribution.length}isAggregated(){return!0}}class y{constructor(ve,Ce){this.key=ve,this.value=Ce}static of(ve){return ve&&new y(I.of(ve.key),ve.value)}}class I{constructor(ve,Ce,ye){this.key=ve,this.name=Ce,this.color=ye}static of(ve){return ve&&new I(ve.key,ve.name,ve.color)}}var P=e(98711),L=e(3131),F=e(35672),b=e(91718),x=e(49753),B=e(35714),M=e(9332),w=e(27181),K=e(62146),k=e(14175),G=e(7280),$=e(30791),X=e(19561);class ie extends G.w{createEmpty(){return new $.B}fromRaw(ve){return ve?new $.B(ve):this.createEmpty()}getComponent(){return X.F}getDisplayName(){return"Number"}getUniqueName(){return"number"}getFilterType(){return G.V.APPLICABLE}isDataValueInFilter(ve,Ce){return this.isMatchingConditionForNumberOption(ve.number,Ce)}isEntityInFilter(ve,Ce,ye){return this.isDataValueInFilter(ve.getDataValue(Ce.getFieldId()),ye)}isMatchingConditionForNumberOption(ve,Ce){switch(Ce.numberFilterOptionsEnum){case X.t.LESS:return ve<Ce.less;case X.t.MORE:return ve>Ce.more;case X.t.LESS_OR_EQUALS:return ve<=Ce.lessOrEqual;case X.t.GREATER_OR_EQUALS:return ve>=Ce.greaterOrEqual;case X.t.IN_RANGE:{const ye=Ce.inRange;return ve>=(null==ye?void 0:ye.moreThanOrEquals)&&ve<=(null==ye?void 0:ye.lessThanOrEquals)}default:throw new Error("Unhandled case!")}}}class se extends t.g{constructor(){super(...arguments),this.dataTypeId=v.E,this.validators=[],this.comparator=new d,this.FILTERS=[new ie]}getFieldBuilder(ve){return a.BUILDER(ve,this)}getCustomFieldBuilder(ve){return a.BUILDER(i._,this).withFieldName(ve)}getAvailableAggregations(){return[M.K,B.k,x.i,b.f,F.d,L.X,w.Z,K.h,k.J]}getAvailableDecorators(){return[n.J.LOZENGE,n.J.TEXT]}getDefaultDecorator(){return n.J.TEXT}getDefaultComparator(){return this.comparator}getDisplayComponent(ve,Ce){return Ce&&Ce.isAggregated()?P.K:ve===n.J.LOZENGE?h.k:p.e}getEditComponent(){return s.a}getFilters(){return this.FILTERS}buildDataValue(ve){return ve.distribution?T.of(ve):f.z.of(ve)}}se.ID=new m.r("NUMBER")},88983:(S,g,e)=>{"use strict";e.d(g,{E:()=>n});const n=new(e(47868).r)("NUMBER")},50045:(S,g,e)=>{"use strict";e.d(g,{z:()=>i});var t=e(71118),n=e(88983),s=e(14228);class i extends s.G{constructor(a){super(),this.number=a,this.dataTypeId=n.E}static of(a){return a&&new i(a.number)}copy(){return new i(this.number)}isEmpty(){return!t.l.isDefined(this.number)}clone(){return Object.freeze(i.of(t.l.deepClone(this)))}}},19561:(S,g,e)=>{"use strict";e.d(g,{t:()=>p,F:()=>f});var t=e(70335),n=e(90850),s=e(35811),i=e(70822),r=e(30791),a=e(1352),o=e(84046),d=e(76617),h=e(65799),p=(()=>{return(m=p||(p={})).MORE="more",m.LESS="less",m.LESS_OR_EQUALS="less_or_equals",m.GREATER_OR_EQUALS="greater_or_equals",m.IN_RANGE="in_range",p;var m})();let f=(()=>{class m extends a.f{constructor(){super(...arguments),this.moreThanOptionFormControl=new t.NI,this.lessThanOptionFormControl=new t.NI,this.lessThanOrEqualsOptionFormControl=new t.NI,this.greaterThanOrEqualsOptionFormControl=new t.NI,this.inRangeOptionFormGroup=this.formBuilder.group({moreThanOrEquals:[null],lessThanOrEquals:[null]}),this.numberFilterOptions=p,this.numberOptionFormGroup=this.formBuilder.group({numberOption:[null,t.kI.required]}),this.destroyPrevOption$=new n.xQ}ngOnInit(){this.observeSearchControlValueChanges(),this.observeDestroyOfNumberOption(),this.moreThanOptionFormControl.disable(),this.lessThanOptionFormControl.disable(),this.lessThanOrEqualsOptionFormControl.disable(),this.greaterThanOrEqualsOptionFormControl.disable(),this.inRangeOptionFormGroup.disable()}setDataTypeFilterConfig(E=new r.B){this.dataTypeFilterConfig=E,this.setDataTypeFilterOption()}getHostClasses(){return["sp-number-filter"]}setDataTypeFilterOption(){this.numberOptionFormGroup.setValue({numberOption:this.dataTypeFilterConfig.numberFilterOptionsEnum})}observeSearchControlValueChanges(){this.numberOptionFormGroup.valueChanges.pipe(this.takeUntilDestroy()).subscribe(E=>{this.destroyPrevOption$.next(this.prevOption),this.getConcreteFormControl(E.numberOption).enable(),this.prevOption=E.numberOption,this.connectWithConcreteFormControl(E.numberOption).pipe((0,s.R)(this.destroyPrevOption$),this.takeUntilDestroy()).subscribe(C=>{this.dataTypeFilterConfig=new r.B(this.getConcreteFormControlValue(E.numberOption,C)),this.emitConfig()})})}observeDestroyOfNumberOption(){this.destroyPrevOption$.pipe((0,i.h)(E=>!!E),this.takeUntilDestroy()).subscribe(E=>{this.getConcreteFormControl(E).disable()})}getConcreteFormControl(E){switch(E){case p.MORE:return this.moreThanOptionFormControl;case p.LESS:return this.lessThanOptionFormControl;case p.LESS_OR_EQUALS:return this.lessThanOrEqualsOptionFormControl;case p.GREATER_OR_EQUALS:return this.greaterThanOrEqualsOptionFormControl;case p.IN_RANGE:return this.inRangeOptionFormGroup;default:throw new Error("Unhandled option!")}}connectWithConcreteFormControl(E){return this.getConcreteFormControl(E).valueChanges}getConcreteFormControlValue(E,C){switch(E){case p.MORE:return{numberFilterOptionsEnum:E,more:Number(C)};case p.LESS:return{numberFilterOptionsEnum:E,less:Number(C)};case p.LESS_OR_EQUALS:return{numberFilterOptionsEnum:E,lessOrEqual:Number(C)};case p.GREATER_OR_EQUALS:return{numberFilterOptionsEnum:E,greaterOrEqual:Number(C)};case p.IN_RANGE:return{numberFilterOptionsEnum:E,inRange:C};default:throw new Error("Unhandled option!")}}}return m.\u0275fac=function(){let v;return function(C){return(v||(v=o.n5z(m)))(C||m)}}(),m.\u0275cmp=o.Xpm({type:m,selectors:[["sp-number-data-type-filter-component"]],features:[o.qOj],decls:44,vars:32,consts:[[1,"sp-bg-background","sp-w-auto","sp-p-3","sp-shadow",3,"formGroup"],[1,"sp-flex","sp-text-gray-200","sp-text-s","sp-mb-2"],[1,"sp-flex","sp-items-center","sp-mb-2"],[1,"sp-flex","sp-items-center"],["formControlName","numberOption",3,"value"],[1,"sp-mr-4"],["type","number",1,"sp-form-control","!sp-w-16","sp-mr-2",3,"formControl"],[3,"formGroup"],["formControlName","moreThanOrEquals","type","number",1,"sp-form-control","!sp-w-16","sp-mr-2"],[1,"sp-mr-2"],["formControlName","lessThanOrEquals","type","number",1,"sp-form-control","!sp-w-16","sp-mr-2"]],template:function(E,C){1&E&&(o.TgZ(0,"div",0),o.TgZ(1,"p",1),o._uU(2),o.ALo(3,"spL10nText"),o.qZA(),o.TgZ(4,"div",2),o.TgZ(5,"div",3),o._UZ(6,"sp-form-control-radio",4),o.TgZ(7,"span",5),o._uU(8),o.ALo(9,"spL10nText"),o.qZA(),o._UZ(10,"input",6),o.qZA(),o.qZA(),o.TgZ(11,"div",2),o.TgZ(12,"div",3),o._UZ(13,"sp-form-control-radio",4),o.TgZ(14,"span",5),o._uU(15),o.ALo(16,"spL10nText"),o.qZA(),o._UZ(17,"input",6),o.qZA(),o.qZA(),o.TgZ(18,"div",2),o.TgZ(19,"div",3),o._UZ(20,"sp-form-control-radio",4),o.TgZ(21,"span",5),o._uU(22),o.ALo(23,"spL10nText"),o.qZA(),o.qZA(),o._UZ(24,"input",6),o.qZA(),o.TgZ(25,"div",2),o.TgZ(26,"div",3),o._UZ(27,"sp-form-control-radio",4),o.TgZ(28,"span",5),o._uU(29),o.ALo(30,"spL10nText"),o.qZA(),o._UZ(31,"input",6),o.qZA(),o.qZA(),o.TgZ(32,"div",2),o.TgZ(33,"div",3),o._UZ(34,"sp-form-control-radio",4),o.ynx(35,7),o.TgZ(36,"span",5),o._uU(37),o.ALo(38,"spL10nText"),o.qZA(),o._UZ(39,"input",8),o.TgZ(40,"span",9),o._uU(41),o.ALo(42,"spL10nText"),o.qZA(),o._UZ(43,"input",10),o.BQk(),o.qZA(),o.qZA(),o.qZA()),2&E&&(o.Q6J("formGroup",C.numberOptionFormGroup),o.xp6(2),o.Oqu(o.lcZ(3,18,"SPT_DATA_TYPE_FILTER_NUMBER_HEADER_LABEL")),o.xp6(4),o.Q6J("value",C.numberFilterOptions.MORE),o.xp6(2),o.hij(" ",o.lcZ(9,20,"SPT_DATA_TYPE_FILTER_NUMBER_MORE_LABEL")," "),o.xp6(2),o.Q6J("formControl",C.moreThanOptionFormControl),o.xp6(3),o.Q6J("value",C.numberFilterOptions.LESS),o.xp6(2),o.hij(" ",o.lcZ(16,22,"SPT_DATA_TYPE_FILTER_NUMBER_LESS_LABEL")," "),o.xp6(2),o.Q6J("formControl",C.lessThanOptionFormControl),o.xp6(3),o.Q6J("value",C.numberFilterOptions.LESS_OR_EQUALS),o.xp6(2),o.Oqu(o.lcZ(23,24,"SPT_DATA_TYPE_FILTER_NUMBER_LESS_OR_EQUALS_LABEL")),o.xp6(2),o.Q6J("formControl",C.lessThanOrEqualsOptionFormControl),o.xp6(3),o.Q6J("value",C.numberFilterOptions.GREATER_OR_EQUALS),o.xp6(2),o.Oqu(o.lcZ(30,26,"SPT_DATA_TYPE_FILTER_NUMBER_GREATER_OR_EQUALS_LABEL")),o.xp6(2),o.Q6J("formControl",C.greaterThanOrEqualsOptionFormControl),o.xp6(3),o.Q6J("value",C.numberFilterOptions.IN_RANGE),o.xp6(1),o.Q6J("formGroup",C.inRangeOptionFormGroup),o.xp6(2),o.Oqu(o.lcZ(38,28,"SPT_DATA_TYPE_FILTER_NUMBER_IN_RANGE_LABEL")),o.xp6(4),o.Oqu(o.lcZ(42,30,"SPT_DATA_TYPE_FILTER_NUMBER_IN_RANGE_AND_LABEL")))},directives:[t.JL,t.sg,d.x,t.JJ,t.u,t.wV,t.Fj,t.oH],pipes:[h.L],encapsulation:2,changeDetection:0}),m})()},30791:(S,g,e)=>{"use strict";e.d(g,{B:()=>n});var t=e(44980);class n extends t.Z{constructor(i){super(),this.uniqueName="number",this.numberFilterOptionsEnum=null,this.more=null,this.less=null,this.lessOrEqual=null,this.greaterOrEqual=null,this.inRange={moreThanOrEquals:null,lessThanOrEquals:null},this.numberFilterOptionsEnum=i.numberFilterOptionsEnum?i.numberFilterOptionsEnum:this.numberFilterOptionsEnum,this.more=i.more?i.more:this.more,this.less=i.less?i.less:this.less,this.lessOrEqual=i.lessOrEqual?i.lessOrEqual:this.lessOrEqual,this.greaterOrEqual=i.greaterOrEqual?i.greaterOrEqual:this.greaterOrEqual,this.inRange=i.inRange?i.inRange:this.inRange}createEmpty(){return new n}getText(){return"number"}isEmpty(){var i;return!(null===(i=this.numberFilterOptionsEnum)||void 0===i?void 0:i.length)}}},39455:(S,g,e)=>{"use strict";e.d(g,{Z:()=>P});var t=e(15493),n=e(99609),s=e(4742),i=e(57011);class r extends s.p{constructor(F,b,x,B=n.J.PERCENTAGE_TEXT,M=!1,w="Percentage"){super(w,x,b,B,M),this.dataType=F}static BUILDER(F,b){return new i.I(r,F,b)}getTextValue(F){return F?`${F.number}%`:""}getDataType(){return this.dataType}}var a=e(19589);class o extends a.R{constructor(){super(...arguments),this.name="number"}getName(){return this.name}compareNotNullDataValues(F,b){return this.compareNumbers(F.number,b.number)}}var d=e(82015),h=e(39459),p=e(14228),f=e(71118),m=e(47868);const v=new m.r("PERCENTAGE");class E extends p.G{constructor(F){super(),this.number=F,this.dataTypeId=v}static of(F){return F&&new E(F.number)}clone(){return Object.freeze(E.of(f.l.deepClone(this)))}isEmpty(){return!f.l.isDefined(this.number)}}var C=e(9332),T=e(35714),y=e(35672),I=e(3131);class P extends t.g{constructor(){super(...arguments),this.dataTypeId=P.ID,this.comparator=new o}getFieldBuilder(F){return r.BUILDER(F,this)}getCustomFieldBuilder(F){return r.BUILDER(s._,this).withFieldName(F)}getAvailableAggregations(){return[C.K,T.k,y.d,I.X]}getAvailableDecorators(){return[n.J.PERCENTAGE_LOZENGE,n.J.PERCENTAGE_TEXT]}getDefaultDecorator(){return n.J.PERCENTAGE_LOZENGE}getDefaultComparator(){return this.comparator}getDisplayComponent(F){return F===n.J.PERCENTAGE_LOZENGE?d.v:h.s}buildDataValue(F){return E.of(F)}}P.ID=new m.r("PERCENTAGE")},30031:(S,g,e)=>{"use strict";e.d(g,{g:()=>C});var t=e(15493),n=e(99609),s=e(4742),i=e(57011);class r extends s.p{constructor(y,I,P,L=n.J.NONE,F=!1,b=""){super(b,P,I,L,F),this.dataType=y}static BUILDER(y,I){return new i.I(r,y,I)}getTextValue(y){return y?`${y.startDate.epochMilli.toString()} - ${y.endDate.epochMilli.toString()}`:""}getDataType(){return this.dataType}}var a=e(19589);class o extends a.R{constructor(){super(...arguments),this.name="start and end date"}getName(){return this.name}compareNotNullDataValues(y,I){const P=this.compareNumbers(y.startDate.epochMilli,I.startDate.epochMilli);return 0===P?this.compareNumbers(y.endDate.epochMilli,I.endDate.epochMilli):P}}var d=e(44066),h=e(14228),p=e(72803),f=e(71118),m=e(58850);class v extends h.G{constructor(y,I){super(),this.startDate=y,this.endDate=I,this.dataTypeId=m.k}static of(y){return y&&new v(p.e.of(y.startDate),p.e.of(y.endDate))}clone(){return Object.freeze(v.of(f.l.deepClone(this)))}isEmpty(){var y,I;return(null===(y=this.startDate)||void 0===y?void 0:y.isEmpty())&&(null===(I=this.endDate)||void 0===I?void 0:I.isEmpty())}}var E=e(47868);class C extends t.g{constructor(){super(...arguments),this.dataTypeId=C.ID,this.comparator=new o}getFieldBuilder(y){return r.BUILDER(y,this)}getCustomFieldBuilder(y){return r.BUILDER(s._,this).withFieldName(y)}getAvailableDecorators(){return[n.J.NONE]}getDefaultDecorator(){return n.J.NONE}getDefaultComparator(){return this.comparator}getDisplayComponent(){return d.O}buildDataValue(y){return v.of(y)}}C.ID=new E.r("PERIOD")},58850:(S,g,e)=>{"use strict";e.d(g,{k:()=>n});const n=new(e(47868).r)("PERIOD")},3926:(S,g,e)=>{"use strict";e.d(g,{M:()=>C});var t=e(15493),n=e(99609),s=e(4742),i=e(57011),r=e(26e3);class a extends s.p{constructor(y,I,P,L=n.J.PERIOD_MODE_ICON_AND_NAME,F=!1,b="Period mode"){super(b,P,I,L,F),this.dataType=y}static BUILDER(y,I){return new i.I(a,y,I)}getTextValue(y){return y?r.J.getPeriodModeLabel(y.value):""}getDataType(){return this.dataType}}var o=e(19589);class d extends o.R{constructor(){super(...arguments),this.name="value"}getName(){return this.name}compareNotNullDataValues(y,I){return this.compareStrings(y.value,I.value)}}var h=e(84965),p=e(14067),f=e(84785),m=e(37906),v=e(7362),E=e(47868);class C extends t.g{constructor(){super(...arguments),this.dataTypeId=C.ID,this.comparator=new d}getFieldBuilder(y){return a.BUILDER(y,this)}getCustomFieldBuilder(y){return a.BUILDER(s._,this).withFieldName(y)}getAvailableDecorators(){return[n.J.PERIOD_MODE_ICON_AND_NAME,n.J.PERIOD_MODE_ICON,n.J.PERIOD_MODE_NAME]}getDefaultDecorator(){return n.J.PERIOD_MODE_ICON_AND_NAME}getDefaultComparator(){return this.comparator}getDisplayComponent(y){return y===n.J.PERIOD_MODE_ICON_AND_NAME?h.b:y===n.J.PERIOD_MODE_ICON?p.h:y===n.J.PERIOD_MODE_NAME?f.C:h.b}getEditComponent(){return m.f}buildDataValue(y){return v.J.of(y)}}C.ID=new E.r("PERIOD_MODE")},7362:(S,g,e)=>{"use strict";e.d(g,{J:()=>r});var t=e(14228),n=e(71118);const i=new(e(47868).r)("PERIOD_MODE");class r extends t.G{constructor(o){super(),this.value=o,this.dataTypeId=i}static of(o){return o&&new r(o.value)}clone(){return Object.freeze(r.of(n.l.deepClone(this)))}isEmpty(){var o;return!(null===(o=this.value)||void 0===o?void 0:o.length)}}},49548:(S,g,e)=>{"use strict";e.d(g,{H:()=>C});var t=e(15493),n=e(99609),s=e(4742),i=e(19589);class r extends i.R{constructor(){super(...arguments),this.name="sequence"}getName(){return this.name}compareNotNullDataValues(y,I){return this.compareNumbers(y.sequence,I.sequence)}}var a=e(21859),o=e(57011);class d extends s.p{constructor(y,I,P,L=n.J.ICON_AND_NAME,F=!1,b="Priority"){super(b,P,I,L,F),this.dataType=y}static BUILDER(y,I){return new o.I(d,y,I)}getTextValue(y){return y?y.name:""}getDataType(){return this.dataType}}var h=e(23800),p=e(45129),f=e(47868),m=e(20796),v=e(9332),E=e(35714);class C extends t.g{constructor(){super(...arguments),this.dataTypeId=C.ID,this.comparator=new r}getFieldBuilder(y){return d.BUILDER(y,this)}getCustomFieldBuilder(y){return d.BUILDER(s._,this).withFieldName(y)}getAvailableAggregations(){return[v.K,E.k]}getAvailableDecorators(){return[n.J.ICON_AND_NAME,n.J.ICON]}getDefaultDecorator(){return n.J.ICON_AND_NAME}getDefaultComparator(){return this.comparator}getEditComponent(){return m.W}getDisplayComponent(y){return y===n.J.ICON?h.G:p.w}buildDataValue(y){return a.H.of(y)}}C.ID=new f.r("PRIORITY")},13489:(S,g,e)=>{"use strict";e.d(g,{o:()=>n});const n=new(e(47868).r)("PRIORITY")},21859:(S,g,e)=>{"use strict";e.d(g,{H:()=>i});var t=e(14228),n=e(71118),s=e(13489);class i extends t.G{constructor(a,o,d){super(),this.iconUrl=a,this.sequence=o,this.name=d,this.dataTypeId=s.o}static of(a){return a&&new i(a.iconUrl,a.sequence,a.name)}clone(){return Object.freeze(i.of(n.l.deepClone(this)))}isEmpty(){var a,o;return!(null===(a=this.iconUrl)||void 0===a?void 0:a.length)&&!(null===(o=this.name)||void 0===o?void 0:o.length)&&!n.l.isDefined(this.sequence)}}},18933:(S,g,e)=>{"use strict";e.d(g,{h:()=>T});var t=e(15493),n=e(99609),s=e(4742),i=e(57011);class r extends s.p{constructor(I,P,L,F=n.J.ICON_AND_NAME_WITH_LINK,b=!1,x="Project"){super(x,L,P,F,b),this.dataType=I}static BUILDER(I,P){return new i.I(r,I,P)}getTextValue(I){return I?I.name:""}getDataType(){return this.dataType}}var a=e(19589);class o extends a.R{constructor(){super(...arguments),this.name="name"}getName(){return this.name}compareNotNullDataValues(I,P){return this.compareStrings(I.name,P.name)}}var d=e(13787),h=e(45501),p=e(34573),f=e(14228),m=e(71118),v=e(47868);const E=new v.r("PROJECT");class C extends f.G{constructor(I,P,L,F){super(),this.id=I,this.key=P,this.name=L,this.iconUrl=F,this.dataTypeId=E}static of(I){return I&&new C(I.id,I.key,I.name,I.iconUrl)}clone(){return Object.freeze(C.of(m.l.deepClone(this)))}isEmpty(){var I,P,L;return!(m.l.isDefined(this.id)||(null===(I=this.key)||void 0===I?void 0:I.length)||(null===(P=this.name)||void 0===P?void 0:P.length)||(null===(L=this.iconUrl)||void 0===L?void 0:L.length))}}class T extends t.g{constructor(){super(...arguments),this.dataTypeId=T.ID,this.comparator=new o}getFieldBuilder(I){return r.BUILDER(I,this)}getCustomFieldBuilder(I){return r.BUILDER(s._,this).withFieldName(I)}getAvailableDecorators(){return[n.J.ICON_AND_NAME_WITH_LINK,n.J.ICON_AND_NAME,n.J.TEXT]}getDefaultDecorator(){return n.J.ICON_AND_NAME_WITH_LINK}getDefaultComparator(){return this.comparator}getDisplayComponent(I){return I===n.J.TEXT?d.B:I===n.J.ICON_AND_NAME?h.e:p.L}buildDataValue(I){return C.of(I)}}T.ID=new v.r("PROJECT")},49885:(S,g,e)=>{"use strict";e.d(g,{v:()=>E});var t=e(15493),n=e(99609),s=e(4742),i=e(57011);class r extends s.p{constructor(T,y,I,P=n.J.TEXT,L=!1,F="Value"){super(F,I,y,P,L),this.dataType=T}static BUILDER(T,y){return new i.I(r,T,y)}getTextValue(T){return T?T.value:""}getDataType(){return this.dataType}}var a=e(19589);class o extends a.R{constructor(){super(...arguments),this.name="value"}getName(){return this.name}compareNotNullDataValues(T,y){return this.compareStrings(T.value,y.value)}}var d=e(18675),h=e(14228),p=e(71118),f=e(47868);const m=new f.r("RANK");class v extends h.G{constructor(T){super(),this.value=T,this.dataTypeId=m}static of(T){return T&&new v(T.value)}clone(){return Object.freeze(v.of(p.l.deepClone(this)))}isEmpty(){var T;return!(null===(T=this.value)||void 0===T?void 0:T.length)}}class E extends t.g{constructor(){super(...arguments),this.dataTypeId=E.ID,this.comparator=new o}getFieldBuilder(T){return r.BUILDER(T,this)}getCustomFieldBuilder(T){return r.BUILDER(s._,this).withFieldName(T)}getAvailableDecorators(){return[n.J.TEXT]}getDefaultDecorator(){return n.J.TEXT}getDefaultComparator(){return this.comparator}getDisplayComponent(){return d.g}buildDataValue(T){return v.of(T)}}E.ID=new f.r("RANK")},77702:(S,g,e)=>{"use strict";e.d(g,{U:()=>T});var t=e(15493),n=e(4742),s=e(19589);class i extends s.R{constructor(){super(...arguments),this.name="sequence"}getName(){return this.name}compareNotNullDataValues(I,P){return this.compareNumbers(I.sequence,P.sequence)}}var r=e(36609),a=e(99609),o=e(57011);class d extends n.p{constructor(I,P,L,F=a.J.LOZENGE,b=!1,x="Value"){super(x,L,P,F,b),this.dataType=I}static BUILDER(I,P){return new o.I(d,I,P)}getTextValue(I){return I?I.value:""}getDataType(){return this.dataType}}var h=e(10767),p=e(95272),f=e(38971),m=e(51124),v=e(47868),E=e(9332),C=e(35714);class T extends t.g{constructor(){super(...arguments),this.dataTypeId=T.ID,this.comparator=new i}getFieldBuilder(I){return d.BUILDER(I,this)}getCustomFieldBuilder(I){return d.BUILDER(n._,this).withFieldName(I)}getAvailableAggregations(){return[E.K,C.k]}getAvailableDecorators(){return[a.J.LOZENGE,a.J.TEXT,a.J.STYLED_TEXT]}getDefaultDecorator(){return a.J.LOZENGE}getDefaultComparator(){return this.comparator}getEditComponent(){return m.w}getDisplayComponent(I){return I===a.J.TEXT?f.x:I===a.J.LOZENGE?h.E:I===a.J.STYLED_TEXT?p.n:h.E}buildDataValue(I){return r.C.of(I)}}T.ID=new v.r("SELECT")},9396:(S,g,e)=>{"use strict";e.d(g,{r:()=>n});const n=new(e(47868).r)("SELECT")},36609:(S,g,e)=>{"use strict";e.d(g,{C:()=>i});var t=e(14228),n=e(71118),s=e(9396);class i extends t.G{constructor(a,o,d,h){super(),this.id=a,this.sequence=o,this.value=d,this.disabled=h,this.dataTypeId=s.r}static of(a){return a&&new i(a.id,a.sequence,a.value,a.disabled)}clone(){return Object.freeze(i.of(n.l.deepClone(this)))}isEmpty(){var a;return!(n.l.isDefined(this.id)||n.l.isDefined(this.sequence)||n.l.isDefined(this.disabled)||(null===(a=this.value)||void 0===a?void 0:a.length))}}},9485:(S,g,e)=>{"use strict";e.d(g,{e:()=>C});var t=e(15493),n=e(99609),s=e(4742),i=e(57011);class r extends s.p{constructor(y,I,P,L=n.J.RICH_TEXT,F=!1,b="Rich text"){super(b,P,I,L,F),this.dataType=y}static BUILDER(y,I){return new i.I(r,y,I)}isGroupable(){return!1}getDataType(){return this.dataType}}var a=e(19589);class o extends a.R{constructor(){super(...arguments),this.name="element texts"}getName(){return this.name}compareNotNullDataValues(y,I){const P=y.elements.map(F=>F.text),L=I.elements.map(F=>F.text);return this.compareStringLists(P,L)}}var d=e(78600),h=e(14228),p=e(71118),f=e(47868);const m=new f.r("SIMPLIFIED_HTML");class v extends h.G{constructor(y){super(),this.elements=y,this.dataTypeId=m}static of(y){return y&&new v(y.elements.map(I=>E.of(I)))}clone(){return Object.freeze(v.of(p.l.deepClone(this)))}isEmpty(){var y;return!(null===(y=this.elements)||void 0===y?void 0:y.length)}}class E{constructor(y,I,P){this.elementType=y,this.text=I,this.url=P}static of(y){return y&&new E(y.elementType,y.text,y.url?y.url:null)}}class C extends t.g{constructor(){super(...arguments),this.dataTypeId=C.ID,this.comparator=new o}getFieldBuilder(y){return r.BUILDER(y,this)}getCustomFieldBuilder(y){return r.BUILDER(s._,this).withFieldName(y)}getAvailableDecorators(){return[n.J.RICH_TEXT]}getDefaultDecorator(){return n.J.RICH_TEXT}getDefaultComparator(){return this.comparator}getDisplayComponent(){return d.i}buildDataValue(y){return v.of(y)}}C.ID=new f.r("SIMPLIFIED_HTML")},23467:(S,g,e)=>{"use strict";e.d(g,{a:()=>C});var t=e(15493),n=e(13354),s=e(86691),i=e(99609),r=e(4742),a=e(57011);class o extends r.p{constructor(y,I,P,L=i.J.SKILLS_ICON_NAME,F=!1,b="Skills"){super(b,P,I,L,F),this.dataType=y}static BUILDER(y,I){return new a.I(o,y,I)}getTextValue(y){return y&&y.skills.length?y.skills.map(I=>I?I.name:"").join(" "):""}getDataType(){return this.dataType}}var d=e(19589);class h extends d.R{constructor(){super(...arguments),this.name="skill names"}getName(){return this.name}compareNotNullDataValues(y,I){const P=y.skills.map(F=>F.name),L=I.skills.map(F=>F.name);return this.compareStringLists(P,L)}}var p=e(50128),f=e(95660),m=e(73101),v=e(26139),E=e(47868);class C extends t.g{constructor(){super(...arguments),this.dataTypeId=C.ID,this.comparator=new h}getFieldBuilder(y){return o.BUILDER(y,this)}getCustomFieldBuilder(y){return o.BUILDER(r._,this).withFieldName(y)}getAvailableDecorators(){return[i.J.SKILLS_ICON_NAME,i.J.SKILLS_ICON,i.J.SKILLS_NAME]}getDefaultDecorator(){return i.J.SKILLS_ICON_NAME}getDefaultComparator(){return this.comparator}getDisplayComponent(y){return y===i.J.SKILLS_ICON_NAME?p.X:y===i.J.SKILLS_ICON?f.a:y===i.J.SKILLS_NAME?m.h:p.X}getFilters(){return[new s.o,new n.J]}buildDataValue(y){return v.U.of(y)}}C.ID=new E.r("SKILLS")},26139:(S,g,e)=>{"use strict";e.d(g,{U:()=>r,V:()=>a});var t=e(14228);const s=new(e(47868).r)("SKILLS");var i=e(71118);class r extends t.G{constructor(d){super(),this.skills=d,this.dataTypeId=s}static of(d){return d&&new r(d.skills.map(h=>a.of(h)))}getSearchValue(){return this.skills.map(d=>d.name)}clone(){return Object.freeze(r.of(i.l.deepClone(this)))}slice(){return 0===this.skills.length?[this]:this.skills.map(d=>new r([d]))}isEmpty(){var d;return!(null===(d=this.skills)||void 0===d?void 0:d.length)}}class a{constructor(d,h,p,f,m){this.code=d,this.color=h,this.iconId=p,this.id=f,this.name=m}static of(d){return d&&new a(d.code,d.color,d.iconId,d.id,d.name)}}},28328:(S,g,e)=>{"use strict";e.d(g,{r:()=>T});var t=e(15493),n=e(99609),s=e(4742),i=e(57011);class r extends s.p{constructor(I,P,L,F=n.J.TEXT,b=!1,x="Sprints"){super(x,L,P,F,b),this.dataType=I}static BUILDER(I,P){return new i.I(r,I,P)}getTextValue(I){return I&&I.currentSprint?I.currentSprint.name:""}getDataType(){return this.dataType}}var a=e(19589),o=e(56335);class d extends a.R{constructor(){super(...arguments),this.name="sprint names"}getName(){return this.name}compareNotNullDataValues(I,P){const L=I.sprints.map(b=>o.Z.parse(b.name)),F=P.sprints.map(b=>o.Z.parse(b.name));return this.compareIndexedStringLists(L,F)}}var h=e(40626),p=e(14228),f=e(71118),m=e(47868);const v=new m.r("SPRINTS");class E extends p.G{constructor(I,P){super(),this.sprints=I,this.currentSprint=P,this.dataTypeId=v}static of(I){return I&&new E(I.sprints.map(P=>C.of(P)),C.of(I.currentSprint))}clone(){return Object.freeze(E.of(f.l.deepClone(this)))}isEmpty(){var I;return!(null===(I=this.sprints)||void 0===I?void 0:I.length)&&!f.l.isDefined(this.currentSprint)}}class C{constructor(I,P,L){this.id=I,this.name=P,this.status=L}static of(I){return I&&new C(I.id,I.name,I.status)}}class T extends t.g{constructor(){super(...arguments),this.dataTypeId=T.ID,this.comparator=new d}getFieldBuilder(I){return r.BUILDER(I,this)}getCustomFieldBuilder(I){return r.BUILDER(s._,this).withFieldName(I)}getAvailableDecorators(){return[n.J.TEXT]}getDefaultDecorator(){return n.J.TEXT}getDefaultComparator(){return this.comparator}getDisplayComponent(){return h.B}buildDataValue(I){return E.of(I)}}T.ID=new m.r("SPRINTS")},94932:(S,g,e)=>{"use strict";e.d(g,{C:()=>K});var t=e(15493),n=e(99609),s=e(4742),i=e(57011);class r extends s.p{constructor(G,$,X,ie=n.J.STATUS_LOZENGE,se=!1,pe="Status"){super(pe,X,$,ie,se),this.dataType=G}static BUILDER(G,$){return new i.I(r,G,$)}getTextValue(G){return!G||G.isAggregated()?"":`${G.name}`}getDataType(){return this.dataType}}var a=e(19589);class o extends a.R{constructor(){super(...arguments),this.name="sequence and name"}getName(){return this.name}compareNotNullDataValues(G,$){var X;const ie=this.compareNumbers(null===(X=G.statusCategory)||void 0===X?void 0:X.index,$.statusCategory.index);return 0===ie?this.compareStrings(G.name,$.name):ie}}var d=e(25539),h=e(18419),p=e(26910),f=e(47868),m=e(98704),v=e(9332),E=e(35714),C=e(31270);const T=C.c.of("SUBTASK_STATUSES"),y=C.c.of("SUBTASK_STATUSES_PERCENTAGE");var I=e(62146),P=e(14175),L=e(27181),F=e(71118),b=e(92006),x=e(14228);class B extends x.G{constructor(G,$,X){super(),this.leaf=G,this.percentage=$,this.distribution=X,this.dataTypeId=b.C}static of(G){return G&&new B(G.leaf,G.percentage,G.distribution.map($=>M.of($)))}clone(){return Object.freeze(B.of(F.l.deepClone(this)))}isEmpty(){return!F.l.isDefined(this.leaf)&&!F.l.isDefined(this.percentage)&&!this.distribution.length}isAggregated(){return!0}}class M{constructor(G,$){this.key=G,this.value=$}static of(G){return G&&new M(w.of(G.key),G.value)}}class w{constructor(G,$,X){this.key=G,this.name=$,this.color=X}static of(G){return G&&new w(G.key,G.name,G.color)}}class K extends t.g{constructor(){super(...arguments),this.dataTypeId=K.ID,this.comparator=new o}getFieldBuilder(G){return r.BUILDER(G,this)}getCustomFieldBuilder(G){return r.BUILDER(s._,this).withFieldName(G)}getAvailableAggregations(){return[v.K,E.k,T,y,I.h,P.J,L.Z]}getAvailableDecorators(){return[n.J.STATUS_LOZENGE,n.J.STATUS_DESCRIPTION]}getDefaultDecorator(){return n.J.STATUS_LOZENGE}getDefaultComparator(){return this.comparator}getDisplayComponent(G,$){return $&&$.isAggregated()?m.M:G===n.J.STATUS_DESCRIPTION?h.J:d.V}buildDataValue(G){return G.distribution?B.of(G):p.R.of(G)}}K.ID=new f.r("STATUS")},92006:(S,g,e)=>{"use strict";e.d(g,{C:()=>n});const n=new(e(47868).r)("STATUS")},26910:(S,g,e)=>{"use strict";e.d(g,{R:()=>r});var t=e(26651),n=e(71118),s=e(92006),i=e(14228);class r extends i.G{constructor(d,h,p,f,m,v){super(),this.id=d,this.name=h,this.description=p,this.statusCategory=f,this.sequence=m,this.hexColor=v,this.dataTypeId=s.C}static of(d){return d&&new r(d.id,d.name,d.description,a.of(d.statusCategory),d.sequence,t.a.of(d.hexColor))}clone(){return Object.freeze(r.of(n.l.deepClone(this)))}isEmpty(){var d,h,p;return!((null===(d=this.id)||void 0===d?void 0:d.length)||(null===(h=this.name)||void 0===h?void 0:h.length)||(null===(p=this.description)||void 0===p?void 0:p.length)||n.l.isDefined(this.statusCategory)||n.l.isDefined(this.sequence)||n.l.isDefined(this.hexColor))}}class a{constructor(d,h,p,f){this.key=d,this.name=h,this.color=p,this.index=f}static of(d){return d&&new a(d.key,d.name,d.color,d.index)}}},7052:(S,g,e)=>{"use strict";e.d(g,{r:()=>E});var t=e(15493),n=e(47868),s=e(4742),i=e(19589);class r extends i.R{constructor(){super(...arguments),this.name="value"}getName(){return this.name}compareNotNullDataValues(T,y){return this.compareStrings(T.value,y.value)}}var a=e(64872),o=e(99609),d=e(57011);class h extends s.p{constructor(T,y,I,P=o.J.TEXT,L=!1,F="Value"){super(F,I,y,P,L),this.dataType=T}static BUILDER(T,y){return new d.I(h,T,y)}getTextValue(T){return T?T.value:""}getDataType(){return this.dataType}}var p=e(13354),f=e(86691),m=e(83216),v=e(95297);class E extends t.g{constructor(){super(...arguments),this.dataTypeId=E.ID,this.validators=[],this.comparator=new r}getFieldBuilder(T){return h.BUILDER(T,this)}getCustomFieldBuilder(T){return h.BUILDER(s._,this).withFieldName(T)}getAvailableDecorators(){return[o.J.TEXT]}getDefaultDecorator(){return o.J.TEXT}getDefaultComparator(){return this.comparator}getDisplayComponent(){return m.d}getEditComponent(){return v.f}getFilters(){return[new f.o,new p.J]}buildDataValue(T){return a.k.of(T)}}E.ID=new n.r("STRING")},64872:(S,g,e)=>{"use strict";e.d(g,{k:()=>r});var t=e(14228);const s=new(e(47868).r)("STRING");var i=e(71118);class r extends t.G{constructor(o){super(),this.value=o,this.dataTypeId=s}static of(o){return o&&new r(o.value)}copy(){return new r(this.value)}getLength(){var o,d;return null===(d=null===(o=this.value)||void 0===o?void 0:o.trim())||void 0===d?void 0:d.length}isEmpty(){var o;return!(null===(o=this.value)||void 0===o?void 0:o.length)}getSearchValue(){return this.value}clone(){return Object.freeze(r.of(i.l.deepClone(this)))}}},46789:(S,g,e)=>{"use strict";e.d(g,{A:()=>E});var t=e(15493),n=e(99609),s=e(65397),i=e(34322),r=e(4742),a=e(57011);class o extends r.p{constructor(T,y,I,P=n.J.TEXT,L=!1,F="Summary"){super(F,I,y,P,L),this.dataType=T}static BUILDER(T,y){return new a.I(o,T,y)}getTextValue(T){return T?T.summary:""}isGroupable(){return!1}getDataType(){return this.dataType}}var d=e(19589);class h extends d.R{constructor(){super(...arguments),this.name="summary"}getName(){return this.name}compareNotNullDataValues(T,y){return this.compareStrings(T.summary,y.summary)}}var p=e(38362),f=e(80867),m=e(47868);class E extends t.g{constructor(){super(...arguments),this.dataTypeId=E.ID,this.validators=[i.Z.validateMinLength(1),i.Z.validateMaxLength(E.MAX_LENGTH_VALIDATORS)],this.comparator=new h}getFieldBuilder(T){return o.BUILDER(T,this)}getCustomFieldBuilder(T){return o.BUILDER(r._,this).withFieldName(T)}getAvailableDecorators(){return[n.J.TEXT]}getDefaultDecorator(){return n.J.TEXT}getDefaultComparator(){return this.comparator}getDisplayComponent(){return p.F}getEditComponent(){return s.E}buildDataValue(T){return f.u.of(T)}}E.MAX_LENGTH_VALIDATORS=255,E.ID=new m.r("SUMMARY")},90792:(S,g,e)=>{"use strict";e.d(g,{y:()=>n});const n=new(e(47868).r)("SUMMARY")},80867:(S,g,e)=>{"use strict";e.d(g,{u:()=>i});var t=e(14228),n=e(71118),s=e(90792);class i extends t.G{constructor(a){super(),this.summary=a,this.dataTypeId=s.y}static of(a){return a&&new i(a.summary)}copy(){return new i(this.summary)}getLength(){var a,o;return null===(o=null===(a=this.summary)||void 0===a?void 0:a.trim())||void 0===o?void 0:o.length}isEmpty(){var a;return!(null===(a=this.summary)||void 0===a?void 0:a.length)}clone(){return Object.freeze(i.of(n.l.deepClone(this)))}}},60130:(S,g,e)=>{"use strict";e.d(g,{T:()=>L});var t=e(15493),n=e(99609),s=e(4742),i=e(57011);class r extends s.p{constructor(b,x,B,M=n.J.PROGRESS_BAR_AND_PERCENTAGE,w=!1,K="Time Tracking"){super(K,B,x,M,w),this.dataType=b}static BUILDER(b,x){return new i.I(r,b,x)}getTextValue(b){return b?b.percentage+"%":""}getDataType(){return this.dataType}}var a=e(19589);class o extends a.R{constructor(){super(...arguments),this.name="percentage"}getName(){return this.name}compareNotNullDataValues(b,x){return this.compareNumbers(b.percentage,x.percentage)}}var d=e(40383),h=e(64823),p=e(77962),f=e(14228),m=e(71118),v=e(47868);const E=new v.r("TIMETRACKING");class C extends f.G{constructor(b,x,B,M){super(),this.originalFormatted=b,this.remainingFormatted=x,this.loggedFormatted=B,this.percentage=M,this.dataTypeId=E}static of(b){return b&&new C(b.originalFormatted,b.remainingFormatted,b.loggedFormatted,b.percentage)}clone(){return Object.freeze(C.of(m.l.deepClone(this)))}isEmpty(){var b,x,B;return!((null===(b=this.originalFormatted)||void 0===b?void 0:b.length)||(null===(x=this.remainingFormatted)||void 0===x?void 0:x.length)||(null===(B=this.loggedFormatted)||void 0===B?void 0:B.length)||m.l.isDefined(this.percentage))}}var T=e(9332),y=e(35714),I=e(49753),P=e(91718);class L extends t.g{constructor(){super(...arguments),this.dataTypeId=L.ID,this.comparator=new o}getFieldBuilder(b){return r.BUILDER(b,this)}getCustomFieldBuilder(b){return r.BUILDER(s._,this).withFieldName(b)}getAvailableAggregations(){return[T.K,y.k,I.i,P.f]}getAvailableDecorators(){return[n.J.PERCENTAGE_TEXT,n.J.PROGRESS_BAR,n.J.PROGRESS_BAR_AND_PERCENTAGE]}getDefaultDecorator(){return n.J.PROGRESS_BAR_AND_PERCENTAGE}getDefaultComparator(){return this.comparator}getDisplayComponent(b){return b===n.J.PERCENTAGE_TEXT?d.W:b===n.J.PROGRESS_BAR?h.g:p.u}buildDataValue(b){return C.of(b)}}L.ID=new v.r("TIMETRACKING")},51315:(S,g,e)=>{"use strict";e.d(g,{n:()=>C});var t=e(15493),n=e(99609),s=e(4742),i=e(57011);class r extends s.p{constructor(y,I,P,L=n.J.URL_LINKS,F=!1,b=""){super(b,P,I,L,F),this.dataType=y}static BUILDER(y,I){return new i.I(r,y,I)}getDataType(){return this.dataType}}var a=e(19589);class o extends a.R{constructor(){super(...arguments),this.name="link texts"}getName(){return this.name}compareNotNullDataValues(y,I){const P=y.links.map(F=>F.text),L=I.links.map(F=>F.text);return this.compareStringLists(P,L)}}var d=e(37374),h=e(14228),p=e(71118),f=e(47868);const m=new f.r("URL_LINKS");class v extends h.G{constructor(y){super(),this.links=y,this.dataTypeId=m}static of(y){return y&&new v(y.links.map(I=>E.of(I)))}clone(){return Object.freeze(v.of(p.l.deepClone(this)))}isEmpty(){var y;return!(null===(y=this.links)||void 0===y?void 0:y.length)}}class E{constructor(y,I,P){this.url=y,this.elementType=I,this.text=P}static of(y){return y&&new E(y.url,y.elementType,y.text)}}class C extends t.g{constructor(){super(...arguments),this.dataTypeId=C.ID,this.comparator=new o}getFieldBuilder(y){return r.BUILDER(y,this)}getCustomFieldBuilder(y){return r.BUILDER(s._,this).withFieldName(y)}getAvailableDecorators(){return[n.J.URL_LINKS]}getDefaultDecorator(){return n.J.URL_LINKS}getDefaultComparator(){return this.comparator}getDisplayComponent(){return d.K}buildDataValue(y){return v.of(y)}}C.ID=new f.r("URL_LINKS")},53387:(S,g,e)=>{"use strict";e.d(g,{a:()=>C});var t=e(15493),n=e(47868),s=e(4742),i=e(19589);class r extends i.R{constructor(){super(...arguments),this.name="display name"}getName(){return this.name}compareNotNullDataValues(y,I){return this.compareStrings(y.data.displayName,I.data.displayName)}}var a=e(5142),o=e(99609),d=e(57011);class h extends s.p{constructor(y,I,P,L=o.J.AVATAR_AND_NAME,F=!1,b="User"){super(b,P,I,L,F),this.dataType=y}static BUILDER(y,I){return new d.I(h,y,I)}getTextValue(y){return y?y.data.displayName:""}getDataType(){return this.dataType}}var p=e(13354),f=e(86691),m=e(94290),v=e(95596),E=e(39542);class C extends t.g{constructor(){super(...arguments),this.dataTypeId=C.ID,this.comparator=new r,this.FILTERS=[new f.o,new p.J]}getFieldBuilder(y){return h.BUILDER(y,this)}getCustomFieldBuilder(y){return h.BUILDER(s._,this).withFieldName(y)}getAvailableDecorators(){return[o.J.AVATAR_AND_NAME,o.J.AVATAR,o.J.TEXT]}getDefaultDecorator(){return o.J.AVATAR_AND_NAME}getFilters(){return this.FILTERS}getDefaultComparator(){return this.comparator}getDisplayComponent(y){return y===o.J.AVATAR_AND_NAME?v.V:y===o.J.AVATAR?m.Q:y===o.J.TEXT?E.f:v.V}buildDataValue(y){return a.I.of(y)}}C.ID=new n.r("USER")},5142:(S,g,e)=>{"use strict";e.d(g,{m:()=>a,I:()=>r});var t=e(14228),n=e(71118);const i=new(e(47868).r)("USER");class r extends t.G{constructor(d,h,p){super(),this.id=d,this.isActive=h,this.data=p,this.dataTypeId=i}static of(d){return d&&new r(d.id,d.isActive,a.of(d.data))}getSearchValue(){return this.data.displayName}clone(){return Object.freeze(r.of(n.l.deepClone(this)))}isEmpty(){var d;return!(null===(d=this.id)||void 0===d?void 0:d.length)&&!n.l.isDefined(this.isActive)&&!n.l.isDefined(this.data)}}class a{constructor(d,h,p,f,m,v){this.email=d,this.profile_url=h,this.displayName=p,this.avatar_url_small=f,this.avatar_url_normal=m,this.avatar_url_large=v}static of(d){return d&&new a(d.email,d.profile_url,d.displayName,d.avatar_url_small,d.avatar_url_normal,d.avatar_url_large)}}},52390:(S,g,e)=>{"use strict";e.d(g,{A:()=>F});var t=e(15493),n=e(99609),s=e(4742),i=e(57011);class r extends s.p{constructor(x,B,M,w=n.J.VERSION,K=!1,k="Versions"){super(k,M,B,w,K),this.dataType=x}static BUILDER(x,B){return new i.I(r,x,B)}getTextValue(x){var B,M;return x?x.isAggregated()?null===(M=null===(B=x.item)||void 0===B?void 0:B.names)||void 0===M?void 0:M.join(", "):x.names.join("; "):""}getDataType(){return this.dataType}}var a=e(19589);class o extends a.R{constructor(){super(...arguments),this.name="names"}getName(){return this.name}compareNotNullDataValues(x,B){return this.compareStringLists(x.names,B.names)}}var d=e(16281),h=e(14228),p=e(71118),f=e(47868);const m=new f.r("VERSION");class v extends h.G{constructor(x,B){super(),this.names=x,this.list=B,this.dataTypeId=m}static of(x){return x&&new v(x.names,x.list.map(B=>E.of(B)))}clone(){return Object.freeze(v.of(p.l.deepClone(this)))}isEmpty(){var x,B;return!(null===(x=this.names)||void 0===x?void 0:x.length)&&!(null===(B=this.list)||void 0===B?void 0:B.length)}}class E{constructor(x,B){this.name=x,this.url=B}static of(x){return x&&new E(x.name,x.url)}}class C extends h.G{constructor(x,B,M,w,K){super(),this.distribution=x,this.exportedValue=B,this.item=M,this.percentage=w,this.leaf=K,this.dataTypeId=m}static of(x){return x&&new C(x.distribution.map(B=>T.of(B)),x.exportedValue,v.of(x.item),x.percentage,x.leaf)}clone(){return Object.freeze(C.of(p.l.deepClone(this)))}isEmpty(){var x,B,M;return!(null===(x=this.distribution)||void 0===x?void 0:x.length)&&!(null===(B=this.exportedValue)||void 0===B?void 0:B.length)&&(null===(M=this.item)||void 0===M?void 0:M.isEmpty())}isAggregated(){return!0}}class T{constructor(x,B){this.key=x,this.value=B}static of(x){return new T(x.key,x.value)}}var y=e(77419),I=e(31270);const P=I.c.of("SUBTASK_VERSION"),L=I.c.of("SUBTASK_VERSION_PERCENTAGE");class F extends t.g{constructor(){super(...arguments),this.dataTypeId=F.ID,this.comparator=new o}getFieldBuilder(x){return r.BUILDER(x,this)}getCustomFieldBuilder(x){return r.BUILDER(s._,this).withFieldName(x)}getAvailableAggregations(){return[P,L]}getAvailableDecorators(){return[n.J.VERSION]}getDefaultDecorator(){return n.J.VERSION}getDefaultComparator(){return this.comparator}getDisplayComponent(x,B){return B&&B.isAggregated()?y.L:x===n.J.VERSION?d.Y:void 0}buildDataValue(x){return x.distribution?C.of(x):v.of(x)}}F.ID=new f.r("VERSION")},47627:(S,g,e)=>{"use strict";e.d(g,{H:()=>s});var t=e(90850),n=e(35811);class s{constructor(r){this.dataValueFactory=r,this.destroy$=new t.xQ}getForm(){return this.form}registerForm(r){this.form=r,this.formRegistered(),this.subscribeForFormStatusChanges()}setDataValue(r){this.dataValue=r}handleValidStatus(){}handleInValidStatus(){}handleStatusChange(r){}getRawDataValueForUpdate(){let r={};for(const[o]of Object.entries(this.dataValue))r=Object.assign(Object.assign({},r),{[o]:this.dataValue[o]||null});const a=Object.assign(Object.assign({},r),{dataTypeId:this.dataValue.dataTypeId.toString()});return this.mapFormValuesMethod?this.mapFormValuesMethod(a):a}getDataValueForUpdate(){return this.dataValueFactory.create(this.getRawDataValueForUpdate())}submit(){}destroy(){this.destroy$.next(),this.destroy$.complete()}getValueForUpdateTaskKey(){const r=this.form.getRawValue(),a=[];for(const[o,d]of Object.entries(r))a.push(d);return a[0]}formRegistered(){}subscribeForFormStatusChanges(){this.form.statusChanges.pipe((0,n.R)(this.destroy$)).subscribe(r=>{this.handleStatusChange(r),"INVALID"===r?this.handleInValidStatus():this.handleValidStatus()})}}},73569:(S,g,e)=>{"use strict";e.d(g,{I:()=>t});var t=(()=>{return(n=t||(t={}))[n.ACTIVE=1]="ACTIVE",n[n.INACTIVE=2]="INACTIVE",n[n.LOCKED=4]="LOCKED",n[n.DEFAULT=8]="DEFAULT",n[n.CHANGED=16]="CHANGED",n[n.PENDING=32]="PENDING",n[n.INVALID=64]="INVALID",t;var n})()},38610:(S,g,e)=>{"use strict";e.d(g,{x:()=>p});var t=e(70162),s=e(90850),i=e(18840),r=e(69989),a=e(56385),o=e(35811),d=e(47627),h=e(73569);class p extends d.H{constructor(m,v,E,C,T){super(T),this.fieldDefinition=m,this.entity=v,this.fieldValueActionsDispatcher=E,this.inlineEditGlobalService=C,this.validationErrors=[],this.validationErrors$=new s.xQ,this.status=h.I.INACTIVE|h.I.DEFAULT,this.status$=new i.X(h.I.INACTIVE),this.valueChange$=new s.xQ,this.markedToClear=!1}getEntity(){return this.entity}getFieldDefinition(){return this.fieldDefinition}start(){this.rememberInitialFormControlValue(),this.sendStatus()}submit(){this.isInvalid()&&this.updateValidationErrors(),this.noChangeNoticed()?(this.exit(),this.reportValueNotChanged()):this.isInvalid()?(this.inlineEditGlobalService.lock(),this.sendStatus(),this.sendErrors()):this.sendDataToSynchronization()}lock(){this.status=h.I.LOCKED,this.sendStatus()}exit(){this.status=h.I.INACTIVE|h.I.DEFAULT,this.destroy(),this.inlineEditGlobalService.unlock(),this.setFormToInitialValue(),this.sendStatus()}selectErrors(){return this.validationErrors$.asObservable()}selectStatus(){return this.status$.asObservable()}observeValueChange(){return this.valueChange$.asObservable()}setInitialEditorStatus(){this.status=h.I.ACTIVE|h.I.DEFAULT,this.sendStatus()}getRawDataValueForInlineEditorUpdate(){const m=super.getRawDataValueForUpdate();return delete m.dataTypeId,[{taskFieldId:this.fieldDefinition.getFieldId().toString(),value:JSON.stringify(m),dataTypeId:this.fieldDefinition.getDataType().getDataTypeId().toString()}]}handleStatusChange(m){this.status=h.I.ACTIVE|h.I.CHANGED,"INVALID"===m?(this.status|=h.I.INVALID,this.inlineEditGlobalService.lock()):this.sendStatus()}markForClear(){this.markedToClear=!0}reportValueNotChanged(){this.valueChange$.next(!1)}formRegistered(){this.start()}reportValueChanged(){this.valueChange$.next(!0)}rememberInitialFormControlValue(){this.initialFormControlValue=this.form.getRawValue()}noChangeNoticed(){var m;return!!(this.status&h.I.DEFAULT)&&(0,t.isEqual)(this.initialFormControlValue,null===(m=this.form)||void 0===m?void 0:m.getRawValue())}isInvalid(){return!!(this.status&h.I.INVALID)}sendStatus(){this.status$.next(this.status)}sendErrors(){this.validationErrors$.next(this.validationErrors)}setFormToInitialValue(){this.form.setValue(this.initialFormControlValue)}updateValidationErrors(){if(this.validationErrors=[],this.status&&h.I.INVALID)for(const m of Object.keys(this.form.controls))Object.keys(this.form.controls[m].errors).filter(v=>"valid"!==v).map(v=>{this.validationErrors.push(this.form.controls[m].errors[v])})}sendDataToSynchronization(){this.inlineEditGlobalService.unlock(),this.reportValueChanged(),this.status=h.I.ACTIVE|h.I.PENDING|h.I.CHANGED,this.sendStatus();const m=this.getRawDataValueForInlineEditorUpdate();(this.markedToClear?this.fieldValueActionsDispatcher.clear(this.entity.id,this.fieldDefinition.getFieldId().toString()):this.fieldValueActionsDispatcher.update(m,this.entity.id)).pipe((0,a.K)(E=>(0,r._)(E)),(0,o.R)(this.destroy$)).subscribe(()=>{this.markedToClear=!1,this.exit()},E=>{console.log("logged err",E),this.exit(),this.markedToClear=!1})}}},7280:(S,g,e)=>{"use strict";e.d(g,{V:()=>t,w:()=>n});var t=(()=>{return(s=t||(t={})).APPLICABLE="APPLICABLE",s.SEARCH="SEARCH",t;var s})();class n{isApplicable(){return this.getFilterType()===t.APPLICABLE}isSearch(){return this.getFilterType()===t.SEARCH}}},13354:(S,g,e)=>{"use strict";e.d(g,{J:()=>i});var t=e(21563),n=e(54511),s=e(7280);class i extends s.w{isEntityInFilter(a,o,d){return this.isDataValueInFilter(a.getDataValue(o.getFieldId()),d)}isDataValueInFilter(a,o){return 0===o.selectedDataValues.length||!!o.selectedDataValues.find(d=>d.hashCode()===a.hashCode())}getComponent(){return t.S}getDisplayName(){return"Color icon and name"}getUniqueName(){return"checkbox"}fromRaw(a,o){if(!a)return this.createEmpty();const d=a.selectedDataValues.map(h=>o.create(Object.assign(Object.assign({},h),{dataTypeId:h.dataTypeId.id.toString()})));return new n.E(d)}getFilterType(){return s.V.APPLICABLE}createEmpty(){return new n.E}}},21563:(S,g,e)=>{"use strict";e.d(g,{S:()=>b});var t=e(84046),n=e(70335),s=e(90850),i=e(96105),r=e(35811),a=e(98254),o=e(71726),d=e(54511),h=e(1352),p=e(24872),f=e(55331),m=e(5245),v=e(11507),E=e(65799);const C=["filteredOptionsContainer"];function T(x,B){1&x&&(t.TgZ(0,"span",13),t._uU(1),t.ALo(2,"spL10nText"),t.qZA()),2&x&&(t.xp6(1),t.hij("",t.lcZ(2,1,"SPT_COMMON_TABLE_GRID_FILTER_MENU_EMPTY_VALUE_LABEL")," "))}function y(x,B){if(1&x&&t._UZ(0,"sp-light-display-field-value",14),2&x){const M=t.oxw().$implicit,w=t.oxw(2);t.Q6J("fieldDefinition",w.fieldDefinition)("dataValue",M)}}function I(x,B){if(1&x&&(t.TgZ(0,"div",9),t._UZ(1,"sp-form-control-checkbox",10),t.YNc(2,T,3,3,"span",11),t.YNc(3,y,1,2,"ng-template",null,12,t.W1O),t.qZA()),2&x){const M=B.$implicit,w=B.index,K=t.MAs(4),k=t.oxw(2);t.Udp("transform",k.calculateFilteredValueOptionsPosition()),t.xp6(1),t.Q6J("formControl",k.checkboxControlsArray.controls[k.calculatedViewport.start+w]),t.xp6(1),t.Q6J("ngIf",M.isEmpty())("ngIfElse",K)}}function P(x,B){if(1&x&&(t.TgZ(0,"div"),t.YNc(1,I,5,5,"div",8),t.qZA()),2&x){const M=t.oxw();t.Udp("height",M.virtualListHeight,"px"),t.xp6(1),t.Q6J("ngForOf",M.visibleValues)}}function L(x,B){1&x&&t._UZ(0,"i",15)}function F(x,B){1&x&&(t.TgZ(0,"p",16),t._uU(1),t.ALo(2,"spL10nText"),t.qZA()),2&x&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"SPT_COMMON_TABLE_GRID_FILTER_MENU_NO_RESULTS_PLACEHOLDER")," "))}let b=(()=>{class x extends h.f{constructor(){super(...arguments),this.values=[],this.allValues=[],this.visibleValues=[],this.selectedDataValues=[],this.allOptionsSelected=!1,this.noOptionsSelected=!0,this.allDataValuesLoaded=!1,this.checkboxControlsArrayRefChanged$=new s.xQ}ngOnInit(){this.calculatedViewport={start:0,end:x.MAX_VISIBLE_ITEMS},this.fieldDefinition=this.fieldFilterConfig.getFieldDefinition(),this.observeDataValues(),this.observeAllDataValues(),this.observeAllLoadedState()}ngAfterViewInit(){this.observeScroll()}setDataTypeFilterConfig(M){super.setDataTypeFilterConfig(M),this.selectedDataValues=M.selectedDataValues}getHostClasses(){return["sp-data-type-filter-checkboxes"]}selectAll(){this.setAllValues(!0)}deselectAll(){this.setAllValues(!1)}calculateFilteredValueOptionsPosition(){return`translateY(${this.calculatedViewport.start*x.FILTERED_OPTION_HEIGHT}px)`}observeDataValues(){this.observeUniqueDataValues().pipe((0,i.x)(),this.takeUntilDestroy()).subscribe(M=>{this.setSelectedValues(),this.values=M,this.visibleValues=this.values.slice(this.calculatedViewport.start,this.calculatedViewport.end),this.virtualListHeight=this.values.length*x.FILTERED_OPTION_HEIGHT,this.rebuildFiltersForm(),this.changeDetectorRef.detectChanges()})}setAllValues(M){var w,K;M?null===(w=this.checkboxControlsArray)||void 0===w||w.setValue(this.values.map(()=>!0)):null===(K=this.checkboxControlsArray)||void 0===K||K.setValue(this.values.map(()=>!1)),this.changeDetectorRef.detectChanges()}rebuildFiltersForm(){const M=[],w=[];this.values.forEach(K=>{const k=!!this.selectedDataValues.find($=>$.equals(K)),G=new n.NI(k);w.push(k),M.push(G)}),this.checkboxControlsArray=new n.Oe(M),this.updateSelectionControls(w),this.checkboxControlsArrayRefChanged$.next(),this.observeCheckboxControlsArrayChanges(),this.changeDetectorRef.detectChanges()}observeCheckboxControlsArrayChanges(){this.checkboxControlsArray.valueChanges.pipe((0,r.R)(this.checkboxControlsArrayRefChanged$),this.takeUntilDestroy()).subscribe(M=>{this.updateSelectionControls(M);const w=this.values.filter((G,$)=>!!M[$]),k=[...this.getValuesFilteredOutBySearch(),...w];this.dataTypeFilterConfig=new d.E(k),this.emitConfig(),this.changeDetectorRef.detectChanges()})}getFilteredOptionsHtmlElement(){return this.filteredOptionsContainer.nativeElement}updateSelectionControls(M){this.allOptionsSelected=M.every(w=>w),this.noOptionsSelected=M.every(w=>!w)}observeScroll(){this.domManipulator.listen(this.getFilteredOptionsHtmlElement(),"scroll").pipe((0,a.e)(50),(0,o.U)(()=>p.$.calculateForItemSize(this.getFilteredOptionsHtmlElement().scrollTop,this.getFilteredOptionsHtmlElement().offsetHeight,x.FILTERED_OPTION_HEIGHT,2)),(0,i.x)((w,K)=>w.start===K.start&&w.end===K.end),this.takeUntilDestroy()).subscribe(w=>this.setViewport(w))}setViewport(M){this.calculatedViewport=M,this.visibleValues=this.values.slice(M.start,M.end),this.changeDetectorRef.detectChanges()}setSelectedValues(){var M;const w=null===(M=this.fieldFilterConfig.getFieldAttributeFiltersConfigs())||void 0===M?void 0:M.find(K=>"checkbox"===K.uniqueName);this.selectedDataValues=w.selectedDataValues}getValuesFilteredOutBySearch(){return this.selectedDataValues.map(M=>this.values.find(w=>w.equals(M))?null:M).filter(Boolean)}observeAllDataValues(){this.uniqueDataValuesStorageService.select(this.fieldDefinition.getFieldId().toString()).pipe(this.takeUntilDestroy()).subscribe(M=>{this.allValues=M})}observeAllLoadedState(){this.uniqueDataValuesLoadedStorageService.select().pipe(this.takeUntilDestroy()).subscribe(M=>{this.allDataValuesLoaded=M,this.changeDetectorRef.detectChanges()})}}return x.FILTERED_OPTION_HEIGHT=24,x.MAX_VISIBLE_ITEMS=14,x.\u0275fac=function(){let B;return function(w){return(B||(B=t.n5z(x)))(w||x)}}(),x.\u0275cmp=t.Xpm({type:x,selectors:[["sp-data-type-filter-checkboxes"]],viewQuery:function(M,w){if(1&M&&t.Gf(C,5,t.SBq),2&M){let K;t.iGM(K=t.CRH())&&(w.filteredOptionsContainer=K.first)}},features:[t.qOj],decls:14,vars:11,consts:[["name","select-all",1,"sp-btn","sp-btn-link","sp-font-medium","sp-text-xs",3,"disabled","click"],[1,"sp-text-xs","sp-mx-1"],["name","deselect-all",1,"sp-btn","sp-btn-link","sp-font-medium","sp-text-xs",3,"disabled","click"],[1,"sp-data-type-filter-checkboxes__options-container"],["filteredOptionsContainer",""],[3,"height",4,"ngIf","ngIfElse"],["class","fas fa-spin fa-spinner sp-text-center sp-icon-16 sp-text-xs !sp-flex sp-text-violet-primary sp-items-center sp-justify-center sp-m-auto",4,"ngIf"],["noValues",""],["class","sp-data-type-filter-checkboxes__option sp-flex sp-items-center",3,"transform",4,"ngFor","ngForOf"],[1,"sp-data-type-filter-checkboxes__option","sp-flex","sp-items-center"],[1,"sp-mr-1",3,"formControl"],["class","sp-data-type-filter-checkboxes--empty-value-label",4,"ngIf","ngIfElse"],["notEmpty",""],[1,"sp-data-type-filter-checkboxes--empty-value-label"],[3,"fieldDefinition","dataValue"],[1,"fas","fa-spin","fa-spinner","sp-text-center","sp-icon-16","sp-text-xs","!sp-flex","sp-text-violet-primary","sp-items-center","sp-justify-center","sp-m-auto"],["id","sp-no-results-label",1,"sp-text-center","sp-m-0","sp-mt-4","sp-mb-3","sp-px-1","sp-text-gray-50","sp-italic"]],template:function(M,w){if(1&M&&(t.TgZ(0,"button",0),t.NdJ("click",function(){return w.selectAll()}),t._uU(1),t.ALo(2,"spL10nText"),t.qZA(),t.TgZ(3,"span",1),t._uU(4,"/"),t.qZA(),t.TgZ(5,"button",2),t.NdJ("click",function(){return w.deselectAll()}),t._uU(6),t.ALo(7,"spL10nText"),t.qZA(),t.TgZ(8,"div",3,4),t.YNc(10,P,2,3,"div",5),t.qZA(),t.YNc(11,L,1,0,"i",6),t.YNc(12,F,3,3,"ng-template",null,7,t.W1O)),2&M){const K=t.MAs(13);t.Q6J("disabled",w.allOptionsSelected),t.xp6(1),t.hij(" ",t.lcZ(2,7,"SPT_COMMON_TABLE_GRID_FILTER_MENU_SELECT_ALL_BTN"),"\n"),t.xp6(4),t.Q6J("disabled",w.noOptionsSelected),t.xp6(1),t.hij(" ",t.lcZ(7,9,"SPT_COMMON_TABLE_GRID_FILTER_MENU_DESELECT_ALL_BTN"),"\n"),t.xp6(4),t.Q6J("ngIf",w.values.length&&w.fieldFilterConfig)("ngIfElse",K),t.xp6(1),t.Q6J("ngIf",!w.allDataValuesLoaded)}},directives:[f.O5,f.sg,m.B,n.JJ,n.oH,v.s],pipes:[E.L],styles:[".sp-data-type-filter-checkboxes__options-container{overflow:auto;max-width:274px;min-width:252px;max-height:224px}.sp-data-type-filter-checkboxes__option{width:200px}.sp-data-type-filter-checkboxes--empty-value-label{color:var(--gray-400)}\n"],encapsulation:2,changeDetection:0}),x})()},54511:(S,g,e)=>{"use strict";e.d(g,{E:()=>n});var t=e(44980);class n extends t.Z{constructor(i=[]){super(),this.selectedDataValues=i,this.uniqueName="checkbox"}isEmpty(){var i;return!(null===(i=this.selectedDataValues)||void 0===i?void 0:i.length)}getText(){return null}createEmpty(){return new n}}},86691:(S,g,e)=>{"use strict";e.d(g,{o:()=>i});var t=e(7280),n=e(68318),s=e(66958);class i extends t.w{isEntityInFilter(a,o,d){return this.isDataValueInFilter(a.getDataValue(o.getFieldId()),d)}isDataValueInFilter(a,o){var d,h;const p=a.getSearchValue();return Array.isArray(p)?0===(null==p?void 0:p.length)||p.some(f=>{var m;return null===(m=f.toLowerCase())||void 0===m?void 0:m.includes(o.searchText.toLowerCase())}):null===(h=null===(d=a.getSearchValue())||void 0===d?void 0:d.toLowerCase())||void 0===h?void 0:h.includes(o.searchText.toLowerCase())}getComponent(){return n.b}getDisplayName(){return"Search"}getUniqueName(){return"input"}fromRaw(a){return a?new s.k(a.searchText):this.createEmpty()}getFilterType(){return t.V.SEARCH}createEmpty(){return new s.k}}},68318:(S,g,e)=>{"use strict";e.d(g,{b:()=>r});var t=e(70335),n=e(66958),s=e(1352),i=e(84046);let r=(()=>{class a extends s.f{constructor(){super(...arguments),this.values=[],this.selectedDataValues=[],this.searchControl=new t.NI("")}ngOnInit(){this.fieldDefinition=this.fieldFilterConfig.getFieldDefinition()}ngAfterViewInit(){this.searchControl.valueChanges.pipe(this.takeUntilDestroy()).subscribe(d=>{this.dataTypeFilterConfig=new n.k(d),this.emitConfig()})}setDataTypeFilterConfig(d){super.setDataTypeFilterConfig(d),this.searchControl.setValue(d.searchText,{onlySelf:!0,emitEvent:!1})}}return a.\u0275fac=function(){let o;return function(h){return(o||(o=i.n5z(a)))(h||a)}}(),a.\u0275cmp=i.Xpm({type:a,selectors:[["sp-data-type-filter-input"]],features:[i.qOj],decls:3,vars:1,consts:[[1,"sp-form__group","sp-form__group--has-icon","!sp-mb-1"],["id","sp-table-grid-header-column-filtering-search","type","text","autocomplete","off",1,"sp-form-control","sp-form__group--control-icon",3,"formControl"],[1,"sp-form__group-icon","sp-cursor-default","fa","fa-search"]],template:function(d,h){1&d&&(i.TgZ(0,"div",0),i._UZ(1,"input",1),i._UZ(2,"i",2),i.qZA()),2&d&&(i.xp6(1),i.Q6J("formControl",h.searchControl))},directives:[t.Fj,t.JJ,t.oH],encapsulation:2,changeDetection:0}),a})()},66958:(S,g,e)=>{"use strict";e.d(g,{k:()=>n});var t=e(44980);class n extends t.Z{constructor(i=""){super(),this.searchText=i,this.uniqueName="input"}isEmpty(){var i;return!(null===(i=this.searchText)||void 0===i?void 0:i.length)}getText(){return this.searchText}createEmpty(){return new n}}},99609:(S,g,e)=>{"use strict";e.d(g,{J:()=>t});var t=(()=>{return(n=t||(t={})).ATTACHMENTS="ATTACHMENTS",n.AVATAR="AVATAR",n.AVATARS="AVATARS",n.AVATAR_AND_NAME="AVATAR_AND_NAME",n.BOX_TYPE_VALUE_LOZENGE="BOX_TYPE_VALUE_LOZENGE",n.BUILTIN_COLOR_ICON="BUILTIN_COLOR_ICON",n.BUILTIN_COLOR_ICON_AND_NAME="BUILTIN_COLOR_ICON_AND_NAME",n.BUILTIN_COLOR_NAME="BUILTIN_COLOR_NAME",n.BUILTIN_ICON_ICON="BUILTIN_ICON_ICON",n.DATE="DATE",n.DATE_TIME="DATE_TIME",n.ENTITY_KEY_LINK="ENTITY_KEY_LINK",n.HEX_COLOR="HEX_COLOR",n.ICON="ICON",n.ICON_AND_NAME="ICON_AND_NAME",n.ICON_AND_LINK="ICON_AND_LINK",n.ICON_AND_NAME_WITH_LINK="ICON_AND_NAME_WITH_LINK",n.LINK="LINK",n.LOZENGE="LOZENGE",n.STATUS_LOZENGE="STATUS_LOZENGE",n.LOZENGE_LINK="LOZENGE_LINK",n.MILESTONE_ICON="MILESTONE_ICON",n.MILESTONE_ICON_AND_NAME="MILESTONE_ICON_AND_NAME",n.MILESTONE_NAME="MILESTONE_NAME",n.PERCENTAGE_TEXT="PERCENTAGE_TEXT",n.PROGRESS_BAR="PROGRESS_BAR",n.PROGRESS_BAR_AND_PERCENTAGE="PROGRESS_BAR_AND_PERCENTAGE",n.TASK_KEY="TASK_KEY",n.TEXT="TEXT",n.RICH_TEXT="RICH_TEXT",n.TRAFFIC_LIGHT="TRAFFIC_LIGHT",n.VERSION="VERSION",n.PERIOD_MODE_ICON="PERIOD_MODE_ICON",n.PERIOD_MODE_ICON_AND_NAME="PERIOD_MODE_ICON_AND_NAME",n.PERIOD_MODE_NAME="PERIOD_MODE_NAME",n.ESTIMATE_FORMATTED_PRETTY_TEXT="ESTIMATE_FORMATTED_PRETTY_TEXT",n.ESTIMATE_FORMATTED_HOURS_TEXT="ESTIMATE_FORMATTED_HOURS_TEXT",n.ESTIMATE_FORMATTED_DECIMAL_PRETTY_TEXT="ESTIMATE_FORMATTED_DECIMAL_PRETTY_TEXT",n.ESTIMATE_NUMBER_OF_DAYS="ESTIMATE_NUMBER_OF_DAYS",n.URL_LINKS="URL_LINKS",n.PERCENTAGE_LOZENGE="PERCENTAGE_LOZENGE",n.STATUS_DESCRIPTION="STATUS_DESCRIPTION",n.SKILLS_ICON_NAME="SKILLS_ICON_NAME",n.SKILLS_NAME="SKILLS_NAME",n.SKILLS_ICON="SKILLS_ICON",n.STYLED_TEXT="STYLED_TEXT",n.NONE="NONE",t;var n})()},99768:(S,g,e)=>{"use strict";e.d(g,{M:()=>t});var t=(()=>{return(n=t||(t={})).ASSIGNEE="Assignee",n.BASELINE_END_DATE="Baseline End Date",n.BASELINE_START_DATE="Baseline Start Date",n.COLOR="Color",n.DURATION_CALENDAR_DAYS="Duration Calendar Days",n.DURATION_WORKING_DAYS="Duration Working Days",n.DURATION_TECHNICAL="Duration Technical",n.END_DATE="End Date",n.EXCLUSION_STATUS="Exclusion Status",n.ICON="Icon",n.KEY="Key",n.MILESTONE="Milestone",n.ORIGINAL_ESTIMATE="Original Estimate",n.PERIOD_MODE="Period Mode",n.PRIORITY="Priority",n.PROGRESS="Progress",n.REMAINING_ESTIMATE="Remaining Estimate",n.RISK_CONSEQUENCE="Risk Consequence",n.RISK_PROBABILITY="Risk Probability",n.SKILLS="Skills",n.START_DATE="Start Date",n.STATUS="Status",n.STORY_POINTS="Story Points",n.PARENTHOOD_STATUS="Parenthood status",n.SUMMARY="Summary",n.TIME_SPENT="Time Spent",n.TEAM_CODE="Team code",n.TEAM_ID="Team id",n.TIME_TRACKING="Time Tracking",n.MODIFICATION_TIME="Modification Time",n.WORKLOAD_CONTOURING_MODE="Workload contouring mode",t;var n})()},5498:(S,g,e)=>{"use strict";e.d(g,{x:()=>t});var t=(()=>{return(n=t||(t={}))[n.LEFT=0]="LEFT",n[n.CENTER=1]="CENTER",n[n.RIGHT=2]="RIGHT",t;var n})()},99236:(S,g,e)=>{"use strict";e.d(g,{y:()=>a});var t=e(71726),n=e(83155),s=e(84046),i=e(11531),r=e(83950);let a=(()=>{class o extends n.a{constructor(h,p){super(h),this.environmentService=p,this.url="util/datatype"}getRestUrl(h){return this.environmentService.getRestBaseUrl()+h}fetchAvailableDataTypes(){return this.get(`${this.url}/available`).pipe((0,t.U)(h=>h.dataTypes))}}return o.\u0275fac=function(h){return new(h||o)(s.LFG(i.O),s.LFG(r.L))},o.\u0275prov=s.Yz7({token:o,factory:o.\u0275fac}),o})()},73088:(S,g,e)=>{"use strict";e.d(g,{N:()=>s});var t=e(73147),n=e(84046);let s=(()=>{class i extends t.H{executeCustomAction(a,o,d){}isCustomActionDefinedForField(a){return!1}getFieldNavigationAction(a,o,d){}isNavigationActionDefinedForField(a){return!1}}return i.\u0275fac=function(){let r;return function(o){return(r||(r=n.n5z(i)))(o||i)}}(),i.\u0275prov=n.Yz7({token:i,factory:i.\u0275fac}),i})()},66270:(S,g,e)=>{"use strict";e.d(g,{e:()=>T});var t=e(71726),n=e(83155),s=e(11534),i=e(69417),r=e(79657),a=e(60903),o=e(23418),d=e(99768),h=e(17542),p=function(y,I,P,L){var x,F=arguments.length,b=F<3?I:null===L?L=Object.getOwnPropertyDescriptor(I,P):L;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)b=Reflect.decorate(y,I,P,L);else for(var B=y.length-1;B>=0;B--)(x=y[B])&&(b=(F<3?x(b):F>3?x(I,P,b):x(I,P))||b);return F>3&&b&&Object.defineProperty(I,P,b),b},f=function(y,I){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(y,I)};class m extends h.M{getClassName(){return"GlobalTaskFieldIdDTO"}}p([(0,a.qA)(),f("design:type",Number)],m.prototype,"fieldId",void 0),p([(0,o.GT)(d.M),f("design:type",String)],m.prototype,"name",void 0);var v=e(84046),E=e(11531),C=e(83950);let T=(()=>{class y extends n.a{constructor(P,L,F){super(P),this.environmentService=L,this.domainFieldsRepository=F,this.url="ppm/task/core"}initDomainFields(){return this.fetchAllAvailable().pipe((0,t.U)(P=>{this.domainFieldsRepository.init(P)}))}getRestUrl(P){return this.environmentService.getRestBaseUrl()+P}fetchAllAvailable(){return this.get(`${this.url}/global/fields`).pipe((0,r.J)(m),(0,t.U)(P=>new Map(P.map(L=>[L.name,i.Z.fromNumber(L.fieldId)]))))}}return y.\u0275fac=function(P){return new(P||y)(v.LFG(E.O),v.LFG(C.L),v.LFG(s.m))},y.\u0275prov=v.Yz7({token:y,factory:y.\u0275fac}),y})()},17583:(S,g,e)=>{"use strict";e.d(g,{q:()=>h});var t=e(69989),n=e(71726),s=e(56385),i=e(45635),r=e(84046),a=e(82471),o=e(36846),d=e(9474);let h=(()=>{class p{constructor(m,v,E){this.fieldValueChangeSubject$=m,this.fieldValueErrorSubject$=v,this.fieldValueResource=E}clear(m,v){return this.fieldValueResource.clear(m,v).pipe((0,n.U)(E=>{this.fieldValueChangeSubject$.next(E)}),(0,s.K)(E=>(this.fieldValueErrorSubject$.next(E),(0,t._)(E))))}update(m,v){return this.fieldValueResource.update(m,v).pipe((0,i.b)(E=>{this.fieldValueChangeSubject$.next(E)}),(0,s.K)(E=>(this.fieldValueErrorSubject$.next(E),(0,t._)(E))))}getAvailableFieldOptions(m,v){return this.fieldValueResource.getAvailableFieldOptions(m,v)}}return p.\u0275fac=function(m){return new(m||p)(r.LFG(a.N),r.LFG(o.R),r.LFG(d.w))},p.\u0275prov=r.Yz7({token:p,factory:p.\u0275fac}),p})()},87156:(S,g,e)=>{"use strict";e.d(g,{H:()=>f});var t=e(2421),n=e(50870),s=e(17542),i=function(m,v,E,C){var I,T=arguments.length,y=T<3?v:null===C?C=Object.getOwnPropertyDescriptor(v,E):C;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)y=Reflect.decorate(m,v,E,C);else for(var P=m.length-1;P>=0;P--)(I=m[P])&&(y=(T<3?I(y):T>3?I(v,E,y):I(v,E))||y);return T>3&&y&&Object.defineProperty(v,E,y),y},r=function(m,v){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(m,v)};class a extends s.M{getClassName(){return"DataTypeDateFormatsDTO"}}i([(0,n.XV)(),r("design:type",String)],a.prototype,"dateFormat",void 0),i([(0,n.XV)(),r("design:type",String)],a.prototype,"dateTimeFormat",void 0),i([(0,n.XV)(),r("design:type",String)],a.prototype,"decimalFormat",void 0),i([(0,n.XV)(),r("design:type",String)],a.prototype,"defaultLocale",void 0),i([(0,n.XV)(),r("design:type",String)],a.prototype,"timeZone",void 0);var o=e(83155),d=e(84046),h=e(11531),p=e(83950);let f=(()=>{class m extends o.a{constructor(E,C){super(E),this.environmentService=C}getFormats(){return this.get("").pipe((0,t.W)(a))}getRestUrl(){return this.environmentService.getRestBaseUrl()+"tenant-system/l10n/info"}}return m.\u0275fac=function(E){return new(E||m)(d.LFG(h.O),d.LFG(p.L))},m.\u0275prov=d.Yz7({token:m,factory:m.\u0275fac}),m})()},7845:(S,g,e)=>{"use strict";e.d(g,{o:()=>s});var t=e(19327),n=e(78808);class s{static fromBuiltinIcon(r){return new n.O(r.icon,t.B[r.builtinColor.value])}}},37544:(S,g,e)=>{"use strict";e.d(g,{$:()=>Ce});var t=e(55331),n=e(90850),s=e(73197),i=e(49549),r=e(38009),a=e(70822),o=e(96105),d=e(63833),h=e(93676),p=e(71726),f=e(35811),m=e(37042),E=(e(4742),e(73569)),C=e(38610),y=(e(70204),e(72090)),I=e(40209),P=e(95486),L=e(62546),F=e(53770),b=e(71118),x=e(84046),B=e(70335),M=e(18655),w=e(17583),K=e(89764),k=e(5425),G=e(8163),$=e(67813),X=e(8816),ie=e(84042);function se(ye,de){if(1&ye&&x._UZ(0,"sp-field-value-editor",2),2&ye){const Ie=x.oxw();x.Q6J("fieldDefinition",Ie.fieldDefinition)("editor",Ie.editor)}}function pe(ye,de){if(1&ye&&x._UZ(0,"sp-display-field-value",3),2&ye){const Ie=x.oxw();x.ekj("sp-cursor-not-allowed",Ie.isLocked())("sp-cursor-default",Ie.editable)("sp-border-0",Ie.editable)("sp-editable",Ie.editable),x.Q6J("editable",Ie.editable)("entity",Ie._entity)("fieldDefinition",Ie.fieldDefinition)("dataValue",Ie.dataValue)("width",Ie.width)}}let Ce=(()=>{class ye extends L.H{constructor(Ie,He,Ve,Ue,xe,gt,tt,lt,Mt,ne,De,Ye,Qe,Ke){super(Ie,He),this.changeDetectorRef=Ve,this.formBuilder=Ue,this.permissionService=xe,this.fieldValuesEditAbility=gt,this.fieldValueActionsDispatcher=tt,this.inlineEditGlobalService=lt,this.validationDotFactory=Mt,this.dataValueFactory=ne,this.fieldValueScrollHandlerService=De,this.document=Ye,this.fieldValueRepository=Qe,this.hostConnector=Ke,this._entity=null,this.editorStatus=E.I.INACTIVE,this.editMode=!1,this.editable=!1,this.isInitialized=!1,this.stopListenOtherFieldsEditStart$=new n.xQ,this.unsubscribe$=new n.xQ,this.editorDestroyed$=new n.xQ,this.fieldChanged$=new n.xQ,this.handleScrollRef=this.handleScroll.bind(this),this.validationDot=null,this.aggregatedFieldInlineEditInProgress=!1}ngOnChanges(Ie){Ie.entity&&(!this.entityId||!this.fieldValueRepository)&&(this._entity=this.entity),this.isDataForTemplatesChanged(Ie)&&!this.aggregatedFieldInlineEditInProgress&&this.setDataValueForDisplay()}ngOnInit(){this.fieldValueRepository&&(this.observeEntityRepository(),this.observeFieldChanges()),this.observeForEditAvailable(),this.observeIsEntityParent(),this.isInitialized=!0}finalize(){this.unsubscribe$.next(),this.unsubscribe$.complete(),this.editorDestroyed$.complete(),this.stopListenOtherFieldsEditStart$.next(),this.stopListenOtherFieldsEditStart$.complete(),this.inlineEditGlobalService.unlock(),this.destroyValidationDotIfPresent()}isDisplayMode(){return!!(this.editorStatus&E.I.INACTIVE||this.editorStatus&E.I.LOCKED)}isLocked(){return this.editorStatus===E.I.LOCKED}handleInlineEdit(){var Ie;(null===(Ie=this.fieldDefinition)||void 0===Ie?void 0:Ie.aggregation)!==F.H?this.handleInlineEditForAggregatedFields():this.switchToEditMode()}getHostClasses(){return["sp-field-value","sp-w-full","sp-h-full","sp-block","sp-min-w-0","sp-border-transparent-2"]}handleListeners(){this.shouldRemoveListeners()?(this.dblClickMouseEvent$.unsubscribe(),this.dblClickMouseEvent$=null,this.domManipulator.removeClass(this.elementRef.nativeElement,"sp-field-value--editable-field")):this.shouldAddListeners()&&(this.observeDblClickMouseEvent(),this.domManipulator.addClass(this.elementRef.nativeElement,"sp-field-value--editable-field"))}shouldRemoveListeners(){return this.dblClickMouseEvent$&&this.isInlineEditingDisabled()}shouldAddListeners(){return!this.dblClickMouseEvent$&&!this.isInlineEditingDisabled()}isInlineEditingDisabled(){var Ie,He;const Ve=this.editorStatus===E.I.LOCKED,Ue=this._entity&&this._entity.fieldsEditability&&!(null===(Ie=this._entity)||void 0===Ie?void 0:Ie.fieldsEditability[this.fieldDefinition.getFieldId().toString()]),xe=!(null===(He=this.fieldDefinition)||void 0===He?void 0:He.aggregation.equals(F.H))&&this.isEntityParent();return Ue||Ve||!this.editable||xe}observeDblClickMouseEvent(){this.dblClickMouseEvent$=(0,s.R)(this.elementRef.nativeElement,"dblclick").pipe((0,a.h)(Ie=>this.isDblClickOnDisplayFiledValueComponent(Ie)),this.takeUntilDestroy()).subscribe(Ie=>{!this.inlineEditGlobalService.isLocked()&&!this.isInlineEditingDisabled()&&this.handleInlineEdit(),Ie.stopPropagation()})}isDblClickOnDisplayFiledValueComponent(Ie){return!!Ie.target.closest("sp-display-field-value")}observeEntityRepository(){this.fieldValueRepository.selectEntity$(this.entityId).pipe((0,a.h)(Ie=>!!Ie&&!!Ie.getFieldCollection()),(0,o.x)((Ie,He)=>this.isEntityNotChanged(Ie,He)),this.takeUntilDestroy()).subscribe(Ie=>{this.isEntityFieldSet()&&this.fieldChanged$.next(),this._entity=Ie,this.setDataValueForDisplay(),this.isInitialized&&this.changeDetectorRef.detectChanges()})}isEntityNotChanged(Ie,He){return this.fieldDefinition.aggregation.isNone()?this.compareEntitiesByNoneAggregatedDataValue(Ie,He):this.compareEntitiesByNoneAggregatedDataValue(Ie,He)&&this.compareEntitiesByAggregatedDataValue(Ie,He)}compareEntitiesByNoneAggregatedDataValue(Ie,He){const Ve=Ie.getDataValue(this.fieldDefinition.getFieldId()),Ue=He.getDataValue(this.fieldDefinition.getFieldId());return Ve&&Ve.equals(Ue)||Ve===Ue}compareEntitiesByAggregatedDataValue(Ie,He){const Ve=Ie.getDataValue(this.fieldDefinition.getFieldId(),this.fieldDefinition.aggregation),Ue=He.getDataValue(this.fieldDefinition.getFieldId(),this.fieldDefinition.aggregation);return Ve&&Ve.equals(Ue)||Ve===Ue}handleInlineEditForAggregatedFields(){this.isEntityParent()||(this.fieldDefinitionSavedState=this.fieldDefinition,this.fieldDefinition=this.cloneFieldDefinition().aggregated(F.H),this.aggregatedFieldInlineEditInProgress=!0,this.setDataValueForDisplay(),this.switchToEditMode(),this.changeDetectorRef.detectChanges(),this.editor.observeValueChange().pipe((0,d.q)(1),(0,h.j)(Ie=>(0,i.H)(Ie?ye.AGGREGATED_FIELD_INLINE_EDIT_ANIMATION_TIME:0)),this.takeUntilDestroy()).subscribe(()=>{this.aggregatedFieldInlineEditInProgress=!1,this.fieldDefinition=this.fieldDefinitionSavedState,this.setDataValueForDisplay(),this.changeDetectorRef.detectChanges()}))}createEditor(){this.editor=new C.x(this.fieldDefinition,this._entity,this.fieldValueActionsDispatcher,this.inlineEditGlobalService,this.dataValueFactory),this.fieldValueScrollHandlerService.setEditor(this.editor)}prepareFormAndEditor(){this.createEditor(),this.observeForEditorErrors(),this.observeForEditorStatus()}observeForEditAvailable(){this.fieldValuesEditAbility.editAvailable$.pipe((0,a.h)(()=>!!this._entity),(0,p.U)(Ie=>Ie&&this.resolveIsEditable()),(0,f.R)(this.unsubscribe$),this.takeUntilDestroy()).subscribe(Ie=>{!Ie&&this.editor&&this.editor.exit(),this.editable=Ie,this.handleListeners()})}observeIsEntityParent(){this.fieldValuesEditAbility.entityIdsToIsParentChanged$.pipe(this.takeUntilDestroy()).subscribe(()=>{this.fieldDefinition.aggregation!==F.H&&this.handleListeners()})}observeForEditorErrors(){this.editor.selectErrors().pipe((0,f.R)((0,r.T)(this.unsubscribe$,this.editorDestroyed$)),this.takeUntilDestroy()).subscribe(Ie=>{this.destroyValidationDotIfPresent(),this.validationDot=this.validationDotFactory.create(this.elementRef,Ie,I.G.default().build(),!0,this.fieldDefinition.getDataType().getDataTypeId().toString()),this.fieldValueScrollHandlerService.attachScrollListener()})}handleScroll(){var Ie;this.switchToDisplayMode(),null===(Ie=this.editor)||void 0===Ie||Ie.reportValueNotChanged(),this.fieldValueScrollHandlerService.detachScrollListener()}observeForEditorStatus(){this.editor.selectStatus().pipe((0,f.R)((0,r.T)(this.unsubscribe$,this.editorDestroyed$)),this.takeUntilDestroy()).subscribe(Ie=>{const Ve=this.oneOfActiveFlagChanged(Ie,E.I.ACTIVE|E.I.INACTIVE);this.editorStatus=Ie,this.resolveStylesForEditorStatusChange(),this.editorStatus&E.I.INACTIVE&&this.stopListenOtherFieldsEditStart$.next(),this.editorStatus&E.I.LOCKED?(this.unsubscribe$.next(),this.unsubscribe$.complete(),this.stopListenOtherFieldsEditStart$.next()):this.editorStatus&E.I.INACTIVE&&!Ve&&this.reportEditEnd(),this.destroyValidationDotIfPresent(),this.changeDetectorRef.detectChanges()})}oneOfActiveFlagChanged(Ie,He){return Ie&He&this.editorStatus&He}switchToEditMode(){this.prepareFormAndEditor(),this.reportEditStart(),this.observeOtherFieldEditStart(),this.editor.setInitialEditorStatus()}switchToDisplayMode(){this.stopListenOtherFieldsEditStart$.next(),this.editor.exit(),this.reportEditEnd()}reportEditStart(){this.inlineEditGlobalService.reportEditStart(),this.hostConnector&&this.hostConnector.reportEditModeChange(!0)}reportEditEnd(){this.inlineEditGlobalService.reportEditEnd(),this.hostConnector&&this.hostConnector.reportEditModeChange(!1)}setDataValueForDisplay(){this.dataValue=this.fieldDefinition.getDataValue(this._entity)}resolveIsEditable(){return this.fieldValuesEditAbility.editableForField(this.fieldDefinition.getDataType().getDataTypeId())&&this.fieldValuesEditAbility.isDomainFieldEditable(this.fieldDefinition.getFieldId())&&this._entity.editable&&this.fieldDefinition.getEditable()&&this.hasPermissionToEditView()}observeOtherFieldEditStart(){this.inlineEditGlobalService.observeEditStart().pipe((0,f.R)(this.stopListenOtherFieldsEditStart$),this.takeUntilDestroy()).subscribe(()=>{this.editor.submit()})}hasPermissionToEditView(){return this.permissionService.isEditable()}observeFieldChanges(){this.fieldChanged$.pipe(this.takeUntilDestroy()).subscribe(()=>{this.notifyAboutChange()})}notifyAboutChange(){this.domManipulator.addHostClass("sp-field-value-changed"),(0,i.H)(500).pipe(this.takeUntilDestroy()).subscribe(()=>{this.domManipulator.removeHostClass("sp-field-value-changed")})}isEntityFieldSet(){return null!==this._entity}destroyValidationDotIfPresent(){null!==this.validationDot&&(this.validationDot.destroy(),this.fieldValueScrollHandlerService.detachScrollListener(),this.validationDot=null)}resolveStylesForEditorStatusChange(){this.editorStatus&E.I.ACTIVE?(this.domManipulator.addHostStyle("border","none"),this.domManipulator.addHostStyle("background","transparent")):(this.domManipulator.removeHostStyle("border"),this.domManipulator.removeHostStyle("background"))}cloneFieldDefinition(){return this.fieldDefinition.getDataType().getFieldBuilder(this.fieldDefinition.getFieldId()).withAggregation(this.fieldDefinition.aggregation).withEditable(this.fieldDefinition.getEditable()).withFieldName(this.fieldDefinition.getFieldName()).withDecorator(this.fieldDefinition.getDecoratorType()).withLabelName(this.fieldDefinition.getLabelName()).build()}isDataForTemplatesChanged(Ie){return b.l.isDefined(this._entity)&&b.l.isDefined(this.fieldDefinition)&&(Ie.entity&&!this.fieldValueRepository||!!Ie.fieldDefinition)}isEntityParent(){return this.fieldValuesEditAbility.isEntityParent(this._entity.id)||void 0===this.fieldValuesEditAbility.isEntityParent(this._entity.id)}}return ye.AGGREGATED_FIELD_INLINE_EDIT_ANIMATION_TIME=2e3,ye.\u0275fac=function(Ie){return new(Ie||ye)(x.Y36(x.SBq),x.Y36(x.Qsj),x.Y36(x.sBO),x.Y36(B.qu),x.Y36(M.o),x.Y36(y.n),x.Y36(w.q),x.Y36(K.Z),x.Y36(P.y),x.Y36(m.e),x.Y36(k.t),x.Y36(t.K0),x.Y36(G.Q,8),x.Y36($.E,8))},ye.\u0275cmp=x.Xpm({type:ye,selectors:[["sp-field-value"]],inputs:{entity:"entity",entityId:"entityId",fieldDefinition:"fieldDefinition",width:"width"},features:[x.qOj,x.TTD],decls:2,vars:2,consts:[["class","sp-flex sp-items-center sp-w-full sp-h-full",3,"fieldDefinition","editor",4,"ngIf"],["class","sp-flex sp-items-center sp-w-full sp-h-full sp-px-2",3,"sp-cursor-not-allowed","sp-cursor-default","sp-border-0","sp-editable","editable","entity","fieldDefinition","dataValue","width",4,"ngIf"],[1,"sp-flex","sp-items-center","sp-w-full","sp-h-full",3,"fieldDefinition","editor"],[1,"sp-flex","sp-items-center","sp-w-full","sp-h-full","sp-px-2",3,"editable","entity","fieldDefinition","dataValue","width"]],template:function(Ie,He){1&Ie&&(x.YNc(0,se,1,2,"sp-field-value-editor",0),x.YNc(1,pe,1,13,"sp-display-field-value",1)),2&Ie&&(x.Q6J("ngIf",!He.isDisplayMode()),x.xp6(1),x.Q6J("ngIf",He._entity&&He.isDisplayMode()))},directives:[t.O5,X.X,ie.h],styles:[".sp-field-value.sp-field-value-changed{border-radius:var(--border-radius-m);animation:changed .25s linear}@keyframes changed{0%{background:var(--yellow-100)}to{background:transparent}}.sp-field-value--editable-field:hover{background:var(--color-bg);border-radius:var(--border-radius-m);border:2px solid var(--gray-30)}\n"],encapsulation:2,changeDetection:0}),ye})()},67813:(S,g,e)=>{"use strict";e.d(g,{E:()=>s});var t=e(90850),n=e(84046);let s=(()=>{class i{constructor(){this.editStatus$=new t.xQ}selectEditStatus(){return this.editStatus$.asObservable()}reportEditModeChange(a){this.editStatus$.next(a)}}return i.\u0275fac=function(a){return new(a||i)},i.\u0275prov=n.Yz7({token:i,factory:i.\u0275fac}),i})()},45669:(S,g,e)=>{"use strict";e.d(g,{D:()=>v});var t=e(90850),n=e(73197),s=e(49549),i=e(35811),a=(e(70204),e(5498)),o=e(96804),d=e(62546),h=e(84046),p=e(73147);const f=["customActionContainer"];let v=(()=>{class E extends d.H{constructor(T,y,I,P,L){super(y,T),this.changeDetectorRef=I,this.injector=P,this.fieldCustomActions=L,this.tooltipEnabled=!0,this.dblClickDebounce$=new t.xQ}ngOnInit(){this.fieldCustomActions&&this.fieldCustomActions.isCustomActionDefinedForField(this.fieldDefinition.getFieldId())&&(this.renderer.addClass(this.elementRef.nativeElement,"is-custom-action"),this.renderer.addClass(this.elementRef.nativeElement,"sp-cursor-pointer"),this.renderer.addClass(this.elementRef.nativeElement,"sp-btn-link"),this.addCustomActionListener())}isCustomActionDefined(){return this.fieldCustomActions&&this.fieldCustomActions.isCustomActionDefinedForField(this.fieldDefinition.getFieldId())}isNavigationActionDefined(){return this.fieldCustomActions&&this.fieldCustomActions.isNavigationActionDefinedForField(this.fieldDefinition.getFieldId())}getCustomNavigationAction(){return this.fieldCustomActions&&this.fieldCustomActions.getFieldNavigationAction(this.fieldDefinition.getFieldId(),this.entity,this.injector)}getTooltipText(){return o.y.getTooltipText(this.fieldDefinition,this.entity)}detectChanges(){this.changeDetectorRef.detectChanges()}setFieldDefinition(T){this.fieldDefinition=T}setEntity(T){this.entity=T}setDataValue(T){this.dataValue=T}setWidth(T){this.width=T}setTooltipEnabled(T){this.tooltipEnabled=T}getHostClasses(){return["sp-w-full","sp-h-full","sp-flex","sp-items-center","sp-display-field"]}addCustomActionListener(){var T,y;(0,n.R)(null!==(y=null===(T=this.customActionContainer)||void 0===T?void 0:T.nativeElement)&&void 0!==y?y:this.elementRef.nativeElement,"click").pipe(this.takeUntilDestroy()).subscribe(()=>{this.dblClickDebounce$.next(),(0,s.H)(300).pipe((0,i.R)(this.dblClickDebounce$),this.takeUntilDestroy()).subscribe(()=>{this.dblClickDebounce$.next(),this.fieldCustomActions.executeCustomAction(this.fieldDefinition.getFieldId(),this.entity,this.injector)})}),(0,n.R)(this.elementRef.nativeElement,"dblclick").pipe(this.takeUntilDestroy()).subscribe(()=>{this.dblClickDebounce$.next()})}setAlignmentClass(T){let y;switch(this.fieldDefinition.alignment){case a.x.LEFT:y="sp-justify-start";break;case a.x.CENTER:y="sp-justify-center";break;case a.x.RIGHT:y="sp-justify-end"}T&&y&&this.renderer.addClass(T.nativeElement,y)}}return E.\u0275fac=function(T){return new(T||E)(h.Y36(h.Qsj),h.Y36(h.SBq),h.Y36(h.sBO),h.Y36(h.zs3),h.Y36(p.H,8))},E.\u0275dir=h.lG2({type:E,viewQuery:function(T,y){if(1&T&&h.Gf(f,5),2&T){let I;h.iGM(I=h.CRH())&&(y.customActionContainer=I.first)}},inputs:{fieldDefinition:"fieldDefinition",dataValue:"dataValue",entity:"entity",width:"width",tooltipEnabled:"tooltipEnabled"},features:[h.qOj]}),E})()},84042:(S,g,e)=>{"use strict";e.d(g,{h:()=>P});var t=e(84046),i=(e(4742),e(70204),e(96804)),r=e(71118),a=e(62546),o=e(70162),h=e(69032),p=e(67813),f=e(55331),m=e(68890),v=e(94944);const E=["fieldValue"];function C(L,F){if(1&L&&(t.TgZ(0,"div",3),t.ALo(1,"spRichTextString"),t.TgZ(2,"span",4),t._uU(3),t.qZA(),t.qZA()),2&L){const b=t.oxw();t.Q6J("spTooltipEnabled",!!b.getTooltipText())("spTooltip",t.lcZ(1,3,b.getTooltipText())),t.xp6(3),t.hij(" ",b.fieldDefinition.getLabelName()," ")}}function T(L,F){if(1&L&&(t._UZ(0,"div",6),t.ALo(1,"spRichTextString")),2&L){const b=t.oxw(2);t.Q6J("spTooltipEnabled",!!b.getTooltipText())("spTooltip",t.lcZ(1,2,b.getTooltipText()))}}function y(L,F){if(1&L&&t.YNc(0,T,2,4,"div",5),2&L){const b=t.oxw(),x=t.MAs(4);t.Q6J("ngIf",!b.dataValue)("ngIfElse",x)}}function I(L,F){}let P=(()=>{class L extends a.H{constructor(b,x,B,M,w,K){super(b,x),this.changeDetectorRef=B,this.displayComponentFactory=M,this.injector=w,this.hostConnector=K,this.tooltipEnabled=!0,this.showPlaceholder=!1}ngOnChanges(b){this.shouldCreateInitialDisplayComponent()&&this.createDisplayComponent(),this.shouldRecreateDisplayComponent(b)&&this.recreateDisplayComponent(),b.entity&&b.entity.currentValue&&this.setDisplayComponentEntity(this.entity),b.dataValue&&b.dataValue&&this.setDisplayComponentDataValue(this.dataValue),b.width&&r.l.isDefined(b.width.currentValue)&&this.setDisplayComponentWidth(this.width),b.tooltipEnabled&&r.l.isDefined(b.tooltipEnabled.currentValue)&&this.setDisplayComponentTooltipEnabled(this.tooltipEnabled),this.displayComponentRef&&this.displayComponentRef.instance.detectChanges()}ngOnInit(){this.hostConnector&&this.hostConnector.shouldShowPlaceholders().pipe(this.takeUntilDestroy()).subscribe(b=>{this.showPlaceholder=b&&this.shouldDisplayPlaceholder(),this.changeDetectorRef.detectChanges()})}getTooltipText(){return i.y.getTooltipText(this.fieldDefinition,this.entity)}getHostClasses(){return["sp-display-field-value"]}shouldDisplayPlaceholder(){return!r.l.isDefined(this.dataValue)||this.dataValue.isEmpty()}recreateDisplayComponent(){var b,x;null===(b=this.displayRef)||void 0===b||b.clear(),null===(x=this.displayComponentRef)||void 0===x||x.destroy(),this.createDisplayComponent()}createDisplayComponent(){this.displayComponentRef=this.displayComponentFactory.createDisplayComponent(this.fieldDefinition,this.dataValue,this.injector),this.initDisplayComponentRefInputs(),this.displayComponentFactory.injectDisplayComponent(this.displayRef,this.displayComponentRef)}initDisplayComponentRefInputs(){!this.displayComponentRef||(this.setDisplayComponentEntity(this.entity),this.setDisplayComponentFieldDefinition(this.fieldDefinition),this.setDisplayComponentDataValue(this.dataValue),this.setDisplayComponentWidth(this.width),this.setDisplayComponentTooltipEnabled(this.tooltipEnabled),this.displayComponentRef.instance.detectChanges())}setDisplayComponentFieldDefinition(b){var x;null===(x=this.displayComponentRef)||void 0===x||x.instance.setFieldDefinition(b)}setDisplayComponentEntity(b){var x;null===(x=this.displayComponentRef)||void 0===x||x.instance.setEntity(b)}setDisplayComponentDataValue(b){var x;null===(x=this.displayComponentRef)||void 0===x||x.instance.setDataValue(b)}setDisplayComponentWidth(b){var x;null===(x=this.displayComponentRef)||void 0===x||x.instance.setWidth(b)}setDisplayComponentTooltipEnabled(b){var x;null===(x=this.displayComponentRef)||void 0===x||x.instance.setTooltipEnabled(b)}shouldCreateInitialDisplayComponent(){return this.isDataValuePresent(this.dataValue)&&!r.l.isDefined(this.displayComponentRef)}shouldRecreateDisplayComponent(b){var x,B,M,w,K,k,G;const $=b.fieldDefinition&&(null===(x=b.fieldDefinition)||void 0===x?void 0:x.currentValue)||b.dataValue&&(null===(B=b.dataValue)||void 0===B?void 0:B.currentValue),X=this.isDataValuePresent(null===(M=b.dataValue)||void 0===M?void 0:M.previousValue)&&(!(0,o.isEqual)(null===(w=b.fieldDefinition)||void 0===w?void 0:w.currentValue,null===(K=b.fieldDefinition)||void 0===K?void 0:K.previousValue)||!(0,o.isEqual)(null===(k=b.dataValue)||void 0===k?void 0:k.currentValue,null===(G=b.dataValue)||void 0===G?void 0:G.previousValue));return $&&X}isDataValuePresent(b){return r.l.isDefined(b)&&!b.isEmpty()}}return L.\u0275fac=function(b){return new(b||L)(t.Y36(t.SBq),t.Y36(t.Qsj),t.Y36(t.sBO),t.Y36(h.J),t.Y36(t.zs3),t.Y36(p.E,8))},L.\u0275cmp=t.Xpm({type:L,selectors:[["sp-display-field-value"]],viewQuery:function(b,x){if(1&b&&t.Gf(E,7,t.s_b),2&b){let B;t.iGM(B=t.CRH())&&(x.displayRef=B.first)}},inputs:{entity:"entity",fieldDefinition:"fieldDefinition",dataValue:"dataValue",width:"width",editable:"editable",tooltipText:"tooltipText"},features:[t.qOj,t.TTD],decls:5,vars:2,consts:[["class","sp-field-placeholder sp-overflow-hidden sp-whitespace-nowrap sp-w-full sp-h-full sp-dt-display-tooltip sp-flex sp-items-center",3,"spTooltipEnabled","spTooltip",4,"ngIf","ngIfElse"],["emptyFieldValue",""],["fieldValue",""],[1,"sp-field-placeholder","sp-overflow-hidden","sp-whitespace-nowrap","sp-w-full","sp-h-full","sp-dt-display-tooltip","sp-flex","sp-items-center",3,"spTooltipEnabled","spTooltip"],[1,"sp-field-placeholder__text"],["class","sp-w-full sp-h-full sp-dt-display-tooltip sp-flex sp-items-center",3,"spTooltipEnabled","spTooltip",4,"ngIf","ngIfElse"],[1,"sp-w-full","sp-h-full","sp-dt-display-tooltip","sp-flex","sp-items-center",3,"spTooltipEnabled","spTooltip"]],template:function(b,x){if(1&b&&(t.YNc(0,C,4,5,"div",0),t.YNc(1,y,1,2,"ng-template",null,1,t.W1O),t.YNc(3,I,0,0,"ng-template",null,2,t.W1O)),2&b){const B=t.MAs(2);t.Q6J("ngIf",x.showPlaceholder)("ngIfElse",B)}},directives:[f.O5,m.i9],pipes:[v.C],styles:["sp-display-field-value .sp-field-placeholder{color:var(--gray-60);animation:opacity .5s linear}@keyframes opacity{0%{opacity:0}25%{opacity:0}50%{opacity:0}75%{opacity:.5}to{opacity:1}}\n"],encapsulation:2,changeDetection:0}),L})()},72650:(S,g,e)=>{"use strict";e.d(g,{m:()=>d});var t=e(45669),n=e(84046),s=e(55331),i=e(68890),r=e(94944);function a(h,p){if(1&h&&(n.ynx(0),n.TgZ(1,"a",3),n._uU(2),n.qZA(),n.BQk()),2&h){const f=p.$implicit,m=n.oxw(2);n.xp6(1),n.s9C("href",m.getAttachmentUrl(f),n.LSH),n.xp6(1),n.hij(" ",m.getAttachmentName(f)," ")}}function o(h,p){if(1&h&&(n.TgZ(0,"div",1),n.ALo(1,"spRichTextString"),n.YNc(2,a,3,2,"ng-container",2),n.qZA()),2&h){const f=n.oxw();n.Q6J("spTooltipEnabled",f.tooltipEnabled)("spTooltip",n.lcZ(1,3,f.getTooltipText())),n.xp6(2),n.Q6J("ngForOf",f.dataValue.attachments)}}let d=(()=>{class h extends t.D{getAttachmentName(f){return f.name}getAttachmentUrl(f){return f.url}}return h.\u0275fac=function(){let p;return function(m){return(p||(p=n.n5z(h)))(m||h)}}(),h.\u0275cmp=n.Xpm({type:h,selectors:[["sp-display-attachments"]],features:[n.qOj],decls:1,vars:1,consts:[["class","sp-w-full sp-h-full sp-overflow-hidden sp-dt-display-tooltip sp-flex sp-items-center",3,"spTooltipEnabled","spTooltip",4,"ngIf"],[1,"sp-w-full","sp-h-full","sp-overflow-hidden","sp-dt-display-tooltip","sp-flex","sp-items-center",3,"spTooltipEnabled","spTooltip"],[4,"ngFor","ngForOf"],["target","_blank",1,"sp-pr-2","sp-text-wrapper",3,"href"]],template:function(f,m){1&f&&n.YNc(0,o,3,5,"div",0),2&f&&n.Q6J("ngIf",m.dataValue)},directives:[s.O5,i.i9,s.sg],pipes:[r.C],encapsulation:2,changeDetection:0}),h})()},73168:(S,g,e)=>{"use strict";e.d(g,{S:()=>d});var t=e(45669),n=e(84046),s=e(55331),i=e(68890),r=e(41004),a=e(94944);function o(h,p){if(1&h&&(n.TgZ(0,"div",1),n.ALo(1,"spRichTextString"),n.TgZ(2,"sp-lozenge",2),n._uU(3),n.qZA(),n.qZA()),2&h){const f=n.oxw();n.Q6J("spTooltipEnabled",f.tooltipEnabled)("spTooltip",n.lcZ(1,4,f.getTooltipText())),n.xp6(2),n.Q6J("color",f.dataValue.color.value),n.xp6(1),n.hij(" ",f.dataValue.name," ")}}let d=(()=>{class h extends t.D{}return h.\u0275fac=function(){let p;return function(m){return(p||(p=n.n5z(h)))(m||h)}}(),h.\u0275cmp=n.Xpm({type:h,selectors:[["sp-display-box-type-value-lozenge"]],features:[n.qOj],decls:1,vars:1,consts:[["class","sp-w-full sp-h-full sp-overflow-hidden sp-dt-display-tooltip sp-flex sp-items-center",3,"spTooltipEnabled","spTooltip",4,"ngIf"],[1,"sp-w-full","sp-h-full","sp-overflow-hidden","sp-dt-display-tooltip","sp-flex","sp-items-center",3,"spTooltipEnabled","spTooltip"],[1,"sp-overflow-hidden",3,"color"]],template:function(f,m){1&f&&n.YNc(0,o,4,6,"div",0),2&f&&n.Q6J("ngIf",void 0!==m.dataValue)},directives:[s.O5,i.i9,r.H],pipes:[a.C],encapsulation:2,changeDetection:0}),h})()},63532:(S,g,e)=>{"use strict";e.d(g,{A:()=>p});var t=e(45669),n=e(19327),s=e(81e3),i=e(84046),r=e(55331),a=e(68890),o=e(94944);const d=function(f){return{"background-color":f}};function h(f,m){if(1&f&&(i.TgZ(0,"div",1),i.ALo(1,"spRichTextString"),i._UZ(2,"span",2),i.qZA()),2&f){const v=i.oxw();i.Q6J("spTooltipEnabled",v.tooltipEnabled)("spTooltip",i.lcZ(1,3,v.getTooltipText())),i.xp6(2),i.Q6J("ngStyle",i.VKq(5,d,v.getColor()))}}let p=(()=>{class f extends t.D{constructor(){super(...arguments),this.defaultColor=s.W.MEDIUM_GRAY}getColor(){return n.I.getRequestedColorOrDefault(this.dataValue.value,this.defaultColor).backgroundStyle}}return f.\u0275fac=function(){let m;return function(E){return(m||(m=i.n5z(f)))(E||f)}}(),f.\u0275cmp=i.Xpm({type:f,selectors:[["sp-display-builtin-color-icon"]],features:[i.qOj],decls:1,vars:1,consts:[["class","sp-w-full sp-h-full sp-overflow-hidden sp-dt-display-tooltip sp-flex sp-items-center",3,"spTooltipEnabled","spTooltip",4,"ngIf"],[1,"sp-w-full","sp-h-full","sp-overflow-hidden","sp-dt-display-tooltip","sp-flex","sp-items-center",3,"spTooltipEnabled","spTooltip"],[1,"sp-p-2","sp-circle","sp-block","sp-overflow-hidden",3,"ngStyle"]],template:function(v,E){1&v&&i.YNc(0,h,3,7,"div",0),2&v&&i.Q6J("ngIf",void 0!==E.dataValue)},directives:[r.O5,a.i9,r.PC],pipes:[o.C],encapsulation:2,changeDetection:0}),f})()},93231:(S,g,e)=>{"use strict";e.d(g,{o:()=>p});var t=e(45669),n=e(81e3),s=e(19327),i=e(84046),r=e(55331),a=e(68890),o=e(94944);const d=function(f){return{"background-color":f}};function h(f,m){if(1&f&&(i.TgZ(0,"div",1),i.ALo(1,"spRichTextString"),i._UZ(2,"span",2),i.TgZ(3,"span",3),i._uU(4),i.qZA(),i.qZA()),2&f){const v=i.oxw();i.Q6J("spTooltipEnabled",v.tooltipEnabled)("spTooltip",i.lcZ(1,4,v.getTooltipText())),i.xp6(2),i.Q6J("ngStyle",i.VKq(6,d,v.getColor())),i.xp6(2),i.hij(" ",v.getFormattedName()," ")}}let p=(()=>{class f extends t.D{constructor(){super(...arguments),this.defaultColor=n.W.MEDIUM_GRAY}getColor(){return s.I.getRequestedColorOrDefault(this.dataValue.value,this.defaultColor).backgroundStyle}getFormattedName(){return this.fieldDefinition.getFormattedName(this.dataValue)}}return f.\u0275fac=function(){let m;return function(E){return(m||(m=i.n5z(f)))(E||f)}}(),f.\u0275cmp=i.Xpm({type:f,selectors:[["sp-display-builtin-color-icon-and-name"]],features:[i.qOj],decls:1,vars:1,consts:[["class","sp-w-full sp-h-full sp-overflow-hidden sp-dt-display-tooltip sp-flex sp-items-center",3,"spTooltipEnabled","spTooltip",4,"ngIf"],[1,"sp-w-full","sp-h-full","sp-overflow-hidden","sp-dt-display-tooltip","sp-flex","sp-items-center",3,"spTooltipEnabled","spTooltip"],[1,"sp-p-2","sp-circle","sp-mr-2",3,"ngStyle"],[1,"sp-text-wrapper"]],template:function(v,E){1&v&&i.YNc(0,h,5,8,"div",0),2&v&&i.Q6J("ngIf",void 0!==E.dataValue)},directives:[r.O5,a.i9,r.PC],pipes:[o.C],encapsulation:2,changeDetection:0}),f})()},90331:(S,g,e)=>{"use strict";e.d(g,{y:()=>o});var t=e(45669),n=e(84046),s=e(55331),i=e(68890),r=e(94944);function a(d,h){if(1&d&&(n.TgZ(0,"div",1),n.ALo(1,"spRichTextString"),n.TgZ(2,"span",2),n._uU(3),n.qZA(),n.qZA()),2&d){const p=n.oxw();n.Q6J("spTooltipEnabled",p.tooltipEnabled)("spTooltip",n.lcZ(1,3,p.getTooltipText())),n.xp6(3),n.Oqu(p.getFormattedName())}}let o=(()=>{class d extends t.D{getFormattedName(){return this.fieldDefinition.getFormattedName(this.dataValue)}}return d.\u0275fac=function(){let h;return function(f){return(h||(h=n.n5z(d)))(f||d)}}(),d.\u0275cmp=n.Xpm({type:d,selectors:[["sp-display-builtin-color-name"]],features:[n.qOj],decls:1,vars:1,consts:[["class","sp-w-full sp-h-full sp-overflow-hidden sp-dt-display-tooltip sp-flex sp-items-center",3,"spTooltipEnabled","spTooltip",4,"ngIf"],[1,"sp-w-full","sp-h-full","sp-overflow-hidden","sp-dt-display-tooltip","sp-flex","sp-items-center",3,"spTooltipEnabled","spTooltip"],[1,"sp-text-wrapper"]],template:function(p,f){1&p&&n.YNc(0,a,4,5,"div",0),2&p&&n.Q6J("ngIf",void 0!==f.dataValue)},directives:[s.O5,i.i9],pipes:[r.C],encapsulation:2,changeDetection:0}),d})()},89218:(S,g,e)=>{"use strict";e.d(g,{o:()=>m});var t=e(45669),n=e(19327),s=e(81e3),i=e(84046),r=e(73147),a=e(55331),o=e(68890),d=e(65795),h=e(94944),p=e(43423);function f(v,E){if(1&v&&(i.TgZ(0,"div",1),i.ALo(1,"spRichTextString"),i.ALo(2,"spIconPickerIconName"),i._UZ(3,"sp-icon-picker-icon",2),i.qZA()),2&v){const C=i.oxw();i.Q6J("spTooltipEnabled",C.tooltipEnabled)("spTooltip",i.lcZ(1,4,C.getTooltipText()+i.lcZ(2,6,C.dataValue.icon))),i.xp6(3),i.Q6J("iconId",C.dataValue.icon)("color",C.getColor())}}let m=(()=>{class v extends t.D{constructor(C,T,y,I,P){super(C,T,y,I,P),this.renderer=C,this.elementRef=T,this.changeDetectorRef=y,this.injector=I,this.fieldCustomActions=P,this.defaultColor=s.W.MEDIUM_GRAY}getTooltipText(){return`${this.fieldDefinition.getLabelName()}: `}getColor(){return n.I.getRequestedColorOrDefault(this.dataValue&&this.dataValue.builtinColor?this.dataValue.builtinColor.value:"",this.defaultColor).backgroundStyle}}return v.\u0275fac=function(C){return new(C||v)(i.Y36(i.Qsj),i.Y36(i.SBq),i.Y36(i.sBO),i.Y36(i.zs3),i.Y36(r.H,8))},v.\u0275cmp=i.Xpm({type:v,selectors:[["sp-display-builtin-icon-icon"]],features:[i.qOj],decls:1,vars:1,consts:[["class","sp-w-full sp-h-full sp-overflow-hidden sp-dt-display-tooltip sp-flex sp-items-center",3,"spTooltipEnabled","spTooltip",4,"ngIf"],[1,"sp-w-full","sp-h-full","sp-overflow-hidden","sp-dt-display-tooltip","sp-flex","sp-items-center",3,"spTooltipEnabled","spTooltip"],[3,"iconId","color"]],template:function(C,T){1&C&&i.YNc(0,f,4,8,"div",0),2&C&&i.Q6J("ngIf",void 0!==T.dataValue)},directives:[a.O5,o.i9,d.O],pipes:[h.C,p.g],encapsulation:2,changeDetection:0}),v})()},93743:(S,g,e)=>{"use strict";e.d(g,{I:()=>p});var t=e(84694),n=e(45669),s=e(84046),i=e(73147),r=e(55331),a=e(68890),o=e(94944),d=e(66794);function h(f,m){if(1&f&&(s.TgZ(0,"div",1),s.ALo(1,"spRichTextString"),s.TgZ(2,"span",2),s._uU(3),s.ALo(4,"spDataFormatPipe"),s.qZA(),s.qZA()),2&f){const v=s.oxw();s.Q6J("spTooltipEnabled",v.tooltipEnabled)("spTooltip",s.lcZ(1,3,v.getTooltipText())),s.xp6(3),s.Oqu(s.lcZ(4,5,v.dataValue.value))}}let p=(()=>{class f extends n.D{constructor(v,E,C,T,y,I){super(v,E,y,C,T),this.injector=C,this.fieldCustomActions=T,this.changeDetectionRef=y,this.dataTypeDateFormatService=I}getTooltipText(){var v;const E=this.fieldDefinition.getLabelName(),C=this.dataTypeDateFormatService.formatSimpleDateToDate(null===(v=this.dataValue)||void 0===v?void 0:v.value);return C?E+`: ${C}`:E}}return f.\u0275fac=function(v){return new(v||f)(s.Y36(s.Qsj),s.Y36(s.SBq),s.Y36(s.zs3),s.Y36(i.H),s.Y36(s.sBO),s.Y36(t.u))},f.\u0275cmp=s.Xpm({type:f,selectors:[["sp-display-date"]],features:[s.qOj],decls:1,vars:1,consts:[["class","sp-w-full sp-h-full sp-overflow-hidden sp-dt-display-tooltip sp-flex sp-items-center",3,"spTooltipEnabled","spTooltip",4,"ngIf"],[1,"sp-w-full","sp-h-full","sp-overflow-hidden","sp-dt-display-tooltip","sp-flex","sp-items-center",3,"spTooltipEnabled","spTooltip"],[1,"sp-text-wrapper"]],template:function(v,E){1&v&&s.YNc(0,h,5,7,"div",0),2&v&&s.Q6J("ngIf",E.dataValue&&E.dataValue.value)},directives:[r.O5,a.i9],pipes:[o.C,d.E],encapsulation:2,changeDetection:0}),f})()},65989:(S,g,e)=>{"use strict";e.d(g,{F:()=>p});var t=e(84694),n=e(45669),s=e(84046),i=e(73147),r=e(55331),a=e(68890),o=e(94944),d=e(51866);function h(f,m){if(1&f&&(s.TgZ(0,"div",1),s.ALo(1,"spRichTextString"),s.TgZ(2,"span",2),s._uU(3),s.ALo(4,"spDateFromTimeFormatPipe"),s.qZA(),s.qZA()),2&f){const v=s.oxw();s.Q6J("spTooltipEnabled",v.tooltipEnabled)("spTooltip",s.lcZ(1,3,v.getTooltipText())),s.xp6(3),s.Oqu(s.lcZ(4,5,v.dataValue.epochMilli))}}let p=(()=>{class f extends n.D{constructor(v,E,C,T,y,I){super(v,E,T,C,y),this.injector=C,this.changeDetectorRef=T,this.fieldCustomActions=y,this.dataTypeDateFormatService=I}getTooltipText(){const v=this.fieldDefinition.getLabelName(),E=this.dataTypeDateFormatService.formatTimestampToDate(this.dataValue.epochMilli);return E?v+`: ${E}`:v}}return f.\u0275fac=function(v){return new(v||f)(s.Y36(s.Qsj),s.Y36(s.SBq),s.Y36(s.zs3),s.Y36(s.sBO),s.Y36(i.H),s.Y36(t.u))},f.\u0275cmp=s.Xpm({type:f,selectors:[["sp-display-date-time-date"]],features:[s.qOj],decls:1,vars:1,consts:[["class","sp-w-full sp-h-full sp-overflow-hidden sp-dt-display-tooltip sp-flex sp-items-center",3,"spTooltipEnabled","spTooltip",4,"ngIf"],[1,"sp-w-full","sp-h-full","sp-overflow-hidden","sp-dt-display-tooltip","sp-flex","sp-items-center",3,"spTooltipEnabled","spTooltip"],[1,"sp-text-wrapper"]],template:function(v,E){1&v&&s.YNc(0,h,5,7,"div",0),2&v&&s.Q6J("ngIf",E.dataValue)},directives:[r.O5,a.i9],pipes:[o.C,d.c],encapsulation:2,changeDetection:0}),f})()},7194:(S,g,e)=>{"use strict";e.d(g,{i:()=>p});var t=e(84694),n=e(45669),s=e(84046),i=e(73147),r=e(55331),a=e(68890),o=e(94944),d=e(61224);function h(f,m){if(1&f&&(s.TgZ(0,"div",1),s.ALo(1,"spRichTextString"),s.TgZ(2,"span",2),s._uU(3),s.ALo(4,"spTimeFormatPipe"),s.qZA(),s.qZA()),2&f){const v=s.oxw();s.Q6J("spTooltipEnabled",v.tooltipEnabled)("spTooltip",s.lcZ(1,3,v.getTooltipText())),s.xp6(3),s.Oqu(s.lcZ(4,5,v.dataValue.epochMilli))}}let p=(()=>{class f extends n.D{constructor(v,E,C,T,y,I){super(v,E,T,C,y),this.injector=C,this.changeDetectorRef=T,this.fieldCustomActions=y,this.dataTypeDateFormatService=I}getTooltipText(){const v=this.fieldDefinition.getLabelName(),E=this.dataTypeDateFormatService.formatTimestampToDateTime(this.dataValue.epochMilli);return E?v+`: ${E}`:v}}return f.\u0275fac=function(v){return new(v||f)(s.Y36(s.Qsj),s.Y36(s.SBq),s.Y36(s.zs3),s.Y36(s.sBO),s.Y36(i.H),s.Y36(t.u))},f.\u0275cmp=s.Xpm({type:f,selectors:[["sp-display-date-time"]],features:[s.qOj],decls:1,vars:1,consts:[["class","sp-w-full sp-h-full sp-overflow-hidden sp-dt-display-tooltip sp-flex sp-items-center",3,"spTooltipEnabled","spTooltip",4,"ngIf"],[1,"sp-w-full","sp-h-full","sp-overflow-hidden","sp-dt-display-tooltip","sp-flex","sp-items-center",3,"spTooltipEnabled","spTooltip"],[1,"sp-text-wrapper"]],template:function(v,E){1&v&&s.YNc(0,h,5,7,"div",0),2&v&&s.Q6J("ngIf",E.dataValue)},directives:[r.O5,a.i9],pipes:[o.C,d.x],encapsulation:2,changeDetection:0}),f})()},21167:(S,g,e)=>{"use strict";e.d(g,{D:()=>o});var t=e(45669),n=e(84046),s=e(55331),i=e(68890),r=e(94944);function a(d,h){if(1&d&&(n.TgZ(0,"div",1),n.ALo(1,"spRichTextString"),n.TgZ(2,"span",2),n._uU(3),n.qZA(),n.qZA()),2&d){const p=n.oxw();n.Q6J("spTooltipEnabled",p.tooltipEnabled)("spTooltip",n.lcZ(1,3,p.getTooltipText())),n.xp6(3),n.Oqu(p.dataValue.value)}}let o=(()=>{class d extends t.D{}return d.\u0275fac=function(){let h;return function(f){return(h||(h=n.n5z(d)))(f||d)}}(),d.\u0275cmp=n.Xpm({type:d,selectors:[["sp-display-due-date"]],features:[n.qOj],decls:1,vars:1,consts:[["class","sp-w-full sp-h-full sp-overflow-hidden sp-dt-display-tooltip sp-flex sp-items-center",3,"spTooltipEnabled","spTooltip",4,"ngIf"],[1,"sp-w-full","sp-h-full","sp-overflow-hidden","sp-dt-display-tooltip","sp-flex","sp-items-center",3,"spTooltipEnabled","spTooltip"],[1,"sp-text-wrapper"]],template:function(p,f){1&p&&n.YNc(0,a,4,5,"div",0),2&p&&n.Q6J("ngIf",f.dataValue)},directives:[s.O5,i.i9],pipes:[r.C],encapsulation:2,changeDetection:0}),d})()},86874:(S,g,e)=>{"use strict";e.d(g,{h:()=>f});var t=e(45669),n=e(84046),s=e(55331),i=e(68890),r=e(26463),a=e(58264),o=e(94944);function d(m,v){if(1&m&&(n.TgZ(0,"span",4,5),n._uU(2),n.qZA()),2&m){const E=n.oxw(2);n.xp6(2),n.hij(" ",null==E.dataValue?null:E.dataValue.key," ")}}function h(m,v){if(1&m&&(n.TgZ(0,"a",6),n._uU(1),n.qZA()),2&m){const E=n.oxw(2);let C;n.Q6J("spNavigationLink",null==(C=E.getCustomNavigationAction())?null:C.getNavigationLink()),n.xp6(1),n.hij(" ",null==E.dataValue?null:E.dataValue.key," ")}}function p(m,v){if(1&m&&(n.TgZ(0,"div",1),n.ALo(1,"spRichTextString"),n.YNc(2,d,3,1,"span",2),n.YNc(3,h,2,2,"ng-template",null,3,n.W1O),n.qZA()),2&m){const E=n.MAs(4),C=n.oxw();n.Q6J("spTooltipEnabled",C.tooltipEnabled)("spTooltip",n.lcZ(1,4,C.getTooltipText())),n.xp6(2),n.Q6J("ngIf",!C.isNavigationActionDefined())("ngIfElse",E)}}let f=(()=>{class m extends t.D{}return m.\u0275fac=function(){let v;return function(C){return(v||(v=n.n5z(m)))(C||m)}}(),m.\u0275cmp=n.Xpm({type:m,selectors:[["sp-display-entity-key-link"]],features:[n.qOj],decls:1,vars:1,consts:[["class","sp-w-full sp-h-full sp-overflow-hidden sp-dt-display-tooltip sp-flex sp-items-center",3,"spTooltipEnabled","spTooltip",4,"ngIf"],[1,"sp-w-full","sp-h-full","sp-overflow-hidden","sp-dt-display-tooltip","sp-flex","sp-items-center",3,"spTooltipEnabled","spTooltip"],["class","sp-text-wrapper",4,"ngIf","ngIfElse"],["navigationActionContainer",""],[1,"sp-text-wrapper"],["customActionContainer",""],["spRightClickIgnore","",1,"sp-text-wrapper",3,"spNavigationLink"]],template:function(E,C){1&E&&n.YNc(0,p,5,6,"div",0),2&E&&n.Q6J("ngIf",C.dataValue)},directives:[s.O5,i.i9,r.k,a.N],pipes:[o.C],encapsulation:2,changeDetection:0}),m})()},92490:(S,g,e)=>{"use strict";e.d(g,{H:()=>d});var t=e(45669),n=e(84046),s=e(55331),i=e(68890),r=e(41004),a=e(94944);function o(h,p){if(1&h&&(n.TgZ(0,"div",1),n.ALo(1,"spRichTextString"),n.TgZ(2,"sp-lozenge",2),n.TgZ(3,"a",3),n._uU(4),n.qZA(),n.qZA(),n.qZA()),2&h){const f=n.oxw();n.Q6J("spTooltipEnabled",f.tooltipEnabled)("spTooltip",n.lcZ(1,6,f.getTooltipText())),n.xp6(2),n.Q6J("textColor",null==f.dataValue||null==f.dataValue.hexColor?null:f.dataValue.hexColor.textColor)("backgroundColor",null==f.dataValue||null==f.dataValue.hexColor?null:f.dataValue.hexColor.backgroundColor),n.xp6(1),n.s9C("href",f.dataValue.url,n.LSH),n.xp6(1),n.hij(" ",f.dataValue.name," ")}}let d=(()=>{class h extends t.D{}return h.\u0275fac=function(){let p;return function(m){return(p||(p=n.n5z(h)))(m||h)}}(),h.\u0275cmp=n.Xpm({type:h,selectors:[["sp-display-epic"]],features:[n.qOj],decls:1,vars:1,consts:[["class","sp-w-full sp-h-full sp-overflow-hidden sp-dt-display-tooltip sp-flex sp-items-center",3,"spTooltipEnabled","spTooltip",4,"ngIf"],[1,"sp-w-full","sp-h-full","sp-overflow-hidden","sp-dt-display-tooltip","sp-flex","sp-items-center",3,"spTooltipEnabled","spTooltip"],[3,"textColor","backgroundColor"],["target","_blank",3,"href"]],template:function(f,m){1&f&&n.YNc(0,o,5,8,"div",0),2&f&&n.Q6J("ngIf",m.dataValue)},directives:[s.O5,i.i9,r.H],pipes:[a.C],encapsulation:2,changeDetection:0}),h})()},10190:(S,g,e)=>{"use strict";e.d(g,{f:()=>o});var t=e(45669),n=e(84046),s=e(55331),i=e(68890),r=e(94944);function a(d,h){if(1&d&&(n.TgZ(0,"div",1),n.ALo(1,"spRichTextString"),n.TgZ(2,"span",2),n._uU(3),n.qZA(),n.qZA()),2&d){const p=n.oxw();n.Q6J("spTooltipEnabled",p.tooltipEnabled)("spTooltip",n.lcZ(1,3,p.getTooltipText())),n.xp6(3),n.Oqu(p.dataValue.estimateFormattedDecimalHours)}}let o=(()=>{class d extends t.D{getTooltipText(){var p,f;const m=this.fieldDefinition.getLabelName();return(null===(p=this.dataValue)||void 0===p?void 0:p.estimateFormattedHours)?m+`: ${null===(f=this.dataValue)||void 0===f?void 0:f.estimateFormattedDecimalHours}`:m}}return d.\u0275fac=function(){let h;return function(f){return(h||(h=n.n5z(d)))(f||d)}}(),d.\u0275cmp=n.Xpm({type:d,selectors:[["sp-display-estimate-formatted-decimal-pretty-text"]],features:[n.qOj],decls:1,vars:1,consts:[["class","sp-w-full sp-h-full sp-overflow-hidden sp-dt-display-tooltip sp-flex sp-items-center",3,"spTooltipEnabled","spTooltip",4,"ngIf"],[1,"sp-w-full","sp-h-full","sp-overflow-hidden","sp-dt-display-tooltip","sp-flex","sp-items-center",3,"spTooltipEnabled","spTooltip"],[1,"sp-text-wrapper"]],template:function(p,f){1&p&&n.YNc(0,a,4,5,"div",0),2&p&&n.Q6J("ngIf",f.dataValue&&f.dataValue.estimateFormattedDecimalHours)},directives:[s.O5,i.i9],pipes:[r.C],encapsulation:2,changeDetection:0}),d})()},39433:(S,g,e)=>{"use strict";e.d(g,{q:()=>o});var t=e(45669),n=e(84046),s=e(55331),i=e(68890),r=e(94944);function a(d,h){if(1&d&&(n.TgZ(0,"div",1),n.ALo(1,"spRichTextString"),n.TgZ(2,"span",2),n._uU(3),n.qZA(),n.qZA()),2&d){const p=n.oxw();n.Q6J("spTooltipEnabled",p.tooltipEnabled)("spTooltip",n.lcZ(1,3,p.getTooltipText())),n.xp6(3),n.Oqu(p.dataValue.estimateFormattedHours)}}let o=(()=>{class d extends t.D{getTooltipText(){var p,f;const m=this.fieldDefinition.getLabelName();return(null===(p=this.dataValue)||void 0===p?void 0:p.estimateFormattedHours)?m+`: ${null===(f=this.dataValue)||void 0===f?void 0:f.estimateFormattedHours}`:m}}return d.\u0275fac=function(){let h;return function(f){return(h||(h=n.n5z(d)))(f||d)}}(),d.\u0275cmp=n.Xpm({type:d,selectors:[["sp-display-estimate-formatted-hours-text"]],features:[n.qOj],decls:1,vars:1,consts:[["class","sp-w-full sp-h-full sp-overflow-hidden sp-dt-display-tooltip sp-flex sp-items-center",3,"spTooltipEnabled","spTooltip",4,"ngIf"],[1,"sp-w-full","sp-h-full","sp-overflow-hidden","sp-dt-display-tooltip","sp-flex","sp-items-center",3,"spTooltipEnabled","spTooltip"],[1,"sp-text-wrapper"]],template:function(p,f){1&p&&n.YNc(0,a,4,5,"div",0),2&p&&n.Q6J("ngIf",f.dataValue&&f.dataValue.estimateFormattedHours)},directives:[s.O5,i.i9],pipes:[r.C],encapsulation:2,changeDetection:0}),d})()},41299:(S,g,e)=>{"use strict";e.d(g,{e:()=>o});var t=e(45669),n=e(84046),s=e(55331),i=e(68890),r=e(94944);function a(d,h){if(1&d&&(n.TgZ(0,"div",1),n.ALo(1,"spRichTextString"),n.TgZ(2,"span",2),n._uU(3),n.qZA(),n.qZA()),2&d){const p=n.oxw();n.Q6J("spTooltipEnabled",p.tooltipEnabled)("spTooltip",n.lcZ(1,3,p.getTooltipText())),n.xp6(3),n.Oqu(p.dataValue.estimateFormattedPretty)}}let o=(()=>{class d extends t.D{}return d.\u0275fac=function(){let h;return function(f){return(h||(h=n.n5z(d)))(f||d)}}(),d.\u0275cmp=n.Xpm({type:d,selectors:[["sp-display-estimate-formatted-pretty-text"]],features:[n.qOj],decls:1,vars:1,consts:[["class","sp-w-full sp-h-full sp-overflow-hidden sp-dt-display-tooltip sp-flex sp-items-center",3,"spTooltipEnabled","spTooltip",4,"ngIf"],[1,"sp-w-full","sp-h-full","sp-overflow-hidden","sp-dt-display-tooltip","sp-flex","sp-items-center",3,"spTooltipEnabled","spTooltip"],[1,"sp-text-wrapper"]],template:function(p,f){1&p&&n.YNc(0,a,4,5,"div",0),2&p&&n.Q6J("ngIf",f.dataValue&&f.dataValue.estimateFormattedPretty)},directives:[s.O5,i.i9],pipes:[r.C],encapsulation:2,changeDetection:0}),d})()},6536:(S,g,e)=>{"use strict";e.d(g,{g:()=>d});var t=e(45669),n=e(71118),s=e(84046),i=e(55331),r=e(68890),a=e(94944);function o(h,p){if(1&h&&(s.TgZ(0,"div",1),s.ALo(1,"spRichTextString"),s.TgZ(2,"span",2),s._uU(3),s.qZA(),s.qZA()),2&h){const f=s.oxw();s.Q6J("spTooltipEnabled",f.tooltipEnabled)("spTooltip",s.lcZ(1,3,f.getTooltipText())),s.xp6(3),s.Oqu(f.getNumberOfDaysText())}}let d=(()=>{class h extends t.D{isNumberOfDaysDefined(){return n.l.isDefined(this.dataValue)&&n.l.isDefined(this.dataValue.numberOfDays)}getNumberOfDaysText(){var f;return(null===(f=this.dataValue)||void 0===f?void 0:f.numberOfDays)+"d"}getTooltipText(){var f;const m=this.fieldDefinition.getLabelName();return(null===(f=this.dataValue)||void 0===f?void 0:f.estimateFormattedHours)?m+`: ${this.getNumberOfDaysText()}`:m}}return h.\u0275fac=function(){let p;return function(m){return(p||(p=s.n5z(h)))(m||h)}}(),h.\u0275cmp=s.Xpm({type:h,selectors:[["sp-display-estimation-number-of-days"]],features:[s.qOj],decls:1,vars:1,consts:[["class","sp-w-full sp-h-full sp-overflow-hidden sp-dt-display-tooltip sp-flex sp-items-center",3,"spTooltipEnabled","spTooltip",4,"ngIf"],[1,"sp-w-full","sp-h-full","sp-overflow-hidden","sp-dt-display-tooltip","sp-flex","sp-items-center",3,"spTooltipEnabled","spTooltip"],[1,"sp-text-wrapper"]],template:function(f,m){1&f&&s.YNc(0,o,4,5,"div",0),2&f&&s.Q6J("ngIf",m.isNumberOfDaysDefined())},directives:[i.O5,r.i9],pipes:[a.C],encapsulation:2,changeDetection:0}),h})()},20134:(S,g,e)=>{"use strict";e.d(g,{Y:()=>p});var t=e(45669),n=e(84046),s=e(55331),i=e(68890),r=e(94944);const a=function(f){return{fill:f,stroke:"black"}},o=function(f){return{fill:f,stroke:"black"}};function d(f,m){if(1&f&&(n.O4$(),n.TgZ(0,"svg",3),n.TgZ(1,"g",4),n._UZ(2,"rect",5),n._UZ(3,"circle",6),n._UZ(4,"circle",7),n._UZ(5,"circle",8),n.qZA(),n.qZA()),2&f){const v=n.oxw(2);n.xp6(3),n.Q6J("ngStyle",n.VKq(3,a,v.getLeft())),n.xp6(1),n.Q6J("ngStyle",n.VKq(5,o,v.getMiddle())),n.xp6(1),n.Q6J("ngStyle",n.VKq(7,o,v.getRight()))}}function h(f,m){if(1&f&&(n.TgZ(0,"div",1),n.ALo(1,"spRichTextString"),n.YNc(2,d,6,9,"svg",2),n.qZA()),2&f){const v=n.oxw();n.Q6J("spTooltipEnabled",v.tooltipEnabled)("spTooltip",n.lcZ(1,3,v.getTooltipText())),n.xp6(2),n.Q6J("ngIf",v.getLeft())}}let p=(()=>{class f extends t.D{getLeft(){return this.dataValue.leftColor}getMiddle(){return this.dataValue.middleColor}getRight(){return this.dataValue.rightColor}}return f.\u0275fac=function(){let m;return function(E){return(m||(m=n.n5z(f)))(E||f)}}(),f.\u0275cmp=n.Xpm({type:f,selectors:[["sp-display-traffic-light"]],features:[n.qOj],decls:1,vars:1,consts:[["class","sp-w-full sp-h-full sp-overflow-hidden sp-dt-display-tooltip sp-flex sp-items-center",3,"spTooltipEnabled","spTooltip",4,"ngIf"],[1,"sp-w-full","sp-h-full","sp-overflow-hidden","sp-dt-display-tooltip","sp-flex","sp-items-center",3,"spTooltipEnabled","spTooltip"],["class","gantt_shadow_traffic_lights","xmlns","http://www.w3.org/2000/svg","version","1.1","id","svg2","height","22px","width","65px","viewBox","0 0 60 20",4,"ngIf"],["xmlns","http://www.w3.org/2000/svg","version","1.1","id","svg2","height","22px","width","65px","viewBox","0 0 60 20",1,"gantt_shadow_traffic_lights"],["id","trafficLight_customfield_11900","name","EVLIX-16-customfield_11900"],["ry","5","rx","5","y","0","x","1","height","18","width","58","id","rect3347",2,"fill","#eeeeee","fill-opacity","1","stroke","gray","stroke-width","1","stroke-opacity","1"],["r","6","cy","9","cx","14","id","left",3,"ngStyle"],["r","6","cy","9","cx","30","id","middle",3,"ngStyle"],["r","6","cy","9","cx","46","id","right",3,"ngStyle"]],template:function(v,E){1&v&&n.YNc(0,h,3,5,"div",0),2&v&&n.Q6J("ngIf",E.dataValue)},directives:[s.O5,i.i9,s.PC],pipes:[r.C],encapsulation:2,changeDetection:0}),f})()},83087:(S,g,e)=>{"use strict";e.d(g,{U:()=>d});var t=e(45669),n=e(84046),s=e(55331),i=e(68890),r=e(94944);const a=function(h){return{"background-color":h}};function o(h,p){if(1&h&&(n.TgZ(0,"div",1),n.ALo(1,"spRichTextString"),n._UZ(2,"div",2),n.qZA()),2&h){const f=n.oxw();n.Q6J("spTooltipEnabled",f.tooltipEnabled)("spTooltip",n.lcZ(1,4,f.getTooltipText()))("ngStyle",n.VKq(6,a,f.dataValue.backgroundColor)),n.xp6(2),n.Q6J("ngStyle",n.VKq(8,a,f.dataValue.textColor))}}let d=(()=>{class h extends t.D{}return h.\u0275fac=function(){let p;return function(m){return(p||(p=n.n5z(h)))(m||h)}}(),h.\u0275cmp=n.Xpm({type:h,selectors:[["sp-display-hex-color"]],features:[n.qOj],decls:1,vars:1,consts:[["class","sp-p-1 sp-circle sp-w-full sp-h-full sp-overflow-hidden sp-dt-display-tooltip sp-flex sp-items-center",3,"spTooltipEnabled","spTooltip","ngStyle",4,"ngIf"],[1,"sp-p-1","sp-circle","sp-w-full","sp-h-full","sp-overflow-hidden","sp-dt-display-tooltip","sp-flex","sp-items-center",3,"spTooltipEnabled","spTooltip","ngStyle"],[1,"sp-p-1","sp-circle",3,"ngStyle"]],template:function(f,m){1&f&&n.YNc(0,o,3,10,"div",0),2&f&&n.Q6J("ngIf",void 0!==m.dataValue)},directives:[s.O5,i.i9,s.PC],pipes:[r.C],encapsulation:2,changeDetection:0}),h})()},98711:(S,g,e)=>{"use strict";e.d(g,{K:()=>m});var t=e(45669),n=e(71118),s=e(84046),i=e(55331),r=e(68890),a=e(41004),o=e(94944);const d=function(v){return{"sp-mr-1":v}};function h(v,E){if(1&v&&(s.ynx(0),s.TgZ(1,"sp-lozenge",5),s.ALo(2,"spRichTextString"),s._uU(3),s.qZA(),s.BQk()),2&v){const C=E.$implicit,T=E.last,y=s.oxw(3);s.xp6(1),s.Q6J("color",null==C||null==C.key?null:C.key.color)("spTooltipEnabled",y.isParentDistribution())("spTooltip",s.lcZ(2,5,null==C||null==C.key?null:C.key.name))("ngClass",s.VKq(7,d,!T)),s.xp6(2),s.hij(" ",y.getDistributionValue(C)," ")}}function p(v,E){if(1&v&&(s.ynx(0),s.TgZ(1,"div",3),s.YNc(2,h,4,9,"ng-container",4),s.qZA(),s.BQk()),2&v){const C=s.oxw(2);s.xp6(2),s.Q6J("ngForOf",C.dataValue.distribution)}}function f(v,E){if(1&v&&(s.TgZ(0,"div",1),s.ALo(1,"spRichTextString"),s.YNc(2,p,3,1,"ng-container",2),s.qZA()),2&v){const C=s.oxw();s.Q6J("spTooltipEnabled",C.tooltipEnabled)("spTooltip",s.lcZ(1,3,C.getTooltipText())),s.xp6(2),s.Q6J("ngIf",C.dataValue&&C.hasHistogramValue())}}let m=(()=>{class v extends t.D{getDistributionValue(C){return this.dataValue.percentage?(null==C?void 0:C.value)+"%":null==C?void 0:C.value.toString()}hasHistogramValue(){var C;return n.l.arrayHasElements(null===(C=this.dataValue)||void 0===C?void 0:C.distribution)}isParentDistribution(){return!this.dataValue.leaf}getTooltipText(){var C,T;const y=null===(C=this.dataValue)||void 0===C?void 0:C.distribution,I=y&&(null===(T=y[0])||void 0===T?void 0:T.value.toString());return!this.isParentDistribution()&&I?super.getTooltipText()+" "+I:super.getTooltipText()}}return v.\u0275fac=function(){let E;return function(T){return(E||(E=s.n5z(v)))(T||v)}}(),v.\u0275cmp=s.Xpm({type:v,selectors:[["sp-display-number-histogram"]],features:[s.qOj],decls:1,vars:1,consts:[["class","sp-w-full sp-h-full sp-overflow-hidden sp-dt-display-tooltip sp-flex sp-items-center",3,"spTooltipEnabled","spTooltip",4,"ngIf"],[1,"sp-w-full","sp-h-full","sp-overflow-hidden","sp-dt-display-tooltip","sp-flex","sp-items-center",3,"spTooltipEnabled","spTooltip"],[4,"ngIf"],[1,"sp-w-full","sp-h-full","sp-flex","sp-items-center"],[4,"ngFor","ngForOf"],[3,"color","spTooltipEnabled","spTooltip","ngClass"]],template:function(C,T){1&C&&s.YNc(0,f,3,5,"div",0),2&C&&s.Q6J("ngIf",T.dataValue)},directives:[i.O5,r.i9,i.sg,a.H,i.mk],pipes:[o.C],encapsulation:2,changeDetection:0}),v})()},98704:(S,g,e)=>{"use strict";e.d(g,{M:()=>m});var t=e(45669),n=e(71118),s=e(84046),i=e(55331),r=e(68890),a=e(41004),o=e(94944);const d=function(v){return{"sp-mr-1":v}};function h(v,E){if(1&v&&(s.ynx(0),s.TgZ(1,"sp-lozenge",5),s.ALo(2,"spRichTextString"),s._uU(3),s.qZA(),s.BQk()),2&v){const C=E.$implicit,T=E.last,y=s.oxw(3);s.xp6(1),s.Q6J("color",null==C||null==C.key?null:C.key.color)("spTooltipEnabled",y.isParentDistribution())("spTooltip",s.lcZ(2,5,null==C||null==C.key?null:C.key.name))("ngClass",s.VKq(7,d,!T)),s.xp6(2),s.hij(" ",y.getDistributionValue(C)," ")}}function p(v,E){if(1&v&&(s.ynx(0),s.TgZ(1,"div",3),s.YNc(2,h,4,9,"ng-container",4),s.qZA(),s.BQk()),2&v){const C=s.oxw(2);s.xp6(2),s.Q6J("ngForOf",C.dataValue.distribution)}}function f(v,E){if(1&v&&(s.TgZ(0,"div",1),s.ALo(1,"spRichTextString"),s.YNc(2,p,3,1,"ng-container",2),s.qZA()),2&v){const C=s.oxw();s.Q6J("spTooltipEnabled",C.tooltipEnabled)("spTooltip",s.lcZ(1,3,C.getTooltipText())),s.xp6(2),s.Q6J("ngIf",C.dataValue&&C.hasHistogramValue())}}let m=(()=>{class v extends t.D{getDistributionValue(C){return this.dataValue.percentage?(null==C?void 0:C.value)+"%":null==C?void 0:C.value.toString()}hasHistogramValue(){var C;return n.l.arrayHasElements(null===(C=this.dataValue)||void 0===C?void 0:C.distribution)}isParentDistribution(){return!this.dataValue.leaf}}return v.\u0275fac=function(){let E;return function(T){return(E||(E=s.n5z(v)))(T||v)}}(),v.\u0275cmp=s.Xpm({type:v,selectors:[["sp-display-status-histogram"]],features:[s.qOj],decls:1,vars:1,consts:[["class","sp-w-full sp-h-full sp-overflow-hidden sp-dt-display-tooltip sp-flex sp-items-center",3,"spTooltipEnabled","spTooltip",4,"ngIf"],[1,"sp-w-full","sp-h-full","sp-overflow-hidden","sp-dt-display-tooltip","sp-flex","sp-items-center",3,"spTooltipEnabled","spTooltip"],[4,"ngIf"],[1,"sp-w-full","sp-h-full","sp-flex","sp-items-center"],[4,"ngFor","ngForOf"],[3,"color","spTooltipEnabled","spTooltip","ngClass"]],template:function(C,T){1&C&&s.YNc(0,f,3,5,"div",0),2&C&&s.Q6J("ngIf",T.dataValue)},directives:[i.O5,r.i9,i.sg,a.H,i.mk],pipes:[o.C],encapsulation:2,changeDetection:0}),v})()},77419:(S,g,e)=>{"use strict";e.d(g,{L:()=>h});var t=e(45669),n=e(71118),s=e(84046);const i=function(p){return{"sp-mr-1":p}};function r(p,f){if(1&p&&(s.ynx(0),s.TgZ(1,"sp-label",5),s.ALo(2,"spRichTextString"),s.TgZ(3,"div",6),s._uU(4),s.qZA(),s.qZA(),s.BQk()),2&p){const m=f.$implicit,v=f.last,E=s.oxw(3);s.xp6(1),s.Q6J("spTooltip",s.lcZ(2,4,null==m?null:m.key))("ngClass",s.VKq(6,i,!v)),s.xp6(3),s.AsE(" ",null==m?null:m.value,"",E.dataValue.percentage?"%":""," ")}}function a(p,f){if(1&p&&(s.ynx(0),s.TgZ(1,"div",3),s.YNc(2,r,5,8,"ng-container",4),s.qZA(),s.BQk()),2&p){const m=s.oxw(2);s.xp6(2),s.Q6J("ngForOf",m.dataValue.distribution)}}function o(p,f){if(1&p&&(s.ynx(0),s._UZ(1,"sp-display-version",7),s.BQk()),2&p){const m=s.oxw(2);s.xp6(1),s.Q6J("dataValue",m.dataValue.item)("fieldDefinition",m.fieldDefinition)("entity",m.entity)}}function d(p,f){if(1&p&&(s.TgZ(0,"div",1),s.ALo(1,"spRichTextString"),s.YNc(2,a,3,1,"ng-container",2),s.YNc(3,o,2,3,"ng-container",2),s.qZA()),2&p){const m=s.oxw();s.Q6J("spTooltipEnabled",m.tooltipEnabled)("spTooltip",s.lcZ(1,4,m.getTooltipText())),s.xp6(2),s.Q6J("ngIf",m.dataValue&&m.hasHistogramValue()),s.xp6(1),s.Q6J("ngIf",m.dataValue&&!m.hasHistogramValue()&&m.hasValueToShow())}}let h=(()=>{class p extends t.D{hasHistogramValue(){return n.l.arrayHasElements(this.dataValue.distribution)}hasValueToShow(){var m;return(null===(m=this.dataValue)||void 0===m?void 0:m.item)&&n.l.arrayHasElements(this.dataValue.item.list)}}return p.\u0275fac=function(){let f;return function(v){return(f||(f=s.n5z(p)))(v||p)}}(),p.\u0275cmp=s.Xpm({type:p,selectors:[["sp-display-version-histogram"]],features:[s.qOj],decls:1,vars:1,consts:[["class","sp-w-full sp-h-full sp-overflow-hidden sp-dt-display-tooltip sp-flex sp-items-center",3,"spTooltipEnabled","spTooltip",4,"ngIf"],[1,"sp-w-full","sp-h-full","sp-overflow-hidden","sp-dt-display-tooltip","sp-flex","sp-items-center",3,"spTooltipEnabled","spTooltip"],[4,"ngIf"],[1,"sp-w-full","sp-h-full","sp-flex","sp-items-center"],[4,"ngFor","ngForOf"],[3,"spTooltip","ngClass"],[1,"sp-font-bold"],[1,"sp-mr-1",3,"dataValue","fieldDefinition","entity"]],template:function(m,v){1&m&&s.YNc(0,d,4,6,"div",0),2&m&&s.Q6J("ngIf",v.dataValue)},encapsulation:2,changeDetection:0}),p})()},23406:(S,g,e)=>{"use strict";e.d(g,{O:()=>p});var t=e(45669),n=e(84046),s=e(55331),i=e(68890),r=e(51127),a=e(94944);const o=["container"];function d(f,m){if(1&f&&n._UZ(0,"img",4),2&f){const v=n.oxw(2);n.Q6J("spLazyImg",v.dataValue.iconUrl)}}function h(f,m){if(1&f&&(n.TgZ(0,"div",1,2),n.ALo(2,"spRichTextString"),n.YNc(3,d,1,1,"img",3),n.qZA()),2&f){const v=n.oxw();n.Q6J("spTooltipEnabled",v.tooltipEnabled)("spTooltip",n.lcZ(2,3,v.getTooltipText())),n.xp6(3),n.Q6J("ngIf",v.dataValue.iconUrl)}}let p=(()=>{class f extends t.D{ngAfterViewInit(){this.setAlignmentClass(this.container)}getHostClasses(){return[...super.getHostClasses(),"sp-dt-display-icon"]}}return f.\u0275fac=function(){let m;return function(E){return(m||(m=n.n5z(f)))(E||f)}}(),f.\u0275cmp=n.Xpm({type:f,selectors:[["sp-display-icon"]],viewQuery:function(v,E){if(1&v&&n.Gf(o,5),2&v){let C;n.iGM(C=n.CRH())&&(E.container=C.first)}},features:[n.qOj],decls:1,vars:1,consts:[["class","sp-icon-wrapper sp-w-full sp-h-full sp-overflow-hidden sp-dt-display-tooltip sp-flex sp-items-center",3,"spTooltipEnabled","spTooltip",4,"ngIf"],[1,"sp-icon-wrapper","sp-w-full","sp-h-full","sp-overflow-hidden","sp-dt-display-tooltip","sp-flex","sp-items-center",3,"spTooltipEnabled","spTooltip"],["container",""],["loading","lazy","class","sp-display-icon",3,"spLazyImg",4,"ngIf"],["loading","lazy",1,"sp-display-icon",3,"spLazyImg"]],template:function(v,E){1&v&&n.YNc(0,h,4,5,"div",0),2&v&&n.Q6J("ngIf",E.dataValue)},directives:[s.O5,i.i9,r.$],pipes:[a.C],encapsulation:2,changeDetection:0}),f})()},59486:(S,g,e)=>{"use strict";e.d(g,{S:()=>p});var t=e(45669),n=e(84046),s=e(55331),i=e(68890),r=e(51127),a=e(94944);const o=["container"];function d(f,m){if(1&f&&n._UZ(0,"img",4),2&f){const v=n.oxw(2);n.Q6J("spLazyImg",v.dataValue.iconUrl)}}function h(f,m){if(1&f&&(n.TgZ(0,"div",1,2),n.ALo(2,"spRichTextString"),n.YNc(3,d,1,1,"img",3),n.qZA()),2&f){const v=n.oxw();n.Q6J("spTooltipEnabled",v.tooltipEnabled)("spTooltip",n.lcZ(2,3,v.getTooltipText())),n.xp6(3),n.Q6J("ngIf",v.dataValue.iconUrl)}}let p=(()=>{class f extends t.D{ngAfterViewInit(){this.setAlignmentClass(this.container)}}return f.\u0275fac=function(){let m;return function(E){return(m||(m=n.n5z(f)))(E||f)}}(),f.\u0275cmp=n.Xpm({type:f,selectors:[["sp-display-issue-type-icon"]],viewQuery:function(v,E){if(1&v&&n.Gf(o,5),2&v){let C;n.iGM(C=n.CRH())&&(E.container=C.first)}},features:[n.qOj],decls:1,vars:1,consts:[["class","sp-icon-wrapper sp-w-full sp-h-full sp-overflow-hidden sp-dt-display-tooltip sp-flex sp-items-center",3,"spTooltipEnabled","spTooltip",4,"ngIf"],[1,"sp-icon-wrapper","sp-w-full","sp-h-full","sp-overflow-hidden","sp-dt-display-tooltip","sp-flex","sp-items-center",3,"spTooltipEnabled","spTooltip"],["container",""],["class","sp-display-icon",3,"spLazyImg",4,"ngIf"],[1,"sp-display-icon",3,"spLazyImg"]],template:function(v,E){1&v&&n.YNc(0,h,4,5,"div",0),2&v&&n.Q6J("ngIf",E.dataValue)},directives:[s.O5,i.i9,r.$],pipes:[a.C],encapsulation:2,changeDetection:0}),f})()},68502:(S,g,e)=>{"use strict";e.d(g,{R:()=>p});var t=e(45669),n=e(84046),s=e(55331),i=e(68890),r=e(51127),a=e(94944);const o=["container"];function d(f,m){if(1&f&&n._UZ(0,"img",5),2&f){const v=n.oxw(2);n.Q6J("spLazyImg",v.dataValue.iconUrl)}}function h(f,m){if(1&f&&(n.TgZ(0,"div",1,2),n.ALo(2,"spRichTextString"),n.YNc(3,d,1,1,"img",3),n.TgZ(4,"span",4),n._uU(5),n.qZA(),n.qZA()),2&f){const v=n.oxw();n.Q6J("spTooltipEnabled",v.tooltipEnabled)("spTooltip",n.lcZ(2,4,v.getTooltipText())),n.xp6(3),n.Q6J("ngIf",v.dataValue.iconUrl),n.xp6(2),n.Oqu(v.dataValue.name)}}let p=(()=>{class f extends t.D{ngAfterViewInit(){this.setAlignmentClass(this.container)}}return f.\u0275fac=function(){let m;return function(E){return(m||(m=n.n5z(f)))(E||f)}}(),f.\u0275cmp=n.Xpm({type:f,selectors:[["sp-display-issue-type-icon-and-name"]],viewQuery:function(v,E){if(1&v&&n.Gf(o,5),2&v){let C;n.iGM(C=n.CRH())&&(E.container=C.first)}},features:[n.qOj],decls:1,vars:1,consts:[["class","sp-icon-wrapper sp-w-full sp-h-full sp-overflow-hidden sp-dt-display-tooltip sp-flex sp-items-center",3,"spTooltipEnabled","spTooltip",4,"ngIf"],[1,"sp-icon-wrapper","sp-w-full","sp-h-full","sp-overflow-hidden","sp-dt-display-tooltip","sp-flex","sp-items-center",3,"spTooltipEnabled","spTooltip"],["container",""],["class","sp-display-icon",3,"spLazyImg",4,"ngIf"],[1,"sp-pl-2","sp-text-wrapper"],[1,"sp-display-icon",3,"spLazyImg"]],template:function(v,E){1&v&&n.YNc(0,h,6,6,"div",0),2&v&&n.Q6J("ngIf",E.dataValue)},directives:[s.O5,i.i9,r.$],pipes:[a.C],encapsulation:2,changeDetection:0}),f})()},48315:(S,g,e)=>{"use strict";e.d(g,{d:()=>d});var t=e(45669),n=e(84046),s=e(55331),i=e(68890),r=e(94944);const a=["container"];function o(h,p){if(1&h&&(n.TgZ(0,"div",1,2),n.ALo(2,"spRichTextString"),n.TgZ(3,"span",3),n._uU(4),n.qZA(),n.qZA()),2&h){const f=n.oxw();n.Q6J("spTooltipEnabled",f.tooltipEnabled)("spTooltip",n.lcZ(2,3,f.getTooltipText())),n.xp6(4),n.Oqu(f.dataValue.name)}}let d=(()=>{class h extends t.D{ngAfterViewInit(){this.setAlignmentClass(this.container)}}return h.\u0275fac=function(){let p;return function(m){return(p||(p=n.n5z(h)))(m||h)}}(),h.\u0275cmp=n.Xpm({type:h,selectors:[["sp-display-issue-type-name"]],viewQuery:function(f,m){if(1&f&&n.Gf(a,5),2&f){let v;n.iGM(v=n.CRH())&&(m.container=v.first)}},features:[n.qOj],decls:1,vars:1,consts:[["class","sp-w-full sp-h-full sp-overflow-hidden sp-dt-display-tooltip sp-flex sp-items-center",3,"spTooltipEnabled","spTooltip",4,"ngIf"],[1,"sp-w-full","sp-h-full","sp-overflow-hidden","sp-dt-display-tooltip","sp-flex","sp-items-center",3,"spTooltipEnabled","spTooltip"],["container",""],[1,"sp-text-wrapper"]],template:function(f,m){1&f&&n.YNc(0,o,5,5,"div",0),2&f&&n.Q6J("ngIf",m.dataValue&&m.dataValue.name)},directives:[s.O5,i.i9],pipes:[r.C],encapsulation:2,changeDetection:0}),h})()},30702:(S,g,e)=>{"use strict";e.d(g,{t:()=>f});var t=e(45669),n=e(84046),s=e(55331),i=e(68890),r=e(26463),a=e(58264),o=e(94944);function d(m,v){if(1&m&&(n.TgZ(0,"a",4),n._uU(1),n.qZA()),2&m){const E=n.oxw(2);n.Q6J("spNavigationLink",E.href),n.xp6(1),n.hij(" ",E.value," ")}}function h(m,v){if(1&m&&(n.TgZ(0,"div",5),n._uU(1),n.qZA()),2&m){const E=n.oxw(2);n.xp6(1),n.hij(" ",E.value," ")}}function p(m,v){if(1&m&&(n.TgZ(0,"div",1),n.ALo(1,"spRichTextString"),n.YNc(2,d,2,2,"a",2),n.YNc(3,h,2,1,"ng-template",null,3,n.W1O),n.qZA()),2&m){const E=n.MAs(4),C=n.oxw();n.Q6J("spTooltipEnabled",C.tooltipEnabled)("spTooltip",n.lcZ(1,4,C.getTooltipText())),n.xp6(2),n.Q6J("ngIf",C.href)("ngIfElse",E)}}let f=(()=>{class m extends t.D{constructor(){super(...arguments),this.value="",this.href=""}setDataValue(E){E&&(this.dataValue=E,this.setValue(),this.setHref())}setValue(){var E;this.value=null===(E=this.dataValue)||void 0===E?void 0:E.value}setHref(){var E;this.href=null===(E=this.dataValue)||void 0===E?void 0:E.url}}return m.\u0275fac=function(){let v;return function(C){return(v||(v=n.n5z(m)))(C||m)}}(),m.\u0275cmp=n.Xpm({type:m,selectors:[["sp-display-task-key"]],features:[n.qOj],decls:1,vars:1,consts:[["class","sp-w-full sp-h-full sp-overflow-hidden sp-dt-display-tooltip sp-flex sp-items-center",3,"spTooltipEnabled","spTooltip",4,"ngIf"],[1,"sp-w-full","sp-h-full","sp-overflow-hidden","sp-dt-display-tooltip","sp-flex","sp-items-center",3,"spTooltipEnabled","spTooltip"],["spRightClickIgnore","","class","sp-task_key sp-text-wrapper","target","_blank",3,"spNavigationLink",4,"ngIf","ngIfElse"],["noLink",""],["spRightClickIgnore","","target","_blank",1,"sp-task_key","sp-text-wrapper",3,"spNavigationLink"],[1,"sp-task_key","sp-text-wrapper"]],template:function(E,C){1&E&&n.YNc(0,p,5,6,"div",0),2&E&&n.Q6J("ngIf",C.dataValue)},directives:[s.O5,i.i9,r.k,a.N],pipes:[o.C],encapsulation:2,changeDetection:0}),m})()},81281:(S,g,e)=>{"use strict";e.d(g,{g:()=>v});var t=e(45669),n=e(71118),s=e(84046),i=e(55331),r=e(68890),a=e(41004),o=e(94944);function d(E,C){if(1&E&&(s.ynx(0),s.TgZ(1,"a",8),s._uU(2),s.qZA(),s.BQk()),2&E){const T=s.oxw().$implicit;s.xp6(1),s.s9C("href",null==T?null:T.url,s.LSH),s.xp6(1),s.hij(" ",null==T?null:T.name," ")}}function h(E,C){if(1&E&&s._uU(0),2&E){const T=s.oxw().$implicit;s.hij(" ",null==T?null:T.name," ")}}function p(E,C){if(1&E&&(s.ynx(0),s.TgZ(1,"sp-lozenge",5),s.YNc(2,d,3,2,"ng-container",6),s.YNc(3,h,1,1,"ng-template",null,7,s.W1O),s.qZA(),s.BQk()),2&E){const T=C.$implicit,y=C.index,I=s.MAs(4),P=s.oxw(3);s.xp6(1),s.ekj("sp-pl-1",y>0),s.Q6J("textColor",P.getLabelTextColor(T))("backgroundColor",P.getLabelBackgroundColor(T)),s.xp6(1),s.Q6J("ngIf",T.url)("ngIfElse",I)}}function f(E,C){if(1&E&&(s.TgZ(0,"div",3),s.YNc(1,p,5,6,"ng-container",4),s.qZA()),2&E){const T=s.oxw(2);s.xp6(1),s.Q6J("ngForOf",T.dataValue.labels)}}function m(E,C){if(1&E&&(s.TgZ(0,"div",1),s.ALo(1,"spRichTextString"),s.YNc(2,f,2,1,"div",2),s.qZA()),2&E){const T=s.oxw();s.Q6J("spTooltipEnabled",T.tooltipEnabled)("spTooltip",s.lcZ(1,3,T.getTooltipText())),s.xp6(2),s.Q6J("ngIf",T.isLabelsAvailable())}}let v=(()=>{class E extends t.D{getLabelTextColor(T){var y;return null===(y=null==T?void 0:T.hexColor)||void 0===y?void 0:y.textColor}getLabelBackgroundColor(T){var y;return null===(y=null==T?void 0:T.hexColor)||void 0===y?void 0:y.backgroundColor}isLabelsAvailable(){return n.l.isDefined(this.dataValue)&&n.l.arrayHasElements(this.dataValue.labels)}}return E.\u0275fac=function(){let C;return function(y){return(C||(C=s.n5z(E)))(y||E)}}(),E.\u0275cmp=s.Xpm({type:E,selectors:[["sp-display-labels"]],features:[s.qOj],decls:1,vars:1,consts:[["class","sp-w-full sp-h-full sp-overflow-hidden sp-dt-display-tooltip sp-flex sp-items-center",3,"spTooltipEnabled","spTooltip",4,"ngIf"],[1,"sp-w-full","sp-h-full","sp-overflow-hidden","sp-dt-display-tooltip","sp-flex","sp-items-center",3,"spTooltipEnabled","spTooltip"],["class","sp-w-full sp-h-full sp-flex sp-items-center",4,"ngIf"],[1,"sp-w-full","sp-h-full","sp-flex","sp-items-center"],[4,"ngFor","ngForOf"],[3,"textColor","backgroundColor"],[4,"ngIf","ngIfElse"],["urlNotExists",""],["target","_blank",3,"href"]],template:function(T,y){1&T&&s.YNc(0,m,3,5,"div",0),2&T&&s.Q6J("ngIf",y.dataValue)},directives:[i.O5,r.i9,i.sg,a.H],pipes:[o.C],encapsulation:2,changeDetection:0}),E})()},54614:(S,g,e)=>{"use strict";e.d(g,{K:()=>d});var t=e(45669),n=e(84046),s=e(55331),i=e(68890),r=e(26463),a=e(94944);function o(h,p){if(1&h&&(n.TgZ(0,"div",1),n.ALo(1,"spRichTextString"),n.TgZ(2,"a",2),n._uU(3),n.qZA(),n.qZA()),2&h){const f=n.oxw();n.Udp("-webkit-line-clamp",1),n.Q6J("spTooltipEnabled",f.tooltipEnabled)("spTooltip",n.lcZ(1,6,f.getTooltipText())),n.xp6(2),n.Q6J("spNavigationLink",f.dataValue.value),n.xp6(1),n.hij(" ",f.dataValue.value," ")}}let d=(()=>{class h extends t.D{}return h.\u0275fac=function(){let p;return function(m){return(p||(p=n.n5z(h)))(m||h)}}(),h.\u0275cmp=n.Xpm({type:h,selectors:[["sp-display-link"]],features:[n.qOj],decls:1,vars:1,consts:[["class","sp-w-full sp-h-full sp-overflow-hidden sp-dt-display-tooltip sp-flex sp-items-center sp-display-field sp-truncate",3,"-webkit-line-clamp","spTooltipEnabled","spTooltip",4,"ngIf"],[1,"sp-w-full","sp-h-full","sp-overflow-hidden","sp-dt-display-tooltip","sp-flex","sp-items-center","sp-display-field","sp-truncate",3,"spTooltipEnabled","spTooltip"],["target","_parent",1,"sp-text-wrapper",3,"spNavigationLink"]],template:function(f,m){1&f&&n.YNc(0,o,4,8,"div",0),2&f&&n.Q6J("ngIf",void 0!==m.dataValue)},directives:[s.O5,i.i9,r.k],pipes:[a.C],encapsulation:2,changeDetection:0}),h})()},97483:(S,g,e)=>{"use strict";e.d(g,{e:()=>o});var t=e(45669),n=e(84046),s=e(55331),i=e(68890),r=e(94944);function a(d,h){if(1&d&&(n.TgZ(0,"div",1),n.ALo(1,"spRichTextString"),n._UZ(2,"div",2),n.qZA()),2&d){const p=n.oxw();n.Q6J("spTooltipEnabled",p.tooltipEnabled)("spTooltip",n.lcZ(1,2,p.getTooltipText()))}}let o=(()=>{class d extends t.D{ngOnInit(){super.ngOnInit(),this.domManipulator.addHostClass("sp-pl-1","sp-overflow-hidden")}isMilestone(){return this.fieldDefinition.isMilestone(this.dataValue)}}return d.\u0275fac=function(){let h;return function(f){return(h||(h=n.n5z(d)))(f||d)}}(),d.\u0275cmp=n.Xpm({type:d,selectors:[["sp-display-milestone-icon"]],features:[n.qOj],decls:1,vars:1,consts:[["class","sp-w-full sp-h-full sp-dt-display-tooltip sp-flex sp-items-center",3,"spTooltipEnabled","spTooltip",4,"ngIf"],[1,"sp-w-full","sp-h-full","sp-dt-display-tooltip","sp-flex","sp-items-center",3,"spTooltipEnabled","spTooltip"],[1,"sp-pl-1","sp-display-milestone__icon","sp-border-rounded","sp-bg-gray-100"]],template:function(p,f){1&p&&n.YNc(0,a,3,4,"div",0),2&p&&n.Q6J("ngIf",void 0!==f.dataValue&&f.isMilestone())},directives:[s.O5,i.i9],pipes:[r.C],styles:[".sp-display-milestone__icon{width:16px;height:16px;min-width:16px;min-height:16px;transform:rotate(45deg)}\n"],encapsulation:2,changeDetection:0}),d})()},90257:(S,g,e)=>{"use strict";e.d(g,{P:()=>d});var t=e(45669),n=e(84046),s=e(73147),i=e(55331),r=e(68890),a=e(94944);function o(h,p){if(1&h&&(n.TgZ(0,"div",1),n.ALo(1,"spRichTextString"),n._UZ(2,"div",2),n.TgZ(3,"span",3),n._uU(4),n.qZA(),n.qZA()),2&h){const f=n.oxw();n.Q6J("spTooltipEnabled",f.tooltipEnabled)("spTooltip",n.lcZ(1,3,f.getTooltipText())),n.xp6(4),n.Oqu(f.getFormattedName())}}let d=(()=>{class h extends t.D{constructor(f,m,v,E,C){super(f,m,v,E,C),this.renderer=f,this.elementRef=m,this.changeDetectorRef=v,this.injector=E,this.fieldCustomActions=C}ngOnInit(){super.ngOnInit(),this.domManipulator.addHostClass("sp-pl-1","sp-overflow-hidden")}isMilestone(){return this.fieldDefinition.isMilestone(this.dataValue)}getFormattedName(){return this.fieldDefinition.getFormattedName(this.dataValue)}}return h.\u0275fac=function(f){return new(f||h)(n.Y36(n.Qsj),n.Y36(n.SBq),n.Y36(n.sBO),n.Y36(n.zs3),n.Y36(s.H,8))},h.\u0275cmp=n.Xpm({type:h,selectors:[["sp-display-milestone-icon-and-name"]],features:[n.qOj],decls:1,vars:1,consts:[["class","sp-w-full sp-h-full sp-dt-display-tooltip sp-flex sp-items-center",3,"spTooltipEnabled","spTooltip",4,"ngIf"],[1,"sp-w-full","sp-h-full","sp-dt-display-tooltip","sp-flex","sp-items-center",3,"spTooltipEnabled","spTooltip"],[1,"sp-pl-1","sp-display-milestone__icon-with-name","sp-border-rounded","sp-bg-gray-100"],[1,"sp-ml-2","sp-text-wrapper"]],template:function(f,m){1&f&&n.YNc(0,o,5,5,"div",0),2&f&&n.Q6J("ngIf",void 0!==m.dataValue&&m.isMilestone())},directives:[i.O5,r.i9],pipes:[a.C],styles:[".sp-display-milestone__icon-with-name{width:16px;height:16px;min-width:16px;min-height:16px;transform:rotate(45deg)}\n"],encapsulation:2,changeDetection:0}),h})()},11188:(S,g,e)=>{"use strict";e.d(g,{W:()=>o});var t=e(45669),n=e(84046),s=e(55331),i=e(68890),r=e(94944);function a(d,h){if(1&d&&(n.TgZ(0,"div",1),n.ALo(1,"spRichTextString"),n.TgZ(2,"span",2),n._uU(3),n.qZA(),n.qZA()),2&d){const p=n.oxw();n.Q6J("spTooltipEnabled",p.tooltipEnabled)("spTooltip",n.lcZ(1,3,p.getTooltipText())),n.xp6(3),n.Oqu(p.getFormattedName())}}let o=(()=>{class d extends t.D{isMilestone(){return this.fieldDefinition.isMilestone(this.dataValue)}getFormattedName(){return this.fieldDefinition.getFormattedName(this.dataValue)}}return d.\u0275fac=function(){let h;return function(f){return(h||(h=n.n5z(d)))(f||d)}}(),d.\u0275cmp=n.Xpm({type:d,selectors:[["sp-display-milestone-name"]],features:[n.qOj],decls:1,vars:1,consts:[["class","sp-w-full sp-h-full sp-overflow-hidden sp-dt-display-tooltip sp-flex sp-items-center",3,"spTooltipEnabled","spTooltip",4,"ngIf"],[1,"sp-w-full","sp-h-full","sp-overflow-hidden","sp-dt-display-tooltip","sp-flex","sp-items-center",3,"spTooltipEnabled","spTooltip"],[1,"sp-text-wrapper"]],template:function(p,f){1&p&&n.YNc(0,a,4,5,"div",0),2&p&&n.Q6J("ngIf",void 0!==f.dataValue&&f.isMilestone())},directives:[s.O5,i.i9],pipes:[r.C],encapsulation:2,changeDetection:0}),d})()},2947:(S,g,e)=>{"use strict";e.d(g,{t:()=>f});var t=e(22089),n=e(45669),s=e(71118),i=e(84046),r=e(55331),a=e(68890),o=e(51127),d=e(94944);function h(m,v){if(1&m&&(i.ynx(0),i._UZ(1,"img",4),i.BQk()),2&m){const E=v.$implicit,C=i.oxw(2);i.xp6(1),i.Q6J("spLazyImg",C.getAvatarIcon(E))}}function p(m,v){if(1&m&&(i.TgZ(0,"div",1),i.ALo(1,"spRichTextString"),i.TgZ(2,"div",2),i.YNc(3,h,2,1,"ng-container",3),i.qZA(),i.qZA()),2&m){const E=i.oxw();i.Q6J("spTooltipEnabled",E.tooltipEnabled)("spTooltip",i.lcZ(1,3,E.getTooltipText())),i.xp6(3),i.Q6J("ngForOf",E.dataValue.users)}}let f=(()=>{class m extends n.D{isDataValueAvailable(){return this.dataValue&&s.l.arrayHasElements(this.dataValue.users)}getAvatarIcon(E){var C;return E&&(null===(C=E.data)||void 0===C?void 0:C.avatar_url_normal)?E.data.avatar_url_normal:t.V}}return m.\u0275fac=function(){let v;return function(C){return(v||(v=i.n5z(m)))(C||m)}}(),m.\u0275cmp=i.Xpm({type:m,selectors:[["sp-display-multi-user-avatar"]],features:[i.qOj],decls:1,vars:1,consts:[["class","sp-display-multi-user-avatar sp-w-full sp-h-full sp-overflow-hidden sp-dt-display-tooltip sp-flex sp-items-center",3,"spTooltipEnabled","spTooltip",4,"ngIf"],[1,"sp-display-multi-user-avatar","sp-w-full","sp-h-full","sp-overflow-hidden","sp-dt-display-tooltip","sp-flex","sp-items-center",3,"spTooltipEnabled","spTooltip"],[1,"sp-w-full","sp-h-full","sp-flex","sp-items-center"],[4,"ngFor","ngForOf"],[1,"sp-user-avatar","sp-circle","sp-ml-1",3,"spLazyImg"]],template:function(E,C){1&E&&i.YNc(0,p,4,5,"div",0),2&E&&i.Q6J("ngIf",C.isDataValueAvailable())},directives:[r.O5,a.i9,r.sg,o.$],pipes:[d.C],styles:[".sp-display-multi-user-avatar .sp-user-avatar{min-height:16px;min-width:16px;height:16px;width:16px;object-fit:cover}\n"],encapsulation:2,changeDetection:0}),m})()},3043:(S,g,e)=>{"use strict";e.d(g,{U:()=>f});var t=e(22089),n=e(45669),s=e(71118),i=e(84046),r=e(55331),a=e(68890),o=e(51127),d=e(94944);function h(m,v){if(1&m&&(i.TgZ(0,"div",4),i._UZ(1,"img",5),i.TgZ(2,"span",6),i._uU(3),i.qZA(),i.qZA()),2&m){const E=v.$implicit,C=i.oxw(2);i.xp6(1),i.Q6J("spLazyImg",C.getAvatarIcon(E)),i.xp6(2),i.hij(" ",C.getDisplayName(E)," ")}}function p(m,v){if(1&m&&(i.TgZ(0,"div",1),i.ALo(1,"spRichTextString"),i.TgZ(2,"div",2),i.YNc(3,h,4,2,"div",3),i.qZA(),i.qZA()),2&m){const E=i.oxw();i.Q6J("spTooltipEnabled",E.tooltipEnabled)("spTooltip",i.lcZ(1,3,E.getTooltipText())),i.xp6(3),i.Q6J("ngForOf",E.dataValue.users)}}let f=(()=>{class m extends n.D{isDataValueAvailable(){return this.dataValue&&s.l.arrayHasElements(this.dataValue.users)}getAvatarIcon(E){var C;return E&&(null===(C=E.data)||void 0===C?void 0:C.avatar_url_normal)?E.data.avatar_url_normal:t.V}getDisplayName(E){return E.data&&E.data.displayName}}return m.\u0275fac=function(){let v;return function(C){return(v||(v=i.n5z(m)))(C||m)}}(),m.\u0275cmp=i.Xpm({type:m,selectors:[["sp-display-multi-user-avatar-and-name"]],features:[i.qOj],decls:1,vars:1,consts:[["class","sp-display-multi-user-avatar-and-name sp-w-full sp-h-full sp-overflow-hidden sp-dt-display-tooltip sp-flex sp-items-center",3,"spTooltipEnabled","spTooltip",4,"ngIf"],[1,"sp-display-multi-user-avatar-and-name","sp-w-full","sp-h-full","sp-overflow-hidden","sp-dt-display-tooltip","sp-flex","sp-items-center",3,"spTooltipEnabled","spTooltip"],[1,"sp-w-full","sp-h-full","sp-flex","sp-items-center","sp-gap-1"],["class","sp-display-avatar-and-name-container sp-flex sp-items-center sp-truncate sp-w-full sp-max-w-max",4,"ngFor","ngForOf"],[1,"sp-display-avatar-and-name-container","sp-flex","sp-items-center","sp-truncate","sp-w-full","sp-max-w-max"],[1,"sp-user-avatar","sp-circle",3,"spLazyImg"],[1,"sp-text-wrapper","sp-px-1"]],template:function(E,C){1&E&&i.YNc(0,p,4,5,"div",0),2&E&&i.Q6J("ngIf",C.isDataValueAvailable())},directives:[r.O5,a.i9,r.sg,o.$],pipes:[d.C],styles:[".sp-display-multi-user-avatar-and-name .sp-user-avatar{min-height:16px;min-width:16px;height:16px;width:16px;object-fit:cover}\n"],encapsulation:2,changeDetection:0}),m})()},13395:(S,g,e)=>{"use strict";e.d(g,{C:()=>h});var t=e(45669),n=e(71118),s=e(84046),i=e(55331),r=e(68890),a=e(94944);function o(p,f){if(1&p&&(s.ynx(0),s.TgZ(1,"span",4),s._uU(2),s.qZA(),s.BQk()),2&p){const m=f.$implicit,v=f.last,E=s.oxw(2);s.xp6(1),s.ekj("sp-px-1",!v),s.xp6(1),s.hij(" ",E.getUserDisplayName(m,v)," ")}}function d(p,f){if(1&p&&(s.TgZ(0,"div",1),s.ALo(1,"spRichTextString"),s.TgZ(2,"div",2),s.YNc(3,o,3,3,"ng-container",3),s.qZA(),s.qZA()),2&p){const m=s.oxw();s.Q6J("spTooltipEnabled",m.tooltipEnabled)("spTooltip",s.lcZ(1,3,m.getTooltipText())),s.xp6(3),s.Q6J("ngForOf",m.dataValue.users)}}let h=(()=>{class p extends t.D{isDataValueAvailable(){return this.dataValue&&n.l.arrayHasElements(this.dataValue.users)}getUserDisplayName(m,v){return m.data&&m.data.displayName+(v?"":",")}}return p.\u0275fac=function(){let f;return function(v){return(f||(f=s.n5z(p)))(v||p)}}(),p.\u0275cmp=s.Xpm({type:p,selectors:[["sp-display-multi-user-name"]],features:[s.qOj],decls:1,vars:1,consts:[["class","sp-w-full sp-h-full sp-overflow-hidden sp-dt-display-tooltip",3,"spTooltipEnabled","spTooltip",4,"ngIf"],[1,"sp-w-full","sp-h-full","sp-overflow-hidden","sp-dt-display-tooltip",3,"spTooltipEnabled","spTooltip"],[1,"sp-w-full","sp-h-full","sp-flex","sp-items-center"],[4,"ngFor","ngForOf"],[1,"sp-text-wrapper"]],template:function(m,v){1&m&&s.YNc(0,d,4,5,"div",0),2&m&&s.Q6J("ngIf",v.isDataValueAvailable())},directives:[i.O5,r.i9,i.sg],pipes:[a.C],encapsulation:2,changeDetection:0}),p})()},63716:(S,g,e)=>{"use strict";e.d(g,{m:()=>o});var t=e(45669),n=e(84046),s=e(55331),i=e(68890),r=e(94944);function a(d,h){if(1&d&&(n._UZ(0,"div",1),n.ALo(1,"spRichTextString")),2&d){const p=n.oxw();n.Q6J("spTooltipEnabled",p.tooltipEnabled)("spTooltip",n.lcZ(1,2,p.getTooltipText()))}}let o=(()=>{class d extends t.D{}return d.\u0275fac=function(){let h;return function(f){return(h||(h=n.n5z(d)))(f||d)}}(),d.\u0275cmp=n.Xpm({type:d,selectors:[["sp-display-none"]],features:[n.qOj],decls:1,vars:1,consts:[["class","sp-w-full sp-h-full sp-overflow-hidden sp-dt-display-tooltip",3,"spTooltipEnabled","spTooltip",4,"ngIf"],[1,"sp-w-full","sp-h-full","sp-overflow-hidden","sp-dt-display-tooltip",3,"spTooltipEnabled","spTooltip"]],template:function(p,f){1&p&&n.YNc(0,a,2,4,"div",0),2&p&&n.Q6J("ngIf",f.dataValue)},directives:[s.O5,i.i9],pipes:[r.C],encapsulation:2,changeDetection:0}),d})()},97609:(S,g,e)=>{"use strict";e.d(g,{k:()=>h});var t=e(45669),n=e(84046),s=e(55331),i=e(68890),r=e(41004),a=e(94944);const o=["container"];function d(p,f){if(1&p&&(n.TgZ(0,"div",1,2),n.ALo(2,"spRichTextString"),n.TgZ(3,"sp-lozenge"),n._uU(4),n.qZA(),n.qZA()),2&p){const m=n.oxw();n.Q6J("spTooltipEnabled",m.tooltipEnabled)("spTooltip",n.lcZ(2,3,m.getTooltipText())),n.xp6(4),n.hij(" ",m.dataValue.number," ")}}let h=(()=>{class p extends t.D{ngAfterViewInit(){this.setAlignmentClass(this.container)}}return p.\u0275fac=function(){let f;return function(v){return(f||(f=n.n5z(p)))(v||p)}}(),p.\u0275cmp=n.Xpm({type:p,selectors:[["sp-display-number-lozenge"]],viewQuery:function(m,v){if(1&m&&n.Gf(o,5),2&m){let E;n.iGM(E=n.CRH())&&(v.container=E.first)}},features:[n.qOj],decls:1,vars:1,consts:[["class","sp-w-full sp-h-full sp-overflow-hidden sp-dt-display-tooltip sp-flex sp-items-center",3,"spTooltipEnabled","spTooltip",4,"ngIf"],[1,"sp-w-full","sp-h-full","sp-overflow-hidden","sp-dt-display-tooltip","sp-flex","sp-items-center",3,"spTooltipEnabled","spTooltip"],["container",""]],template:function(m,v){1&m&&n.YNc(0,d,5,5,"div",0),2&m&&n.Q6J("ngIf",v.dataValue&&void 0!==v.dataValue.number)},directives:[s.O5,i.i9,r.H],pipes:[a.C],encapsulation:2,changeDetection:0}),p})()},79779:(S,g,e)=>{"use strict";e.d(g,{e:()=>d});var t=e(45669),n=e(84046),s=e(55331),i=e(68890),r=e(94944);const a=["container"];function o(h,p){if(1&h&&(n.TgZ(0,"div",1,2),n.ALo(2,"spRichTextString"),n.TgZ(3,"span",3),n._uU(4),n.qZA(),n.qZA()),2&h){const f=n.oxw();n.Q6J("spTooltipEnabled",f.tooltipEnabled)("spTooltip",n.lcZ(2,3,f.getTooltipText())),n.xp6(4),n.Oqu(f.dataValue.number)}}let d=(()=>{class h extends t.D{ngAfterViewInit(){this.setAlignmentClass(this.container)}}return h.\u0275fac=function(){let p;return function(m){return(p||(p=n.n5z(h)))(m||h)}}(),h.\u0275cmp=n.Xpm({type:h,selectors:[["sp-display-number-text"]],viewQuery:function(f,m){if(1&f&&n.Gf(a,5),2&f){let v;n.iGM(v=n.CRH())&&(m.container=v.first)}},features:[n.qOj],decls:1,vars:1,consts:[["class","sp-w-full sp-h-full sp-overflow-hidden sp-dt-display-tooltip sp-flex sp-items-center",3,"spTooltipEnabled","spTooltip",4,"ngIf"],[1,"sp-w-full","sp-h-full","sp-overflow-hidden","sp-dt-display-tooltip","sp-flex","sp-items-center",3,"spTooltipEnabled","spTooltip"],["container",""],[1,"sp-text-wrapper"]],template:function(f,m){1&f&&n.YNc(0,o,5,5,"div",0),2&f&&n.Q6J("ngIf",m.dataValue&&void 0!==m.dataValue.number)},directives:[s.O5,i.i9],pipes:[r.C],encapsulation:2,changeDetection:0}),h})()},82015:(S,g,e)=>{"use strict";e.d(g,{v:()=>d});var t=e(45669),n=e(84046),s=e(55331),i=e(68890),r=e(41004),a=e(94944);function o(h,p){if(1&h&&(n.TgZ(0,"div",1),n.ALo(1,"spRichTextString"),n.TgZ(2,"sp-lozenge",2),n._uU(3),n.qZA(),n.qZA()),2&h){const f=n.oxw();n.Q6J("spTooltipEnabled",f.tooltipEnabled)("spTooltip",n.lcZ(1,4,f.getTooltipText())),n.xp6(2),n.Q6J("type",f.dataValue),n.xp6(1),n.hij(" ",f.dataValue.number,"% ")}}let d=(()=>{class h extends t.D{}return h.\u0275fac=function(){let p;return function(m){return(p||(p=n.n5z(h)))(m||h)}}(),h.\u0275cmp=n.Xpm({type:h,selectors:[["sp-display-percentage-lozenge"]],features:[n.qOj],decls:1,vars:1,consts:[["class","sp-w-full sp-h-full sp-overflow-hidden sp-dt-display-tooltip sp-flex sp-items-center",3,"spTooltipEnabled","spTooltip",4,"ngIf"],[1,"sp-w-full","sp-h-full","sp-overflow-hidden","sp-dt-display-tooltip","sp-flex","sp-items-center",3,"spTooltipEnabled","spTooltip"],[3,"type"]],template:function(f,m){1&f&&n.YNc(0,o,4,6,"div",0),2&f&&n.Q6J("ngIf",void 0!==m.dataValue)},directives:[s.O5,i.i9,r.H],pipes:[a.C],encapsulation:2,changeDetection:0}),h})()},39459:(S,g,e)=>{"use strict";e.d(g,{s:()=>o});var t=e(45669),n=e(84046),s=e(55331),i=e(68890),r=e(94944);function a(d,h){if(1&d&&(n.TgZ(0,"div",1),n.ALo(1,"spRichTextString"),n.TgZ(2,"span",2),n._uU(3),n.qZA(),n.qZA()),2&d){const p=n.oxw();n.Q6J("spTooltipEnabled",p.tooltipEnabled)("spTooltip",n.lcZ(1,3,p.getTooltipText())),n.xp6(3),n.hij("",p.dataValue.number,"%")}}let o=(()=>{class d extends t.D{}return d.\u0275fac=function(){let h;return function(f){return(h||(h=n.n5z(d)))(f||d)}}(),d.\u0275cmp=n.Xpm({type:d,selectors:[["sp-display-percentage-text"]],features:[n.qOj],decls:1,vars:1,consts:[["class","sp-w-full sp-h-full sp-overflow-hidden sp-dt-display-tooltip sp-flex sp-items-center",3,"spTooltipEnabled","spTooltip",4,"ngIf"],[1,"sp-w-full","sp-h-full","sp-overflow-hidden","sp-dt-display-tooltip","sp-flex","sp-items-center",3,"spTooltipEnabled","spTooltip"],[1,"sp-text-wrapper"]],template:function(p,f){1&p&&n.YNc(0,a,4,5,"div",0),2&p&&n.Q6J("ngIf",void 0!==f.dataValue)},directives:[s.O5,i.i9],pipes:[r.C],encapsulation:2,changeDetection:0}),d})()},44066:(S,g,e)=>{"use strict";e.d(g,{O:()=>o});var t=e(45669),n=e(84046),s=e(55331),i=e(68890),r=e(94944);function a(d,h){if(1&d&&(n._UZ(0,"div",1),n.ALo(1,"spRichTextString")),2&d){const p=n.oxw();n.Q6J("spTooltipEnabled",p.tooltipEnabled)("spTooltip",n.lcZ(1,2,p.getTooltipText()))}}let o=(()=>{class d extends t.D{}return d.\u0275fac=function(){let h;return function(f){return(h||(h=n.n5z(d)))(f||d)}}(),d.\u0275cmp=n.Xpm({type:d,selectors:[["sp-display-period"]],features:[n.qOj],decls:1,vars:1,consts:[["class","sp-w-full sp-h-full sp-overflow-hidden sp-dt-display-tooltip sp-flex sp-items-center",3,"spTooltipEnabled","spTooltip",4,"ngIf"],[1,"sp-w-full","sp-h-full","sp-overflow-hidden","sp-dt-display-tooltip","sp-flex","sp-items-center",3,"spTooltipEnabled","spTooltip"]],template:function(p,f){1&p&&n.YNc(0,a,2,4,"div",0),2&p&&n.Q6J("ngIf",f.dataValue)},directives:[s.O5,i.i9],pipes:[r.C],encapsulation:2,changeDetection:0}),d})()},26e3:(S,g,e)=>{"use strict";e.d(g,{J:()=>t});class t{static getPeriodModeIcon(s){switch(s){case"MANUAL":return"hand-paper";case"LOCKED":return"lock-alt";case"AUTO_BOTTOM_UP":return"arrow-from-bottom";case"AUTO_TOP_DOWN":return"arrow-from-top";default:throw new Error("Unknown period mode")}}static getPeriodModeLabel(s){switch(s){case"MANUAL":return"Manual";case"LOCKED":return"Locked";case"AUTO_BOTTOM_UP":return"Auto bottom-up";case"AUTO_TOP_DOWN":return"Auto top-down";default:throw new Error("Unknown period mode")}}}},14067:(S,g,e)=>{"use strict";e.d(g,{h:()=>h});var t=e(45669),n=e(26e3),s=e(84046),i=e(55331),r=e(68890),a=e(83063),o=e(94944);function d(p,f){if(1&p&&(s.TgZ(0,"div",1),s.ALo(1,"spRichTextString"),s._UZ(2,"sp-icon",2),s.qZA()),2&p){const m=s.oxw();s.Q6J("spTooltipEnabled",m.tooltipEnabled)("spTooltip",s.lcZ(1,4,m.getTooltipText())),s.xp6(2),s.Q6J("name",m.getIconClass())("color",m.iconColor)}}let h=(()=>{class p extends t.D{constructor(){super(...arguments),this.iconColor="var(--gray-500)"}getIconClass(){return n.J.getPeriodModeIcon(this.dataValue.value)}}return p.\u0275fac=function(){let f;return function(v){return(f||(f=s.n5z(p)))(v||p)}}(),p.\u0275cmp=s.Xpm({type:p,selectors:[["sp-display-period-mode-icon"]],features:[s.qOj],decls:1,vars:1,consts:[["class","sp-w-full sp-h-full sp-overflow-hidden sp-dt-display-tooltip sp-flex sp-items-center",3,"spTooltipEnabled","spTooltip",4,"ngIf"],[1,"sp-w-full","sp-h-full","sp-overflow-hidden","sp-dt-display-tooltip","sp-flex","sp-items-center",3,"spTooltipEnabled","spTooltip"],[1,"sp-mr-2",3,"name","color"]],template:function(m,v){1&m&&s.YNc(0,d,3,6,"div",0),2&m&&s.Q6J("ngIf",v.dataValue)},directives:[i.O5,r.i9,a.o],pipes:[o.C],encapsulation:2,changeDetection:0}),p})()},84965:(S,g,e)=>{"use strict";e.d(g,{b:()=>h});var t=e(45669),n=e(26e3),s=e(84046),i=e(55331),r=e(68890),a=e(83063),o=e(94944);function d(p,f){if(1&p&&(s.TgZ(0,"div",1),s.ALo(1,"spRichTextString"),s._UZ(2,"sp-icon",2),s.TgZ(3,"span",3),s._uU(4),s.qZA(),s.qZA()),2&p){const m=s.oxw();s.Q6J("spTooltipEnabled",m.tooltipEnabled)("spTooltip",s.lcZ(1,5,m.getTooltipText())),s.xp6(2),s.Q6J("name",m.getIconClass())("color",m.iconColor),s.xp6(2),s.Oqu(m.getFormattedName())}}let h=(()=>{class p extends t.D{constructor(){super(...arguments),this.iconColor="var(--gray-500)"}getFormattedName(){return n.J.getPeriodModeLabel(this.dataValue.value)}getIconClass(){return n.J.getPeriodModeIcon(this.dataValue.value)}}return p.\u0275fac=function(){let f;return function(v){return(f||(f=s.n5z(p)))(v||p)}}(),p.\u0275cmp=s.Xpm({type:p,selectors:[["sp-display-period-mode-icon-and-name"]],features:[s.qOj],decls:1,vars:1,consts:[["class","sp-w-full sp-h-full sp-overflow-hidden sp-dt-display-tooltip sp-flex sp-items-center",3,"spTooltipEnabled","spTooltip",4,"ngIf"],[1,"sp-w-full","sp-h-full","sp-overflow-hidden","sp-dt-display-tooltip","sp-flex","sp-items-center",3,"spTooltipEnabled","spTooltip"],[1,"sp-mr-2",3,"name","color"],[1,"sp-text-wrapper"]],template:function(m,v){1&m&&s.YNc(0,d,5,7,"div",0),2&m&&s.Q6J("ngIf",v.dataValue)},directives:[i.O5,r.i9,a.o],pipes:[o.C],encapsulation:2,changeDetection:0}),p})()},84785:(S,g,e)=>{"use strict";e.d(g,{C:()=>d});var t=e(45669),n=e(26e3),s=e(84046),i=e(55331),r=e(68890),a=e(94944);function o(h,p){if(1&h&&(s.TgZ(0,"div",1),s.ALo(1,"spRichTextString"),s.TgZ(2,"span",2),s._uU(3),s.qZA(),s.qZA()),2&h){const f=s.oxw();s.Q6J("spTooltipEnabled",f.tooltipEnabled)("spTooltip",s.lcZ(1,3,f.getTooltipText())),s.xp6(3),s.Oqu(f.getFormattedName())}}let d=(()=>{class h extends t.D{getFormattedName(){return n.J.getPeriodModeLabel(this.dataValue.value)}}return h.\u0275fac=function(){let p;return function(m){return(p||(p=s.n5z(h)))(m||h)}}(),h.\u0275cmp=s.Xpm({type:h,selectors:[["sp-display-period-mode-name"]],features:[s.qOj],decls:1,vars:1,consts:[["class","sp-w-full sp-h-full sp-overflow-hidden sp-dt-display-tooltip sp-flex sp-items-center sp-text-wrapper",3,"spTooltipEnabled","spTooltip",4,"ngIf"],[1,"sp-w-full","sp-h-full","sp-overflow-hidden","sp-dt-display-tooltip","sp-flex","sp-items-center","sp-text-wrapper",3,"spTooltipEnabled","spTooltip"],[1,"sp-text-wrapper"]],template:function(f,m){1&f&&s.YNc(0,o,4,5,"div",0),2&f&&s.Q6J("ngIf",m.dataValue)},directives:[i.O5,r.i9],pipes:[a.C],encapsulation:2,changeDetection:0}),h})()},23800:(S,g,e)=>{"use strict";e.d(g,{G:()=>p});var t=e(45669),n=e(84046),s=e(55331),i=e(68890),r=e(51127),a=e(94944);const o=["container"];function d(f,m){if(1&f&&n._UZ(0,"img",4),2&f){const v=n.oxw(2);n.Q6J("spLazyImg",v.dataValue.iconUrl)}}function h(f,m){if(1&f&&(n.TgZ(0,"div",1,2),n.ALo(2,"spRichTextString"),n.YNc(3,d,1,1,"img",3),n.qZA()),2&f){const v=n.oxw();n.Q6J("spTooltipEnabled",v.tooltipEnabled)("spTooltip",n.lcZ(2,3,v.getTooltipText())),n.xp6(3),n.Q6J("ngIf",v.dataValue.iconUrl)}}let p=(()=>{class f extends t.D{ngAfterViewInit(){this.setAlignmentClass(this.container)}getHostClasses(){return[...super.getHostClasses(),"sp-display-priority-icon"]}}return f.\u0275fac=function(){let m;return function(E){return(m||(m=n.n5z(f)))(E||f)}}(),f.\u0275cmp=n.Xpm({type:f,selectors:[["sp-display-priority-icon"]],viewQuery:function(v,E){if(1&v&&n.Gf(o,5),2&v){let C;n.iGM(C=n.CRH())&&(E.container=C.first)}},features:[n.qOj],decls:1,vars:1,consts:[["class","sp-icon-wrapper sp-w-full sp-h-full sp-overflow-hidden sp-dt-display-tooltip sp-flex sp-items-center",3,"spTooltipEnabled","spTooltip",4,"ngIf"],[1,"sp-icon-wrapper","sp-w-full","sp-h-full","sp-overflow-hidden","sp-dt-display-tooltip","sp-flex","sp-items-center",3,"spTooltipEnabled","spTooltip"],["container",""],["class","sp-display-icon",3,"spLazyImg",4,"ngIf"],[1,"sp-display-icon",3,"spLazyImg"]],template:function(v,E){1&v&&n.YNc(0,h,4,5,"div",0),2&v&&n.Q6J("ngIf",E.dataValue)},directives:[s.O5,i.i9,r.$],pipes:[a.C],encapsulation:2,changeDetection:0}),f})()},45129:(S,g,e)=>{"use strict";e.d(g,{w:()=>f});var t=e(45669),n=e(84046),s=e(55331),i=e(68890),r=e(51127),a=e(94944);const o=["container"];function d(m,v){if(1&m&&n._UZ(0,"img",5),2&m){const E=n.oxw(2);n.Q6J("spLazyImg",E.dataValue.iconUrl)}}function h(m,v){if(1&m&&(n.TgZ(0,"span",6),n._uU(1),n.qZA()),2&m){const E=n.oxw(2);n.xp6(1),n.Oqu(E.dataValue.name)}}function p(m,v){if(1&m&&(n.TgZ(0,"div",1,2),n.ALo(2,"spRichTextString"),n.YNc(3,d,1,1,"img",3),n.YNc(4,h,2,1,"span",4),n.qZA()),2&m){const E=n.oxw();n.Q6J("spTooltipEnabled",E.tooltipEnabled)("spTooltip",n.lcZ(2,4,E.getTooltipText())),n.xp6(3),n.Q6J("ngIf",E.dataValue.iconUrl),n.xp6(1),n.Q6J("ngIf",E.dataValue.name)}}let f=(()=>{class m extends t.D{ngAfterViewInit(){this.setAlignmentClass(this.container)}}return m.\u0275fac=function(){let v;return function(C){return(v||(v=n.n5z(m)))(C||m)}}(),m.\u0275cmp=n.Xpm({type:m,selectors:[["sp-display-priority-icon-and-name"]],viewQuery:function(E,C){if(1&E&&n.Gf(o,5),2&E){let T;n.iGM(T=n.CRH())&&(C.container=T.first)}},features:[n.qOj],decls:1,vars:1,consts:[["class","sp-icon-wrapper sp-w-full sp-h-full sp-overflow-hidden sp-dt-display-tooltip sp-flex sp-items-center",3,"spTooltipEnabled","spTooltip",4,"ngIf"],[1,"sp-icon-wrapper","sp-w-full","sp-h-full","sp-overflow-hidden","sp-dt-display-tooltip","sp-flex","sp-items-center",3,"spTooltipEnabled","spTooltip"],["container",""],["class","sp-display-icon",3,"spLazyImg",4,"ngIf"],["class","sp-text-wrapper sp-pl-2",4,"ngIf"],[1,"sp-display-icon",3,"spLazyImg"],[1,"sp-text-wrapper","sp-pl-2"]],template:function(E,C){1&E&&n.YNc(0,p,5,6,"div",0),2&E&&n.Q6J("ngIf",C.dataValue)},directives:[s.O5,i.i9,r.$],pipes:[a.C],encapsulation:2,changeDetection:0}),m})()},45501:(S,g,e)=>{"use strict";e.d(g,{e:()=>p});var t=e(45669),n=e(84046),s=e(55331),i=e(68890),r=e(51127),a=e(94944);function o(f,m){if(1&f&&n._UZ(0,"img",4),2&f){const v=n.oxw(2);n.Q6J("spLazyImg",v.dataValue.iconUrl)}}function d(f,m){if(1&f&&(n.TgZ(0,"span",5),n._uU(1),n.qZA()),2&f){const v=n.oxw(2);n.xp6(1),n.Oqu(v.dataValue.name)}}function h(f,m){if(1&f&&(n.TgZ(0,"div",1),n.ALo(1,"spRichTextString"),n.YNc(2,o,1,1,"img",2),n.YNc(3,d,2,1,"span",3),n.qZA()),2&f){const v=n.oxw();n.Q6J("spTooltipEnabled",v.tooltipEnabled)("spTooltip",n.lcZ(1,4,v.getTooltipText())),n.xp6(2),n.Q6J("ngIf",v.dataValue.iconUrl),n.xp6(1),n.Q6J("ngIf",v.dataValue.name)}}let p=(()=>{class f extends t.D{}return f.\u0275fac=function(){let m;return function(E){return(m||(m=n.n5z(f)))(E||f)}}(),f.\u0275cmp=n.Xpm({type:f,selectors:[["sp-display-project-icon-and-name"]],features:[n.qOj],decls:1,vars:1,consts:[["class","sp-w-full sp-h-full sp-overflow-hidden sp-dt-display-tooltip sp-flex sp-items-center",3,"spTooltipEnabled","spTooltip",4,"ngIf"],[1,"sp-w-full","sp-h-full","sp-overflow-hidden","sp-dt-display-tooltip","sp-flex","sp-items-center",3,"spTooltipEnabled","spTooltip"],["class","sp-display-icon sp-flex-shrink-0",3,"spLazyImg",4,"ngIf"],["class","sp-pl-2 sp-text-wrapper",4,"ngIf"],[1,"sp-display-icon","sp-flex-shrink-0",3,"spLazyImg"],[1,"sp-pl-2","sp-text-wrapper"]],template:function(v,E){1&v&&n.YNc(0,h,4,6,"div",0),2&v&&n.Q6J("ngIf",E.dataValue)},directives:[s.O5,i.i9,r.$],pipes:[a.C],encapsulation:2,changeDetection:0}),f})()},34573:(S,g,e)=>{"use strict";e.d(g,{L:()=>v});var t=e(45669),n=e(84046),s=e(73147),i=e(83950),r=e(55331),a=e(68890),o=e(51127),d=e(94944);function h(E,C){if(1&E&&n._UZ(0,"img",6),2&E){const T=n.oxw(3);n.Q6J("spLazyImg",T.dataValue.iconUrl)}}function p(E,C){if(1&E&&(n.TgZ(0,"span",7),n._uU(1),n.qZA()),2&E){const T=n.oxw(3);n.xp6(1),n.Oqu(T.dataValue.name)}}function f(E,C){if(1&E&&(n.TgZ(0,"a",3),n.YNc(1,h,1,1,"img",4),n.YNc(2,p,2,1,"span",5),n.qZA()),2&E){const T=n.oxw(2);n.s9C("href",T.projectHref,n.LSH),n.xp6(1),n.Q6J("ngIf",T.dataValue.iconUrl),n.xp6(1),n.Q6J("ngIf",T.dataValue.name)}}function m(E,C){if(1&E&&(n.TgZ(0,"div",1),n.ALo(1,"spRichTextString"),n.YNc(2,f,3,3,"a",2),n.qZA()),2&E){const T=n.oxw();n.Q6J("spTooltipEnabled",T.tooltipEnabled)("spTooltip",n.lcZ(1,3,T.getTooltipText())),n.xp6(2),n.Q6J("ngIf",T.projectHref)}}let v=(()=>{class E extends t.D{constructor(T,y,I,P,L,F){super(T,y,I,P,L),this.renderer=T,this.elementRef=y,this.changeDetectorRef=I,this.injector=P,this.fieldCustomActions=L,this.environmentService=F}setDataValue(T){T&&(this.dataValue=T,this.projectHref=`${this.environmentService.getTaskProviderBaseUrl()}/browse/${T.key}`)}}return E.\u0275fac=function(T){return new(T||E)(n.Y36(n.Qsj),n.Y36(n.SBq),n.Y36(n.sBO),n.Y36(n.zs3),n.Y36(s.H,8),n.Y36(i.L))},E.\u0275cmp=n.Xpm({type:E,selectors:[["sp-display-project-icon-and-name-with-link"]],features:[n.qOj],decls:1,vars:1,consts:[["class","sp-w-full sp-h-full sp-flex sp-items-center sp-overflow-hidden sp-dt-display-tooltip",3,"spTooltipEnabled","spTooltip",4,"ngIf"],[1,"sp-w-full","sp-h-full","sp-flex","sp-items-center","sp-overflow-hidden","sp-dt-display-tooltip",3,"spTooltipEnabled","spTooltip"],["target","_blank","class","sp-display-icon-link sp-flex sp-items-center sp-overflow-hidden",3,"href",4,"ngIf"],["target","_blank",1,"sp-display-icon-link","sp-flex","sp-items-center","sp-overflow-hidden",3,"href"],["class","sp-display-icon sp-flex-shrink-0",3,"spLazyImg",4,"ngIf"],["class","sp-pl-2 sp-text-wrapper",4,"ngIf"],[1,"sp-display-icon","sp-flex-shrink-0",3,"spLazyImg"],[1,"sp-pl-2","sp-text-wrapper"]],template:function(T,y){1&T&&n.YNc(0,m,3,5,"div",0),2&T&&n.Q6J("ngIf",y.dataValue)},directives:[r.O5,a.i9,o.$],pipes:[d.C],encapsulation:2,changeDetection:0}),E})()},13787:(S,g,e)=>{"use strict";e.d(g,{B:()=>o});var t=e(45669),n=e(84046),s=e(55331),i=e(68890),r=e(94944);function a(d,h){if(1&d&&(n.TgZ(0,"div",1),n.ALo(1,"spRichTextString"),n.TgZ(2,"span",2),n._uU(3),n.qZA(),n.qZA()),2&d){const p=n.oxw();n.Q6J("spTooltipEnabled",p.tooltipEnabled)("spTooltip",n.lcZ(1,3,p.getTooltipText())),n.xp6(3),n.Oqu(p.dataValue.name)}}let o=(()=>{class d extends t.D{}return d.\u0275fac=function(){let h;return function(f){return(h||(h=n.n5z(d)))(f||d)}}(),d.\u0275cmp=n.Xpm({type:d,selectors:[["sp-display-project-name"]],features:[n.qOj],decls:1,vars:1,consts:[["class","sp-w-full sp-h-full sp-overflow-hidden sp-dt-display-tooltip sp-flex sp-items-center ",3,"spTooltipEnabled","spTooltip",4,"ngIf"],[1,"sp-w-full","sp-h-full","sp-overflow-hidden","sp-dt-display-tooltip","sp-flex","sp-items-center",3,"spTooltipEnabled","spTooltip"],[1,"sp-text-wrapper"]],template:function(p,f){1&p&&n.YNc(0,a,4,5,"div",0),2&p&&n.Q6J("ngIf",f.dataValue)},directives:[s.O5,i.i9],pipes:[r.C],encapsulation:2,changeDetection:0}),d})()},18675:(S,g,e)=>{"use strict";e.d(g,{g:()=>o});var t=e(45669),n=e(84046),s=e(55331),i=e(68890),r=e(94944);function a(d,h){if(1&d&&(n.TgZ(0,"div",1),n.ALo(1,"spRichTextString"),n.TgZ(2,"span",2),n._uU(3),n.qZA(),n.qZA()),2&d){const p=n.oxw();n.Q6J("spTooltipEnabled",p.tooltipEnabled)("spTooltip",n.lcZ(1,3,p.getTooltipText())),n.xp6(3),n.Oqu(p.dataValue.value)}}let o=(()=>{class d extends t.D{}return d.\u0275fac=function(){let h;return function(f){return(h||(h=n.n5z(d)))(f||d)}}(),d.\u0275cmp=n.Xpm({type:d,selectors:[["sp-display-rank"]],features:[n.qOj],decls:1,vars:1,consts:[["class","sp-w-full sp-h-full sp-overflow-hidden sp-dt-display-tooltip sp-flex sp-items-center",3,"spTooltipEnabled","spTooltip",4,"ngIf"],[1,"sp-w-full","sp-h-full","sp-overflow-hidden","sp-dt-display-tooltip","sp-flex","sp-items-center",3,"spTooltipEnabled","spTooltip"],[1,"sp-text-wrapper"]],template:function(p,f){1&p&&n.YNc(0,a,4,5,"div",0),2&p&&n.Q6J("ngIf",f.dataValue)},directives:[s.O5,i.i9],pipes:[r.C],encapsulation:2,changeDetection:0}),d})()},10767:(S,g,e)=>{"use strict";e.d(g,{E:()=>d});var t=e(45669),n=e(84046),s=e(55331),i=e(68890),r=e(41004),a=e(94944);function o(h,p){if(1&h&&(n.TgZ(0,"div",1),n.ALo(1,"spRichTextString"),n.TgZ(2,"sp-lozenge"),n._uU(3),n.qZA(),n.qZA()),2&h){const f=n.oxw();n.Q6J("spTooltipEnabled",f.tooltipEnabled)("spTooltip",n.lcZ(1,3,f.getTooltipText())),n.xp6(3),n.hij(" ",f.dataValue.value," ")}}let d=(()=>{class h extends t.D{}return h.\u0275fac=function(){let p;return function(m){return(p||(p=n.n5z(h)))(m||h)}}(),h.\u0275cmp=n.Xpm({type:h,selectors:[["sp-display-select-lozenge"]],features:[n.qOj],decls:1,vars:1,consts:[["class","sp-w-full sp-h-full sp-overflow-hidden sp-dt-display-tooltip sp-flex sp-items-center",3,"spTooltipEnabled","spTooltip",4,"ngIf"],[1,"sp-w-full","sp-h-full","sp-overflow-hidden","sp-dt-display-tooltip","sp-flex","sp-items-center",3,"spTooltipEnabled","spTooltip"]],template:function(f,m){1&f&&n.YNc(0,o,4,5,"div",0),2&f&&n.Q6J("ngIf",m.dataValue&&m.dataValue.value)},directives:[s.O5,i.i9,r.H],pipes:[a.C],encapsulation:2,changeDetection:0}),h})()},95272:(S,g,e)=>{"use strict";e.d(g,{n:()=>f});var t=e(45669),n=e(84046),s=e(73147),i=e(643),r=e(55331),a=e(68890),o=e(94944);function d(m,v){if(1&m&&(n.TgZ(0,"span",4),n._uU(1),n.qZA()),2&m){const E=n.oxw(2);n.Q6J("ngStyle",E.templateData.styles),n.xp6(1),n.hij(" ",E.templateData.textContent," ")}}function h(m,v){if(1&m&&(n.TgZ(0,"span",5),n._uU(1),n.qZA()),2&m){const E=n.oxw(2);n.xp6(1),n.Oqu(E.templateData.textContent)}}function p(m,v){if(1&m&&(n.TgZ(0,"div",1),n.ALo(1,"spRichTextString"),n.YNc(2,d,2,2,"span",2),n.YNc(3,h,2,1,"ng-template",null,3,n.W1O),n.qZA()),2&m){const E=n.MAs(4),C=n.oxw();n.Q6J("spTooltipEnabled",C.tooltipEnabled)("spTooltip",n.lcZ(1,4,C.getTooltipText())),n.xp6(2),n.Q6J("ngIf",C.templateData.isRootTagValid)("ngIfElse",E)}}let f=(()=>{class m extends t.D{constructor(E,C,T,y,I,P){super(E,C,T,y,I),this.renderer=E,this.elementRef=C,this.changeDetectorRef=T,this.injector=y,this.fieldCustomActions=I,this.templateDataResolver=P}setDataValue(E){E?(this.dataValue=E,this.templateData=this.templateDataResolver.fromHtmlString(E.value)):this.templateData=null}}return m.\u0275fac=function(E){return new(E||m)(n.Y36(n.Qsj),n.Y36(n.SBq),n.Y36(n.sBO),n.Y36(n.zs3),n.Y36(s.H,8),n.Y36(i.D))},m.\u0275cmp=n.Xpm({type:m,selectors:[["sp-display-styled-text"]],features:[n.qOj],decls:1,vars:1,consts:[["class","sp-w-full sp-h-full sp-overflow-hidden sp-dt-display-tooltip sp-flex sp-items-center",3,"spTooltipEnabled","spTooltip",4,"ngIf"],[1,"sp-w-full","sp-h-full","sp-overflow-hidden","sp-dt-display-tooltip","sp-flex","sp-items-center",3,"spTooltipEnabled","spTooltip"],[3,"ngStyle",4,"ngIf","ngIfElse"],["rootTagNotValid",""],[3,"ngStyle"],[1,"sp-text-wrapper"]],template:function(E,C){1&E&&n.YNc(0,p,5,6,"div",0),2&E&&n.Q6J("ngIf",C.templateData)},directives:[r.O5,a.i9,r.PC],pipes:[o.C],encapsulation:2,changeDetection:0}),m})()},643:(S,g,e)=>{"use strict";e.d(g,{D:()=>i});class t{constructor(a,o){this.styleName=a,this.styleValue=o}static fromStyleString(a){const o=a.split(":");return 2!==o.length?null:new t(o[0].trim(),o[1].trim())}}class n{constructor(a,o,d){this.isRootTagValid=a,this.textContent=o,this.styles=d}}var s=e(84046);let i=(()=>{class r{constructor(){this.allowedStyles={background:/^(#([0-9a-f]{3}){1,2})|([a-z]+)$/i,border:/^[0-9]+[a-z]+ [a-z]+ (#([0-9a-f]{3}){1,2})|([a-z]+)$/i,color:/^(#([0-9a-f]{3}){1,2})|([a-z]+)$/i,"font-weight":/^[a-z]+$/,padding:/^([0-9]+[a-z]+\s)*[0-9]+[a-z]+$/,display:/^[a-z\-]+$/,"text-align":/^[a-z]+$/,"min-width":/^[0-9]+[a-z]+$/,"-moz-border-radius":/^[0-9]+[a-z]+$/,"-webkit-border-radius":/^[0-9]+[a-z]+$/}}fromHtmlString(o){const d=o.match(/^<span(\sstyle="[^"]*")?>/),h=o.match(/<\/span>$/),p=!!d&&!!h;return new n(p,p?o.slice(d[0].length,h.index):o,p?this.retrieveValidStylesFromPrefix(d[0]):null)}retrieveValidStylesFromPrefix(o){const d={};if(!/^<span style="[^"]*">$/.test(o))return d;const h=o.replace(/^<span style="/,"").replace(/">$/,"").split(";").map(p=>t.fromStyleString(p)).filter(p=>!!p).filter(p=>this.isStyleEntryValid(p));for(const p of h)d[p.styleName]=p.styleValue;return d}isStyleEntryValid(o){return o.styleName in this.allowedStyles&&this.allowedStyles[o.styleName].test(o.styleValue)}}return r.\u0275fac=function(o){return new(o||r)},r.\u0275prov=s.Yz7({token:r,factory:r.\u0275fac}),r})()},38971:(S,g,e)=>{"use strict";e.d(g,{x:()=>o});var t=e(45669),n=e(84046),s=e(55331),i=e(68890),r=e(94944);function a(d,h){if(1&d&&(n.TgZ(0,"div",1),n.ALo(1,"spRichTextString"),n.TgZ(2,"span",2),n._uU(3),n.qZA(),n.qZA()),2&d){const p=n.oxw();n.Q6J("spTooltipEnabled",p.tooltipEnabled)("spTooltip",n.lcZ(1,3,p.getTooltipText())),n.xp6(3),n.Oqu(p.dataValue.value)}}let o=(()=>{class d extends t.D{}return d.\u0275fac=function(){let h;return function(f){return(h||(h=n.n5z(d)))(f||d)}}(),d.\u0275cmp=n.Xpm({type:d,selectors:[["sp-display-select-text"]],features:[n.qOj],decls:1,vars:1,consts:[["class","sp-w-full sp-h-full sp-overflow-hidden sp-dt-display-tooltip sp-flex sp-items-center sp-whitespace-nowrap",3,"spTooltipEnabled","spTooltip",4,"ngIf"],[1,"sp-w-full","sp-h-full","sp-overflow-hidden","sp-dt-display-tooltip","sp-flex","sp-items-center","sp-whitespace-nowrap",3,"spTooltipEnabled","spTooltip"],[1,"sp-text-wrapper"]],template:function(p,f){1&p&&n.YNc(0,a,4,5,"div",0),2&p&&n.Q6J("ngIf",f.dataValue&&f.dataValue.value)},directives:[s.O5,i.i9],pipes:[r.C],encapsulation:2,changeDetection:0}),d})()},78600:(S,g,e)=>{"use strict";e.d(g,{i:()=>P});var t=e(45669),n=e(71118),s=e(84046),i=e(55331),r=e(68890),a=e(94944);function o(L,F){if(1&L&&(s.TgZ(0,"a",8),s._uU(1),s.qZA()),2&L){const b=s.oxw().$implicit;s.s9C("href",b.url,s.LSH),s.xp6(1),s.hij(" ",b.text," ")}}function d(L,F){if(1&L&&(s.TgZ(0,"i"),s._uU(1),s.qZA()),2&L){const b=s.oxw().$implicit;s.xp6(1),s.hij(" ",b.text," ")}}function h(L,F){if(1&L&&(s.TgZ(0,"b"),s._uU(1),s.qZA()),2&L){const b=s.oxw().$implicit;s.xp6(1),s.hij(" ",b.text," ")}}function p(L,F){if(1&L&&(s.TgZ(0,"mark"),s._uU(1),s.qZA()),2&L){const b=s.oxw().$implicit;s.xp6(1),s.hij(" ",b.text," ")}}function f(L,F){if(1&L&&(s.TgZ(0,"small"),s._uU(1),s.qZA()),2&L){const b=s.oxw().$implicit;s.xp6(1),s.hij(" ",b.text," ")}}function m(L,F){if(1&L&&(s.TgZ(0,"del"),s._uU(1),s.qZA()),2&L){const b=s.oxw().$implicit;s.xp6(1),s.hij(" ",b.text," ")}}function v(L,F){if(1&L&&(s.TgZ(0,"ins"),s._uU(1),s.qZA()),2&L){const b=s.oxw().$implicit;s.xp6(1),s.hij(" ",b.text," ")}}function E(L,F){if(1&L&&(s.TgZ(0,"sub"),s._uU(1),s.qZA()),2&L){const b=s.oxw().$implicit;s.xp6(1),s.hij(" ",b.text," ")}}function C(L,F){if(1&L&&(s.TgZ(0,"sup"),s._uU(1),s.qZA()),2&L){const b=s.oxw().$implicit;s.xp6(1),s.hij(" ",b.text," ")}}function T(L,F){if(1&L&&(s.TgZ(0,"p",9),s._uU(1),s.qZA()),2&L){const b=s.oxw().$implicit;s.xp6(1),s.Oqu(b.text)}}function y(L,F){1&L&&(s.ynx(0,4),s.YNc(1,o,2,2,"a",5),s.YNc(2,d,2,1,"i",6),s.YNc(3,h,2,1,"b",6),s.YNc(4,p,2,1,"mark",6),s.YNc(5,f,2,1,"small",6),s.YNc(6,m,2,1,"del",6),s.YNc(7,v,2,1,"ins",6),s.YNc(8,E,2,1,"sub",6),s.YNc(9,C,2,1,"sup",6),s.YNc(10,T,2,1,"p",7),s.BQk()),2&L&&(s.Q6J("ngSwitch",F.$implicit.elementType),s.xp6(1),s.Q6J("ngSwitchCase","LINK"),s.xp6(1),s.Q6J("ngSwitchCase","ITALIC"),s.xp6(1),s.Q6J("ngSwitchCase","STRONG"),s.xp6(1),s.Q6J("ngSwitchCase","MARKED"),s.xp6(1),s.Q6J("ngSwitchCase","SMALL"),s.xp6(1),s.Q6J("ngSwitchCase","DELETED"),s.xp6(1),s.Q6J("ngSwitchCase","INSERTED"),s.xp6(1),s.Q6J("ngSwitchCase","SUBSCRIPT"),s.xp6(1),s.Q6J("ngSwitchCase","SUPERSCRIPT"))}function I(L,F){if(1&L&&(s.TgZ(0,"div",1),s.ALo(1,"spRichTextString"),s.TgZ(2,"div",2),s.YNc(3,y,11,10,"ng-container",3),s.qZA(),s.qZA()),2&L){const b=s.oxw();s.Q6J("spTooltipEnabled",b.tooltipEnabled)("spTooltip",s.lcZ(1,3,b.getTooltipText())),s.xp6(3),s.Q6J("ngForOf",b.dataValue.elements)}}let P=(()=>{class L extends t.D{isDataValueAvailable(){return n.l.isDefined(this.dataValue)&&n.l.arrayHasElements(this.dataValue.elements)}}return L.\u0275fac=function(){let F;return function(x){return(F||(F=s.n5z(L)))(x||L)}}(),L.\u0275cmp=s.Xpm({type:L,selectors:[["sp-display-rich-text"]],features:[s.qOj],decls:1,vars:1,consts:[["class","sp-w-full sp-h-full sp-overflow-hidden sp-dt-display-tooltip",3,"spTooltipEnabled","spTooltip",4,"ngIf"],[1,"sp-w-full","sp-h-full","sp-overflow-hidden","sp-dt-display-tooltip",3,"spTooltipEnabled","spTooltip"],[1,"sp-w-full","sp-h-full","sp-flex","sp-items-center","sp-text-wrapper"],[3,"ngSwitch",4,"ngFor","ngForOf"],[3,"ngSwitch"],["target","_blank",3,"href",4,"ngSwitchCase"],[4,"ngSwitchCase"],["class","sp-m-0",4,"ngSwitchDefault"],["target","_blank",3,"href"],[1,"sp-m-0"]],template:function(b,x){1&b&&s.YNc(0,I,4,5,"div",0),2&b&&s.Q6J("ngIf",x.isDataValueAvailable())},directives:[i.O5,r.i9,i.sg,i.RF,i.n9,i.ED],pipes:[a.C],encapsulation:2,changeDetection:0}),L})()},95660:(S,g,e)=>{"use strict";e.d(g,{a:()=>f});var t=e(45669),n=e(19327),s=e(84046),i=e(55331),r=e(68890),a=e(94944),o=e(25082);function d(m,v){if(1&m&&(s.ynx(0),s.TgZ(1,"i",5),s.ALo(2,"spSanitize"),s.qZA(),s.BQk()),2&m){const E=s.oxw().$implicit,C=s.oxw(2);s.xp6(1),s.Udp("color",s.xi3(2,3,C.getColorHex(E),"style")),s.Q6J("ngClass",E.iconId)}}function h(m,v){if(1&m&&(s.ynx(0),s.YNc(1,d,3,6,"ng-container",4),s.BQk()),2&m){const E=v.$implicit;s.xp6(1),s.Q6J("ngIf",E)}}function p(m,v){if(1&m&&(s.TgZ(0,"div",1),s.ALo(1,"spRichTextString"),s.TgZ(2,"div",2),s.YNc(3,h,2,1,"ng-container",3),s.qZA(),s.qZA()),2&m){const E=s.oxw();s.Q6J("spTooltipEnabled",E.tooltipEnabled)("spTooltip",s.lcZ(1,3,E.getTooltipText())),s.xp6(3),s.Q6J("ngForOf",E.dataValue.skills)}}let f=(()=>{class m extends t.D{getColorHex(E){return n.I.getRequestedColorOrDefault(E.color,n.B.BLACK).backgroundStyle}}return m.\u0275fac=function(){let v;return function(C){return(v||(v=s.n5z(m)))(C||m)}}(),m.\u0275cmp=s.Xpm({type:m,selectors:[["sp-display-skills-icon"]],features:[s.qOj],decls:1,vars:1,consts:[["class","sp-w-full sp-h-full sp-overflow-hidden sp-dt-display-tooltip",3,"spTooltipEnabled","spTooltip",4,"ngIf"],[1,"sp-w-full","sp-h-full","sp-overflow-hidden","sp-dt-display-tooltip",3,"spTooltipEnabled","spTooltip"],[1,"sp-w-full","sp-h-full","sp-flex","sp-items-center"],[4,"ngFor","ngForOf"],[4,"ngIf"],[1,"sp-mr-1","sp-overflow-hidden",3,"ngClass"]],template:function(E,C){1&E&&s.YNc(0,p,4,5,"div",0),2&E&&s.Q6J("ngIf",C.dataValue)},directives:[i.O5,r.i9,i.sg,i.mk],pipes:[a.C,o.n],encapsulation:2,changeDetection:0}),m})()},50128:(S,g,e)=>{"use strict";e.d(g,{X:()=>p});var t=e(45669),n=e(84046),s=e(55331),i=e(68890),r=e(39905),a=e(94944);function o(f,m){if(1&f&&(n.ynx(0),n.TgZ(1,"sp-label",5),n._UZ(2,"i",6),n._uU(3),n.qZA(),n.BQk()),2&f){const v=n.oxw().$implicit;n.xp6(1),n.Q6J("color",v.color),n.xp6(1),n.Q6J("ngClass",v.iconId),n.xp6(1),n.hij(" ",v.name," ")}}function d(f,m){if(1&f&&(n.ynx(0),n.YNc(1,o,4,3,"ng-container",4),n.BQk()),2&f){const v=m.$implicit;n.xp6(1),n.Q6J("ngIf",v)}}function h(f,m){if(1&f&&(n.TgZ(0,"div",1),n.ALo(1,"spRichTextString"),n.TgZ(2,"div",2),n.YNc(3,d,2,1,"ng-container",3),n.qZA(),n.qZA()),2&f){const v=n.oxw();n.Q6J("spTooltipEnabled",v.tooltipEnabled&&!!v.getTooltipText())("spTooltip",n.lcZ(1,3,v.getTooltipText())),n.xp6(3),n.Q6J("ngForOf",v.dataValue.skills)}}let p=(()=>{class f extends t.D{}return f.\u0275fac=function(){let m;return function(E){return(m||(m=n.n5z(f)))(E||f)}}(),f.\u0275cmp=n.Xpm({type:f,selectors:[["sp-display-skills-icon-name"]],features:[n.qOj],decls:1,vars:1,consts:[["class","sp-w-full sp-h-full sp-overflow-hidden sp-dt-display-tooltip",3,"spTooltipEnabled","spTooltip",4,"ngIf"],[1,"sp-w-full","sp-h-full","sp-overflow-hidden","sp-dt-display-tooltip",3,"spTooltipEnabled","spTooltip"],[1,"sp-w-full","sp-h-full","sp-flex","sp-items-center"],[4,"ngFor","ngForOf"],[4,"ngIf"],[1,"sp-pt-0","sp-truncate","sp-flex-shrink-0",3,"color"],[1,"sp-mr-1","sp-text-wrapper",3,"ngClass"]],template:function(v,E){1&v&&n.YNc(0,h,4,5,"div",0),2&v&&n.Q6J("ngIf",E.dataValue)},directives:[s.O5,i.i9,s.sg,r._,s.mk],pipes:[a.C],encapsulation:2,changeDetection:0}),f})()},73101:(S,g,e)=>{"use strict";e.d(g,{h:()=>h});var t=e(45669),n=e(84046),s=e(55331),i=e(68890),r=e(94944);const a=function(p){return{"sp-mr-1":p}};function o(p,f){if(1&p&&(n.ynx(0),n.TgZ(1,"span",4),n._uU(2),n.qZA(),n.BQk()),2&p){const m=f.$implicit,v=f.last,E=n.oxw(2);n.xp6(1),n.Q6J("ngClass",n.VKq(2,a,!v)),n.xp6(1),n.hij(" ",E.getSkillName(m,v)," ")}}function d(p,f){if(1&p&&(n.TgZ(0,"div",1),n.ALo(1,"spRichTextString"),n.TgZ(2,"div",2),n.YNc(3,o,3,4,"ng-container",3),n.qZA(),n.qZA()),2&p){const m=n.oxw();n.Q6J("spTooltipEnabled",m.tooltipEnabled)("spTooltip",n.lcZ(1,3,m.getTooltipText())),n.xp6(3),n.Q6J("ngForOf",m.dataValue.skills)}}let h=(()=>{class p extends t.D{getSkillName(m,v){return(null==m?void 0:m.name)+(v?"":", ")}}return p.\u0275fac=function(){let f;return function(v){return(f||(f=n.n5z(p)))(v||p)}}(),p.\u0275cmp=n.Xpm({type:p,selectors:[["sp-display-skills-name"]],features:[n.qOj],decls:1,vars:1,consts:[["class","sp-w-full sp-h-full sp-overflow-hidden sp-dt-display-tooltip sp-flex sp-items-center",3,"spTooltipEnabled","spTooltip",4,"ngIf"],[1,"sp-w-full","sp-h-full","sp-overflow-hidden","sp-dt-display-tooltip","sp-flex","sp-items-center",3,"spTooltipEnabled","spTooltip"],[1,"sp-w-full","sp-h-full","sp-flex","sp-items-center"],[4,"ngFor","ngForOf"],[1,"sp-text-wrapper",3,"ngClass"]],template:function(m,v){1&m&&n.YNc(0,d,4,5,"div",0),2&m&&n.Q6J("ngIf",v.dataValue)},directives:[s.O5,i.i9,s.sg,s.mk],pipes:[r.C],encapsulation:2,changeDetection:0}),p})()},40626:(S,g,e)=>{"use strict";e.d(g,{B:()=>m});var t=e(98223),n=e(45669),s=e(71118),i=e(84046),r=e(73147),a=e(55331),o=e(68890),d=e(94944);function h(v,E){if(1&v&&(i.ynx(0),i.TgZ(1,"span",5),i._uU(2),i.qZA(),i.BQk()),2&v){const C=E.$implicit,T=E.last,y=i.oxw(3);i.xp6(2),i.Oqu(y.getSprintName(C,T))}}function p(v,E){if(1&v&&(i.TgZ(0,"div",3),i.YNc(1,h,3,1,"ng-container",4),i.qZA()),2&v){const C=i.oxw(2);i.xp6(1),i.Q6J("ngForOf",C.dataValue.sprints)}}function f(v,E){if(1&v&&(i.TgZ(0,"div",1),i.ALo(1,"spRichTextString"),i.YNc(2,p,2,1,"div",2),i.qZA()),2&v){const C=i.oxw();i.Q6J("spTooltipEnabled",C.tooltipEnabled)("spTooltip",i.lcZ(1,3,C.getTooltipText())),i.xp6(2),i.Q6J("ngIf",C.isSprintsAvailable())}}let m=(()=>{class v extends n.D{constructor(C,T,y,I,P,L){super(C,T,P,y,I),this.l10nTextService=L}getTooltipText(){const C=this.fieldDefinition.getLabelName(),T=this.entity.getDataValue(this.fieldDefinition.getFieldId()),y=T.currentSprint,I=T.sprints.filter(B=>"CLOSED"===B.status).map(B=>null==B?void 0:B.name).filter(Boolean),P=this.l10nTextService.translate("SPT_DISPLAY_COMPONENT_SPRINTS_ACTUAL"),L=this.l10nTextService.translate("SPT_DISPLAY_COMPONENT_SPRINTS_COMPLETED"),x=`${y?`${P} ${C}: ${null==y?void 0:y.name}; `:""}${(null==I?void 0:I.length)?`${L} ${C}: ${I.join(",")}`:""}`;return(null==x?void 0:x.length)?x:C}isSprintsAvailable(){return s.l.isDefined(this.dataValue)&&s.l.arrayHasElements(this.dataValue.sprints)}getSprintName(C,T){return(null==C?void 0:C.name)&&C.name+(T?"":", ")}}return v.\u0275fac=function(C){return new(C||v)(i.Y36(i.Qsj),i.Y36(i.SBq),i.Y36(i.zs3),i.Y36(r.H),i.Y36(i.sBO),i.Y36(t.e))},v.\u0275cmp=i.Xpm({type:v,selectors:[["sp-display-sprints"]],features:[i.qOj],decls:1,vars:1,consts:[["class","sp-w-full sp-h-full sp-overflow-hidden sp-dt-display-tooltip sp-flex sp-items-center",3,"spTooltipEnabled","spTooltip",4,"ngIf"],[1,"sp-w-full","sp-h-full","sp-overflow-hidden","sp-dt-display-tooltip","sp-flex","sp-items-center",3,"spTooltipEnabled","spTooltip"],["class","sp-w-full sp-h-full sp-flex sp-items-center",4,"ngIf"],[1,"sp-w-full","sp-h-full","sp-flex","sp-items-center"],[4,"ngFor","ngForOf"],[1,"sp-text-wrapper"]],template:function(C,T){1&C&&i.YNc(0,f,3,5,"div",0),2&C&&i.Q6J("ngIf",T.dataValue)},directives:[a.O5,o.i9,a.sg],pipes:[d.C],encapsulation:2,changeDetection:0}),v})()},18419:(S,g,e)=>{"use strict";e.d(g,{J:()=>d});var t=e(45669),n=e(84046),s=e(55331),i=e(68890),r=e(94944),a=e(65799);function o(h,p){if(1&h&&(n.TgZ(0,"div",1),n.ALo(1,"spRichTextString"),n.TgZ(2,"span",2),n._uU(3),n.ALo(4,"spL10nText"),n.qZA(),n.qZA()),2&h){const f=n.oxw();n.Q6J("spTooltipEnabled",f.tooltipEnabled)("spTooltip",n.lcZ(1,3,f.getTooltipText())),n.xp6(3),n.Oqu(n.lcZ(4,5,f.dataValue.name))}}let d=(()=>{class h extends t.D{}return h.\u0275fac=function(){let p;return function(m){return(p||(p=n.n5z(h)))(m||h)}}(),h.\u0275cmp=n.Xpm({type:h,selectors:[["sp-display-status-description"]],features:[n.qOj],decls:1,vars:1,consts:[["class","sp-w-full sp-h-full sp-overflow-hidden sp-dt-display-tooltip sp-flex sp-items-center",3,"spTooltipEnabled","spTooltip",4,"ngIf"],[1,"sp-w-full","sp-h-full","sp-overflow-hidden","sp-dt-display-tooltip","sp-flex","sp-items-center",3,"spTooltipEnabled","spTooltip"],[1,"sp-text-wrapper"]],template:function(f,m){1&f&&n.YNc(0,o,5,7,"div",0),2&f&&n.Q6J("ngIf",m.dataValue)},directives:[s.O5,i.i9],pipes:[r.C,a.L],encapsulation:2,changeDetection:0}),h})()},25539:(S,g,e)=>{"use strict";e.d(g,{V:()=>h});var t=e(45669),n=e(84046),s=e(55331),i=e(68890),r=e(41004),a=e(94944);function o(p,f){if(1&p&&(n.TgZ(0,"sp-lozenge",3),n._uU(1),n.qZA()),2&p){const m=n.oxw(2);n.Q6J("textColor",null==m.dataValue.hexColor?null:m.dataValue.hexColor.textColor)("backgroundColor",null==m.dataValue.hexColor?null:m.dataValue.hexColor.backgroundColor),n.xp6(1),n.hij(" ",m.dataValue.name," ")}}function d(p,f){if(1&p&&(n.TgZ(0,"div",1),n.ALo(1,"spRichTextString"),n.YNc(2,o,2,3,"sp-lozenge",2),n.qZA()),2&p){const m=n.oxw();n.Q6J("spTooltipEnabled",m.tooltipEnabled)("spTooltip",n.lcZ(1,3,m.getTooltipText())),n.xp6(2),n.Q6J("ngIf",null==m.dataValue.statusCategory?null:m.dataValue.statusCategory.name)}}let h=(()=>{class p extends t.D{}return p.\u0275fac=function(){let f;return function(v){return(f||(f=n.n5z(p)))(v||p)}}(),p.\u0275cmp=n.Xpm({type:p,selectors:[["sp-display-status-lozenge"]],features:[n.qOj],decls:1,vars:1,consts:[["class","sp-w-full sp-h-full sp-overflow-hidden sp-dt-display-tooltip sp-flex sp-items-center",3,"spTooltipEnabled","spTooltip",4,"ngIf"],[1,"sp-w-full","sp-h-full","sp-overflow-hidden","sp-dt-display-tooltip","sp-flex","sp-items-center",3,"spTooltipEnabled","spTooltip"],[3,"textColor","backgroundColor",4,"ngIf"],[3,"textColor","backgroundColor"]],template:function(m,v){1&m&&n.YNc(0,d,3,5,"div",0),2&m&&n.Q6J("ngIf",void 0!==v.dataValue)},directives:[s.O5,i.i9,r.H],pipes:[a.C],encapsulation:2,changeDetection:0}),p})()},83216:(S,g,e)=>{"use strict";e.d(g,{d:()=>f});var t=e(45669),n=e(84046),s=e(55331),i=e(68890),r=e(26463),a=e(58264),o=e(94944);function d(m,v){if(1&m&&(n.TgZ(0,"span",4,5),n._uU(2),n.qZA()),2&m){const E=n.oxw(2);n.xp6(2),n.hij(" ",E.dataValue.value," ")}}function h(m,v){if(1&m&&(n.TgZ(0,"a",6),n._uU(1),n.qZA()),2&m){const E=n.oxw(2);let C;n.Q6J("spNavigationLink",null==(C=E.getCustomNavigationAction())?null:C.getNavigationLink()),n.xp6(1),n.hij(" ",E.dataValue.value," ")}}function p(m,v){if(1&m&&(n.TgZ(0,"div",1),n.ALo(1,"spRichTextString"),n.YNc(2,d,3,1,"span",2),n.YNc(3,h,2,2,"ng-template",null,3,n.W1O),n.qZA()),2&m){const E=n.MAs(4),C=n.oxw();n.Q6J("spTooltipEnabled",C.tooltipEnabled)("spTooltip",n.lcZ(1,4,C.getTooltipText())),n.xp6(2),n.Q6J("ngIf",!C.isNavigationActionDefined())("ngIfElse",E)}}let f=(()=>{class m extends t.D{}return m.\u0275fac=function(){let v;return function(C){return(v||(v=n.n5z(m)))(C||m)}}(),m.\u0275cmp=n.Xpm({type:m,selectors:[["sp-display-string"]],features:[n.qOj],decls:1,vars:1,consts:[["class","sp-w-full sp-h-full sp-overflow-hidden sp-dt-display-tooltip sp-whitespace-nowrap sp-flex sp-items-center",3,"spTooltipEnabled","spTooltip",4,"ngIf"],[1,"sp-w-full","sp-h-full","sp-overflow-hidden","sp-dt-display-tooltip","sp-whitespace-nowrap","sp-flex","sp-items-center",3,"spTooltipEnabled","spTooltip"],["id","sp-dt-display-string","class","sp-text-wrapper",4,"ngIf","ngIfElse"],["navigationActionContainer",""],["id","sp-dt-display-string",1,"sp-text-wrapper"],["customActionContainer",""],["spRightClickIgnore","",1,"sp-text-wrapper",3,"spNavigationLink"]],template:function(E,C){1&E&&n.YNc(0,p,5,6,"div",0),2&E&&n.Q6J("ngIf",C.dataValue)},directives:[s.O5,i.i9,r.k,a.N],pipes:[o.C],styles:[".is-custom-action:hover{-webkit-text-decoration-line:none;text-decoration-line:none}.is-custom-action span:hover{-webkit-text-decoration-line:underline;text-decoration-line:underline}\n"],encapsulation:2,changeDetection:0}),m})()},38362:(S,g,e)=>{"use strict";e.d(g,{F:()=>o});var t=e(45669),n=e(84046),s=e(55331),i=e(68890),r=e(94944);function a(d,h){if(1&d&&(n.TgZ(0,"div",1),n.ALo(1,"spRichTextString"),n.TgZ(2,"span",2),n._uU(3),n.qZA(),n.qZA()),2&d){const p=n.oxw();n.Q6J("spTooltipEnabled",p.tooltipEnabled)("spTooltip",n.lcZ(1,3,p.getTooltipText())),n.xp6(3),n.Oqu(p.dataValue.summary)}}let o=(()=>{class d extends t.D{}return d.\u0275fac=function(){let h;return function(f){return(h||(h=n.n5z(d)))(f||d)}}(),d.\u0275cmp=n.Xpm({type:d,selectors:[["sp-display-summary"]],features:[n.qOj],decls:1,vars:1,consts:[["class","sp-w-full sp-h-full sp-overflow-hidden sp-dt-display-tooltip sp-flex sp-items-center",3,"spTooltipEnabled","spTooltip",4,"ngIf"],[1,"sp-w-full","sp-h-full","sp-overflow-hidden","sp-dt-display-tooltip","sp-flex","sp-items-center",3,"spTooltipEnabled","spTooltip"],[1,"sp-text-wrapper"]],template:function(p,f){1&p&&n.YNc(0,a,4,5,"div",0),2&p&&n.Q6J("ngIf",f.dataValue)},directives:[s.O5,i.i9],pipes:[r.C],styles:[".is-custom-action:hover{text-decoration:underline}\n"],encapsulation:2,changeDetection:0}),d})()},40383:(S,g,e)=>{"use strict";e.d(g,{W:()=>o});var t=e(45669),n=e(84046),s=e(55331),i=e(68890),r=e(94944);function a(d,h){if(1&d&&(n.TgZ(0,"div",1),n.ALo(1,"spRichTextString"),n.TgZ(2,"span",2),n._uU(3),n.qZA(),n.qZA()),2&d){const p=n.oxw();n.Q6J("spTooltipEnabled",p.tooltipEnabled)("spTooltip",n.lcZ(1,3,p.getTooltipText())),n.xp6(3),n.hij("",p.dataValue.percentage,"%")}}let o=(()=>{class d extends t.D{}return d.\u0275fac=function(){let h;return function(f){return(h||(h=n.n5z(d)))(f||d)}}(),d.\u0275cmp=n.Xpm({type:d,selectors:[["sp-display-time-tracking-percentage-text"]],features:[n.qOj],decls:1,vars:1,consts:[["class","sp-w-full sp-h-full sp-overflow-hidden sp-dt-display-tooltip sp-flex sp-items-center",3,"spTooltipEnabled","spTooltip",4,"ngIf"],[1,"sp-w-full","sp-h-full","sp-overflow-hidden","sp-dt-display-tooltip","sp-flex","sp-items-center",3,"spTooltipEnabled","spTooltip"],[1,"sp-text-wrapper"]],template:function(p,f){1&p&&n.YNc(0,a,4,5,"div",0),2&p&&n.Q6J("ngIf",f.dataValue&&void 0!==f.dataValue.percentage)},directives:[s.O5,i.i9],pipes:[r.C],encapsulation:2,changeDetection:0}),d})()},64823:(S,g,e)=>{"use strict";e.d(g,{g:()=>o});var t=e(45669),n=e(84046),s=e(55331),i=e(68890),r=e(94944);function a(d,h){if(1&d&&(n.TgZ(0,"div",1),n.ALo(1,"spRichTextString"),n.TgZ(2,"div",2),n._UZ(3,"div",3),n.qZA(),n.qZA()),2&d){const p=n.oxw();n.Q6J("spTooltipEnabled",p.tooltipEnabled)("spTooltip",n.lcZ(1,4,p.getTooltipText())),n.xp6(3),n.Udp("transform",p.getTransformValue())}}let o=(()=>{class d extends t.D{constructor(){super(...arguments),this.divider=100}getTransformValue(){return`scaleX(${this.dataValue.percentage/this.divider})`}}return d.\u0275fac=function(){let h;return function(f){return(h||(h=n.n5z(d)))(f||d)}}(),d.\u0275cmp=n.Xpm({type:d,selectors:[["sp-display-time-tracking-progress-bar"]],features:[n.qOj],decls:1,vars:1,consts:[["class","sp-display-time-tracking-progress-bar sp-w-full sp-h-full sp-overflow-hidden sp-dt-display-tooltip sp-flex sp-items-center",3,"spTooltipEnabled","spTooltip",4,"ngIf"],[1,"sp-display-time-tracking-progress-bar","sp-w-full","sp-h-full","sp-overflow-hidden","sp-dt-display-tooltip","sp-flex","sp-items-center",3,"spTooltipEnabled","spTooltip"],[1,"sp-percentage-progress-bar","sp-border-rounded","sp-w-full","sp-overflow-hidden","sp-relative","sp-flex","sp-flex-col","sp-justify-end"],[1,"sp-progress-bar","sp-w-full","sp-h-full"]],template:function(p,f){1&p&&n.YNc(0,a,4,6,"div",0),2&p&&n.Q6J("ngIf",void 0!==f.dataValue)},directives:[s.O5,i.i9],pipes:[r.C],styles:[".sp-display-time-tracking-progress-bar .sp-percentage-progress-bar{background:var(--gray-40);height:12px}.sp-display-time-tracking-progress-bar .sp-percentage-progress-bar .sp-progress-bar{background:var(--primary);transform-origin:left;transition:transform .25s ease}\n"],encapsulation:2,changeDetection:0}),d})()},77962:(S,g,e)=>{"use strict";e.d(g,{u:()=>o});var t=e(45669),n=e(84046),s=e(55331),i=e(68890),r=e(94944);function a(d,h){if(1&d&&(n.TgZ(0,"div",1),n.ALo(1,"spRichTextString"),n.TgZ(2,"div",2),n._UZ(3,"div",3),n.qZA(),n.TgZ(4,"div",4),n._uU(5),n.qZA(),n.qZA()),2&d){const p=n.oxw();n.Q6J("spTooltipEnabled",p.tooltipEnabled)("spTooltip",n.lcZ(1,5,p.getTooltipText())),n.xp6(3),n.Udp("transform",p.getTransformValue()),n.xp6(2),n.hij(" ",p.getFieldValue()," ")}}let o=(()=>{class d extends t.D{constructor(){super(...arguments),this.divider=100}getTransformValue(){return`scaleX(${this.dataValue.percentage/this.divider})`}getFieldValue(){return`${this.dataValue.percentage}%`}}return d.\u0275fac=function(){let h;return function(f){return(h||(h=n.n5z(d)))(f||d)}}(),d.\u0275cmp=n.Xpm({type:d,selectors:[["sp-display-time-tracking-progress-bar-and-percentage"]],features:[n.qOj],decls:1,vars:1,consts:[["class","sp-display-time-tracking-progress-bar-and-percentage sp-w-full sp-h-full sp-overflow-hidden sp-dt-display-tooltip sp-flex sp-items-center",3,"spTooltipEnabled","spTooltip",4,"ngIf"],[1,"sp-display-time-tracking-progress-bar-and-percentage","sp-w-full","sp-h-full","sp-overflow-hidden","sp-dt-display-tooltip","sp-flex","sp-items-center",3,"spTooltipEnabled","spTooltip"],[1,"sp-percentage-progress-bar","sp-border-rounded","sp-w-full","sp-overflow-hidden","sp-relative","sp-flex","sp-flex-col","sp-justify-end"],[1,"sp-progress-bar","sp-w-full","sp-h-full"],[1,"sp-percentage-progress"]],template:function(p,f){1&p&&n.YNc(0,a,6,7,"div",0),2&p&&n.Q6J("ngIf",f.dataValue&&void 0!==f.dataValue.percentage)},directives:[s.O5,i.i9],pipes:[r.C],styles:[".sp-display-time-tracking-progress-bar-and-percentage .sp-percentage-progress-bar{background:var(--gray-40);height:12px}.sp-display-time-tracking-progress-bar-and-percentage .sp-percentage-progress-bar .sp-progress-bar{background:var(--primary);transform-origin:left;transition:transform .25s ease}.sp-display-time-tracking-progress-bar-and-percentage .sp-percentage-progress{font-style:normal;font-weight:500;font-size:12px;line-height:16px;flex-shrink:0;margin-left:4px;width:32px;text-align:right}\n"],encapsulation:2,changeDetection:0}),d})()},37374:(S,g,e)=>{"use strict";e.d(g,{K:()=>p});var t=e(45669),n=e(71118),s=e(84046),i=e(55331),r=e(68890),a=e(26463),o=e(94944);function d(f,m){if(1&f&&(s.ynx(0),s.TgZ(1,"a",4),s._uU(2),s.qZA(),s.BQk()),2&f){const v=m.$implicit;s.xp6(1),s.Q6J("spNavigationLink",v.url),s.xp6(1),s.hij(" ",v.text," ")}}function h(f,m){if(1&f&&(s.TgZ(0,"div",1),s.ALo(1,"spRichTextString"),s.TgZ(2,"div",2),s.YNc(3,d,3,2,"ng-container",3),s.qZA(),s.qZA()),2&f){const v=s.oxw();s.Q6J("spTooltipEnabled",v.tooltipEnabled)("spTooltip",s.lcZ(1,3,v.getTooltipText())),s.xp6(3),s.Q6J("ngForOf",v.dataValue.links)}}let p=(()=>{class f extends t.D{isDateValueAvailable(){return n.l.isDefined(this.dataValue)&&n.l.arrayHasElements(this.dataValue.links)}}return f.\u0275fac=function(){let m;return function(E){return(m||(m=s.n5z(f)))(E||f)}}(),f.\u0275cmp=s.Xpm({type:f,selectors:[["sp-display-url-links"]],features:[s.qOj],decls:1,vars:1,consts:[["class","sp-w-full sp-h-full sp-overflow-hidden sp-dt-display-tooltip sp-flex sp-items-center",3,"spTooltipEnabled","spTooltip",4,"ngIf"],[1,"sp-w-full","sp-h-full","sp-overflow-hidden","sp-dt-display-tooltip","sp-flex","sp-items-center",3,"spTooltipEnabled","spTooltip"],[1,"sp-w-full","sp-h-full","sp-flex","sp-items-center"],[4,"ngFor","ngForOf"],["href","#","target","_parent",1,"sp-link","sp-text-wrapper",3,"spNavigationLink"]],template:function(v,E){1&v&&s.YNc(0,h,4,5,"div",0),2&v&&s.Q6J("ngIf",E.isDateValueAvailable())},directives:[i.O5,r.i9,i.sg,a.k],pipes:[o.C],encapsulation:2,changeDetection:0}),f})()},22089:(S,g,e)=>{"use strict";e.d(g,{V:()=>t});const t="app/common/assets/images/default-avatar.svg"},94290:(S,g,e)=>{"use strict";e.d(g,{Q:()=>h});var t=e(22089),n=e(45669),s=e(84046),i=e(55331),r=e(68890),a=e(51127),o=e(94944);function d(p,f){if(1&p&&(s.TgZ(0,"div",1),s.ALo(1,"spRichTextString"),s._UZ(2,"img",2),s.qZA()),2&p){const m=s.oxw();s.Q6J("spTooltipEnabled",m.tooltipEnabled)("spTooltip",s.lcZ(1,3,m.getTooltipText())),s.xp6(2),s.Q6J("spLazyImg",m.getAvatarIcon())}}let h=(()=>{class p extends n.D{getAvatarIcon(){var m,v;return(null===(v=null===(m=this.dataValue)||void 0===m?void 0:m.data)||void 0===v?void 0:v.avatar_url_normal)?this.dataValue.data.avatar_url_normal:t.V}getHostClasses(){return[...super.getHostClasses(),"sp-display-user-avatar"]}}return p.\u0275fac=function(){let f;return function(v){return(f||(f=s.n5z(p)))(v||p)}}(),p.\u0275cmp=s.Xpm({type:p,selectors:[["sp-display-user-avatar"]],features:[s.qOj],decls:1,vars:1,consts:[["class","sp-display-user-avatar sp-display-field sp-w-full sp-h-full sp-overflow-hidden sp-dt-display-tooltip sp-flex sp-items-center",3,"spTooltipEnabled","spTooltip",4,"ngIf"],[1,"sp-display-user-avatar","sp-display-field","sp-w-full","sp-h-full","sp-overflow-hidden","sp-dt-display-tooltip","sp-flex","sp-items-center",3,"spTooltipEnabled","spTooltip"],["loading","lazy",1,"sp-user-avatar","sp-flex","sp-items-center","sp-circle",3,"spLazyImg"]],template:function(m,v){1&m&&s.YNc(0,d,3,5,"div",0),2&m&&s.Q6J("ngIf",v.dataValue)},directives:[i.O5,r.i9,a.$],pipes:[o.C],styles:["sp-display-user-avatar .sp-user-avatar{min-height:16px;height:16px;min-width:16px;width:16px;object-fit:cover}\n"],encapsulation:2,changeDetection:0}),p})()},95596:(S,g,e)=>{"use strict";e.d(g,{V:()=>p});var t=e(22089),n=e(45669),s=e(84046),i=e(55331),r=e(68890),a=e(51127),o=e(94944);const d=["container"];function h(f,m){if(1&f&&(s.TgZ(0,"div",1,2),s.ALo(2,"spRichTextString"),s._UZ(3,"img",3),s.TgZ(4,"div",4),s._uU(5),s.qZA(),s.qZA()),2&f){const v=s.oxw();s.Q6J("spTooltipEnabled",v.tooltipEnabled)("spTooltip",s.lcZ(2,4,v.getTooltipText())),s.xp6(3),s.Q6J("spLazyImg",v.getAvatarIcon()),s.xp6(2),s.hij(" ",v.getDisplayName()," ")}}let p=(()=>{class f extends n.D{ngAfterViewInit(){this.setAlignmentClass(this.container)}getAvatarIcon(){var v,E;return(null===(E=null===(v=this.dataValue)||void 0===v?void 0:v.data)||void 0===E?void 0:E.avatar_url_normal)?this.dataValue.data.avatar_url_normal:t.V}getDisplayName(){var v,E;return(null===(E=null===(v=this.dataValue)||void 0===v?void 0:v.data)||void 0===E?void 0:E.displayName)?this.dataValue.data.displayName:""}}return f.\u0275fac=function(){let m;return function(E){return(m||(m=s.n5z(f)))(E||f)}}(),f.\u0275cmp=s.Xpm({type:f,selectors:[["sp-display-user-avatar-and-name"]],viewQuery:function(v,E){if(1&v&&s.Gf(d,5),2&v){let C;s.iGM(C=s.CRH())&&(E.container=C.first)}},features:[s.qOj],decls:1,vars:1,consts:[["class","sp-flex sp-items-center sp-overflow-hidden sp-dt-display-tooltip sp-w-full sp-h-full",3,"spTooltipEnabled","spTooltip",4,"ngIf"],[1,"sp-flex","sp-items-center","sp-overflow-hidden","sp-dt-display-tooltip","sp-w-full","sp-h-full",3,"spTooltipEnabled","spTooltip"],["container",""],[1,"sp-user-avatar","sp-flex","sp-items-center","sp-circle",3,"spLazyImg"],[1,"sp-whitespace-nowrap","sp-pl-1","sp-flex"]],template:function(v,E){1&v&&s.YNc(0,h,6,6,"div",0),2&v&&s.Q6J("ngIf",E.dataValue)},directives:[i.O5,r.i9,a.$],pipes:[o.C],styles:["sp-display-user-avatar-and-name .sp-user-avatar{min-height:16px;height:16px;min-width:16px;width:16px;object-fit:cover}\n"],encapsulation:2,changeDetection:0}),f})()},39542:(S,g,e)=>{"use strict";e.d(g,{f:()=>d});var t=e(45669),n=e(84046),s=e(55331),i=e(68890),r=e(94944);const a=["container"];function o(h,p){if(1&h&&(n.TgZ(0,"div",1,2),n.ALo(2,"spRichTextString"),n.TgZ(3,"span",3),n._uU(4),n.qZA(),n.qZA()),2&h){const f=n.oxw();n.Q6J("spTooltipEnabled",f.tooltipEnabled)("spTooltip",n.lcZ(2,3,f.getTooltipText())),n.xp6(4),n.Oqu(f.dataValue.data.displayName)}}let d=(()=>{class h extends t.D{ngAfterViewInit(){this.setAlignmentClass(this.container)}}return h.\u0275fac=function(){let p;return function(m){return(p||(p=n.n5z(h)))(m||h)}}(),h.\u0275cmp=n.Xpm({type:h,selectors:[["sp-display-user-name"]],viewQuery:function(f,m){if(1&f&&n.Gf(a,5),2&f){let v;n.iGM(v=n.CRH())&&(m.container=v.first)}},features:[n.qOj],decls:1,vars:1,consts:[["class","sp-w-full sp-h-full sp-overflow-hidden sp-dt-display-tooltip sp-flex sp-items-center",3,"spTooltipEnabled","spTooltip",4,"ngIf"],[1,"sp-w-full","sp-h-full","sp-overflow-hidden","sp-dt-display-tooltip","sp-flex","sp-items-center",3,"spTooltipEnabled","spTooltip"],["container",""],[1,"sp-text-wrapper"]],template:function(f,m){1&f&&n.YNc(0,o,5,5,"div",0),2&f&&n.Q6J("ngIf",m.dataValue&&m.dataValue.data&&m.dataValue.data.displayName)},directives:[s.O5,i.i9],pipes:[r.C],encapsulation:2,changeDetection:0}),h})()},16281:(S,g,e)=>{"use strict";e.d(g,{Y:()=>m});var t=e(45669),n=e(71118),s=e(84046),i=e(55331),r=e(68890),a=e(94944);function o(v,E){if(1&v&&(s.TgZ(0,"a",7),s._uU(1),s.qZA()),2&v){const C=s.oxw().$implicit;s.s9C("href",C.url,s.LSH),s.xp6(1),s.hij(" ",C.name," ")}}function d(v,E){if(1&v&&s._uU(0),2&v){const C=s.oxw().$implicit;s.hij(" ",C.name," ")}}function h(v,E){if(1&v&&(s.ynx(0),s.YNc(1,o,2,2,"a",5),s.YNc(2,d,1,1,"ng-template",null,6,s.W1O),s.BQk()),2&v){const C=E.$implicit,T=s.MAs(3);s.xp6(1),s.Q6J("ngIf",C.url)("ngIfElse",T)}}function p(v,E){if(1&v&&(s.TgZ(0,"div",3),s.YNc(1,h,4,2,"ng-container",4),s.qZA()),2&v){const C=s.oxw(2);s.xp6(1),s.Q6J("ngForOf",C.dataValue.list)}}function f(v,E){if(1&v&&(s.TgZ(0,"div",1),s.ALo(1,"spRichTextString"),s.YNc(2,p,2,1,"div",2),s.qZA()),2&v){const C=s.oxw();s.Q6J("spTooltipEnabled",C.tooltipEnabled)("spTooltip",s.lcZ(1,3,C.getTooltipText())),s.xp6(2),s.Q6J("ngIf",C.isVersionsAvailable())}}let m=(()=>{class v extends t.D{isVersionsAvailable(){return n.l.isDefined(this.dataValue)&&n.l.arrayHasElements(this.dataValue.list)}}return v.\u0275fac=function(){let E;return function(T){return(E||(E=s.n5z(v)))(T||v)}}(),v.\u0275cmp=s.Xpm({type:v,selectors:[["sp-display-version"]],features:[s.qOj],decls:1,vars:1,consts:[["class","sp-w-full sp-h-full sp-overflow-hidden sp-dt-display-tooltip sp-flex sp-items-center",3,"spTooltipEnabled","spTooltip",4,"ngIf"],[1,"sp-w-full","sp-h-full","sp-overflow-hidden","sp-dt-display-tooltip","sp-flex","sp-items-center",3,"spTooltipEnabled","spTooltip"],["class","sp-w-full sp-h-full sp-flex sp-items-center",4,"ngIf"],[1,"sp-w-full","sp-h-full","sp-flex","sp-items-center"],[4,"ngFor","ngForOf"],["target","_blank",3,"href",4,"ngIf","ngIfElse"],["noLink",""],["target","_blank",3,"href"]],template:function(C,T){1&C&&s.YNc(0,f,3,5,"div",0),2&C&&s.Q6J("ngIf",T.dataValue)},directives:[i.O5,r.i9,i.sg],pipes:[a.C],encapsulation:2,changeDetection:0}),v})()},69032:(S,g,e)=>{"use strict";e.d(g,{J:()=>n});var t=e(84046);let n=(()=>{class s{constructor(r){this.componentFactoryResolver=r}createDisplayComponent(r,a,o){const d=r.getDataType(),h=r.getDecoratorType(),p=d.getDisplayComponent(h,a);return this.componentFactoryResolver.resolveComponentFactory(p).create(o)}injectDisplayComponent(r,a){return r.insert(a.hostView)}}return s.\u0275fac=function(r){return new(r||s)(t.LFG(t._Vd))},s.\u0275prov=t.Yz7({token:s,factory:s.\u0275fac}),s})()},11507:(S,g,e)=>{"use strict";e.d(g,{s:()=>d});var t=e(84046),s=(e(4742),e(62546)),i=e(69032);const r=["fieldValue"];function a(h,p){}const o=["*"];let d=(()=>{class h extends s.H{constructor(f,m,v,E){super(f,m),this.displayComponentFactory=v,this.injector=E,this.enableTooltips=!0}ngOnChanges(f){var m,v;(null===(m=f.fieldDefinition)||void 0===m?void 0:m.currentValue)?this.renderDisplayComponent():(null===(v=f.dataValue)||void 0===v?void 0:v.currentValue)&&(this.setDisplayComponentDataValue(this.dataValue),this.detectChangesOnDisplayComponent())}getHostClasses(){return["sp-flex","sp-w-full","sp-h-full","sp-display-field","sp-items-center"]}renderDisplayComponent(){var f,m;null===(f=this.displayRef)||void 0===f||f.clear(),null===(m=this.displayComponentRef)||void 0===m||m.destroy(),this.displayComponentRef=this.displayComponentFactory.createDisplayComponent(this.fieldDefinition,this.dataValue,this.injector),this.initDisplayComponentRefInputs(),this.displayComponentFactory.injectDisplayComponent(this.displayRef,this.displayComponentRef)}initDisplayComponentRefInputs(){this.setDisplayComponentFieldDefinition(this.fieldDefinition),this.setDisplayComponentDataValue(this.dataValue),this.displayComponentRef.instance.setWidth(null),this.displayComponentRef.instance.setEntity(null),this.displayComponentRef.instance.setTooltipEnabled(this.enableTooltips),this.detectChangesOnDisplayComponent()}setDisplayComponentFieldDefinition(f){var m;null===(m=this.displayComponentRef)||void 0===m||m.instance.setFieldDefinition(f)}setDisplayComponentDataValue(f){var m;null===(m=this.displayComponentRef)||void 0===m||m.instance.setDataValue(f)}detectChangesOnDisplayComponent(){this.displayComponentRef.instance.detectChanges()}}return h.\u0275fac=function(f){return new(f||h)(t.Y36(t.SBq),t.Y36(t.Qsj),t.Y36(i.J),t.Y36(t.zs3))},h.\u0275cmp=t.Xpm({type:h,selectors:[["sp-light-display-field-value"]],viewQuery:function(f,m){if(1&f&&t.Gf(r,7,t.s_b),2&f){let v;t.iGM(v=t.CRH())&&(m.displayRef=v.first)}},inputs:{dataValue:"dataValue",fieldDefinition:"fieldDefinition",enableTooltips:"enableTooltips"},features:[t.qOj,t.TTD],ngContentSelectors:o,decls:3,vars:0,consts:[["fieldValue",""]],template:function(f,m){1&f&&(t.F$t(),t.Hsn(0),t.YNc(1,a,0,0,"ng-template",null,0,t.W1O))},encapsulation:2,changeDetection:0}),h})()},98807:(S,g,e)=>{"use strict";e.d(g,{F:()=>P});var t=e(55331),n=e(98223),s=e(90850),i=e(18840),r=e(45635),a=e(70822),o=e(37042),d=e(53770),h=e(47627);class p extends h.H{}var f=e(38610),E=e(6397),C=e(62546),T=e(84046),y=e(70335),I=e(17583);let P=(()=>{class L extends C.H{constructor(b,x,B,M,w,K,k,G){super(K,M),this.document=b,this.dataValueFactory=x,this.formBuilder=B,this.changeDetectorRef=w,this.elementRef=K,this.l10nTextService=k,this.fieldValueActionsDispatcher=G,this.blurEvent$=new s.xQ,this.initialData=!0,this.propagateTouched=()=>{},this.propagateChange=$=>{},this.mapFormValues=null}static throwErrorWhenDataValueHasNoCloneAbility(b){if(!b.clone)throw new Error(`Data value must have clone method. Provided data value ${b.dataTypeId} `)}init(){}formGroupCreated(){}ngOnInit(){if(this.editor instanceof f.x){this.entity=this.editor.getEntity(),this.editComponentFieldDefinition=this.editor.getFieldDefinition();const x=this.entity.getDataValue(this.editor.getFieldDefinition().getFieldId(),d.H)||this.dataValueFactory.create({dataTypeId:this.editComponentFieldDefinition.getDataType().getDataTypeId().toString()});L.throwErrorWhenDataValueHasNoCloneAbility(x);const B=x?x.clone():null;this.formGroup=this.createFormGroup(B),this.editor.registerForm(this.formGroup),this.formGroupCreated(),this.observeToClickOutside(),this.editor.mapFormValuesMethod=this.mapFormValues}this.init()}ngAfterViewInit(){this.focus&&this.handleFocus()}onDestroy(){this.finalize()}getPlaceholder(){if(!this.editComponentFieldDefinition)return"";const b=`${this.editComponentFieldDefinition.getLabelName()}...`;return b.charAt(0).toUpperCase()+b.slice(1)}setEditor(b){this.editor=b}registerOnChange(b){this.propagateChange=b}registerOnTouched(b){this.propagateTouched=b}writeValue(b){if(!b.dataTypeId)throw new Error("EditComponent can work only with DataValue interface implementation");if(this.currentDataValueType=b.dataTypeId,this.initialData)this.handleInitialData(b),this.initialData=!1;else{if(!b.dataTypeId.equals(this.currentDataValueType))throw new Error((L=>`Update cannot be handled dataTypeId mismatch. Provided dataTypeId: ${L.dataTypeId} \n\t\t\t\tExpected: ${L.currentDataValueType}`)(b));this.handleDataUpdate(b)}this.changeDetectorRef.detectChanges()}handleFocus(){}handleBlur(){this.blurEvent$.next()}fetchAvailableOptions(){this.domManipulator.addHostClass("sp-inline-edit-loading");const b=this.editComponentFieldDefinition.getFieldId(),x="number"==typeof b?b:b.toNumber(),B=new i.X(!0);return B.pipe(this.takeUntilDestroy()),{data$:this.fieldValueActionsDispatcher.getAvailableFieldOptions(x,this.entity.id).pipe((0,r.b)(()=>{B.next(!1),this.domManipulator.removeClass(this.elementRef.nativeElement,"sp-inline-edit-loading")})),isLoading$:B}}clearDataValue(){this.editor instanceof f.x&&this.editor.markForClear()}finalize(){this.editor.destroy()}registerStatusHandlers(){this.editor.handleValidStatus=()=>{this.propagateChange(this.editor.getDataValueForUpdate())}}handleInitialData(b){this.editor=new p(this.dataValueFactory),this.formGroup=this.createFormGroup(b),this.editor.registerForm(this.formGroup),this.registerStatusHandlers(),this.formGroupCreated()}handleDataUpdate(b){this.formGroup=this.getFormGroup(b)}createFormGroup(b){const x=this.getFormGroup(b);if(!x)throw new Error("formGroup is not returned from getFormGroup");return x}observeToClickOutside(){new E.$(this.elementRef.nativeElement,document,{ignoredElement:x=>!!x.matches&&x.matches(this.elementToIgnoreOnClickOutsideSelector)}).pipe((0,a.h)(x=>x.constructor.name!==L.POINTER_EVENT_NAME),this.takeUntilDestroy()).subscribe(()=>{this.editor&&this.editor.submit()})}}return L.POINTER_EVENT_NAME="PointerEvent",L.\u0275fac=function(b){return new(b||L)(T.Y36(t.K0),T.Y36(o.e),T.Y36(y.qu),T.Y36(T.Qsj),T.Y36(T.sBO),T.Y36(T.SBq),T.Y36(n.e),T.Y36(I.q))},L.\u0275cmp=T.Xpm({type:L,selectors:[["sp-edit-component"]],inputs:{focus:"focus",validationMessage:"validationMessage",editor:"editor"},outputs:{blurEvent$:"blurEvent$"},features:[T.qOj],decls:0,vars:0,template:function(b,x){},encapsulation:2,changeDetection:0}),L})()},8816:(S,g,e)=>{"use strict";e.d(g,{X:()=>m});var t=e(84046),n=e(75596),i=(e(4742),e(73569)),a=(e(38610),e(58776)),o=e(13883),d=e(62546),h=e(36846);const p=["container"];function f(v,E){}let m=(()=>{class v extends d.H{constructor(C,T,y,I,P,L,F,b,x){super(C,T),this.viewContainerRef=y,this.inlineEditShortcutsService=I,this.fieldValueErrorSubject$=P,this.changeDetectorRef=L,this.componentFactoryResolver=F,this.injector=b,this.dataTypeInstanceRepository=x,this.currentEditorStatus=i.I.DEFAULT}ngOnInit(){this.setEditTemplate(),this.observeShortcutHandlers(),this.observeForEditorStatus(),this.inlineEditShortcutsService.initShortcuts()}finalize(){this.inlineEditShortcutsService.destroyShortcuts()}setEditTemplate(){this.createEditComponent()}createEditComponent(){const C=this.resolveEditComponent(this.fieldDefinition.getDataType().getDataTypeId()),T=this.componentFactoryResolver.resolveComponentFactory(C),y=this.container.createComponent(T,void 0,this.injector);y.instance.setEditor(this.editor),y.instance.focus=!0}observeForEditorStatus(){this.editor.selectStatus().pipe(this.takeUntilDestroy()).subscribe(C=>{this.setClassDependsFromStatus(C)})}setClassDependsFromStatus(C){this.currentEditorStatus=C,C&i.I.PENDING&&this.domManipulator.addHostClass("sp-pending"),this.changeDetectorRef.detectChanges()}observeShortcutHandlers(){this.inlineEditShortcutsService.listen().pipe(this.takeUntilDestroy()).subscribe(C=>{switch(C){case a.L.SUBMIT:this.submitEdit();break;case a.L.CANCEL:this.cancelEdit()}})}submitEdit(){this.editor.submit()}cancelEdit(){this.editor.exit()}resolveEditComponent(C){return this.dataTypeInstanceRepository.get(C).getEditComponent()}}return v.\u0275fac=function(C){return new(C||v)(t.Y36(t.SBq),t.Y36(t.Qsj),t.Y36(t.s_b),t.Y36(o.O),t.Y36(h.R),t.Y36(t.sBO),t.Y36(t._Vd),t.Y36(t.zs3),t.Y36(n.v))},v.\u0275cmp=t.Xpm({type:v,selectors:[["sp-field-value-editor"]],viewQuery:function(C,T){if(1&C&&t.Gf(p,7,t.s_b),2&C){let y;t.iGM(y=t.CRH())&&(T.container=y.first)}},inputs:{fieldDefinition:"fieldDefinition",editor:"editor"},features:[t.qOj],decls:2,vars:0,consts:[["container",""]],template:function(C,T){1&C&&t.YNc(0,f,0,0,"ng-template",null,0,t.W1O)},styles:["sp-field-value-editor{display:flex;flex:1;position:relative}sp-field-value-editor.sp-empty .sp-inline-edit-control,sp-field-value-editor.sp-pending .sp-inline-edit-control{background-color:var(--gray-10);border-color:var(--gray-30)}sp-field-value-editor.sp-pending .sp-inline-edit-control{color:var(--gray-100)}sp-field-value-editor.sp-default .sp-inline-edit-control{background:var(--color-bg);border-color:var(--blue-100)}sp-field-value-editor.sp-changed .sp-inline-edit-control{background:var(--color-bg);border-color:var(--blue-100)}sp-field-value-editor.sp-marked .sp-inline-edit-control{background:var(--color-bg);border-color:var(--danger)}\n"],encapsulation:2,changeDetection:0}),v})()},89764:(S,g,e)=>{"use strict";e.d(g,{Z:()=>r});var t=e(90850),n=e(70822),s=e(71726),i=e(84046);let r=(()=>{class a{constructor(){this.editStatus$=new t.xQ,this.locked=!1}selectEditStatus(){return this.editStatus$.asObservable()}reportEditStart(){this.editStatus$.next(!0)}reportEditEnd(){this.editStatus$.next(!1)}observeEditStart(){return this.editStatus$.pipe((0,n.h)(d=>d),(0,s.U)(()=>null))}isLocked(){return this.locked}lock(){this.locked=!0}unlock(){this.locked=!1}}return a.\u0275fac=function(d){return new(d||a)},a.\u0275prov=i.Yz7({token:a,factory:a.\u0275fac}),a})()},29659:(S,g,e)=>{"use strict";e.d(g,{$:()=>I});var t=e(84046),n=e(70335),s=e(52777),i=e(3097),r=e(17201),a=e(42780),o=e(98807),d=e(19327),h=e(83941),p=e(81e3),f=e(14650),m=e(83372),v=e(55331),E=e(94794);function C(P,L){if(1&P){const F=t.EpF();t.TgZ(0,"sp-select-data-type-edit-control",3),t.NdJ("valueSelected",function(){t.CHM(F);const x=t.oxw(2);return x.propagateTouched(),x.editor.submit()})("click",function(x){return t.CHM(F),t.oxw(2).stopPropagation(x)}),t.qZA()}if(2&P){const F=t.oxw(2);t.Q6J("configuration",F.selectConfiguration)("options",F.colorOptions)("formControlName","value")("selectDataTypeEditControlConfig",F.selectDataTypeEditControlConfig)}}function T(P,L){if(1&P&&(t.TgZ(0,"div",1),t.YNc(1,C,1,4,"sp-select-data-type-edit-control",2),t.qZA()),2&P){const F=t.oxw();t.Q6J("formGroup",F.formGroup),t.xp6(1),t.Q6J("ngIf",F.selectReady)}}const y={provide:n.JU,useExisting:(0,t.Gpc)(()=>I),multi:!0};class I extends o.F{constructor(){super(...arguments),this.menuOpenedOnCreation=!0,this.elementToIgnoreOnClickOutsideSelector="#sp-builtin-color-inline-edit-options-menu",this.selectConfiguration=(new m.w).withOptionsMenuWidth(I.SELECT_MENU_WIDTH).withSearchFieldAvailable().withResponsiveHeight().withSelectInputPlaceholder(this.l10nTextService.translate("SPT_DATA_TYPE_EDIT_COMPONENT_SEARCH_SELECT")).withPrefixForId("sp-builtin-color-inline-edit"),this.selectDataTypeEditControlConfig=(new a.Y.Builder).withFilteredCallback(this.isDefault).build(),this.selectReady=!1,this.colors=Object.keys(p.W)}getFormGroup(L){return this.formBuilder.group({value:[L?L.value:"",[]]})}init(){this.buildOptionsFromColors(),this.menuOpenedOnCreation&&this.selectConfiguration.withOpenedMenuOnCreation(),this.selectReady=!0,this.changeDetectorRef.detectChanges()}formGroupCreated(){this.observeValueChanges()}stopPropagation(L){L.stopPropagation()}getHostClasses(){return["sp-w-full","sp-h-full"]}buildOptionsFromColors(){this.colorOptions=this.colors.map(L=>{const b=this.convertToColorLabel(p.W[L]);return new f.W(L,h.H.string(b)).withIcon(new s.J("circle",d.B[L].backgroundStyle)).withIconCssClass("sp-mr-2")})}convertToColorLabel(L){return L.colorName.charAt(0).toUpperCase()+L.colorName.slice(1).toLowerCase().replace("_"," ")}isDefault(L,F){return L===I.DEFAULT_WRITE_VALUE&&F===I.DEFAULT_COLOR}observeValueChanges(){this.formGroup.get("value").valueChanges.pipe(this.takeUntilDestroy()).subscribe(L=>{this.editor.setDataValue(r.U.of({dataTypeId:i.p.toString(),value:L}))})}}I.DEFAULT_WRITE_VALUE="DEFAULT",I.DEFAULT_COLOR=d.B.MEDIUM_GRAY.colorName,I.SELECT_MENU_WIDTH="352px",I.\u0275fac=function(){let P;return function(F){return(P||(P=t.n5z(I)))(F||I)}}(),I.\u0275cmp=t.Xpm({type:I,selectors:[["sp-builtin-color-data-type-edit"]],inputs:{menuOpenedOnCreation:"menuOpenedOnCreation"},features:[t._Bn([y]),t.qOj],decls:1,vars:1,consts:[["class","sp-inline-edit-group",3,"formGroup",4,"ngIf"],[1,"sp-inline-edit-group",3,"formGroup"],[3,"configuration","options","formControlName","selectDataTypeEditControlConfig","valueSelected","click",4,"ngIf"],[3,"configuration","options","formControlName","selectDataTypeEditControlConfig","valueSelected","click"]],template:function(L,F){1&L&&t.YNc(0,T,2,2,"div",0),2&L&&t.Q6J("ngIf",F.formGroup)},directives:[v.O5,n.JL,n.sg,E.c,n.JJ,n.u],styles:[".sp-inline-edit-group{height:100%}.sp-inline-edit-group .sp-inline-edit-string,.sp-inline-edit-group .sp-inline-edit-number{outline:none}.sp-inline-edit-control{width:100%;height:100%;border-radius:4px;border:2px solid var(--gray-30);background-color:var(--gray-10)}.sp-inline-edit-control:focus{border:2px solid var(--blue-100)}.sp-marked .sp-inline-edit-string,.sp-marked .sp-inline-edit-number{border:2px solid var(--error)}.sp-marked-warning .sp-inline-edit-string,.sp-marked-warning .sp-inline-edit-number{border:2px solid var(--yellow-primary)}.sp-inline-edit-control.ng-invalid:focus{border:2px solid var(--error)}.sp-inline-edit-loading{color:transparent;background:linear-gradient(100deg,var(--gray-30) 30%,var(--gray-20) 50%,var(--gray-40) 70%);background-size:400%;animation:loading 1.2s ease-in-out infinite;width:150px;height:70%}@keyframes loading{0%{background-position:100% 50%}to{background-position:0 50%}}\n"],encapsulation:2,changeDetection:0})},20032:(S,g,e)=>{"use strict";e.d(g,{V:()=>d});var t=e(84046),n=e(70335),s=e(79184),i=e(33195),r=e(98807),a=e(11058);const o={provide:n.JU,useExisting:(0,t.Gpc)(()=>d),multi:!0};let d=(()=>{class h extends r.F{constructor(){super(...arguments),this.elementToIgnoreOnClickOutsideSelector="sp-date-picker-dropdown"}getFormGroup(f){return this.formBuilder.group({value:[f.value?f.value:"",[]]})}formGroupCreated(){this.observeValueChanges()}getHostClasses(){return["sp-w-full","sp-h-full","sp-datepicker-one"]}observeValueChanges(){this.formGroup.get("value").valueChanges.pipe(this.takeUntilDestroy()).subscribe(f=>{this.editor.setDataValue(i.Q.of({dataTypeId:s.N.toString(),value:f}))})}}return h.\u0275fac=function(){let p;return function(m){return(p||(p=t.n5z(h)))(m||h)}}(),h.\u0275cmp=t.Xpm({type:h,selectors:[["sp-date-data-type-edit"]],features:[t._Bn([o]),t.qOj],decls:2,vars:2,consts:[[1,"sp-inline-edit-group",3,"formGroup"],[3,"formControlName","valueSelected","click"]],template:function(f,m){1&f&&(t.TgZ(0,"div",0),t.TgZ(1,"sp-date-picker-date-string-control",1),t.NdJ("valueSelected",function(){return m.editor.submit()})("click",function(E){return E.stopPropagation()}),t.qZA(),t.qZA()),2&f&&(t.Q6J("formGroup",m.editor.getForm()),t.xp6(1),t.Q6J("formControlName","value"))},directives:[n.JL,n.sg,a.P,n.JJ,n.u],styles:[".sp-inline-edit-group{height:100%}.sp-inline-edit-group .sp-inline-edit-string,.sp-inline-edit-group .sp-inline-edit-number{outline:none}.sp-inline-edit-control{width:100%;height:100%;border-radius:4px;border:2px solid var(--gray-30);background-color:var(--gray-10)}.sp-inline-edit-control:focus{border:2px solid var(--blue-100)}.sp-marked .sp-inline-edit-string,.sp-marked .sp-inline-edit-number{border:2px solid var(--error)}.sp-marked-warning .sp-inline-edit-string,.sp-marked-warning .sp-inline-edit-number{border:2px solid var(--yellow-primary)}.sp-inline-edit-control.ng-invalid:focus{border:2px solid var(--error)}.sp-inline-edit-loading{color:transparent;background:linear-gradient(100deg,var(--gray-30) 30%,var(--gray-20) 50%,var(--gray-40) 70%);background-size:400%;animation:loading 1.2s ease-in-out infinite;width:150px;height:70%}@keyframes loading{0%{background-position:100% 50%}to{background-position:0 50%}}.sp-datepicker-one input.sp-form-control{height:100%}\n"],encapsulation:2,changeDetection:0}),h})()},450:(S,g,e)=>{"use strict";e.d(g,{J:()=>x});var t=e(55331),n=e(84046),s=e(70335),i=e(98223),r=e(52744),a=e(37042),o=e(78212),d=e(81557),h=e(40575),f=(e(4742),e(99609)),m=e(98807),v=e(58291);let E=(()=>{class B extends v.${static validateTimeUnit(){return w=>null==w.value||w.value.match("(\\d+(.[\\d]+)?[wdhm]?$)|(^\\d*((.\\d+)|(,\\d+))$)")?null:{timeUnit:B.ERROR_KEY,empty:"",valid:!1}}}return B.ERROR_KEY="SPT_COMMON_VALIDATOR_TIME_UNIT",B})();var C=e(40209),T=e(95486),y=e(17583),I=e(5425),P=function(B,M,w,K){var $,k=arguments.length,G=k<3?M:null===K?K=Object.getOwnPropertyDescriptor(M,w):K;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)G=Reflect.decorate(B,M,w,K);else for(var X=B.length-1;X>=0;X--)($=B[X])&&(G=(k<3?$(G):k>3?$(M,w,G):$(M,w))||G);return k>3&&G&&Object.defineProperty(M,w,G),G},L=function(B,M){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(B,M)};const F=["input"],b={provide:s.JU,useExisting:(0,n.Gpc)(()=>x),multi:!0};class x extends m.F{constructor(M,w,K,k,G,$,X,ie,se,pe){super(pe,k,M,K,w,G,$,X),this.validationDotFactory=ie,this.fieldValueScrollHandlerService=se,this.validationDot=null,this.mapFormValues=ve=>{if(ve.estimateFormattedHours){const Ce=this.isInt(ve.estimateFormattedHours)?`${ve.estimateFormattedHours}h`:ve.estimateFormattedHours;ve=new h.L(ve.estimateFormattedPretty,Ce,ve.estimateFormattedDecimalHours,ve.numberOfDays,ve.estimate)}return ve}}formGroupCreated(){this.observeValueChanges()}onDestroy(){this.removeValidationDot()}getFormGroup(M){this.currentDecoratorType=this.editComponentFieldDefinition&&this.editComponentFieldDefinition.getDecoratorType()||this.fieldDefinition.getDecoratorType();const w=this.getValueForDecoratorType(M,this.currentDecoratorType);return this.prevValue=w,this.formBuilder.group({estimation:[w,[E.validateTimeUnit()]]})}validateEstimationCharacters(M){return this.validateCharacter(M)||M.length<this.prevValue.length&&this.characterExistsInPreviousValues(M,this.prevValue)}stopPropagation(M){M.stopPropagation()}handleFocus(){this.inputRef&&this.inputRef.nativeElement.focus()}getHostClasses(){return["sp-w-full","sp-h-full"]}handleValidEstimationCharacters(M){const w=this.resolveDecorator(M),K=this.getAccessorForDecoratorType(w);this.currentDecoratorType!==w&&(this.currentDecoratorType=w),this.prevValue=M,this.editor.setDataValue(h.L.of({dataTypeId:d.o.toString(),estimate:null,estimateFormattedHours:null,estimateFormattedDecimalHours:null,estimateFormattedPretty:null,numberOfDays:null,[K]:M})),this.validationDot&&this.removeValidationDot()}validateCharacter(M){return M.split(" ").map(w=>!(!this.isDecimalNumber(w)&&!this.isTimeUnit(w))||""===w).every(w=>!!w)}resolveDecorator(M){const w=M.trim();return this.isInt(w)?f.J.ESTIMATE_FORMATTED_HOURS_TEXT:this.isDecimalWithDotOnly(w)?f.J.ESTIMATE_FORMATTED_DECIMAL_PRETTY_TEXT:this.isHoursUnit(w)?f.J.ESTIMATE_FORMATTED_HOURS_TEXT:f.J.ESTIMATE_FORMATTED_PRETTY_TEXT}getValueForDecoratorType(M,w){switch(w){case f.J.ESTIMATE_FORMATTED_DECIMAL_PRETTY_TEXT:return M.estimateFormattedDecimalHours;case f.J.ESTIMATE_FORMATTED_HOURS_TEXT:return M.estimateFormattedHours;case f.J.ESTIMATE_FORMATTED_PRETTY_TEXT:return M.estimateFormattedPretty;case f.J.ESTIMATE_NUMBER_OF_DAYS:return`${M.numberOfDays.toString()}d`;default:throw new Error("Cannot retrieve data from not handled DecoratorType")}}getAccessorForDecoratorType(M){switch(M){case f.J.ESTIMATE_FORMATTED_DECIMAL_PRETTY_TEXT:return"estimateFormattedDecimalHours";case f.J.ESTIMATE_FORMATTED_HOURS_TEXT:return"estimateFormattedHours";case f.J.ESTIMATE_FORMATTED_PRETTY_TEXT:return"estimateFormattedPretty";case f.J.ESTIMATE_NUMBER_OF_DAYS:return"numberOfDays";default:throw new Error("Cannot retrieve data from not handled DecoratorType")}}characterExistsInPreviousValues(M,w){return M===w.slice(0,-1)}isDecimalNumber(M){return!!M.match("^[0-9-\\s][\\.\\d\\s]*(,\\d+)?$")}isTimeUnit(M){return!!M.match("\\d+(.[\\d]+)?([wdhm])\\1{0}$")}isHoursUnit(M){return!!M.match("^\\d+[h]$")}isDecimalWithDotOnly(M){return!!M.match("^\\d+\\.\\d{0,2}$")}addValidationDot(){this.validationDot=this.validationDotFactory.create(this.elementRef,[this.l10nTextService.translate(E.ERROR_KEY),""],C.G.default().build(),!1,o.c.ID.toString()),this.fieldValueScrollHandlerService.attachScrollListener()}removeValidationDot(){this.validationDot&&(this.validationDot.destroy(),this.validationDot=null,this.fieldValueScrollHandlerService.detachScrollListener())}isInt(M){return!isNaN(M)&&parseInt(M)==M&&!isNaN(parseInt(M,10))}observeValueChanges(){this.formGroup.get("estimation").valueChanges.pipe(this.takeUntilDestroy()).subscribe(M=>{this.validateEstimationCharacters(M)?this.handleValidEstimationCharacters(M):(this.validationDot||this.addValidationDot(),this.formGroup.get("estimation").setValue(this.prevValue,{emitEvent:!1}))})}}x.\u0275fac=function(M){return new(M||x)(n.Y36(s.qu),n.Y36(n.sBO),n.Y36(n.Qsj),n.Y36(a.e),n.Y36(n.SBq),n.Y36(i.e),n.Y36(y.q),n.Y36(T.y),n.Y36(I.t),n.Y36(t.K0))},x.\u0275cmp=n.Xpm({type:x,selectors:[["sp-estimation-data-type-edit"]],viewQuery:function(M,w){if(1&M&&n.Gf(F,7),2&M){let K;n.iGM(K=n.CRH())&&(w.inputRef=K.first)}},inputs:{fieldDefinition:"fieldDefinition"},features:[n._Bn([b]),n.qOj],decls:3,vars:2,consts:[[1,"sp-inline-edit-group",3,"formGroup"],["type","text",1,"sp-inline-edit-string","sp-border-rounded","sp-px-2","sp-inline-edit-control",3,"formControlName","click"],["input",""]],template:function(M,w){1&M&&(n.TgZ(0,"div",0),n.TgZ(1,"input",1,2),n.NdJ("click",function(k){return w.stopPropagation(k)}),n.qZA(),n.qZA()),2&M&&(n.Q6J("formGroup",w.formGroup),n.xp6(1),n.Q6J("formControlName","estimation"))},directives:[s.JL,s.sg,s.Fj,s.JJ,s.u],styles:[".sp-inline-edit-group{height:100%}.sp-inline-edit-group .sp-inline-edit-string,.sp-inline-edit-group .sp-inline-edit-number{outline:none}.sp-inline-edit-control{width:100%;height:100%;border-radius:4px;border:2px solid var(--gray-30);background-color:var(--gray-10)}.sp-inline-edit-control:focus{border:2px solid var(--blue-100)}.sp-marked .sp-inline-edit-string,.sp-marked .sp-inline-edit-number{border:2px solid var(--error)}.sp-marked-warning .sp-inline-edit-string,.sp-marked-warning .sp-inline-edit-number{border:2px solid var(--yellow-primary)}.sp-inline-edit-control.ng-invalid:focus{border:2px solid var(--error)}.sp-inline-edit-loading{color:transparent;background:linear-gradient(100deg,var(--gray-30) 30%,var(--gray-20) 50%,var(--gray-40) 70%);background-size:400%;animation:loading 1.2s ease-in-out infinite;width:150px;height:70%}@keyframes loading{0%{background-position:100% 50%}to{background-position:0 50%}}\n"],encapsulation:2,changeDetection:0}),P([(0,r.P)(),L("design:type",Function),L("design:paramtypes",[String]),L("design:returntype",Boolean)],x.prototype,"validateCharacter",null),P([(0,r.P)(),L("design:type",Function),L("design:paramtypes",[String]),L("design:returntype",String)],x.prototype,"resolveDecorator",null)},18669:(S,g,e)=>{"use strict";e.d(g,{L:()=>P});var t=e(84046),n=e(70335),s=e(96105),i=e(62959),r=e(97754),a=e(42780),o=e(98807),d=e(19327),h=e(83941),p=e(14650),f=e(83372),m=e(55331),v=e(97265),E=e(65799);const C=["milestoneIcon"];function T(L,F){if(1&L){const b=t.EpF();t.TgZ(0,"div",1),t.TgZ(1,"sp-select",2),t.NdJ("click",function(B){return B.stopPropagation()})("selectedOptionChanged",function(B){return t.CHM(b),t.oxw().onSelectOptionChange(B)})("optionMenuToggled",function(B){return t.CHM(b),t.oxw().onSelectMenuToggle(B)}),t.TgZ(2,"div",3),t._UZ(3,"div",4,5),t.TgZ(5,"div",6),t.TgZ(6,"div",7),t._uU(7),t.ALo(8,"spL10nText"),t.qZA(),t._UZ(9,"span",8),t.qZA(),t.qZA(),t.qZA(),t.qZA()}if(2&L){const b=t.oxw();t.Q6J("formGroup",b.formGroup),t.xp6(1),t.Q6J("configuration",b.selectConfiguration)("options",b.milestoneOptions),t.xp6(6),t.Oqu(t.lcZ(8,4,"SPT_DATA_TYPE_MILESTONE"))}}const y={provide:n.JU,useExisting:(0,t.Gpc)(()=>P),multi:!0};var I=(()=>{return(L=I||(I={})).MILESTONE="MILESTONE",L.TASK="TASK",I;var L})();let P=(()=>{class L extends o.F{constructor(){super(...arguments),this.formControl=new n.NI,this.isSelected=!1,this.placeholderPrefixIconColor=d.B.MEDIUM_GRAY,this.elementToIgnoreOnClickOutsideSelector="#sp-milestone-inline-edit-options-menu",this.milestoneOptions=[],this.selectConfiguration=(new f.w).withMultiSelect().withSelectButtonPlaceholder(this.convertToMilestoneLabel(I.MILESTONE)).withOptionsMenuWidth(L.SELECT_MENU_WIDTH).withOpenedMenuOnCreation().withResponsiveHeight().withCustomButton().withPrefixForId("sp-milestone-inline-edit"),this.selectDataTypeEditControlConfig=(new a.Y.Builder).build()}init(){this.buildOptionFromMilestone(),this.changeDetectorRef.detectChanges()}formGroupCreated(){this.observeValueChanges()}getFormGroup(b){const x=b?b.value:"";return this.isSelected=this.isMilestone(x),this.formBuilder.group({value:[x,[]]})}onSelectOptionChange(b){const x=b.selected?I.MILESTONE:I.TASK;this.formGroup.get("value").setValue(x)}onSelectMenuToggle(b){this.domManipulator.addStyle(this.milestoneIcon.nativeElement,"background-color",b?"var(--gray-0)":"var(--gray-100)"),this.changeDetectorRef.detectChanges()}getHostClasses(){return["sp-w-full","sp-h-full","sp-block","sp-milestone-data-type-edit"]}buildOptionFromMilestone(){this.milestoneOptions=[new p.W(I.MILESTONE,h.H.string(this.convertToMilestoneLabel(I.MILESTONE)),h.H.string(""),this.isSelected)]}convertToMilestoneLabel(b){return b[0].toUpperCase()+b.slice(1).toLowerCase()}isMilestone(b){return b===I.MILESTONE}observeValueChanges(){this.formGroup.get("value").valueChanges.pipe((0,s.x)(),this.takeUntilDestroy()).subscribe(b=>{this.editor.setDataValue(r.G.of({dataTypeId:i.$.toString(),value:b})),this.editor.submit()})}}return L.DEFAULT_VALUES=["MILESTONE"],L.SELECT_MENU_WIDTH="160px",L.\u0275fac=function(){let F;return function(x){return(F||(F=t.n5z(L)))(x||L)}}(),L.\u0275cmp=t.Xpm({type:L,selectors:[["sp-milestone-data-type-edit"]],viewQuery:function(b,x){if(1&b&&t.Gf(C,5),2&b){let B;t.iGM(B=t.CRH())&&(x.milestoneIcon=B.first)}},inputs:{formControl:"formControl"},features:[t._Bn([y]),t.qOj],decls:1,vars:1,consts:[["class","sp-inline-edit-group sp-flex sp-items-center sp-w-full sp-h-full",3,"formGroup",4,"ngIf"],[1,"sp-inline-edit-group","sp-flex","sp-items-center","sp-w-full","sp-h-full",3,"formGroup"],[3,"configuration","options","click","selectedOptionChanged","optionMenuToggled"],[1,"sp-select-custom-button","sp-w-full","sp-h-full","sp-flex","sp-items-center"],[1,"sp-pl-1","sp-edit-milestone__icon","sp-border-rounded","sp-bg-gray-100"],["milestoneIcon",""],[1,"sp-w-full","sp-truncate","sp-flex","sp-justify-between","sp-items-center"],[1,"sp-pl-2"],[1,"fa","fa-chevron-down"]],template:function(b,x){1&b&&t.YNc(0,T,10,6,"div",0),2&b&&t.Q6J("ngIf",x.formGroup)},directives:[m.O5,n.JL,n.sg,v.Hr],pipes:[E.L],styles:[".sp-inline-edit-group{height:100%}.sp-inline-edit-group .sp-inline-edit-string,.sp-inline-edit-group .sp-inline-edit-number{outline:none}.sp-inline-edit-control{width:100%;height:100%;border-radius:4px;border:2px solid var(--gray-30);background-color:var(--gray-10)}.sp-inline-edit-control:focus{border:2px solid var(--blue-100)}.sp-marked .sp-inline-edit-string,.sp-marked .sp-inline-edit-number{border:2px solid var(--error)}.sp-marked-warning .sp-inline-edit-string,.sp-marked-warning .sp-inline-edit-number{border:2px solid var(--yellow-primary)}.sp-inline-edit-control.ng-invalid:focus{border:2px solid var(--error)}.sp-inline-edit-loading{color:transparent;background:linear-gradient(100deg,var(--gray-30) 30%,var(--gray-20) 50%,var(--gray-40) 70%);background-size:400%;animation:loading 1.2s ease-in-out infinite;width:150px;height:70%}@keyframes loading{0%{background-position:100% 50%}to{background-position:0 50%}}.sp-edit-milestone__icon{width:16px;height:16px;min-width:16px;min-height:16px;transform:rotate(45deg)}.sp-milestone-data-type-edit .sp-select-button-wrapper .sp-select-button.sp-select-button-responsive-height{padding-left:6px}.sp-menu-wrapper{min-height:32px;margin-top:4px;margin-bottom:4px}.sp-select-options-menu .sp-menu-wrapper .sp-option-element{min-height:32px;padding-left:12px;padding-right:12px}\n"],encapsulation:2,changeDetection:0}),L})()},25400:(S,g,e)=>{"use strict";e.d(g,{a:()=>o});var t=e(84046),n=e(70335),s=e(50045),i=e(98807);const r=["input"],a={provide:n.JU,useExisting:(0,t.Gpc)(()=>o),multi:!0};let o=(()=>{class d extends i.F{stopPropagation(p){p.stopPropagation()}formGroupCreated(){this.observeValueChanges()}getFormGroup(p){const f=p&&p.number?p.number.toString():"";return this.formBuilder.group({number:[f,[]]})}handleFocus(){this.inputRef&&this.inputRef.nativeElement.focus()}getHostClasses(){return["sp-w-full","sp-h-full"]}observeValueChanges(){this.formGroup.get("number").valueChanges.pipe(this.takeUntilDestroy()).subscribe(p=>{this.editor.setDataValue(new s.z(parseInt(p)))})}}return d.\u0275fac=function(){let h;return function(f){return(h||(h=t.n5z(d)))(f||d)}}(),d.\u0275cmp=t.Xpm({type:d,selectors:[["sp-number-data-type-edit"]],viewQuery:function(p,f){if(1&p&&t.Gf(r,7),2&p){let m;t.iGM(m=t.CRH())&&(f.inputRef=m.first)}},features:[t._Bn([a]),t.qOj],decls:3,vars:3,consts:[[1,"sp-inline-edit-group",3,"formGroup"],["type","number",1,"sp-inline-edit-number","sp-border-rounded","sp-px-2","sp-inline-edit-control",3,"formControlName","click","blur"],["input",""]],template:function(p,f){1&p&&(t.TgZ(0,"div",0),t.TgZ(1,"input",1,2),t.NdJ("click",function(v){return f.stopPropagation(v)})("blur",function(){return f.handleBlur()}),t.qZA(),t.qZA()),2&p&&(t.Q6J("formGroup",f.formGroup),t.xp6(1),t.Q6J("formControlName","number"),t.uIk("placeholder",f.getPlaceholder()))},directives:[n.JL,n.sg,n.wV,n.Fj,n.JJ,n.u],styles:[".sp-inline-edit-group{height:100%}.sp-inline-edit-group .sp-inline-edit-string,.sp-inline-edit-group .sp-inline-edit-number{outline:none}.sp-inline-edit-control{width:100%;height:100%;border-radius:4px;border:2px solid var(--gray-30);background-color:var(--gray-10)}.sp-inline-edit-control:focus{border:2px solid var(--blue-100)}.sp-marked .sp-inline-edit-string,.sp-marked .sp-inline-edit-number{border:2px solid var(--error)}.sp-marked-warning .sp-inline-edit-string,.sp-marked-warning .sp-inline-edit-number{border:2px solid var(--yellow-primary)}.sp-inline-edit-control.ng-invalid:focus{border:2px solid var(--error)}.sp-inline-edit-loading{color:transparent;background:linear-gradient(100deg,var(--gray-30) 30%,var(--gray-20) 50%,var(--gray-40) 70%);background-size:400%;animation:loading 1.2s ease-in-out infinite;width:150px;height:70%}@keyframes loading{0%{background-position:100% 50%}to{background-position:0 50%}}\n"],encapsulation:2,changeDetection:0}),d})()},37906:(S,g,e)=>{"use strict";e.d(g,{f:()=>T});var t=e(84046),n=e(70335),s=e(52777),i=e(58850),r=e(7362),a=e(26e3),o=e(98807),d=e(19327),h=e(83941),p=e(14650),f=e(83372),m=e(55331),v=e(94794);function E(y,I){if(1&y){const P=t.EpF();t.TgZ(0,"div",1),t.TgZ(1,"sp-select-data-type-edit-control",2),t.NdJ("valueSelected",function(){t.CHM(P);const F=t.oxw();return F.propagateTouched(),F.editor.submit()})("click",function(F){return F.stopPropagation()}),t.qZA(),t.qZA()}if(2&y){const P=t.oxw();t.Q6J("formGroup",P.formGroup),t.xp6(1),t.Q6J("configuration",P.selectConfiguration)("options",P.periodModeOptions)("formControlName","value")}}const C={provide:n.JU,useExisting:(0,t.Gpc)(()=>T),multi:!0};let T=(()=>{class y extends o.F{constructor(){super(...arguments),this.selectConfiguration=(new f.w).withOptionsMenuWidth(y.SELECT_MENU_WIDTH).withOpenedMenuOnCreation().withResponsiveHeight().withPrefixForId("sp-period-mode-inline-edit"),this.periodModeOptions=[],this.elementToIgnoreOnClickOutsideSelector="#sp-period-mode-inline-edit-options-menu"}init(){this.buildOptionsFromPeriodModes(),this.changeDetectorRef.detectChanges()}formGroupCreated(){this.observeValueChanges()}getFormGroup(P){return this.formBuilder.group({value:[P?P.value:"",[]]})}getHostClasses(){return["sp-w-full","sp-h-full","sp-block"]}buildOptionsFromPeriodModes(){this.periodModeOptions=y.PERIOD_MODES.map(P=>{const L=a.J.getPeriodModeLabel(P),F=a.J.getPeriodModeIcon(P);return new p.W(P,h.H.string(L)).withIcon(new s.J(F,d.B.SLATE.backgroundStyle)).withIconCssClass("sp-mx-1 sp-period-mode-data-type-edit-icon")})}observeValueChanges(){this.formGroup.get("value").valueChanges.pipe(this.takeUntilDestroy()).subscribe(P=>{this.editor.setDataValue(r.J.of({dataTypeId:i.k.toString(),value:P}))})}}return y.PERIOD_MODES=["MANUAL","LOCKED","AUTO_BOTTOM_UP","AUTO_TOP_DOWN"],y.SELECT_MENU_WIDTH="160px",y.\u0275fac=function(){let I;return function(L){return(I||(I=t.n5z(y)))(L||y)}}(),y.\u0275cmp=t.Xpm({type:y,selectors:[["sp-period-mode-data-type-edit"]],features:[t._Bn([C]),t.qOj],decls:1,vars:1,consts:[["class","sp-inline-edit-group",3,"formGroup",4,"ngIf"],[1,"sp-inline-edit-group",3,"formGroup"],[3,"configuration","options","formControlName","valueSelected","click"]],template:function(P,L){1&P&&t.YNc(0,E,2,4,"div",0),2&P&&t.Q6J("ngIf",L.formGroup)},directives:[m.O5,n.JL,n.sg,v.c,n.JJ,n.u],styles:[".sp-inline-edit-group{height:100%}.sp-inline-edit-group .sp-inline-edit-string,.sp-inline-edit-group .sp-inline-edit-number{outline:none}.sp-inline-edit-control{width:100%;height:100%;border-radius:4px;border:2px solid var(--gray-30);background-color:var(--gray-10)}.sp-inline-edit-control:focus{border:2px solid var(--blue-100)}.sp-marked .sp-inline-edit-string,.sp-marked .sp-inline-edit-number{border:2px solid var(--error)}.sp-marked-warning .sp-inline-edit-string,.sp-marked-warning .sp-inline-edit-number{border:2px solid var(--yellow-primary)}.sp-inline-edit-control.ng-invalid:focus{border:2px solid var(--error)}.sp-inline-edit-loading{color:transparent;background:linear-gradient(100deg,var(--gray-30) 30%,var(--gray-20) 50%,var(--gray-40) 70%);background-size:400%;animation:loading 1.2s ease-in-out infinite;width:150px;height:70%}@keyframes loading{0%{background-position:100% 50%}to{background-position:0 50%}}sp-period-mode-data-type-edit .sp-select-button-active .sp-icon__icon{--tw-text-opacity: 1 !important;color:rgb(255 255 255 / var(--tw-text-opacity))!important}\n"],encapsulation:2,changeDetection:0}),y})()},20796:(S,g,e)=>{"use strict";e.d(g,{W:()=>v});var t=e(84046),n=e(70335),s=e(13489),i=e(21859),r=e(98807),a=e(83941),o=e(14650),d=e(83372),h=e(55331),p=e(94794);function f(E,C){if(1&E){const T=t.EpF();t.TgZ(0,"div",1),t.TgZ(1,"sp-select-data-type-edit-control",2),t.NdJ("valueSelected",function(){t.CHM(T);const I=t.oxw();return I.propagateTouched(),I.editor.submit()})("click",function(I){return I.stopPropagation()}),t.qZA(),t.qZA()}if(2&E){const T=t.oxw();t.Q6J("formGroup",T.formGroup),t.xp6(1),t.ekj("sp-priority-data-type-edit__loding",T.isLoading),t.Q6J("configuration",T.selectConfiguration)("options",T.priorityOptions)("formControlName","name")}}const m={provide:n.JU,useExisting:(0,t.Gpc)(()=>v),multi:!0};let v=(()=>{class E extends r.F{constructor(){super(...arguments),this.priorityOptions=[],this.elementToIgnoreOnClickOutsideSelector="#sp-period-mode-inline-edit-options-menu",this.isLoading=!0,this.selectConfiguration=(new d.w).withOptionsMenuWidth(E.SELECT_MENU_WIDTH).withOpenedMenuOnCreation().withResponsiveHeight().withPrefixForId("sp-period-mode-inline-edit")}init(){const{data$:T,isLoading$:y}=this.fetchAvailableOptions();this.observeAdditionalData(T),this.observeLoadingState(y)}formGroupCreated(){this.observeValueChanges()}getHostClasses(){return["sp-priority-data-type-edit","sp-w-full","sp-h-full"]}getFormGroup(T){return this.formBuilder.group({name:[T.name,[]]})}observeAdditionalData(T){T.pipe(this.takeUntilDestroy()).subscribe(y=>{this.nameToDataValueMap=this.createNameToDataValueMap(y),this.priorityOptions=y.map(I=>new o.W(I.name,a.H.string(I.name)).withIconURL(I.iconUrl).withIconCssClass("sp-icon-16 sp-mr-2")),this.changeDetectorRef.detectChanges()})}observeLoadingState(T){T.pipe(this.takeUntilDestroy()).subscribe(y=>{this.isLoading=y,this.changeDetectorRef.detectChanges()})}observeValueChanges(){this.formGroup.get("name").valueChanges.pipe(this.takeUntilDestroy()).subscribe(T=>{const y=this.nameToDataValueMap.get(T);this.editor.setDataValue(i.H.of({dataTypeId:s.o.toString(),name:T,iconUrl:y.iconUrl,sequence:y.sequence}))})}createNameToDataValueMap(T){const y=new Map;return T.forEach(I=>{y.set(I.name,I)}),y}}return E.SELECT_MENU_WIDTH="160px",E.\u0275fac=function(){let C;return function(y){return(C||(C=t.n5z(E)))(y||E)}}(),E.\u0275cmp=t.Xpm({type:E,selectors:[["sp-priority-data-type-edit"]],features:[t._Bn([m]),t.qOj],decls:1,vars:1,consts:[["class","sp-inline-edit-group",3,"formGroup",4,"ngIf"],[1,"sp-inline-edit-group",3,"formGroup"],[3,"configuration","options","formControlName","valueSelected","click"]],template:function(T,y){1&T&&t.YNc(0,f,2,6,"div",0),2&T&&t.Q6J("ngIf",y.formGroup)},directives:[h.O5,n.JL,n.sg,p.c,n.JJ,n.u],styles:[".sp-inline-edit-group{height:100%}.sp-inline-edit-group .sp-inline-edit-string,.sp-inline-edit-group .sp-inline-edit-number{outline:none}.sp-inline-edit-control{width:100%;height:100%;border-radius:4px;border:2px solid var(--gray-30);background-color:var(--gray-10)}.sp-inline-edit-control:focus{border:2px solid var(--blue-100)}.sp-marked .sp-inline-edit-string,.sp-marked .sp-inline-edit-number{border:2px solid var(--error)}.sp-marked-warning .sp-inline-edit-string,.sp-marked-warning .sp-inline-edit-number{border:2px solid var(--yellow-primary)}.sp-inline-edit-control.ng-invalid:focus{border:2px solid var(--error)}.sp-inline-edit-loading{color:transparent;background:linear-gradient(100deg,var(--gray-30) 30%,var(--gray-20) 50%,var(--gray-40) 70%);background-size:400%;animation:loading 1.2s ease-in-out infinite;width:150px;height:70%}@keyframes loading{0%{background-position:100% 50%}to{background-position:0 50%}}.sp-priority-data-type-edit__loding{display:none!important}\n"],encapsulation:2,changeDetection:0}),E})()},51124:(S,g,e)=>{"use strict";e.d(g,{w:()=>v});var t=e(84046),n=e(70335),s=e(9396),i=e(36609),r=e(98807),a=e(83941),o=e(14650),d=e(83372),h=e(55331),p=e(94794);function f(E,C){if(1&E){const T=t.EpF();t.TgZ(0,"div",1),t.TgZ(1,"sp-select-data-type-edit-control",2),t.NdJ("valueSelected",function(){t.CHM(T);const I=t.oxw();return I.propagateTouched(),I.editor.submit()})("click",function(I){return I.stopPropagation()}),t.qZA(),t.qZA()}if(2&E){const T=t.oxw();t.Q6J("formGroup",T.formGroup),t.xp6(1),t.ekj("sp-priority-data-type-edit__loding",T.isLoading),t.Q6J("configuration",T.selectConfiguration)("options",T.selectOptions)("formControlName","value")}}const m={provide:n.JU,useExisting:(0,t.Gpc)(()=>v),multi:!0};let v=(()=>{class E extends r.F{constructor(){super(...arguments),this.selectOptions=[],this.elementToIgnoreOnClickOutsideSelector="#sp-select-mode-inline-edit-options-menu",this.isLoading=!0,this.selectConfiguration=(new d.w).withOptionsMenuWidth(E.SELECT_MENU_WIDTH).withMaxOptionsMenuWidth(E.SELECT_MENU_MAX_WIDTH).withOpenedMenuOnCreation().withResponsiveHeight().withPrefixForId("sp-select-mode-inline-edit")}init(){const{data$:T,isLoading$:y}=this.fetchAvailableOptions();this.observeAdditionalData(T),this.observeLoadingState(y)}formGroupCreated(){this.observeValueChanges()}getFormGroup(T){return this.formBuilder.group({value:[T?T.value:"",[]]})}getHostClasses(){return["sp-select-data-type-edit","sp-w-full","sp-h-full"]}observeAdditionalData(T){T.pipe(this.takeUntilDestroy()).subscribe(y=>{var I;this.selectOptions=y.map(P=>new o.W(P.value,a.H.string(P.value))),(null===(I=this.selectOptions)||void 0===I?void 0:I.length)&&this.selectOptions.push(new o.W(E.OPTION_NONE,a.H.string(E.OPTION_NONE))),this.changeDetectorRef.detectChanges()})}observeLoadingState(T){T.pipe(this.takeUntilDestroy()).subscribe(y=>{this.isLoading=y})}observeValueChanges(){this.formGroup.get("value").valueChanges.pipe(this.takeUntilDestroy()).subscribe(T=>{T===E.OPTION_NONE&&this.clearDataValue(),this.editor.setDataValue(i.C.of({dataTypeId:s.r.toString(),value:T,id:null,sequence:null,disabled:null}))})}createValueToDataValueMap(T){const y=new Map;return T.forEach(I=>{y.set(I.value,I)}),y}}return E.SELECT_MENU_WIDTH="160px",E.SELECT_MENU_MAX_WIDTH=300,E.OPTION_NONE="None",E.\u0275fac=function(){let C;return function(y){return(C||(C=t.n5z(E)))(y||E)}}(),E.\u0275cmp=t.Xpm({type:E,selectors:[["sp-select-data-type-edit"]],features:[t._Bn([m]),t.qOj],decls:1,vars:1,consts:[["class","sp-inline-edit-group",3,"formGroup",4,"ngIf"],[1,"sp-inline-edit-group",3,"formGroup"],[3,"configuration","options","formControlName","valueSelected","click"]],template:function(T,y){1&T&&t.YNc(0,f,2,6,"div",0),2&T&&t.Q6J("ngIf",y.formGroup)},directives:[h.O5,n.JL,n.sg,p.c,n.JJ,n.u],styles:[".sp-inline-edit-group{height:100%}.sp-inline-edit-group .sp-inline-edit-string,.sp-inline-edit-group .sp-inline-edit-number{outline:none}.sp-inline-edit-control{width:100%;height:100%;border-radius:4px;border:2px solid var(--gray-30);background-color:var(--gray-10)}.sp-inline-edit-control:focus{border:2px solid var(--blue-100)}.sp-marked .sp-inline-edit-string,.sp-marked .sp-inline-edit-number{border:2px solid var(--error)}.sp-marked-warning .sp-inline-edit-string,.sp-marked-warning .sp-inline-edit-number{border:2px solid var(--yellow-primary)}.sp-inline-edit-control.ng-invalid:focus{border:2px solid var(--error)}.sp-inline-edit-loading{color:transparent;background:linear-gradient(100deg,var(--gray-30) 30%,var(--gray-20) 50%,var(--gray-40) 70%);background-size:400%;animation:loading 1.2s ease-in-out infinite;width:150px;height:70%}@keyframes loading{0%{background-position:100% 50%}to{background-position:0 50%}}.sp-select-data-type-edit__loding{display:none!important}\n"],encapsulation:2,changeDetection:0}),E})()},95297:(S,g,e)=>{"use strict";e.d(g,{f:()=>o});var t=e(84046),n=e(70335),s=e(64872),i=e(98807);const r=["input"],a={provide:n.JU,useExisting:(0,t.Gpc)(()=>o),multi:!0};let o=(()=>{class d extends i.F{formGroupCreated(){this.observeValueChanges()}getFormGroup(p){return this.formBuilder.group({value:[p?p.value:"",[]]})}stopPropagation(p){p.stopPropagation()}handleFocus(){this.inputRef&&this.inputRef.nativeElement.focus()}getHostClasses(){return["sp-w-full","sp-h-full"]}observeValueChanges(){this.formGroup.get("value").valueChanges.pipe(this.takeUntilDestroy()).subscribe(p=>{this.editor.setDataValue(new s.k(p))})}}return d.\u0275fac=function(){let h;return function(f){return(h||(h=t.n5z(d)))(f||d)}}(),d.\u0275cmp=t.Xpm({type:d,selectors:[["sp-string-data-type-edit"]],viewQuery:function(p,f){if(1&p&&t.Gf(r,7),2&p){let m;t.iGM(m=t.CRH())&&(f.inputRef=m.first)}},features:[t._Bn([a]),t.qOj],decls:3,vars:3,consts:[[1,"sp-inline-edit-group",3,"formGroup"],["type","text",1,"sp-inline-edit-string","sp-border-rounded","sp-px-2","sp-inline-edit-control",3,"formControlName","click","blur"],["input",""]],template:function(p,f){1&p&&(t.TgZ(0,"div",0),t.TgZ(1,"input",1,2),t.NdJ("click",function(v){return f.stopPropagation(v)})("blur",function(){return f.handleBlur()}),t.qZA(),t.qZA()),2&p&&(t.Q6J("formGroup",f.formGroup),t.xp6(1),t.Q6J("formControlName","value"),t.uIk("placeholder",f.getPlaceholder()))},directives:[n.JL,n.sg,n.Fj,n.JJ,n.u],styles:[".sp-inline-edit-group{height:100%}.sp-inline-edit-group .sp-inline-edit-string,.sp-inline-edit-group .sp-inline-edit-number{outline:none}.sp-inline-edit-control{width:100%;height:100%;border-radius:4px;border:2px solid var(--gray-30);background-color:var(--gray-10)}.sp-inline-edit-control:focus{border:2px solid var(--blue-100)}.sp-marked .sp-inline-edit-string,.sp-marked .sp-inline-edit-number{border:2px solid var(--error)}.sp-marked-warning .sp-inline-edit-string,.sp-marked-warning .sp-inline-edit-number{border:2px solid var(--yellow-primary)}.sp-inline-edit-control.ng-invalid:focus{border:2px solid var(--error)}.sp-inline-edit-loading{color:transparent;background:linear-gradient(100deg,var(--gray-30) 30%,var(--gray-20) 50%,var(--gray-40) 70%);background-size:400%;animation:loading 1.2s ease-in-out infinite;width:150px;height:70%}@keyframes loading{0%{background-position:100% 50%}to{background-position:0 50%}}\n"],encapsulation:2,changeDetection:0}),d})()},65397:(S,g,e)=>{"use strict";e.d(g,{E:()=>v});var t=e(55331),n=e(84046),s=e(70335),i=e(98223),r=e(37042),a=e(75596),o=e(90792),d=e(80867),h=e(98807),p=e(17583);const f=["input"],m={provide:s.JU,useExisting:(0,n.Gpc)(()=>v),multi:!0};let v=(()=>{class E extends h.F{constructor(T,y,I,P,L,F,b,x,B){super(x,P,T,I,y,L,F,b),this.dataTypeInstanceRepository=B}formGroupCreated(){this.observeValueChanges()}stopPropagation(T){T.stopPropagation()}getFormGroup(T){const y=T?T.summary:"",I=this.dataTypeInstanceRepository.get(o.y).validators;return this.formBuilder.group({summary:[y,I]})}handleFocus(){this.inputRef&&this.inputRef.nativeElement.focus()}getHostClasses(){return["sp-w-full","sp-h-full"]}observeValueChanges(){this.formGroup.get("summary").valueChanges.pipe(this.takeUntilDestroy()).subscribe(T=>{this.editor.setDataValue(new d.u(T))})}}return E.\u0275fac=function(T){return new(T||E)(n.Y36(s.qu),n.Y36(n.sBO),n.Y36(n.Qsj),n.Y36(r.e),n.Y36(n.SBq),n.Y36(i.e),n.Y36(p.q),n.Y36(t.K0),n.Y36(a.v))},E.\u0275cmp=n.Xpm({type:E,selectors:[["sp-summary-data-type-edit"]],viewQuery:function(T,y){if(1&T&&n.Gf(f,7),2&T){let I;n.iGM(I=n.CRH())&&(y.inputRef=I.first)}},features:[n._Bn([m]),n.qOj],decls:3,vars:3,consts:[[1,"sp-inline-edit-group",3,"formGroup"],["type","text",1,"sp-inline-edit-string","sp-border-rounded","sp-px-2","sp-inline-edit-control",3,"formControlName","click","blur"],["input",""]],template:function(T,y){1&T&&(n.TgZ(0,"div",0),n.TgZ(1,"input",1,2),n.NdJ("click",function(P){return y.stopPropagation(P)})("blur",function(){return y.handleBlur()}),n.qZA(),n.qZA()),2&T&&(n.Q6J("formGroup",y.formGroup),n.xp6(1),n.Q6J("formControlName","summary"),n.uIk("placeholder","Summary"))},directives:[s.JL,s.sg,s.Fj,s.JJ,s.u],styles:[".sp-inline-edit-group{height:100%}.sp-inline-edit-group .sp-inline-edit-string,.sp-inline-edit-group .sp-inline-edit-number{outline:none}.sp-inline-edit-control{width:100%;height:100%;border-radius:4px;border:2px solid var(--gray-30);background-color:var(--gray-10)}.sp-inline-edit-control:focus{border:2px solid var(--blue-100)}.sp-marked .sp-inline-edit-string,.sp-marked .sp-inline-edit-number{border:2px solid var(--error)}.sp-marked-warning .sp-inline-edit-string,.sp-marked-warning .sp-inline-edit-number{border:2px solid var(--yellow-primary)}.sp-inline-edit-control.ng-invalid:focus{border:2px solid var(--error)}.sp-inline-edit-loading{color:transparent;background:linear-gradient(100deg,var(--gray-30) 30%,var(--gray-20) 50%,var(--gray-40) 70%);background-size:400%;animation:loading 1.2s ease-in-out infinite;width:150px;height:70%}@keyframes loading{0%{background-position:100% 50%}to{background-position:0 50%}}\n"],encapsulation:2,changeDetection:0}),E})()},11058:(S,g,e)=>{"use strict";e.d(g,{P:()=>d});var t=e(84046),n=e(70335),s=e(29634),i=e(71118),r=e(9351),a=e(62546);const o={provide:n.JU,useExisting:(0,t.Gpc)(()=>d),multi:!0};let d=(()=>{class h extends a.H{constructor(f,m,v){super(f,m),this.changeDetectorRef=v,this.valueSelected=new t.vpe}ngAfterViewInit(){this.datepicker.showDropdown()}writeValue(f){!(null==f?void 0:f.length)||(this.selectedDate=r.p.createUTCDateFromString(f),this.changeDetectorRef.detectChanges())}registerOnChange(f){this.propagateChange=f}registerOnTouched(f){}onSelectedDateChange(f){!i.l.isDefined(f)||(this.propagateChange(r.p.simpleDateFromUTCDate(f)),this.valueSelected.emit())}getHostClasses(){return["sp-flex","sp-items-center","sp-w-full","sp-h-full"]}}return h.\u0275fac=function(f){return new(f||h)(t.Y36(t.SBq),t.Y36(t.Qsj),t.Y36(t.sBO))},h.\u0275cmp=t.Xpm({type:h,selectors:[["sp-date-picker-date-string-control"]],viewQuery:function(f,m){if(1&f&&t.Gf(s.L,5),2&f){let v;t.iGM(v=t.CRH())&&(m.datepicker=v.first)}},outputs:{valueSelected:"valueSelected"},features:[t._Bn([o]),t.qOj],decls:1,vars:1,consts:[[1,"sp-w-full","sp-h-full",3,"selectedDate","dateSelection"]],template:function(f,m){1&f&&(t.TgZ(0,"sp-datepicker-one",0),t.NdJ("dateSelection",function(E){return m.onSelectedDateChange(E)}),t.qZA()),2&f&&t.Q6J("selectedDate",m.selectedDate)},directives:[s.L],encapsulation:2,changeDetection:0}),h})()},94794:(S,g,e)=>{"use strict";e.d(g,{c:()=>p});var t=e(84046),n=e(70335),s=e(90850),i=e(4683),r=e(83941),a=e(14650),o=e(62546),d=e(97265);const h={provide:n.JU,useExisting:(0,t.Gpc)(()=>p),multi:!0};let p=(()=>{class f extends o.H{constructor(v,E,C){super(v,E),this.changeDetectorRef=C,this.formControl=new n.NI,this.disabled=!1,this.valueSelected=new t.vpe,this.options$=new s.xQ,this.writeValue$=new s.xQ,this.observeSelectedOptionInitialized=!1,this.propagateChange=T=>{}}ngOnChanges(v){v.options&&v.options.currentValue&&(this.observeSelectedOption(),this.options$.next(this.options))}ngOnInit(){this.observeSelectedOption()}finalize(){this.options$.complete(),this.writeValue$.complete()}writeValue(v){("string"==typeof v||void 0===v)&&this.writeValue$.next(v)}registerOnChange(v){this.propagateChange=v}registerOnTouched(v){}setDisabledState(v){this.disabled=v,this.changeDetectorRef.detectChanges()}onSelectOptionChange(v){this.propagateChange(v.value),this.valueSelected.emit()}getHostClasses(){return["sp-flex","sp-items-center","sp-w-full","sp-h-full"]}observeSelectedOption(){this.observeSelectedOptionInitialized||(this.observeSelectedOptionInitialized=!0,(0,i.aj)([this.options$,this.writeValue$]).pipe(this.takeUntilDestroy()).subscribe(([v,E])=>{E&&v?(this.options=v,this.setSelectedOption(E)):this.selectedOption=new a.W("",r.H.string("")),this.changeDetectorRef.detectChanges()}))}setSelectedOption(v){this.selectedOption=this.options.find(E=>E.value===v||this.selectDataTypeEditControlConfig&&this.selectDataTypeEditControlConfig.getFilteredCallback(v,E.value))}}return f.\u0275fac=function(v){return new(v||f)(t.Y36(t.SBq),t.Y36(t.Qsj),t.Y36(t.sBO))},f.\u0275cmp=t.Xpm({type:f,selectors:[["sp-select-data-type-edit-control"]],inputs:{options:"options",configuration:"configuration",formControlName:"formControlName",formControl:"formControl",disabled:"disabled",userPickerConfiguration:"userPickerConfiguration",selectDataTypeEditControlConfig:"selectDataTypeEditControlConfig",isInvalid:"isInvalid"},outputs:{valueSelected:"valueSelected"},features:[t._Bn([h]),t.qOj,t.TTD],decls:1,vars:3,consts:[[3,"configuration","selectedOption","options","selectedOptionChanged"]],template:function(v,E){1&v&&(t.TgZ(0,"sp-select",0),t.NdJ("selectedOptionChanged",function(T){return E.onSelectOptionChange(T)}),t.qZA()),2&v&&t.Q6J("configuration",E.configuration)("selectedOption",E.selectedOption)("options",E.options)},directives:[d.Hr],encapsulation:2,changeDetection:0}),f})()},42780:(S,g,e)=>{"use strict";e.d(g,{Y:()=>s});var t=e(85105),n=e(84046);let s=(()=>{class i{constructor(){}getFilteredCallback(a,o){return!!this.filteredCallback&&this.filteredCallback(a,o)}}return i.Builder=class extends t.I{build(){const a=new i;return a.filteredCallback=this.filteredCallback,a}withFilteredCallback(a){return this.filteredCallback=a,this}},i.\u0275fac=function(a){return new(a||i)},i.\u0275prov=n.Yz7({token:i,factory:i.\u0275fac}),i})()},34606:(S,g,e)=>{"use strict";e.d(g,{x:()=>b});var t=e(88983),n=e(7052),s=e(46789),i=e(34353),r=e(84046),a=e(55331),o=e(29659),d=e(70335),h=e(95297),p=e(25400),f=e(65397);const m=["builtin_color_data_type_edit"],v=["string_data_type_edit"],E=["summary_data_type_edit"],C=["number_data_type_edit"];function T(x,B){1&x&&r.GkF(0)}function y(x,B){if(1&x&&r._UZ(0,"sp-builtin-color-data-type-edit",5),2&x){const M=B.formControl,w=r.oxw();r.Q6J("formControl",M)("menuOpenedOnCreation",!1)("focus",w.focus)}}function I(x,B){if(1&x){const M=r.EpF();r.TgZ(0,"sp-string-data-type-edit",6),r.NdJ("blurEvent$",function(){return r.CHM(M),r.oxw().onBlur()}),r.qZA()}if(2&x){const w=B.focus;r.Q6J("formControl",B.formControl)("focus",w)}}function P(x,B){if(1&x){const M=r.EpF();r.TgZ(0,"sp-number-data-type-edit",6),r.NdJ("blurEvent$",function(){return r.CHM(M),r.oxw().onBlur()}),r.qZA()}if(2&x){const w=B.focus;r.Q6J("formControl",B.formControl)("focus",w)}}function L(x,B){if(1&x){const M=r.EpF();r.TgZ(0,"sp-summary-data-type-edit",6),r.NdJ("blurEvent$",function(){return r.CHM(M),r.oxw().onBlur()}),r.qZA()}if(2&x){const w=B.focus;r.Q6J("formControl",B.formControl)("focus",w)}}const F=function(x,B){return{formControl:x,focus:B}};let b=(()=>{class x{constructor(M){this.changeDetectorRef=M}ngAfterViewInit(){this.dataType&&(this.editTemplateRef=this.resolveEditComponent(),this.changeDetectorRef.detectChanges())}onBlur(){this.control.markAsTouched()}resolveEditComponent(){switch(this.dataType.getDataTypeId().toString()){case i.y.ID.toString():return this.builtinColorDataTypeEditComponent;case t.E.toString():return this.numberDataTypEdit;case n.r.ID.toString():return this.stringDataTypEdit;case s.A.ID.toString():return this.summaryDataTypEdit;default:throw new Error(`Data type ${this.dataType.getDataTypeId().toString()} is not handled in FormFieldEditorComponent`)}}}return x.\u0275fac=function(M){return new(M||x)(r.Y36(r.sBO))},x.\u0275cmp=r.Xpm({type:x,selectors:[["sp-dt-form-field-editor"]],viewQuery:function(M,w){if(1&M&&(r.Gf(m,7),r.Gf(v,7),r.Gf(E,7),r.Gf(C,7)),2&M){let K;r.iGM(K=r.CRH())&&(w.builtinColorDataTypeEditComponent=K.first),r.iGM(K=r.CRH())&&(w.stringDataTypEdit=K.first),r.iGM(K=r.CRH())&&(w.summaryDataTypEdit=K.first),r.iGM(K=r.CRH())&&(w.numberDataTypEdit=K.first)}},inputs:{focus:"focus",dataType:"dataType",control:"control"},decls:9,vars:5,consts:[[4,"ngTemplateOutlet","ngTemplateOutletContext"],["builtin_color_data_type_edit",""],["string_data_type_edit",""],["number_data_type_edit",""],["summary_data_type_edit",""],[3,"formControl","menuOpenedOnCreation","focus"],[3,"formControl","focus","blurEvent$"]],template:function(M,w){1&M&&(r.YNc(0,T,1,0,"ng-container",0),r.YNc(1,y,1,3,"ng-template",null,1,r.W1O),r.YNc(3,I,1,2,"ng-template",null,2,r.W1O),r.YNc(5,P,1,2,"ng-template",null,3,r.W1O),r.YNc(7,L,1,2,"ng-template",null,4,r.W1O)),2&M&&r.Q6J("ngTemplateOutlet",w.editTemplateRef)("ngTemplateOutletContext",r.WLB(2,F,w.control,w.focus))},directives:[a.tP,o.$,d.JJ,d.oH,h.f,p.a,f.E],encapsulation:2,changeDetection:0}),x})()},58776:(S,g,e)=>{"use strict";e.d(g,{L:()=>t});var t=(()=>{return(n=t||(t={}))[n.SUBMIT=0]="SUBMIT",n[n.CANCEL=1]="CANCEL",t;var n})()},13883:(S,g,e)=>{"use strict";e.d(g,{O:()=>h});var t=e(90850),n=e(93051),s=e(82613),i=e(55688),r=e(86495),a=e(58776),o=e(72090),d=e(84046);let h=(()=>{class p{constructor(m,v){this.shortcutsService=m,this.fieldValuesEditAbility=v,this.shortcutTrigger$=new t.xQ,this.fieldValuesEditAbility.editAvailable$&&this.initShortcuts()}listen(){return this.shortcutTrigger$.asObservable()}initShortcuts(){this.shortcutGroup=this.shortcutsService.createGroup("Inline Editing",{position:n.N.FORCE_TO_TOP}),this.shortcutsService.createContainer("Submit",this.shortcutGroup).add(new i.z(r.s.ENTER,()=>{this.shortcutTrigger$.next(a.L.SUBMIT)})),this.shortcutsService.createContainer("Cancel",this.shortcutGroup).add(new i.z(r.s.ESCAPE,()=>{this.shortcutTrigger$.next(a.L.CANCEL)}))}destroyShortcuts(){this.shortcutsService.removeShortcutGroup(this.shortcutGroup)}}return p.\u0275fac=function(m){return new(m||p)(d.LFG(s.L),d.LFG(o.n))},p.\u0275prov=d.Yz7({token:p,factory:p.\u0275fac}),p})()},1352:(S,g,e)=>{"use strict";e.d(g,{f:()=>f});var t=e(84046),n=e(18840),s=e(4683),i=e(71726),r=e(2939),a=e(75596),o=e(78039),d=e(39473),h=e(62546),p=e(70335);let f=(()=>{class m extends h.H{constructor(E,C,T,y,I,P,L,F){super(y,I),this.entityFilterService=E,this.dataTypeInstanceRepository=C,this.changeDetectorRef=T,this.uniqueDataValuesStorageService=P,this.uniqueDataValuesLoadedStorageService=L,this.formBuilder=F,this.advancedFilterConfigChanged$=new t.vpe,this.recalculateUniqueDataValues$=new n.X("")}setDataTypeFilterConfig(E){this.dataTypeFilterConfig=E}setFieldFilterConfig(E){this.fieldFilterConfig=E,this.entityFilterService.getFilter(this.dataTypeFilterConfig.uniqueName,this.fieldFilterConfig).isSearch()||this.recalculateUniqueDataValues$.next("")}emitConfig(){this.advancedFilterConfigChanged$.emit(this.dataTypeFilterConfig)}observeUniqueDataValues(){if(this.entityFilterService.getFilter(this.dataTypeFilterConfig.uniqueName,this.fieldFilterConfig).isSearch()){const C=this.fieldFilterConfig.getFieldDefinition();return this.uniqueDataValuesStorageService.select(C.getFieldId().toString())}return this.selectFilteredDataValues()}selectFilteredDataValues(){const E=this.fieldFilterConfig.getFieldDefinition();return(0,s.aj)([this.uniqueDataValuesStorageService.select(E.getFieldId().toString()),this.recalculateUniqueDataValues$]).pipe((0,i.U)(([C,T])=>this.entityFilterService.getDataValuesMatchingSearchFilters(C,this.fieldFilterConfig)),this.takeUntilDestroy())}ngOnChanges(){}}return m.\u0275fac=function(E){return new(E||m)(t.Y36(r.w,8),t.Y36(a.v,8),t.Y36(t.sBO),t.Y36(t.SBq),t.Y36(t.Qsj),t.Y36(d.O),t.Y36(o.V),t.Y36(p.qu))},m.\u0275cmp=t.Xpm({type:m,selectors:[["sp-filter"]],features:[t.qOj,t.TTD],decls:0,vars:0,template:function(E,C){},encapsulation:2}),m})()},21412:(S,g,e)=>{"use strict";e.d(g,{r:()=>h});var t=e(84046),n=e(90850),s=e(35811),r=(e(3518),e(75596)),a=e(62546);const o=["container"];function d(p,f){}let h=(()=>{class p extends a.H{constructor(m,v,E,C,T){super(E,C),this.componentFactoryResolver=m,this.injector=v,this.dataTypeInstanceRepository=T,this.fieldFilterConfigChanged$=new t.vpe,this.uniqueNameToConfig=new Map,this.destroyFilters$=new n.xQ,this.filterComponentsRefs=[]}ngOnChanges(m){m.fieldFilterConfig&&m.fieldFilterConfig.currentValue&&this.onEntityConfigChange()}finalize(){this.destroyDynamicComponents()}isAdvanceFiltersImplemented(){return this.fieldFilterConfig.getFieldDefinition().getDataType().getFilters().length>0}onEntityConfigChange(){0===this.filterComponentsRefs.length?this.createDataTypeFiltersComponentsFromMultiConfigs():this.propagateConfigToFiltersComponent(),this.fillUniqueNamesToConfig()}createDataTypeFiltersComponentsFromMultiConfigs(){this.dataTypeInstanceRepository.get(this.fieldFilterConfig.getFieldDefinition().getDataType().getDataTypeId()).getFilters().forEach(m=>{const v=this.componentFactoryResolver.resolveComponentFactory(m.getComponent()),E=this.container.createComponent(v,void 0,this.injector);this.filterComponentsRefs.push(E);const C=this.fieldFilterConfig.getFieldAttributeFiltersConfigs().find(T=>T.uniqueName===m.getUniqueName());E.instance.setDataTypeFilterConfig(C),E.instance.setFieldFilterConfig(this.fieldFilterConfig),E.instance.advancedFilterConfigChanged$.pipe((0,s.R)(this.destroyFilters$),this.takeUntilDestroy()).subscribe(T=>{this.uniqueNameToConfig.set(T.uniqueName,T),this.fieldFilterConfig=this.fieldFilterConfig.cloneDataTypeFilterConfigs([T]),this.propagateConfig()})})}propagateConfig(){this.fieldFilterConfigChanged$.emit(this.fieldFilterConfig)}destroyDynamicComponents(){this.filterComponentsRefs&&(this.destroyFilters$.next(),this.filterComponentsRefs.forEach(m=>{m.destroy()}))}propagateConfigToFiltersComponent(){this.filterComponentsRefs.forEach(m=>{m.instance.setFieldFilterConfig(this.fieldFilterConfig)})}fillUniqueNamesToConfig(){this.fieldFilterConfig.getFieldAttributeFiltersConfigs().forEach(m=>{this.uniqueNameToConfig.set(m.uniqueName,m)})}}return p.\u0275fac=function(m){return new(m||p)(t.Y36(t._Vd),t.Y36(t.zs3),t.Y36(t.SBq),t.Y36(t.Qsj),t.Y36(r.v))},p.\u0275cmp=t.Xpm({type:p,selectors:[["sp-data-type-filters"]],viewQuery:function(m,v){if(1&m&&t.Gf(o,7,t.s_b),2&m){let E;t.iGM(E=t.CRH())&&(v.container=E.first)}},inputs:{fieldFilterConfig:"fieldFilterConfig"},outputs:{fieldFilterConfigChanged$:"filterConfigChanged"},features:[t.qOj,t.TTD],decls:2,vars:0,consts:[["container",""]],template:function(m,v){1&m&&t.YNc(0,d,0,0,"ng-template",null,0,t.W1O)},styles:[""],encapsulation:2,changeDetection:0}),p})()},44980:(S,g,e)=>{"use strict";e.d(g,{Z:()=>t});class t{}},78039:(S,g,e)=>{"use strict";e.d(g,{V:()=>s});var t=e(27609),n=e(84046);let s=(()=>{class i extends t.V{constructor(){super(!1)}}return i.\u0275fac=function(a){return new(a||i)},i.\u0275prov=n.Yz7({token:i,factory:i.\u0275fac}),i})()},39473:(S,g,e)=>{"use strict";e.d(g,{O:()=>s});var t=e(94062),n=e(84046);let s=(()=>{class i extends t._{constructor(){super()}compare(a,o){return a===o}}return i.\u0275fac=function(a){return new(a||i)},i.\u0275prov=n.Yz7({token:i,factory:i.\u0275fac}),i})()},88275:(S,g,e)=>{"use strict";e.d(g,{B:()=>o});var t=e(55331),r=(e(66794),e(51866),e(61224),e(84046));let o=(()=>{class d{}return d.\u0275fac=function(p){return new(p||d)},d.\u0275mod=r.oAB({type:d}),d.\u0275inj=r.cJS({imports:[[t.ez]]}),d})()},66794:(S,g,e)=>{"use strict";e.d(g,{E:()=>s});var t=e(84694),n=e(84046);let s=(()=>{class i{constructor(a){this.dataTypeDateFormatService=a}transform(a){return this.dataTypeDateFormatService.formatSimpleDateToDate(a)}}return i.\u0275fac=function(a){return new(a||i)(n.Y36(t.u,16))},i.\u0275pipe=n.Yjl({name:"spDataFormatPipe",type:i,pure:!1}),i})()},51866:(S,g,e)=>{"use strict";e.d(g,{c:()=>s});var t=e(84694),n=e(84046);let s=(()=>{class i{constructor(a){this.dataTypeDateFormatService=a}transform(a){return this.dataTypeDateFormatService.formatTimestampToDate(a)}}return i.\u0275fac=function(a){return new(a||i)(n.Y36(t.u,16))},i.\u0275pipe=n.Yjl({name:"spDateFromTimeFormatPipe",type:i,pure:!1}),i})()},61224:(S,g,e)=>{"use strict";e.d(g,{x:()=>s});var t=e(84694),n=e(84046);let s=(()=>{class i{constructor(a){this.dataTypeDateFormatService=a}transform(a){return this.dataTypeDateFormatService.formatTimestampToDateTime(a)}}return i.\u0275fac=function(a){return new(a||i)(n.Y36(t.u,16))},i.\u0275pipe=n.Yjl({name:"spTimeFormatPipe",type:i,pure:!1}),i})()},5425:(S,g,e)=>{"use strict";e.d(g,{t:()=>r});var t=e(55331),n=e(84046),s=e(67813),i=e(89764);let r=(()=>{class a{constructor(d,h,p){this.document=d,this.hostConnector=h,this.inlineEditGlobalService=p,this.handleScrollRef=this.handleScroll.bind(this)}setEditor(d){this.editor=d}attachScrollListener(){this.document.addEventListener("scroll",this.handleScrollRef,!0)}detachScrollListener(){this.document.removeEventListener("scroll",this.handleScrollRef,!0)}handleScroll(){this.switchToDisplayMode(),this.detachScrollListener()}switchToDisplayMode(){this.editor.exit(),this.reportEditEnd()}reportEditEnd(){this.inlineEditGlobalService.reportEditEnd(),this.hostConnector&&this.hostConnector.reportEditModeChange(!1)}}return a.\u0275fac=function(d){return new(d||a)(n.LFG(t.K0),n.LFG(s.E,8),n.LFG(i.Z))},a.\u0275prov=n.Yz7({token:a,factory:a.\u0275fac}),a})()},72075:(S,g,e)=>{"use strict";e.d(g,{m:()=>t});const t="util/datatype/built-in-field"},25337:(S,g,e)=>{"use strict";e.d(g,{B:()=>a});var t=e(94615),n=e(68638),s=e(19327),i=e(82366);const r="Built-in";class a{static create(){return new n.g(t.n,r,r,new i.JO("window",s.B.BLUE.backgroundStyle,i.ze.REGULAR))}}},94615:(S,g,e)=>{"use strict";e.d(g,{n:()=>t});const t=-1},54654:(S,g,e)=>{"use strict";e.d(g,{c:()=>qe});var t=e(84694);class n{stringifyMany(st,Nt,Je=", "){return Array.isArray(st)&&st.length?st.map(Nt).filter(Boolean).join(Je):""}}var s=e(72364);var r=e(38322);var o=e(34353);var h=e(89869);var f=e(99929);var v=e(58982);var C=e(50687);var y=e(11095);var P=e(51179);var F=e(78212);var x=e(13849);var M=e(51080);var K=e(47126);var G=e(99490);var X=e(13248);var se=e(26151);var ve=e(27745);var ye=e(39856);var Ie=e(88983);var Ve=e(39455);var xe=e(30031);var tt=e(3926);var Mt=e(49548);var De=e(18933);var Qe=e(49885);var it=e(77702);var Ct=e(50295),Lt=e(9485);var St=e(23467);var yt=e(28328);var ot=e(94932);var Ze=e(7052);var we=e(46789);var Rt=e(60130);var Yt=e(51315);var pn=e(53387);var hn=e(52390);var Et,je=e(71118),Le=e(4502),vt=e(84046);class qe{constructor(st){this.dataTypeDateFormatService=st}static registerConverter(st){qe.converters.set(st.type.toString(),st.convert.bind(st))}convert(st,Nt){const Je=qe.converters.get(st&&st.toString());return"function"!=typeof Je||null===Nt||je.l.isEmpty(Nt)?Le.F.empty():Le.F.from(Je(Nt,this.dataTypeDateFormatService))}}qe.converters=new Map,qe.\u0275fac=function(st){return new(st||qe)(vt.LFG(t.u))},qe.\u0275prov=vt.Yz7({token:qe,factory:qe.\u0275fac}),Et=qe.registerConverter,[class extends n{get type(){return s.B.ID}convert(st){return Array.isArray(st.attachments)&&st.attachments.length?st.attachments.map(Nt=>Nt.name||"").filter(Boolean).join(", "):""}},class extends n{get type(){return r.A.ID}convert(st){return st.name||""}},class extends n{get type(){return o.y.ID}convert(st){return st.value||""}},class extends n{get type(){return h.A.ID}convert(st){return st.icon||""}},class extends n{get type(){return f.b.ID}convert(st){return st.value||""}},class extends n{get type(){return v.G.ID}convert(st,Nt){return Nt.formatTimestampToDate(st.epochMilli)||""}},class extends n{get type(){return C.Z.ID}convert(st){return st.value}},class extends n{get type(){return y.q.ID}convert(st){return st.key||""}},class extends n{get type(){return P.v.ID}convert(st){return st.name||""}},class extends n{get type(){return F.c.ID}convert(st){return st.estimateFormattedPretty||""}},class extends n{get type(){return x.k.ID}convert(st){return st.backgroundColor||""}},class extends n{get type(){return M.c.ID}convert(st){return st.description||""}},class extends n{get type(){return K.f.ID}convert(st){return st.name||""}},class extends n{get type(){return G.R.ID}convert(st){return st.value||""}},class extends n{get type(){return X.f.ID}convert(st){return this.stringifyMany(st&&st.labels,Nt=>Nt.name||"")}},class extends n{get type(){return se.S.ID}convert(st){return st.value||""}},class extends n{get type(){return ve.s.ID}convert(st){return st.value||""}},class extends n{get type(){return ye.K.ID}convert(st){return this.stringifyMany(st&&st.users,Nt=>Nt.data&&Nt.data.displayName||"")}},class extends n{get type(){return Ie.E}convert(st){const Nt=parseFloat(`${st.number}`);return Number.isNaN(Nt)?"":Nt.toString(10)}},class extends n{get type(){return Ve.Z.ID}convert(st){const Nt=parseFloat(`${st.number}`);return Number.isNaN(Nt)?"":`${Nt.toString(10)}%`}},class extends n{get type(){return xe.g.ID}convert(st,Nt){const Je=Tt=>!!st[Tt]&&!!st[Tt].epochMilli,Ot=Je("startDate")&&Je("endDate"),fe=Nt.formatTimestampToDate(st.startDate.epochMilli),Ge=Nt.formatTimestampToDate(st.endDate.epochMilli);return Ot?`${fe} - ${Ge}`:""}},class extends n{get type(){return Mt.H.ID}convert(st){return st.name||""}},class extends n{get type(){return tt.M.ID}convert(st){return st.value||""}},class extends n{get type(){return De.h.ID}convert(st){return st.name||""}},class extends n{get type(){return Qe.v.ID}convert(st){return st.value||""}},class extends n{get type(){return it.U.ID}convert(st){return st.value||""}},class extends n{get type(){return Lt.e.ID}convert(st){return this.stringifyMany(st&&st.elements,Nt=>this.isLinkElement(Nt)?this.sanitize(`[${Nt.text}](${Nt.url})`):this.sanitize(Nt.text),"")}sanitize(st){return Ct.X.sanitize(st||"",{withoutHTML:!0})}isLinkElement(st){return!!st&&"LINK"===st.elementType}},class extends n{get type(){return St.a.ID}convert(st){return this.stringifyMany(st&&st.skills,Nt=>Nt.name||"")}},class extends n{get type(){return yt.r.ID}convert(st){return this.stringifyMany(st&&st.sprints,Nt=>Nt.name||"")}},class extends n{get type(){return ot.C.ID}convert(st){return st.name||""}},class extends n{get type(){return Ze.r.ID}convert(st){return st.value||""}},class extends n{get type(){return we.A.ID}convert(st){return st.summary||""}},class extends n{get type(){return Rt.T.ID}convert(st){return Number.isNaN(parseFloat(String(st.percentage)))?"":`${st.percentage}%`}},class extends n{get type(){return Yt.n.ID}convert(st){return this.stringifyMany(st&&st.links,Nt=>Nt.url?`[${Nt.text}](${Nt.url})`:Nt.text||"")}},class extends n{get type(){return pn.a.ID}convert(st){return st.data&&st.data.displayName||""}},class extends n{get type(){return hn.A.ID}convert(st){return this.stringifyMany(st&&st.list,Nt=>Nt.name||"")}}].forEach(st=>{Et(new st)})},16:(S,g,e)=>{"use strict";e.d(g,{b:()=>n,r:()=>s});var t=e(89744);const n="Built-in";class s{static resolve(r,a){return a?t.c.isBuiltIn(a)?`${r} (${n})`:`${r} (${a.type})`:r}}},67489:(S,g,e)=>{"use strict";e.d(g,{Q:()=>s});var t=e(84046);const n={actual_and_expected_progress_bar:"Reported/expected progress",actual_and_expected_progress_bar_and_percentage:"Reported/expected progress with %",avatar_and_name:"Icon and name",avatar:"Icon",avatars:"Icon",date:"Date",date_time:"Date with time",icon:"Icon",icon_and_link:"Icon with link",icon_and_name_with_link:"Icon and text with link",lozenge:"Lozenge",lozenge_link:"Lozenge with link",lozenge_name:"Lozenge and name",skills_icon_name:"Icon and text",skills_icon:"Icon",skills_name:"Text",period_mode_icon_and_name:"Icon and text",period_mode_icon:"Icon",period_mode_name:"Text",builtin_color_icon_and_name:"Icon and text",builtin_color_icon:"Icon",builtin_color_name:"Text",icon_and_name:"Icon and text",milestone_icon:"Icon",milestone_name:"Text",milestone_icon_and_name:"Icon and text",percentage:"%",percentage_lozenge:"Lozenge",percentage_text:"Text",progress_bar:"Progress",progress_bar_and_percentage:"Progress with %",task_key:"Link",text:"Text",traffic_light:"Traffic lights",version:"Version",estimate_formatted_pretty_text:"Pretty",estimate_formatted_hours_text:"Hours",estimate_formatted_decimal_pretty_text:"Decimal",estimate_number_of_days:"Days",status_lozenge:"Lozenge",status_description:"Description"};class s{static transformDecoratorType(r,a){if(!r)return"";const o=r.toLocaleLowerCase(),d=s.dataTypeDecoratorNameTranslationsMap.get(a);return a&&d?d.get(o):this.getDefaultTranslations()[o]?this.getDefaultTranslations()[o]:this.titleCaseAndRemoveUnderscore(o)}static titleCaseAndRemoveUnderscore(r){return r.charAt(0).toUpperCase()+r.slice(1).replace(/_/g," ").toLowerCase()}static getDefaultTranslations(){return n}static initCustomTranslations(){const r=new Map,a=new Map;return a.set("avatar","Icon"),a.set("avatars","Icon"),a.set("avatar_and_name","Icon and name"),a.set("text","Name"),r.set("USER",a),r.set("MULTI_USER",a),r}}s.dataTypeDecoratorNameTranslationsMap=s.initCustomTranslations(),s.\u0275fac=function(r){return new(r||s)},s.\u0275prov=t.Yz7({token:s,factory:s.\u0275fac})},68638:(S,g,e)=>{"use strict";e.d(g,{g:()=>t});class t{constructor(s,i,r,a){this.id=s,this.name=i,this.type=r,this.suffixIcon=a}}},89744:(S,g,e)=>{"use strict";e.d(g,{c:()=>n});var t=e(94615);class n{static isBuiltIn(i){return i&&i.id===t.n}}},73921:(S,g,e)=>{"use strict";e.d(g,{p:()=>n});var t=e(89744);class n{static resolveTooltipTextFromPlatform(i,r,a=!1){if(!r)return"";if(!t.c.isBuiltIn(r))return i.translate("SPT_COMMON_FIELD_ORIGIN_TOOLTIP_RESOLVER",{originName:r.name,originType:r.type});const o=i.translate("SPT_COMMON_FIELD_ORIGIN_TOOLTIP_BASIC"),d=i.translate("SPT_COMMON_FIELD_ORIGIN_TOOLTIP_READ_MORE");return a?`${o} ${d}`:o}}},96804:(S,g,e)=>{"use strict";e.d(g,{y:()=>t});class t{static getTooltipText(s,i){const r=s.getLabelName(),a=s.getDataValue(i),o=i?s.getTextValue(a):"";return o?r+`: ${o}`:r}}},901:(S,g,e)=>{"use strict";e.d(g,{u:()=>s});var t=e(62628),n=e(84046);let s=(()=>{class i extends t.b{constructor(){super()}}return i.\u0275fac=function(a){return new(a||i)},i.\u0275prov=n.Yz7({token:i,factory:i.\u0275fac}),i})()},69300:(S,g,e)=>{"use strict";e.d(g,{q:()=>b});var t=e(21693),n=e(86263),s=e(23854),i=e(62546),r=e(7321),a=e(901),o=e(43234),d=e(19446),h=e(4683),p=e(53339),f=e(78783),m=e(63833),v=e(98274),E=e(84046),C=e(55331),T=e(83063),y=e(29893),I=e(65799);const P=["formComponent"];function L(x,B){if(1&x&&E._UZ(0,"sp-form-field",7),2&x){const M=B.$implicit,w=E.oxw();E.Q6J("id",M.getName())("label",M.getName())("type",w.FormFieldType.SWIPER)("value",M.isEnabled())("name",M.getName())}}let F=(()=>{class x extends i.H{constructor(M,w,K,k){super(M,w),this.featureFlagFacade=K,this.changeDetectionRef=k,this.FormFieldType=r.E,this.flags=[]}ngOnInit(){this.domManipulator.setHostAttribute("id","sp-feature-flag-modal")}ngAfterViewInit(){this.observeAllFeatureFlags()}getHostClasses(){return["sp-block","sp-w-full","sp-py-4"]}observeAllFeatureFlags(){this.featureFlagFacade.selectAll$().pipe(this.takeUntilDestroy()).subscribe(M=>{this.flags=M,this.changeDetectionRef.detectChanges(),this.form.rebuild(),this.observeAllFieldsChanges()})}observeAllFieldsChanges(){const M=this.flags.map(w=>(0,h.aj)([(0,p.of)(w.getName()),this.form.getField(w.getName()).valueChanges()]));(0,f.S3)(...M).pipe((0,m.q)(1),(0,v.w)(([w,K])=>this.toggleFlag(w,K[w])),this.takeUntilDestroy()).subscribe()}toggleFlag(M,w){return w?this.featureFlagFacade.enable$(M):this.featureFlagFacade.disable$(M)}}return x.\u0275fac=function(M){return new(M||x)(E.Y36(E.SBq),E.Y36(E.Qsj),E.Y36(a.u),E.Y36(E.sBO))},x.\u0275cmp=E.Xpm({type:x,selectors:[["sp-feature-flag-list"]],viewQuery:function(M,w){if(1&M&&E.Gf(P,7),2&M){let K;E.iGM(K=E.CRH())&&(w.form=K.first)}},features:[E._Bn([{provide:o.y,useValue:{}}]),E.qOj],decls:13,vars:10,consts:[[1,"sp-mb-4"],[1,"sp-mb-3"],[1,"sp-block","sp-mb-2"],["formComponent",""],[3,"id","label","type","value","name",4,"ngFor","ngForOf"],[1,"sp-mb-0","sp-text-info"],["name","info-circle",1,"sp-inline"],[3,"id","label","type","value","name"]],template:function(M,w){1&M&&(E.TgZ(0,"h2",0),E._uU(1),E.ALo(2,"spL10nText"),E.qZA(),E.TgZ(3,"p",1),E._uU(4),E.ALo(5,"spL10nText"),E.qZA(),E.TgZ(6,"sp-form",2,3),E.YNc(8,L,1,5,"sp-form-field",4),E.qZA(),E.TgZ(9,"p",5),E._UZ(10,"sp-icon",6),E._uU(11),E.ALo(12,"spL10nText"),E.qZA()),2&M&&(E.xp6(1),E.hij(" ",E.lcZ(2,4,"SPT_UTIL_FEATURE_FLAG_MODAL_TITLE"),"\n"),E.xp6(3),E.hij(" ",E.lcZ(5,6,"SPT_UTIL_FEATURE_FLAG_MODAL_DESCRIPTION"),"\n"),E.xp6(4),E.Q6J("ngForOf",w.flags),E.xp6(3),E.hij(" ",E.lcZ(12,8,"SPT_UTIL_FEATURE_FLAG_MODAL_TIP"),"\n"))},directives:[d.Ur,C.sg,T.o,y.u],pipes:[I.L],encapsulation:2,changeDetection:0}),x})(),b=(()=>{class x{constructor(M){this.modalWindowService=M}create(){const M=this.getModalConfiguration();this.modalWindowService.open(M)}getModalConfiguration(){return new n.g.Builder(F).withCloseIconEnabled(!0).withCloseIconId("sp-feature-flag-modal-close-button").withSize(s.e.L).build()}}return x.\u0275fac=function(M){return new(M||x)(E.LFG(t.b))},x.\u0275prov=E.Yz7({token:x,factory:x.\u0275fac}),x})()},62203:(S,g,e)=>{"use strict";e.d(g,{V:()=>G});var t=e(17542),n=e(50870),s=e(34373),i=function($,X,ie,se){var Ce,pe=arguments.length,ve=pe<3?X:null===se?se=Object.getOwnPropertyDescriptor(X,ie):se;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)ve=Reflect.decorate($,X,ie,se);else for(var ye=$.length-1;ye>=0;ye--)(Ce=$[ye])&&(ve=(pe<3?Ce(ve):pe>3?Ce(X,ie,ve):Ce(X,ie))||ve);return pe>3&&ve&&Object.defineProperty(X,ie,ve),ve},r=function($,X){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata($,X)};class a extends t.M{getClassName(){return"FeatureFlagDTO"}}i([(0,n.XV)(),r("design:type",String)],a.prototype,"name",void 0),i([(0,s.si)(),r("design:type",Boolean)],a.prototype,"enabled",void 0);var o=e(83155),d=e(79657),h=e(65531),p=e(84046),f=e(11531),m=e(83950);let v=(()=>{class $ extends o.a{constructor(ie,se){super(ie),this.environmentService=se}fetchAll$(){return this.get("").pipe((0,d.J)(a))}enable$(ie){return this.post(`${ie}/enable`,{}).pipe((0,h.E)("HttpFeatureFlagResource"))}disable$(ie){return this.post(`${ie}/disable`,{}).pipe((0,h.E)("HttpFeatureFlagResource"))}getRestUrl(ie){return`${this.environmentService.getRestBaseUrl()}system/tenant/featureflags/${ie}`}}return $.\u0275fac=function(ie){return new(ie||$)(p.LFG(f.O),p.LFG(m.L))},$.\u0275prov=p.Yz7({token:$,factory:$.\u0275fac}),$})();var E=e(97809),C=e(45635),T=e(71726),y=e(901);class I{constructor(X,ie){this.name=X,this.enabled=ie}getName(){return this.name}isEnabled(){return this.enabled}}let P=(()=>{class ${}return $.\u0275fac=function(ie){return new(ie||$)},$.\u0275prov=p.Yz7({token:$,factory:$.\u0275fac}),$})(),L=(()=>{class $ extends y.u{constructor(ie){super(),this.featureFlagResource=ie,this.featureFlagNameToEnabled=new Map,this.featureFlagNameToEnabled$=new E.t(1)}enable$(ie){return this.featureFlagResource.enable$(ie).pipe((0,C.b)(()=>{this.featureFlagNameToEnabled.set(ie,!0),this.featureFlagNameToEnabled$.next(this.featureFlagNameToEnabled)}))}disable$(ie){return this.featureFlagResource.disable$(ie).pipe((0,C.b)(()=>{this.featureFlagNameToEnabled.set(ie,!1),this.featureFlagNameToEnabled$.next(this.featureFlagNameToEnabled)}))}selectAll$(){return this.featureFlagNameToEnabled$.pipe((0,T.U)(ie=>Array.from(ie.keys()).map(pe=>new I(pe,ie.get(pe)))))}isFeatureEnabled$(ie){return this.featureFlagNameToEnabled$.pipe((0,T.U)(se=>Boolean(se.get(ie)).valueOf()))}isFeatureEnabledNow(ie){return this.featureFlagNameToEnabled.get(ie)}isFeatureDisabledNow(ie){return this.featureFlagNameToEnabled.get(ie)}init$(){return this.featureFlagResource.fetchAll$().pipe((0,T.U)(ie=>{const se=ie.reduce((pe,ve)=>pe.set(ve.getName(),ve.isEnabled()),new Map);this.featureFlagNameToEnabled=se,this.featureFlagNameToEnabled$.next(se)}))}}return $.\u0275fac=function(ie){return new(ie||$)(p.LFG(P))},$.\u0275prov=p.Yz7({token:$,factory:$.\u0275fac}),$})();var F=e(28722),b=e(41001),x=e(69300),B=e(55331);let M=(()=>{class ${fromArrayDTO(ie){return ie.map(se=>this.fromDTO(se))}fromDTO(ie){return new I(ie.name,ie.enabled)}}return $.\u0275fac=function(ie){return new(ie||$)},$.\u0275prov=p.Yz7({token:$,factory:$.\u0275fac}),$})(),w=(()=>{class $ extends P{constructor(ie,se){super(),this.httpResource=ie,this.converter=se}fetchAll$(){return this.httpResource.fetchAll$().pipe((0,T.U)(ie=>this.converter.fromArrayDTO(ie)))}enable$(ie){return this.httpResource.enable$(ie)}disable$(ie){return this.httpResource.disable$(ie)}}return $.\u0275fac=function(ie){return new(ie||$)(p.LFG(v),p.LFG(M))},$.\u0275prov=p.Yz7({token:$,factory:$.\u0275fac}),$})();var K=e(51820),k=e(33945);let G=(()=>{class ${static forRoot(){return{ngModule:$,providers:[{provide:y.u,useClass:L},v,x.q,M,{provide:P,useClass:w}]}}}return $.\u0275fac=function(ie){return new(ie||$)},$.\u0275mod=p.oAB({type:$}),$.\u0275inj=p.cJS({imports:[[B.ez,F.v.forRoot(),b.J,k.Q,K.I]]}),$})()},72569:(S,g,e)=>{"use strict";e.d(g,{P:()=>t});var t=(()=>{return(n=t||(t={})).AZURE_DEV_OPS_FEATURE_FLAG="AzureDevOpsFeatureFlag",n.JIRA_SERVER_REST_FEATURE_FLAG="JiraServerRESTFeatureFlag",n.JIRA_CLOUD_FEATURE_FLAG="JiraCloudExtFeatureFlag",n.AUDIT_FEATURE_FLAG="AuditFeatureFlag",n.ENTITY_REPOSITORY_FEATURE_FLAG="EntityRepositoryFeatureFlag",n.OLD_RESOURCE_MANAGER_FEATURE_FLAG="OldResourceManagerFeatureFlag",n.RESOURCE_GRID_NONE_SCOPE_FEATURE_FLAG="ResourceGridNoneScopeFeatureFlag",n.RESOURCE_GRID_TASK_DETAILS_OPTIMIZE_MANUAL_WC_FEATURE_FLAG="ResourceGridTaskDetailsOptimizeManualWCFeatureFlag",n.TASK_CONFIGURATION_FEATURE_FLAG="TaskConfigurationFeatureFlag",n.EXPERIMENTAL_SCHEDULING_FEATURE_FLAG="ExperimentalSchedulingFeatureFlag",n.BOX_COLUMN_VIEW_MANAGER_FEATURE_FLAG="BoxColumnViewManagerFeatureFlag",t;var n})()},77704:(S,g,e)=>{"use strict";e.d(g,{PS:()=>t.P,un:()=>n.u,VV:()=>s.V});var t=e(72569),n=e(901),s=e(62203);e(69300)},59358:(S,g,e)=>{"use strict";e.d(g,{$:()=>p});var t=e(37830),n=e(67436),s=e(74961),i=e(83377),r=e(54579),a=e(85693),h=function(m,v,E,C){return new(E||(E=Promise))(function(y,I){function P(b){try{F(C.next(b))}catch(x){I(x)}}function L(b){try{F(C.throw(b))}catch(x){I(x)}}function F(b){b.done?y(b.value):function(y){return y instanceof E?y:new E(function(I){I(y)})}(b.value).then(P,L)}F((C=C.apply(m,v||[])).next())})};const p=(m,v)=>(E,C)=>{(0,n.e)({name:"IsClassArrayDictionary",target:E.constructor,propertyName:C,options:v,constraints:[],validator:new f(m)})};let f=class{constructor(v){this.typeReference=v}validate(v){return h(this,void 0,void 0,function*(){const E=yield this.getValidations(v),C=this.getFlatValidationErrors(E);if(C.length>0){const T=this.getClassName();(0,a.d)(C,T)}return!0})}defaultMessage(v){return`${v.property} IsClassArrayDictionary error`}getValidations(v){return h(this,void 0,void 0,function*(){return v instanceof Object&&!(v instanceof Array)?Promise.all(Object.keys(v).map(E=>{const C=v[E];if(!Array.isArray(C))return Promise.resolve([[this.getNotAnArrayError(v,E)]]);const T=this.getClassInstances(C);return Promise.all(this.getValidationsPromises(T,v,E))})):this.getNotAnDictionaryError(v)})}getClassInstances(v){return v.map(E=>(0,t.d8)(this.typeReference,E))}getValidationsPromises(v,E,C){return v.map((T,y)=>T instanceof Object?(0,s.GuS)(T):Promise.resolve([this.getNotAnObjectError(E,y,C)]))}getNotAnObjectError(v,E,C){const T=new r.p;return T.constraints={elementOfClassArrayIsObject:!1},T.property=`${C}[${E}]`,T.value=v,T}getNotAnArrayError(v,E){const C=new r.p;return C.constraints={elementOfDictionaryIsArray:!1},C.property=E,C.value=v,C}getNotAnDictionaryError(v){const E=new r.p;return E.constraints={isDictionary:!1},E.value=v,E}getClassName(){return(new this.typeReference).getClassName()}getFlatValidationErrors(v){return[].concat.apply([],v).reduce((C,T)=>(C.push(...T),C),[])}};f=function(m,v,E,C){var I,T=arguments.length,y=T<3?v:null===C?C=Object.getOwnPropertyDescriptor(v,E):C;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)y=Reflect.decorate(m,v,E,C);else for(var P=m.length-1;P>=0;P--)(I=m[P])&&(y=(T<3?I(y):T>3?I(v,E,y):I(v,E))||y);return T>3&&y&&Object.defineProperty(v,E,y),y}([(0,i.J)(),function(m,v){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata("design:paramtypes",[Object])}()],f)},79657:(S,g,e)=>{"use strict";e.d(g,{J:()=>r});var t=e(37830),n=e(74961),s=e(45635),i=e(85693);function r(a){return o=>o.pipe((0,s.b)(d=>{if(Array.isArray(d))try{d.forEach(h=>{const p=(0,t.d8)(a,h);(0,n.GuS)(p).then(f=>(0,i.d)(f,p.getClassName()))})}catch(h){console.warn(`ResponseValidator has found unexpected error while validating ${a} instance.`,h)}else console.warn(`ResponseValidator has found error. The value is supposed to be an Array of ${a.name} \n\t\t\t\tbut is instead: ${d}`,d)}))}},96554:(S,g,e)=>{"use strict";e.d(g,{gF:()=>b});var t=e(55331),n=e(84046),s=e(38009),i=e(79906),r=e(71726);function f(x,B,M,w,K,k){return T(function(x,B){return x<<B|x>>>32-B}(T(T(B,x),T(w,k)),K),M)}function m(x,B,M,w,K,k,G){return f(B&M|~B&w,x,B,K,k,G)}function v(x,B,M,w,K,k,G){return f(B&w|M&~w,x,B,K,k,G)}function E(x,B,M,w,K,k,G){return f(B^M^w,x,B,K,k,G)}function C(x,B,M,w,K,k,G){return f(M^(B|~w),x,B,K,k,G)}function T(x,B){var M=(65535&x)+(65535&B);return(x>>16)+(B>>16)+(M>>16)<<16|65535&M}var I=e(62628);let P=(()=>{class x extends I.b{constructor(M,w){super(),this.rendererFactory=M,this.document=w,this.styleHashes=new Set,this.renderer=this.rendererFactory.createRenderer(null,null)}init(M){M.pipe(this.takeUntilDestroy()).subscribe(w=>{if(!w)return;const K=function(x){return function(x){for(var B,M="0123456789ABCDEF",w="",K=0;K<x.length;K++)B=x.charCodeAt(K),w+=M.charAt(B>>>4&15)+M.charAt(15&B);return w}(function(x){for(var B="",M=0;M<32*x.length;M+=8)B+=String.fromCharCode(x[M>>5]>>>M%32&255);return B}(function(x,B){x[B>>5]|=128<<B%32,x[14+(B+64>>>9<<4)]=B;for(var M=1732584193,w=-271733879,K=-1732584194,k=271733878,G=0;G<x.length;G+=16){var $=M,X=w,ie=K,se=k;w=C(w=C(w=C(w=C(w=E(w=E(w=E(w=E(w=v(w=v(w=v(w=v(w=m(w=m(w=m(w=m(w,K=m(K,k=m(k,M=m(M,w,K,k,x[G+0],7,-680876936),w,K,x[G+1],12,-389564586),M,w,x[G+2],17,606105819),k,M,x[G+3],22,-1044525330),K=m(K,k=m(k,M=m(M,w,K,k,x[G+4],7,-176418897),w,K,x[G+5],12,1200080426),M,w,x[G+6],17,-1473231341),k,M,x[G+7],22,-45705983),K=m(K,k=m(k,M=m(M,w,K,k,x[G+8],7,1770035416),w,K,x[G+9],12,-1958414417),M,w,x[G+10],17,-42063),k,M,x[G+11],22,-1990404162),K=m(K,k=m(k,M=m(M,w,K,k,x[G+12],7,1804603682),w,K,x[G+13],12,-40341101),M,w,x[G+14],17,-1502002290),k,M,x[G+15],22,1236535329),K=v(K,k=v(k,M=v(M,w,K,k,x[G+1],5,-165796510),w,K,x[G+6],9,-1069501632),M,w,x[G+11],14,643717713),k,M,x[G+0],20,-373897302),K=v(K,k=v(k,M=v(M,w,K,k,x[G+5],5,-701558691),w,K,x[G+10],9,38016083),M,w,x[G+15],14,-660478335),k,M,x[G+4],20,-405537848),K=v(K,k=v(k,M=v(M,w,K,k,x[G+9],5,568446438),w,K,x[G+14],9,-1019803690),M,w,x[G+3],14,-187363961),k,M,x[G+8],20,1163531501),K=v(K,k=v(k,M=v(M,w,K,k,x[G+13],5,-1444681467),w,K,x[G+2],9,-51403784),M,w,x[G+7],14,1735328473),k,M,x[G+12],20,-1926607734),K=E(K,k=E(k,M=E(M,w,K,k,x[G+5],4,-378558),w,K,x[G+8],11,-2022574463),M,w,x[G+11],16,1839030562),k,M,x[G+14],23,-35309556),K=E(K,k=E(k,M=E(M,w,K,k,x[G+1],4,-1530992060),w,K,x[G+4],11,1272893353),M,w,x[G+7],16,-155497632),k,M,x[G+10],23,-1094730640),K=E(K,k=E(k,M=E(M,w,K,k,x[G+13],4,681279174),w,K,x[G+0],11,-358537222),M,w,x[G+3],16,-722521979),k,M,x[G+6],23,76029189),K=E(K,k=E(k,M=E(M,w,K,k,x[G+9],4,-640364487),w,K,x[G+12],11,-421815835),M,w,x[G+15],16,530742520),k,M,x[G+2],23,-995338651),K=C(K,k=C(k,M=C(M,w,K,k,x[G+0],6,-198630844),w,K,x[G+7],10,1126891415),M,w,x[G+14],15,-1416354905),k,M,x[G+5],21,-57434055),K=C(K,k=C(k,M=C(M,w,K,k,x[G+12],6,1700485571),w,K,x[G+3],10,-1894986606),M,w,x[G+10],15,-1051523),k,M,x[G+1],21,-2054922799),K=C(K,k=C(k,M=C(M,w,K,k,x[G+8],6,1873313359),w,K,x[G+15],10,-30611744),M,w,x[G+6],15,-1560198380),k,M,x[G+13],21,1309151649),K=C(K,k=C(k,M=C(M,w,K,k,x[G+4],6,-145523070),w,K,x[G+11],10,-1120210379),M,w,x[G+2],15,718787259),k,M,x[G+9],21,-343485551),M=T(M,$),w=T(w,X),K=T(K,ie),k=T(k,se)}return Array(M,w,K,k)}(function(x){for(var B=Array(x.length>>2),M=0;M<B.length;M++)B[M]=0;for(M=0;M<8*x.length;M+=8)B[M>>5]|=(255&x.charCodeAt(M/8))<<M%32;return B}(x),8*x.length))).toLowerCase()}(w);this.isStyleExist(K)||(this.styleHashes.add(K),this.addStyleToHead(w))})}isStyleExist(M){return this.styleHashes.has(M)}addStyleToHead(M){const w=this.renderer.createElement("style");w.innerHTML=M,this.document.head.appendChild(w)}}return x.\u0275fac=function(M){return new(M||x)(n.LFG(n.FYo),n.LFG(t.K0))},x.\u0275prov=n.Yz7({token:x,factory:x.\u0275fac}),x})();const L=new n.OlP("STYLE_PATH");let b=(()=>{class x{constructor(M,w){!function(x,B){return()=>{try{const M=x.get(L),w=(0,s.T)(...M);B.init(w)}catch(M){console.error("Error during styles lazy loading",M)}}}(M,w)()}static forRoot(){return{ngModule:x,providers:[P]}}static forStyle(...M){return{ngModule:x,providers:[...M.map(w=>({provide:L,useValue:(0,i.D)(w).pipe((0,r.U)(K=>K.default)),multi:!0}))]}}}return x.\u0275fac=function(M){return new(M||x)(n.LFG(n.zs3),n.LFG(P))},x.\u0275mod=n.oAB({type:x}),x.\u0275inj=n.cJS({imports:[[t.ez]]}),x})()},53180:(S,g,e)=>{"use strict";e.d(g,{k:()=>t,a:()=>n});const t=8,n=1280},67177:(S,g,e)=>{"use strict";e.d(g,{g:()=>n});var t=e(53339);class n{moveItem(i,r){return(0,t.of)()}}},6597:(S,g,e)=>{"use strict";e.d(g,{k:()=>i});var t=e(69990),n=e(71118),s=e(84046);let i=(()=>{class r{constructor(){this.isPrimary=!1,this.isSubtle=!1,this.isSecondary=!1,this.isInfo=!1,this.isSuccess=!1,this.isWarning=!1,this.isError=!1,this.isCritical=!1}set colorType(o){this.setType(o)}set primary(o){this.isPrimary=n.l.getBooleanFromInput(o)}set subtle(o){this.isSubtle=n.l.getBooleanFromInput(o)}set secondary(o){this.isSecondary=n.l.getBooleanFromInput(o)}set info(o){this.isInfo=n.l.getBooleanFromInput(o)}set success(o){this.isSuccess=n.l.getBooleanFromInput(o)}set warning(o){this.isWarning=n.l.getBooleanFromInput(o)}set error(o){this.isError=n.l.getBooleanFromInput(o)}set critical(o){this.isCritical=n.l.getBooleanFromInput(o)}setType(o){switch(o){case t.S.CRITICAL:this.isCritical=!0;break;case t.S.ERROR:this.isError=!0;break;case t.S.INFO:this.isInfo=!0;break;case t.S.PRIMARY:this.isPrimary=!0;break;case t.S.SECONDARY:this.isSecondary=!0;break;case t.S.SUBTLE:this.isSubtle=!0;break;case t.S.SUCCESS:this.isSuccess=!0;break;case t.S.WARNING:this.isWarning=!0}}}return r.\u0275fac=function(o){return new(o||r)},r.\u0275dir=s.lG2({type:r,inputs:{colorType:"colorType",primary:"primary",subtle:"subtle",secondary:"secondary",info:"info",success:"success",warning:"warning",error:"error",critical:"critical"}}),r})()},69990:(S,g,e)=>{"use strict";e.d(g,{S:()=>t});var t=(()=>{return(n=t||(t={})).PRIMARY="PRIMARY",n.SUBTLE="SUBTLE",n.SECONDARY="SECONDARY",n.INFO="INFO",n.SUCCESS="SUCCESS",n.WARNING="WARNING",n.ERROR="ERROR",n.CRITICAL="CRITICAL",t;var n})()},14265:(S,g,e)=>{"use strict";e.d(g,{N:()=>i});var t=e(71118),n=e(6597),s=e(84046);let i=(()=>{class r extends n.k{constructor(){super(...arguments),this.type="button",this.isDisabled=!1}set disabled(o){this.isDisabled=t.l.getBooleanFromInput(o)}}return r.\u0275fac=function(){let a;return function(d){return(a||(a=s.n5z(r)))(d||r)}}(),r.\u0275dir=s.lG2({type:r,inputs:{disabled:"disabled",type:"type"},features:[s.qOj]}),r})()},51545:(S,g,e)=>{"use strict";e.d(g,{F:()=>E});var t=e(55331),n=e(41001),p=(e(34909),e(21002),e(89920),e(43796),e(57142),e(78801),e(24133),e(12002)),f=e(33945),m=e(84046);let E=(()=>{class C{}return C.\u0275fac=function(y){return new(y||C)},C.\u0275mod=m.oAB({type:C}),C.\u0275inj=m.cJS({imports:[[t.ez,p.K,n.J,f.Q]]}),C})()},53125:(S,g,e)=>{"use strict";e.d(g,{w:()=>n});const n=new(e(84046).OlP)("Used to check if ToggleButton has ToggleButtonGroup as its parent")},34909:(S,g,e)=>{"use strict";e.d(g,{r:()=>a});var t=e(14265),n=e(71118),s=e(84046);const i=["sp-button",""],r=["*"];let a=(()=>{class o extends t.N{constructor(){super(...arguments),this.spBtn=!0,this.isLink=!1}set link(h){this.isLink=n.l.getBooleanFromInput(h)}}return o.\u0275fac=function(){let d;return function(p){return(d||(d=s.n5z(o)))(p||o)}}(),o.\u0275cmp=s.Xpm({type:o,selectors:[["button","sp-button",""]],hostVars:26,hostBindings:function(h,p){2&h&&(s.Ikx("type",p.type)("disabled",p.isDisabled),s.ekj("sp-btn",p.spBtn)("sp-btn-primary",p.isPrimary)("sp-btn-secondary",p.isSecondary)("sp-btn-subtle",p.isSubtle)("sp-btn-info",p.isInfo)("sp-btn-success",p.isSuccess)("sp-btn-warning",p.isWarning)("sp-btn-error",p.isError)("sp-btn-critical",p.isCritical)("sp-btn-link",p.isLink)("sp-btn-disabled",p.isDisabled)("sp-btn-icon-32",p.isIcon))},inputs:{link:"link"},exportAs:["spButton"],features:[s.qOj],attrs:i,ngContentSelectors:r,decls:1,vars:0,template:function(h,p){1&h&&(s.F$t(),s.Hsn(0))},encapsulation:2,changeDetection:0}),o})()},21002:(S,g,e)=>{"use strict";e.d(g,{K:()=>s});var t=e(84046);const n=["*"];let s=(()=>{class i{}return i.\u0275fac=function(a){return new(a||i)},i.\u0275cmp=t.Xpm({type:i,selectors:[["sp-button-group"]],hostVars:2,hostBindings:function(a,o){2&a&&t.ekj("sp-btn-group",!0)},ngContentSelectors:n,decls:1,vars:0,template:function(a,o){1&a&&(t.F$t(),t.Hsn(0))},encapsulation:2,changeDetection:0}),i})()},71783:(S,g,e)=>{"use strict";e.d(g,{l:()=>f});var t=e(84046),n=e(70335),s=e(62546),i=e(55331);const r=["active"],a=["inactive"];function o(m,v){}function d(m,v){if(1&m&&(t.TgZ(0,"div",4),t.YNc(1,o,0,0,"ng-template",5),t.qZA()),2&m){const E=t.oxw();t.xp6(1),t.Q6J("ngTemplateOutlet",E.iconActive)}}function h(m,v){}function p(m,v){if(1&m&&(t.TgZ(0,"div",6),t.YNc(1,h,0,0,"ng-template",5),t.qZA()),2&m){const E=t.oxw();t.xp6(1),t.Q6J("ngTemplateOutlet",E.iconInActive)}}let f=(()=>{class m extends s.H{constructor(E,C,T){super(E,C),this.changeDetectorRef=T,this.disabled=!1,this.status=!1,this.subtle=!1,this.idPrefix="sp",this.statusChanged=new t.vpe,this.propagateChange=y=>{},this.onTouched=()=>{}}ngOnInit(){this.domManipulator.setHostAttribute("id",this.composeIdentifier("checkbox-swiper")),this.observeClick()}toggle(E){this.disabled||(this.status=!this.status,this.changeDetectorRef.detectChanges(),this.statusChanged.emit({status:this.status,event:E}),this.propagateChange(this.status))}writeValue(E){void 0!==E&&(this.status=E)}registerOnChange(E){this.propagateChange=E}registerOnTouched(E){this.onTouched=E}setDisabledState(E){this.disabled=E,this.changeDetectorRef.detectChanges()}composeIdentifier(E){return`${this.idPrefix}-${E}`}getHostClasses(){return["sp-checkbox-swiper","sp-text-xs","sp-fg-white","sp-relative","sp-cursor-pointer","sp-bg-gray-100","sp-dark:bg-gray-30","sp-flex"]}observeClick(){this.domManipulator.hostListen("click").pipe(this.takeUntilDestroy()).subscribe(E=>this.toggle(E))}}return m.\u0275fac=function(E){return new(E||m)(t.Y36(t.SBq),t.Y36(t.Qsj),t.Y36(t.sBO))},m.\u0275cmp=t.Xpm({type:m,selectors:[["sp-checkbox-swiper"]],contentQueries:function(E,C,T){if(1&E&&(t.Suo(T,r,5),t.Suo(T,a,5)),2&E){let y;t.iGM(y=t.CRH())&&(C.iconActive=y.first),t.iGM(y=t.CRH())&&(C.iconInActive=y.first)}},hostVars:8,hostBindings:function(E,C){2&E&&t.ekj("sp-checkbox-swiper--is-active",C.status)("sp-checkbox-swiper--is-subtle",C.subtle)("sp-justify-end",!C.status)("sp-checkbox-swiper--is-disabled",C.disabled)},inputs:{disabled:"disabled",status:"status",subtle:"subtle",idPrefix:"idPrefix"},outputs:{statusChanged:"statusChanged"},features:[t._Bn([{provide:n.JU,useExisting:(0,t.Gpc)(()=>m),multi:!0}]),t.qOj],decls:4,vars:4,consts:[["class","sp-checkbox-swiper__icon sp-pl-1 sp-self-center",4,"ngIf"],["class","sp-checkbox-swiper__icon sp-pr-1 sp-self-center",4,"ngIf"],[1,"sp-checkbox-swiper__switcher","sp-absolute","sp-circle","sp-bg-background"],["type","hidden",3,"value"],[1,"sp-checkbox-swiper__icon","sp-pl-1","sp-self-center"],[3,"ngTemplateOutlet"],[1,"sp-checkbox-swiper__icon","sp-pr-1","sp-self-center"]],template:function(E,C){1&E&&(t.YNc(0,d,2,1,"div",0),t.YNc(1,p,2,1,"div",1),t._UZ(2,"div",2),t._UZ(3,"input",3)),2&E&&(t.Q6J("ngIf",C.status&&C.iconActive),t.xp6(1),t.Q6J("ngIf",!C.status&&C.iconActive),t.xp6(2),t.Q6J("value",C.status),t.uIk("id",C.composeIdentifier("checkbox-swiper-value")))},directives:[i.O5,i.tP],styles:[".sp-checkbox-swiper{width:32px;height:16px;border-radius:8px}.sp-checkbox-swiper__switcher{transform:translateY(2px);left:2px;width:12px;height:12px;transition:background .3s,transform .3s ease}.sp-checkbox-swiper--is-active{background:var(--success)!important}.sp-checkbox-swiper--is-active .sp-checkbox-swiper__switcher{transform:translate(16px,2px);background:var(--color-bg)}.sp-checkbox-swiper--is-subtle{background:var(--color-bg)}.sp-checkbox-swiper--is-subtle .sp-checkbox-swiper__switcher{background:var(--gray-200)}.sp-checkbox-swiper--is-subtle.sp-checkbox-swiper--is-active{background:var(--color-bg)!important}.sp-checkbox-swiper--is-subtle.sp-checkbox-swiper--is-active .sp-checkbox-swiper__switcher{background:var(--success)!important}.sp-checkbox-swiper--is-disabled{opacity:.3;cursor:default}.sp-checkbox-swiper__icon{line-height:1}\n"],encapsulation:2,changeDetection:0}),m})()},40131:(S,g,e)=>{"use strict";e.d(g,{l:()=>s});var t=e(55331),n=e(84046);let s=(()=>{class i{}return i.\u0275fac=function(a){return new(a||i)},i.\u0275mod=n.oAB({type:i}),i.\u0275inj=n.cJS({imports:[[t.ez]]}),i})()},89920:(S,g,e)=>{"use strict";e.d(g,{M:()=>i});var t=e(62546),n=e(84046),s=e(83063);let i=(()=>{class r extends t.H{constructor(o,d){super(o,d)}getHostClasses(){return["sp-circle-icon-button","sp-circle","sp-btn","sp-overflow-hidden","sp-block","sp-text-center","sp-cursor-pointer","sp-bg-gray-20","sp-dark:bg-gray-20","sp-w-8","sp-h-8"]}}return r.\u0275fac=function(o){return new(o||r)(n.Y36(n.SBq),n.Y36(n.Qsj))},r.\u0275cmp=n.Xpm({type:r,selectors:[["sp-circle-icon-button"]],inputs:{iconName:"iconName"},features:[n.qOj],decls:1,vars:1,consts:[[1,"sp-circle-icon-button__icon","sp-w-full","sp-h-full","sp-text-l","sp-flex","sp-justify-center","sp-items-center",3,"name"]],template:function(o,d){1&o&&n._UZ(0,"sp-icon",0),2&o&&n.Q6J("name",d.iconName)},directives:[s.o],encapsulation:2,changeDetection:0}),r})()},47599:(S,g,e)=>{"use strict";e.d(g,{B:()=>t});class t{constructor(s,i,r){this.message=s,this.label=i,this.iconClass=r}}},88573:(S,g,e)=>{"use strict";e.d(g,{h:()=>n});var t=e(47599);class n{constructor(i,r,a,o,d,h){this.normal=i,this.pending=r,this.success=a,this.failed=o,this.disabled=d,this.buttonId=h,this.withStatusMessage=!0}static default(){return new n(new t.B("","SPT_COMMON_BUTTON_SAVE_LABEL",""),new t.B("","SPT_COMMON_BUTTON_SAVING_LABEL","fa fa-spinner"),new t.B("","SPT_COMMON_BUTTON_SAVED_LABEL","fa fa-check"),new t.B("SPT_COMMON_BUTTON_DEFAULT_SAVE_FAILURE_MESSAGE","SPT_COMMON_BUTTON_FAILED_LABEL","fa fa-exclamation-circle"),new t.B("","SPT_COMMON_BUTTON_SAVE_LABEL",""),"sp-save-button-element")}withoutStatusMessage(){return this.withStatusMessage=!1,this}}},18813:(S,g,e)=>{"use strict";e.d(g,{z:()=>t});var t=(()=>{return(n=t||(t={})).Left="Left",n.Right="Right",t;var n})()},95938:(S,g,e)=>{"use strict";e.d(g,{o:()=>t});var t=(()=>{return(n=t||(t={})).NORMAL="NORMAL",n.PENDING="PENDING",n.FAILED="FAILED",n.SUCCESS="SUCCESS",n.DISABLED="DISABLED",t;var n})()},43796:(S,g,e)=>{"use strict";e.d(g,{t:()=>I});var t=e(84046),n=e(18840),s=e(53339),i=e(98274),r=e(54561),a=e(88573),o=e(18813);const d=new t.OlP("SAVE_BUTTON_STATE_CHANGE_DISABLED_TOKEN");var h=e(95938),p=e(97433),f=e(62546),m=e(34909),v=e(55331),E=e(69001),C=e(65799);function T(P,L){if(1&P&&t._UZ(0,"sp-circle-loader",3),2&P){const F=t.oxw();t.Q6J("configuration",F.circleLoaderConfiguration)}}function y(P,L){if(1&P&&(t.TgZ(0,"div",4),t.TgZ(1,"span",5),t._uU(2),t.ALo(3,"spL10nText"),t.qZA(),t.qZA()),2&P){const F=t.oxw();t.ekj("sp-text-error",F.showErrorMessage||F.showDisabledMessage)("sp-text-success",F.showSuccessMessage)("sp-opacity-100",F.showErrorMessage||F.showDisabledMessage||F.showSuccessMessage),t.xp6(2),t.Oqu(t.lcZ(3,7,F.message))}}let I=(()=>{class P extends f.H{constructor(F,b,x,B){super(F,b),this.changeDetectorRef=x,this.preventStateChange=B,this.id="sp-save-button",this.messagePlacement=o.z.Right,this.configuration=a.h.default(),this.actionStarted=new t.vpe,this.saveButtonStatus=h.o,this.saveButtonConfiguration=a.h.default(),this.showErrorMessage=!1,this.showSuccessMessage=!1,this.showDisabledMessage=!1,this.onStatusChange$=new n.X(h.o.NORMAL)}ngOnChanges(F){F.status&&this.statusChangedAction(this.status),F.messagePlacement&&this.setMessagePlacement(),F.configuration&&F.configuration.currentValue&&(this.saveButtonConfiguration=this.configuration)}ngOnInit(){this.setCircleLoaderConfiguration(),this.initializeButtonStatusObserver()}setMessagePlacement(){this.shouldReverseRowToChangeMessagePlacement()?this.domManipulator.addHostClass(P.REVERSE_CONTAINER):this.domManipulator.removeHostClass(P.REVERSE_CONTAINER)}finalize(){this.removeSetToDefaultListener&&this.removeSetToDefaultListener(),this.removeStatusChangeListener&&this.removeStatusChangeListener(),this.onStatusChange$.unsubscribe()}getHostClasses(){return["sp-save-button","sp-flex","sp-items-center","sp-justify-start"]}isButtonStatusOf(F){return this.actualButtonStatus===F}setCustomMessage(F){this.temporaryCustomMessage=F}doAction(){this.isButtonStatusOf(h.o.DISABLED)||(this.showSuccessMessage=!1,this.showErrorMessage=!1,this.actionStarted.emit(!0))}isProgressPending(){return this.actualButtonStatus===h.o.PENDING}shouldReverseRowToChangeMessagePlacement(){return this.messagePlacement===o.z.Left}statusChangedAction(F){this.onStatusChange$.next(F)}initializeButtonStatusObserver(){this.onStatusChange$.asObservable().pipe((0,i.w)(b=>this.previousStatus===h.o.PENDING?(0,s.of)(b).pipe((0,r.g)(1e3)):(0,s.of)(b)),this.takeUntilDestroy()).subscribe(b=>{this.setButtonStatus(b)})}setButtonStatus(F){this.actualButtonStatus=F,this.message=this.getMessage(),this.withIcon=""!==this.getIcon(),this.iconClass=this.getIcon(),this.label=this.getButtonText(),this.showSuccessMessage=F===h.o.SUCCESS,this.showDisabledMessage=F===h.o.DISABLED,this.showErrorMessage=F===h.o.FAILED,this.changeDetectorRef.detectChanges(),(F===h.o.FAILED||F===h.o.SUCCESS)&&!this.preventStateChange&&this.setToDefault(),this.previousStatus=F}setCircleLoaderConfiguration(){this.circleLoaderConfiguration=(new p.y.Builder).withStrokeColor("var(--white)").withDefaultSize(!1).build()}getButtonText(){return this.saveButtonConfiguration[h.o[this.actualButtonStatus].toLowerCase()].label}getMessage(){if(this.temporaryCustomMessage&&this.temporaryCustomMessage.status===this.actualButtonStatus){const{message:F}=this.temporaryCustomMessage;return this.temporaryCustomMessage=null,F}return this.saveButtonConfiguration[h.o[this.actualButtonStatus].toLowerCase()].message}getIcon(){return this.saveButtonConfiguration[h.o[this.actualButtonStatus].toLowerCase()].iconClass}setToDefault(){const b=setTimeout(()=>{this.actualButtonStatus===h.o.SUCCESS&&(this.showSuccessMessage=!1),this.isButtonStatusOf(h.o.DISABLED)||(this.actualButtonStatus=h.o.NORMAL),this.label=this.getButtonText(),this.iconClass=this.getIcon(),this.withIcon=""!==this.getIcon(),this.changeDetectorRef.detectChanges()},this.previousStatus===h.o.PENDING?P.GO_TO_NORMAL_BUTTON_STATUS_TIMEOUT:0);this.removeSetToDefaultListener=()=>clearTimeout(b)}}return P.GO_TO_NORMAL_BUTTON_STATUS_TIMEOUT=1500,P.REVERSE_CONTAINER="sp-flex-row-reverse",P.\u0275fac=function(F){return new(F||P)(t.Y36(t.SBq),t.Y36(t.Qsj),t.Y36(t.sBO),t.Y36(d,8))},P.\u0275cmp=t.Xpm({type:P,selectors:[["sp-save-button"]],hostVars:1,hostBindings:function(F,b){2&F&&t.Ikx("id",b.id)},inputs:{status:"status",messagePlacement:"messagePlacement",configuration:"configuration"},outputs:{actionStarted:"actionStarted"},features:[t.qOj,t.TTD],decls:5,vars:14,consts:[["sp-button","","primary","",1,"sp-save-button__element","!sp-flex","sp-items-center","sp-px-3","sp-min-w-9","sp-transition",3,"success","error","secondary","disabled","click"],["class","sp-w-6 sp-h-6 sp-mr-2",3,"configuration",4,"ngIf"],["id","sp-save-button-message","class","sp-save-button__message sp-opacity-0 sp-transition",3,"sp-text-error","sp-text-success","sp-opacity-100",4,"ngIf"],[1,"sp-w-6","sp-h-6","sp-mr-2",3,"configuration"],["id","sp-save-button-message",1,"sp-save-button__message","sp-opacity-0","sp-transition"],[1,"sp-px-3"]],template:function(F,b){1&F&&(t.TgZ(0,"button",0),t.NdJ("click",function(){return b.doAction()}),t.YNc(1,T,1,1,"sp-circle-loader",1),t._uU(2),t.ALo(3,"spL10nText"),t.qZA(),t.YNc(4,y,4,9,"div",2)),2&F&&(t.ekj("sp-cursor-wait",!b.isButtonStatusOf(b.saveButtonStatus.NORMAL))("sp-pointer-events-none",!b.isButtonStatusOf(b.saveButtonStatus.NORMAL)),t.Q6J("success",b.isButtonStatusOf(b.saveButtonStatus.SUCCESS))("error",b.isButtonStatusOf(b.saveButtonStatus.FAILED))("secondary",b.isButtonStatusOf(b.saveButtonStatus.PENDING))("disabled",b.isButtonStatusOf(b.saveButtonStatus.DISABLED)),t.uIk("id",b.saveButtonConfiguration.buttonId),t.xp6(1),t.Q6J("ngIf",b.isProgressPending()),t.xp6(1),t.hij(" ",t.lcZ(3,12,b.label),"\n"),t.xp6(2),t.Q6J("ngIf",b.message&&b.configuration.withStatusMessage))},directives:[m.r,v.O5,E._],pipes:[C.L],encapsulation:2,changeDetection:0}),P})()},57142:(S,g,e)=>{"use strict";e.d(g,{d:()=>o});var t=e(84046),n=e(14265),s=e(53125),i=e(34909),r=e(55331);const a=["*"];let o=(()=>{class d extends n.N{constructor(p,f){super(),this.changeDetectorRef=p,this.isInsideToggleGroup=f,this.isIconButton=!1,this.checked=!1,this.idPrefix="sp",this.clicked=new t.vpe}toggleChecked(){this.disabled||this.isInsideToggleGroup&&this.checked||(this.checked=!this.checked,this.clicked.emit(this.checked),this.changeDetectorRef.detectChanges())}silentUncheck(){this.checked=!1,this.changeDetectorRef.detectChanges()}composeIdentifier(p){return`${this.idPrefix}-${p}`}}return d.\u0275fac=function(p){return new(p||d)(t.Y36(t.sBO),t.Y36(s.w,9))},d.\u0275cmp=t.Xpm({type:d,selectors:[["sp-toggle-button"]],inputs:{isIconButton:"isIconButton",checked:"checked",text:"text",value:"value",idPrefix:"idPrefix",customButtonClass:"customButtonClass"},outputs:{clicked:"clicked"},features:[t.qOj],ngContentSelectors:a,decls:2,vars:8,consts:[["sp-button","",3,"subtle","disabled","ngClass","click"]],template:function(p,f){1&p&&(t.F$t(),t.TgZ(0,"button",0),t.NdJ("click",function(){return f.toggleChecked()}),t.Hsn(1),t.qZA()),2&p&&(t.ekj("sp-btn-selected",f.checked)("sp-btn-icon-32",f.isIconButton),t.Q6J("subtle",f.isSubtle)("disabled",f.isDisabled)("ngClass",f.customButtonClass?f.customButtonClass:""),t.uIk("id",f.composeIdentifier("toggle-button-btn")))},directives:[i.r,r.mk],encapsulation:2,changeDetection:0}),d})()},88894:(S,g,e)=>{"use strict";e.d(g,{ey:()=>n,FV:()=>s});const n="sp-toggle-btn";class s{static isSelectionPrevented(r){return s.isSelectionEvent(r)&&r.defaultPrevented}static preventToggleButtonSelection(r){s.isSelectionEvent(r)?s.originatesInsideToggleButton(r)?r.preventDefault():s.warnAboutObsoleteFunctionUsage("Event doesn't originate in toggle button"):s.warnAboutObsoleteFunctionUsage(`Event of type '${r.type}' will not result in toggle button selection`)}static isSelectionEvent(r){return"click"===r.type}static originatesInsideToggleButton(r){return!!r.target.closest(`.${n}`)}static warnAboutObsoleteFunctionUsage(r){console.warn(`${r}. Use of this function may be obsolete.`)}}},78801:(S,g,e)=>{"use strict";e.d(g,{j:()=>o});var t=e(84046),n=e(70335),s=e(57142),i=e(53125),r=e(62546);const a=["*"];let o=(()=>{class d extends r.H{constructor(p,f,m){super(p,f),this.changeDetectorRef=m}ngAfterContentInit(){this.updateChildrenCount(),this.observeToggleButtonChanges()}observeToggleButtonChanges(){this.toggleButtonRefs.changes.pipe(this.takeUntilDestroy()).subscribe(()=>{this.updateChildrenCount()})}updateChildrenCount(){this.toggleButtons=this.toggleButtonRefs.toArray(),this.isMultiGroup=this.toggleButtons.length>1,this.toggleButtons.forEach(p=>{p.clicked.pipe(this.takeUntilDestroy()).subscribe(()=>{this.uncheckAllNotClickedButtons(p),this.changeDetectorRef.detectChanges()})})}uncheckAllNotClickedButtons(p){this.toggleButtons.filter(f=>p!==f).forEach(f=>f.silentUncheck())}}return d.\u0275fac=function(p){return new(p||d)(t.Y36(t.SBq),t.Y36(t.Qsj),t.Y36(t.sBO))},d.\u0275cmp=t.Xpm({type:d,selectors:[["sp-toggle-button-group"]],contentQueries:function(p,f,m){if(1&p&&t.Suo(m,s.d,5),2&p){let v;t.iGM(v=t.CRH())&&(f.toggleButtonRefs=v)}},hostVars:2,hostBindings:function(p,f){2&p&&t.ekj("sp-btn-group",f.isMultiGroup)},features:[t._Bn([{provide:i.w,useValue:!0},{provide:n.JU,useExisting:(0,t.Gpc)(()=>d),multi:!0}]),t.qOj],ngContentSelectors:a,decls:1,vars:0,template:function(p,f){1&p&&(t.F$t(),t.Hsn(0))},encapsulation:2,changeDetection:0}),d})()},24133:(S,g,e)=>{"use strict";e.d(g,{A:()=>p});var t=e(84046),n=e(70335),s=e(53125),i=e(78801),r=e(55331),a=e(57142);const o=["toggleButtonGroupRef"];function d(f,m){if(1&f){const v=t.EpF();t.TgZ(0,"sp-toggle-button",3),t.NdJ("click",function(){const T=t.CHM(v).$implicit,y=t.oxw(2);return y.setValue(T[y.configuration.selectionField])}),t._uU(1),t.qZA()}if(2&f){const v=m.$implicit,E=t.oxw(2);t.Q6J("checked",E.isButtonSelected(v))("text",v.text)("value",v.value),t.xp6(1),t.hij(" ",v.text," ")}}function h(f,m){if(1&f&&(t.TgZ(0,"div"),t.TgZ(1,"sp-toggle-button-group",null,1),t.YNc(3,d,2,4,"sp-toggle-button",2),t.qZA(),t.qZA()),2&f){const v=t.oxw();t.xp6(3),t.Q6J("ngForOf",v.configuration.buttons)}}let p=(()=>{class f{constructor(){this.passedValueInitialized=!1,this.propagateChange=v=>{},this.onTouched=()=>{}}isButtonSelected(v){let E=!1;const C=this.configuration;return this.configuration.buttons.forEach(()=>{v[C.selectionField]===this.passedValue&&(E=!0)}),E}registerOnChange(v){this.propagateChange=v}registerOnTouched(v){this.onTouched=v}writeValue(v){this.passedValue=v,this.passedValueInitialized=!0,null==v&&this.configuration.buttons.forEach(E=>{const C=E[this.configuration.selectionField];v===C&&(this.selectedButton=C,this.setValue(C))})}setValue(v){this.propagateChange(v)}}return f.\u0275fac=function(v){return new(v||f)},f.\u0275cmp=t.Xpm({type:f,selectors:[["sp-toggle-button-group-form"]],viewQuery:function(v,E){if(1&v&&(t.Gf(o,5),t.Gf(i.j,5)),2&v){let C;t.iGM(C=t.CRH())&&(E.toggleButtonGroupRef=C.first),t.iGM(C=t.CRH())&&(E.alerts=C)}},hostVars:2,hostBindings:function(v,E){2&v&&t.ekj("sp-btn-group-multi",E.isMultiGroup)},inputs:{configuration:"configuration"},features:[t._Bn([{provide:s.w,useValue:!0},{provide:n.JU,useExisting:(0,t.Gpc)(()=>f),multi:!0}])],decls:1,vars:1,consts:[[4,"ngIf"],["toggleButtonGroupRef",""],[3,"checked","text","value","click",4,"ngFor","ngForOf"],[3,"checked","text","value","click"]],template:function(v,E){1&v&&t.YNc(0,h,4,1,"div",0),2&v&&t.Q6J("ngIf",E.passedValueInitialized)},directives:[r.O5,i.j,r.sg,a.d],encapsulation:2}),f})()},19327:(S,g,e)=>{"use strict";e.d(g,{I:()=>t,B:()=>n});let t=(()=>{class s{constructor(r,a,o,d,h,p){this.colorName=r,this.backgroundStyle=a,this.colorStyle=o,this.subtleColorStyle=d,this.subtleBackgroundStyle=h,this.cssClass=p}static getRequestedColorOrDefault(r,a){return n[r]||a}isSameColor(r){return!!r&&r.colorName===this.colorName}toString(){return this.colorName}}return s.SELECTED_ROW="var(--blue-50);",s})();const n={BLUE:new t("BLUE","var(--blue-primary)","var(--blue-text)","var(--blue-primary)","var(--blue-subtle)","sp-blue"),YELLOW:new t("YELLOW","var(--yellow-primary)","var(--yellow-text)","var(--yellow-dark)","var(--yellow-subtle)","sp-yellow"),RED:new t("RED","var(--red-primary)","var(--red-text)","var(--red-primary)","var(--red-subtle)","sp-red"),RED_DARK:new t("RED_DARD","var(--red-dark)","var(--red-dark-text)","var(--red-dark)","var(--red-dark-subtle)","sp-red-dark"),BRIGHT_PINK:new t("BRIGHT_PINK","var(--bright-pink-primary)","var(--bright-pink-text)","var(--bright-pink-primary)","var(--bright-pink-subtle)","sp-bright-pink"),PURPLE:new t("PURPLE","var(--purple-primary)","var(--purple-text)","var(--purple-dark)","var(--purple-subtle)","sp-purple"),CYAN:new t("CYAN","var(--cyan-primary)","var(--cyan-text)","var(--cyan-primary)","var(--cyan-subtle)","sp-cyan"),GREEN:new t("GREEN","var(--green-primary)","var(--green-text)","var(--green-primary)","var(--green-subtle)","sp-green"),LIME_GREEN:new t("LIME_GREEN","var(--lime-green-primary)","var(--lime-green-text)","var(--lime-green-primary)","var(--lime-green-subtle)","sp-lime-green"),BROWN:new t("BROWN","var(--brown-primary)","var(--brown-text)","var(--brown-primary)","var(--brown-subtle)","sp-brown"),VIOLET:new t("VIOLET","var(--violet-primary)","var(--violet-text)","var(--violet-primary)","var(--violet-subtle)","sp-violet"),CHEETO_ORANGE:new t("CHEETO_ORANGE","var(--cheeto-primary)","var(--cheeto-text)","var(--cheeto-primary)","var(--cheeto-subtle)","sp-cheeto-orange"),MID_GREEN:new t("MID_GREEN","var(--mid-green-primary)","var(--mid-green-text)","var(--mid-green-primary)","var(--mid-green-subtle)","sp-mid-green"),LIGHT_BROWN:new t("LIGHT_BROWN","var(--light-brown-primary)","var(--light-brown-text)","var(--light-brown-primary)","var(--light-brown-subtle)","sp-light-brown"),BURGUNDY:new t("BURGUNDY","var(--burgundy-primary)","var(--burgundy-text)","var(--burgundy-400)","var(--burgundy-50)","sp-burgundy"),POPPY_SURPRISE:new t("POPPY_SURPRISE","var(--flamingo-primary)","var(--flamingo-text)","var(--flamingo-primary)","var(--flamingo-subtle)","sp-poppy-surprise"),LIGHT_BLUE:new t("LIGHT_BLUE","var(--blue-200)","var(--gray-0)","var(--blue-200)","var(--blue-50)","sp-light-blue"),NAVY:new t("NAVY","var(--blue-500)","var(--white)","var(--blue-500)","var(--blue-75)","sp-navy"),WHITE:new t("WHITE","var(--gray-20)","var(--gray-800)","var(--gray-800)","var(--gray-20)","sp-white"),MEDIUM_GRAY:new t("MEDIUM_GRAY","var(--gray-100)","var(--gray-0)","var(--gray-100)","var(--gray-30)","sp-medium-gray"),DARK_GRAY:new t("DARK_GRAY","var(--gray-400)","var(--gray-0)","var(--gray-400)","var(--gray-50)","sp-dark-gray"),GRAY:new t("GRAY","var(--gray-300)","var(--gray-0)","var(--gray-200)","var(--gray-40)","sp-gray"),SLATE:new t("SLATE","var(--gray-500)","var(--gray-0)","var(--gray-500)","var(--gray-50)","sp-slate"),CHARCOAL:new t("CHARCOAL","var(--gray-700)","var(--gray-0)","var(--gray-700)","var(--gray-60)","sp-charcoal"),BLACK:new t("BLACK","var(--gray-900)","var(--gray-0)","var(--gray-900)","var(--gray-70)","sp-black")}},56293:(S,g,e)=>{"use strict";e.d(g,{W:()=>a}),e(19327);var n=e(84046),s=e(55331),i=e(25082);function r(o,d){if(1&o&&(n.TgZ(0,"div",1),n.ALo(1,"spSanitize"),n.qZA()),2&o){const h=n.oxw();n.Udp("background",n.xi3(1,2,h.color.backgroundStyle,"style"))}}let a=(()=>{class o{}return o.\u0275fac=function(h){return new(h||o)},o.\u0275cmp=n.Xpm({type:o,selectors:[["sp-color-presenter"]],inputs:{color:"color"},decls:1,vars:1,consts:[["class","sp-color-presenter-container sp-circle",3,"background",4,"ngIf"],[1,"sp-color-presenter-container","sp-circle"]],template:function(h,p){1&h&&n.YNc(0,r,2,5,"div",0),2&h&&n.Q6J("ngIf",p.color)},directives:[s.O5],pipes:[i.n],styles:[".sp-color-presenter-container{width:12px;height:12px}\n"],encapsulation:2,changeDetection:0}),o})()},68499:(S,g,e)=>{"use strict";e.d(g,{L:()=>i});var t=e(55331),n=e(1030),s=e(84046);let i=(()=>{class r{}return r.\u0275fac=function(o){return new(o||r)},r.\u0275mod=s.oAB({type:r}),r.\u0275inj=s.cJS({imports:[[t.ez,n.l]]}),r})()},78808:(S,g,e)=>{"use strict";e.d(g,{O:()=>t});class t{constructor(s,i){this.iconId=s,this.color=i}}},79658:(S,g,e)=>{"use strict";e.d(g,{M:()=>n});var t=e(19327);class n{constructor(r){this.extendedColoredIconClass=r,this.DTO_SEPARATOR="@"}toString(r){return`${r.iconId}${this.DTO_SEPARATOR}${r.color.colorName}`}toDomain(r){const a=r.split(this.DTO_SEPARATOR),o=a[0];if(!o)throw new s("Cannot retrieve icon id");const d=a[1];if(!d)throw new s("Cannot retrieve icon color");return new this.extendedColoredIconClass(o,t.I.getRequestedColorOrDefault(d,t.B.BLUE))}}class s extends Error{constructor(r){super(r),this.name=s.name}}},84027:(S,g,e)=>{"use strict";e.d(g,{B:()=>a});var t=e(84046),n=e(55331),s=e(65795),i=e(25082);function r(o,d){if(1&o&&(t.TgZ(0,"sp-icon-picker-icon",1),t.ALo(1,"spSanitize"),t.qZA()),2&o){const h=t.oxw();t.Udp("color",t.xi3(1,4,h.coloredIcon.color.colorStyle,"style")),t.Q6J("id",h.coloredIcon.iconId)("iconId",h.coloredIcon.iconId)}}let a=(()=>{class o{constructor(h,p){this.renderer=h,this.elementRef=p}ngOnChanges(h){h.coloredIcon&&this.coloredIcon&&this.setBackgroundColor()}ngAfterViewInit(){this.coloredIcon&&this.setBackgroundColor()}setBackgroundColor(){this.renderer.setStyle(this.elementRef.nativeElement,"background-color",this.coloredIcon.color.backgroundStyle)}}return o.\u0275fac=function(h){return new(h||o)(t.Y36(t.Qsj),t.Y36(t.SBq))},o.\u0275cmp=t.Xpm({type:o,selectors:[["sp-colored-icon"]],hostAttrs:[1,"sp-colored-icon","sp-w-8","sp-h-8","sp-icon-container","sp-relative","sp-flex","sp-justify-center","sp-items-center","sp-circle"],inputs:{coloredIcon:"coloredIcon"},features:[t.TTD],decls:1,vars:1,consts:[[3,"id","color","iconId",4,"ngIf"],[3,"id","iconId"]],template:function(h,p){1&h&&t.YNc(0,r,2,7,"sp-icon-picker-icon",0),2&h&&t.Q6J("ngIf",p.coloredIcon)},directives:[n.O5,s.O],pipes:[i.n],encapsulation:2,changeDetection:0}),o})()},41798:(S,g,e)=>{"use strict";e.d(g,{I:()=>r});var t=e(55331),n=e(48352),s=e(1030),i=e(84046);let r=(()=>{class a{}return a.\u0275fac=function(d){return new(d||a)},a.\u0275mod=i.oAB({type:a}),a.\u0275inj=i.cJS({imports:[[t.ez,n.I,s.l]]}),a})()},99154:(S,g,e)=>{"use strict";e.d(g,{US:()=>m});var t=e(84046),n=e(70822),s=e(88894),i=e(62546),r=e(55331),a=e(68890),o=e(18217);function d(v,E){if(1&v){const C=t.EpF();t.TgZ(0,"div",1),t.NdJ("click",function(y){return t.CHM(C),t.oxw().clearFilter(y)}),t.ALo(1,"spRichTextI18n"),t._UZ(2,"i",2),t.qZA()}if(2&v){const C=t.oxw();t.Q6J("ngClass",C.filterClearBtnClass)("spTooltipEnabled",C.clearable)("spTooltip",t.lcZ(1,3,"SPT_COMMON_INDICATOR_CLEAR_FILTER_TOOLTIP"))}}const f="sp-enlarged-indicator";let m=(()=>{class v extends i.H{constructor(C,T,y){super(C,T),this.changeDetectorRef=y,this.clear=new t.vpe,this.filterClearBtnClass={"sp-clear-filter-btn":!0}}ngOnInit(){this.domManipulator.setHostAttribute("id","sp-filter-indicator"),this.observeHostMouseEnter(),this.observeHostMouseLeave()}clearFilter(C){s.FV.preventToggleButtonSelection(C),this.clear.emit()}getHostClasses(){return["sp-absolute","sp-circle","sp-z-1","sp-block","sp-filter-indicator"]}observeHostMouseEnter(){this.domManipulator.hostListen("mouseenter").pipe((0,n.h)(()=>this.clearable),this.takeUntilDestroy()).subscribe(()=>{this.onMouseEnter()})}observeHostMouseLeave(){this.domManipulator.hostListen("mouseleave").pipe((0,n.h)(()=>this.clearable),this.takeUntilDestroy()).subscribe(()=>{this.onMouseLeave()})}onMouseEnter(){this.domManipulator.addHostClass(f),this.changeDetectorRef.detectChanges()}onMouseLeave(){this.domManipulator.removeHostClass(f),this.changeDetectorRef.detectChanges()}}return v.\u0275fac=function(C){return new(C||v)(t.Y36(t.SBq),t.Y36(t.Qsj),t.Y36(t.sBO))},v.\u0275cmp=t.Xpm({type:v,selectors:[["sp-filter-indicator"]],inputs:{clearable:"clearable"},outputs:{clear:"clear"},features:[t.qOj],decls:1,vars:1,consts:[["class","sp-circle sp-w-3 sp-h-3 sp-border-2 sp-bg-warning sp-grid sp-place-items-center sp-filter-indicator__btn ","id","sp-clear-filter-btn",3,"ngClass","spTooltipEnabled","spTooltip","click",4,"ngIf"],["id","sp-clear-filter-btn",1,"sp-circle","sp-w-3","sp-h-3","sp-border-2","sp-bg-warning","sp-grid","sp-place-items-center","sp-filter-indicator__btn",3,"ngClass","spTooltipEnabled","spTooltip","click"],[1,"fa","fa-times","sp-filter-indicator__btn-icon","sp-fg-white"]],template:function(C,T){1&C&&t.YNc(0,d,3,5,"div",0),2&C&&t.Q6J("ngIf",T.clearable)},directives:[r.O5,r.mk,a.i9],pipes:[o.d],styles:[".sp-filter-indicator{right:-4px;top:-4px;animation:marked-fade-in;animation-duration:.3s;animation-fill-mode:forwards}.sp-filter-indicator__btn{transition:transform .15s ease;border-color:var(--gray-0)}.sp-filter-indicator__btn-icon{font-size:5px;opacity:0}.sp-filter-indicator__btn:hover{transform:scale(1.5)}.sp-filter-indicator__btn:hover .sp-filter-indicator__btn-icon{opacity:1}@keyframes marked-fade-in{0%{opacity:0}to{opacity:1}}\n"],encapsulation:2,changeDetection:0}),v})()},4608:(S,g,e)=>{"use strict";e.d(g,{l:()=>a});var t=e(55331),n=e(41001),s=e(68890),i=e(26566),r=e(84046);let a=(()=>{class o{}return o.\u0275fac=function(h){return new(h||o)},o.\u0275mod=r.oAB({type:o}),o.\u0275inj=r.cJS({imports:[[t.ez,s.z8,n.J,i.n]]}),o})()},56662:(S,g,e)=>{"use strict";e.d(g,{T:()=>s});const t=new Map([["font-awesome-haykal","font-awesome-bahai"]]);class s{get(r){return this.whenReady().then(a=>{if(a.has(r))return a.get(r);if(t.has(r)){const o=t.get(r);return a.get(o)}return a.get("font-awesome-folder")})}loadIcons(){return e.e(8314).then(e.t.bind(e,18314,19)).then(i=>Array.from(i)).then(r=>new Map(r)).catch(r=>{throw console.error({name:"Unable to retrieve icons",reason:r}),r})}whenReady(){return this.promiseOfIconsReadiness||(this.promiseOfIconsReadiness=this.loadIcons()),this.promiseOfIconsReadiness}}},48352:(S,g,e)=>{"use strict";e.d(g,{I:()=>t.I,F:()=>f});var t=e(99622),n=e(55331),s=e(4252),i=e(5644),r=e(68890),a=e(41001),o=e(84046);let d=(()=>{class m{}return m.\u0275fac=function(E){return new(E||m)},m.\u0275mod=o.oAB({type:m}),m.\u0275inj=o.cJS({imports:[[n.ez,a.J]]}),m})();var h=e(26566);let p=(()=>{class m{}return m.\u0275fac=function(E){return new(E||m)},m.\u0275mod=o.oAB({type:m}),m.\u0275inj=o.cJS({imports:[[n.ez,r.z8,t.I,h.n]]}),m})(),f=(()=>{class m{}return m.\u0275fac=function(E){return new(E||m)},m.\u0275mod=o.oAB({type:m}),m.\u0275inj=o.cJS({imports:[[n.ez,i.u.forRoot(),s.R.forRoot(),r.z8,t.I,d,p,h.n,a.J]]}),m})()},65795:(S,g,e)=>{"use strict";e.d(g,{O:()=>a});var t=e(56662),n=e(62546),s=e(84046),i=e(55331);const r=function(o){return{color:o}};let a=(()=>{class o extends n.H{constructor(h,p,f,m){super(h,p),this.changeDetectorRef=f,this.repository=m,this.classList=[]}ngOnChanges(h){h.iconId&&this.handleChangeOfIconIdInput(h.iconId)}getHostClasses(){return["sp-leading-none"]}handleChangeOfIconIdInput(h){!h.currentValue||this.repository.get(h.currentValue).then(f=>{this.classList=f.classList,this.changeDetectorRef.detectChanges()})}}return o.\u0275fac=function(h){return new(h||o)(s.Y36(s.SBq),s.Y36(s.Qsj),s.Y36(s.sBO),s.Y36(t.T))},o.\u0275cmp=s.Xpm({type:o,selectors:[["sp-icon-picker-icon"]],inputs:{iconId:"iconId",color:"color"},features:[s.qOj,s.TTD],decls:1,vars:4,consts:[[1,"sp-icon__icon",3,"ngStyle","ngClass"]],template:function(h,p){1&h&&s._UZ(0,"i",0),2&h&&s.Q6J("ngStyle",s.VKq(2,r,p.color))("ngClass",p.classList)},directives:[i.PC,i.mk],encapsulation:2,changeDetection:0}),o})()},99622:(S,g,e)=>{"use strict";e.d(g,{I:()=>i});var t=e(55331),n=e(56662),s=e(84046);let i=(()=>{class r{static forRoot(){return{ngModule:r,providers:[n.T]}}}return r.\u0275fac=function(o){return new(o||r)},r.\u0275mod=s.oAB({type:r}),r.\u0275inj=s.cJS({imports:[[t.ez]]}),r})()},43423:(S,g,e)=>{"use strict";e.d(g,{g:()=>s});var t=e(56662),n=e(84046);let s=(()=>{class i{constructor(a,o){this.changeDetectorRef=a,this.iconRepo=o}transform(a){return(this.iconIdChanged(a)||this.iconNameNotYetAvailable())&&this.loadIconName(a),this.latestIconId=a,this.latestValue}loadIconName(a){this.iconRepo.get(a).then(o=>{this.latestValue=this.replaceAllHyphensWithSpacesIn(o.name),this.changeDetectorRef.detectChanges()})}iconNameNotYetAvailable(){return void 0===this.latestValue}iconIdChanged(a){return a!==this.latestIconId}replaceAllHyphensWithSpacesIn(a){return a.replace(new RegExp("-","g")," ")}}return i.\u0275fac=function(a){return new(a||i)(n.Y36(n.sBO,16),n.Y36(t.T,16))},i.\u0275pipe=n.Yjl({name:"spIconPickerIconName",type:i,pure:!1}),i})()},91418:(S,g,e)=>{"use strict";e.d(g,{I:()=>Ue});var t=e(55331),n=e(84046),s=e(63833),i=e(90850),r=e(71118);class o{constructor(gt,tt){this.searchTermsMap=gt,this.allIconIds=tt}static init(){return e.e(2196).then(e.t.bind(e,72196,19)).then(xe=>({allIconIds:xe.allIconIds,searchMapEntries:xe.searchMapEntries})).then(gt=>new o(new Map(gt.searchMapEntries),gt.allIconIds)).catch(gt=>{throw console.error({name:"Unable to retrieve icons search map",reason:gt}),gt})}getMatchingIconIds(gt){const tt=gt.trim();if(""===tt)return this.allIconIds;const lt=this.findTermsMatching(tt);return this.retrieveIconIdsFor(lt)}findTermsMatching(gt){return Array.from(this.searchTermsMap.keys()).filter(lt=>-1!==lt.toLowerCase().indexOf(gt.toLowerCase()))}retrieveIconIdsFor(gt){const tt=gt.map(lt=>this.searchTermsMap.get(lt)).reduce(r.l.mergeArrays,[]);return Array.from(new Set(tt))}}var d=e(62546),h=e(65799);const p=["searchInput"];let f=(()=>{class xe{constructor(){this.queryChange$=new n.vpe}ngAfterViewInit(){this.searchInputElem=this.searchInputRef.nativeElement,this.searchInputElem.focus()}onSearchChange(){this.queryChange$.emit(this.searchInputElem.value)}}return xe.\u0275fac=function(tt){return new(tt||xe)},xe.\u0275cmp=n.Xpm({type:xe,selectors:[["sp-icon-picker-icon-search-field"]],viewQuery:function(tt,lt){if(1&tt&&n.Gf(p,7),2&tt){let Mt;n.iGM(Mt=n.CRH())&&(lt.searchInputRef=Mt.first)}},outputs:{queryChange$:"queryChange"},decls:4,vars:3,consts:[["type","text",1,"sp-form-control",3,"placeholder","keyup"],["searchInput",""],[1,"sp-picker-search-icon","far","fa-search"]],template:function(tt,lt){1&tt&&(n.TgZ(0,"input",0,1),n.NdJ("keyup",function(){return lt.onSearchChange()}),n.ALo(2,"spL10nText"),n.qZA(),n._UZ(3,"i",2)),2&tt&&n.Q6J("placeholder",n.lcZ(2,1,"SPT_COMMON_ICON_PICKER_PLACEHOLDER"))},pipes:[h.L],styles:["sp-icon-picker-icon-search-field{position:relative;height:32px;margin:4px}sp-icon-picker-icon-search-field .sp-form-control{border-radius:var(--border-radius-m);border:2px solid var(--gray-30);background-color:var(--gray-10);font-size:14px;font-family:var(--font-family);padding:8px 26px 8px 6px;width:100%;transition:all .2s;transition-property:background-color,border;outline:0 solid transparent}sp-icon-picker-icon-search-field .sp-form-control:hover{background:var(--gray-30);border-color:var(--gray-40)}sp-icon-picker-icon-search-field .sp-form-control:active,sp-icon-picker-icon-search-field .sp-form-control:focus{background:var(--color-bg);border-color:var(--blue-100)}sp-icon-picker-icon-search-field .sp-form-control:active+.sp-picker-search-icon:after,sp-icon-picker-icon-search-field .sp-form-control:focus+.sp-picker-search-icon:after{color:var(--blue-100)}sp-icon-picker-icon-search-field .sp-picker-search-icon{position:absolute;top:50%;transform:translateY(-50%);right:8px;color:var(--gray-100)}sp-icon-picker-icon-search-field input,sp-icon-picker-icon-search-field select{color:var(--gray-800)}sp-icon-picker-icon-search-field input.sp-form-control,sp-icon-picker-icon-search-field select.sp-form-control{height:32px}\n"],encapsulation:2,changeDetection:0}),xe})();var m=e(97809),v=e(4683),E=e(71726),C=e(18840);let T=(()=>{class xe{constructor(){this.numOfShownIcons$=new C.X(xe.INITIAL_NUM_OF_ICONS)}init(tt,lt){this.containerDimensions=tt,this.cellDimensions=lt,this.calcNumOfShownRowsAndColumns(),this.increasedNumOfShownRows=this.initialNumOfShownRows,this.updateNumOfShownIcons()}observeNumOfShownIcons(){return this.numOfShownIcons$.asObservable()}resetNumOfShownIcons(){this.increasedNumOfShownRows=this.initialNumOfShownRows,this.updateNumOfShownIcons()}onScroll(tt){this.reachedBoundaryForLoadingNewIcons(tt)&&this.increaseNumOfShownRows()}increaseNumOfShownRows(){this.increasedNumOfShownRows+=xe.NUM_OF_EXTRA_RENDERED_ROWS,this.updateNumOfShownIcons()}reachedBoundaryForLoadingNewIcons(tt){return tt.scrollHeight-(tt.scrollTop+tt.clientHeight)<=this.cellDimensions.height}calcNumOfShownRowsAndColumns(){const tt=Math.floor(this.containerDimensions.height/this.cellDimensions.height);this.initialNumOfShownRows=tt+xe.NUM_OF_EXTRA_RENDERED_ROWS,this.initialNumOfShownColumns=Math.floor(this.containerDimensions.width/this.cellDimensions.width)}updateNumOfShownIcons(){this.numOfShownIcons$.next(this.increasedNumOfShownRows*this.initialNumOfShownColumns)}}return xe.NUM_OF_EXTRA_RENDERED_ROWS=1,xe.INITIAL_NUM_OF_ICONS=10,xe.\u0275fac=function(tt){return new(tt||xe)},xe.\u0275prov=n.Yz7({token:xe,factory:xe.\u0275fac}),xe})();var y=e(28992),I=e(38179),P=e(65795),L=e(68890),F=e(94944),b=e(43423);const x=["iconCell"];function B(xe,gt){if(1&xe){const tt=n.EpF();n.TgZ(0,"sp-icon-picker-icon",1,2),n.NdJ("click",function(){const ne=n.CHM(tt).$implicit;return n.oxw().onIconClick(ne)}),n.ALo(2,"spRichTextString"),n.ALo(3,"titlecase"),n.ALo(4,"spIconPickerIconName"),n.qZA()}if(2&xe){const tt=gt.$implicit;n.Q6J("iconId",tt)("spTooltip",n.lcZ(2,2,n.lcZ(3,4,n.lcZ(4,6,tt))))}}let M=(()=>{class xe extends d.H{constructor(tt,lt,Mt,ne){super(tt,lt),this.changeDetectorRef=Mt,this.viewportRenderingCalculator=ne,this.iconClick$=new i.xQ,this.shownIconIds=[],this.icons$=new m.t(1),this.inputChangeHandler=new I.z,this.iconsTrackByFn=(De,Ye)=>Ye,this.inputChangeHandler.addHandler("iconIds",this.handleChangeOfIconIdsInput.bind(this))}ngOnChanges(tt){this.inputChangeHandler.handle(tt)}ngAfterViewInit(){this.observeRenderingHandler(),this.initRenderingCalculator(),this.observeForScrollEvent()}onIconClick(tt){this.iconClick$.next(tt)}observeForScrollEvent(){this.domManipulator.hostListen("scroll").pipe((0,E.U)(tt=>tt.target),this.takeUntilDestroy()).subscribe(tt=>{this.viewportRenderingCalculator.onScroll(tt)})}handleChangeOfIconIdsInput(tt){!tt.firstChange&&this.viewportRenderingCalculator.resetNumOfShownIcons(),tt&&this.icons$.next(tt.currentValue)}observeRenderingHandler(){(0,v.aj)([this.icons$.asObservable(),this.viewportRenderingCalculator.observeNumOfShownIcons()]).pipe(this.takeUntilDestroy()).subscribe(tt=>{this.shownIconIds=tt[0].slice(0,tt[1]),this.changeDetectorRef.detectChanges()})}initRenderingCalculator(){this.viewportRenderingCalculator.init(this.getElemDimensions(this.elementRef.nativeElement),this.getElemDimensions(this.iconCellRef.nativeElement))}getElemDimensions(tt){const lt=tt.getBoundingClientRect();return(new y.Db).withWidth(lt.width).withHeight(lt.height)}}return xe.\u0275fac=function(tt){return new(tt||xe)(n.Y36(n.SBq),n.Y36(n.Qsj),n.Y36(n.sBO),n.Y36(T))},xe.\u0275cmp=n.Xpm({type:xe,selectors:[["sp-icon-renderer"]],viewQuery:function(tt,lt){if(1&tt&&n.Gf(x,5,n.SBq),2&tt){let Mt;n.iGM(Mt=n.CRH())&&(lt.iconCellRef=Mt.first)}},inputs:{iconIds:"iconIds"},outputs:{iconClick$:"iconClick"},features:[n._Bn([T]),n.qOj,n.TTD],decls:1,vars:2,consts:[["class","sp-icon-cell sp-circle",3,"iconId","spTooltip","click",4,"ngFor","ngForOf","ngForTrackBy"],[1,"sp-icon-cell","sp-circle",3,"iconId","spTooltip","click"],["iconCell",""]],template:function(tt,lt){1&tt&&n.YNc(0,B,5,8,"sp-icon-picker-icon",0),2&tt&&n.Q6J("ngForOf",lt.shownIconIds)("ngForTrackBy",lt.iconsTrackByFn)},directives:[t.sg,P.O,L.i9],pipes:[F.C,t.rS,b.g],styles:["sp-icon-renderer{display:block;width:100%;height:100%;overflow:auto}sp-icon-renderer .sp-icon-cell{display:inline-block;width:32px;height:32px;text-align:center;margin:4px;font-size:16px;line-height:32px;color:var(--gray-100)}sp-icon-renderer .sp-icon-cell:hover{background-color:var(--gray-20);cursor:pointer}sp-icon-renderer .sp-icon-cell:hover .sp-icon-instance{color:var(--gray-800)}sp-icon-renderer .sp-icon-cell:active{background-color:var(--blue-50)}sp-icon-renderer .sp-icon-cell:active .sp-icon-instance{color:var(--primary)}\n"],encapsulation:2,changeDetection:0}),xe})();function w(xe,gt){if(1&xe&&(n.TgZ(0,"span",3),n._uU(1),n.ALo(2,"spL10nText"),n.qZA()),2&xe){const tt=n.oxw();n.xp6(1),n.Oqu(n.lcZ(2,1,tt.message))}}function K(xe,gt){if(1&xe){const tt=n.EpF();n.TgZ(0,"sp-icon-renderer",4),n.NdJ("iconClick",function(Mt){return n.CHM(tt),n.oxw().onIconClick(Mt)}),n.qZA()}if(2&xe){const tt=n.oxw();n.Q6J("iconIds",tt.iconIds)}}let k=(()=>{class xe extends d.H{constructor(tt,lt,Mt){super(tt,lt),this.changeDetectorRef=Mt,this.iconIds=[],this.message="SPT_COMMON_ICON_PICKER_LOADING_ICONS_LABEL",this.pickedIconId$=new i.xQ}ngOnInit(){this.initSearchRepository()}finalize(){this.pickedIconId$.complete()}getHostClasses(){return["sp-border-rounded","sp-flex","sp-flex-col","sp-border","sp-shadow-md"]}onSearchQueryChange(tt){this.iconIds=this.iconSearchTermsRepo.getMatchingIconIds(tt),this.message=this.iconIds.length?void 0:"SPT_COMMON_ICON_PICKER_NO_ICONS_FOUND_LABEL",this.changeDetectorRef.detectChanges()}onIconClick(tt){this.pickedIconId$.next(tt)}observePickedIconId$(){return this.pickedIconId$.asObservable()}initSearchRepository(){o.init().then(tt=>{this.iconSearchTermsRepo=tt,this.iconIds=this.iconSearchTermsRepo.allIconIds,this.message=null,this.changeDetectorRef.detectChanges()}).catch(()=>{this.message="SPT_COMMON_ICON_PICKER_UNABLE_TO_RETRIEVE_ICONS_LABEL",this.changeDetectorRef.detectChanges()})}}return xe.\u0275fac=function(tt){return new(tt||xe)(n.Y36(n.SBq),n.Y36(n.Qsj),n.Y36(n.sBO))},xe.\u0275cmp=n.Xpm({type:xe,selectors:[["sp-icon-picker-dropdown"]],features:[n.qOj],decls:3,vars:2,consts:[[3,"queryChange"],["class","sp-flex sp-flex-wrap sp-mt-4 sp-flex sp-justify-center",4,"ngIf"],[3,"iconIds","iconClick",4,"ngIf"],[1,"sp-flex","sp-flex-wrap","sp-mt-4","sp-flex","sp-justify-center"],[3,"iconIds","iconClick"]],template:function(tt,lt){1&tt&&(n.TgZ(0,"sp-icon-picker-icon-search-field",0),n.NdJ("queryChange",function(ne){return lt.onSearchQueryChange(ne)}),n.qZA(),n.YNc(1,w,3,3,"span",1),n.YNc(2,K,1,1,"sp-icon-renderer",2)),2&tt&&(n.xp6(1),n.Q6J("ngIf",lt.message&&!lt.iconIds.length),n.xp6(1),n.Q6J("ngIf",!lt.message&&lt.iconIds.length))},directives:[f,t.O5,M],pipes:[h.L],styles:["sp-icon-picker-dropdown{position:absolute;z-index:12000;width:320px;height:304px;padding:4px;background:var(--color-bg)}\n"],encapsulation:2,changeDetection:0}),xe})();var G=e(45927);let $=(()=>{class xe{constructor(tt,lt){this.injector=tt,this.componentOutlet=lt}create(){const tt=this.componentOutlet.createComponent(k,this.injector);return tt.changeDetectorRef.detectChanges(),tt}}return xe.\u0275fac=function(tt){return new(tt||xe)(n.LFG(n.zs3),n.LFG(G.r))},xe.\u0275prov=n.Yz7({token:xe,factory:xe.\u0275fac}),xe})(),X=(()=>{class xe{getPxString(tt){return r.l.numberToPxString(tt)}getDOMElement(tt){return r.l.getDOMElementFromComponentRef(tt)}}return xe.\u0275fac=function(tt){return new(tt||xe)},xe.\u0275prov=n.Yz7({token:xe,factory:xe.\u0275fac}),xe})();var ie=e(6397),se=e(95900),pe=e(91078),ve=e(64026),Ce=e(52265),ye=e(17199);const de=["dropdownToggleBtn"];function Ie(xe,gt){if(1&xe&&(n.TgZ(0,"div",5),n._UZ(1,"sp-icon-picker-icon",6),n._uU(2),n.ALo(3,"titlecase"),n.ALo(4,"spIconPickerIconName"),n.qZA()),2&xe){const tt=n.oxw();n.xp6(1),n.Q6J("iconId",tt.iconId),n.xp6(1),n.hij(" ",n.lcZ(3,2,n.lcZ(4,4,tt.iconId))," ")}}function He(xe,gt){1&xe&&(n.TgZ(0,"span",7),n._uU(1,"Choose icon"),n.qZA())}let Ue=(()=>{class xe extends d.H{constructor(tt,lt,Mt,ne,De,Ye,Qe){super(tt,lt),this.changeDetectorRef=Mt,this.iconPickerMapper=ne,this.positionCalculator=De,this.iconPickerDropdownFactory=Ye,this.document=Qe,this.iconIdChange=new n.vpe,this.gravity=se.X,this.positionCalculatorParams=Ce.i.default().withAlignment(ve.e.LEFT).withGravity(se.X.SOUTH).withMargin(5)}finalize(){this.destroyDropdown()}getHostClasses(){return["sp-flex","sp-h-8"]}toggleIconPickerDropdown(){this.dropdownRef?this.destroyDropdown():(this.isActive=!0,this.createDropdown(),this.observeClickOutsideDropdown(),this.changeDetectorRef.detectChanges())}destroyDropdown(){this.dropdownRef&&(this.isActive=!1,this.dropdownRef.destroy(),this.dropdownRef=null,this.changeDetectorRef.detectChanges())}createDropdown(){this.dropdownRef=this.iconPickerDropdownFactory.create(),this.observePickedIcon();const tt=this.iconPickerMapper.getDOMElement(this.dropdownRef),lt=this.getPositionForDropdown(tt);this.domManipulator.addStyle(tt,"top",this.iconPickerMapper.getPxString(lt.top)),this.domManipulator.addStyle(tt,"left",this.iconPickerMapper.getPxString(lt.left))}observeClickOutsideDropdown(){new ie.$(this.iconPickerMapper.getDOMElement(this.dropdownRef),this.document,{ignoredElement:this.dropdownToggleBtnElemRef.nativeElement}).pipe((0,pe.B)(this.dropdownRef),this.takeUntilDestroy()).subscribe(this.destroyDropdown.bind(this))}observePickedIcon(){this.dropdownRef.instance.observePickedIconId$().pipe((0,s.q)(1),this.takeUntilDestroy()).subscribe(tt=>{this.iconId=tt,this.destroyDropdown(),this.iconIdChange.emit(this.iconId)})}getPositionForDropdown(tt){const lt=this.positionCalculatorParams.withLinkedElements({element:tt,anchor:this.elementRef.nativeElement});return this.positionCalculator.calculateNewElementsPosition(lt)}}return xe.\u0275fac=function(tt){return new(tt||xe)(n.Y36(n.SBq),n.Y36(n.Qsj),n.Y36(n.sBO),n.Y36(X),n.Y36(ye.o),n.Y36($),n.Y36(t.K0))},xe.\u0275cmp=n.Xpm({type:xe,selectors:[["sp-icon-picker"]],viewQuery:function(tt,lt){if(1&tt&&n.Gf(de,7),2&tt){let Mt;n.iGM(Mt=n.CRH())&&(lt.dropdownToggleBtnElemRef=Mt.first)}},inputs:{iconId:"iconId"},outputs:{iconIdChange:"iconIdChange"},features:[n._Bn([X,$]),n.qOj],decls:9,vars:12,consts:[["sp-button","",1,"sp-btn","sp-icon-picker-button","sp-px-2","!sp-flex","sp-justify-between","sp-items-center",3,"spTooltip","spTooltipEnabled","click"],["dropdownToggleBtn",""],["class","sp-picked-icon-field sp-flex sp-items-center sp-whitespace-nowrap sp-overflow-hidden sp-leading-1 sp-mr-2",4,"ngIf","ngIfElse"],["defaultPlaceholder",""],[1,"fa","fa-chevron-down"],[1,"sp-picked-icon-field","sp-flex","sp-items-center","sp-whitespace-nowrap","sp-overflow-hidden","sp-leading-1","sp-mr-2"],[1,"sp-w-fit","sp-px-1","sp-mr-1",3,"iconId"],[1,"sp-self-center"]],template:function(tt,lt){if(1&tt&&(n.TgZ(0,"button",0,1),n.NdJ("click",function(){return lt.toggleIconPickerDropdown()}),n.ALo(2,"spRichTextString"),n.ALo(3,"titlecase"),n.ALo(4,"spIconPickerIconName"),n.YNc(5,Ie,5,6,"div",2),n.YNc(6,He,2,0,"ng-template",null,3,n.W1O),n._UZ(8,"span",4),n.qZA()),2&tt){const Mt=n.MAs(7);n.ekj("sp-icon-picker-button--is-active",lt.isActive),n.Q6J("spTooltip",n.lcZ(2,6,n.lcZ(3,8,n.lcZ(4,10,lt.iconId))))("spTooltipEnabled",lt.iconId),n.xp6(5),n.Q6J("ngIf",lt.iconId)("ngIfElse",Mt)}},directives:[L.i9,t.O5,P.O],pipes:[F.C,t.rS,b.g],styles:["sp-icon-picker .sp-icon-picker-button{width:160px;border-top-right-radius:0;border-bottom-right-radius:0}sp-icon-picker .sp-icon-picker-button:hover{background-color:var(--gray-30);color:var(--gray-800);text-decoration:none}sp-icon-picker .sp-icon-picker-button--is-active{color:var(--gray-0);background-color:var(--gray-600)}sp-icon-picker .sp-icon-picker-button--is-active:hover{color:var(--gray-0);background-color:var(--gray-600)}sp-icon-picker .sp-icon-picker-button--is-active .sp-icon__icon{color:var(--gray-0)}\n"],encapsulation:2,changeDetection:0}),xe})()},39905:(S,g,e)=>{"use strict";e.d(g,{_:()=>I});var t=e(84046),n=e(73197),s=e(63833),i=e(19327),r=e(95900),a=e(62546),o=e(26420),d=e(55331),h=e(68890),p=e(25082),f=e(18217);const m=["template"],v=["spDeleteIcon"],E=["sp-label",""];function C(P,L){1&P&&t._UZ(0,"i",4,5)}const T=function(P){return{"orphaned sp-orphaned-element":P}},y=["*"];let I=(()=>{class P extends a.H{constructor(F,b,x){super(F,b),this.changeDetectorRef=x,this.delete=new t.vpe,this.viewRendered=!1,this.gravity={SOUTH:r.X.SOUTH}}ngOnChanges(F){F.color&&this.updateColor(),(F.href&&F.href.currentValue||F.removable&&F.removable.currentValue)&&this.viewRendered&&this.subscribeMouseenterListener()}ngAfterViewInit(){this.viewRendered=!0,(this.shouldTooltipBeDisplayed()||this.removable||this.href)&&this.subscribeMouseenterListener()}getBackgroundColor(){const F=this.getColor();return F?F.backgroundStyle:null}shouldTooltipBeDisplayed(){return this.template.nativeElement.scrollWidth>this.template.nativeElement.clientWidth}getHostClasses(){return["sp-pr-1","sp-pl-0","sp-pt-1"]}getColor(){return this.color instanceof i.I?this.color:i.B[this.color]}subscribeMouseenterListener(){this.mouseenterEvent$&&this.mouseenterEvent$.unsubscribe(),this.setMouseenterListener()}setMouseenterListener(){this.mouseenterEvent$=(0,n.R)(this.elementRef.nativeElement,"mouseenter").pipe((0,s.q)(1),this.takeUntilDestroy()).subscribe(F=>{this.shouldTooltipBeDisplayed()&&(this.tooltipVisible=!0,this.tooltipText=this.template.nativeElement.innerText,this.changeDetectorRef.detectChanges()),this.removable&&this.subscribeRemoveLabelListener(),this.href&&this.subscribeHrefListener(),F.stopPropagation()})}subscribeRemoveLabelListener(){this.removeLabelListener$&&this.removeLabelListener$.unsubscribe(),this.setRemoveLabelListener()}setRemoveLabelListener(){this.removeLabelListener$=(0,n.R)(this.deleteIcon.nativeElement,"click").pipe(this.takeUntilDestroy()).subscribe(F=>{this.delete.emit(),F.stopPropagation()})}subscribeHrefListener(){this.hrefListener$&&this.hrefListener$.unsubscribe(),this.setHrefListener()}setHrefListener(){this.hrefListener$=(0,n.R)(this.template.nativeElement,"click").pipe(this.takeUntilDestroy()).subscribe(F=>{window.open(this.href,"_blank"),F.stopPropagation()})}updateColor(){!this.getColor()||this.domManipulator.addStyle(this.template.nativeElement,"color",this.getColor().colorStyle)}}return P.\u0275fac=function(F){return new(F||P)(t.Y36(t.SBq),t.Y36(t.Qsj),t.Y36(t.sBO))},P.\u0275cmp=t.Xpm({type:P,selectors:[["a","sp-label",""],["sp-label"]],viewQuery:function(F,b){if(1&F&&(t.Gf(m,7),t.Gf(v,5)),2&F){let x;t.iGM(x=t.CRH())&&(b.template=x.first),t.iGM(x=t.CRH())&&(b.deleteIcon=x.first)}},inputs:{removable:"removable",isOrphaned:"isOrphaned",href:"href",color:"color"},outputs:{delete:"delete"},features:[t.qOj,t.TTD],attrs:E,ngContentSelectors:y,decls:7,vars:17,consts:[["light","",1,"sp-label","!sp-flex","sp-items-center","sp-py-0","sp-m-0","sp-border-rounded",3,"secondary","ngClass"],[1,"sp-label__text","sp-text-xs","sp-truncate","sp-uppercase","sp-text-center","sp-flex","sp-items-center","sp-justify-start","sp-h-full",3,"spTooltipEnabled","spTooltip","spTooltipGravity"],["template",""],["id","sp-label-delete-icon","class","fal fa-times sp-label__delete sp-text-gray-800 sp:hover:text-gray-900 sp-cursor-pointer sp-pl-1",4,"ngIf"],["id","sp-label-delete-icon",1,"fal","fa-times","sp-label__delete","sp-text-gray-800","sp:hover:text-gray-900","sp-cursor-pointer","sp-pl-1"],["spDeleteIcon",""]],template:function(F,b){1&F&&(t.F$t(),t.TgZ(0,"sp-tag",0),t.ALo(1,"spSanitize"),t.TgZ(2,"div",1,2),t.ALo(4,"spRichTextI18n"),t.Hsn(5),t.qZA(),t.YNc(6,C,2,0,"i",3),t.qZA()),2&F&&(t.Udp("background",t.xi3(1,10,b.getBackgroundColor(),"style")),t.ekj("sp-label--as-link",b.href&&!b.isOrphaned),t.Q6J("secondary",!b.isOrphaned)("ngClass",t.VKq(15,T,b.isOrphaned)),t.xp6(2),t.Q6J("spTooltipEnabled",b.tooltipVisible)("spTooltip",t.lcZ(4,13,b.tooltipText))("spTooltipGravity",b.gravity.SOUTH),t.xp6(4),t.Q6J("ngIf",b.removable))},directives:[o.Z,d.mk,h.i9,d.O5],pipes:[p.n,f.d],styles:[".sp-label{width:-moz-fit-content;width:fit-content;padding-top:0;padding-bottom:0;height:16px}.sp-label--as-link{color:inherit;text-decoration:unset}.sp-label--as-link .sp-label__text{color:var(--color-link)}.sp-label--as-link .sp-label__text:hover{text-decoration:underline;cursor:pointer}.sp-label__text{min-width:10px;max-width:200px}.sp-label__delete{margin-top:-1px}\n"],encapsulation:2,changeDetection:0}),P})()},61993:(S,g,e)=>{"use strict";e.d(g,{r:()=>f});var t=e(55331),n=e(41001),s=e(68890),r=(e(39905),e(55925)),a=e(1030),o=e(26566),d=e(84046);const p=[];let f=(()=>{class m{static forRoot(){return{ngModule:m,providers:p}}}return m.\u0275fac=function(E){return new(E||m)},m.\u0275mod=d.oAB({type:m}),m.\u0275inj=d.cJS({imports:[[t.ez,r.W,a.l,s.z8,n.J,o.n]]}),m})()},51127:(S,g,e)=>{"use strict";e.d(g,{$:()=>I});var t=e(55331),n=e(84046),s=e(97809),i=e(53339),r=e(79906),a=e(38009),o=e(73197),d=e(96105),h=e(71726),p=e(70822),f=e(98274),m=e(63833),v=e(62546),E=e(35912),C=e(3944),T=e(54447),y=e(44734);class I extends v.H{constructor(L,F,b,x,B,M,w,K){super(L,F),this.platform=b,this.sanitizer=x,this.httpClient=B,this.lazyImagesRepository=M,this.platformId=w,this.document=K,this.loading=new n.vpe,this.loaded=new n.vpe,this.isIntersecting$=new s.t(1),this.resourceUrl$=new s.t(1)}ngOnChanges(L){L.resourceUrl&&L.resourceUrl.currentValue&&this.resourceUrl$.next(this.resourceUrl)}ngOnInit(){this.observeResource(),this.elementRef.nativeElement.decoding="async"}ngAfterViewInit(){this.connectIntersectionObserver()}finalize(){this.disconnectIntersectionObserver()}nativeLazyLoadingSupported(){return"loading"in HTMLImageElement.prototype}isPlatformSupported(){return(0,t.NF)(this.platformId)&&!this.platform.TRIDENT}connectIntersectionObserver(){this.nativeLazyLoadingSupported()||!this.isPlatformSupported()||(this.intersectionObserver=new IntersectionObserver(L=>{for(const{isIntersecting:F,intersectionRatio:b}of L)this.isIntersecting$.next(F||b>0)},I.INTERSECTION_OBSERVER_OPTIONS),this.intersectionObserver.observe(this.elementRef.nativeElement))}disconnectIntersectionObserver(){this.nativeLazyLoadingSupported()||!this.isPlatformSupported()||this.intersectionObserver.disconnect()}getResourceUrlChanges$(){return this.resourceUrl$.pipe((0,d.x)(),(0,h.U)(L=>{const F=this.isDataUrl(L),b=F?this.dataUrlToObjectUrl(L):this.sanitizer.sanitize(n.q3G.URL,L);return this.markAsLoading(),F||this.nativeLazyLoadingSupported()||!this.isPlatformSupported()?(this.subscribeToLoadEvent(),this.setResourceLoadingAsLazy(),this.setResourceSource(b),null):b}),(0,p.h)(L=>!!L))}getVisibleAtLeastOnceThenMapToResourceUrl$(L){return this.isIntersecting$.pipe((0,d.x)(),(0,p.h)(F=>F),(0,h.U)(()=>(this.intersectionObserver.unobserve(this.elementRef.nativeElement),L)))}getReadResourceStrategy$(L){const F=this.lazyImagesRepository.getResource(L);if(null!==F)return(0,i.of)(F);const b=this.lazyImagesRepository.getPendingResource(L);return(0,r.D)(null!==b?b:this.fetchResource(L))}observeResource(){this.getResourceUrlChanges$().pipe((0,f.w)(this.getVisibleAtLeastOnceThenMapToResourceUrl$.bind(this)),(0,f.w)(this.getReadResourceStrategy$.bind(this)),this.takeUntilDestroy()).subscribe(L=>{null!==L?(this.setResourceSource(L),this.markAsLoaded()):this.markAsUnloaded()})}fetchResource(L){const F=new Promise((b,x)=>{this.tmpImgElement=Object.assign(new Image,{crossOrigin:"anonymous",referrerPolicy:"origin-only",src:L,onload:()=>b(""),onerror:()=>x()})}).then(()=>this.onLoadResourceSuccess()).catch(()=>this.onLoadResourceFailure(L));return this.lazyImagesRepository.setPendingResource(L,F),F}onLoadResourceSuccess(){return this.tmpCanvasElement=this.document.createElement("canvas"),this.tmpCanvasContext=this.tmpCanvasElement.getContext("2d"),this.tmpCanvasElement.width=this.tmpImgElement.width,this.tmpCanvasElement.height=this.tmpImgElement.height,this.tmpCanvasContext.drawImage(this.tmpImgElement,0,0),new Promise(L=>{this.tmpCanvasElement.toBlob(F=>L(F))}).then(L=>(delete this.tmpCanvasContext,delete this.tmpCanvasElement,delete this.tmpImgElement,URL.createObjectURL(L)))}onLoadResourceFailure(L){return delete this.tmpImgElement,console.warn(`Unable to load resource from: ${L}.\nInstead using fallback to native browser behaviour. Note: SVG resources can't be load and cached from other origins due to security reasons.`),L}isDataUrl(L){return new RegExp("^data\\:(image\\/[^\\,\\;]+)","i").test(L)}dataUrlToObjectUrl(L){try{const{1:F,2:b,3:x}=new RegExp("^data\\:(image\\/[^\\,\\;]+).*?(\\;base64)?\\,(.*)$","i").exec(L),M=b?atob(x):x,w=new ArrayBuffer(M.length),K=new Uint8Array(w);for(let G=0;G<M.length;G++)K[G]=M.charCodeAt(G);const k=new Blob([w],{type:F});return URL.createObjectURL(k)}catch(F){return""}}setResourceLoadingAsLazy(){this.renderer.setAttribute(this.elementRef.nativeElement,"loading","lazy")}setResourceSource(L){this.renderer.setAttribute(this.elementRef.nativeElement,"src",L)}markAsLoading(){this.renderer.addClass(this.elementRef.nativeElement,I.CSS_CLASSES.LOADING),this.renderer.removeClass(this.elementRef.nativeElement,I.CSS_CLASSES.LOADED),this.renderer.removeClass(this.elementRef.nativeElement,I.CSS_CLASSES.UNLOADED),this.loading.emit(!0)}markAsLoaded(){this.renderer.addClass(this.elementRef.nativeElement,I.CSS_CLASSES.LOADED),this.renderer.removeClass(this.elementRef.nativeElement,I.CSS_CLASSES.LOADING),this.renderer.removeClass(this.elementRef.nativeElement,I.CSS_CLASSES.UNLOADED),this.loading.emit(!1),this.loaded.emit(!0)}markAsUnloaded(){this.renderer.addClass(this.elementRef.nativeElement,I.CSS_CLASSES.UNLOADED),this.renderer.removeClass(this.elementRef.nativeElement,I.CSS_CLASSES.LOADING),this.renderer.removeClass(this.elementRef.nativeElement,I.CSS_CLASSES.LOADED),this.loading.emit(!1),this.loaded.emit(!1)}subscribeToLoadEvent(){(0,a.T)((0,o.R)(this.elementRef.nativeElement,"load").pipe((0,h.U)(()=>!0)),(0,o.R)(this.elementRef.nativeElement,"error").pipe((0,h.U)(()=>!1))).pipe((0,m.q)(1),this.takeUntilDestroy()).subscribe(L=>{L?this.markAsLoaded():this.markAsUnloaded()})}}I.CSS_CLASSES=Object.freeze({LOADING:"sp-lazy-img--loading",LOADED:"sp-lazy-img--loaded",UNLOADED:"sp-lazy-img--unloaded"}),I.INTERSECTION_OBSERVER_OPTIONS=Object.freeze({threshold:[0]}),I.\u0275fac=function(L){return new(L||I)(n.Y36(n.SBq),n.Y36(n.Qsj),n.Y36(E.t4),n.Y36(C.H7),n.Y36(T.eN),n.Y36(y.L),n.Y36(n.Lbi),n.Y36(t.K0))},I.\u0275dir=n.lG2({type:I,selectors:[["img","spLazyImg",""]],hostVars:2,hostBindings:function(L,F){2&L&&n.ekj("sp-lazy-img",!0)},inputs:{resourceUrl:["spLazyImg","resourceUrl"]},outputs:{loading:"loading",loaded:"loaded"},features:[n.qOj,n.TTD]})},74111:(S,g,e)=>{"use strict";e.d(g,{Y:()=>a});var t=e(55331),n=e(54447),s=e(96554),i=e(44734),r=e(84046);let a=(()=>{class o{static forRoot(){return{ngModule:o,providers:[i.L]}}}return o.\u0275fac=function(h){return new(h||o)},o.\u0275mod=r.oAB({type:o}),o.\u0275inj=r.cJS({imports:[[t.ez,n.JF,s.gF.forStyle(e.e(6876).then(e.t.bind(e,76876,17)))]]}),o})()},44734:(S,g,e)=>{"use strict";e.d(g,{L:()=>n});var t=e(84046);let n=(()=>{class s{constructor(){this.pending=new Map,this.loaded=new Map}hasResource(r){return this.loaded.has(r)}hasPendingResource(r){return this.pending.has(r)}getResource(r){return this.loaded.get(r)||null}getPendingResource(r){return this.pending.get(r)||null}setResource(r,a){this.loaded.set(r,a)}setPendingResource(r,a){const o=a.then(d=>(this.removePendingResource(r),this.setResource(r,d),d),d=>(this.removePendingResource(r),d));this.pending.set(r,o)}removePendingResource(r){this.pending.delete(r)}}return s.\u0275fac=function(r){return new(r||s)},s.\u0275prov=t.Yz7({token:s,factory:s.\u0275fac}),s})()},17949:(S,g,e)=>{"use strict";e.d(g,{x:()=>i});var t=e(62546),n=e(84046),s=e(38008);let i=(()=>{class r extends t.H{constructor(o,d,h,p){super(o,d),this.barLoaderService=h,this.changeDetectorRef=p,this.hidden=!0,this.progress=0}ngOnInit(){this.domManipulator.setHostAttribute("id","sp-bar-loader"),this.observeEvent()}finalize(){this.detachListeners(),this.barLoaderService.destroy()}getHostClasses(){return["sp-bar-loader","sp-block"]}observeEvent(){this.barLoaderService.connect().pipe(this.takeUntilDestroy()).subscribe(o=>{this.setBarLoaderVisible(o.enabled),this.progress=o.progress/r.PROGRESS_MAX_RANGE,this.changeDetectorRef.detectChanges()})}setBarLoaderVisible(o){if(this.visible=o,this.visible)this.hidden=!1;else{this.detachListeners();const d=setTimeout(()=>{this.hidden=!0,this.changeDetectorRef.detectChanges()},r.PROGRESS_TIMEOUT);this.removeTimoutListener=()=>clearTimeout(d)}}detachListeners(){this.removeTimoutListener&&this.removeTimoutListener()}}return r.PROGRESS_MAX_RANGE=100,r.PROGRESS_TIMEOUT=50,r.\u0275fac=function(o){return new(o||r)(n.Y36(n.SBq),n.Y36(n.Qsj),n.Y36(s.F),n.Y36(n.sBO))},r.\u0275cmp=n.Xpm({type:r,selectors:[["sp-bar-loader"]],features:[n.qOj],decls:1,vars:6,consts:[["id","sp-bar-loader-progress-bar",1,"sp-bar-loader__progress","sp-bg-primary","sp-h-full"]],template:function(o,d){1&o&&n._UZ(0,"div",0),2&o&&(n.Udp("transform","scale("+d.progress+", 1)"),n.ekj("sp-opacity-100",d.visible)("sp-hidden",d.hidden))},styles:[".sp-bar-loader{height:2px}.sp-bar-loader__progress{transition:transform .3s ease-in;transform-origin:left}\n"],encapsulation:2,changeDetection:0}),r})()},94649:(S,g,e)=>{"use strict";e.d(g,{t:()=>d});var t=e(55331),s=(e(17949),e(38008)),i=e(84046);const o=[s.F,(()=>{class h{constructor(f){this.barLoaderService=f,this.removeBlanketTimeout=500,this.requestsCounter=0}connect(){return this.barLoaderService.connect()}start(){this.requestsCounter++,this.barLoaderService.start(),0===this.requestsCounter&&setTimeout(()=>{jQuery("body").after('<div class="disable-blanket"></div>'),jQuery(".disable-blanket").css({cursor:"wait",height:"100%",position:"absolute",width:"100%",top:"0","z-index":"10003"})},this.removeBlanketTimeout)}complete(){this.requestsCounter--,this.barLoaderService.complete(),0===this.requestsCounter&&this.removeBlanket()}fail(){this.requestsCounter--,this.barLoaderService.fail(),0===this.requestsCounter&&this.removeBlanket()}removeBlanket(){setTimeout(()=>{jQuery(".disable-blanket").remove()},this.removeBlanketTimeout)}}return h.\u0275fac=function(f){return new(f||h)(i.LFG(s.F))},h.\u0275prov=i.Yz7({token:h,factory:h.\u0275fac}),h})()];let d=(()=>{class h{static forRoot(){return{ngModule:h,providers:o}}}return h.\u0275fac=function(f){return new(f||h)},h.\u0275mod=i.oAB({type:h}),h.\u0275inj=i.cJS({imports:[[t.ez]]}),h})()},38008:(S,g,e)=>{"use strict";e.d(g,{F:()=>i});var t=e(90850);class n{constructor(a,o){this.enabled=a,this.progress=o}}var s=e(84046);let i=(()=>{class r{constructor(){this.progressStep=10,this.completed=!0,this.status$=new t.xQ,this.intervalHandle=void 0,this.MAX_NOT_COMPLETED_PROGRESS=99,this.resetProgress()}connect(){return this.status$.asObservable()}start(o=r.DEFAULT_PROGRESS_STEP){!this.isCompleted()||(this.setCompleteStatus(!1),this.resetProgress(),this.progressStep=o,this.startInterval())}setProgressPercent(o){this.isCompleted()||(o=Math.min(o,100),this.progress<o&&(this.progress=o))}complete(){this.setCompleteStatus(!0)}fail(){this.setCompleteStatus(!0)}destroy(){this.removeTimoutListener&&this.removeTimoutListener()}isCompleted(){return this.completed}setCompleteStatus(o){this.completed=o}startInterval(){this.clearInterval(),this.increaseProgress(this.progressStep),this.status$.next(new n(!0,this.progress)),this.setProgress()}completeInterval(){this.clearInterval(),this.maximizeProgress();const o=setTimeout(()=>{this.emit(!1)},r.COMPLETE_DELAY);this.removeTimoutListener=()=>clearTimeout(o)}increaseProgress(o=1){this.progress!==this.MAX_NOT_COMPLETED_PROGRESS&&(this.progress+o>100?this.progress=100:this.progress+=o)}maximizeProgress(){this.progress=100}resetProgress(){this.progress=1}emit(o){this.status$.next(new n(o,this.progress))}setProgress(){this.intervalHandle=setInterval(()=>{this.status$.next(new n(!0,this.progress)),this.completed&&(this.progressStep+=100),this.progress>30&&!this.completed&&(this.progressStep*=.9),this.progress>50&&!this.completed&&(this.progressStep*=.9),this.progress>70&&!this.completed&&(this.progressStep*=.9),this.progress>98&&this.completed&&this.completeInterval(),this.increaseProgress(this.progressStep)},r.TICK_TIME)}clearInterval(){void 0!==this.intervalHandle&&(clearInterval(this.intervalHandle),this.intervalHandle=void 0)}}return r.TICK_TIME=300,r.COMPLETE_DELAY=500,r.DEFAULT_PROGRESS_STEP=1,r.\u0275fac=function(o){return new(o||r)},r.\u0275prov=s.Yz7({token:r,factory:r.\u0275fac}),r})()},69001:(S,g,e)=>{"use strict";e.d(g,{_:()=>r});var t=e(97433),n=e(62546),s=e(84046);const i=["*"];let r=(()=>{class a extends n.H{constructor(d,h){super(d,h)}ngOnChanges(d){d.configuration&&!d.configuration.firstChange&&d.configuration.currentValue&&this.updateHostStyles()}ngOnInit(){this.elementRef.nativeElement.id||this.domManipulator.setHostAttribute("id","sp-circle-loader"),this.configuration||this.setDefaultConfiguration(),this.updateHostStyles()}getHostClasses(){return["sp-circle-loader","sp-relative","sp-flex","sp-items-center","sp-justify-center"]}setDefaultConfiguration(){this.configuration=(new t.y.Builder).build()}updateHostStyles(){this.toggleAnimation(),this.toggleDefaultSize()}toggleDefaultSize(){this.configuration.getIsDefaultSize()?this.domManipulator.addHostClass(a.DEFAULT_SIZE_CLASS):this.domManipulator.removeHostClass(a.DEFAULT_SIZE_CLASS)}toggleAnimation(){this.configuration.getIsAnimated()?this.domManipulator.addHostClass(a.ANIMATION_CLASS):this.domManipulator.removeHostClass(a.ANIMATION_CLASS)}}return a.ANIMATION_CLASS="sp-circle-loader--is-animation",a.DEFAULT_SIZE_CLASS="sp-circle-loader--is-default-size",a.\u0275fac=function(d){return new(d||a)(s.Y36(s.SBq),s.Y36(s.Qsj))},a.\u0275cmp=s.Xpm({type:a,selectors:[["sp-circle-loader"]],inputs:{configuration:"configuration"},features:[s.qOj,s.TTD],ngContentSelectors:i,decls:3,vars:3,consts:[["viewBox","0 0 50 50",1,"sp-circle-loader__circular","sp-w-full","sp-h-full","sp-absolute","sp-top-0","sp-left-0"],["cx","25","cy","25","r","23",1,"sp-circle-loader__circular-path"]],template:function(d,h){1&d&&(s.F$t(),s.O4$(),s.TgZ(0,"svg",0),s._UZ(1,"circle",1),s.qZA(),s.Hsn(2)),2&d&&(s.xp6(1),s.uIk("fill",h.configuration.getFill())("stroke",h.configuration.getStrokeColor())("stroke-width",h.configuration.getStrokeWidth()))},styles:[".sp-circle-loader__circular{transform-origin:center center}.sp-circle-loader__circular-path{stroke-dasharray:150,200;stroke-linecap:round}.sp-circle-loader--is-animation .sp-circle-loader__circular{animation:sp-circle-loader-rotate 2s linear infinite}.sp-circle-loader--is-animation .sp-circle-loader__circular-path{stroke-dashoffset:-10;animation:sp-circle-loader-dash 1.5s ease-in-out infinite}.sp-circle-loader--is-default-size{width:150px;height:150px}@keyframes sp-circle-loader-rotate{to{transform:rotate(360deg)}}@keyframes sp-circle-loader-dash{0%{stroke-dasharray:1,200;stroke-dashoffset:0}50%{stroke-dasharray:89,200;stroke-dashoffset:-35}to{stroke-dasharray:89,200;stroke-dashoffset:-142}}\n"],encapsulation:2,changeDetection:0}),a})()},97433:(S,g,e)=>{"use strict";e.d(g,{y:()=>n});var t=e(85105);let n=(()=>{class s{constructor(){}getFill(){return this.fill}getStrokeColor(){return this.strokeColor}getStrokeWidth(){return this.strokeWidth}getIsAnimated(){return this.isAnimated}getIsDefaultSize(){return this.isDefaultSize}}return s.Builder=class extends t.I{constructor(){super(...arguments),this.fill="none",this.strokeColor="var(--primary)",this.strokeWidth=2,this.isAnimated=!0,this.isDefaultSize=!0}build(){const r=new s;return r.fill=this.fill,r.strokeColor=this.strokeColor,r.strokeWidth=this.strokeWidth,r.isAnimated=this.isAnimated,r.isDefaultSize=this.isDefaultSize,r}withFill(r){return this.fill=r,this}withStrokeColor(r){return this.strokeColor=r,this}withStrokeWidth(r){return this.strokeWidth=r,this}withAnimation(r){return this.isAnimated=r,this}withDefaultSize(r){return this.isDefaultSize=r,this}},s})()},12002:(S,g,e)=>{"use strict";e.d(g,{K:()=>n});var t=e(84046);let n=(()=>{class s{}return s.\u0275fac=function(r){return new(r||s)},s.\u0275mod=t.oAB({type:s}),s.\u0275inj=t.cJS({}),s})()},88768:(S,g,e)=>{"use strict";e.d(g,{Q:()=>a});var t=e(49549),n=e(62546),s=e(84046),i=e(29841);let r=(()=>{class o extends n.H{constructor(h,p,f){super(h,p),this.digitalCounterService=f,this.digit=0}ngOnChanges(h){h.digit&&"number"==typeof h.digit.currentValue&&(this.animateDigit(),this.addAttributeValueForSequence())}ngOnInit(){this.setSequence(),this.animateDigit(),this.addAttributeValueForSequence()}getHostClasses(){return["sp-digital-counter-sequence","sp-block","sp-w-2"]}setSequence(){this.sequence=this.digitalCounterService.getSequence()}animateDigit(){const h=this.digitalCounterService.calculateSequencePositionForDigit(this.digit);this.moveSequenceVertically(h)}moveSequenceVertically(h){this.domManipulator.addHostStyle("transform",`translate3d(0, ${h}%, 0)`)}addAttributeValueForSequence(){this.domManipulator.setHostAttribute(o.ATTRIBUTE_SEQUENCE_NAME,String(this.digit))}}return o.ATTRIBUTE_SEQUENCE_NAME="digit",o.\u0275fac=function(h){return new(h||o)(s.Y36(s.SBq),s.Y36(s.Qsj),s.Y36(i.C))},o.\u0275cmp=s.Xpm({type:o,selectors:[["sp-digital-counter-sequence"]],inputs:{digit:"digit"},features:[s.qOj,s.TTD],decls:1,vars:1,template:function(h,p){1&h&&s._uU(0),2&h&&s.hij("",p.sequence,"\n")},styles:[".sp-digital-counter-sequence{transition-property:transform,opacity;transition-duration:.3s;transition-timing-function:cubic-bezier(.86,0,.07,1)}\n"],encapsulation:2,changeDetection:0}),o})(),a=(()=>{class o extends n.H{constructor(h,p,f,m){super(h,p),this.digitalCounterService=f,this.changeDetectorRef=m,this.animationDelay=0,this.unitsDigit=0,this.tensDigit=0,this.hundredsDigit=0,this.isHundredsSequenceVisible=!1,this.isTensSequenceVisible=!1}ngOnChanges(h){h.value&&h.value.currentValue&&this.executeAnimation(),h.counterColor&&this.setCounterColor()}ngOnInit(){this.setCounterColor()}getHostClasses(){return["sp-digital-counter","sp-flex","sp-h-4","sp-font-bold","sp-text-center","sp-text-l","sp-overflow-hidden"]}setCounterColor(){this.counterColor?this.domManipulator.addHostStyle("color",this.counterColor):this.domManipulator.addHostClass("sp-text-primary")}executeAnimation(){this.animationTimer$&&this.resetAnimationTimer(),this.changeNumbersInCounterAfterDelay()}resetAnimationTimer(){this.animationTimer$.unsubscribe(),this.animationTimer$=null}changeNumbersInCounterAfterDelay(){(0,t.H)(this.animationDelay).pipe(this.takeUntilDestroy()).subscribe(()=>{this.setDigits(this.value),this.setSequenceVisibility(),this.changeDetectorRef.detectChanges()})}setDigits(h){const p=this.digitalCounterService.getDigitalCounterPlaces(h);this.unitsDigit=p.digitAt(2),this.tensDigit=p.digitAt(1),this.hundredsDigit=p.digitAt(0)}setSequenceVisibility(){this.isHundredsSequenceVisible=0!==this.hundredsDigit,this.isTensSequenceVisible=0!==this.tensDigit||this.isHundredsSequenceVisible}}return o.\u0275fac=function(h){return new(h||o)(s.Y36(s.SBq),s.Y36(s.Qsj),s.Y36(i.C),s.Y36(s.sBO))},o.\u0275cmp=s.Xpm({type:o,selectors:[["sp-digital-counter"]],inputs:{value:"value",animationDelay:"animationDelay",counterColor:"counterColor"},features:[s.qOj,s.TTD],decls:5,vars:7,consts:[[3,"digit"],[1,"sp-digital-counter__sequence--last",3,"digit"],[1,"sp-text-base"]],template:function(h,p){1&h&&(s._UZ(0,"sp-digital-counter-sequence",0),s._UZ(1,"sp-digital-counter-sequence",0),s._UZ(2,"sp-digital-counter-sequence",1),s.TgZ(3,"span",2),s._uU(4,"%"),s.qZA()),2&h&&(s.ekj("sp-opacity-0",!p.isHundredsSequenceVisible),s.Q6J("digit",p.hundredsDigit),s.xp6(1),s.ekj("sp-opacity-0",!p.isTensSequenceVisible),s.Q6J("digit",p.tensDigit),s.xp6(1),s.Q6J("digit",p.unitsDigit))},directives:[r],styles:[".sp-digital-counter{line-height:1}.sp-digital-counter__sequence--last{transition-delay:.1s}\n"],encapsulation:2,changeDetection:0}),o})()},82263:(S,g,e)=>{"use strict";e.d(g,{Z:()=>i});var t=e(55331),n=e(29841),s=e(84046);let i=(()=>{class r{static forRoot(){return{ngModule:r,providers:[n.C]}}}return r.\u0275fac=function(o){return new(o||r)},r.\u0275mod=s.oAB({type:r}),r.\u0275inj=s.cJS({imports:[[t.ez]]}),r})()},29841:(S,g,e)=>{"use strict";e.d(g,{C:()=>s});class t{constructor(r){this.digits=r}digitAt(r){if(r>this.digits.length-1)throw new Error("Index cannot be greater then array length");return this.digits[r]}}var n=e(84046);let s=(()=>{class i{getDigitalCounterPlaces(a){if(a>i.MAX_HUNDREDS_DIGIT)throw new Error("Value cannot be greater than 999");const o=Array.from(String(a).padStart(i.COUNT_OF_DIGITS,"0"),Number);return new t(o)}calculateSequencePositionForDigit(a){return-a*i.DIGIT_HEIGHT}getSequence(){return[0,1,2,3,4,5,6,7,8,9].join("\n")}}return i.DIGIT_HEIGHT=100,i.COUNT_OF_DIGITS=3,i.MAX_HUNDREDS_DIGIT=999,i.\u0275fac=function(a){return new(a||i)},i.\u0275prov=n.Yz7({token:i,factory:i.\u0275fac}),i})()},41004:(S,g,e)=>{"use strict";e.d(g,{H:()=>o});var t=e(84046),n=e(19327),s=e(43070),i=e(26420),r=e(71118);const a=["*"];let o=(()=>{class d{constructor(p,f){this.renderer=p,this.lozengeTypeConverter=f}set subtle(p){this.isSubtle=r.l.isEmptyString(p)}set solid(p){this.isSolid=r.l.isEmptyString(p)}set newLabel(p){this.newLabelElementRef=p}ngOnChanges(p){if(p.color){let f;f=p.color.currentValue instanceof n.I?p.color.currentValue:this.color?n.B[this.color.toString().toUpperCase()]:void 0,f||(f=n.B.GRAY),this.setColors(f)}else if(p.type){const f=this.lozengeTypeConverter.convertTypeToColor(this.type);this.setColors(f)}(p.textColor||p.backgroundColor)&&this.setStyles(this.backgroundColor,this.textColor),p.additionalClass&&(p.additionalClass.previousValue&&this.renderer.removeClass(this.newLabelElementRef.nativeElement,p.additionalClass.previousValue),p.additionalClass.currentValue&&p.additionalClass.currentValue.length&&this.renderer.addClass(this.newLabelElementRef.nativeElement,this.additionalClass))}setColors(p){p&&this.isSubtle?this.setStyles(p.subtleBackgroundStyle,p.subtleColorStyle):p&&this.isSolid?this.setStyles(n.B.WHITE.backgroundStyle,p.subtleColorStyle):p&&this.setStyles(p.backgroundStyle,p.colorStyle),this.colorCssClass&&this.renderer.removeClass(this.newLabelElementRef.nativeElement,this.colorCssClass),this.renderer.addClass(this.newLabelElementRef.nativeElement,p.cssClass),this.colorCssClass=p.cssClass}setStyles(p,f){const m=this.newLabelElementRef.nativeElement;this.renderer.setStyle(m,"background-color",p),this.renderer.setStyle(m,"color",f)}}return d.\u0275fac=function(p){return new(p||d)(t.Y36(t.Qsj),t.Y36(s.L))},d.\u0275cmp=t.Xpm({type:d,selectors:[["sp-lozenge"]],viewQuery:function(p,f){if(1&p&&t.Gf(i.Z,7,t.SBq),2&p){let m;t.iGM(m=t.CRH())&&(f.newLabel=m.first)}},inputs:{subtle:"subtle",solid:"solid",color:"color",textColor:"textColor",backgroundColor:"backgroundColor",type:"type",additionalClass:"additionalClass"},features:[t.TTD],ngContentSelectors:a,decls:2,vars:1,consts:[[3,"lozenge"]],template:function(p,f){1&p&&(t.F$t(),t.TgZ(0,"sp-tag",0),t.Hsn(1),t.qZA()),2&p&&t.Q6J("lozenge",!0)},directives:[i.Z],styles:["[_nghost-%COMP%]{line-height:1}"]}),d})()},58111:(S,g,e)=>{"use strict";e.d(g,{c:()=>s});var t=e(41004),n=e(84046);let s=(()=>{class i{constructor(a,o,d){this.elementRef=a,this.renderer=o,this.lozengeComponent=d,this.spLozengeIcon="",this.lozengeIconClass="sp-lozenge-icon",this.parentWrapperClass="sp-lozenge-with-icon"}ngOnChanges(a){a.spLozengeIcon&&(this.removeIcon(),this.addIcon())}addIcon(){if(!this.spLozengeIcon)return;const a=this.renderer.createElement("div"),o=this.renderer.createElement("i");this.renderer.addClass(a,this.lozengeIconClass),this.renderer.addClass(a,"sp-lozenge"),this.renderer.addClass(a,`sp-lozenge-${this.lozengeComponent.type.toLowerCase()}`),this.renderer.addClass(o,"fa"),this.renderer.addClass(o,`fa-${this.spLozengeIcon}`),this.renderer.addClass(this.elementRef.nativeElement,this.parentWrapperClass);const d=this.elementRef.nativeElement;this.renderer.appendChild(a,o),this.renderer.appendChild(d,a),this.currentLozengeIcon=a}removeIcon(){this.currentLozengeIcon&&(this.renderer.removeChild(this.elementRef.nativeElement,this.currentLozengeIcon),this.renderer.removeClass(this.elementRef.nativeElement,this.parentWrapperClass))}}return i.\u0275fac=function(a){return new(a||i)(n.Y36(n.SBq),n.Y36(n.Qsj),n.Y36(t.H,2))},i.\u0275dir=n.lG2({type:i,selectors:[["","spLozengeIcon",""]],inputs:{spLozengeIcon:"spLozengeIcon"},features:[n.TTD]}),i})()},79047:(S,g,e)=>{"use strict";e.d(g,{C:()=>h});var t=e(55331),n=e(96554),r=(e(41004),e(58111),e(43070)),a=e(55925),o=e(84046);let h=(()=>{class p{}return p.\u0275fac=function(m){return new(m||p)},p.\u0275mod=o.oAB({type:p}),p.\u0275inj=o.cJS({providers:[r.L],imports:[[t.ez,a.W,n.gF.forStyle(e.e(7283).then(e.t.bind(e,77283,17)))]]}),p})()},43070:(S,g,e)=>{"use strict";e.d(g,{L:()=>s});var t=e(19327),n=e(84046);let s=(()=>{class i{constructor(){this.colors={default:t.B.MEDIUM_GRAY,success:t.B.GREEN,successful:t.B.GREEN,error:t.B.RED,failed:t.B.RED,current:t.B.YELLOW,complete:t.B.GREEN,moved:t.B.SLATE,open:t.B.SLATE,new:t.B.MEDIUM_GRAY,reopened:t.B.SLATE,todo:t.B.SLATE,resolved:t.B.GREEN,inprogress:t.B.BLUE,closed:t.B.GREEN,done:t.B.GREEN,loaded:t.B.CHEETO_ORANGE,overloaded:t.B.RED,underloaded:t.B.GREEN,indeterminate:t.B.BLUE}}convertTypeToColor(a){if(!a)return this.colors.default;const o=`${a}`.toLowerCase().replace(" ","");return this.colors[o]?this.colors[o]:this.colors.default}}return i.\u0275fac=function(a){return new(a||i)},i.\u0275prov=n.Yz7({token:i,factory:i.\u0275fac}),i})()},80434:(S,g,e)=>{"use strict";e.d(g,{r:()=>t});var t=(()=>{return(n=t||(t={})).OVERVIEW="o",n.GANTT="g",n.SCOPE="s",n.BOARD="b",n.OBJECTIVES="ob",n.RESOURCES="re",n.RISK="ri",n.CALENDAR="c",n.REPORTS="rp",n.TEAMS="t",n.CONFIGURATION="settings",t;var n})()},26463:(S,g,e)=>{"use strict";e.d(g,{k:()=>s});var t=e(84046),n=e(17314);let s=(()=>{class i{constructor(a,o,d){this.elementRef=a,this.renderer=o,this.window=d,this.clicked=new t.vpe,this.viewRendered=!1,this.attachURL=h=>{h.length>0&&(this.elementRef.nativeElement.href=h)},this.attachClickEvent=()=>{const h=this.elementRef.nativeElement;this.removeClickListener&&this.removeClickListener(),this.removeClickListener=this.renderer.listen(h,"click",p=>{this.url(),p.stopPropagation(),this.clicked.next()})},this.attachClickEventFromObject=()=>{const h=this.elementRef.nativeElement;this.removeClickListener&&this.removeClickListener(),this.removeClickListener=this.renderer.listen(h,"click",p=>{this.url.eventPreventDefault&&p.preventDefault(),p.stopPropagation(),p.metaKey&&this.url.href?this.window.open(this.url.href,"_blank"):(this.url.navigation(),this.clicked.next())})}}ngOnChanges(a){a.url&&this.viewRendered&&this.setNavigationPropertyOnNativeElement()}ngAfterViewInit(){this.viewRendered=!0,this.url&&this.setNavigationPropertyOnNativeElement()}ngOnDestroy(){this.removeClickListener&&this.removeClickListener()}setNavigationPropertyOnNativeElement(){"string"==typeof this.url&&0!==this.url.length?this.attachURL(this.url):"function"==typeof this.url?this.attachClickEvent():"object"==typeof this.url?(this.attachURL(this.url.href),this.attachClickEventFromObject()):this.removeUrl()}removeUrl(){this.elementRef.nativeElement.removeAttribute("href"),this.removeClickListener&&this.removeClickListener()}}return i.\u0275fac=function(a){return new(a||i)(t.Y36(t.SBq),t.Y36(t.Qsj),t.Y36(n.m))},i.\u0275dir=t.lG2({type:i,selectors:[["a","spNavigationLink",""]],inputs:{url:["spNavigationLink","url"]},outputs:{clicked:"clicked"},features:[t.TTD]}),i})()},51805:(S,g,e)=>{"use strict";e.d(g,{$:()=>s});var t=e(55331),n=e(84046);let s=(()=>{class i{}return i.\u0275fac=function(a){return new(a||i)},i.\u0275mod=n.oAB({type:i}),i.\u0275inj=n.cJS({imports:[[t.ez]]}),i})()},73455:(S,g,e)=>{"use strict";e.d(g,{M:()=>t});class t{}},37752:(S,g,e)=>{"use strict";e.d(g,{E:()=>E});var t=e(84046),n=e(18840),s=e(70822),r=(e(83941),e(71118)),a=e(62546),o=e(55331),d=e(98310),h=e(65799);const p=["componentOutlet"],f=["config",""];function m(C,T){if(1&C&&(t.ynx(0),t._uU(1),t.BQk()),2&C){const y=t.oxw();t.xp6(1),t.hij(" ",y.stringText," ")}}function v(C,T){if(1&C&&(t._UZ(0,"transloco",4),t.ALo(1,"spL10nText")),2&C){const y=t.oxw();t.Q6J("key",y.resolvePreWrapText(t.xi3(1,2,y.messageKey,y.messageParams)))("params",y.messageParams)}}let E=(()=>{class C extends a.H{constructor(y,I,P){super(I,P),this.componentFactoryResolver=y,this.component$=new n.X(null)}ngOnChanges(y){y.config&&y.config.currentValue&&this.setVariables()}ngAfterViewInit(){this.component$.pipe((0,s.h)(Boolean),this.takeUntilDestroy()).subscribe(y=>{this.createDynamicComponent(y)})}finalize(){this.destroyDynamicComponent()}resolvePreWrapText(y){return r.l.isDefined(y)&&y.includes("\n")&&this.domManipulator.addHostClass("sp-whitespace-pre-wrap"),y||""}setVariables(){this.destroyDynamicComponent();const y=this.config.getCssClasses().orElse(null);null!==y&&this.domManipulator.addHostClass(...y),this.configKind=this.config.getConfigKind(),this.stringText=this.config.getString().orElse(null),this.messageKey=this.config.getMessageKey().orElse(null),this.messageParams=this.config.getMessageParams().orElse({}),this.componentInjector=this.config.getComponentInjector().orElse(null),this.componentParams=this.config.getComponentParams().orElse({}),this.component$.next(this.config.getComponent().orElse(null))}createDynamicComponent(y){this.componentOutlet.clear();const I=this.componentFactoryResolver.resolveComponentFactory(y);this.componentRef=this.componentOutlet.createComponent(I,null,this.componentInjector),Object.entries(this.componentParams).forEach(([P,L])=>{this.componentRef.instance[P]=L}),this.callDynamicComponentOnChanges(this.componentRef.instance,this.componentParams),this.componentRef.changeDetectorRef.detectChanges()}destroyDynamicComponent(){this.componentRef&&this.componentRef.destroy()}callDynamicComponentOnChanges(y,I){if(y&&"function"==typeof y.ngOnChanges){const P=Object.entries(I).reduce((L,[F,b])=>Object.assign(Object.assign({},L),{[F]:{firstChange:!0,previousValue:void 0,currentValue:b}}),{});y.ngOnChanges(P)}}}return C.\u0275fac=function(y){return new(y||C)(t.Y36(t._Vd),t.Y36(t.SBq),t.Y36(t.Qsj))},C.\u0275cmp=t.Xpm({type:C,selectors:[["sp-rich-text","config",""]],viewQuery:function(y,I){if(1&y&&t.Gf(p,5,t.s_b),2&y){let P;t.iGM(P=t.CRH())&&(I.componentOutlet=P.first)}},inputs:{config:"config"},features:[t.qOj,t.TTD],attrs:f,decls:5,vars:3,consts:[[3,"ngSwitch"],[4,"ngSwitchCase"],[3,"key","params",4,"ngSwitchCase"],["componentOutlet",""],[3,"key","params"]],template:function(y,I){1&y&&(t.ynx(0,0),t.YNc(1,m,2,1,"ng-container",1),t.YNc(2,v,2,5,"transloco",2),t.GkF(3,null,3),t.BQk()),2&y&&(t.Q6J("ngSwitch",I.configKind),t.xp6(1),t.Q6J("ngSwitchCase","string"),t.xp6(1),t.Q6J("ngSwitchCase","i18n"))},directives:[o.RF,o.n9,d.JC],pipes:[h.L],styles:["li.sp-transloco-markup{list-style-type:disc;list-style-position:inside}b.sp-transloco-markup{font-weight:bold}i.sp-transloco-markup{font-style:italic}\n"],encapsulation:2,changeDetection:0}),C})()},26566:(S,g,e)=>{"use strict";e.d(g,{n:()=>P});var t=e(55331),n=e(41001),s=e(14301),i=(()=>((i||(i={})).DEFAULT="sp-transloco-markup",i))(),r=e(98310),a=e(84046);let o=(()=>{class L{constructor(b){this.document=b}createElementRenderer(b,x,B){const M=this.document;return function(K){const k=M.createElement(b);k.classList.add(x);for(const G of B||[])k.appendChild(G(K));return k}}}return L.\u0275fac=function(b){return new(b||L)(a.LFG(t.K0))},L.\u0275prov=a.Yz7({token:L,factory:L.\u0275fac}),L})(),d=(()=>{class L extends r.xb{constructor(b){super(s.X.BOLD_START,s.X.BOLD_END),this.rendererFactory=b}createRenderer(b){return this.rendererFactory.createElementRenderer("b",i.DEFAULT,b)}}return L.\u0275fac=function(b){return new(b||L)(a.LFG(o))},L.\u0275prov=a.Yz7({token:L,factory:L.\u0275fac}),L})(),h=(()=>{class L extends r.xb{constructor(b){super(s.X.ITALIC_START,s.X.ITALIC_END),this.rendererFactory=b}createRenderer(b){return this.rendererFactory.createElementRenderer("i",i.DEFAULT,b)}}return L.\u0275fac=function(b){return new(b||L)(a.LFG(o))},L.\u0275prov=a.Yz7({token:L,factory:L.\u0275fac}),L})(),p=(()=>{class L extends r.xb{constructor(b){super(s.X.LIST_ITEM_START,s.X.LIST_ITEM_END),this.rendererFactory=b}createRenderer(b){return this.rendererFactory.createElementRenderer("li",i.DEFAULT,b)}}return L.\u0275fac=function(b){return new(b||L)(a.LFG(o))},L.\u0275prov=a.Yz7({token:L,factory:L.\u0275fac}),L})();const m=[(0,r.aF)((()=>{class L extends r.xb{constructor(b){super(s.X.UNORDERED_LIST_START,s.X.UNORDERED_LIST_END),this.rendererFactory=b}createRenderer(b){return this.rendererFactory.createElementRenderer("ul",i.DEFAULT,b)}}return L.\u0275fac=function(b){return new(b||L)(a.LFG(o))},L.\u0275prov=a.Yz7({token:L,factory:L.\u0275fac}),L})()),(0,r.aF)(p),(0,r.aF)(d),(0,r.aF)(h)];let v=(()=>{class L{}return L.\u0275fac=function(b){return new(b||L)},L.\u0275mod=a.oAB({type:L}),L.\u0275inj=a.cJS({providers:[o,m,(0,r.tV)()],imports:[[t.ez,r.Pk],r.Pk]}),L})();e(55010),e(18217),e(94944);e(37752);let P=(()=>{class L{}return L.\u0275fac=function(b){return new(b||L)},L.\u0275mod=a.oAB({type:L}),L.\u0275inj=a.cJS({imports:[[t.ez,n.J,v]]}),L})()},83941:(S,g,e)=>{"use strict";e.d(g,{H:()=>n});var t=e(66795);class n{constructor(i){this.config=i}static string(i){return new n({kind:"string",stringText:i})}static i18n(i,r,a){return r?r.nl="\n":r={nl:"\n"},new n({kind:"i18n",messageKey:i,messageParams:r,cssClasses:a})}static component(i,r,a,o){return new n({kind:"component",component:i,injector:a,params:r,toStringResult:o})}getConfigKind(){return this.config.kind}getString(){return"string"===this.config.kind?t.bq.ofNullable(this.config.stringText):t.bq.empty()}getMessageKey(){return"i18n"===this.config.kind?t.bq.ofNullable(this.config.messageKey):t.bq.empty()}getMessageParams(){return"i18n"===this.config.kind?t.bq.ofNullable(this.config.messageParams):t.bq.empty()}getCssClasses(){return"i18n"===this.config.kind?t.bq.ofNullable(this.config.cssClasses):t.bq.empty()}getComponent(){return"component"===this.config.kind?t.bq.ofNullable(this.config.component):t.bq.empty()}getComponentInjector(){return"component"===this.config.kind?t.bq.ofNullable(this.config.injector):t.bq.empty()}getComponentParams(){return"component"===this.config.kind?t.bq.ofNullable(this.config.params):t.bq.empty()}clone(){return new n(Object.assign({},this.config))}toString(){switch(this.config.kind){case"string":return this.config.stringText||"";case"i18n":return this.config.messageKey||"";case"component":return this.config.toStringResult||"";default:throw new Error("Unhandled RichTextConfig kind")}}isEmpty(){switch(this.config.kind){case"string":return!this.config.stringText||this.config.stringText&&!this.config.stringText.trim();case"i18n":return!this.config.messageKey;case"component":return!this.config.component;default:throw new Error("Unhandled RichTextConfig kind")}}}},55010:(S,g,e)=>{"use strict";e.d(g,{$:()=>s});var t=e(83941),n=e(84046);let s=(()=>{class i{transform(a,o){return t.H.component(a,o)}}return i.\u0275fac=function(a){return new(a||i)},i.\u0275pipe=n.Yjl({name:"spRichTextComponent",type:i,pure:!0}),i})()},18217:(S,g,e)=>{"use strict";e.d(g,{d:()=>s});var t=e(83941),n=e(84046);let s=(()=>{class i{transform(a,o,d){return t.H.i18n(a,o,d)}}return i.\u0275fac=function(a){return new(a||i)},i.\u0275pipe=n.Yjl({name:"spRichTextI18n",type:i,pure:!0}),i})()},94944:(S,g,e)=>{"use strict";e.d(g,{C:()=>s});var t=e(83941),n=e(84046);let s=(()=>{class i{transform(a){return t.H.string(`${a}`)}}return i.\u0275fac=function(a){return new(a||i)},i.\u0275pipe=n.Yjl({name:"spRichTextString",type:i,pure:!0}),i})()},26420:(S,g,e)=>{"use strict";e.d(g,{Z:()=>o});var t=e(84046),n=e(6597),s=e(71118),i=e(55331);function r(d,h){if(1&d){const p=t.EpF();t.TgZ(0,"span",1),t.NdJ("mouseenter",function(){return t.CHM(p),t.oxw().isRemoving=!0})("mouseleave",function(){return t.CHM(p),t.oxw().isRemoving=!1})("click",function(){t.CHM(p);const m=t.oxw();return m.removed.emit(m.removeId)}),t._UZ(1,"i",2),t.qZA()}}const a=["*"];let o=(()=>{class d extends n.k{constructor(){super(...arguments),this.spTag=!0,this.isLozenge=!1,this.isLink=!1,this.isRemove=!1,this.isRemoving=!1,this.isLight=!1,this.removed=new t.vpe}set light(p){this.isLight=s.l.getBooleanFromInput(p)}set lozenge(p){this.isLozenge=s.l.getBooleanFromInput(p)}set link(p){this.isLink=s.l.getBooleanFromInput(p)}set remove(p){this.isRemove=s.l.getBooleanFromInput(p)}}return d.\u0275fac=function(){let h;return function(f){return(h||(h=t.n5z(d)))(f||d)}}(),d.\u0275cmp=t.Xpm({type:d,selectors:[["sp-tag"]],hostVars:26,hostBindings:function(p,f){2&p&&t.ekj("sp-tag",f.spTag)("sp-tag-subtle",f.isSubtle)("sp-tag-primary",f.isPrimary)("sp-tag-secondary",f.isSecondary)("sp-tag-info",f.isInfo)("sp-tag-success",f.isSuccess)("sp-tag-warning",f.isWarning)("sp-tag-error",f.isError)("sp-lozenge",f.isLozenge)("sp-link",f.isLink)("sp-remove",f.isRemove)("sp-removing",f.isRemoving)("light",f.isLight)},inputs:{light:"light",lozenge:"lozenge",link:"link",remove:"remove",removeId:"removeId"},outputs:{removed:"removed"},features:[t.qOj],ngContentSelectors:a,decls:2,vars:1,consts:[["class","sp-tag-remove-icon sp-ml-1",3,"mouseenter","mouseleave","click",4,"ngIf"],[1,"sp-tag-remove-icon","sp-ml-1",3,"mouseenter","mouseleave","click"],["aria-hidden","true",1,"fa","fa-times"]],template:function(p,f){1&p&&(t.F$t(),t.Hsn(0),t.YNc(1,r,2,0,"span",0)),2&p&&(t.xp6(1),t.Q6J("ngIf",f.isRemove))},directives:[i.O5],encapsulation:2,changeDetection:0}),d})()},55925:(S,g,e)=>{"use strict";e.d(g,{W:()=>r});var t=e(55331),s=(e(26420),e(84046));let r=(()=>{class a{}return a.\u0275fac=function(d){return new(d||a)},a.\u0275mod=s.oAB({type:a}),a.\u0275inj=s.cJS({imports:[[t.ez]]}),a})()},32235:(S,g,e)=>{"use strict";e.d(g,{_:()=>r});var t=e(84046),n=e(70822),s=e(62546),i=e(42714);let r=(()=>{class a extends s.H{constructor(d,h,p){super(d,h),this.outsideClicksWatcher=p,this.clickOutside=new t.vpe,this.disabled=!1}ngOnInit(){this.outsideClicksWatcher.watchForClicksOutside(this.elementRef.nativeElement,{customElemComparer:this.customElemComparer}).pipe((0,n.h)(()=>!this.disabled),this.takeUntilDestroy()).subscribe(d=>this.clickOutside.emit(d))}}return a.\u0275fac=function(d){return new(d||a)(t.Y36(t.SBq),t.Y36(t.Qsj),t.Y36(i.x))},a.\u0275dir=t.lG2({type:a,selectors:[["","sp-click-outside",""]],inputs:{disabled:["spClickOutsideDisabled","disabled"],customElemComparer:["spClickOutsideCustomElemComparer","customElemComparer"]},outputs:{clickOutside:"sp-click-outside"},features:[t.qOj]}),a})()},74647:(S,g,e)=>{"use strict";e.d(g,{w:()=>i});var t=e(42714),n=e(90921),s=e(84046);let i=(()=>{class r{static forRoot(){return{ngModule:r,providers:[t.x,n.C]}}}return r.\u0275fac=function(o){return new(o||r)},r.\u0275mod=s.oAB({type:r}),r.\u0275inj=s.cJS({}),r})()},6397:(S,g,e)=>{"use strict";e.d(g,{$:()=>h});var t=e(32731),n=e(73197),s=e(53339),i=e(38009),r=e(35811),a=e(54561),o=e(98274),d=e(71118);let h=(()=>{class p extends t.y{constructor(m,v,E){super(),this.target=m,this.document=v,this.config=E,this.source=this.createObservable()}static markAsOriginatedFromTarget(m){m.originatedFromTarget=!0}static originatedFromTarget(m){return m.originatedFromTarget||!1}setConfig(m){this.config=m}createObservable(){return new t.y(m=>{m.add(this.subscribeToTargetClick()).add(this.subscribeToDocumentClick(m))})}subscribeToTargetClick(){return this.observeEvent(this.target).subscribe(p.markAsOriginatedFromTarget)}subscribeToDocumentClick(m){return this.observeEvent(this.document).subscribe(v=>{try{this.isClickOutside(v)&&m.next(v)}catch(E){m.error(E)}})}observeEvent(m){const v=(0,n.R)(m,"click"),E=(0,n.R)(m,"mousedown"),C=(0,n.R)(m,"touchstart").pipe((0,r.R)((0,s.of)(null).pipe((0,a.g)(p.LONG_TOUCH))),(0,o.w)(()=>(0,n.R)(m,"touchend")));return(0,i.T)(E,v,C)}isClickOutside(m){var v,E;return!(p.originatedFromTarget(m)||(null===(v=this.config)||void 0===v?void 0:v.ignoredElement)&&this.isIgnored(m.target,null===(E=this.config)||void 0===E?void 0:E.ignoredElement))}isIgnored(m,v){if(v instanceof HTMLElement){const E=v;return m===E||E.contains(m)}if("string"==typeof v){const E=this.document.querySelector(v);return E&&(m===E||E.contains(m))}return d.l.checkUpwards(m,v)}}return p.LONG_TOUCH=500,p})()},42714:(S,g,e)=>{"use strict";e.d(g,{x:()=>v});var t=e(55331),n=e(73197),s=e(53339),i=e(38009),r=e(70822),a=e(35811),o=e(54561),d=e(98274),h=e(71118),p=e(84046),f=e(90921);const m=(E,C)=>E===C;let v=(()=>{class E{constructor(T,y){this.document=T,this.registryOfDetachedElements=y}watchForClicksOutside(T,y){let I=null;return this.observeEvent(this.document).pipe((0,r.h)(P=>{const L=P.target;return(null==I?void 0:I.target)===L||(I={target:L,isClickOutside:this.isClickOutside(L,T,y)}),I.isClickOutside}))}observeEvent(T){const y=(0,n.R)(T,"click"),I=(0,n.R)(T,"mousedown"),L=(0,n.R)(T,"touchstart").pipe((0,a.R)((0,s.of)(null).pipe((0,o.g)(500))),(0,d.w)(()=>(0,n.R)(T,"touchend")));return(0,i.T)(I,y,L)}isClickOutside(T,y,I){return!(this.originatesIn(T,y,(null==I?void 0:I.customElemComparer)||m)||(null==I?void 0:I.ignoredElement)&&this.isIgnored(T,null==I?void 0:I.ignoredElement))}isIgnored(T,y){if(y instanceof HTMLElement){const I=y;return T===I||I.contains(T)}if("string"==typeof y){const I=this.document.querySelector(y);return I&&(T===I||I.contains(T))}return h.l.checkUpwards(T,y)}originatesIn(T,y,I){const P=(L,F)=>{if(I(L,F))return!0;if(this.registryOfDetachedElements.has(L)){const x=this.registryOfDetachedElements.getParentFor(L);return P(x,F)}const b=L.parentElement;return!!b&&P(b,F)};return P(T,y)}}return E.\u0275fac=function(T){return new(T||E)(p.LFG(t.K0),p.LFG(f.C))},E.\u0275prov=p.Yz7({token:E,factory:E.\u0275fac}),E})()},61055:(S,g,e)=>{"use strict";e.d(g,{x:()=>t.x,w:()=>n.w});var t=e(42714),n=e(74647)},55117:(S,g,e)=>{"use strict";e.d(g,{E:()=>n});var t=e(84046);let n=(()=>{class s{onClick(r){r.stopPropagation()}}return s.\u0275fac=function(r){return new(r||s)},s.\u0275dir=t.lG2({type:s,selectors:[["","spClickStopPropagation",""]],hostBindings:function(r,a){1&r&&t.NdJ("click",function(d){return a.onClick(d)})}}),s})()},78492:(S,g,e)=>{"use strict";e.d(g,{f:()=>s});var t=e(55331),n=e(84046);let s=(()=>{class i{}return i.\u0275fac=function(a){return new(a||i)},i.\u0275mod=n.oAB({type:i}),i.\u0275inj=n.cJS({imports:[[t.ez]]}),i})()},51820:(S,g,e)=>{"use strict";e.d(g,{I:()=>i});var t=e(55331),n=e(96827),s=e(84046);let i=(()=>{class r{static forRoot(){return{ngModule:r,providers:[n.Y]}}}return r.\u0275fac=function(o){return new(o||r)},r.\u0275mod=s.oAB({type:r}),r.\u0275inj=s.cJS({imports:[[t.ez]]}),r})()},96827:(S,g,e)=>{"use strict";e.d(g,{Y:()=>o});var t=e(55331),n=e(49549),s=e(62546),i=e(84046);let r=(()=>{class d extends s.H{constructor(p,f){super(p,f)}ngOnInit(){this.domManipulator.setHostAttribute("id","sp-clipboard-copy-message")}getHostClasses(){return["sp-clipboard-copy-message","sp-justify-center","sp-flex","sp-pt-6","sp-fixed","sp-flex","sp-w-full","sp-top-0","sp-left-0"]}}return d.\u0275fac=function(p){return new(p||d)(i.Y36(i.SBq),i.Y36(i.Qsj))},d.\u0275cmp=i.Xpm({type:d,selectors:[["ng-component"]],features:[i.qOj],decls:2,vars:0,consts:[[1,"sp-bg-success","sp-fg-white","sp-py-3","sp-px-6","sp-border-rounded"]],template:function(p,f){1&p&&(i.TgZ(0,"div",0),i._uU(1,"Copied to clipboard!"),i.qZA())},styles:[".sp-clipboard-copy-message{position:fixed;display:flex;width:100%;top:0;left:0;z-index:5001}.sp-clipboard-copy-message>div{text-align:center;animation:fade-out;animation-duration:1s;opacity:0}@keyframes fade-out{0%{opacity:1;transform:scale(1.2)}25%{transform:scale(1.5)}50%{opacity:1;transform:scale(1) rotateX(0);filter:grayscale(0)}to{opacity:0;filter:grayscale(.8)}}\n"],encapsulation:2}),d})();var a=e(45927);let o=(()=>{class d{constructor(p,f,m){this.document=p,this.injector=f,this.componentOutlet=m,this.MESSAGE_DURATION_IN_MS=1e3}copyTextToClipboard(p){navigator.clipboard?navigator.clipboard.writeText(p).catch(()=>{this.fallbackCopyTextToClipboard(p)}):this.fallbackCopyTextToClipboard(p)}showSuccessMessage(){this.createPopup(),(0,n.H)(this.MESSAGE_DURATION_IN_MS).subscribe(()=>{this.destroyPopup()})}createPopup(){this.popupComponentRef=this.componentOutlet.createComponent(r,this.injector)}destroyPopup(){this.popupComponentRef&&this.popupComponentRef.destroy(),this.popupComponentRef=null}fallbackCopyTextToClipboard(p){const f=this.document.createElement("textarea");f.style.position="absolute",f.style.left="-9999px",f.style.top="-9999px",f.value=p,this.document.body.appendChild(f),f.focus(),f.select(),document.execCommand("copy"),this.document.body.removeChild(f)}}return d.\u0275fac=function(p){return new(p||d)(i.LFG(t.K0),i.LFG(i.zs3),i.LFG(a.r))},d.\u0275prov=i.Yz7({token:d,factory:d.\u0275fac}),d})()},31114:(S,g,e)=>{"use strict";e.d(g,{q:()=>t});var t=(()=>{return(n=t||(t={}))[n.DRAG_START=0]="DRAG_START",n[n.DRAG_END=1]="DRAG_END",n[n.DRAG_ENTER=2]="DRAG_ENTER",n[n.DRAG_LEAVE=3]="DRAG_LEAVE",n[n.DROP=4]="DROP",t;var n})()},40344:(S,g,e)=>{"use strict";e.d(g,{_:()=>m});var t=e(55331),n=e(96554),i=(e(38348),e(83097)),r=e(95979),a=e(23533),d=(e(14091),e(97652)),p=(e(93481),e(84046));let m=(()=>{class v{}return v.\u0275fac=function(C){return new(C||v)},v.\u0275mod=p.oAB({type:v}),v.\u0275inj=p.cJS({providers:[i.C,r.T,a.W,d.r],imports:[[t.ez,n.gF.forStyle(e.e(7211).then(e.t.bind(e,47211,17)))]]}),v})()},56709:(S,g,e)=>{"use strict";e.d(g,{h:()=>t});var t=(()=>{return(n=t||(t={})).DRAG_START="sp-drag-start",n.DRAG_ENTER="sp-drag-enter",n.DRAGGABLE_ITEM="sp-draggable-item",n.DROP_ZONE_ENABLED="sp-drop-zone-enabled",n.DROP_ZONE_ACTIVE="sp-drop-zone-active",n.DRAG_CONTAINER="sp-drag-container",n.DRAG_CONTAINER_VISIBLE="sp-drag-container-visible",n.DISABLE_SELECT="sp-select-text-disabled",t;var n})()},23533:(S,g,e)=>{"use strict";e.d(g,{W:()=>i});var t=e(70822),n=e(27609),s=e(84046);let i=(()=>{class r extends n.V{constructor(){super(null)}selectEvent(o){return this.select().pipe((0,t.h)(d=>d===o))}}return r.\u0275fac=function(o){return new(o||r)},r.\u0275prov=s.Yz7({token:r,factory:r.\u0275fac}),r})()},83097:(S,g,e)=>{"use strict";e.d(g,{C:()=>s});var t=e(27609),n=e(84046);let s=(()=>{class i extends t.V{constructor(){super(null)}}return i.\u0275fac=function(a){return new(a||i)},i.\u0275prov=n.Yz7({token:i,factory:i.\u0275fac}),i})()},38348:(S,g,e)=>{"use strict";e.d(g,{w:()=>v});var t=e(55331),n=e(90850),s=e(73197),i=e(35811),r=e(70822),a=e(83097),o=e(31114),d=e(23533),h=e(56709),p=e(97652),f=e(84046),m=e(95979);let v=(()=>{class E{constructor(T,y,I,P,L,F,b){this.ngZone=y,this.document=I,this.storage=P,this.eventsStorage=L,this.stylesService=F,this.dragIgnoreStorage=b,this.dropListener$=new n.xQ,this.drag$=new n.xQ,this.firstDragMove=!0,this.ESC_KEY_CODE=27,this.RIGHT_MOUSE_BUTTON=2,this.MIDDLE_MOUSE_BUTTON=1,this.nativeElement=T.nativeElement}ngOnChanges(T){this.observeDragEnabledStatus(T)}ngOnDestroy(){this.unregisterDragStartListener(),this.unregisterDragListener(!0),this.unregisterDropEventListener()}observeDragEnabledStatus(T){T.dragEnabled&&(this.dragEnabled?(this.registerDragStartListener(),this.stylesService.addClass(this.nativeElement,h.h.DRAGGABLE_ITEM)):(this.unregisterDragStartListener(),this.stylesService.removeClass(this.nativeElement,h.h.DRAGGABLE_ITEM)))}observeDropEvent(){this.eventsStorage.selectEvent(o.q.DROP).pipe((0,i.R)(this.drag$)).subscribe(()=>{this.endDrag()})}registerDragStartListener(){this.ngZone.runOutsideAngular(()=>{this.dragStartListener=(0,s.R)(this.nativeElement,"mousedown").pipe((0,r.h)(T=>T!==this.dragIgnoreStorage.get())).subscribe(T=>{const y=T.button;y===this.RIGHT_MOUSE_BUTTON||y===this.MIDDLE_MOUSE_BUTTON||this.startDrag(T)})})}registerDragListener(){this.ngZone.runOutsideAngular(()=>{(0,s.R)(this.document,"mousemove").pipe((0,i.R)(this.drag$)).subscribe(T=>{this.drag(T)})})}registerDragEndListener(){this.ngZone.runOutsideAngular(()=>{(0,s.R)(this.document,"mouseup").pipe((0,i.R)(this.drag$)).subscribe(()=>{this.endDrag()})})}registerEscKeyUpListener(){this.ngZone.runOutsideAngular(()=>{(0,s.R)(this.document,"keyup").pipe((0,i.R)(this.drag$)).subscribe(T=>{this.endDragOnEscKeyUp(T)})})}unregisterDragStartListener(){this.dragStartListener&&this.dragStartListener.unsubscribe()}unregisterDragListener(T=!1){this.drag$.next(),T&&this.drag$.complete()}unregisterDropEventListener(){this.dropListener$.next(),this.dropListener$.complete()}startDrag(T){T.preventDefault(),this.calculateStartCursorPosition(T),this.saveDataInStorage(),this.registerDragListener(),this.registerDragEndListener(),this.registerEscKeyUpListener(),this.observeDropEvent()}drag(T){this.initDrag(T),this.stylesService.setPosition(this.draggedContainer,this.calculateDraggedElemPosition(T))}endDrag(){this.eventsStorage.set(o.q.DRAG_END),this.unregisterDragListener(),this.removeContainer(),this.clearDragSettings(),this.removeDragStyles()}endDragOnEscKeyUp(T){T.preventDefault(),T.keyCode===this.ESC_KEY_CODE&&this.endDrag()}initDrag(T){!this.firstDragMove||(this.eventsStorage.set(o.q.DRAG_START),this.initContainer(T),this.addDragStyles(),this.firstDragMove=!1)}initContainer(T){this.createContainer(),this.insertContainerInDocumentBody(),this.stylesService.setPosition(this.draggedContainer,this.calculateDraggedElemPosition(T)),this.addContainerStyles()}createContainer(){const T={width:this.nativeElement.offsetWidth,height:this.nativeElement.offsetHeight};this.draggedContainer=this.document.createElement("div"),this.draggedContainer.appendChild(this.cloneNativeElement()),this.stylesService.setDimensions(this.draggedContainer,T)}insertContainerInDocumentBody(){this.document.body.insertBefore(this.draggedContainer,this.document.body.firstChild)}addContainerStyles(){this.stylesService.addClass(this.draggedContainer,h.h.DRAG_CONTAINER),this.stylesService.addClass(this.draggedContainer,h.h.DRAG_CONTAINER_VISIBLE)}addDragStyles(){this.stylesService.addClass(this.nativeElement,h.h.DRAG_START),this.stylesService.addClass(this.document.body,h.h.DISABLE_SELECT)}removeDragStyles(){this.stylesService.removeClass(this.document.body,h.h.DISABLE_SELECT),this.stylesService.removeClass(this.nativeElement,h.h.DRAG_START)}removeContainer(){this.draggedContainer&&this.draggedContainer.parentNode&&this.draggedContainer.parentNode.removeChild(this.draggedContainer)}cloneNativeElement(){return this.nativeElement.cloneNode(!0)}calculateDraggedElemPosition(T){return{top:T.pageY-this.startCursorPosition.top,left:T.pageX-this.startCursorPosition.left}}calculateStartCursorPosition(T){const y=T.clientY-this.nativeElement.getBoundingClientRect().top,I=T.clientX-this.nativeElement.getBoundingClientRect().left;this.startCursorPosition={top:y,left:I}}clearDragSettings(){this.startCursorPosition=null,this.storage.set(null),this.firstDragMove=!0}saveDataInStorage(){this.storage.set(this.dragData)}}return E.\u0275fac=function(T){return new(T||E)(f.Y36(f.SBq),f.Y36(f.R0b),f.Y36(t.K0),f.Y36(a.C),f.Y36(d.W),f.Y36(m.T),f.Y36(p.r))},E.\u0275dir=f.lG2({type:E,selectors:[["","spDrag",""]],inputs:{dragEnabled:["spDrag","dragEnabled"],dragData:["spDragData","dragData"]},features:[f.TTD]}),E})()},95979:(S,g,e)=>{"use strict";e.d(g,{T:()=>n});var t=e(84046);let n=(()=>{class s{constructor(r){this.rendererFactory2=r,this.renderer=r.createRenderer(null,null)}addClass(r,a){this.renderer.addClass(r,a)}removeClass(r,a){this.renderer.removeClass(r,a)}setPosition(r,a){this.renderer.setStyle(r,"transform",`translateY(${a.top}px) translateX(${a.left}px)`)}setDimensions(r,a){this.renderer.setStyle(r,"width",a.width+"px"),this.renderer.setStyle(r,"height",a.height+"px")}}return s.\u0275fac=function(r){return new(r||s)(t.LFG(t.FYo))},s.\u0275prov=t.Yz7({token:s,factory:s.\u0275fac}),s})()},14091:(S,g,e)=>{"use strict";e.d(g,{Q:()=>i});var t=e(97652),n=e(62546),s=e(84046);let i=(()=>{class r extends n.H{constructor(o,d,h){super(o,d),this.dragIgnoreStorage=h}ngOnInit(){this.observeHostMouseDown()}observeHostMouseDown(){this.domManipulator.hostListen("mousedown").pipe(this.takeUntilDestroy()).subscribe(o=>this.dragIgnoreStorage.set(o))}}return r.\u0275fac=function(o){return new(o||r)(s.Y36(s.SBq),s.Y36(s.Qsj),s.Y36(t.r))},r.\u0275dir=s.lG2({type:r,selectors:[["","spDragIgnore",""]],features:[s.qOj]}),r})()},97652:(S,g,e)=>{"use strict";e.d(g,{r:()=>s});var t=e(27609),n=e(84046);let s=(()=>{class i extends t.V{constructor(){super()}}return i.\u0275fac=function(a){return new(a||i)},i.\u0275prov=n.Yz7({token:i,factory:i.\u0275fac}),i})()},93481:(S,g,e)=>{"use strict";e.d(g,{W:()=>f});var t=e(84046),n=e(55331),s=e(90850),i=e(73197),r=e(35811),a=e(83097),o=e(23533),d=e(31114),h=e(56709),p=e(95979);let f=(()=>{class m{constructor(E,C,T,y,I,P){this.ngZone=C,this.document=T,this.storage=y,this.eventsStorage=I,this.stylesService=P,this.dropEnabled=!0,this.onDrop=new t.vpe,this.eventsListener$=new s.xQ,this.drag$=new s.xQ,this.nativeElement=E.nativeElement}ngOnChanges(E){this.observeDropEnabledStatus(E)}ngOnDestroy(){this.unregisterDropListener(),this.unregisterDragListener(!0),this.unregisterEventsListener(!0)}observeDropEnabledStatus(E){E.dropEnabled&&(this.dropEnabled?(this.observeDragStartEvent(),this.observeDragEndEvent(),this.stylesService.addClass(this.nativeElement,h.h.DROP_ZONE_ENABLED)):(this.unregisterEventsListener(),this.stylesService.removeClass(this.nativeElement,h.h.DROP_ZONE_ENABLED)))}observeDragStartEvent(){this.eventsStorage.selectEvent(d.q.DRAG_START).pipe((0,r.R)(this.eventsListener$)).subscribe(()=>{this.dragStart()})}observeDragEndEvent(){this.eventsStorage.selectEvent(d.q.DRAG_END).pipe((0,r.R)(this.eventsListener$)).subscribe(()=>{this.dragEnd()})}registerDropListener(){this.ngZone.runOutsideAngular(()=>{this.dropListener=(0,i.R)(this.nativeElement,"mouseup").subscribe(E=>{this.drop(E)})})}registerDragListeners(){this.ngZone.runOutsideAngular(()=>{(0,i.R)(this.nativeElement,"mouseenter").pipe((0,r.R)(this.drag$)).subscribe(()=>{this.dragEnter()})}),this.ngZone.runOutsideAngular(()=>{(0,i.R)(this.nativeElement,"mouseleave").pipe((0,r.R)(this.drag$)).subscribe(()=>{this.dragLeave()})})}unregisterDropListener(){this.dropListener&&this.dropListener.unsubscribe()}unregisterDragListener(E=!1){this.drag$.next(),E&&this.drag$.complete()}unregisterEventsListener(E=!1){this.eventsListener$.next(),E&&this.eventsListener$.complete()}dragStart(){this.registerDropListener(),this.registerDragListeners(),this.stylesService.addClass(this.nativeElement,h.h.DROP_ZONE_ACTIVE)}dragEnd(){this.unregisterDragListener(),this.unregisterDropListener(),this.stylesService.removeClass(this.nativeElement,h.h.DROP_ZONE_ACTIVE),this.stylesService.removeClass(this.nativeElement,h.h.DRAG_ENTER)}drop(E){E.stopPropagation(),this.onDrop.emit(this.storage.get()),this.dispatchEvent(d.q.DROP)}dragEnter(){this.stylesService.addClass(this.nativeElement,h.h.DRAG_ENTER),this.dispatchEvent(d.q.DRAG_ENTER)}dragLeave(){this.stylesService.removeClass(this.nativeElement,h.h.DRAG_ENTER),this.dispatchEvent(d.q.DRAG_LEAVE)}dispatchEvent(E){this.eventsStorage.set(E)}}return m.\u0275fac=function(E){return new(E||m)(t.Y36(t.SBq),t.Y36(t.R0b),t.Y36(n.K0),t.Y36(a.C),t.Y36(o.W),t.Y36(p.T))},m.\u0275dir=t.lG2({type:m,selectors:[["","spDrop",""]],inputs:{dropEnabled:["spDrop","dropEnabled"]},outputs:{onDrop:"onDrop"},features:[t.TTD]}),m})()},78134:(S,g,e)=>{"use strict";e.d(g,{y:()=>n});var t=e(71118);class n{constructor(){this.MIN_ITEM_WIDTH=10,this.MAX_ITEMS_CONTAINER_WIDTH=0,this.allItemSizesInPercent=0,this.largestItemIndex=-1,this.largestItemWidthInPercent=0,this.itemsIndexesWithoutFlex=[],this.flexStyle="0 1"}static recalculate(i,r="flex",a=100){if(i.length<1)return[];const o=new n;return o.MAX_ITEMS_CONTAINER_WIDTH=a,i.forEach((d,h)=>{if(d[r]){const p=n.getFlexWidthProperty(d[r]);if(!p)return void o.itemsIndexesWithoutFlex.push(h);o.setLargestItemSizeAndIndex(p,h),o.allItemSizesInPercent+=p}else o.itemsIndexesWithoutFlex.push(h)}),o.itemsIndexesWithoutFlex.length>0&&(i=o.setItemsFlexStyle(i,r)),o.allItemSizesInPercent>o.MAX_ITEMS_CONTAINER_WIDTH?o.reduceExcessWidthFromLargestItem(i,r):o.addExtraWidthToLastItem(i,r)}static getFlexWidthProperty(i){const a=new RegExp("([\\d\\.]+)%").exec(i);if(a)return+a[1]}setItemsFlexStyle(i,r){const a=this.itemsIndexesWithoutFlex.length;let o=t.l.round((this.MAX_ITEMS_CONTAINER_WIDTH-this.allItemSizesInPercent)/a,2);o<this.MIN_ITEM_WIDTH&&(o=Math.min(this.MIN_ITEM_WIDTH,t.l.round((this.MAX_ITEMS_CONTAINER_WIDTH-this.allItemSizesInPercent+(this.largestItemWidthInPercent-this.MIN_ITEM_WIDTH))/a,2)));const d=`${this.flexStyle} ${o}%`;return this.itemsIndexesWithoutFlex.forEach(h=>{i[h][r]=d,this.allItemSizesInPercent+=o,this.setLargestItemSizeAndIndex(o,h)}),i}reduceExcessWidthFromLargestItem(i,r){const o=t.l.round(this.largestItemWidthInPercent-(this.allItemSizesInPercent-this.MAX_ITEMS_CONTAINER_WIDTH),2);return o<this.MIN_ITEM_WIDTH?i=this.resetItemFlexStyle(i,r):i[this.largestItemIndex][r]=`${this.flexStyle} ${o}%`,i}addExtraWidthToLastItem(i,r){const a=this.MAX_ITEMS_CONTAINER_WIDTH-this.allItemSizesInPercent,o=n.getFlexWidthProperty(i[i.length-1][r]),d=t.l.round(a+o,2);return i[i.length-1][r]=`${this.flexStyle} ${d}%`,i}resetItemFlexStyle(i,r){const a=t.l.round(this.MAX_ITEMS_CONTAINER_WIDTH/i.length,2);return i.map(o=>o[r]=`${this.flexStyle} ${a}%`),i}setLargestItemSizeAndIndex(i,r){i>this.largestItemWidthInPercent&&(this.largestItemWidthInPercent=i,this.largestItemIndex=r)}}},67500:(S,g,e)=>{"use strict";e.d(g,{D:()=>t});class t{withWidth(s){return this.width=s,this}withHeight(s){return this.height=s,this}}},38874:(S,g,e)=>{"use strict";e.d(g,{y:()=>h});var t=e(55331),n=e(58269),i=(e(23121),e(95718)),r=e(84046);e(43978);const d=[n.d];let h=(()=>{class p{static forRoot(){return{ngModule:p,providers:d}}}return p.\u0275fac=function(m){return new(m||p)},p.\u0275mod=r.oAB({type:p}),p.\u0275inj=r.cJS({imports:[[t.ez,i.XM.forRoot()]]}),p})()},9225:(S,g,e)=>{"use strict";e.d(g,{_:()=>t});var t=(()=>{return(n=t||(t={}))[n.VERTICAL=0]="VERTICAL",n[n.HORIZONTAL=1]="HORIZONTAL",t;var n})()},55361:(S,g,e)=>{"use strict";e.d(g,{y:()=>t});var t=(()=>{return(n=t||(t={}))[n.RESIZE_START=0]="RESIZE_START",n[n.RESIZE_END=1]="RESIZE_END",t;var n})()},93681:(S,g,e)=>{"use strict";e.d(g,{l:()=>L});var t=e(90850),n=e(73197),s=e(45635),i=e(98274),r=e(35811),a=e(67500);class o{setStartPoint(b){this.start=b}setEndPoint(b){this.end=b}getPassedDistance(b){let x,B;return b?(x=this.start.x-this.end.x,B=this.start.y-this.end.y):(x=this.end.x-this.start.x,B=this.end.y-this.start.y),{x,y:B}}}class d{constructor(b,x){this.newDimensions=b,this.target=x}}var h=e(9225),p=e(55361);class f{constructor(b){this.type=b}ofType(b){return b===this.type}}class m extends f{constructor(){super(p.y.RESIZE_START)}}class v extends f{constructor(b){super(p.y.RESIZE_END),this.dimensions=b}}function E(F,b){let x=F;return b.forEach(B=>x=B.apply(x)),x}class C{constructor(b){this.limit=b}apply(b){return this.limit?Math.min(this.limit,b):b}}class T{constructor(b){this.limit=b}apply(b){return this.limit?Math.max(this.limit,b):b}}var y=e(23121),I=e(71118),P=e(95900);let L=(()=>{class F{constructor(x,B,M,w,K,k,G){this.renderer=x,this.componentFactoryResolver=B,this.DOCUMENT=M,this.injector=w,this.appRef=K,this.configuration=k,this.blanketFactory=G,this.resize=new o,this.maxDimensions=null,this.resizeProgress$=new t.xQ,this.eventRelay$=new t.xQ,this.destroy$=new t.xQ,this.resizeDirection=F.resolveResizeDirectionFromGravity(this.configuration.resizeDirectionGravity),this.renderer.addClass(this.configuration.target,F.RESIZABLE_ELEM_CLASS),this.createResizeStick()}observeResizeProgress(){return this.resizeProgress$.asObservable()}observeEvents(){return this.eventRelay$.asObservable()}destroy(){this.destroy$.next(),this.destroy$.complete(),this.destroyResizeStick()}static resolveResizeDirectionFromGravity(x){return x===P.X.NORTH||x===P.X.SOUTH?h._.VERTICAL:h._.HORIZONTAL}createResizeStick(){this.setCssPositionOnHost();const x=this.componentFactoryResolver.resolveComponentFactory(y.I);this.resizeStickComponentRef=x.create(this.injector),this.resizeStickComponentRef.instance.configuration=this.configuration,this.registerResizeStickEventHandlers(),this.appRef.attachView(this.resizeStickComponentRef.hostView);const B=I.l.getDOMElementFromComponentRef(this.resizeStickComponentRef);this.renderer.insertBefore(this.configuration.resizer,B,this.configuration.resizer.firstChild),this.resizeStickComponentRef.changeDetectorRef.detectChanges()}destroyResizeStick(){this.resizeStickComponentRef&&(this.resizeStickComponentRef.destroy(),this.resizeStickComponentRef=null)}registerResizeStickEventHandlers(){const x=this.resizeStickComponentRef.instance,M=x.released;x.grabbed.pipe((0,s.b)(w=>this.onGrab(w)),(0,i.w)(()=>(0,n.R)(this.DOCUMENT,"mousemove").pipe((0,r.R)(M))),(0,r.R)(this.destroy$)).subscribe(this.onMouseMove.bind(this)),M.pipe((0,r.R)(this.destroy$)).subscribe(this.onRelease.bind(this))}createResizeBlanket(){this.blanketRef=this.blanketFactory.create(),this.setResizeCursorOnBlanket(I.l.getDOMElementFromComponentRef(this.blanketRef))}removeResizeBlanket(){this.blanketRef&&(this.blanketRef.destroy(),this.blanketRef=null)}setCssPositionOnHost(){"static"===window.getComputedStyle(this.configuration.resizer).position&&this.renderer.setStyle(this.configuration.resizer,"position","relative")}setResizeCursorOnBlanket(x){!x||this.renderer.setStyle(x,"cursor",this.resizeDirection===h._.VERTICAL?"ns-resize":"ew-resize")}saveHostDimensions(){const x=this.configuration.target.getBoundingClientRect();this.hostDimensions=(new a.D).withWidth(x.width).withHeight(x.height)}onGrab(x){this.configuration.maxDimensionsAccessor&&(this.maxDimensions=this.configuration.maxDimensionsAccessor()),this.addResizeCssClassToBody(),this.createResizeBlanket(),this.resize.setStartPoint({x:x.coordinates.x,y:x.coordinates.y}),this.saveHostDimensions(),this.newDimensions=null,this.emitResizeEvent(new m)}onRelease(){this.removeResizeCssClassFromBody(),this.removeResizeBlanket(),this.emitResizeEvent(new v(this.newDimensions))}onMouseMove(x){if(this.resize.setEndPoint({x:x.clientX,y:x.clientY}),this.resizeDirection===h._.VERTICAL){const B=E(this.calcNewHeight(),[new C(this.maxDimensions&&this.maxDimensions.height),new T(this.configuration.minDimensions&&this.configuration.minDimensions.height)]);if(B===this.hostDimensions.height)return;this.newDimensions=(new a.D).withHeight(B)}else{const B=E(this.calcNewWidth(),[new C(this.maxDimensions&&this.maxDimensions.width),new T(this.configuration.minDimensions&&this.configuration.minDimensions.width)]);if(B===this.hostDimensions.width)return;this.newDimensions=(new a.D).withWidth(B)}this.resizeProgress$.next(new d(this.newDimensions,this.configuration.target))}emitResizeEvent(x){this.eventRelay$.next(x)}calcNewWidth(){return this.hostDimensions.width+this.resize.getPassedDistance(this.configuration.resizeDirectionGravity===P.X.WEST).x}calcNewHeight(){return this.hostDimensions.height+this.resize.getPassedDistance(this.configuration.resizeDirectionGravity===P.X.NORTH).y}addResizeCssClassToBody(){this.renderer.addClass(this.DOCUMENT.body,F.RESIZE_IN_PROGRESS_CLASS)}removeResizeCssClassFromBody(){this.renderer.removeClass(this.DOCUMENT.body,F.RESIZE_IN_PROGRESS_CLASS)}}return F.RESIZABLE_ELEM_CLASS="sp-resizable-element",F.RESIZE_IN_PROGRESS_CLASS="sp-no-select",F})()},58269:(S,g,e)=>{"use strict";e.d(g,{d:()=>r});var t=e(55331),n=e(93681),s=e(95718),i=e(84046);let r=(()=>{class a{constructor(d,h,p,f,m,v){this.DOCUMENT=d,this.componentFactoryResolver=p,this.appRef=f,this.injector=m,this.blanketFactory=v,this.renderer=h.createRenderer(null,null)}create(d){return new n.l(this.renderer,this.componentFactoryResolver,this.DOCUMENT,this.injector,this.appRef,d,this.blanketFactory)}}return a.\u0275fac=function(d){return new(d||a)(i.LFG(t.K0),i.LFG(i.FYo),i.LFG(i._Vd),i.LFG(i.z2F),i.LFG(i.zs3),i.LFG(s.nj))},a.\u0275prov=i.Yz7({token:a,factory:a.\u0275fac}),a})()},28992:(S,g,e)=>{"use strict";e.d(g,{Db:()=>n.D,ym:()=>a.y,VM:()=>r,ye:()=>t.y,dy:()=>s.d,dM:()=>d});var t=e(55361),n=e(67500),s=e(58269);e(93681);class r{constructor(){}get resizer(){return this.externalResizer?this.externalResizer:this.target}static default(p,f){return(new r).withHitboxSize(16).withBorderSize(0).withBorderRadius(0).withTarget(p).withResizeDirectionGravity(f)}withHitboxSize(p){return this.hitboxSize=p,this}withBorderSize(p){return this.borderSize=p,this}withBorderRadius(p){return this.borderRadius=p,this}withResizerOtherThanTarget(p){return this.externalResizer=p,this}withMinDimensions(p){return this.minDimensions=p,this}withMaxDimensionsAccessor(p){return this.maxDimensionsAccessor=p,this}withResizeDirectionGravity(p){return this.resizeDirectionGravity=p,this}withTarget(p){return this.target=p,this}}var a=e(38874),o=e(23121);function d(h){return h.target.tagName.toLowerCase()===o.J}},23121:(S,g,e)=>{"use strict";e.d(g,{J:()=>p,I:()=>f});var t=e(55331),n=e(84046),s=e(73197),i=e(63833),r=e(62126),a=e(9225),o=e(71118),d=e(95900),h=e(62546);const p="sp-resize-stick";let f=(()=>{class m extends h.H{constructor(E,C,T){super(C,T),this.DOCUMENT=E,this.selfElementRef=C,this.verticalResize=!1,this.horizontalResize=!1,this.stickStyles={},this.grabbed=new n.vpe,this.released=new n.vpe}ngOnInit(){this.setResizeDirection(),this.setDimensions(),this.setStickDimensions(),this.setPosition(),this.setResizeCursor(),this.setStickBorderRadius(),(0,s.R)(this.selfElementRef.nativeElement,"mousedown").pipe(this.takeUntilDestroy()).subscribe(E=>this.observeMouseDown(E)),(0,s.R)(this.selfElementRef.nativeElement,"click").pipe(this.takeUntilDestroy()).subscribe(E=>this.observeClick(E))}observeMouseDown(E){0===E.button&&(this.grabbed.emit({coordinates:{x:E.clientX,y:E.clientY}}),(0,s.R)(this.DOCUMENT,"mouseup").pipe((0,i.q)(1),(0,r.b)(m.MOUSE_UP_DEBOUNCE_TIME),this.takeUntilDestroy()).subscribe(()=>{this.released.emit(null),this.renderer.removeClass(this.elementRef.nativeElement,m.MOUSE_DOWN_CSS_CLASS)}),this.renderer.addClass(this.elementRef.nativeElement,m.MOUSE_DOWN_CSS_CLASS))}observeClick(E){E.stopPropagation()}setResizeDirection(){this.configuration.resizeDirectionGravity===d.X.EAST||this.configuration.resizeDirectionGravity===d.X.WEST?(this.resizeDirection=a._.HORIZONTAL,this.horizontalResize=!0):(this.resizeDirection=a._.VERTICAL,this.verticalResize=!0)}setDimensions(){const E=this.calculateDimensionsWithHitbox();this.width=E.width,this.height=E.height}calculateDimensionsWithHitbox(){let E,C;return this.resizeDirection===a._.VERTICAL?(E="100%",C=o.l.numberToPxString(this.configuration.hitboxSize)):(E=o.l.numberToPxString(this.configuration.hitboxSize),C="100%"),{width:E,height:C}}calculateStickDimensions(){const E=o.l.numberToPxString(this.configuration.borderSize);switch(this.resizeDirection){case a._.VERTICAL:return{width:"100%",height:E};case a._.HORIZONTAL:return{width:E,height:"100%"};default:throw new Error(`No handler for resize direction: ${this.resizeDirection}`)}}setStickDimensions(){const E=this.calculateStickDimensions();this.stickStyles.width=E.width,this.stickStyles.height=E.height}setPosition(){const E=this.calculateStickPosition();this.top=E.top,this.right=E.right,this.bottom=E.bottom,this.left=E.left}calculateStickPosition(){let E,C,T,y;const I=o.l.numberToPxString((this.configuration.hitboxSize+this.configuration.borderSize)/2*-1);return this.configuration.resizeDirectionGravity===d.X.NORTH?(E=I,y="0",C="auto",T="auto"):this.configuration.resizeDirectionGravity===d.X.EAST?(E="0",y="auto",C=I,T="auto"):this.configuration.resizeDirectionGravity===d.X.SOUTH?(E="auto",y="0",C="auto",T=I):(E="0",y=I,C="auto",T="auto"),{top:E,right:C,bottom:T,left:y}}setResizeCursor(){this.cursor=this.resizeDirection===a._.VERTICAL?"ns-resize":"ew-resize"}setStickBorderRadius(){this.stickStyles.borderRadius=o.l.numberToPxString(this.configuration.borderRadius)}}return m.MOUSE_DOWN_CSS_CLASS="sp-resize-stick--mouse-down",m.MOUSE_UP_DEBOUNCE_TIME=200,m.\u0275fac=function(E){return new(E||m)(n.Y36(t.K0),n.Y36(n.SBq),n.Y36(n.Qsj))},m.\u0275cmp=n.Xpm({type:m,selectors:[["sp-resize-stick"]],hostAttrs:[1,"sp-resize-stick","sp-absolute","sp-flex","sp-items-center","sp-justify-center","sp-z-1"],hostVars:18,hostBindings:function(E,C){2&E&&(n.Udp("width",C.width)("height",C.height)("top",C.top)("right",C.right)("bottom",C.bottom)("left",C.left)("cursor",C.cursor),n.ekj("sp-vertical-resize",C.verticalResize)("sp-horizontal-resize",C.horizontalResize))},outputs:{grabbed:"grabbed",released:"released"},features:[n.qOj],decls:1,vars:1,consts:[[1,"sp-resize-stick__line",3,"ngStyle"]],template:function(E,C){1&E&&n._UZ(0,"div",0),2&E&&n.Q6J("ngStyle",C.stickStyles)},directives:[t.PC],styles:[".sp-resize-stick{background:none}.sp-resize-stick:hover .sp-resize-stick__line{background-color:var(--blue-200)}.sp-resize-stick__line{background:transparent}.sp-resize-stick--mouse-down .sp-resize-stick__line{background-color:var(--blue-300)}\n"],encapsulation:2,changeDetection:0}),m})()},58156:(S,g,e)=>{"use strict";e.d(g,{C:()=>i});var t=e(62546),n=e(29265),s=e(84046);let i=(()=>{class r extends t.H{constructor(o,d,h){super(o,d),this.resizeService=h,this.spAdjustWidthToParent=!0}ngAfterViewInit(){this.spAdjustWidthToParent&&this.attachResizeListener()}finalize(){this.resizeService.removeResizeDetectorFromDom(this.elementRef.nativeElement)}setRowListWidth(o){const d=this.childElem||this.elementRef.nativeElement.querySelector(this.childClass);d&&this.domManipulator.addStyle(d,"width",o+"px")}attachResizeListener(){this.resizeService.addResizeDetectorToDom(this.elementRef.nativeElement).pipe(this.takeUntilDestroy()).subscribe(o=>{this.setRowListWidth(o.width)})}}return r.\u0275fac=function(o){return new(o||r)(s.Y36(s.SBq),s.Y36(s.Qsj),s.Y36(n.C))},r.\u0275dir=s.lG2({type:r,selectors:[["","spAdjustWidthToParent",""]],inputs:{childClass:["spAdjustWidthToParentChildClass","childClass"],childElem:["spAdjustWidthToParentChildElem","childElem"],spAdjustWidthToParent:"spAdjustWidthToParent"},features:[s.qOj]}),r})()},78242:(S,g,e)=>{"use strict";e.d(g,{G:()=>i});var t=e(55331),n=e(29265),s=e(84046);let i=(()=>{class r{}return r.\u0275fac=function(o){return new(o||r)},r.\u0275mod=s.oAB({type:r}),r.\u0275inj=s.cJS({providers:[n.C],imports:[[t.ez]]}),r})()},29265:(S,g,e)=>{"use strict";e.d(g,{C:()=>o});var t=e(64867),s=e(32731),i=e(28992),r=e(62628),a=e(84046);let o=(()=>{class d extends r.b{constructor(){super(),this.initializeResizeDetector()}addResizeDetectorToDom(p){return s.y.create(f=>{this.addListener(p,f),this.observer=f,this.element=p})}finalize(){this.observer&&this.observer.complete(),this.removeResizeDetectorFromDom(this.element)}removeResizeDetectorFromDom(p){this.elementResizeDetector&&p&&this.elementResizeDetector.uninstall(p)}initializeResizeDetector(){this.elementResizeDetector=t({strategy:"scroll"})}addListener(p,f){this.elementResizeDetector.listenTo(p,m=>{f.next((new i.Db).withWidth(m.offsetWidth).withHeight(m.offsetHeight))})}}return d.\u0275fac=function(p){return new(p||d)},d.\u0275prov=a.Yz7({token:d,factory:d.\u0275fac}),d})()},4151:(S,g,e)=>{"use strict";e.d(g,{F:()=>t});class t{static isLeftButton(s){return 0===s.button}static isMiddleButton(s){return 1===s.button}static isRightButton(s){return 2===s.button}}},46174:(S,g,e)=>{"use strict";e.d(g,{j:()=>n,M:()=>s});var t=e(85105);let n=(()=>{class i{constructor(){this.providers=[]}getComponent(){return this.component}getProviders(){return this.providers}isEmpty(){return!1}}return i.Builder=class extends t.I{constructor(){super(...arguments),this.providers=[]}build(){const a=new i;return a.component=this.component,a.providers=this.providers,a}withComponent(a){return this.component=a,this}withProviders(a){return this.providers=a,this}},i})();class s extends n{isEmpty(){return!0}}},62078:(S,g,e)=>{"use strict";e.d(g,{V:()=>v});var t=e(84046),n=e(90850),s=e(73197),i=e(63833),r=e(35811),a=e(70822),o=e(61055);const d=["dynamicComponentContainer"];function h(E,C){}let p=(()=>{class E{}return E.\u0275fac=function(T){return new(T||E)},E.\u0275cmp=t.Xpm({type:E,selectors:[["sp-right-click-wrapper"]],viewQuery:function(T,y){if(1&T&&t.Gf(d,7,t.s_b),2&T){let I;t.iGM(I=t.CRH())&&(y.dynamicComponentContainer=I.first)}},decls:2,vars:0,consts:[["dynamicComponentContainer",""]],template:function(T,y){1&T&&t.YNc(0,h,0,0,"ng-template",null,0,t.W1O)},encapsulation:2}),E})();var f=e(62628),m=e(45927);let v=(()=>{class E extends f.b{constructor(T,y,I,P){super(),this.injector=T,this.rendererFactory2=y,this.componentOutlet=I,this.outsideClicksWatcher=P,this.componentDestroyed$=new n.xQ,this.componentCreated$=new n.xQ,this.renderer=y.createRenderer(null,null)}isDialogCreated(){return!!this.contextMenuRef}selectDialogCreated(){return this.componentCreated$.asObservable()}selectDialogDestroyed(){return this.componentDestroyed$.asObservable()}createComponent(T,y,I,P,L,F,b){this.contextMenuRef&&this.destroyDynamicComponent();const x=t.zs3.create(I.getProviders(),this.injector);this.contextMenuRef=this.componentOutlet.createComponent(p,x,b);const B=this.contextMenuRef.location.nativeElement;this.disableContextMenu(B,!0),this.setComponentPosition(B,T,y),this.registerClickOutsideListener(B,P),this.registerWheelListener(F),this.registerKeyboardListener(F);const M=L.resolveComponentFactory(I.getComponent());return this.contextMenuRef.instance.dynamicComponentContainer.createComponent(M,void 0,x).changeDetectorRef.detectChanges(),this.componentCreated$.next(),this.contextMenuRef}destroyDynamicComponent(){!this.contextMenuRef||(this.contextMenuRef.destroy(),this.componentDestroyed$.next())}disableContextMenu(T,y=!1){(0,s.R)(T,"contextmenu").pipe((0,i.q)(y?1:1/0),this.takeUntilDestroy()).subscribe(I=>this.cancelEvent(I))}registerWheelListener(T){(0,s.R)(T,"wheel").pipe((0,r.R)(this.componentDestroyed$),this.takeUntilDestroy()).subscribe(()=>this.destroyDynamicComponent())}setComponentPosition(T,y,I){this.renderer.setStyle(T,"position","absolute"),this.renderer.setStyle(T,"top",I+"px"),this.renderer.setStyle(T,"left",y+"px")}registerClickOutsideListener(T,y){this.outsideClicksWatcher.watchForClicksOutside(T).pipe((0,r.R)(this.componentDestroyed$),this.takeUntilDestroy()).subscribe(()=>{this.destroyDynamicComponent(),y.detectChanges()})}cancelEvent(T){T.preventDefault(),T.stopPropagation()}registerKeyboardListener(T){(0,s.R)(T,"keydown").pipe((0,a.h)(y=>"Escape"===y.key),(0,r.R)(this.componentDestroyed$),this.takeUntilDestroy()).subscribe(()=>{this.destroyDynamicComponent()})}get applicationRef(){return this.injector.get(t.z2F)}}return E.\u0275fac=function(T){return new(T||E)(t.LFG(t.zs3),t.LFG(t.FYo),t.LFG(m.r),t.LFG(o.x))},E.\u0275prov=t.Yz7({token:E,factory:E.\u0275fac}),E})()},58264:(S,g,e)=>{"use strict";e.d(g,{N:()=>a});var t=e(62546),n=e(70822),s=e(4151),i=e(87650),r=e(84046);let a=(()=>{class o extends t.H{constructor(h,p,f){super(h,p),this.ignoredEventsService=f,this.enabled=!0,this.nativeElement=h.nativeElement}ngOnInit(){this.observeHostMouseDown(),this.observeHostContextMenu()}observeHostContextMenu(){this.domManipulator.hostListen("contextmenu").pipe((0,n.h)(()=>this.enabled),this.takeUntilDestroy()).subscribe(h=>this.ignoredEventsService.set(h))}observeHostMouseDown(){this.domManipulator.hostListen("mousedown").pipe((0,n.h)(()=>this.enabled),(0,n.h)(h=>s.F.isRightButton(h)),this.takeUntilDestroy()).subscribe(h=>this.ignoredEventsService.set(h))}}return o.\u0275fac=function(h){return new(h||o)(r.Y36(r.SBq),r.Y36(r.Qsj),r.Y36(i.R))},o.\u0275dir=r.lG2({type:o,selectors:[["","spRightClickIgnore",""]],inputs:{enabled:["spRightClickIgnoreEnabled","enabled"]},features:[r.qOj]}),o})()},87650:(S,g,e)=>{"use strict";e.d(g,{R:()=>s});var t=e(27609),n=e(84046);let s=(()=>{class i extends t.V{constructor(){super()}}return i.\u0275fac=function(a){return new(a||i)},i.\u0275prov=n.Yz7({token:i,factory:i.\u0275fac}),i})()},73891:(S,g,e)=>{"use strict";e.d(g,{Z:()=>r});var t=e(55331),n=e(62078),s=e(87650),i=e(84046);let r=(()=>{class a{}return a.\u0275fac=function(d){return new(d||a)},a.\u0275mod=i.oAB({type:a}),a.\u0275inj=i.cJS({providers:[n.V,s.R],imports:[[t.ez]]}),a})()},69047:(S,g,e)=>{"use strict";e.d(g,{x:()=>t});var t=(()=>{return(n=t||(t={})).NAVIGATION="SPT_COMMON_SHORTCUTS_GROUP_NAME_NAVIGATION",n.LAYOUT="SPT_COMMON_SHORTCUTS_LAYOUT_ACTIONS_HEADER",n.VIEW="SPT_COMMON_SHORTCUTS_GROUP_VIEW_HEADER",n.TIMELINE="SPT_COMMON_SHORTCUTS_GROUP_TIMELINE_HEADER",n.TEAMS="SPT_COMMON_SHORTCUTS_GROUP_TEAMS_HEADER",t;var n})()},97425:(S,g,e)=>{"use strict";e.d(g,{o:()=>o});var t=e(55331),n=e(68140),s=e(82613),i=e(92611),r=e(84046);const a=[s.L,n.Z,i.x];let o=(()=>{class d{static forRoot(){return{ngModule:d,providers:a}}}return d.\u0275fac=function(p){return new(p||d)},d.\u0275mod=r.oAB({type:d}),d.\u0275inj=r.cJS({imports:[[t.ez]]}),d})()},51276:(S,g,e)=>{"use strict";e.d(g,{f:()=>t});class t{constructor(){this.enabled=!0}isEnabled(){return this.enabled}toggle(s){this.enabled=s}}},86495:(S,g,e)=>{"use strict";e.d(g,{s:()=>t});var t=(()=>{return(n=t||(t={})).Q="Q",n.W="W",n.E="E",n.R="R",n.T="T",n.Y="Y",n.U="U",n.I="I",n.O="O",n.P="P",n.A="A",n.S="S",n.D="D",n.F="F",n.G="G",n.H="H",n.J="J",n.K="K",n.L="L",n.Z="Z",n.X="X",n.C="C",n.V="V",n.B="B",n.N="N",n.M="M",n.BACKSPACE="Backspace",n.BARACKET_LEFT="[",n.BARACKET_RIGHT="]",n.SEMICOLN=";",n.QUOTE="'",n.BACKSLASH="\\",n.ENTER="Enter",n.COMMA=",",n.PERIOD=".",n.SLASH="/",n.QUESTIONMARK="?",n.SHIFT="Shift",n.CONTROL="Ctrl",n.ALT="Alt",n.META="Cmd",n.SPACE="Space",n.ESCAPE="Escape",n.DELETE="Delete",n.F1="F1",n.F2="F2",n.F3="F3",n.F4="F4",n.F5="F5",n.F6="F6",n.F7="F7",n.F8="F8",n.F9="F9",n.F10="F10",n.F11="F11",n.F12="F12",n.ARROW_LEFT="\u2190",n.ARROW_RIGHT="\u2192",n.ARROW_UP="\u2191",n.ARROW_DOWN="\u2193",n.PLUS="+",n.MINUS="-",n.EQUAL="=",n.DIGIT_1="1",n.DIGIT_2="2",n.DIGIT_3="3",n.DIGIT_4="4",n.DIGIT_5="5",n.DIGIT_6="6",n.DIGIT_7="7",n.DIGIT_8="8",n.DIGIT_9="9",n.DIGIT_0="0",n.MOUSE_CLICK_LEFT="Left-Click",n.MOUSE_CLICK_RIGHT="Right-Click",t;var n})()},58228:(S,g,e)=>{"use strict";e.d(g,{y:()=>t});let t=(()=>{class n{static parseCodeToKey(i){let r=n.codeToKeyMap[i];return i.includes("Key")?r=i.replace("Key",""):i.includes("Digit")&&(r=i.replace("Digit","")),void 0===r&&(r=i),r}}return n.codeToKeyMap={Minus:"-",Equal:"=",ArrowUp:"\u2191",ArrowDown:"\u2193",ArrowLeft:"\u2190",ArrowRight:"\u2192",Slash:"/",Backslash:"\\",BracketLeft:"[",BracketRight:"]",Semicolon:";",Quote:"'",Comma:",",Period:".",MetaLeft:"Meta",MetaRight:"Meta",AltLeft:"Alt",AltRight:"Alt",ControlLeft:"Control",ControlRight:"Control",ShiftLeft:"Shift",ShiftRight:"Shift",NumpadEnter:"Enter",NumpadAdd:"+",NumpadSubtract:"-"},n})()},48680:(S,g,e)=>{"use strict";e.d(g,{$:()=>n});const t={8:"Backspace",9:"Tab",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"Capslock",27:"Escape",32:"Space",33:"Pageup",34:"Pagedown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",96:"0",97:"1",98:"2",99:"3",100:"4",101:"5",102:"6",103:"7",104:"8",105:"9",106:"*",107:"+",109:"-",110:".",111:"/",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"Numlock",145:"Scroll",188:",",190:".",191:"/",224:"Meta"};class n{static parse(i){return t[i.which]||n.upperFirstLetter(i.key)}static upperFirstLetter(i){return i.charAt(0).toUpperCase()+i.slice(1)}}},55688:(S,g,e)=>{"use strict";e.d(g,{z:()=>o});var t=e(86495),n=e(75163),s=e(58228),i=e(48680),r=e(28635);class a{static isSystemReserved(h,p){const f=[...p,this.getKey(h)];return this.checkIsSystemShortcut(f)}static getKey(h){const p=r.o.isEdge()||r.o.isIE()?i.$.parse(h):h.code;return s.y.parseCodeToKey(p)}static checkIsSystemShortcut(h){return this.systemShortcuts.some(p=>p.sort().toString()===h.sort().toString())}}a.systemShortcuts=[[t.s.META,t.s.SHIFT,t.s.R],[t.s.CONTROL,t.s.SHIFT,t.s.R,t.s.F5],[t.s.META,t.s.ALT,t.s.I],[t.s.CONTROL,t.s.SHIFT,t.s.I],[t.s.META,t.s.SHIFT,t.s.B],[t.s.CONTROL,t.s.SHIFT,t.s.B]];class o{constructor(h,p){this.key=h,this.callback=p,this.shortcutType=n.P.SINGLE_KEY_DOWN,this.preventDefault=!1,this.key=this.isWindowsMetaKeyPressed(h)?t.s.CONTROL:h}static isSystemReserved(h,p){return a.isSystemReserved(h,p)}getKey(){return this.key}getModifierOrModifiers(){return this.modifierOrModifiers}getType(){return this.shortcutType}withModifier(h){return h&&(this.shortcutType=n.P.WITH_MODIFIER,this.modifierOrModifiers=this.isWindowsMetaKeyPressed(h)?t.s.CONTROL:h),this}withMultipleModifiers(h){return(null==h?void 0:h.length)&&(this.shortcutType=n.P.WITH_MULTIPLE_MODIFIERS,this.modifierOrModifiers=h.map(p=>this.isWindowsMetaKeyPressed(p)?t.s.CONTROL:p)),this}withDisplayAliasKey(h){return h&&(this.displayKeyAlias=h),this}getDisplayAliasKey(){return this.displayKeyAlias}withDoubleClick(){return this.shortcutType=n.P.DOUBLE_KEY_DOWN,this}withPreventDefault(){return this.preventDefault=!0,this}getParentContainer(){return this.parent}setParent(h){this.parent=h}execute(h){this.preventDefault&&h.preventDefault(),this.callback(this.parent)}isWindowsMetaKeyPressed(h){return navigator.appVersion.includes("Win")&&h===t.s.META}}},86834:(S,g,e)=>{"use strict";e.d(g,{k:()=>s});var t=e(51276),n=e(19327);class s extends t.f{constructor(r,a,o){super(),this.name=r,this.color=a,this.id=o,this.containers=[],this.isGroupNotShown=!1}add(r){this.containers.push(r)}getShortcutContainers(){return this.containers}notShown(){return this.isGroupNotShown=!0,this}isHidden(){return this.isGroupNotShown}getName(){return this.name}getColor(){var r;return null!==(r=this.color)&&void 0!==r?r:n.B.GRAY}setColor(r){this.color=r}getShortcut(r,a,o){return this.containers.map(d=>d.getShortcut(r,a,o)).find(d=>void 0!==d)}getContainer(r){return this.containers.find(a=>a.getName()===r)}removeContainer(r){this.containers=this.containers.filter(a=>a.getName()!==r)}}},68140:(S,g,e)=>{"use strict";e.d(g,{Z:()=>s});var t=e(93051),n=e(84046);let s=(()=>{class i{constructor(){this.forceToTopGroups=[],this.regularGroups=[],this.forceToBottomGroups=[]}addShortcutGroup(a,o=t.N.REGULAR){o===t.N.FORCE_TO_TOP?this.forceToTopGroups.unshift(a):o===t.N.FORCE_TO_BOTTOM?this.forceToBottomGroups.push(a):this.regularGroups.push(a)}addShortcutGroupIfNotExist(a,o=t.N.REGULAR){this.getGroupIndexByName(this.getShortcutsGroups(),a.getName())>=0||this.addShortcutGroup(a,o)}removeShortcutGroup(a){if(a)for(const o of[this.forceToTopGroups,this.regularGroups,this.forceToBottomGroups]){const d=this.getGroupIndexByName(o,a.getName());if(d>=0)return void o.splice(d,1)}}getAllAvailableGroups(){return this.getShortcutsGroups()}getGroup(a){const o=this.getShortcutsGroups(),d=this.getGroupIndexByName(o,a);if(d>=0)return o[d]}getContainer(a,o){const d=this.getGroup(a),h=d.getShortcutContainers();if(!d)throw new Error(`Group: ${a} does not exist in shortcut repository`);const p=h.findIndex(f=>f.getName()===o);if(p<0)throw new Error(`Container: ${o} does not exist in ${a} - group`);return h[p]}getShortcut(a,o,d){for(const h of this.getShortcutsGroups()){if(!h.isEnabled())continue;const p=h.getShortcut(a,o,d);if(p)return p}}releaseResources(){this.forceToTopGroups=[],this.regularGroups=[],this.forceToBottomGroups=[]}getShortcutsGroups(){return[...this.forceToTopGroups,...this.regularGroups,...this.forceToBottomGroups]}getGroupIndexByName(a,o){return a.findIndex(d=>d.getName()===o)}}return i.\u0275fac=function(a){return new(a||i)},i.\u0275prov=n.Yz7({token:i,factory:i.\u0275fac}),i})()},75163:(S,g,e)=>{"use strict";e.d(g,{P:()=>t});var t=(()=>{return(n=t||(t={}))[n.WITH_MODIFIER=0]="WITH_MODIFIER",n[n.WITH_MULTIPLE_MODIFIERS=1]="WITH_MULTIPLE_MODIFIERS",n[n.DOUBLE_KEY_DOWN=2]="DOUBLE_KEY_DOWN",n[n.SINGLE_KEY_DOWN=3]="SINGLE_KEY_DOWN",t;var n})()},93051:(S,g,e)=>{"use strict";e.d(g,{N:()=>t});var t=(()=>{return(n=t||(t={}))[n.REGULAR=0]="REGULAR",n[n.FORCE_TO_TOP=1]="FORCE_TO_TOP",n[n.FORCE_TO_BOTTOM=2]="FORCE_TO_BOTTOM",t;var n})()},82613:(S,g,e)=>{"use strict";e.d(g,{L:()=>B});var t=e(55331),n=e(51276),s=e(75163);class i extends n.f{constructor(w,K){super(),this.name=w,this.shortcuts=[],this.shown=!0,K.add(this),this.parentGroup=K}add(w){return this.shortcuts.push(w),w.setParent(this),this}getChildren(){return this.shortcuts}getName(){return this.name}getParentGroup(){return this.parentGroup}getShortcut(w,K,k){let G;return this.shortcuts.forEach($=>{if($.getKey()!==w||$.getType()!==K)return;const X=$.getModifierOrModifiers();$.getType()===s.P.WITH_MODIFIER&&X!==k||$.getType()===s.P.WITH_MULTIPLE_MODIFIERS&&(!Array.isArray(X)||!Array.isArray(k)||!this.modifiersHaveSameValues(X,k))||(G=$)}),G}isShown(){return this.shown}notShown(){return this.shown=!1,this}removeAllShortcuts(){this.shortcuts=[]}modifiersHaveSameValues(w,K){return w.length===K.length&&[...w].sort().join(",")===[...K].sort().join(",")}}var r=e(86834),a=e(90850),o=e(73197),d=e(35811),h=e(62126),p=e(76803);class m{constructor(w){this.closingNotifier=w}call(w,K){return K.subscribe(new v(w,this.closingNotifier))}}class v extends p.Ds{constructor(w,K){super(w),this.buffer=[],this.add((0,p.ft)(K,new p.IY(this)))}_next(w){this.buffer.push(w)}notifyNext(){const w=this.buffer;this.buffer=[],this.destination.next(w)}}var E=e(70822),C=e(86495),T=e(58228),y=e(48680),I=e(55688),P=e(28635);class L{constructor(w,K,k){this.renderer=w,this.shortcutsRepository=K,this.document=k,this.keyDownWithoutModifier$=new a.xQ,this.onDestroy$=new a.xQ,this.keyboardListener$=new a.xQ,this.eventToSpecialKeys={ctrlKey:C.s.CONTROL,altKey:C.s.ALT,metaKey:C.s.META,shiftKey:C.s.SHIFT},this.KEY_DOWN_WITHOUT_MODIFIER_DEBOUNCE_TIME=250,this.subscribeKeyDownObserver(),this.subscribeDoubleKeyDownObserver(),this.listenToDocumentKeyDownEvents(),this.initKeyboardListenerSubscriber()}releaseResources(){this.onDestroy$.next()}listenToDocumentKeyDownEvents(){(0,o.R)(this.document,"keydown").pipe((0,d.R)(this.onDestroy$)).subscribe(w=>{this.isKeyboardEventCorrect(w)&&this.keyboardListener$.next(w)})}isKeyboardEventCorrect(w){const K=w.target.tagName,k=1!==w.location;return"INPUT"===K||"TEXTAREA"===K?-1!==["Enter","NumpadEnter","ArrowDown","ArrowUp","Escape"].indexOf(this.getKeyCodeBasedOnBrowser(w)):k}initKeyboardListenerSubscriber(){this.keyboardListener$.asObservable().subscribe(w=>{if(I.z.isSystemReserved(w,this.extractModifiersFrom(w)))return;const K=this.extractModifiersFrom(w);(null==K?void 0:K.length)>0?this.handleKeyDownWithModifiers(w,K):this.handleKeyDownWithoutModifier(w)})}handleKeyDownWithModifiers(w,K){const k=this.getKeyCodeBasedOnBrowser(w),G=K.length>1?s.P.WITH_MULTIPLE_MODIFIERS:s.P.WITH_MODIFIER,$=G===s.P.WITH_MODIFIER?K[0]:K,X=this.shortcutsRepository.getShortcut(T.y.parseCodeToKey(k),G,$);this.executeShorcutIfEnable(X,w)}handleKeyDownWithoutModifier(w){this.keyDownWithoutModifier$.next(w)}subscribeKeyDownObserver(){this.keyDownWithoutModifier$.pipe((0,d.R)(this.onDestroy$)).subscribe(w=>{this.findShortcutAndExecute(w,s.P.SINGLE_KEY_DOWN)})}subscribeDoubleKeyDownObserver(){const w=this.keyDownWithoutModifier$.pipe((0,h.b)(this.KEY_DOWN_WITHOUT_MODIFIER_DEBOUNCE_TIME));var M;this.keyDownWithoutModifier$.pipe((0,d.R)(this.onDestroy$),(M=w,function(K){return K.lift(new m(M))}),(0,E.h)(K=>2===K.length&&this.getKeyCodeBasedOnBrowser(K[0])===this.getKeyCodeBasedOnBrowser(K[1]))).subscribe(K=>{this.findShortcutAndExecute(K[0],s.P.DOUBLE_KEY_DOWN)})}findShortcutAndExecute(w,K){const k=T.y.parseCodeToKey(this.getKeyCodeBasedOnBrowser(w)),G=this.shortcutsRepository.getShortcut(k,K);this.executeShorcutIfEnable(G,w)}executeShorcutIfEnable(w,K){if(w){if(K.preventDefault(),!w.getParentContainer().isEnabled())return;w.execute(K)}}extractModifiersFrom(w){const K=[];return Object.keys(this.eventToSpecialKeys).map(k=>{w[k]&&K.push(this.eventToSpecialKeys[k])}),K}getKeyCodeBasedOnBrowser(w){return P.o.isEdge()||P.o.isIE()?y.$.parse(w):w.code}}var F=e(92611),b=e(84046),x=e(68140);let B=(()=>{class M{constructor(K,k,G,$){this.rendererFactory2=K,this.shortcutsRepository=k,this.shortcutTitleStorageService=G,this.document=$;const X=this.rendererFactory2.createRenderer($.body,null);this.shortcutListener=new L(X,this.shortcutsRepository,this.document)}createGroup(K,k={}){const G=this.shortcutsRepository.getGroup(K);if(G)return G;const $=new r.k(K,null==k?void 0:k.groupColor);return this.shortcutsRepository.addShortcutGroup($,null==k?void 0:k.position),$}removeShortcutGroup(K){this.shortcutsRepository.removeShortcutGroup(K)}createContainer(K,k){const G=k.getContainer(K);return G?(G.removeAllShortcuts(),G):new i(K,k)}removeContainer(K,k){k.removeContainer(K)}setGroupActivityStatus(K,k){const G=this.shortcutsRepository.getGroup(K);!G||G.toggle(k)}setContainerActivityStatus(K,k,G){if(!this.shortcutsRepository.getGroup(K))return;const X=this.shortcutsRepository.getContainer(K,k);!X||X.toggle(G)}setShortcutsModalTitle(K){this.shortcutTitleStorageService.set(K)}restoreToDefaultShortcutModalTitle(){this.shortcutTitleStorageService.restoreToDefaultTitle()}releaseResources(){this.shortcutListener.releaseResources(),this.shortcutsRepository.releaseResources()}hasGroup(K){return!!this.shortcutsRepository.getGroup(K)}}return M.\u0275fac=function(K){return new(K||M)(b.LFG(b.FYo),b.LFG(x.Z),b.LFG(F.x),b.LFG(t.K0))},M.\u0275prov=b.Yz7({token:M,factory:M.\u0275fac}),M})()},92611:(S,g,e)=>{"use strict";e.d(g,{x:()=>s});var t=e(27609),n=e(84046);let s=(()=>{class i extends t.V{constructor(){super(),this.DEFAULT_TITLE="SPT_COMMON_SHORTCUTS_HEADER_TITLE"}getDefaultTitle(){return this.DEFAULT_TITLE}restoreToDefaultTitle(){this.set(this.DEFAULT_TITLE)}}return i.\u0275fac=function(a){return new(a||i)},i.\u0275prov=n.Yz7({token:i,factory:i.\u0275fac}),i})()},88868:(S,g,e)=>{"use strict";e.d(g,{Y:()=>f});var t=e(62546),n=e(27584),s=e(18840),i=e(4683),r=e(98274),a=e(70822),o=e(71726),d=e(17314),h=e(55331),p=e(84046);let f=(()=>{class m extends t.H{constructor(E,C,T,y,I){super(E,C),this.scrollService=T,this.window=y,this.document=I,this.enabled=!0,this.showShadow=!0,this.enabled$=new s.X(!0),this.showShadow$=new s.X(!0),this.stickToBottomClass="stick-to-bottom"}ngOnChanges(E){E.enabled&&this.enabled$.next(this.enabled),E.showShadow&&this.showShadow$.next(this.showShadow)}ngOnInit(){this.observePageSize(),this.observeEnabled(),this.observeShowShadow()}finalize(){this.scrollService.unobservePageSize()}observeEnabled(){this.selectEnabled$().pipe(this.takeUntilDestroy()).subscribe(()=>{this.addClasses()}),this.selectDisabled$().pipe(this.takeUntilDestroy()).subscribe(()=>{this.clearClasses()})}observeShowShadow(){this.selectEnabled$().pipe((0,r.w)(()=>this.showShadow$),(0,a.h)(Boolean),(0,r.w)(()=>this.scrollService.selectIsScrolledToTheBottomOfTheWindow()),this.takeUntilDestroy()).subscribe(E=>{E?this.domManipulator.removeHostClass("sp-shadow-lg"):this.domManipulator.addHostClass("sp-shadow-lg")})}observePageSize(){this.scrollService.observePageSize()}selectEnabled$(){return(0,i.aj)([this.enabled$,this.scrollService.selectIsPageSmallerThanViewport$()]).pipe((0,a.h)(([E,C])=>E&&!C),(0,o.U)(()=>null))}selectDisabled$(){return(0,i.aj)([this.enabled$,this.scrollService.selectIsPageSmallerThanViewport$()]).pipe((0,a.h)(([E,C])=>!(E&&!C)),(0,o.U)(()=>null))}clearClasses(){this.domManipulator.removeHostClass(this.stickToBottomClass)}addClasses(){this.domManipulator.addHostClass(this.stickToBottomClass)}}return m.\u0275fac=function(E){return new(E||m)(p.Y36(p.SBq),p.Y36(p.Qsj),p.Y36(n.D),p.Y36(d.m),p.Y36(h.K0))},m.\u0275dir=p.lG2({type:m,selectors:[["","spStickToBottom",""]],inputs:{enabled:["spStickToBottom","enabled"],showShadow:["spStickToBottomShadow","showShadow"]},features:[p.qOj,p.TTD]}),m})()},23528:(S,g,e)=>{"use strict";e.d(g,{V:()=>i});var t=e(27584),n=e(96554),s=e(84046);let i=(()=>{class r{static forRoot(){return{ngModule:r,providers:[t.D]}}}return r.\u0275fac=function(o){return new(o||r)},r.\u0275mod=s.oAB({type:r}),r.\u0275inj=s.cJS({imports:[[n.gF.forStyle(e.e(4425).then(e.t.bind(e,14425,17)))]]}),r})()},27584:(S,g,e)=>{"use strict";e.d(g,{D:()=>v});var t=e(18840),n=e(90850),s=e(4683),i=e(73197),r=e(43349),a=e(71726),o=e(96105),d=e(63833),h=e(35811),p=e(17314),f=e(55331),m=e(84046);let v=(()=>{class E{constructor(T,y){this.window=T,this.document=y,this.SAFE_MARGIN=2,this.pageSmallerThanViewport$=new t.X(!1),this.stopListeningToPageSize$=new n.xQ}selectIsScrolledToTheBottomOfTheWindow(){return(0,s.aj)([this.selectWindowScrollEvent().pipe((0,r.O)(null)),this.selectIsPageSmallerThanViewport$().pipe((0,r.O)(!1))]).pipe((0,a.U)(()=>this.window.innerHeight+this.window.scrollY>=this.document.body.scrollHeight-this.SAFE_MARGIN),(0,o.x)())}selectIsPageSmallerThanViewport$(){return this.pageSmallerThanViewport$.pipe((0,o.x)())}observePageSize(){const T=new MutationObserver(()=>{this.pageSmallerThanViewport$.next(this.document.body.scrollHeight<=this.window.innerHeight)});T.observe(this.document.body,{subtree:!0,childList:!0}),this.stopListeningToPageSize$.pipe((0,d.q)(1)).subscribe(()=>T.disconnect()),(0,i.R)(this.window,"resize").pipe((0,h.R)(this.stopListeningToPageSize$)).subscribe(()=>{this.pageSmallerThanViewport$.next(this.document.body.scrollHeight<=this.window.innerHeight)})}unobservePageSize(){this.stopListeningToPageSize$.next()}selectWindowScrollEvent(){return this.windowScrollEvent$||(this.windowScrollEvent$=(0,i.R)(this.window,"scroll")),this.windowScrollEvent$}}return E.\u0275fac=function(T){return new(T||E)(m.LFG(p.m),m.LFG(f.K0))},E.\u0275prov=m.Yz7({token:E,factory:E.\u0275fac}),E})()},24872:(S,g,e)=>{"use strict";e.d(g,{$:()=>i});var t=e(97809),n=e(53488),s=e(84046);let i=(()=>{class r{constructor(){this.startScrollPosition=0,this.reload$=new t.t(1),this.subscription=new n.w}static calculateForItemSize(o,d,h,p){const f=Math.ceil(d/h+p),m=Math.floor(o/h-p);return{start:Math.max(m,0),end:Math.floor(f+o/h)}}static calculateForItemSizes(o,d,h,p){const f=o+d;let m=0,v=0,E=h.length;for(let C=0;C<h.length;C++)m<o?v=Math.max(C,v):f<m&&(E=Math.min(C,E)),m+=h[C];return{start:Math.max(v-p,0),end:Math.min(E+p,h.length)}}ngOnDestroy(){this.subscription.unsubscribe()}reduce(o){0!==o&&!this.shouldRebuild(o)||(this.position=r.calculateForItemSize(o,this.viewportSize,this.itemSize,this.numberOfAdditionaItemsInViewport),this.reload())}setViewportSize(o){this.viewportSize=o}setItemSize(o){this.itemSize=o}setNumberOfAdditionaItemsInViewport(o){this.numberOfAdditionaItemsInViewport=o}selectViewPortPosition(){return this.reload$.asObservable()}reload(){this.reload$.next(this.position)}shouldRebuild(o){return Math.abs(o-this.startScrollPosition)/this.itemSize>this.numberOfAdditionaItemsInViewport/4}}return r.\u0275fac=function(o){return new(o||r)},r.\u0275prov=s.Yz7({token:r,factory:r.\u0275fac}),r})()},94855:(S,g,e)=>{"use strict";e.d(g,{J:()=>h});var t=e(84046);e(19327);let s=(()=>{class p{getSelectedColor(){return this.selectedColor}getColors(){return this.colors}setColors(m){this.colors=m}setSelectedColor(m){this.colors.some(v=>v===m)&&(this.selectedColor=m)}}return p.\u0275fac=function(m){return new(m||p)},p.\u0275prov=t.Yz7({token:p,factory:p.\u0275fac}),p})();var i=e(62546),r=e(55331),a=e(25082);function o(p,f){if(1&p&&(t.TgZ(0,"i",3),t.ALo(1,"spSanitize"),t.qZA()),2&p){const m=t.oxw().$implicit;t.Udp("color",t.xi3(1,2,m.colorStyle,"style"))}}function d(p,f){if(1&p){const m=t.EpF();t.TgZ(0,"div",1),t.NdJ("click",function(E){const T=t.CHM(m).$implicit;return t.oxw().onColorSelection(E,T)}),t.ALo(1,"spSanitize"),t.YNc(2,o,2,5,"i",2),t.qZA()}if(2&p){const m=f.$implicit,v=t.oxw();t.Udp("background-color",t.xi3(1,12,m.backgroundStyle,"style")),t.ekj("sp-color-selected",v.isSelectedColor(m))("sp-compact-color-picker__item--is-disabled",v.disabled)("sp-cursor-not-allowed",v.disabled)("sp-cursor-pointer",!v.disabled),t.uIk("id",v.getColorId(m)),t.xp6(2),t.Q6J("ngIf",v.isSelectedColor(m))}}let h=(()=>{class p extends i.H{constructor(m,v,E,C){super(m,v),this.changeDetector=E,this.collection=C,this.disabled=!1,this.colorSelected=new t.vpe,this.colorCellWidth=24,this.colorListPadding=12,this.idPrefix="sp-color-picker-"}ngOnChanges(m){m.colors&&(this.collection.setColors(this.colors),this.color&&this.setColor(this.color)),m.color&&this.colors&&this.setColor(this.color),m.colorsInRow&&this.domManipulator.addHostStyle("max-width",`${this.colorCellWidth*this.colorsInRow+this.colorListPadding}px`)}onColorSelection(m,v){m.stopPropagation(),this.disabled||(this.setColor(v),this.changeDetector.detectChanges(),this.colorSelected.emit(v))}isSelectedColor(m){return m===this.getSelectedColor()}getColorId(m){return this.idPrefix+m.colorName.replace(/_/g,"-").toLowerCase()}getHostClasses(){return["sp-compact-color-picker","sp-grid","sp-p-2"]}setColor(m){this.collection.setSelectedColor(m)}getSelectedColor(){return this.collection.getSelectedColor()}}return p.\u0275fac=function(m){return new(m||p)(t.Y36(t.SBq),t.Y36(t.Qsj),t.Y36(t.sBO),t.Y36(s))},p.\u0275cmp=t.Xpm({type:p,selectors:[["sp-compact-color-picker"]],inputs:{colors:"colors",color:"color",colorsInRow:"colorsInRow",disabled:"disabled"},outputs:{colorSelected:"colorSelected"},features:[t._Bn([s]),t.qOj,t.TTD],decls:1,vars:1,consts:[["class","sp-compact-color-picker__item sp-circle sp-flex sp-justify-center sp-items-center sp-text-xs",3,"background-color","sp-color-selected","sp-compact-color-picker__item--is-disabled","sp-cursor-not-allowed","sp-cursor-pointer","click",4,"ngFor","ngForOf"],[1,"sp-compact-color-picker__item","sp-circle","sp-flex","sp-justify-center","sp-items-center","sp-text-xs",3,"click"],["class","fas fa-check",3,"color",4,"ngIf"],[1,"fas","fa-check"]],template:function(m,v){1&m&&t.YNc(0,d,3,15,"div",0),2&m&&t.Q6J("ngForOf",v.colors)},directives:[r.sg,r.O5],pipes:[a.n],styles:[".sp-compact-color-picker{grid-template-columns:repeat(auto-fill,16px);grid-gap:var(--space-x2)}.sp-compact-color-picker__item{width:16px;height:16px}.sp-compact-color-picker__item--is-disabled{filter:grayscale(100%)}\n"],encapsulation:2,changeDetection:0}),p})()},41587:(S,g,e)=>{"use strict";e.d(g,{v:()=>a});var t=e(55331),s=(e(94855),e(1030)),i=e(84046);let a=(()=>{class o{static forRoot(){return{ngModule:o}}}return o.\u0275fac=function(h){return new(h||o)},o.\u0275mod=i.oAB({type:o}),o.\u0275inj=i.cJS({imports:[[t.ez,s.l]]}),o})()},9402:(S,g,e)=>{"use strict";e.d(g,{h:()=>M});var t=e(47455),n=e(55331),s=e(84046),i=e(70335),r=e(18840),a=e(19335),o=e(18870),d=e(62126),h=e(45635),p=e(73319),f=e(81e3),m=e(51379),v=e(71118),E=e(95900),C=e(62546),T=e(85703),y=e(68890),I=e(25082),P=e(94944);function L(w,K){1&w&&s._UZ(0,"i",4)}function F(w,K){1&w&&s._UZ(0,"i",10)}function b(w,K){if(1&w){const k=s.EpF();s.TgZ(0,"div",8),s.NdJ("click",function(){const X=s.CHM(k).$implicit;return s.oxw(2).pickColor(X)}),s.ALo(1,"spSanitize"),s.ALo(2,"spSanitize"),s.ALo(3,"spRichTextString"),s.YNc(4,F,1,0,"i",9),s.qZA()}if(2&w){const k=K.$implicit,G=s.oxw(2);s.Udp("background",s.xi3(1,9,k.backgroundStyle,"style"))("color",s.xi3(2,12,k.colorStyle,"style")),s.Q6J("id","sp-color-picker-color-"+k.colorName)("spTooltipEnabled",!!G.getColorDescription(k.colorName))("spTooltip",s.lcZ(3,15,G.getColorDescription(k.colorName)))("spTooltipGravity",G.tooltipGravity),s.xp6(4),s.Q6J("ngIf",G.displaySymbol)}}function x(w,K){if(1&w){const k=s.EpF();s.TgZ(0,"div",11),s.NdJ("click",function(){return s.CHM(k),s.oxw(2).clear()}),s.ALo(1,"spRichTextString"),s._UZ(2,"i",12),s.qZA()}if(2&w){const k=s.oxw(2);s.Q6J("spTooltip",s.lcZ(1,2,"Clear"))("spTooltipGravity",k.tooltipGravity)}}function B(w,K){if(1&w&&(s.TgZ(0,"div",5),s.YNc(1,b,5,17,"div",6),s.YNc(2,x,3,4,"div",7),s.qZA()),2&w){const k=s.oxw();s.xp6(1),s.Q6J("ngForOf",k.colors),s.xp6(1),s.Q6J("ngIf",null==k.colorPickerConfiguration?null:k.colorPickerConfiguration.removeAvailable)}}let M=(()=>{class w extends C.H{constructor(k,G,$,X,ie,se){super(G,$),this.platformId=k,this.changeDetectorRef=X,this.colorPickerService=ie,this.defaults=se,this.displaySymbol=!0,this.colorPickerConfiguration=(new p.a).default(),this.inactive=!1,this.colorChanged=new s.vpe,this.tooltipGravity=E.X.NORTH,this.connectedOverlayPositions=[{originX:"start",originY:"top",overlayX:"start",overlayY:"top",offsetX:-3,offsetY:-3},{originX:"start",originY:"bottom",overlayX:"start",overlayY:"bottom",offsetX:-3,offsetY:3}],this.connectedOverlayBackdropCssClass="cdk-overlay-backdrop-transparent",this.id=(0,T.Hu)(),this.colorPickerVisible$=new r.X(!1),this.propagateChange=pe=>{},this.onTouched=()=>{},this.colorVisible=se.defaultColor,this.defaultColors=[...se.defaultColors],this.colors=[...this.defaultColors]}getHostClasses(){return["sp-relative"]}ngOnChanges(k){k.colorSelected&&k.colorSelected.currentValue&&this.selectColor(this.colorSelected),k.customColorDefinitions&&k.customColorDefinitions.currentValue&&(this.colors=this.extractToColor(this.customColorDefinitions),this.colorVisible&&this.selectColor(this.colorVisible.colorName)),k.colorPickerConfiguration&&!this.colorSelected&&(this.colorVisible=this.colorPickerConfiguration.defaultColor)}ngOnInit(){this.colorChanged.pipe((0,d.b)(0,this.getScheduler()),this.takeUntilDestroy()).subscribe(()=>{this.changeDetectorRef.detectChanges()}),this.colorPickerVisible$.pipe((0,h.b)(k=>{this.colorPickerVisible=k}),(0,d.b)(0,this.getScheduler()),this.takeUntilDestroy()).subscribe(k=>{k&&this.connectedOverlay&&this.connectedOverlay.overlayRef.updatePosition()}),this.colorPickerService.selectLastOpened().pipe(this.takeUntilDestroy()).subscribe(k=>{k!==this.id&&this.closeMenu()})}getId(){return this.id}showColorPickerMenu(){this.colorPickerVisible||this.inactive||(this.colorPickerVisible$.next(!0),this.colorPickerService.setLastOpened(this.id),this.changeDetectorRef.detectChanges())}closeMenu(){!this.colorPickerVisible||(this.colorPickerVisible$.next(!1),this.changeDetectorRef.detectChanges())}pickColor(k){const G=void 0===this.colorVisible&&void 0===k||void 0!==this.colorVisible&&this.colorVisible.colorName===k.colorName;this.closeMenu(),G||(k.isSameColor(this.defaults.defaultColor.colorName)?this.reset():this.selectColor(k.colorName),this.colorChanged.next(this.colorVisible),this.propagateChange(this.colorVisible.colorName))}registerOnChange(k){this.propagateChange=k}registerOnTouched(k){this.onTouched=k}writeValue(k){k?this.selectColor(k):this.reset(),this.changeDetectorRef.detectChanges()}getColorDescription(k){if(!this.customColorDefinitions)return"";const G=this.customColorDefinitions.find($=>$.color.colorName===k);return G?G.description:void 0}clear(){this.closeMenu(),this.colorVisible=void 0,this.colorChanged.next(this.colorVisible)}getMenuIconId(){return this.colorVisible?"sp-color-picker-button-"+this.colorVisible.colorName:"sp-color-picker-button"}getMenuIconConditionalClasses(){const k=[];return this.inactive||k.push("sp-cursor-pointer"),v.l.isDefined(this.colorVisible.colorName)&&k.push(this.colorVisible.colorName),k.join(" ")}getMenuIconBackgroundStyle(){return this.colorVisible?this.colorVisible.backgroundStyle:this.colorPickerConfiguration.defaultColor.backgroundStyle}getMenuIconColorStyle(){return this.colorVisible?this.colorVisible.colorStyle:this.colorPickerConfiguration.defaultColor.colorStyle}reset(){this.colors=this.resolveColorPalette(),this.colorVisible=this.colors[0],this.colorChanged.next(this.colorVisible),this.propagateChange(this.colorVisible.colorName)}selectColor(k){const G=this.resolveColorPalette(),$=G.findIndex(ie=>k===ie.colorName);let X=G[$];if($>=0){const ie=G[0];G[0]=X,G[$]=ie}else X=$<0?this.colorPickerConfiguration.defaultColor:this.defaultColors.find(ie=>ie.colorName===k);this.colors=G,this.colorVisible=X}resolveColorPalette(){return this.customColorDefinitions&&this.customColorDefinitions.length?[...this.extractToColor(this.customColorDefinitions)]:[...this.defaultColors]}extractToColor(k){return k.map(G=>G.color)}getScheduler(){return(0,n.NF)(this.platformId)?a.Z:o.z}}return w.\u0275fac=function(k){return new(k||w)(s.Y36(s.Lbi),s.Y36(s.SBq),s.Y36(s.Qsj),s.Y36(s.sBO),s.Y36(m.e),s.Y36(f.B.injectionToken))},w.\u0275cmp=s.Xpm({type:w,selectors:[["sp-color-picker"]],viewQuery:function(k,G){if(1&k&&s.Gf(t.pI,7),2&k){let $;s.iGM($=s.CRH())&&(G.connectedOverlay=$.first)}},inputs:{colorSelected:"colorSelected",displaySymbol:"displaySymbol",customColorDefinitions:"customColorDefinitions",colorPickerConfiguration:"colorPickerConfiguration",inactive:"inactive"},outputs:{colorChanged:"colorChanged"},features:[s._Bn([{provide:i.JU,useExisting:(0,s.Gpc)(()=>w),multi:!0}]),s.qOj,s.TTD],decls:6,vars:20,consts:[["cdkOverlayOrigin","",1,"sp-color-picker-menu__icon","sp-color-picker-menu__icon--input","sp-flex","sp-items-center","sp-justify-center","sp-fg-white","sp-border-rounded",3,"ngClass","id","click"],["overlayOrigin","cdkOverlayOrigin"],["class","fa fa-font sp-text-xs sp-border-rounded sp-color-picker-menu__icon-brush","aria-hidden","true",4,"ngIf"],["cdkConnectedOverlay","",3,"cdkConnectedOverlayOrigin","cdkConnectedOverlayOpen","cdkConnectedOverlayPositions","cdkConnectedOverlayHasBackdrop","cdkConnectedOverlayBackdropClass","backdropClick"],["aria-hidden","true",1,"fa","fa-font","sp-text-xs","sp-border-rounded","sp-color-picker-menu__icon-brush"],["id","sp-color-picker-menu",1,"sp-color-picker-menu","sp-grid","sp-bg-gray-20","sp-dark:bg-gray-20","sp-border-rounded"],["class","sp-color-picker-menu__icon sp-flex sp-items-center sp-justify-center sp-cursor-pointer sp-fg-white sp-border-rounded",3,"id","spTooltipEnabled","spTooltip","spTooltipGravity","background","color","click",4,"ngFor","ngForOf"],["class","sp-color-picker-menu__icon sp-flex sp-items-center sp-justify-center sp-cursor-pointer sp-fg-white sp-border-rounded",3,"spTooltip","spTooltipGravity","click",4,"ngIf"],[1,"sp-color-picker-menu__icon","sp-flex","sp-items-center","sp-justify-center","sp-cursor-pointer","sp-fg-white","sp-border-rounded",3,"id","spTooltipEnabled","spTooltip","spTooltipGravity","click"],["class","fa fa-font sp-text-xs sp-color-picker-menu__icon-brush","aria-hidden","true",4,"ngIf"],["aria-hidden","true",1,"fa","fa-font","sp-text-xs","sp-color-picker-menu__icon-brush"],[1,"sp-color-picker-menu__icon","sp-flex","sp-items-center","sp-justify-center","sp-cursor-pointer","sp-fg-white","sp-border-rounded",3,"spTooltip","spTooltipGravity","click"],["aria-hidden","true",1,"fa","fa-times","sp-text-xs","sp-fg-black"]],template:function(k,G){if(1&k&&(s.TgZ(0,"div",0,1),s.NdJ("click",function(){return G.showColorPickerMenu()}),s.ALo(2,"spSanitize"),s.ALo(3,"spSanitize"),s.YNc(4,L,1,0,"i",2),s.qZA(),s.YNc(5,B,3,2,"ng-template",3),s.NdJ("backdropClick",function(){return G.closeMenu()})),2&k){const $=s.MAs(1);s.Udp("background",s.xi3(2,14,G.getMenuIconBackgroundStyle(),"style"))("color",s.xi3(3,17,G.getMenuIconColorStyle(),"style")),s.ekj("sp-color-picker-menu__icon--no-color",!G.colorVisible),s.Q6J("ngClass",G.getMenuIconConditionalClasses())("id",G.getMenuIconId()),s.xp6(4),s.Q6J("ngIf",G.displaySymbol),s.xp6(1),s.Q6J("cdkConnectedOverlayOrigin",$)("cdkConnectedOverlayOpen",G.colorPickerVisible)("cdkConnectedOverlayPositions",G.connectedOverlayPositions)("cdkConnectedOverlayHasBackdrop",!0)("cdkConnectedOverlayBackdropClass",G.connectedOverlayBackdropCssClass)}},directives:[t.xu,n.mk,n.O5,t.pI,n.sg,y.i9],pipes:[I.n,P.C],styles:[".sp-color-picker-menu{border:1px solid var(--gray-30);grid-template-columns:repeat(auto-fill,30px);grid-gap:2px;padding:2px;max-width:138px;z-index:101}.sp-color-picker-menu__icon{height:30px;width:30px}.sp-color-picker-menu__icon--input{height:32px;width:32px;border-top-left-radius:0;border-bottom-left-radius:0}.sp-color-picker-menu__icon-brush:hover{opacity:.8}.sp-color-picker-menu__icon--no-color{border:2px solid var(--gray-30);background:var(--gray-20);color:var(--gray-400);border-radius:var(--border-radius-m)}.sp-color-picker-menu__icon--no-color:hover{background-color:var(--gray-30);color:var(--gray-400);text-decoration:none}\n"],encapsulation:2,changeDetection:0}),w})()},73319:(S,g,e)=>{"use strict";e.d(g,{a:()=>n});var t=e(81e3);class n{constructor(){this.defaultColor=t.B.default.defaultColor}default(){return this.removeAvailable=!1,this.defaultColor=t.B.default.defaultColor,this}withRemoveAvailable(){return this.removeAvailable=!0,this}withDefaultColor(i){return this.defaultColor=i,this}}},81e3:(S,g,e)=>{"use strict";e.d(g,{W:()=>s,B:()=>i});var t=e(84046),n=e(19327);const s=Object.freeze({VIOLET:n.B.VIOLET,BLUE:n.B.BLUE,CYAN:n.B.CYAN,MID_GREEN:n.B.MID_GREEN,GREEN:n.B.GREEN,LIME_GREEN:n.B.LIME_GREEN,YELLOW:n.B.YELLOW,CHEETO_ORANGE:n.B.CHEETO_ORANGE,LIGHT_BROWN:n.B.LIGHT_BROWN,BROWN:n.B.BROWN,BRIGHT_PINK:n.B.BRIGHT_PINK,RED:n.B.RED,MEDIUM_GRAY:n.B.MEDIUM_GRAY,SLATE:n.B.SLATE,NAVY:n.B.NAVY,CHARCOAL:n.B.CHARCOAL});class i{constructor(){this.defaultColor=n.B.VIOLET,this.defaultColors=Object.keys(s).map(a=>s[a])}}i.default=new i,i.injectionToken=new t.OlP("DEFAULT_COLOR_PICKER_COLORS")},99553:(S,g,e)=>{"use strict";e.d(g,{e:()=>m});var t=e(47455),n=e(55331),i=(e(9402),e(51379)),r=e(81e3),a=e(68890),o=e(1030),d=e(26566),h=e(84046);const f=[i.e,{provide:r.B.injectionToken,useValue:r.B.default}];let m=(()=>{class v{static forRoot(){return{ngModule:v,providers:f}}}return v.\u0275fac=function(C){return new(C||v)},v.\u0275mod=h.oAB({type:v}),v.\u0275inj=h.cJS({imports:[[n.ez,t.U8,a.z8,o.l,d.n]]}),v})()},51379:(S,g,e)=>{"use strict";e.d(g,{e:()=>i});var t=e(18840),n=e(81e3),s=e(84046);let i=(()=>{class r{constructor(){this.colorPickerDefaults=new n.B,this.lastOpened$=new t.X(null)}getDefaultColors(){return this.colorPickerDefaults.defaultColors}getDefaultColor(){return this.colorPickerDefaults.defaultColor}getColorByName(o){return this.colorPickerDefaults.defaultColors.find(h=>h.colorName===o)||this.colorPickerDefaults.defaultColor}getHashColorByName(o){return this.getColorByName(o).backgroundStyle}getLastOpened(){return this.lastOpened$.getValue()}selectLastOpened(){return this.lastOpened$.asObservable()}setLastOpened(o){this.lastOpened$.next(o)}}return r.\u0275fac=function(o){return new(o||r)},r.\u0275prov=s.Yz7({token:r,factory:r.\u0275fac}),r})()},36475:(S,g,e)=>{"use strict";e.d(g,{D:()=>f});var t=e(55331),n=e(84046),s=e(73197),i=e(6397),r=e(66510),a=e(76376),o=e(96096),d=e(62546),h=e(91078),p=e(71118);let f=(()=>{class m extends d.H{constructor(E,C,T){super(E,C),this.injector=T,this.dateSelection$=new n.vpe,this.calendarOpen$=new n.vpe,this.dropdownRef=null,this.document=T.get(t.K0),this.changeDetectorRef=T.get(n.sBO),this.datePickerDropdownFactory=T.get(a.n),this.datePickerDropdownPositioner=T.get(o.m)}finalize(){this.dropdownRef&&this.hideDropdown()}toggleDropdown(){this.dropdownRef?this.hideDropdown():this.showDropdown()}clearSelection(){this.updateSelectedDate(null)}showDropdown(){this.dropdownRef=this.createDropdownRef(),this.datePickerDropdownPositioner.positionDropdown(this.elementRef.nativeElement,this.dropdownRef.location.nativeElement),this.preventClicksInsideDropdownFromBlurringTrigger(),this.calendarOpen$.emit(),this.registerHandlerForClickOutside()}onDateChange(E){}hideDropdown(){this.dropdownRef&&(this.dropdownRef.destroy(),this.dropdownRef=null)}updateSelectedDate(E){this.selectedDate=E,this.dateSelection$.emit(E),this.onDateChange(E)}registerHandlerForClickOutside(){new i.$(this.dropdownRef.location.nativeElement,this.document,{ignoredElement:this.elementRef.nativeElement}).pipe((0,h.B)(this.dropdownRef),this.takeUntilDestroy()).subscribe(()=>{this.hideDropdown()})}preventClicksInsideDropdownFromBlurringTrigger(){(0,s.R)(this.dropdownRef.location.nativeElement,"mousedown").pipe((0,h.B)(this.dropdownRef),this.takeUntilDestroy()).subscribe(E=>E.preventDefault())}createDropdownRef(){return this.datePickerDropdownFactory.create(n.zs3.create({providers:[(0,r.V)({selectedDate:this.selectedDate,updateSelectedDate:E=>{this.hideDropdown(),this.updateSelectedDate(E)}})],parent:this.injector}))}get open(){return null!==this.dropdownRef}get dateSelected(){return p.l.isDefined(this.selectedDate)}}return m.\u0275fac=function(E){return new(E||m)(n.Y36(n.SBq),n.Y36(n.Qsj),n.Y36(n.zs3))},m.\u0275dir=n.lG2({type:m,inputs:{selectedDate:"selectedDate"},outputs:{dateSelection$:"dateSelection",calendarOpen$:"calendarOpen"},features:[n.qOj]}),m})()},29634:(S,g,e)=>{"use strict";e.d(g,{L:()=>T});var t=e(70335),n=e(36475),s=e(15161),i=e(84046),r=e(55331),a=e(68890);let o=(()=>{class y{transform(P){return P?`${P}-input`:null}}return y.\u0275fac=function(P){return new(P||y)},y.\u0275pipe=i.Yjl({name:"spDatePickerInputId",type:y,pure:!0}),y})();var d=e(71118),h=e(9351);let f=(()=>{class y{transform(P,L){return d.l.isDefined(P)&&d.l.isDefined(L)?class{static format(I,P){return h.p.formatUTCDate(I,P)}}.format(P,L):""}}return y.\u0275fac=function(P){return new(P||y)},y.\u0275pipe=i.Yjl({name:"spDatePickerDate",type:y,pure:!0}),y})(),m=(()=>{class y{transform(P){return P?`${P}-clear-datepicker`:null}}return y.\u0275fac=function(P){return new(P||y)},y.\u0275pipe=i.Yjl({name:"spDatePickerClearBtnId",type:y,pure:!0}),y})();var v=e(18217);const E=["dropdownToggleBtn"];function C(y,I){if(1&y){const P=i.EpF();i.TgZ(0,"i",5),i.NdJ("click",function(){return i.CHM(P),i.oxw().clearSelection()}),i.ALo(1,"spDatePickerClearBtnId"),i.ALo(2,"spRichTextI18n"),i.qZA()}if(2&y){const P=i.oxw();i.Q6J("spTooltip",i.lcZ(2,4,"SPT_COMMON_DATE_PICKER_BUTTON_SELECTED_DATE_TOOLTIP")),i.uIk("id",i.lcZ(1,2,P.id))}}let T=(()=>{class y extends n.D{constructor(P,L,F,b){super(L,F,P),this.dateFormatProvider=b,this.id=null,this.disabled=!1,this.onControlValueChange=null}ngOnChanges(P){P.id&&P.id.currentValue&&this.setHostId()}ngOnInit(){this.setHostId(),this.observeDateFormat()}writeValue(P){this.selectedDate=P,this.changeDetectorRef.detectChanges()}registerOnChange(P){this.onControlValueChange=P}registerOnTouched(P){this.onInputTouched=P}setDisabledState(P){this.disabled=P,this.changeDetectorRef.detectChanges()}markTouched(){this.onInputTouched&&this.onInputTouched()}getHostClasses(){return["sp-form-field","sp-flex","sp-items-center","sp-relative"]}onDateChange(P){this.markTouched(),this.changeDetectorRef.detectChanges(),this.onControlValueChange&&this.onControlValueChange(P)}setHostId(){!this.id||this.domManipulator.setHostAttribute("id",this.id)}observeDateFormat(){this.dateFormatProvider.select().pipe(this.takeUntilDestroy()).subscribe(P=>{this.dateFormat=P,this.changeDetectorRef.detectChanges()})}}return y.\u0275fac=function(P){return new(P||y)(i.Y36(i.zs3),i.Y36(i.SBq),i.Y36(i.Qsj),i.Y36(s.v))},y.\u0275cmp=i.Xpm({type:y,selectors:[["sp-datepicker-one"]],viewQuery:function(P,L){if(1&P&&i.Gf(E,7),2&P){let F;i.iGM(F=i.CRH())&&(L.dropdownToggleBtnElemRef=F.first)}},inputs:{placeholder:"placeholder",id:"id"},features:[i._Bn([{provide:t.JU,useExisting:y,multi:!0}]),i.qOj,i.TTD],decls:7,vars:12,consts:[["readonly","",1,"sp-form-control","sp-cursor-pointer","sp-truncate",3,"value","disabled","placeholder","click","blur"],["dropdownToggleBtn",""],[1,"sp-btn-container","sp-flex","sp-bg-black-text","sp-absolute"],["class","far fa-times sp-cursor-pointer sp-clear-btn sp-mr-2 sp-fg-icon",3,"spTooltip","click",4,"ngIf"],[1,"sp-datepicker-calendar","far","fa-calendar","sp-cursor-pointer",3,"click"],[1,"far","fa-times","sp-cursor-pointer","sp-clear-btn","sp-mr-2","sp-fg-icon",3,"spTooltip","click"]],template:function(P,L){1&P&&(i.TgZ(0,"input",0,1),i.NdJ("click",function(){return L.toggleDropdown()})("blur",function(){return L.markTouched()}),i.ALo(2,"spDatePickerInputId"),i.ALo(3,"spDatePickerDate"),i.qZA(),i.TgZ(4,"div",2),i.YNc(5,C,3,6,"i",3),i.TgZ(6,"i",4),i.NdJ("click",function(){return L.toggleDropdown()}),i.qZA(),i.qZA()),2&P&&(i.Q6J("value",i.xi3(3,9,L.selectedDate,L.dateFormat))("disabled",L.disabled)("placeholder",L.placeholder||""),i.uIk("id",i.lcZ(2,7,L.id)),i.xp6(5),i.Q6J("ngIf",!L.disabled&&L.dateSelected),i.xp6(1),i.ekj("sp-pointer-events-none",L.disabled))},directives:[r.O5,a.i9],pipes:[o,f,m,v.d],styles:["sp-datepicker-one .sp-btn-container{right:2px;padding-right:6px;padding-left:8px;transition:background .2s}sp-datepicker-one input{padding-right:43px}sp-datepicker-one input:focus+.sp-btn-container{background:var(--gray-0)}sp-datepicker-one input:hover:not(:focus)+.sp-btn-container{background:var(--gray-30)}sp-datepicker-one .sp-datepicker-calendar{color:var(--gray-400)}sp-datepicker-one .sp-datepicker-calendar:hover{color:var(--gray-800)}sp-datepicker-one .sp-clear-btn:hover{color:var(--gray-400)}sp-datepicker-one .sp-clear-btn:active{color:var(--primary)}\n"],encapsulation:2,changeDetection:0}),y})()},15161:(S,g,e)=>{"use strict";e.d(g,{v:()=>s});var t=e(63771),n=e(84046);let s=(()=>{class i{constructor(a){this.dateFormatStorage=a}select(){return this.dateFormatStorage.select()}}return i.\u0275fac=function(a){return new(a||i)(n.LFG(t.R))},i.\u0275prov=n.Yz7({token:i,factory:i.\u0275fac}),i})()},66510:(S,g,e)=>{"use strict";e.d(g,{u:()=>n,V:()=>s});const n=new(e(84046).OlP)("DATE_PICKER_HOST");function s(i){return{provide:n,useValue:i}}},38696:(S,g,e)=>{"use strict";e.d(g,{I:()=>ot});var t=e(55331),n=e(41001),s=e(26566),i=e(13747),r=e(15161),a=e(76376),o=e(68890),d=e(84046);let h=(()=>{class Me{}return Me.\u0275fac=function(Ne){return new(Ne||Me)},Me.\u0275mod=d.oAB({type:Me}),Me.\u0275inj=d.cJS({imports:[[t.ez,o.z8,s.n]]}),Me})();var p=e(90850),f=e(96105),m=e(35811),v=e(54806);let E=(()=>{class Me{constructor(Ne){this.currentLocaleDataStorage=Ne,this.destroyed$=new p.xQ,this.currentLocaleDataStorage.select().pipe((0,f.x)(),(0,m.R)(this.destroyed$)).subscribe(we=>{this.monthNames=v.Y.getMonthsFormat(we).abbrev})}ngOnDestroy(){this.destroyed$.next(),this.destroyed$.complete()}getNameOf(Ne){return this.monthNames[Ne]}}return Me.\u0275fac=function(Ne){return new(Ne||Me)(d.LFG(v.Y))},Me.\u0275prov=d.Yz7({token:Me,factory:Me.\u0275fac}),Me})(),C=(()=>{class Me{}return Me.\u0275fac=function(Ne){return new(Ne||Me)},Me.\u0275mod=d.oAB({type:Me}),Me.\u0275inj=d.cJS({imports:[[t.ez,n.J,o.z8,s.n]]}),Me})();var T=e(42573),y=e(12578);let I=(()=>{class Me{}return Me.\u0275fac=function(Ne){return new(Ne||Me)},Me.\u0275mod=d.oAB({type:Me}),Me.\u0275inj=d.cJS({imports:[[t.ez]]}),Me})(),P=(()=>{class Me{}return Me.\u0275fac=function(Ne){return new(Ne||Me)},Me.\u0275mod=d.oAB({type:Me}),Me.\u0275inj=d.cJS({imports:[[t.ez]]}),Me})(),L=(()=>{class Me{}return Me.\u0275fac=function(Ne){return new(Ne||Me)},Me.\u0275mod=d.oAB({type:Me}),Me.\u0275inj=d.cJS({providers:[E],imports:[[t.ez,T._,y.b,I,h,P,n.J,C]]}),Me})(),F=(()=>{class Me{constructor(Ne){this.localeId=Ne,this.monthNames=(0,t.UT)(this.localeId,t.x.Standalone,t.Tn.Abbreviated)}getNameOf(Ne){return this.monthNames[Ne]}}return Me.\u0275fac=function(Ne){return new(Ne||Me)(d.LFG(d.soG))},Me.\u0275prov=d.Yz7({token:Me,factory:Me.\u0275fac}),Me})(),b=(()=>{class Me{}return Me.\u0275fac=function(Ne){return new(Ne||Me)},Me.\u0275mod=d.oAB({type:Me}),Me.\u0275inj=d.cJS({imports:[[t.ez]]}),Me})(),x=(()=>{class Me{}return Me.\u0275fac=function(Ne){return new(Ne||Me)},Me.\u0275mod=d.oAB({type:Me}),Me.\u0275inj=d.cJS({providers:[F],imports:[[t.ez,P,h,b,C]]}),Me})(),B=(()=>{class Me{}return Me.\u0275fac=function(Ne){return new(Ne||Me)},Me.\u0275mod=d.oAB({type:Me}),Me.\u0275inj=d.cJS({imports:[[t.ez,P,h,b,C]]}),Me})();var M=e(51678),w=e(43126),K=e(48758),k=e(62546);let G=(()=>{class Me extends k.H{constructor(Ne,we,At){super(Ne,we),this.viewStream=At.get(K.$),this.timePointStream=At.get(w.s)}ngOnInit(){this.init(),this.observeTimePoint()}observeTimePoint(){this.timePointStream.observe().pipe(this.takeUntilDestroy()).subscribe(this.onTimePointChange.bind(this))}}return Me.\u0275fac=function(Ne){return new(Ne||Me)(d.LFG(d.SBq),d.LFG(d.Qsj),d.LFG(d.zs3))},Me.\u0275prov=d.Yz7({token:Me,factory:Me.\u0275fac}),Me})();var $=e(70822),X=e(66510),ie=e(69677),se=e(9351);let pe=(()=>{class Me extends ie.T{constructor(Ne,we,At){super(Ne,we),this.datePickerHost=At,this.selected=!1}ngOnInit(){this.domManipulator.addHostClass(`sp-day-index-circle-${this.calendarDayItem.index}`),this.setSelectStatus(),this.setSelectedHostClass(),this.observeHostClick()}getHostClasses(){return["sp-day-index-circle","sp-text-s"]}setSelectStatus(){const Ne=new se.p(se.p.convertUTCDateToDate(this.cellDate)),we=new se.p(se.p.convertUTCDateToDate(this.datePickerHost.selectedDate));this.selected=Ne.isSameDay(we)}setSelectedHostClass(){this.selected?this.domManipulator.addHostClass("sp-selected"):this.domManipulator.removeHostClass("sp-selected")}observeHostClick(){this.domManipulator.hostListen("click").pipe((0,$.h)(()=>!this.selected),this.takeUntilDestroy()).subscribe(()=>this.datePickerHost.updateSelectedDate(this.cellDate))}get cellDate(){return this.calendarDayItem.pointInTime}}return Me.\u0275fac=function(Ne){return new(Ne||Me)(d.Y36(d.SBq),d.Y36(d.Qsj),d.Y36(X.u))},Me.\u0275cmp=d.Xpm({type:Me,selectors:[["sp-date-picker-calendar-cell"]],features:[d.qOj],decls:1,vars:1,template:function(Ne,we){1&Ne&&d._uU(0),2&Ne&&d.hij("",we.calendarDayItem.index,"\n")},styles:["sp-date-picker-calendar-cell:hover{background:var(--gray-20);cursor:pointer}sp-date-picker-calendar-cell:active{background:var(--blue-50);color:var(--primary)}sp-date-picker-calendar-cell.sp-selected{background:var(--primary);color:var(--white)}\n"],encapsulation:2,changeDetection:0}),Me})();var ve=e(924),Ce=e(25105),ye=e(28486),de=e(70351);const Ie=[[["","view-header",""]],[["","view-body",""]]],He=["[view-header]","[view-body]"];let Ve=(()=>{class Me extends k.H{constructor(Ne,we){super(Ne,we)}getHostClasses(){return["sp-flex","sp-flex-col","sp-date-picker-view-skeleton"]}}return Me.\u0275fac=function(Ne){return new(Ne||Me)(d.Y36(d.SBq),d.Y36(d.Qsj))},Me.\u0275cmp=d.Xpm({type:Me,selectors:[["sp-date-picker-view-skeleton"]],features:[d.qOj],ngContentSelectors:He,decls:4,vars:0,consts:[[1,"sp-date-picker-view-skeleton__header","sp-font-medium"],[1,"sp-date-picker-view-skeleton__body","sp-view-body","sp-mt-2","sp-h-full","sp-flex","sp-justify-center","sp-items-center"]],template:function(Ne,we){1&Ne&&(d.F$t(Ie),d.TgZ(0,"div",0),d.Hsn(1),d.qZA(),d.TgZ(2,"div",1),d.Hsn(3,1),d.qZA())},styles:[".sp-date-picker-view-skeleton{width:184px}.sp-date-picker-view-skeleton__body{height:186px;margin-left:-8px;margin-right:-8px}\n"],encapsulation:2,changeDetection:0}),Me})();var Ue=e(94944);const xe=["*"];let gt=(()=>{class Me{constructor(){this.leftClick$=new d.vpe,this.rightClick$=new d.vpe,this.commonChangePeriodBtnClasses=["far","sp-change-period-btn","sp-text-s"],this.class="sp-flex sp-items-center sp-w-full sp-h-full"}}return Me.\u0275fac=function(Ne){return new(Ne||Me)},Me.\u0275cmp=d.Xpm({type:Me,selectors:[["sp-datepicker-arrow-switcher"]],hostVars:2,hostBindings:function(Ne,we){2&Ne&&d.Tol(we.class)},inputs:{leftArrowClass:"leftArrowClass",rightArrowClass:"rightArrowClass",leftTooltip:"leftTooltip",rightTooltip:"rightTooltip"},outputs:{leftClick$:"leftClick",rightClick$:"rightClick"},ngContentSelectors:xe,decls:5,vars:10,consts:[[3,"ngClass","spTooltipEnabled","spTooltip","click"]],template:function(Ne,we){1&Ne&&(d.F$t(),d.TgZ(0,"i",0),d.NdJ("click",function(){return we.leftClick$.emit()}),d.ALo(1,"spRichTextString"),d.qZA(),d.Hsn(2),d.TgZ(3,"i",0),d.NdJ("click",function(){return we.rightClick$.emit()}),d.ALo(4,"spRichTextString"),d.qZA()),2&Ne&&(d.Q6J("ngClass",we.commonChangePeriodBtnClasses.concat(we.leftArrowClass).concat("sp-mr-auto"))("spTooltipEnabled",void 0!==we.leftTooltip)("spTooltip",d.lcZ(1,6,we.leftTooltip)),d.xp6(3),d.Q6J("ngClass",we.commonChangePeriodBtnClasses.concat(we.rightArrowClass).concat("sp-ml-auto"))("spTooltipEnabled",void 0!==we.rightTooltip)("spTooltip",d.lcZ(4,8,we.rightTooltip)))},directives:[t.mk,o.i9],pipes:[Ue.C],styles:["sp-datepicker-arrow-switcher .sp-change-period-btn{color:var(--gray-100);font-weight:900}sp-datepicker-arrow-switcher .sp-change-period-btn:hover,sp-datepicker-arrow-switcher .sp-change-period-btn:active{cursor:pointer}sp-datepicker-arrow-switcher .sp-change-period-btn:hover{color:var(--gray-400)}sp-datepicker-arrow-switcher .sp-change-period-btn:active{color:var(--primary)}\n"],encapsulation:2,changeDetection:0}),Me})();var tt=e(18217);let lt=(()=>{class Me{constructor(Ne){this.datePickerHost=Ne}selectCurrentDate(){const Ne=se.p.getUTCTodayDate();this.datePickerHost.updateSelectedDate(Ne)}}return Me.\u0275fac=function(Ne){return new(Ne||Me)(d.Y36(X.u))},Me.\u0275cmp=d.Xpm({type:Me,selectors:[["sp-date-picker-today-button"]],decls:2,vars:3,consts:[["id","sp-date-picker-today-btn",1,"far","fa-dot-circle","sp-cursor-pointer",3,"spTooltip","spTooltipEnabled","click"]],template:function(Ne,we){1&Ne&&(d.TgZ(0,"i",0),d.NdJ("click",function(){return we.selectCurrentDate()}),d.ALo(1,"spRichTextI18n"),d.qZA()),2&Ne&&d.Q6J("spTooltip",d.lcZ(1,1,"SPT_COMMON_DATE_PICKER_BUTTON_TODAY_TOOLTIP"))},directives:[o.i9],pipes:[tt.d],styles:["sp-date-picker-today-button i{color:var(--gray-400)}sp-date-picker-today-button i:hover{color:var(--primary)}\n"],encapsulation:2,changeDetection:0}),Me})();var Mt=e(26844),ne=e(65799);let De=(()=>{class Me{constructor(Ne){this.monthNameProvider=Ne}transform(Ne){return this.monthNameProvider.getNameOf(Ne)}}return Me.\u0275fac=function(Ne){return new(Ne||Me)(d.Y36(E,16))},Me.\u0275pipe=d.Yjl({name:"spDatePickerCalendarMonthName",type:Me,pure:!0}),Me})();var Ye=e(17695);function Qe(Me,Ze){if(1&Me){const Ne=d.EpF();d.TgZ(0,"sp-date-picker-view-skeleton"),d.TgZ(1,"sp-datepicker-arrow-switcher",1),d.NdJ("leftClick",function(){d.CHM(Ne);const At=d.oxw();return At.toPrevious(At.periodType.YEAR)})("rightClick",function(){d.CHM(Ne);const At=d.oxw();return At.toNext(At.periodType.YEAR)}),d.ALo(2,"spL10nText"),d.ALo(3,"spL10nText"),d.TgZ(4,"sp-datepicker-arrow-switcher",2),d.NdJ("leftClick",function(){d.CHM(Ne);const At=d.oxw();return At.toPrevious(At.periodType.MONTH)})("rightClick",function(){d.CHM(Ne);const At=d.oxw();return At.toNext(At.periodType.MONTH)}),d.ALo(5,"spL10nText"),d.ALo(6,"spL10nText"),d._UZ(7,"sp-date-picker-today-button",3),d.TgZ(8,"span",4),d.NdJ("click",function(){return d.CHM(Ne),d.oxw().viewStream.toMonthSelector()}),d._uU(9),d.ALo(10,"spDatePickerCalendarMonthName"),d.qZA(),d.TgZ(11,"span",5),d.NdJ("click",function(){return d.CHM(Ne),d.oxw().viewStream.toYearSelector()}),d._uU(12),d.qZA(),d.qZA(),d.qZA(),d._UZ(13,"sp-calendar-month-skeleton",6),d.ALo(14,"spMonthItem"),d.qZA()}if(2&Me){const Ne=d.oxw();d.xp6(1),d.Q6J("leftTooltip",d.lcZ(2,7,"SPT_COMMON_DATE_PICKER_BUTTON_PREVIOUS_YEAR_TOOLTIP"))("rightTooltip",d.lcZ(3,9,"SPT_COMMON_DATE_PICKER_BUTTON_NEXT_YEAR_TOOLTIP")),d.xp6(3),d.Q6J("leftTooltip",d.lcZ(5,11,"SPT_COMMON_DATE_PICKER_BUTTON_PREVIOUS_MONTH_TOOLTIP"))("rightTooltip",d.lcZ(6,13,"SPT_COMMON_DATE_PICKER_BUTTON_NEXT_MONTH_TOOLTIP")),d.xp6(5),d.hij(" ",d.lcZ(10,15,Ne.timePoint.month)," "),d.xp6(3),d.hij(" ",Ne.timePoint.year," "),d.xp6(1),d.Q6J("calendarItem",d.lcZ(14,17,Ne.timePoint))}}let Ke=(()=>{class Me extends G{constructor(Ne,we,At,Rt,zt,Yt){super(we,At,Ne),this.changeDetectorRef=Rt,this.calendarRepository=zt,this.calendarSwitcherService=Yt,this.periodType=ve.B}init(){this.calendarRepository.changeConfiguration(new Ce.n(pe).build())}onTimePointChange(Ne){this.timePoint=Ne,this.calendarRepository.changeTimePoint(Ne),this.changeDetectorRef.detectChanges()}toPrevious(Ne){const we=this.calendarSwitcherService.getPrecedingTimePoint(Ne);this.timePointStream.update(we)}toNext(Ne){const we=this.calendarSwitcherService.getFollowingTimePoint(Ne);this.timePointStream.update(we)}}return Me.\u0275fac=function(Ne){return new(Ne||Me)(d.Y36(d.zs3),d.Y36(d.SBq),d.Y36(d.Qsj),d.Y36(d.sBO),d.Y36(de.y),d.Y36(ye.f))},Me.\u0275cmp=d.Xpm({type:Me,selectors:[["sp-date-picker-calendar-view"]],features:[d.qOj],decls:1,vars:1,consts:[[4,"ngIf"],["view-header","","leftArrowClass","fa-chevron-double-left","rightArrowClass","fa-chevron-double-right",1,"sp-period-switcher",3,"leftTooltip","rightTooltip","leftClick","rightClick"],["leftArrowClass","fa-chevron-left sp-ml-1","rightArrowClass","fa-chevron-right sp-mr-1",3,"leftTooltip","rightTooltip","leftClick","rightClick"],[1,"sp-mr-2"],["id","sp-current-month",1,"sp-current-month","sp-mr-1",3,"click"],["id","sp-current-year",1,"sp-current-year",3,"click"],["view-body","","id","sp-month-skeleton",1,"sp-mx-1",3,"calendarItem"]],template:function(Ne,we){1&Ne&&d.YNc(0,Qe,15,19,"sp-date-picker-view-skeleton",0),2&Ne&&d.Q6J("ngIf",we.timePoint)},directives:[t.O5,Ve,gt,lt,Mt.n],pipes:[ne.L,De,Ye.X],styles:["sp-date-picker-calendar-view sp-calendar-month-skeleton{--space-between-cells: 4px}sp-date-picker-calendar-view .sp-current-month,sp-date-picker-calendar-view .sp-current-year{cursor:pointer;color:var(--gray-800)}sp-date-picker-calendar-view .sp-current-month:hover,sp-date-picker-calendar-view .sp-current-year:hover{color:var(--primary)}\n"],encapsulation:2,changeDetection:0}),Me})();class it{constructor(Ze,Ne){this.name=Ze,this.value=Ne}}function Se(Me,Ze){if(1&Me){const Ne=d.EpF();d.TgZ(0,"div",1),d.TgZ(1,"div",2),d.NdJ("click",function(){const Rt=d.CHM(Ne).$implicit;return d.oxw().select(Rt.value)}),d.TgZ(2,"span"),d._uU(3),d.qZA(),d.qZA(),d.qZA()}if(2&Me){const Ne=Ze.$implicit;d.xp6(3),d.Oqu(Ne.name)}}let Ct=(()=>{class Me{constructor(){this.selected=new d.vpe}select(Ne){this.selected.emit(Ne)}}return Me.\u0275fac=function(Ne){return new(Ne||Me)},Me.\u0275cmp=d.Xpm({type:Me,selectors:[["sp-date-picker-selector-view"]],inputs:{items:"items"},outputs:{selected:"selected"},decls:1,vars:1,consts:[["class","sp-flex sp-items-center",4,"ngFor","ngForOf"],[1,"sp-flex","sp-items-center"],[1,"sp-cell","sp-cursor-pointer","sp-py-1","sp-px-2","sp-border-rounded","sp-flex","sp-justify-center","sp-items-center",3,"click"]],template:function(Ne,we){1&Ne&&d.YNc(0,Se,4,1,"div",0),2&Ne&&d.Q6J("ngForOf",we.items)},directives:[t.sg],styles:["sp-date-picker-selector-view{display:grid;grid-template-columns:auto auto auto;width:100%;height:100%}sp-date-picker-selector-view :nth-child(3n-1){justify-content:center}sp-date-picker-selector-view :nth-child(3n){justify-content:flex-end}sp-date-picker-selector-view .sp-cell:hover{background-color:var(--gray-20)}sp-date-picker-selector-view .sp-cell:active{color:var(--primary);background-color:var(--blue-50)}\n"],encapsulation:2,changeDetection:0}),Me})(),Lt=(()=>{class Me extends G{constructor(Ne,we,At,Rt,zt){super(Ne,we,At),this.monthNameProvider=Rt,this.changeDetectorRef=zt,this.monthItems=this.generateMonthItems()}init(){}onTimePointChange(Ne){this.year=Ne.year,this.changeDetectorRef.detectChanges()}selectMonth(Ne){this.timePointStream.patch({month:Ne}),this.viewStream.toCalendar()}prevYear(){this.timePointStream.patch({year:this.year-1})}nextYear(){this.timePointStream.patch({year:this.year+1})}generateMonthItems(){const Ne=[];for(let we=0;we<12;we++){const At=this.monthNameProvider.getNameOf(we),Rt=new it(At,we);Ne.push(Rt)}return Ne}}return Me.\u0275fac=function(Ne){return new(Ne||Me)(d.Y36(d.SBq),d.Y36(d.Qsj),d.Y36(d.zs3),d.Y36(F),d.Y36(d.sBO))},Me.\u0275cmp=d.Xpm({type:Me,selectors:[["sp-date-picker-month-selector-view"]],features:[d.qOj],decls:6,vars:2,consts:[["id","sp-month-calendar-view"],["view-header","","leftArrowClass","fa-chevron-double-left","rightArrowClass","fa-chevron-double-right",3,"leftClick","rightClick"],[1,"sp-mr-2"],["id","sp-current-year",1,"sp-current-period"],["view-body","",3,"items","selected"]],template:function(Ne,we){1&Ne&&(d.TgZ(0,"sp-date-picker-view-skeleton",0),d.TgZ(1,"sp-datepicker-arrow-switcher",1),d.NdJ("leftClick",function(){return we.prevYear()})("rightClick",function(){return we.nextYear()}),d._UZ(2,"sp-date-picker-today-button",2),d.TgZ(3,"span",3),d._uU(4),d.qZA(),d.qZA(),d.TgZ(5,"sp-date-picker-selector-view",4),d.NdJ("selected",function(Rt){return we.selectMonth(Rt)}),d.qZA(),d.qZA()),2&Ne&&(d.xp6(4),d.Oqu(we.year),d.xp6(1),d.Q6J("items",we.monthItems))},directives:[Ve,gt,lt,Ct],encapsulation:2,changeDetection:0}),Me})();class Vt{constructor(Ze,Ne){this.from=Ze,this.to=Ne,this.length=this.to-this.from+1}previous(){return new Vt(this.from-this.length,this.to-this.length)}next(){return new Vt(this.from+this.length,this.to+this.length)}toString(){return`${this.from}-${this.to}`}forEach(Ze){for(let Ne=this.from;Ne<=this.to;Ne++)Ze(Ne)}}let St=(()=>{class Me extends G{constructor(Ne,we,At,Rt){super(Ne,we,At),this.changeDetectorRef=Rt}init(){}onTimePointChange(Ne){const we=Ne.year;this.yearRange=new Vt(we-4,we+4),this.recalculateYearItems(),this.changeDetectorRef.detectChanges()}prevYearRange(){this.yearRange=this.yearRange.previous(),this.recalculateYearItems(),this.changeDetectorRef.detectChanges()}nextYearRange(){this.yearRange=this.yearRange.next(),this.recalculateYearItems(),this.changeDetectorRef.detectChanges()}selectYear(Ne){this.timePointStream.patch({year:Ne}),this.viewStream.toCalendar()}recalculateYearItems(){const Ne=[];this.yearRange.forEach(we=>{const At=new it(we.toString(),we);Ne.push(At)}),this.yearItems=Ne}}return Me.\u0275fac=function(Ne){return new(Ne||Me)(d.Y36(d.SBq),d.Y36(d.Qsj),d.Y36(d.zs3),d.Y36(d.sBO))},Me.\u0275cmp=d.Xpm({type:Me,selectors:[["sp-date-picker-year-selector-view"]],features:[d.qOj],decls:6,vars:2,consts:[["id","sp-year-calendar-view"],["view-header","","leftArrowClass","fa-chevron-double-left","rightArrowClass","fa-chevron-double-right",3,"leftClick","rightClick"],[1,"sp-mr-2"],["id","sp-current-year",1,"sp-current-period"],["view-body","",3,"items","selected"]],template:function(Ne,we){1&Ne&&(d.TgZ(0,"sp-date-picker-view-skeleton",0),d.TgZ(1,"sp-datepicker-arrow-switcher",1),d.NdJ("leftClick",function(){return we.prevYearRange()})("rightClick",function(){return we.nextYearRange()}),d._UZ(2,"sp-date-picker-today-button",2),d.TgZ(3,"span",3),d._uU(4),d.qZA(),d.qZA(),d.TgZ(5,"sp-date-picker-selector-view",4),d.NdJ("selected",function(Rt){return we.selectYear(Rt)}),d.qZA(),d.qZA()),2&Ne&&(d.xp6(4),d.Oqu(we.yearRange.toString()),d.xp6(1),d.Q6J("items",we.yearItems))},directives:[Ve,gt,lt,Ct],encapsulation:2,changeDetection:0}),Me})();const $t=[L,x,B];let yt=(()=>{class Me{}return Me.\u0275fac=function(Ne){return new(Ne||Me)},Me.\u0275mod=d.oAB({type:Me}),Me.\u0275inj=d.cJS({imports:[[t.ez,...$t]]}),Me})();d.B6R(M.s,[t.RF,t.n9,Ke,Lt,St],[]);var Ft=e(96096);let ot=(()=>{class Me{static forRoot(){return{ngModule:Me,providers:[r.v,a.n,Ft.m]}}}return Me.\u0275fac=function(Ne){return new(Ne||Me)},Me.\u0275mod=d.oAB({type:Me}),Me.\u0275inj=d.cJS({imports:[[t.ez,i.v,yt,o.z8,n.J,s.n]]}),Me})()},51678:(S,g,e)=>{"use strict";e.d(g,{s:()=>f});var t=e(66510),n=e(43126),s=e(48758),i=e(7471),r=e(42368),a=e(62546),o=e(84046);function d(m,v){1&m&&o._UZ(0,"sp-date-picker-calendar-view")}function h(m,v){1&m&&o._UZ(0,"sp-date-picker-month-selector-view")}function p(m,v){1&m&&o._UZ(0,"sp-date-picker-year-selector-view")}let f=(()=>{class m extends a.H{constructor(E,C,T,y,I,P){super(E,C),this.changeDetectorRef=T,this.timePointStream=y,this.viewStream=I,this.datePickerHost=P,this.DatePickerView=i.U}ngOnInit(){this.domManipulator.setHostAttribute("id","sp-date-picker-dropdown"),this.observeSelectedView();const E=this.determineInitialTimePoint();this.timePointStream.update(E)}getHostClasses(){return["sp-date-picker-dropdown","sp-flex","sp-flex-col","sp-border-rounded","sp-shadow-md","sp-border","sp-px-4","sp-py-2","sp-absolute","sp-z-9","sp-bg-gray-0","sp-dark:bg-gray-20"]}determineInitialTimePoint(){return this.datePickerHost.selectedDate?r.$.fromDate(this.datePickerHost.selectedDate):r.$.today()}observeSelectedView(){this.viewStream.observe().pipe(this.takeUntilDestroy()).subscribe(E=>{this.view=E,this.changeDetectorRef.detectChanges()})}}return m.\u0275fac=function(E){return new(E||m)(o.Y36(o.SBq),o.Y36(o.Qsj),o.Y36(o.sBO),o.Y36(n.s),o.Y36(s.$),o.Y36(t.u))},m.\u0275cmp=o.Xpm({type:m,selectors:[["sp-date-picker-dropdown"]],features:[o._Bn([n.s,s.$]),o.qOj],decls:4,vars:4,consts:[[3,"ngSwitch"],[4,"ngSwitchCase"]],template:function(E,C){1&E&&(o.ynx(0,0),o.YNc(1,d,1,0,"sp-date-picker-calendar-view",1),o.YNc(2,h,1,0,"sp-date-picker-month-selector-view",1),o.YNc(3,p,1,0,"sp-date-picker-year-selector-view",1),o.BQk()),2&E&&(o.Q6J("ngSwitch",C.view),o.xp6(1),o.Q6J("ngSwitchCase",C.DatePickerView.CALENDAR),o.xp6(1),o.Q6J("ngSwitchCase",C.DatePickerView.MONTH_SELECTOR),o.xp6(1),o.Q6J("ngSwitchCase",C.DatePickerView.YEAR_SELECTOR))},encapsulation:2,changeDetection:0}),m})()},76376:(S,g,e)=>{"use strict";e.d(g,{n:()=>i});var t=e(51678),n=e(84046),s=e(45927);let i=(()=>{class r{constructor(o){this.componentOutlet=o}create(o){const d=this.componentOutlet.createComponent(t.s,o);return d.changeDetectorRef.detectChanges(),d}}return r.\u0275fac=function(o){return new(o||r)(n.LFG(s.r))},r.\u0275prov=n.Yz7({token:r,factory:r.\u0275fac}),r})()},96096:(S,g,e)=>{"use strict";e.d(g,{m:()=>a});var t=e(95900),n=e(64026),s=e(52265),i=e(84046),r=e(17199);let a=(()=>{class o{constructor(h,p){this.positionCalculator=h,this.renderer=p.createRenderer(null,null)}positionDropdown(h,p){const f=this.getPositionForDropdown(h,p);this.renderer.setStyle(p,"transform",`translate(${f.left}px, ${f.top}px)`)}getPositionForDropdown(h,p){const f=s.i.default().withLinkedElements({element:p,anchor:h}).withAlignment(n.e.LEFT).withGravity(t.X.SOUTH).withMargin(o.DROPDOWN_MARGIN);return this.positionCalculator.calculateNewElementsPosition(f)}}return o.DROPDOWN_MARGIN=4,o.\u0275fac=function(h){return new(h||o)(i.LFG(r.o),i.LFG(i.FYo))},o.\u0275prov=i.Yz7({token:o,factory:o.\u0275fac}),o})()},43126:(S,g,e)=>{"use strict";e.d(g,{s:()=>o});var t=e(18840),n=e(70822),s=e(42368),i=e(71118),r=e(84046);const a=d=>({or:h=>i.l.isDefined(d)?d:h});let o=(()=>{class d{constructor(){this.timePoint$=new t.X(null)}observe(){return this.timePoint$.pipe((0,n.h)(p=>null!==p))}update(p){this.timePoint$.next(p)}patch(p){const f=this.timePoint$.getValue();if(null===f)throw new Error("No time point to patch. Initial value should be set first.");const m=p.month,v=p.year;if(!i.l.isDefined(m)&&!i.l.isDefined(v))throw new Error(`Failed to update time point. Values: (month: ${m}, year: ${v}).`);const E=new s.$(a(v).or(f.year),a(m).or(f.month));this.timePoint$.next(E)}}return d.\u0275fac=function(p){return new(p||d)},d.\u0275prov=r.Yz7({token:d,factory:d.\u0275fac}),d})()},48758:(S,g,e)=>{"use strict";e.d(g,{$:()=>i});var t=e(18840),n=e(7471),s=e(84046);let i=(()=>{class r{constructor(){this.view$=new t.X(n.U.CALENDAR)}observe(){return this.view$.asObservable()}toMonthSelector(){this.view$.next(n.U.MONTH_SELECTOR)}toYearSelector(){this.view$.next(n.U.YEAR_SELECTOR)}toCalendar(){this.view$.next(n.U.CALENDAR)}}return r.\u0275fac=function(o){return new(o||r)},r.\u0275prov=s.Yz7({token:r,factory:r.\u0275fac}),r})()},7471:(S,g,e)=>{"use strict";e.d(g,{U:()=>t});var t=(()=>{return(n=t||(t={}))[n.CALENDAR=0]="CALENDAR",n[n.MONTH_SELECTOR=1]="MONTH_SELECTOR",n[n.YEAR_SELECTOR=2]="YEAR_SELECTOR",t;var n})()},90778:(S,g,e)=>{"use strict";e.d(g,{D:()=>d});var t=e(97809),n=e(63833);let s=(()=>{class h{static mapFormat(f){if(!f)return f;const m=h.extractJavaFormatFragments(f);return this.mapToMomentFragments(m).join("")}static mapToMomentFragments(f){return f.map(m=>this.javaFormatToMomentJSFormat[m]||m)}static extractJavaFormatFragments(f){const m=f.split("");let v="",E="";const C=[];return m.forEach((T,y)=>{0===y||E===T?v+=T:E!==T&&(C.push(v),v="",v+=T),y===m.length-1&&C.push(v),E=T}),C}}return h.javaFormatToMomentJSFormat={d:"D",dd:"DD",y:"YYYY",yy:"YY",yyy:"YYYY",yyyy:"YYYY",a:"a",A:"A",M:"M",MM:"MM",MMM:"MMM",MMMM:"MMMM",h:"h",hh:"hh",H:"H",HH:"HH",m:"m",mm:"mm",s:"s",ss:"ss",S:"SSS",SS:"SSS",SSS:"SSS",E:"ddd",EE:"ddd",EEE:"ddd",EEEE:"dddd",EEEEE:"dddd",EEEEEE:"dddd",D:"DDD",w:"W",ww:"WW",z:"ZZ",zzzz:"Z",Z:"ZZ",X:"ZZ",XX:"ZZ",XXX:"Z",u:"E"},h})();var i=e(83155),r=e(84046),a=e(11531),o=e(83950);let d=(()=>{class h extends i.a{constructor(f,m){super(f),this.environmentService=m,this.dateFormat$=new t.t(1),this.dateTimeFormat$=new t.t(1),this.initialized=!1}getDateFormat(){return this.initialized||this.initialize(),this.dateFormat$.asObservable()}getDateTimeFormat(){return this.initialized||this.initialize(),this.dateTimeFormat$.asObservable()}getRestUrl(f){return`${this.environmentService.getRestBaseUrl()}tenant-system/l10n/info`}initialize(){this.initialized=!0,super.get("").pipe((0,n.q)(1)).subscribe(f=>{this.dateFormat$.next(s.mapFormat(f.dateFormat)),this.dateTimeFormat$.next(s.mapFormat(f.dateTimeFormat))})}}return h.\u0275fac=function(f){return new(f||h)(r.LFG(a.O),r.LFG(o.L))},h.\u0275prov=r.Yz7({token:h,factory:h.\u0275fac}),h})()},6389:(S,g,e)=>{"use strict";e.d(g,{u:()=>o});var t=e(90850),n=e(35811),s=e(39263),i=e(9351),r=e(84046),a=e(90778);let o=(()=>{class d{constructor(p,f){this.dateFormatRepository=p,this.changeDetector=f,this.dateFormat="YYYY/MM/DD",this.onDestroy$=new t.xQ,this.calledAtLeastOnce=!1,this.dateFormatRepository.getDateFormat().pipe((0,n.R)(this.onDestroy$)).subscribe(m=>{this.dateFormat=m,this.calledAtLeastOnce?this.changeDetector.detectChanges():this.changeDetector.markForCheck()})}ngOnDestroy(){this.onDestroy$.next(),this.onDestroy$.complete()}transform(p,...f){const m=p instanceof i.p?p.getNativeDate():p;if(!s.R.isValidDate(m))return"";const v=!!f||0===f.length||0===f[0].length;return this.calledAtLeastOnce=!0,i.p.formatUTCDate(m,v?this.dateFormat:f[0])}}return d.\u0275fac=function(p){return new(p||d)(r.Y36(a.D,16),r.Y36(r.sBO,16))},d.\u0275pipe=r.Yjl({name:"spDate",type:d,pure:!1}),d})()},39263:(S,g,e)=>{"use strict";e.d(g,{R:()=>i});var t=e(83662),s=e(84046);let i=(()=>{class r{static format(o,d){return t(o).format(d)}static isValidDate(o){return o instanceof Date&&!isNaN(o.valueOf())}static isBefore(o,d){return o.valueOf()<d.valueOf()}static isBeforeOrEqual(o,d){return o.valueOf()<=d.valueOf()}static isAfter(o,d){return r.isBefore(d,o)}static isEqual(o,d){return o.valueOf()===d.valueOf()}static isAfterOrEqual(o,d){return o.valueOf()>=d.valueOf()}static areTheSameDays(o,d){return o.getFullYear()===d.getFullYear()&&o.getMonth()===d.getMonth()&&o.getDate()===d.getDate()}static areTheSame(o,d){return o.getDate()===d.getDate()}static calculateTimeDifference(o,d){return Math.abs(d.getTime()-o.getTime())}static toUTCDate(o){return new Date(o.getUTCFullYear(),o.getUTCMonth(),o.getUTCDate(),o.getUTCHours(),o.getUTCMinutes(),o.getUTCSeconds())}}return r.\u0275fac=function(o){return new(o||r)},r.\u0275prov=s.Yz7({token:r,factory:r.\u0275fac}),r})()},27881:(S,g,e)=>{"use strict";e.d(g,{Z:()=>f});var t=e(55331),n=e(70335),s=e(90778),r=(e(6389),e(39263)),a=e(68890),o=e(26566),d=e(84046);const p=[s.D,r.R];let f=(()=>{class m{static forRoot(){return{ngModule:m,providers:p}}}return m.\u0275fac=function(E){return new(E||m)},m.\u0275mod=d.oAB({type:m}),m.\u0275inj=d.cJS({imports:[[t.ez,n.u5,a.z8,o.n]]}),m})()},52343:(S,g,e)=>{"use strict";e.d(g,{C:()=>r});var t=e(55331),n=e(41001),s=e(51545),i=e(84046);let r=(()=>{class a{}return a.\u0275fac=function(d){return new(d||a)},a.\u0275mod=i.oAB({type:a}),a.\u0275inj=i.cJS({providers:[],imports:[[t.ez,s.F,n.J]]}),a})()},7341:(S,g,e)=>{"use strict";e.d(g,{M:()=>i});var t=e(70335),n=e(84046),s=e(91418);let i=(()=>{class r{constructor(o){this.changeDetectorRef=o}onIconChange(o){this.iconId=o,this.changeDetectorRef.detectChanges(),this.propagateChange(o)}writeValue(o){this.iconId=o}registerOnChange(o){this.propagateChange=o}registerOnTouched(){}setDisabledState(){}}return r.\u0275fac=function(o){return new(o||r)(n.Y36(n.sBO))},r.\u0275cmp=n.Xpm({type:r,selectors:[["sp-icon-picker-control"]],features:[n._Bn([{provide:t.JU,useExisting:r,multi:!0}])],decls:1,vars:1,consts:[[3,"iconId","iconIdChange"]],template:function(o,d){1&o&&(n.TgZ(0,"sp-icon-picker",0),n.NdJ("iconIdChange",function(p){return d.onIconChange(p)}),n.qZA()),2&o&&n.Q6J("iconId",d.iconId)},directives:[s.I],encapsulation:2,changeDetection:0}),r})()},126:(S,g,e)=>{"use strict";e.d(g,{l:()=>h});var t=e(70335),n=e(62546),s=e(84046),i=e(78808),r=e(91418),a=e(9402);let o=(()=>{class p extends n.H{constructor(m,v){super(m,v),this.coloredIconChange=new s.vpe}getHostClasses(){return["sp-flex","sp-justify-center"]}onIconIdChange(m){this.coloredIcon=new i.O(m,this.coloredIcon.color),this.emitChange()}onColorChange(m){this.coloredIcon=new i.O(this.coloredIcon.iconId,m),this.emitChange()}emitChange(){this.coloredIconChange.emit(this.coloredIcon)}}return p.\u0275fac=function(m){return new(m||p)(s.Y36(s.SBq),s.Y36(s.Qsj))},p.\u0275cmp=s.Xpm({type:p,selectors:[["sp-colored-icon-picker"]],inputs:{coloredIcon:"coloredIcon"},outputs:{coloredIconChange:"coloredIconChange"},features:[s.qOj],decls:2,vars:2,consts:[["id","icon-picker",3,"iconId","iconIdChange"],["id","color-picker",1,"sp-color-picker","sp-h-8",3,"colorSelected","colorChanged"]],template:function(m,v){1&m&&(s.TgZ(0,"sp-icon-picker",0),s.NdJ("iconIdChange",function(C){return v.onIconIdChange(C)}),s.qZA(),s.TgZ(1,"sp-color-picker",1),s.NdJ("colorChanged",function(C){return v.onColorChange(C)}),s.qZA()),2&m&&(s.Q6J("iconId",v.coloredIcon.iconId),s.xp6(1),s.Q6J("colorSelected",v.coloredIcon.color.colorName))},directives:[r.I,a.h],encapsulation:2,changeDetection:0}),p})();var d=e(84027);let h=(()=>{class p extends n.H{constructor(m,v,E){super(m,v),this.changeDetectorRef=E}onIconChange(m){this.icon=m,this.changeDetectorRef.detectChanges(),this.propagateChange(m)}writeValue(m){this.icon=m}registerOnChange(m){this.propagateChange=m}registerOnTouched(m){}setDisabledState(m){}getHostClasses(){return["sp-flex"]}}return p.\u0275fac=function(m){return new(m||p)(s.Y36(s.SBq),s.Y36(s.Qsj),s.Y36(s.sBO))},p.\u0275cmp=s.Xpm({type:p,selectors:[["sp-colored-icon-picker-control"]],features:[s._Bn([{provide:t.JU,useExisting:p,multi:!0}]),s.qOj],decls:2,vars:2,consts:[[3,"coloredIcon","coloredIconChange"],[1,"sp-icon-preview","sp-element-h","sp-element-w","sp-flex-shrink-0","sp-ml-3",3,"coloredIcon"]],template:function(m,v){1&m&&(s.TgZ(0,"sp-colored-icon-picker",0),s.NdJ("coloredIconChange",function(C){return v.onIconChange(C)}),s.qZA(),s._UZ(1,"sp-colored-icon",1)),2&m&&(s.Q6J("coloredIcon",v.icon),s.xp6(1),s.Q6J("coloredIcon",v.icon))},directives:[o,d.B],encapsulation:2,changeDetection:0}),p})()},14650:(S,g,e)=>{"use strict";e.d(g,{W:()=>n});var t=e(85703);class n{constructor(i,r,a,o,d){this.value=i,this.text=r,this.optionsText=a,this.selected=o,this.favourite=d,this.iconCssClass="",(!a||!a.toString())&&void 0!==this.text&&(this.optionsText=this.text.clone()),this.id||(this.id=(0,t.Hu)())}static fromRaw(i,r){return new n(r.valueMapper(i),r.textMapper(i),r.optionsTextMapper(i)?r.optionsTextMapper(i):r.textMapper(i),r.selected(i))}withId(i){return this.id=i,this}withFavourite(i){return this.favourite=i,this}withCssClass(i){return this.cssClass=i,this}withDescription(i){return this.description=i,this}withSearchByValue(i){return this.searchByValue=i,this}withOptionsText(i){return this.optionsText=i,this}withDisabled(i){return this.disabled=i,this}withIcon(i){return this.icon=i,this}withIconURL(i){return this.iconURL=i,this}withIconCssClass(i){return this.iconCssClass=i,this}withIsSuffixIcon(i){return this.isSuffixIcon=i,this}withSuffixIcon(i){return this.suffixIcon=i,this}withSuffixIconURL(i){return this.suffixIconURL=i,this}withSuffixIconLinkURL(i){return this.suffixIconLinkURL=i,this}withSuffixIconTooltip(i){return this.suffixIconTooltip=i,this}withUrl(i){return this.url=i,this}withAdditionalData(i){return this.additionalData=i,this}withTooltipText(i){return this.tooltipText=i,this}cloneWithValue(i){return Object.assign(new n(this.value,this.text),this,{value:i})}}},97265:(S,g,e)=>{"use strict";e.d(g,{Hr:()=>Nt});var t=e(55331),n=e(84046),s=e(70335),i=e(98223),r=e(90850),a=e(53488),o=e(73197),d=e(49549),h=e(62126),p=e(70822),f=e(43349),m=e(63833),v=e(83941),E=e(14650),C=e(83372);class P{constructor(Ot,fe,Ge,Tt,Pe,pt,Q,Ee,ue){this.selectButtonWrapper=Ot,this.selectButton=fe,this.selectOptionsMenuWrapper=Ge,this.optionsWrapper=Tt,this.configuration=Pe,this.renderer=pt,this.elementRef=Q,this.changeDetectorRef=Ee,this.DOCUMENT=ue}calculateOptionsMenu(){let Ot="top";this.isOptionsMenuDroppingBottom(this.selectButtonWrapper,this.selectOptionsMenuWrapper)&&(Ot="bottom"),this.calculateOptionsMenuHorizontalPositionAndStyling(Ot),this.calculateAndSetOptionsMenuWidth()}isOptionsMenuDroppingBottom(Ot,fe){const Ge=Ot.nativeElement.getBoundingClientRect(),Tt=fe.nativeElement.getBoundingClientRect();return Ge.bottom+Tt.height<=window.innerHeight-8}calculateAndSetOptionsMenuWidth(){const Ot=this.getVerticalPosition(this.selectButtonWrapper,this.selectOptionsMenuWrapper,8).top,{left:fe,width:Ge}=this.getHorizontalPosition(this.selectButtonWrapper,this.selectOptionsMenuWrapper);this.renderer.setStyle(this.selectOptionsMenuWrapper.nativeElement,"top",Ot+"px"),this.renderer.setStyle(this.selectOptionsMenuWrapper.nativeElement,"left",fe+"px"),this.renderer.setStyle(this.selectOptionsMenuWrapper.nativeElement,"width",Ge+"px"),this.configuration.moveOptionsMenuToBody&&this.selectOptionsMenuWrapper.nativeElement.parentElement!==this.DOCUMENT.body&&this.DOCUMENT.body.appendChild(this.selectOptionsMenuWrapper.nativeElement),this.renderer.setStyle(this.selectOptionsMenuWrapper.nativeElement,"max-width",(this.configuration.maxOptionsMenuWidth?this.configuration.maxOptionsMenuWidth:this.DOCUMENT.body.clientWidth-fe)-20+"px"),this.renderer.setStyle(this.selectOptionsMenuWrapper.nativeElement,"min-width",this.selectButtonWrapper.nativeElement.clientWidth+"px"),this.configuration.buttonWidthStyle&&this.renderer.setStyle(this.selectButton.nativeElement,"width",this.configuration.buttonWidthStyle+"px"),this.changeDetectorRef.detectChanges()}getVerticalPosition(Ot,fe,Ge){const Tt=Ot.nativeElement.getBoundingClientRect(),Pe=fe.nativeElement.getBoundingClientRect();return{top:(this.configuration.moveOptionsMenuToBody?Tt.bottom+window.pageYOffset+1:Tt.height)+Ge-Math.max(Tt.bottom+Ge+Pe.height-window.innerHeight,0)}}getHorizontalPosition(Ot,fe){const Ge=Ot.nativeElement.getBoundingClientRect(),Tt=fe.nativeElement.getBoundingClientRect(),Pe=this.configuration.moveOptionsMenuToBody?Ge.left+window.pageXOffset:0;return Ge.left+Tt.width<=window.innerWidth?{left:Pe}:{left:Pe+Math.max(Ge.width-Tt.width,-Ge.left),width:Math.min(Tt.width,window.innerWidth-8)}}calculateOptionsMenuHorizontalPositionAndStyling(Ot){const fe=this.selectOptionsMenuWrapper.nativeElement,Ge=this.selectButtonWrapper.nativeElement;if("top"===Ot){let Tt=this.configuration.optionHeight*this.configuration.numberOfMenuVisibleOptions;this.configuration.searchFieldAvailable&&(Tt+=this.configuration.searchInputHeight),fe.clientWidth>Ge.clientWidth&&this.renderer.setStyle(fe,"border-bottom-right-radius","3px")}else fe.clientWidth>Ge.clientWidth&&this.renderer.setStyle(fe,"border-top-right-radius","3px");this.renderer.addClass(fe,"sp-options-menu-"+Ot),this.renderer.addClass(this.selectButton.nativeElement,"sp-select-button-menu-"+Ot),this.renderer.setStyle(this.optionsWrapper.nativeElement,"max-height",this.configuration.numberOfMenuVisibleOptions*this.configuration.optionHeight+"px"),this.changeDetectorRef.detectChanges()}}var L=e(95900),F=e(85703),b=e(62546),x=e(83063),B=e(37752),M=e(68890),w=e(39905),K=e(99154),k=e(55117),G=e(65799),$=e(18217);const X=["spSelectButtonWrapper"],ie=["spSelectButton"],se=["spTextArea"],pe=["spSelectOptionsMenuWrapper"],ve=["spOptionsWrapper"],Ce=["spSelectSearch"],ye=["spSearchFilteringGroupsSelect"];function de(Je,Ot){if(1&Je&&(n.ynx(0),n._UZ(1,"sp-icon",21),n.BQk()),2&Je){const fe=n.oxw();n.xp6(1),n.Q6J("name",fe.selectedElement.icon.getName())("color",fe.selectedElement.icon.getColor())("type",fe.selectedElement.icon.getType())}}function Ie(Je,Ot){if(1&Je&&(n.TgZ(0,"div",22),n._uU(1),n.ALo(2,"spL10nText"),n.qZA()),2&Je){const fe=n.oxw();n.uIk("id",fe.selectSingleLabelPlaceholderId),n.xp6(1),n.hij(" ",n.lcZ(2,2,fe.configuration.selectButtonPlaceholder)," ")}}function He(Je,Ot){if(1&Je&&(n.ynx(0),n._UZ(1,"img",26),n.BQk()),2&Je){const fe=n.oxw(2);n.xp6(1),n.Q6J("src",fe.selectedElement.iconURL,n.LSH)}}function Ve(Je,Ot){if(1&Je&&n._UZ(0,"sp-rich-text",27),2&Je){const fe=n.oxw(2);n.Q6J("config",fe.selectedElement.text)("spTooltip",fe.selectedElement.text)("spTooltipEnabled",fe.configuration.fullTextTooltipOnOverflow)("spTooltipOnOverflow",fe.configuration.fullTextTooltipOnOverflow),n.uIk("id",fe.selectLabelId)}}function Ue(Je,Ot){if(1&Je&&(n._UZ(0,"div",30),n.ALo(1,"spRichTextI18n")),2&Je){const fe=n.oxw(3);n.Q6J("spTooltip",n.lcZ(1,2,fe.configuration.buttonTooltipText))("spTooltipGravity",fe.gravity.SOUTH)}}function xe(Je,Ot){if(1&Je&&(n.TgZ(0,"div",28),n.YNc(1,Ue,2,4,"div",29),n.qZA()),2&Je){const fe=n.oxw(2);n.xp6(1),n.Q6J("ngIf",fe.configuration.buttonWidthTooltip)}}function gt(Je,Ot){if(1&Je&&(n.TgZ(0,"div",23),n.YNc(1,He,2,1,"ng-container",5),n.YNc(2,Ve,1,5,"sp-rich-text",24),n.YNc(3,xe,2,1,"div",25),n.qZA()),2&Je){const fe=n.oxw();n.xp6(1),n.Q6J("ngIf",fe.selectedElement.iconURL),n.xp6(1),n.Q6J("ngIf",fe.selectedElement.text.toString()&&!fe.configuration.multiSelect&&!fe.configuration.multiPicker&&!fe.configuration.customButton),n.xp6(1),n.Q6J("ngIf",!fe.configuration.multiPicker&&!fe.configuration.customButton)}}function tt(Je,Ot){if(1&Je&&(n.TgZ(0,"div",31),n._uU(1),n.ALo(2,"spL10nText"),n.qZA()),2&Je){const fe=n.oxw();n.uIk("id",fe.selectLabelId),n.xp6(1),n.hij(" ",n.lcZ(2,2,fe.multiSelectButtonLabel)," ")}}function lt(Je,Ot){if(1&Je&&(n.TgZ(0,"div",22),n._uU(1),n.ALo(2,"spL10nText"),n.qZA()),2&Je){const fe=n.oxw();n.xp6(1),n.hij(" ",n.lcZ(2,1,fe.multiSelectButtonLabel)," ")}}function Mt(Je,Ot){if(1&Je&&(n.ynx(0),n._UZ(1,"sp-icon",38),n.BQk()),2&Je){const fe=n.oxw().$implicit;n.xp6(1),n.Q6J("name",fe.icon.getName())("color",fe.icon.getColor())("type",fe.icon.getType())}}function ne(Je,Ot){if(1&Je){const fe=n.EpF();n.TgZ(0,"sp-label",36),n.NdJ("delete",function(){const Pe=n.CHM(fe).$implicit;return n.oxw(2).deleteOption(Pe.value)}),n.YNc(1,Mt,2,3,"ng-container",5),n._UZ(2,"sp-rich-text",37),n.qZA()}if(2&Je){const fe=Ot.$implicit,Ge=n.oxw(2);n.Gre("sp-pl-0 sp-pr-1 ",fe.cssClass,""),n.ekj("sp-marked-for-delete",Ge.backspaceCounter>0),n.Q6J("removable",!0)("href",fe.url),n.uIk("id",fe.value),n.xp6(1),n.Q6J("ngIf",fe.icon),n.xp6(1),n.Q6J("config",fe.text)("spTooltip",fe.text)("spTooltipEnabled",Ge.configuration.fullTextTooltipOnOverflow)("spTooltipOnOverflow",Ge.configuration.fullTextTooltipOnOverflow)}}function De(Je,Ot){if(1&Je){const fe=n.EpF();n.TgZ(0,"div",32),n.NdJ("click",function(){return n.CHM(fe),n.oxw().setFocusToTextArea()}),n.YNc(1,ne,3,13,"sp-label",33),n.TgZ(2,"input",34,35),n.NdJ("keydown.esc",function(){return n.CHM(fe),n.oxw().escPressed()}),n.ALo(4,"spL10nText"),n.qZA(),n.qZA()}if(2&Je){const fe=n.oxw();n.Udp("width",fe.configuration.textAreaWidthInPercentage?fe.configuration.textAreaWidthInPercentage:fe.configuration.textAreaWidth+"px")("height",fe.configuration.textAreaInitialHeight)("min-height",fe.configuration.textAreaMinHeight+"px")("max-height",fe.configuration.textAreaMaxHeight+"px")("resize",fe.configuration.textAreaVerticalResize?"vertical":"none"),n.uIk("id",fe.selectMultiPickerLabelContainerId),n.xp6(1),n.Q6J("ngForOf",fe.selectedElements)("ngForTrackBy",fe.isTextAreaLabelEqual),n.xp6(1),n.Q6J("formControl",fe.textAreaForm)("placeholder",n.lcZ(4,16,fe.textAreaPlaceholder())),n.uIk("id",fe.multiPickerInputId)}}function Ye(Je,Ot){1&Je&&n._UZ(0,"i",39)}function Qe(Je,Ot){if(1&Je){const fe=n.EpF();n.TgZ(0,"div",42),n.NdJ("click",function(){return n.CHM(fe),n.oxw(2).unmarkAllSelectedElements()}),n.TgZ(1,"span",43),n._uU(2),n.qZA(),n._UZ(3,"i",44),n.qZA()}if(2&Je){const fe=n.oxw(2);n.ekj("annotationVisible",!0),n.uIk("id",fe.clearingButtonId),n.xp6(2),n.hij(" ",fe.getSelectedElementsLength()," ")}}function Ke(Je,Ot){if(1&Je){const fe=n.EpF();n.TgZ(0,"sp-filter-indicator",45),n.NdJ("clear",function(){return n.CHM(fe),n.oxw(2).unmarkAllSelectedElements()}),n.qZA()}2&Je&&n.Q6J("clearable",!0)}function it(Je,Ot){if(1&Je&&(n.ynx(0),n.YNc(1,Qe,4,4,"div",40),n.YNc(2,Ke,1,1,"sp-filter-indicator",41),n.BQk()),2&Je){const fe=n.oxw();n.xp6(1),n.Q6J("ngIf",fe.configuration.clearingButtonCounter),n.xp6(1),n.Q6J("ngIf",!(fe.configuration.clearingButtonCounter||fe.configuration.clearingButtonHideOnAllSelected&&fe.areAllSelected()))}}function Se(Je,Ot){if(1&Je){const fe=n.EpF();n.TgZ(0,"sp-select",52,53),n.NdJ("selectedOptionsChanged",function(Tt){return n.CHM(fe),n.oxw(2).searchFilteringGroupsChanged(Tt)}),n._UZ(2,"div",54),n.qZA()}if(2&Je){const fe=n.oxw(2);n.Q6J("configuration",fe.searchFilteringGroupsConfig)("options",fe.searchFilteringAllGroups)}}function Ct(Je,Ot){if(1&Je){const fe=n.EpF();n.TgZ(0,"div",46),n.TgZ(1,"div",47),n.TgZ(2,"input",48,49),n.NdJ("keydown.esc",function(){return n.CHM(fe),n.oxw().escPressed()}),n.ALo(4,"spL10nText"),n.qZA(),n._UZ(5,"i",50),n.qZA(),n.YNc(6,Se,3,2,"sp-select",51),n.qZA()}if(2&Je){const fe=n.oxw();n.xp6(2),n.Q6J("formControl",fe.searchForm)("placeholder",n.lcZ(4,4,fe.configuration.selectInputPlaceholder)),n.uIk("id",fe.searchFieldId),n.xp6(4),n.Q6J("ngIf",(null==fe.searchFilteringAllGroups?null:fe.searchFilteringAllGroups.length)>1)}}function Lt(Je,Ot){if(1&Je&&(n.TgZ(0,"div",55),n._uU(1),n.ALo(2,"spL10nText"),n.qZA()),2&Je){const fe=n.oxw();n.xp6(1),n.Oqu(n.lcZ(2,1,fe.configuration.optionsLabel))}}const Vt=function(Je){return{isAll:Je}};function St(Je,Ot){if(1&Je){const fe=n.EpF();n.TgZ(0,"div"),n.TgZ(1,"div",56),n.NdJ("click",function(){return n.CHM(fe),n.oxw().selectOrDeselectAll()}),n._uU(2),n.ALo(3,"spL10nText"),n.qZA(),n.qZA()}if(2&Je){const fe=n.oxw();n.xp6(2),n.hij(" ",n.xi3(3,1,"SPT_COMMON_SELECT_MENU_TOGGLE_SELECT_ALL",n.VKq(4,Vt,fe.selectedAllVisible&&fe.areAllSelected()))," ")}}function $t(Je,Ot){1&Je&&(n.TgZ(0,"div",57),n._uU(1),n.ALo(2,"spL10nText"),n.qZA()),2&Je&&(n.xp6(1),n.hij(" ",n.lcZ(2,1,"SPT_COMMON_SELECT_MENU_SEARCHING_LABEL")," "))}function yt(Je,Ot){1&Je&&(n.TgZ(0,"div",57),n._uU(1),n.ALo(2,"spL10nText"),n.qZA()),2&Je&&(n.xp6(1),n.hij(" ",n.lcZ(2,1,"SPT_COMMON_SELECT_MENU_TYPING_LABEL")," "))}function Ft(Je,Ot){1&Je&&(n.O4$(),n.TgZ(0,"svg",66),n.TgZ(1,"g",67),n._UZ(2,"path",68),n.qZA(),n.qZA())}const ot=function(Je,Ot){return{"sp-option-checkbox--selected":Je,"sp-option-checkbox--disabled":Ot}};function Me(Je,Ot){if(1&Je&&(n.TgZ(0,"div",64),n.YNc(1,Ft,3,0,"svg",65),n.qZA()),2&Je){const fe=n.oxw().$implicit;n.Q6J("ngClass",n.WLB(2,ot,fe.selected,fe.disabled)),n.xp6(1),n.Q6J("ngIf",fe.selected)}}const Ze=function(Je){return[Je]};function Ne(Je,Ot){if(1&Je&&(n.ynx(0),n._UZ(1,"sp-icon",69),n.BQk()),2&Je){const fe=n.oxw().$implicit;n.xp6(1),n.Q6J("name",fe.icon.getName())("color",fe.icon.getColor())("type",fe.icon.getType())("ngClass",n.VKq(4,Ze,fe.iconCssClass))}}function we(Je,Ot){if(1&Je&&n._UZ(0,"img",70),2&Je){const fe=n.oxw().$implicit;n.Q6J("src",fe.iconURL,n.LSH)("ngClass",n.VKq(2,Ze,fe.iconCssClass))}}function At(Je,Ot){if(1&Je&&(n.TgZ(0,"a",74),n._UZ(1,"sp-icon",75),n.qZA()),2&Je){const fe=n.oxw(2).$implicit;n.Q6J("href",fe.suffixIconLinkURL,n.LSH),n.xp6(1),n.Q6J("name",fe.suffixIcon.getName())("color",fe.suffixIcon.getColor())("type",fe.suffixIcon.getType())}}function Rt(Je,Ot){if(1&Je&&n._UZ(0,"img",79),2&Je){const fe=n.oxw(4).$implicit;n.Q6J("src",fe.suffixIconURL,n.LSH)}}function zt(Je,Ot){if(1&Je&&(n.TgZ(0,"a",77),n.YNc(1,Rt,1,1,"img",78),n.qZA()),2&Je){const fe=n.oxw(3).$implicit;n.Q6J("href",fe.suffixIconLinkURL,n.LSH),n.xp6(1),n.Q6J("ngIf",fe.suffixIconURL)}}function Yt(Je,Ot){if(1&Je&&n.YNc(0,zt,2,2,"a",76),2&Je){const fe=n.oxw(2).$implicit;n.Q6J("ngIf",fe.suffixIconLinkURL)}}function ln(Je,Ot){if(1&Je&&(n.TgZ(0,"div",71),n.ALo(1,"spRichTextI18n"),n.YNc(2,At,2,4,"a",72),n.YNc(3,Yt,1,1,"ng-template",null,73,n.W1O),n.qZA()),2&Je){const fe=n.MAs(4),Ge=n.oxw().$implicit,Tt=n.oxw();n.Q6J("spTooltipGravity",Tt.gravity.NORTH)("spTooltip",n.lcZ(1,5,Ge.suffixIconTooltip)),n.uIk("id",Tt.selectSuffixIconId),n.xp6(2),n.Q6J("ngIf",Ge.suffixIcon&&Ge.suffixIconLinkURL)("ngIfElse",fe)}}function pn(Je,Ot){if(1&Je&&(n.TgZ(0,"div"),n._UZ(1,"i",83),n.ALo(2,"spRichTextI18n"),n.qZA()),2&Je){const fe=n.oxw(3);n.xp6(1),n.Q6J("spTooltip",n.lcZ(2,2,"SPT_COMMON_SELECT_MENU_UNMARK_FAVORITE_TOOLTIP"))("spTooltipGravity",fe.gravity.SOUTH)}}function nn(Je,Ot){if(1&Je&&(n.TgZ(0,"div"),n._UZ(1,"i",84),n.ALo(2,"spRichTextI18n"),n.qZA()),2&Je){const fe=n.oxw(4);n.xp6(1),n.Q6J("spTooltip",n.lcZ(2,2,"SPT_COMMON_SELECT_MENU_MARK_FAVORITE_TOOLTIP"))("spTooltipGravity",fe.gravity.SOUTH)}}function hn(Je,Ot){if(1&Je&&n.YNc(0,nn,3,4,"div",5),2&Je){const fe=n.oxw(2).$implicit;n.Q6J("ngIf",!fe.favourite)}}function xt(Je,Ot){if(1&Je){const fe=n.EpF();n.TgZ(0,"div",80),n.NdJ("click",function(Tt){n.CHM(fe);const Pe=n.oxw().$implicit;return n.oxw().changeFavourite(Tt,Pe)}),n.YNc(1,pn,3,4,"div",81),n.YNc(2,hn,1,1,"ng-template",null,82,n.W1O),n.qZA()}if(2&Je){const fe=n.MAs(3),Ge=n.oxw().$implicit;n.xp6(1),n.Q6J("ngIf",Ge.favourite)("ngIfElse",fe)}}function Zt(Je,Ot){if(1&Je){const fe=n.EpF();n.TgZ(0,"div",58),n.NdJ("click",function(){const Pe=n.CHM(fe).$implicit;return n.oxw().selectOption(Pe)})("mouseover",function(){const Pe=n.CHM(fe).$implicit;return n.oxw().hoverElement(Pe)}),n.ALo(1,"spRichTextI18n"),n.YNc(2,Me,2,5,"div",59),n.YNc(3,Ne,2,6,"ng-container",5),n.YNc(4,we,1,4,"img",60),n._UZ(5,"sp-rich-text",61),n.YNc(6,ln,5,7,"div",62),n.YNc(7,xt,4,2,"div",63),n.qZA()}if(2&Je){const fe=Ot.$implicit,Ge=Ot.index,Tt=n.oxw();n.MT6("sp-option-element sp-option-element-index-",Ge," ",fe.cssClass,""),n.ekj("sp-option-element-disabled",fe.disabled)("sp-option-element-hovered",fe.value==(null==Tt.hoveredElement?null:Tt.hoveredElement.value)&&fe.id===(null==Tt.hoveredElement?null:Tt.hoveredElement.id)),n.Q6J("spTooltipGravity",Tt.gravity.WEST)("spTooltipEnabled",!!fe.tooltipText)("spTooltip",n.lcZ(1,21,fe.tooltipText)),n.uIk("id",Tt.optionId+"-"+Ge),n.xp6(2),n.Q6J("ngIf",Tt.configuration.multiSelect),n.xp6(1),n.Q6J("ngIf",fe.icon),n.xp6(1),n.Q6J("ngIf",fe.iconURL),n.xp6(1),n.Q6J("spTooltip",fe.optionsText)("spTooltipEnabled",Tt.configuration.fullTextTooltipOnOverflow&&!fe.tooltipText)("spTooltipOnOverflow",Tt.configuration.fullTextTooltipOnOverflow)("config",fe.optionsText),n.xp6(1),n.Q6J("ngIf",Tt.configuration.isSuffixIcon&&fe.isSuffixIcon),n.xp6(1),n.Q6J("ngIf",Tt.optionsMenuVisible&&Tt.configuration.favouriteAvailable)}}function je(Je,Ot){1&Je&&(n.TgZ(0,"div",85),n._uU(1),n.ALo(2,"spL10nText"),n.qZA()),2&Je&&(n.xp6(1),n.hij(" ",n.lcZ(2,1,"SPT_COMMON_SELECT_MENU_NO_MATCHES_TEXT")," "))}const Le=[[["",8,"sp-select-custom-button"]]],vt=[".sp-select-custom-button"],qe={provide:s.JU,useExisting:(0,n.Gpc)(()=>Nt),multi:!0};let Nt=(()=>{class Je extends b.H{constructor(fe,Ge,Tt,Pe,pt,Q){super(fe,Ge),this.innerRenderer=Ge,this.ngZone=Tt,this.changeDetectorRef=Pe,this.l10nTextService=pt,this.document=Q,this.formControl=new s.NI,this.configuration=new C.w,this.options=[],this.selectedOptions=[],this.disabled=!1,this.selectedOptionChanged=new n.vpe,this.removeOptionValue=new n.vpe,this.selectedOptionsChanged=new n.vpe,this.favouriteChange=new n.vpe,this.searchedValueChanged=new n.vpe,this.searchedGroupsChanged=new n.vpe,this.optionMenuToggled=new n.vpe,this.escOnInputPressed=new n.vpe,this.searchForm=new s.NI(""),this.textAreaForm=new s.NI(""),this.optionElements=[],this.displayElements=[],this.selectedElement=new E.W("",v.H.string("")),this.selectedElements=[],this.searchValue="",this.searchFilteringAllGroupsSelected=!0,this.backspaceCounter=0,this.optionsMenuVisible=!1,this.menuReversed=!1,this.fetching=!1,this.optionsGiven=!1,this.firstVisibleOptionIndex=0,this.searchedValueChanged$=new r.xQ,this.selectedOptionsChanged$=new r.xQ,this.selectedAllVisible=!0,this.keepTypingLabel=!1,this.searchedValueLength=0,this.gravity=L.X,this.MINIMUM_LETTERS_NUMBER_TO_FETCH=2,this.propagateChange=Ee=>{},this.errors=[this.l10nTextService.translate("SPT_COMMON_SELECT_ERROR_FIELD_REQUIRED")],this.isMouseOverMenu=!1,this.isMouseOverButton=!1,this.subscriptions=new a.w,this.optionsChanged$=new r.xQ,this.WINDOW_RESIZE_DEBOUNCE_TIME=50,this.SEARCH_FILTERING_GROUPS_MAX_LENGTH=10,this.SELECTED_OPTIONS_BREAK_STRING_VALUE=9}ngOnChanges(fe){if(this.configuration||(this.configuration=new C.w),this.configuration.searchFieldAvailable&&this.selectSearchFormValueChanged(),this.configuration.multiPicker&&this.selectTextAreaFormValueChanged(),fe.options&&fe.options.currentValue&&(this.options.length>0||this.optionsGiven)){this.optionsGiven=!0,this.optionsChanged$.next(this.options);const Ge=this.displayElements.length!==this.options.length;this.setDisplayElements(),this.filterOptionsByQuery(),this.fetching=!1,this.calculateOptionsMenuWithTimeout(),this.configuration.selectedElementsFromOptionProperty&&this.setSelectedElementsFromOptionProperty(),Ge&&this.initialOptionMenu(),this.setMultiSelectButtonLabel()}fe.selectedOption&&fe.selectedOption.currentValue&&this.setSelectedElement(this.selectedOption),fe.selectedOptions&&fe.selectedOptions.currentValue&&(this.setSelectedElements(this.selectedOptions),this.setMultiSelectButtonLabel())}ngOnInit(){(0,o.R)(this.document,"click").pipe(this.takeUntilDestroy()).subscribe(fe=>{this.shouldCloseMenuAfterClick()&&(this.closeMenu(),fe.stopPropagation())}),this.lastVisibleOptionElementIndex=this.configuration.numberOfMenuVisibleOptions-1,this.subscriptions.add(this.searchedValueChanged$.pipe((0,h.b)(this.configuration.searchDebounceTime)).subscribe(fe=>{this.searchedValueLength=fe.length,this.searchedValueChanged.emit(fe),this.configuration.termQuery&&this.searchedValueLength>=this.MINIMUM_LETTERS_NUMBER_TO_FETCH?(this.keepTypingLabel=!1,this.fetchOptionsFromTermQuery(fe)):this.configuration.termQuery&&this.searchedValueLength<this.MINIMUM_LETTERS_NUMBER_TO_FETCH&&this.clearSearchingOptions()})),this.subscriptions.add(this.selectedOptionsChanged$.pipe((0,h.b)(this.configuration.optionsChangedDebounceTime)).subscribe(()=>this.selectedOptionsChanged.emit(this.selectedElements))),this.setSelectButtonListeners(),this.configuration.termQuery&&this.configuration.initWithQuery&&(this.MINIMUM_LETTERS_NUMBER_TO_FETCH=0,this.fetchOptionsFromTermQuery("")),this.configuration.query$&&this.configuration.initWithQuery&&(this.MINIMUM_LETTERS_NUMBER_TO_FETCH=0,this.fetchOptionsFromQuery()),this.configuration.termQuery||(this.MINIMUM_LETTERS_NUMBER_TO_FETCH=0),this.configuration.searchFilteringGroups&&(this.searchFilteringGroupsConfig=(new C.w).withCustomButton().withoutMovingOptionsMenuToBody().withMultiSelect().withOptionsLabel(this.configuration.searchFilteringGroups.label).withOptionsMenuWidth("auto").withSelectAndDeselectAll().withClearingButton(!1,!0).withOptionsChangedDebounceTime(0).withPrefixForId(this.getIdWithPrefix("filtering-groups")),this.subscriptions.add(this.configuration.searchFilteringGroups.groups$.subscribe(fe=>{this.searchFilteringAllGroupsSelected=!0,this.searchFilteringAllGroups=fe,fe&&fe.length>this.SEARCH_FILTERING_GROUPS_MAX_LENGTH&&this.searchFilteringGroupsConfig.withSearchFieldAvailable()}))),this.setPrefixForIds(),this.configuration.openedMenuOnCreation&&this.openMenuOptionWhenReady(),this.setHostHeightCssClasses()}ngAfterViewInit(){this.subscriptions.add(this.formControl.valueChanges.subscribe(()=>{})),this.configuration.searchFieldAvailable&&this.setSearchFieldListeners(),this.setSelectOptionsMenuListeners(),this.changeDetectorRef.detectChanges(),this.configuration.multiPicker&&this.setTextAreaListeners()}finalize(){this.resizeSubscription&&this.resizeSubscription.unsubscribe(),this.querySubscription&&this.querySubscription.unsubscribe(),this.subscriptions.unsubscribe(),this.setFocusTimeout&&clearTimeout(this.setFocusTimeout),this.configuration.moveOptionsMenuToBody&&this.selectOptionsMenuWrapper.nativeElement.remove(),this.optionsChanged$.complete()}searchFilteringGroupsChanged(fe){this.searchFilteringAllGroupsSelected=this.searchFilteringAllGroups.every(Ge=>Ge.selected)||this.searchFilteringAllGroups.every(Ge=>!Ge.selected),this.searchedGroupsChanged.emit(this.searchFilteringAllGroupsSelected?this.searchFilteringAllGroups:fe)}searchValueChanged(fe){this.searchValue!==fe&&(!this.optionsMenuVisible&&fe&&this.openSelect(),this.searchValue=fe,this.backspaceCounter=0,this.optionMenuFetching(),this.searchedValueChanged$.next(fe),this.configuration.initWithQuery&&this.configuration.query$?(this.displayElements=this.getUnpickedElementsWithQuery(fe),this.fetching=!1,this.changeDetectorRef.detectChanges(),this.calculateOptionsMenu(),this.optionsWrapper&&(this.initialOptionMenu(),this.changeDetectorRef.detectChanges())):this.configuration.termQuery||((this.optionsGiven||!this.optionsGiven&&this.configuration.query$)&&(this.displayElements=this.optionElements.filter(Ge=>Ge.selected&&this.configuration.multiPicker?void 0:(void 0!==Ge.searchByValue?Ge.searchByValue:Ge.text).toString().toLowerCase().indexOf(fe.toLowerCase())>-1),this.fetching=!1,this.changeDetectorRef.detectChanges()),this.calculateOptionsMenu(),this.optionsWrapper&&(this.initialOptionMenu(),this.changeDetectorRef.detectChanges())))}selectTopElement(){if(0===this.displayElements.indexOf(this.hoveredElement))return;const fe=this.displayElements.indexOf(this.hoveredElement)-1;this.hoveredElement=this.displayElements[fe],fe<this.firstVisibleOptionIndex&&(this.firstVisibleOptionIndex--,this.lastVisibleOptionElementIndex--,this.optionsWrapper.nativeElement.scrollTop=fe*this.configuration.optionHeight)}selectBottomElement(){if(this.displayElements.indexOf(this.hoveredElement)===this.displayElements.length-1)return;const fe=this.displayElements.indexOf(this.hoveredElement)+1;this.hoveredElement=this.displayElements[fe],fe>this.lastVisibleOptionElementIndex&&(this.firstVisibleOptionIndex++,this.lastVisibleOptionElementIndex++,this.optionsWrapper.nativeElement.scrollTop=(fe-(this.configuration.numberOfMenuVisibleOptions-1))*this.configuration.optionHeight)}hoverElement(fe){this.hoveredElement=fe,this.firstVisibleOptionIndex=this.displayElements.indexOf(this.hoveredElement)-this.configuration.numberOfMenuVisibleOptions/2+1,this.lastVisibleOptionElementIndex=this.displayElements.lastIndexOf(this.hoveredElement)+this.configuration.numberOfMenuVisibleOptions/2}selectOption(fe){if(!fe.disabled){if(this.configuration.multiSelect)return void this.handleSelectingInMultiSelect(fe);if(this.configuration.multiPicker)return void this.handleSelectingInMultiPicker(fe);this.handleSelecting(fe)}}deleteOption(fe){const Ge=this.selectedElements.find(Tt=>Tt.value===fe);this.selectedElements=this.selectedElements.filter(Tt=>Tt.value!==fe),Ge&&(this.setOptionAsUnselected(Ge),this.displayElements=this.getUnpickedElements()),this.hoveredElement=this.displayElements[0],this.changeDetectorRef.detectChanges(),this.configuration.multiPicker&&this.propagateChange(this.selectedElements),this.removeOptionValue.emit(Ge)}unmarkAllSelectedElements(){this.changeAll(!1)}getSelectedElementsLength(){const fe=this.selectedElements.length;return fe>this.SELECTED_OPTIONS_BREAK_STRING_VALUE?"9+":fe}openSelect(){this.disabled||(this.configuration.termQuery&&this.fetchOptionsFromTermQuery(""),this.optionsWrapper.nativeElement.scrollTop=0,this.configuration.query$&&!this.configuration.initWithQuery&&this.fetchOptionsFromQuery(),this.optionsMenuVisible=!this.optionsMenuVisible,this.changeDetectorRef.detectChanges(),this.optionsMenuVisible?(this.configuration.optionsMenuResizable&&this.subscribeToResizeWindow(),this.calculateOptionsMenu()):this.closeMenu(),this.optionMenuToggled.next(!0))}isTextAreaLabelEqual(fe,Ge){return Ge.value}setFocusToTextArea(){this.textArea.nativeElement.focus()}changeFavourite(fe,Ge){Ge.favourite?this.unmarkFavourite(fe,Ge):this.markAsFavourite(fe,Ge)}markAsFavourite(fe,Ge){const Tt=this.displayElements.find(Pe=>Pe.value===Ge.value);void 0!==Tt&&(Tt.favourite=!0,this.favouriteChange.next(Ge)),fe.stopPropagation()}unmarkFavourite(fe,Ge){const Tt=this.displayElements.find(Pe=>Pe.value===Ge.value);void 0!==Tt&&(Tt.favourite=!1,this.favouriteChange.next(Ge)),fe.stopPropagation()}setMouseEnteredMenu(){this.isMouseOverMenu=!0}setMouseLeftMenu(){this.isMouseOverMenu=!1}setMouseEnteredButton(){this.isMouseOverButton=!0}setMouseLeftButton(){this.isMouseOverButton=!1}writeValue(fe){fe?fe instanceof Array?this.selectedElements=fe:fe instanceof E.W?this.selectedElement=fe:this.selectedElement.text=fe instanceof v.H?fe:v.H.string(fe):this.selectedElement=new E.W("",v.H.string(""),v.H.string("")),this.changeDetectorRef.markForCheck()}registerOnChange(fe){this.propagateChange=fe}registerOnTouched(fe){}setDisabledState(fe){this.disabled=fe,this.changeDetectorRef.destroyed||this.changeDetectorRef.detectChanges()}textAreaPlaceholder(){return this.selectedElements.length>0?"":this.configuration.selectInputPlaceholder}selectOrDeselectAll(){this.selectedAllVisible=!!this.areAllSelected()||!this.noneSelected()&&!this.selectedAllVisible,this.changeAll(!this.selectedAllVisible)}areAllSelected(){return!this.displayElements.some(fe=>!fe.selected)}noneSelected(){return!this.displayElements.some(fe=>fe.selected)}fetchOptionsFromTermQuery(fe){this.fetching=!0,this.changeDetectorRef.detectChanges(),this.termQuerySubcription&&this.termQuerySubcription.unsubscribe(),this.subscriptions.add(this.termQuerySubcription=this.configuration.termQuery(fe).subscribe(Ge=>{this.searchedValueLength>=this.MINIMUM_LETTERS_NUMBER_TO_FETCH||Ge&&Ge.length>0?(this.optionElements=[],Ge&&Ge.forEach(Tt=>{this.optionElements.push(Tt instanceof E.W?Tt:E.W.fromRaw(Tt,this.configuration.mappers))}),this.displayElements=this.getUnpickedElements(),this.fetching=!1,this.changeDetectorRef.detectChanges(),this.calculateOptionsMenu()):this.clearSearchingOptions()}))}escPressed(){this.escOnInputPressed.emit()}trackByFn(fe,Ge){return Ge.id}isSelectIconAndTextLabelVisible(){return!!this.selectedElement.iconURL||this.selectedElement.text.toString()&&!this.configuration.multiSelect&&!this.configuration.multiPicker&&!this.configuration.customButton}getHostClasses(){return["sp-flex","sp-w-inherit","sp-relative"]}selectSearchFormValueChanged(){this.searchForm.valueChanges.pipe(this.takeUntilDestroy()).subscribe(fe=>{this.searchValueChanged(fe)})}selectTextAreaFormValueChanged(){this.textAreaForm.valueChanges.pipe(this.takeUntilDestroy()).subscribe(fe=>{this.searchValueChanged(fe)})}clearSearchingOptions(){this.optionElements=[],this.displayElements=[],this.fetching=!1,this.keepTypingLabel=0!==this.searchedValueLength,this.calculateOptionsMenu()}changeAll(fe){if(this.displayElements.forEach(Ge=>{Ge.selected=fe}),fe)this.selectedElements=[...this.selectedElements,...this.displayElements];else{const Ge=this.displayElements.map(Tt=>Tt.value);this.selectedElements=this.selectedElements.filter(Tt=>!Ge.includes(Tt.value))}this.setMultiSelectButtonLabel(),this.selectedOptionsChanged$.next(this.selectedElements)}getUnpickedElements(){return this.optionElements.filter(fe=>!this.selectedElements.some(Ge=>Ge.value===fe.value))}getUnpickedElementsWithQuery(fe){return this.optionElements.filter(Ge=>!this.selectedElements.some(Tt=>Tt.value===Ge.value)&&Ge.text.toString().toLowerCase().indexOf(fe.toLowerCase())>-1)}getOptionElements(fe){return this.optionElements=[],fe.forEach(Ge=>{if(Ge instanceof E.W)this.optionElements.push(Ge);else{let Tt=E.W.fromRaw(Ge,this.configuration.mappers).withId((0,F.Hu)());Ge.icon&&(Tt=Tt.withIcon(Ge.icon)),Ge.configuration&&Ge.configuration.isSuffixIcon&&(Tt=Tt.withIsSuffixIcon(Ge.configuration.isSuffixIcon)),Ge.configuration&&Ge.configuration.suffixIcon&&(Tt=Tt.withSuffixIcon(Ge.configuration.suffixIcon)),Ge.configuration&&Ge.configuration.suffixIconURL&&(Tt=Tt.withSuffixIconURL(Ge.configuration.suffixIconURL)),Ge.configuration&&Ge.configuration.suffixIconLinkURL&&(Tt=Tt.withSuffixIconLinkURL(Ge.configuration.suffixIconLinkURL)),Ge.configuration&&Ge.configuration.suffixIconTooltip&&(Tt=Tt.withSuffixIconTooltip(Ge.configuration.suffixIconTooltip)),Ge.configuration&&Ge.configuration.platformInfo&&(Tt=Tt.withAdditionalData(Ge.configuration.platformInfo)),this.optionElements.push(Tt)}}),this.optionElements}handleSelectingInMultiSelect(fe){fe.selected=!fe.selected,this.selectedOptionChanged.emit(fe),fe.selected?this.selectedElements.push(fe):this.selectedElements=this.selectedElements.filter(Ge=>this.filterMultiSelectOptions(Ge,fe)),this.setMultiSelectButtonLabel(),this.selectedOptionsChanged$.next(this.selectedElements),this.propagateChange(this.selectedElements)}filterMultiSelectOptions(fe,Ge){return fe.id?fe.value!==Ge.value&&fe.id!==Ge.id:fe.value!==Ge.value}handleSelectingInMultiPicker(fe){this.backspaceCounter=0,fe.selected=!0,fe.selected&&!this.selectedElements.some(Ge=>Ge.value===fe.value&&Ge.id===fe.id)&&(this.selectedElements.push(fe),this.displayElements=this.displayElements.filter(Ge=>Ge.value!==fe.value&&Ge.id!==fe.id),this.selectedOptionsChanged$.next(this.selectedElements)),this.textAreaForm.setValue(""),this.selectedOptionChanged.emit(fe),this.propagateChange(this.selectedElements),this.hoveredElement=void 0}handleSelecting(fe){fe.selected=!fe.selected,this.selectedElement=fe,this.closeMenu(),this.propagateChange(this.selectedElement),this.changeDetectorRef.markForCheck(),this.selectedOptionChanged.emit(this.selectedElement),this.hoveredElement=void 0}setMultiSelectButtonLabel(){this.configuration.isShortPlaceholder?this.setShortPlaceholder():this.setFullPlaceholder(),this.toggleSelectDeselectAllVisibility()}setFullPlaceholder(){0!==this.selectedElements.length?(this.multiSelectButtonLabel=this.configuration.shortSelectButtonPlaceholder,this.combineSelectedLabelsToPlaceholder()):this.multiSelectButtonLabel=this.configuration.selectButtonPlaceholder?this.configuration.selectButtonPlaceholder:"SPT_COMMON_SELECT_PLACEHOLDER"}setShortPlaceholder(){0===this.selectedElements.length?this.multiSelectButtonLabel=`${this.configuration.shortSelectButtonPlaceholder} ${this.l10nTextService.translate("SPT_COMMON_SELECT_SHORT_PLACEHOLDER_NONE")}`:this.selectedElements.length===this.displayElements.length?this.multiSelectButtonLabel=`${this.configuration.shortSelectButtonPlaceholder} ${this.l10nTextService.translate("SPT_COMMON_SELECT_SHORT_PLACEHOLDER_ALL")}`:this.combineSelectedLabelsToPlaceholder()}toggleSelectDeselectAllVisibility(){this.selectedAllVisible=0!==this.selectedElements.length}combineSelectedLabelsToPlaceholder(){if(this.multiSelectButtonLabel=this.configuration.shortSelectButtonPlaceholder,this.selectedElements&&this.selectedElements.length>0){const fe=new Set(this.selectedElements.map(Ge=>Ge.text.toString()));this.multiSelectButtonLabel=this.multiSelectButtonLabel+Array.from(fe).join(", ")}}initialOptionMenu(){this.optionsWrapper.nativeElement.scrollTop=0,this.hoveredElement=this.displayElements[0],this.firstVisibleOptionIndex=0,this.lastVisibleOptionElementIndex=this.configuration.numberOfMenuVisibleOptions-1}setSelectedElement(fe){this.selectedElement=fe instanceof E.W?fe:E.W.fromRaw(fe,this.configuration.mappers)}setSelectedElements(fe){this.selectedElements=[],fe.forEach(Ge=>{this.selectedElements.push(Ge instanceof E.W?Ge:E.W.fromRaw(Ge,this.configuration.mappers))})}setOptionAsUnselected(fe){this.optionElements.forEach(Ge=>{Ge.id===fe.id&&(Ge.selected=!1)})}setDisplayElements(){this.displayElements=this.configuration.multiPicker?this.getOptionElements(this.options).filter(fe=>!fe.selected):this.getOptionElements(this.options)}filterOptionsByQuery(){this.optionsGiven&&this.searchValue&&(this.displayElements=this.optionElements.filter(fe=>(void 0!==fe.searchByValue?fe.searchByValue:fe.text).toString().toLowerCase().indexOf(this.searchValue.toLowerCase())>-1),this.fetching=!1)}setSelectedElementsFromOptionProperty(){this.selectedElements=[],this.options.forEach(fe=>{if(fe instanceof E.W&&fe.selected)this.selectedElements.push(fe);else{const Ge=E.W.fromRaw(fe,this.configuration.mappers);Ge.selected&&this.selectedElements.push(Ge)}})}setTextAreaListeners(){(0,o.R)(this.textArea.nativeElement,"keydown").pipe((0,p.h)(fe=>"enter"===fe.key.toLowerCase()),this.takeUntilDestroy()).subscribe(fe=>{fe.stopPropagation(),this.backspaceCounter=0,this.optionsMenuVisible?(this.hoveredElement&&(this.selectedElements.push(this.hoveredElement),this.displayElements=this.getUnpickedElementsWithQuery(""),this.selectOption(this.hoveredElement),this.hoveredElement=void 0),this.closeMenu()):(this.openSelect(),this.displayElements.length>0&&(this.hoveredElement=this.displayElements[0],this.changeDetectorRef.detectChanges()))}),(0,o.R)(this.textArea.nativeElement,"blur").pipe(this.takeUntilDestroy()).subscribe(()=>{this.backspaceCounter=0,this.changeDetectorRef.detectChanges()}),(0,o.R)(this.textArea.nativeElement,"keydown").pipe((0,p.h)(fe=>"arrowup"===fe.key.toLowerCase()),this.takeUntilDestroy()).subscribe(fe=>{fe.stopPropagation(),this.selectTopElement(),this.changeDetectorRef.detectChanges()}),(0,o.R)(this.textArea.nativeElement,"keydown").pipe((0,p.h)(fe=>"arrowdown"===fe.key.toLowerCase()),this.takeUntilDestroy()).subscribe(fe=>{fe.stopPropagation(),this.selectBottomElement(),this.changeDetectorRef.detectChanges()}),(0,o.R)(this.textArea.nativeElement,"keydown").pipe((0,p.h)(fe=>"backspace"===fe.key.toLowerCase()),this.takeUntilDestroy()).subscribe(()=>{this.tryDeletePickedElement()})}setSearchFieldListeners(){(0,o.R)(this.spSelectSearch.nativeElement,"keydown").pipe((0,p.h)(fe=>"enter"===fe.key.toLowerCase()),this.takeUntilDestroy()).subscribe(fe=>{fe.stopPropagation(),this.submitSearch(),this.changeDetectorRef.detectChanges()}),(0,o.R)(this.spSelectSearch.nativeElement,"keydown").pipe((0,p.h)(fe=>"arrowup"===fe.key.toLowerCase()),this.takeUntilDestroy()).subscribe(()=>{this.selectTopElement(),this.changeDetectorRef.detectChanges()}),(0,o.R)(this.spSelectSearch.nativeElement,"keydown").pipe((0,p.h)(fe=>"arrowdown"===fe.key.toLowerCase()),this.takeUntilDestroy()).subscribe(()=>{this.selectBottomElement(),this.changeDetectorRef.detectChanges()})}setSelectButtonListeners(){(0,o.R)(this.selectButton.nativeElement,"click").pipe(this.takeUntilDestroy()).subscribe(()=>{this.optionsMenuVisible?this.closeMenu():this.openSelect(),this.changeDetectorRef.detectChanges()}),(0,o.R)(this.selectButton.nativeElement,"mouseleave").pipe(this.takeUntilDestroy()).subscribe(()=>{this.setMouseLeftButton(),this.changeDetectorRef.detectChanges()}),(0,o.R)(this.selectButton.nativeElement,"mouseover").pipe(this.takeUntilDestroy()).subscribe(()=>{this.setMouseEnteredButton(),this.changeDetectorRef.detectChanges()})}setSelectOptionsMenuListeners(){(0,o.R)(this.selectOptionsMenuWrapper.nativeElement,"mouseleave").pipe(this.takeUntilDestroy()).subscribe(()=>{this.setMouseLeftMenu(),this.changeDetectorRef.detectChanges()}),(0,o.R)(this.selectOptionsMenuWrapper.nativeElement,"mouseover").pipe(this.takeUntilDestroy()).subscribe(()=>{this.setMouseEnteredMenu(),this.changeDetectorRef.detectChanges()})}submitSearch(){this.changeDetectorRef.detectChanges(),this.hoveredElement&&this.selectOption(this.hoveredElement)}tryDeletePickedElement(){if(this.backspaceCounter++,this.changeDetectorRef.detectChanges(),0!==this.selectedElements.length){if(1!==this.backspaceCounter&&0===this.searchValue.length)if(this.configuration.termQuery){const fe=this.selectedElements.pop();this.removeOptionValue.emit(fe),this.fetchOptionsFromTermQuery(""),this.changeDetectorRef.detectChanges()}else{const fe=this.selectedElements.pop();this.displayElements=this.getUnpickedElements(),this.changeDetectorRef.detectChanges(),this.removeOptionValue.emit(fe)}}else this.backspaceCounter=0}fetchOptionsFromQuery(){this.fetching=!0,this.displayElements=[],this.querySubscription=this.configuration.query$.subscribe(fe=>{this.optionElements=[...fe],this.displayElements=this.optionElements,this.fetching=!1,this.changeDetectorRef.detectChanges(),this.configuration.multiPicker&&(this.displayElements=this.getUnpickedElementsWithQuery(""))})}optionMenuFetching(){this.fetching=!0,this.displayElements=[],this.changeDetectorRef.detectChanges()}closeMenu(){this.resizeSubscription&&this.resizeSubscription.unsubscribe(),this.querySubscription&&!this.configuration.initWithQuery&&this.querySubscription.unsubscribe(),this.setMouseLeftMenu(),this.hoveredElement=void 0,this.firstVisibleOptionIndex=0,this.lastVisibleOptionElementIndex=this.configuration.numberOfMenuVisibleOptions-1,this.domManipulator.removeStyle(this.selectButton.nativeElement,"width"),this.domManipulator.removeClass(this.selectButton.nativeElement,"sp-select-button-menu-top"),this.domManipulator.removeClass(this.selectButton.nativeElement,"sp-select-button-menu-bottom"),this.domManipulator.removeClass(this.selectOptionsMenuWrapper.nativeElement,"sp-options-menu-bottom"),this.domManipulator.removeClass(this.selectOptionsMenuWrapper.nativeElement,"sp-options-menu-top"),this.optionsMenuVisible=!1,this.menuReversed=!1,this.searchForm.setValue(""),this.textAreaForm.setValue(""),this.optionMenuToggled.next(!1),this.configuration.multiPicker||(this.displayElements=this.optionElements),this.changeDetectorRef.detectChanges()}subscribeToResizeWindow(){this.resizeSubscription=(0,o.R)(window,"resize").pipe((0,h.b)(this.WINDOW_RESIZE_DEBOUNCE_TIME)).subscribe(()=>{this.calculateOptionsMenu()})}calculateOptionsMenu(){this.fetching=!1,this.changeDetectorRef.detectChanges(),this.selectPositionCalculator=new P(this.selectButtonWrapper,this.selectButton,this.selectOptionsMenuWrapper,this.optionsWrapper,this.configuration,this.innerRenderer,this.elementRef,this.changeDetectorRef,this.document),this.selectPositionCalculator.isOptionsMenuDroppingBottom(this.selectButtonWrapper,this.selectOptionsMenuWrapper)&&this.reverseMenu(!1),this.selectPositionCalculator.calculateOptionsMenu(),this.optionsMenuVisible&&this.ngZone.runOutsideAngular(()=>{this.selectPositionCalculator.calculateOptionsMenu(),this.changeDetectorRef.detectChanges(),setTimeout(()=>{this.setFocusOnSearchInput()})})}calculateOptionsMenuWithTimeout(){(0,d.H)().pipe(this.takeUntilDestroy()).subscribe(()=>{this.calculateOptionsMenu()})}setFocusOnSearchInput(){this.spSelectSearch&&this.spSelectSearch.nativeElement.focus()}reverseMenu(fe){fe!==this.menuReversed&&(this.optionElements.reverse(),this.menuReversed=!this.menuReversed)}shouldCloseMenuAfterClick(){return!this.isMouseOverMenu&&!this.isMouseOverButton&&this.optionsMenuVisible}setPrefixForIds(){this.selectWrapperId=this.getIdWithPrefix("select-wrapper"),this.selectButtonId=this.getIdWithPrefix("select-button"),this.multiPickerInputId=this.getIdWithPrefix("multi-picker"),this.clearingButtonId=this.getIdWithPrefix("clearing-button"),this.searchFieldId=this.getIdWithPrefix("search-field"),this.optionsWrapperId=this.getIdWithPrefix("menu-wrapper"),this.optionsMenuId=this.getIdWithPrefix("options-menu"),this.selectLabelId=this.getIdWithPrefix("select-label"),this.optionId=this.getIdWithPrefix("option"),this.selectSuffixIconId=this.getIdWithPrefix("select-suffix-icon"),this.selectSingleLabelPlaceholderId=this.getIdWithPrefix("select-single-label-placeholder"),this.selectMultiPickerLabelContainerId=this.getIdWithPrefix("select-multi-picker-label-container")}getIdWithPrefix(fe){return`${this.configuration.prefixForId||"sp-select"}-${fe}`}openMenuOptionWhenReady(){this.optionsChanged$.pipe((0,f.O)(this.displayElements),(0,p.h)(fe=>!(!fe||!fe.length)),(0,m.q)(1),this.takeUntilDestroy()).subscribe(()=>{this.openSelect()})}setHostHeightCssClasses(){this.configuration.responsiveHeight?this.domManipulator.addHostClass("sp-h-full","sp-max-h-8"):this.domManipulator.addHostClass("sp-h-auto")}}return Je.\u0275fac=function(fe){return new(fe||Je)(n.Y36(n.SBq),n.Y36(n.Qsj),n.Y36(n.R0b),n.Y36(n.sBO),n.Y36(i.e),n.Y36(t.K0))},Je.\u0275cmp=n.Xpm({type:Je,selectors:[["sp-select"]],viewQuery:function(fe,Ge){if(1&fe&&(n.Gf(X,7),n.Gf(ie,7),n.Gf(se,5),n.Gf(pe,7),n.Gf(ve,7),n.Gf(Ce,5),n.Gf(ye,5)),2&fe){let Tt;n.iGM(Tt=n.CRH())&&(Ge.selectButtonWrapper=Tt.first),n.iGM(Tt=n.CRH())&&(Ge.selectButton=Tt.first),n.iGM(Tt=n.CRH())&&(Ge.textArea=Tt.first),n.iGM(Tt=n.CRH())&&(Ge.selectOptionsMenuWrapper=Tt.first),n.iGM(Tt=n.CRH())&&(Ge.optionsWrapper=Tt.first),n.iGM(Tt=n.CRH())&&(Ge.spSelectSearch=Tt.first),n.iGM(Tt=n.CRH())&&(Ge.searchFilteringGroupsSelect=Tt.first)}},hostVars:2,hostBindings:function(fe,Ge){2&fe&&n.ekj("sp-select",!0)},inputs:{formControl:"formControl",configuration:"configuration",isInvalid:"isInvalid",options:"options",selectedOption:"selectedOption",selectedOptions:"selectedOptions",disabled:"disabled"},outputs:{selectedOptionChanged:"selectedOptionChanged",removeOptionValue:"removeOptionValue",selectedOptionsChanged:"selectedOptionsChanged",favouriteChange:"favouriteChange",searchedValueChanged:"searchedValueChanged",searchedGroupsChanged:"searchedGroupsChanged",optionMenuToggled:"optionMenuToggled",escOnInputPressed:"escOnInputPressed"},features:[n._Bn([qe]),n.qOj,n.TTD],ngContentSelectors:vt,decls:26,vars:52,consts:[[1,"sp-select-wrapper","sp-flex","sp-relative","sp-w-full"],[1,"sp-select-button-wrapper","sp-w-full"],["spSelectButtonWrapper",""],[1,"sp-select-button","sp-items-center","sp-border-transparent-2"],["spSelectButton",""],[4,"ngIf"],["class","sp-select-label-placeholder sp-w-full sp-text-left",4,"ngIf"],["class","sp-flex sp-w-full sp-truncate",4,"ngIf"],["class","sp-select-label sp-w-full sp-text-left",4,"ngIf"],["class","sp-text-area-wrapper","id","sp-text-area-wrapper",3,"width","height","min-height","max-height","resize","click",4,"ngIf"],["class","fas fa-chevron-down sp-ml-1",4,"ngIf"],[1,"sp-select-options-menu"],["spSelectOptionsMenuWrapper",""],["class","sp-search-wrapper",4,"ngIf"],[1,"sp-select-options-header"],["class","sp-select-options-label",4,"ngIf"],["class","sp-loading-label",4,"ngIf"],[1,"sp-menu-wrapper"],["spOptionsWrapper",""],[3,"class","spTooltipGravity","spTooltipEnabled","spTooltip","sp-option-element-disabled","sp-option-element-hovered","click","mouseover",4,"ngFor","ngForOf","ngForTrackBy"],["class","sp-no-matches-elements",4,"ngIf"],[1,"sp-mr-1","sp-select__icon",3,"name","color","type"],[1,"sp-select-label-placeholder","sp-w-full","sp-text-left"],[1,"sp-flex","sp-w-full","sp-truncate"],["class","sp-select-label sp-inline-block",3,"config","spTooltip","spTooltipEnabled","spTooltipOnOverflow",4,"ngIf"],["class","sp-select-button-icons",4,"ngIf"],[1,"sp-icon-16","sp-mr-1",3,"src"],[1,"sp-select-label","sp-inline-block",3,"config","spTooltip","spTooltipEnabled","spTooltipOnOverflow"],[1,"sp-select-button-icons"],["class","fa fa-question-circle sp-select-tooltip sp-ml-2",3,"spTooltip","spTooltipGravity",4,"ngIf"],[1,"fa","fa-question-circle","sp-select-tooltip","sp-ml-2",3,"spTooltip","spTooltipGravity"],[1,"sp-select-label","sp-w-full","sp-text-left"],["id","sp-text-area-wrapper",1,"sp-text-area-wrapper",3,"click"],[3,"removable","href","class","sp-marked-for-delete","delete",4,"ngFor","ngForOf","ngForTrackBy"],["autocomplete","off","type","text",1,"sp-picker-placeholder",3,"formControl","placeholder","keydown.esc"],["spTextArea",""],[3,"removable","href","delete"],[3,"config","spTooltip","spTooltipEnabled","spTooltipOnOverflow"],[1,"sp-select__icon",3,"name","color","type"],[1,"fas","fa-chevron-down","sp-ml-1"],["class","sp-selected-elements-counter",3,"annotationVisible","click",4,"ngIf"],[3,"clearable","clear",4,"ngIf"],[1,"sp-selected-elements-counter",3,"click"],[1,"sp-selected-elements-number"],["aria-hidden","true",1,"fa","fa-times","sp-clear-all-selected-elements"],[3,"clearable","clear"],[1,"sp-search-wrapper"],[1,"sp-search-field-wrapper"],["autocomplete","off",1,"sp-form-control",3,"formControl","placeholder","keydown.esc"],["spSelectSearch",""],["aria-hidden","true",1,"fa","fa-search","sp-magnifier","sp-cursor-default","sp-absolute","sp-block"],["class","sp-search-filtering-groups",3,"configuration","options","selectedOptionsChanged",4,"ngIf"],[1,"sp-search-filtering-groups",3,"configuration","options","selectedOptionsChanged"],["spSearchFilteringGroupsSelect",""],[1,"fa","fa-filter","sp-select-custom-button"],[1,"sp-select-options-label"],["id","sp-select-deselect-all",1,"select-deselect",3,"click"],[1,"sp-loading-label"],[3,"spTooltipGravity","spTooltipEnabled","spTooltip","click","mouseover"],["tabindex","0","class","sp-option-checkbox","id","sp-option-checkbox",3,"ngClass",4,"ngIf"],["alt","",3,"src","ngClass",4,"ngIf"],[1,"sp-span-ellipsis","sp-mr-1",3,"spTooltip","spTooltipEnabled","spTooltipOnOverflow","config"],["spClickStopPropagation","","class","sp-select-suffix-icon sp-relative sp-block sp-w-4 sp-h-4",3,"spTooltipGravity","spTooltip",4,"ngIf"],["class","sp-favourite-icons",3,"click",4,"ngIf"],["tabindex","0","id","sp-option-checkbox",1,"sp-option-checkbox",3,"ngClass"],["width","10","height","10","viewBox","0 0 10 10","focusable","false","role","presentation",4,"ngIf"],["width","10","height","10","viewBox","0 0 10 10","focusable","false","role","presentation"],["fill-rule","evenodd","transform","translate(-7, -7)"],["d","M9.707 11.293a1 1 0 1 0-1.414 1.414l2 2a1 1 0 0 0 1.414 0l4-4a1 1 0 1 0-1.414-1.414L11 12.586l-1.293-1.293z","fill","inherit"],[1,"sp-select__icon",3,"name","color","type","ngClass"],["alt","",3,"src","ngClass"],["spClickStopPropagation","",1,"sp-select-suffix-icon","sp-relative","sp-block","sp-w-4","sp-h-4",3,"spTooltipGravity","spTooltip"],["id","sp-select-suffix-icon","class","sp-inline-block sp-w-full sp-h-full sp-align-top","target","_blank",3,"href",4,"ngIf","ngIfElse"],["suffixIconFromURL",""],["id","sp-select-suffix-icon","target","_blank",1,"sp-inline-block","sp-w-full","sp-h-full","sp-align-top",3,"href"],[1,"sp-select__icon","sp-w-full","sp-h-full","sp-flex","sp-items-center","sp-justify-center","sp-text-gray-400",3,"name","color","type"],["class","sp-inline-block sp-w-full sp-h-full sp-align-top","target","_blank",3,"href",4,"ngIf"],["target","_blank",1,"sp-inline-block","sp-w-full","sp-h-full","sp-align-top",3,"href"],["class","sp-select-suffix-icon-img sp-w-full sp-h-full sp-block","alt","",3,"src",4,"ngIf"],["alt","",1,"sp-select-suffix-icon-img","sp-w-full","sp-h-full","sp-block",3,"src"],[1,"sp-favourite-icons",3,"click"],[4,"ngIf","ngIfElse"],["unmarked",""],["aria-hidden","true",1,"fa","fa-star",3,"spTooltip","spTooltipGravity"],["aria-hidden","true",1,"far","fa-star",3,"spTooltip","spTooltipGravity"],[1,"sp-no-matches-elements"]],template:function(fe,Ge){1&fe&&(n.F$t(Le),n.TgZ(0,"div",0),n.TgZ(1,"div",1,2),n.TgZ(3,"div",3,4),n.Hsn(5),n.YNc(6,de,2,3,"ng-container",5),n.YNc(7,Ie,3,4,"div",6),n.YNc(8,gt,4,3,"div",7),n.YNc(9,tt,3,4,"div",8),n.YNc(10,lt,3,3,"div",6),n.YNc(11,De,5,18,"div",9),n.YNc(12,Ye,1,0,"i",10),n.qZA(),n.qZA(),n.YNc(13,it,3,2,"ng-container",5),n.TgZ(14,"div",11,12),n.YNc(16,Ct,7,6,"div",13),n.TgZ(17,"div",14),n.YNc(18,Lt,3,3,"div",15),n.YNc(19,St,4,6,"div",5),n.qZA(),n.YNc(20,$t,3,3,"div",16),n.YNc(21,yt,3,3,"div",16),n.TgZ(22,"div",17,18),n.YNc(24,Zt,8,23,"div",19),n.YNc(25,je,3,3,"div",20),n.qZA(),n.qZA(),n.qZA()),2&fe&&(n.Udp("position","relative"),n.ekj("sp-h-8",!Ge.configuration.multiPicker&&!Ge.configuration.responsiveHeight),n.uIk("id",Ge.selectWrapperId),n.xp6(1),n.Udp("width",Ge.configuration.buttonWidthStyle+"px"),n.ekj("sp-as-picker-wrapper",Ge.configuration.multiPicker),n.xp6(2),n.ekj("sp-btn",!Ge.configuration.multiPicker)("sp-select-button-responsive-height",Ge.configuration.responsiveHeight)("sp-form-control",Ge.configuration.multiPicker)("sp-select-button-active",Ge.optionsMenuVisible&&!Ge.isInvalid)("sp-select-button-error-border",Ge.isInvalid)("sp-select-button-disabled",Ge.disabled),n.uIk("id",Ge.selectButtonId),n.xp6(3),n.Q6J("ngIf",Ge.selectedElement.icon),n.xp6(1),n.Q6J("ngIf",!(Ge.selectedElement.text.toString()||Ge.configuration.multiSelect||Ge.configuration.multiPicker||Ge.configuration.customButton)),n.xp6(1),n.Q6J("ngIf",Ge.isSelectIconAndTextLabelVisible()),n.xp6(1),n.Q6J("ngIf",Ge.configuration.multiSelect&&Ge.selectedElements.length>0&&!Ge.configuration.multiPicker&&!Ge.configuration.customButton),n.xp6(1),n.Q6J("ngIf",Ge.configuration.multiSelect&&0===Ge.selectedElements.length&&!Ge.configuration.multiPicker&&!Ge.configuration.customButton),n.xp6(1),n.Q6J("ngIf",Ge.configuration.multiPicker&&!Ge.configuration.customButton),n.xp6(1),n.Q6J("ngIf",!Ge.configuration.multiPicker&&!Ge.configuration.customButton),n.xp6(1),n.Q6J("ngIf",Ge.configuration.showClearingButton&&Ge.selectedElements.length>0),n.xp6(1),n.Udp("width",Ge.configuration.optionsMenuWidth),n.ekj("sp-options-menu-hidden",!Ge.optionsMenuVisible)("sp-options-menu-visible",Ge.optionsMenuVisible)("sp-menu-reversed",Ge.menuReversed)("fetching",Ge.fetching&&Ge.menuReversed),n.uIk("id",Ge.optionsMenuId),n.xp6(2),n.Q6J("ngIf",Ge.configuration.searchFieldAvailable),n.xp6(2),n.Q6J("ngIf",Ge.configuration.optionsLabel),n.xp6(1),n.Q6J("ngIf",Ge.optionsMenuVisible&&Ge.configuration.multiSelect&&Ge.configuration.selectAndDeselectAll),n.xp6(1),n.Q6J("ngIf",Ge.fetching&&Ge.searchedValueLength>=Ge.MINIMUM_LETTERS_NUMBER_TO_FETCH),n.xp6(1),n.Q6J("ngIf",Ge.keepTypingLabel),n.xp6(1),n.ekj("fetching",Ge.fetching&&Ge.menuReversed),n.uIk("id",Ge.optionsWrapperId),n.xp6(2),n.Q6J("ngForOf",Ge.displayElements)("ngForTrackBy",Ge.trackByFn),n.xp6(1),n.Q6J("ngIf",!Ge.fetching&&0===Ge.displayElements.length&&Ge.searchedValueLength>=Ge.MINIMUM_LETTERS_NUMBER_TO_FETCH))},directives:[t.O5,t.sg,x.o,B.E,M.i9,s.Fj,s.JJ,s.oH,w._,K.US,Je,t.mk,k.E],pipes:[G.L,$.d],styles:[".sp-select{max-width:inherit}.sp-select-button-wrapper.sp-as-picker-wrapper{height:inherit;max-height:90px;min-height:30px}.sp-select-button-wrapper .sp-select-button{display:flex}.sp-select-button-wrapper .sp-select-button.sp-select-button-responsive-height{height:100%;max-height:32px;min-height:24px;padding:2px 12px}.sp-select-button-wrapper .sp-select-button .sp-select-label{overflow:hidden;white-space:nowrap;text-overflow:ellipsis;line-height:1rem;-webkit-user-select:none;user-select:none;color:var(--gray-800)}.sp-select-button-wrapper .sp-select-button .sp-select-label-placeholder{overflow:hidden;white-space:nowrap;text-overflow:ellipsis;-webkit-user-select:none;user-select:none;color:var(--gray-100)}.sp-select-button-wrapper .sp-select-button .sp-select-button-icons{display:flex;align-items:center;margin-left:10px;flex-grow:1;justify-content:flex-end}.sp-select-button-wrapper .sp-select-button .sp-select-button-icons .sp-select-tooltip{font-size:1.125rem;padding-right:4px;color:var(--gray-50)}.sp-select-button-wrapper .sp-select-button .sp-select-button-icons .sp-select-tooltip:hover{color:var(--gray-900)}.sp-select-button-wrapper .sp-select-button.sp-select-button-active.sp-btn{color:var(--gray-0);background-color:var(--gray-600);border-color:var(--gray-600)}.sp-select-button-wrapper .sp-select-button.sp-select-button-active.sp-btn:hover{background-color:var(--gray-600);border-color:var(--gray-600)}.sp-select-button-wrapper .sp-select-button.sp-select-button-active.sp-btn .sp-select-label,.sp-select-button-wrapper .sp-select-button.sp-select-button-active.sp-btn .sp-select-label-placeholder{color:var(--gray-0)}.sp-select-button-wrapper .sp-select-button.sp-form-control{border:2px solid var(--gray-30)}.sp-select-button-wrapper .sp-select-button.sp-select-button-active.sp-form-control{background-color:var(--gray-0);border-color:var(--blue-100)}.sp-select-button-wrapper .sp-select-button.sp-select-button-disabled{background:var(--gray-20);color:var(--gray-80)}.sp-select-button-wrapper .sp-select-button.sp-select-button-disabled:hover{cursor:not-allowed}.sp-select-button-wrapper .sp-select-button.sp-select-button-disabled:hover .sp-select-dropdown-icon{color:var(--gray-500)}.sp-select-button-wrapper .sp-select-button:hover .sp-select-dropdown-icon{color:var(--gray-900)}.sp-select-button-wrapper .sp-select-button:hover:not(.sp-form-control){background:var(--gray-30);border-color:var(--gray-30)}.sp-select-button-wrapper .sp-select-button .sp-select-dropdown-icon{margin-right:5px;margin-bottom:5px;color:var(--gray-500)}.sp-select-button-wrapper .sp-select-button .sp-text-area-wrapper{display:flex;max-height:70px;min-height:30px;align-items:center;justify-content:flex-start;flex-wrap:wrap;overflow:auto;cursor:text;border-radius:var(--border-radius-m)}.sp-select-button-wrapper .sp-select-button .sp-text-area-wrapper .label{height:20px;width:100px;border:1px solid var(--gray-primary);border-radius:var(--border-radius-s);background:var(--gray-primary)}.sp-select-button-wrapper .sp-select-button .sp-text-area-wrapper .sp-picker-placeholder{border:0;padding:0;margin:0;min-width:50px;max-width:400px;height:24px;outline:none;display:flex;flex:1 1;text-overflow:ellipsis;overflow:hidden;background:none}.sp-select-button-wrapper .sp-select-button .sp-text-area-wrapper .sp-picker-placeholder:last-child.sp-marked-for-delete{background:var(--danger);border:var(--danger)}.sp-select-button-wrapper .sp-select-button .sp-text-area-wrapper sp-label:last-of-type.sp-marked-for-delete .sp-label{border:1px solid var(--gray-400)}.sp-select-button-wrapper .sp-select-button.sp-select-button-error-border{border:2px solid var(--danger)!important}.sp-select-button-wrapper .sp-disable-blanket{width:100%;height:100%;position:absolute;left:0;top:0;cursor:not-allowed}.sp-select-options-header{display:flex;justify-content:space-between}.sp-select-options-label{font-size:.75rem;margin:6px 8px;color:var(--gray-80)}.sp-selected-elements-counter{font-size:.75rem;transition:opacity .2s;width:14px;height:14px;background:var(--yellow-400);position:absolute;top:-9px;right:-8px;margin-left:-9px;border-radius:100%;color:var(--white);display:flex;align-items:center;justify-content:center;border:2px solid var(--white);z-index:100;cursor:pointer}.sp-selected-elements-counter .sp-selected-elements-number{display:flex}.sp-selected-elements-counter .sp-clear-all-selected-elements{display:none}.sp-selected-elements-counter:hover{background:var(--primary);animation:change .2s forwards;transition:all .2s ease-in-out;cursor:pointer}.sp-selected-elements-counter:hover .sp-selected-elements-number{display:none}.sp-selected-elements-counter:hover .sp-clear-all-selected-elements{font-size:.625rem;color:var(--white);display:flex;height:10px}@keyframes change{0%{transform:scale(1)}to{transform:scale(1.3)}}.sp-select-options-menu{position:absolute;z-index:12000;top:33px;min-width:50px;box-shadow:#091e4240 0 4px 8px -2px,#091e424f 0 0 1px;background:var(--gray-0);display:flex;flex-direction:column;justify-content:flex-start;cursor:pointer;transition:height .2s;max-width:900px!important}.sp-select-options-menu.sp-options-menu-hidden{display:none}.sp-select-options-menu.sp-menu-reversed{flex-direction:column-reverse}.sp-select-options-menu .select-deselect{font-size:.75rem;color:var(--gray-600);margin:6px 8px 0;font-weight:bold;white-space:nowrap}.sp-select-options-menu .sp-search-wrapper{display:flex;padding:4px}.sp-select-options-menu .sp-search-field-wrapper{position:relative;display:flex;align-items:center;width:100%}.sp-select-options-menu .sp-magnifier{right:8px;width:16px;color:var(--gray-50)}.sp-select-options-menu .sp-search-filtering-groups{margin-left:4px}.sp-select-options-menu .sp-loading-label{padding:0 5px 0 9px;font-size:14px;height:28px;display:flex;align-items:center}.sp-select-options-menu .sp-no-matches-elements{padding-left:7px;height:28px;align-items:center;display:flex;font-style:italic;cursor:default}.sp-select-options-menu .sp-menu-wrapper{overflow-x:hidden;overflow-y:auto}.sp-select-options-menu .sp-menu-wrapper .sp-option-element.sp-option-element-disabled{cursor:default;color:var(--gray-100);opacity:.5}.sp-select-options-menu .sp-menu-wrapper .sp-option-element.sp-option-element-disabled sp-icon{color:var(--gray-50)}.sp-select-options-menu .sp-menu-wrapper .sp-option-element{display:flex;align-items:center;padding:4px 8px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;-webkit-user-select:none;user-select:none;color:var(--gray-800)}.sp-select-options-menu .sp-menu-wrapper .sp-option-element:first-child{border-top-left-radius:3px;border-top-right-radius:3px}.sp-select-options-menu .sp-menu-wrapper .sp-option-element:last-child{border-bottom-left-radius:3px;border-bottom-right-radius:3px}.sp-select-options-menu .sp-menu-wrapper .sp-option-element sp-rich-text{width:100%}.sp-select-options-menu .sp-menu-wrapper .sp-option-element sp-rich-text.sp-span-ellipsis{overflow:hidden;display:block;text-overflow:ellipsis}.sp-select-options-menu .sp-menu-wrapper .sp-option-element .sp-option-checkbox{display:flex;justify-content:center;align-items:center;min-height:14px;min-width:14px;border:2px solid var(--gray-40);border-radius:var(--border-radius-s);background:var(--gray-30);margin-right:10px;outline:none;transition:all .3s}.sp-select-options-menu .sp-menu-wrapper .sp-option-element .sp-option-checkbox:active{border-color:var(--blue-50)}.sp-select-options-menu .sp-menu-wrapper .sp-option-element .sp-option-checkbox.sp-option-checkbox--selected{background:var(--primary);border-color:var(--primary)}.sp-select-options-menu .sp-menu-wrapper .sp-option-element .sp-option-checkbox.sp-option-checkbox--disabled{opacity:.3}.sp-select-options-menu .sp-menu-wrapper .sp-option-element .sp-option-checkbox:focus{border-color:var(--blue-100)}.sp-select-options-menu .sp-menu-wrapper .sp-option-element .sp-option-checkbox svg{fill:transparent}.sp-select-options-menu .sp-menu-wrapper .sp-option-element .sp-option-checkbox svg g{fill:transparent;width:100%;height:100%}.sp-select-options-menu .sp-menu-wrapper .sp-option-element .sp-option-checkbox svg g path{transition:fill .3s;fill:var(--white);height:100%;width:100%}.sp-select-options-menu .sp-menu-wrapper .sp-option-element .sp-option-checkbox .sp-check{font-size:.75rem;color:var(--primary)}.sp-select-options-menu .sp-menu-wrapper .sp-option-element .sp-favourite-icons{display:flex;justify-content:center;margin-left:auto;width:40px}.sp-select-options-menu .sp-menu-wrapper .sp-option-element .sp-favourite-icons .fa-star{color:var(--warning)}.sp-select-options-menu .sp-menu-wrapper .sp-option-element .sp-favourite-icons:hover .fa-star{animation:enlarge 1s infinite ease-in-out both}.sp-select-options-menu .sp-menu-wrapper .sp-option-element-hovered{background:var(--gray-30)}.fetching{top:-69px!important}.fetching .fetching{display:none}.sp-options-menu-top{border-radius:3px 3px 0 0}.sp-options-menu-bottom{border-radius:var(--border-radius-m)}.orphaned .sp-label__text{text-decoration:line-through}.sp-orphaned-element .sp-tag{background-color:var(--danger);color:var(--white)}@keyframes enlarge{0%,80%,to{transform:scale(1)}40%{transform:scale(1.2)}0%,80%,to{transform:scale(1)}40%{transform:scale(1.4)}}\n"],encapsulation:2,changeDetection:0}),Je})()},83372:(S,g,e)=>{"use strict";e.d(g,{w:()=>s});var t=e(32731),n=e(53339);class s{constructor(){this.optionsMenuResizable=!1,this.mappers={valueMapper:a=>a.value,textMapper:a=>a.text,optionsTextMapper:a=>a.text,selected:a=>a.selected},this.searchFieldAvailable=!1,this.searchFilteringGroups=null,this.selectButtonPlaceholder="",this.shortSelectButtonPlaceholder="",this.isShortPlaceholder=!1,this.selectInputPlaceholder="",this.moveOptionsMenuToBody=!0,this.optionHeight=28,this.numberOfMenuVisibleOptions=8,this.searchInputHeight=40,this.buttonWidthTooltip=!1,this.buttonTooltipText="",this.showClearingButton=!1,this.responsiveHeight=!1,this.favouriteAvailable=!1,this.customButton=!1,this.multiSelect=!1,this.selectAndDeselectAll=!1,this.multiPicker=!1,this.textAreaWidth=200,this.textAreaInitialHeight="unset",this.textAreaMaxHeight=90,this.textAreaMinHeight=28,this.textAreaVerticalResize=!1,this.fullTextTooltipOnOverflow=!1,this.initWithQuery=!1,this.searchDebounceTime=300,this.optionsChangedDebounceTime=1e3,this.openedMenuOnCreation=!1,this.optionsMenuWidth="0px",this.isSuffixIcon=!0}withIsSuffixIcon(a){return this.isSuffixIcon=a,this}withTextAreaMinHeight(a){return this.textAreaMinHeight=a,this}withTextAreaVerticalResize(){return this.textAreaVerticalResize=!0,this}withOptionsMenuResizable(){return this.optionsMenuResizable=!0,this}withValueMapper(a){return this.mappers.valueMapper=a,this}withTextMapper(a){return this.mappers.textMapper=a,this}withSelectedMapper(a){return this.mappers.selected=a,this}withOptionsTextMapper(a){return this.mappers.optionsTextMapper=a,this}withPrefixForId(a){return this.prefixForId=a,this}withSearchFieldAvailable(){return this.searchFieldAvailable=!0,this}withSearchFilteringGroups(a,o){const d=o instanceof t.y?o:(0,n.of)(o);return this.searchFilteringGroups=new i(a,d),this}withOptionsLabel(a){return this.optionsLabel=a,this}withoutMovingOptionsMenuToBody(){return this.moveOptionsMenuToBody=!1,this}withOptionHeight(a){return this.optionHeight=a,this}withSelectButtonPlaceholder(a){return this.selectButtonPlaceholder=a,this}withShortButtonPlaceholder(a){return this.shortSelectButtonPlaceholder=a,this}withShortPlaceholder(a){return this.isShortPlaceholder=a,this}withSelectInputPlaceholder(a){return this.selectInputPlaceholder=a,this}withNumberOfMenuVisibleOptions(a){return this.numberOfMenuVisibleOptions=a,this}withSearchInputHeight(a){return this.searchInputHeight=a,this}withMaxOptionsMenuWidth(a){return this.maxOptionsMenuWidth=a,this}withButtonWidthStyle(a){return this.buttonWidthStyle=a,this}withButtonTooltip(a){return this.buttonWidthTooltip=!0,this.buttonTooltipText=a,this}withQuery(a){return this.query$=a,this}withTermQuery(a){return this.termQuery=a,this}withInitWithQuery(){return this.initWithQuery=!0,this}withSearchDebounceTime(a){return this.searchDebounceTime=a,this}withOptionsChangedDebounceTime(a){return this.optionsChangedDebounceTime=a,this}withMultiSelect(){return this.multiSelect=!0,this}withMultiPicker(){return this.multiPicker=!0,this}withSelectAndDeselectAll(){return this.selectAndDeselectAll=!0,this}withTextAreaWidth(a){return this.textAreaWidth=a,this}withTextAreaWidthInPercentage(a){return this.textAreaWidthInPercentage=`${a}%`,this}withTextAreaInitialHeight(a){return this.textAreaInitialHeight=`${a}px`,this}withTextAreaMaxHeight(a){return this.textAreaMaxHeight=a,this}withClearingButton(a=!0,o=!1){return this.showClearingButton=!0,this.clearingButtonCounter=a,this.clearingButtonHideOnAllSelected=o,this}withResponsiveHeight(){return this.responsiveHeight=!0,this}withFavouriteOptions(){return this.favouriteAvailable=!0,this}withCustomButton(){return this.customButton=!0,this}withSelectedElementsFromOptionProperty(){return this.selectedElementsFromOptionProperty=!0,this}withOpenedMenuOnCreation(){return this.openedMenuOnCreation=!0,this}withOptionsMenuWidth(a){return this.optionsMenuWidth=a,this}withFullTextTooltipOnOverflow(){return this.fullTextTooltipOnOverflow=!0,this}}class i{constructor(a,o){this.label=a,this.groups$=o}}},84974:(S,g,e)=>{"use strict";e.d(g,{A:()=>E});var t=e(55331),n=e(70335),s=e(41001),i=e(4608),r=e(61993),a=e(26566),d=(e(97265),e(68890)),h=e(1030),p=e(78492),f=e(33945),m=e(84046);let E=(()=>{class C{static forRoot(){return{ngModule:C}}}return C.\u0275fac=function(y){return new(y||C)},C.\u0275mod=m.oAB({type:C}),C.\u0275inj=m.cJS({imports:[[t.ez,n.u5,n.UX,r.r.forRoot(),d.z8,f.Q,h.l,p.f,a.n,s.J,i.l]]}),C})()},45607:(S,g,e)=>{"use strict";e.d(g,{$:()=>t});class t{constructor(s){try{t.validateId(s)}catch(i){throw Error(i)}"string"==typeof s&&(this.internal=t.encode(s),this.ids=this.splitCompoundId()),"object"==typeof s&&(this.internal=this.createCompoundId(s),this.ids=s)}static validateId(s){if(""===s)throw Error("Id cannot be an empty string");if(null===s)throw Error("Id cannot be null");if("object"==typeof s&&0===s.length)throw Error("Id cannot be an empty array");if("string"==typeof s&&!t.isValidInTermsOfSpecialCharacter(s))throw Error("Id cannot be have"+t.FIRST_LAST_SEPARATOR_REPLACEMENT+" at first or last character");if("object"==typeof s)for(const i of s)if(!t.isValidInTermsOfSpecialCharacter(`${i}`))throw Error("Id cannot be have"+t.FIRST_LAST_SEPARATOR_REPLACEMENT+" at first or last character")}static isValidInTermsOfSpecialCharacter(s){const i=`${s}`.split("");return!(i[0]===t.FIRST_LAST_SEPARATOR_REPLACEMENT||i[i.length-1]===t.FIRST_LAST_SEPARATOR_REPLACEMENT)}static isBlank(s){return null==s||""===`${s}`.trim()}static encode(s){if(t.isBlank(s))return s;const i=`${s}`.split(""),r=i.length-1;return t.SEPARATOR===i[0]&&(i[0]=t.FIRST_LAST_SEPARATOR_REPLACEMENT),t.SEPARATOR===i[r]&&(i[r]=t.FIRST_LAST_SEPARATOR_REPLACEMENT),i.join("")}static decode(s){if(t.isBlank(s))return s;const i=`${s}`.split(""),r=i.length-1;return t.FIRST_LAST_SEPARATOR_REPLACEMENT===i[0]&&(i[0]=t.SEPARATOR),t.FIRST_LAST_SEPARATOR_REPLACEMENT===i[r]&&(i[r]=t.SEPARATOR),i.join("")}getInternal(){return t.decode(this.internal)}idAt(s){return t.decode(this.ids[s])}append(s){return new t([...this.ids,s])}prepend(s){return new t([s,...this.ids])}splitCompoundId(){const s=this.getLongestSeparator(this.internal);return 0===s.length?[this.internal]:this.internal.split(s)}createCompoundId(s){let i,r=0;s=s.map(a=>t.encode(a));for(const a of s){const o=this.getSeparatorLength(a);r=o>=r?o:r}return i=t.SEPARATOR.repeat(r+1),s.join(i)}getLongestSeparator(s){const i=this.getSeparatorLength(s);return t.SEPARATOR.repeat(i)}getSeparatorLength(s){let i=0,r=0;for(const a of s)t.SEPARATOR===a?r++:r=0,i=Math.max(r,i);return i}}t.FIRST_LAST_SEPARATOR_REPLACEMENT=String.fromCharCode(190),t.SEPARATOR="@"},37157:(S,g,e)=>{"use strict";e.d(g,{G:()=>o});var t=e(50870),n=e(34373),s=e(41085),i=e(88401),r=function(d,h,p,f){var E,m=arguments.length,v=m<3?h:null===f?f=Object.getOwnPropertyDescriptor(h,p):f;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)v=Reflect.decorate(d,h,p,f);else for(var C=d.length-1;C>=0;C--)(E=d[C])&&(v=(m<3?E(v):m>3?E(h,p,v):E(h,p))||v);return m>3&&v&&Object.defineProperty(h,p,v),v},a=function(d,h){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(d,h)};class o{static fromRaw(h,p){const f=new o;return f.id=p||h.id,f.isActive=h.isActive,f.data=h.data,f.uri=h.uri,f}getAvatarUrlLarge(){return this.data[o.avatarUrlLarge]}getAvatarUrlNormal(){return this.data[o.avatarUrlNormal]}getAvatarUrlSmall(){return this.data[o.avatarUrlSmall]}getDisplayName(){return this.data[o.displayName]}getEmail(){return this.data[o.email]}getName(){return this.data[o.userName]}getProperty(h){return this.data?this.data[h]:null}}o.unassigneKey="unassigned",o.unassigneName="unassigned",o.unassigneAvatar="http://www.gravatar.com/avatar/59235f35e4763abb0b547bd093562f6e?d=mm&s=48",o.email="email",o.avatarUrlNormal="avatar_url_normal",o.avatarUrlSmall="avatar_url_small",o.avatarUrlLarge="avatar_url_large",o.displayName="displayName",o.userName="name",r([(0,t.XV)(),a("design:type",String)],o.prototype,"id",void 0),r([(0,n.si)(),a("design:type",Boolean)],o.prototype,"isActive",void 0),r([(0,s.ci)(),a("design:type",Object)],o.prototype,"data",void 0),r([(0,i.X)(),(0,t.XV)(),a("design:type",String)],o.prototype,"uri",void 0)},90604:(S,g,e)=>{"use strict";e.d(g,{b:()=>n});var t=e(45607);class n extends t.${constructor(i){super(i)}static fromIds(i,r){return new n([i.toString(),r])}static fromCompoundId(i){return new n(i)}getExtPlatformId(){return Number(this.idAt(0))}getExtUserKey(){return this.idAt(1)}}},23140:(S,g,e)=>{"use strict";e.d(g,{x:()=>t});class t{}},27583:(S,g,e)=>{"use strict";e.d(g,{x:()=>n});var t=e(83155);class n extends t.a{constructor(i){super(i)}getRestUrl(i){return i}}},42573:(S,g,e)=>{"use strict";e.d(g,{_:()=>ne});var t=e(55331),n=e(70351),s=e(6345),i=e(26211),r=e(73877),a=e(44621);class o extends r.Z{constructor(){super(...arguments),this.view=a.w.YEAR}}var d=e(27609),h=e(84046);let p=(()=>{class De extends d.V{constructor(){super()}}return De.\u0275fac=function(Qe){return new(Qe||De)},De.\u0275prov=h.Yz7({token:De,factory:De.\u0275fac}),De})(),f=(()=>{class De{constructor(Qe){this.calendarStore=Qe}changeCalendarTimePoint(Qe){const Ke=this.calendarStore.get(),it=Object.assign(new o,Ke,{timePoint:Qe});this.calendarStore.set(it)}changeCalendarView(Qe){const Ke=this.calendarStore.get(),it=Object.assign(new o,Ke,{view:Qe});this.calendarStore.set(it)}changeCalendarConfiguration(Qe){const Ke=this.calendarStore.get(),it=Object.assign(new o,Ke,{configuration:Qe});this.calendarStore.set(it)}}return De.\u0275fac=function(Qe){return new(Qe||De)(h.LFG(p))},De.\u0275prov=h.Yz7({token:De,factory:De.\u0275fac}),De})();var m=e(71726),v=e(70822),E=e(96105);let C=(()=>{class De extends n.y{constructor(Qe,Ke){super(),this.store=Qe,this.calendarStateService=Ke}selectView(){return this.store.select().pipe((0,m.U)(Qe=>Qe.view),(0,v.h)(Qe=>void 0!==Qe),(0,E.x)())}selectTimePoint(){return this.store.select().pipe((0,m.U)(Qe=>Qe.timePoint),(0,v.h)(Qe=>!!Qe),(0,E.x)())}selectConfiguration(){return this.store.select().pipe((0,m.U)(Qe=>Qe.configuration),(0,v.h)(Qe=>!!Qe),(0,E.x)())}changeView(Qe){this.calendarStateService.changeCalendarView(Qe)}changeTimePoint(Qe){this.calendarStateService.changeCalendarTimePoint(Qe)}changeConfiguration(Qe){this.calendarStateService.changeCalendarConfiguration(Qe)}}return De.\u0275fac=function(Qe){return new(Qe||De)(h.LFG(p),h.LFG(f))},De.\u0275prov=h.Yz7({token:De,factory:De.\u0275fac}),De})();e(5801),e(17695);var I=e(17379),P=e(85889);let b=(()=>{class De{}return De.\u0275fac=function(Qe){return new(Qe||De)},De.\u0275mod=h.oAB({type:De}),De.\u0275inj=h.cJS({providers:[],imports:[[t.ez]]}),De})();e(5154);var B=e(12578);let w=(()=>{class De{}return De.\u0275fac=function(Qe){return new(Qe||De)},De.\u0275mod=h.oAB({type:De}),De.\u0275inj=h.cJS({providers:[],imports:[[t.ez,B.b]]}),De})();e(59571);let G=(()=>{class De{}return De.\u0275fac=function(Qe){return new(Qe||De)},De.\u0275mod=h.oAB({type:De}),De.\u0275inj=h.cJS({providers:[],imports:[[t.ez,B.b]]}),De})();var $=e(12002);e(452),e(88857),e(62546),e(81642),e(51739);let Ie=(()=>{class De{}return De.\u0275fac=function(Qe){return new(Qe||De)},De.\u0275mod=h.oAB({type:De}),De.\u0275inj=h.cJS({providers:[],imports:[[t.ez,$.K]]}),De})();e(85976);let Ue=(()=>{class De{}return De.\u0275fac=function(Qe){return new(Qe||De)},De.\u0275mod=h.oAB({type:De}),De.\u0275inj=h.cJS({providers:[],imports:[[t.ez,G,Ie]]}),De})();var xe=e(51545),gt=e(65993);let tt=(()=>{class De{}return De.\u0275fac=function(Qe){return new(Qe||De)},De.\u0275mod=h.oAB({type:De}),De.\u0275inj=h.cJS({providers:[],imports:[[t.ez,xe.F,gt.k]]}),De})();const Mt=[s.o,I.t,i.k,{provide:n.y,useClass:C},p,f];let ne=(()=>{class De{static forRoot(){return{ngModule:De,providers:Mt}}}return De.\u0275fac=function(Qe){return new(Qe||De)},De.\u0275mod=h.oAB({type:De}),De.\u0275inj=h.cJS({providers:Mt,imports:[[t.ez,b,w,Ue,P.P,tt]]}),De})()},25461:(S,g,e)=>{"use strict";e.d(g,{t:()=>t});class t{constructor(s,i){this.timePoint=s,this.index=i,this.currentPointInTime=!1}isCurrent(){return this.currentPointInTime}markAsCurrent(){this.currentPointInTime=!0}}},81642:(S,g,e)=>{"use strict";e.d(g,{C:()=>t,i:()=>n});var t=(()=>{return(s=t||(t={}))[s.January=0]="January",s[s.February=1]="February",s[s.March=2]="March",s[s.April=3]="April",s[s.May=4]="May",s[s.June=5]="June",s[s.July=6]="July",s[s.August=7]="August",s[s.September=8]="September",s[s.October=9]="October",s[s.November=10]="November",s[s.December=11]="December",t;var s})();const n=[t.January,t.February,t.March,t.April,t.May,t.June,t.July,t.August,t.September,t.October,t.November,t.December]},21646:(S,g,e)=>{"use strict";e.d(g,{c:()=>n});var t=e(25461);class n extends t.t{constructor(i,r,a,o=[],d){super(i,a),this.timePoint=i,this.year=r,this.index=a,this.children=o,this.name=d}}},924:(S,g,e)=>{"use strict";e.d(g,{B:()=>t});var t=(()=>{return(n=t||(t={}))[n.YEAR=0]="YEAR",n[n.MONTH=1]="MONTH",t;var n})()},70351:(S,g,e)=>{"use strict";e.d(g,{y:()=>t});class t{}},42368:(S,g,e)=>{"use strict";e.d(g,{$:()=>n});var t=e(9351);class n{constructor(i,r,a){this.year=i,this.month=r,this.day=a}static today(){return n.fromDate(new Date)}static fromDate(i){return new n(i.getUTCFullYear(),i.getUTCMonth(),i.getUTCDate())}getDateString(){return[this.year,t.p.withLeadingZero(this.month+1),t.p.withLeadingZero(this.day?this.day:1)].join("-")}}},44621:(S,g,e)=>{"use strict";e.d(g,{w:()=>t});var t=(()=>{return(n=t||(t={}))[n.YEAR=0]="YEAR",n[n.MONTH=1]="MONTH",t;var n})()},25105:(S,g,e)=>{"use strict";e.d(g,{n:()=>s});class t{constructor(r){this.viewConfig=r.viewConfig,this.showTodayButton=r.showTodayButton,this.showPeriodSwitcher=r.showPeriodSwitcher,this.cellComponent=r.cellComponent,this.shortHeaderLabelsText=r.shortHeaderLabelsText,this.startDate=r.startDate}}var n=e(57926);class s{constructor(r){this.customCell=r,this._viewConfig=n.R.default(),this._showTodayButton=!0,this._showPeriodSwitcher=!0,this._shortHeaderLabelsText=!0,this._cellComponent=r}withViewConfig(r){return this._viewConfig=r,this}withPeriodSwitcher(r){return this._showPeriodSwitcher=r,this}withShortHeaderLabelsText(r){return this._shortHeaderLabelsText=r,this}withStartDate(r){return this._startDate=r,this}build(){return new t(this)}get viewConfig(){return this._viewConfig}get showTodayButton(){return this._showTodayButton}get showPeriodSwitcher(){return this._showPeriodSwitcher}get cellComponent(){return this._cellComponent}get shortHeaderLabelsText(){return this._shortHeaderLabelsText}get startDate(){return this._startDate}}},57926:(S,g,e)=>{"use strict";e.d(g,{R:()=>n});var t=e(44621);class n{constructor(i,r){this.initialView=i,this.canChange=r}static default(){return new n(t.w.YEAR,!1)}}},6345:(S,g,e)=>{"use strict";e.d(g,{o:()=>r});var t=e(25461);class n extends t.t{constructor(o,d,h){super(o,d),this.pointInTime=o,this.index=d,this.outsidePeriod=h}}var s=e(9351),i=e(84046);let r=(()=>{class a{constructor(){this.LAST_WEEKDAY=6,this.CALENDAR_DAYS_LIMIT=42}getCalendarItems(d){const h=this.getDaysFromPreviousMonth(d),p=this.getDaysFromCurrentMonth(d),f=this.getDaysFromNextMonth(d,p.length),m=[...h,...p,...f];return m.sort((v,E)=>v.pointInTime.getTime()-E.pointInTime.getTime()),m.forEach(v=>{s.p.isUTCToday(v.pointInTime)&&v.markAsCurrent()}),m}getDaysFromCurrentMonth(d){const h=new Date(d.year,d.month+1,0).getDate(),p=[];for(let f=1;f<=h;f++){const m=s.p.createUTCDate(d.year,d.month,f);p.push(new n(m,f))}return p}getDaysFromPreviousMonth(d){const h=new Date(d.year,d.month,0),p=h.getDate(),f=this.getWeekDay(h),m=[],v=d.month-1;if(f<this.LAST_WEEKDAY)for(let E=p-f;E<=p;E++){const C=s.p.convertDateToUTCDate(new Date(d.year,v,E));m.push(new n(C,E,!0))}return m}getDaysFromNextMonth(d,h){const p=[],f=this.getDaysFromPreviousMonth(d),m=this.CALENDAR_DAYS_LIMIT-f.length-h,v=d.month+1;for(let E=1;E<=m;E++){const C=s.p.convertDateToUTCDate(new Date(d.year,v,E));p.push(new n(C,E,!0))}return p}getWeekDay(d){const h=d.getDay()-1;return h<0?this.LAST_WEEKDAY:h}}return a.\u0275fac=function(d){return new(d||a)},a.\u0275prov=i.Yz7({token:a,factory:a.\u0275fac}),a})()},26211:(S,g,e)=>{"use strict";e.d(g,{k:()=>v});var t=(()=>{return(E=t||(t={})).MON="mon",E.TUE="tue",E.WED="wed",E.THU="thu",E.FRI="fri",E.SAT="sat",E.SUN="sun",t;var E})();const n=[t.MON,t.TUE,t.WED,t.THU,t.FRI,t.SAT,t.SUN];class s{constructor(C,T,y){this.label=C,this.value=T,this.disabled=y}}class i extends s{}var r=e(81642);class a extends s{}class o extends s{}var d=e(84046);const h=["Jan","Feb","Mar","Apr","May","June","July","Aug","Sept","Oct","Nov","Dec"],p=["January","February","March","April","May","June","July","August","September","October","November","December"],f=["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],m=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"];let v=(()=>{class E{constructor(){this.shortDays=f,this.days=m}getYears(T,y,I=!1){const P=[],L=(new Date).getFullYear();for(let F=L-T;F<=L+y;F++)P.push(new o(I?`${F}`.slice(-2):`${F}`,F,!1));return P}getMonths(T=!1){const y=[];for(const I of r.i)y.push(new a(T?h[I]:p[I],I,!1));return y}getMonth(T,y=!1){return new a(y?h[T]:p[T],T,!1)}getDays(T=t.MON,y=!1){const I=[];let P=0;const L=this.prepareCalendarDayList(T);for(const F of L)I.push(new i(y?this.shortDays[P]:this.days[P],F,!1)),P++;return I}prepareCalendarDayList(T){const y=n.findIndex(L=>L===T),I=n.slice(y),P=n.slice(0,y);return this.shortDays=[...f.slice(y),...f.slice(0,y)],this.days=[...m.slice(y),...m.slice(0,y)],[...I,...P]}}return E.\u0275fac=function(T){return new(T||E)},E.\u0275prov=d.Yz7({token:E,factory:E.\u0275fac}),E})()},5801:(S,g,e)=>{"use strict";e.d(g,{e:()=>G});var t=e(84046),n=e(4683),s=e(42368),i=e(44621),r=e(17379),a=e(62546),o=e(9351),d=e(85703),h=e(70351),p=e(83830),f=e(55331),m=e(55472),v=e(34909),E=e(44864),C=e(62419);function T($,X){if(1&$&&(t.ynx(0),t._uU(1),t.ALo(2,"titlecase"),t.BQk()),2&$){const ie=t.oxw();t.xp6(1),t.Oqu(t.lcZ(2,1,ie.CALENDAR_VIEW[ie.CALENDAR_VIEW.YEAR]))}}function y($,X){if(1&$&&(t.ynx(0),t._uU(1),t.ALo(2,"titlecase"),t.BQk()),2&$){const ie=t.oxw();t.xp6(1),t.Oqu(t.lcZ(2,1,ie.CALENDAR_VIEW[ie.CALENDAR_VIEW.MONTH]))}}let I=(()=>{class $ extends a.H{constructor(ie,se,pe,ve){super(ie,se),this.changeDetectorRef=pe,this.calendarRepository=ve,this.CALENDAR_VIEW=i.w}ngOnInit(){this.observeCalendarView()}changeToMonthView(){this.calendarRepository.changeView(i.w.MONTH)}changeToYearView(){this.calendarRepository.changeView(i.w.YEAR)}observeCalendarView(){this.calendarRepository.selectView().pipe(this.takeUntilDestroy()).subscribe(ie=>{this.currentView=ie,this.changeDetectorRef.detectChanges()})}}return $.\u0275fac=function(ie){return new(ie||$)(t.Y36(t.SBq),t.Y36(t.Qsj),t.Y36(t.sBO),t.Y36(h.y))},$.\u0275cmp=t.Xpm({type:$,selectors:[["sp-calendar-view-switcher"]],features:[t.qOj],decls:12,vars:9,consts:[["sp-button","","subtle","","sp-dropdown-open-trigger","",1,"sp-view-selector"],[3,"ngSwitch"],[4,"ngSwitchCase"],[3,"itemClick"]],template:function(ie,se){1&ie&&(t.TgZ(0,"sp-dropdown"),t.TgZ(1,"button",0),t.ynx(2,1),t.YNc(3,T,3,3,"ng-container",2),t.YNc(4,y,3,3,"ng-container",2),t.BQk(),t.qZA(),t.TgZ(5,"sp-dropdown-menu-group"),t.TgZ(6,"sp-dropdown-item",3),t.NdJ("itemClick",function(){return se.changeToYearView()}),t._uU(7),t.ALo(8,"titlecase"),t.qZA(),t.TgZ(9,"sp-dropdown-item",3),t.NdJ("itemClick",function(){return se.changeToMonthView()}),t._uU(10),t.ALo(11,"titlecase"),t.qZA(),t.qZA(),t.qZA()),2&ie&&(t.xp6(2),t.Q6J("ngSwitch",se.currentView),t.xp6(1),t.Q6J("ngSwitchCase",se.CALENDAR_VIEW.YEAR),t.xp6(1),t.Q6J("ngSwitchCase",se.CALENDAR_VIEW.MONTH),t.xp6(3),t.hij(" ",t.lcZ(8,5,se.CALENDAR_VIEW[se.CALENDAR_VIEW.YEAR])," "),t.xp6(3),t.hij(" ",t.lcZ(11,7,se.CALENDAR_VIEW[se.CALENDAR_VIEW.MONTH])," "))},directives:[m.J,v.r,f.RF,f.n9,E.Y,C.N],pipes:[f.rS],styles:["sp-calendar-view-switcher .sp-view-selector{width:72px}\n"],encapsulation:2,changeDetection:0}),$})();var P=e(85976),L=e(5154),F=e(61344);const b=["periodSwitcher"];function x($,X){1&$&&t._UZ(0,"sp-calendar-view-switcher")}function B($,X){1&$&&t.GkF(0)}function M($,X){if(1&$&&(t.ynx(0),t.YNc(1,B,1,0,"ng-container",6),t.BQk()),2&$){t.oxw();const ie=t.MAs(7);t.xp6(1),t.Q6J("ngTemplateOutlet",ie)}}function w($,X){1&$&&t._UZ(0,"sp-calendar-year",7)}function K($,X){1&$&&t._UZ(0,"sp-calendar-month",8)}function k($,X){1&$&&t._UZ(0,"sp-calendar-period-switcher")}let G=(()=>{class $ extends a.H{constructor(ie,se,pe,ve,Ce,ye){super(ie,se),this.changeDetectorRef=pe,this.calendarRepository=ve,this.calendarPeriodSwitcherService=Ce,this.calendarPeriodCalculator=ye,this.periodChange=new t.vpe,this.CALENDAR_VIEW=i.w,this.calendarId=(0,d.Hu)()}ngOnChanges(ie){ie.config&&this.calendarRepository.changeConfiguration(this.config)}ngOnInit(){this.domManipulator.setHostAttribute("id","sp-calendar"),this.setInitialTimePoint(),this.observeSelectedView(),this.observeConfiguration(),this.observePeriod()}ngAfterViewInit(){this.calendarPeriodSwitcherService.register(this.getCalendarId(),this.periodSwitcher)}finalize(){this.calendarPeriodSwitcherService.unregister(this.calendarId)}getCalendarId(){return this.calendarId}observeSelectedView(){this.calendarRepository.selectView().pipe(this.takeUntilDestroy()).subscribe(ie=>{this.currentView=ie,this.changeDetectorRef.detectChanges()})}observeConfiguration(){this.calendarRepository.selectConfiguration().pipe(this.takeUntilDestroy()).subscribe(ie=>{this.showPeriodSwitcher=ie.showPeriodSwitcher,this.showViewSwitcher=ie.viewConfig.canChange,this.calendarRepository.changeView(ie.viewConfig.initialView),this.changeDetectorRef.detectChanges()})}setInitialTimePoint(){const ie=this.config.startDate||o.p.getUTCTodayDate();this.calendarRepository.changeTimePoint(new s.$(ie.getUTCFullYear(),ie.getUTCMonth(),ie.getUTCDate()))}observePeriod(){(0,n.aj)([this.calendarRepository.selectView(),this.calendarRepository.selectTimePoint()]).pipe(this.takeUntilDestroy()).subscribe(([ie,se])=>{const pe=this.calendarPeriodCalculator.calculatePeriodFor(se,ie);this.periodChange.emit(pe)})}}return $.\u0275fac=function(ie){return new(ie||$)(t.Y36(t.SBq),t.Y36(t.Qsj),t.Y36(t.sBO),t.Y36(h.y),t.Y36(p.z),t.Y36(r.t))},$.\u0275cmp=t.Xpm({type:$,selectors:[["sp-calendar"]],viewQuery:function(ie,se){if(1&ie&&t.Gf(b,7),2&ie){let pe;t.iGM(pe=t.CRH())&&(se.periodSwitcher=pe.first)}},inputs:{config:"config"},outputs:{periodChange:"periodChange"},features:[t.qOj,t.TTD],decls:8,vars:5,consts:[[3,"ngSwitch"],[1,"sp-calendar-header","sp-flex","sp-justify-end"],[4,"ngIf"],["class","sp-flex sp-justify-center sp-relative sp-my-4 sp-mx-2",4,"ngSwitchCase"],["class","sp-w-full sp-h-full sp-flex sp-flex-col sp-flex-auto",4,"ngSwitchCase"],["periodSwitcher",""],[4,"ngTemplateOutlet"],[1,"sp-flex","sp-justify-center","sp-relative","sp-my-4","sp-mx-2"],[1,"sp-w-full","sp-h-full","sp-flex","sp-flex-col","sp-flex-auto"]],template:function(ie,se){1&ie&&(t.ynx(0,0),t.TgZ(1,"div",1),t.YNc(2,x,1,0,"sp-calendar-view-switcher",2),t.YNc(3,M,2,1,"ng-container",2),t.qZA(),t.YNc(4,w,1,0,"sp-calendar-year",3),t.YNc(5,K,1,0,"sp-calendar-month",4),t.YNc(6,k,1,0,"ng-template",null,5,t.W1O),t.BQk()),2&ie&&(t.Q6J("ngSwitch",se.currentView),t.xp6(2),t.Q6J("ngIf",se.showViewSwitcher),t.xp6(1),t.Q6J("ngIf",se.showPeriodSwitcher),t.xp6(1),t.Q6J("ngSwitchCase",se.CALENDAR_VIEW.YEAR),t.xp6(1),t.Q6J("ngSwitchCase",se.CALENDAR_VIEW.MONTH))},directives:[f.RF,f.O5,f.n9,I,f.tP,P.x,L.u,F.H],styles:["sp-calendar .sp-calendar-header sp-calendar-view-switcher{margin-right:8px}sp-calendar sp-calendar-year .sp-year{display:flex;flex-wrap:wrap}sp-calendar sp-calendar-year .sp-year sp-calendar-mini-month{margin:8px}\n"],encapsulation:2,changeDetection:0}),$})()},17695:(S,g,e)=>{"use strict";e.d(g,{X:()=>r});var t=e(81642),n=e(21646),s=e(6345),i=e(84046);let r=(()=>{class a{constructor(d){this.calendarDaysCalculator=d}transform(d){const h=this.calendarDaysCalculator.getCalendarItems(d),p=d.month;return new n.c(p,d.year,p,h,t.C[p])}}return a.\u0275fac=function(d){return new(d||a)(i.Y36(s.o,16))},a.\u0275pipe=i.Yjl({name:"spMonthItem",type:a,pure:!0}),a})()},17379:(S,g,e)=>{"use strict";e.d(g,{t:()=>r});class t{constructor(o,d){this.startDate=o,this.endDate=d}}var n=e(44621),s=e(6345),i=e(84046);let r=(()=>{class a{constructor(d){this.calendarDaysCalculator=d}calculatePeriodFor(d,h){switch(h){case n.w.MONTH:return this.calculateMonthPeriod(d);case n.w.YEAR:return this.calculateYearPeriod(d);default:throw new Error("Unhandled case")}}calculateMonthPeriod(d){const h=this.calendarDaysCalculator.getCalendarItems(d);return new t(h[0].pointInTime,h[h.length-1].pointInTime)}calculateYearPeriod(d){const h=new Date(d.year,0,1),p=new Date(d.year+1,0,0);return new t(h,p)}}return a.\u0275fac=function(d){return new(d||a)(i.LFG(s.o))},a.\u0275prov=i.Yz7({token:a,factory:a.\u0275fac}),a})()},61344:(S,g,e)=>{"use strict";e.d(g,{H:()=>L});var t=e(54806),n=e(4683),s=e(924),i=e(42368),r=e(44621),o=e(28486),d=e(62546),h=e(95900),p=e(84046),f=e(70351),m=e(34909),v=e(68890),E=e(55331),C=e(18217);function T(F,b){if(1&F){const x=p.EpF();p.TgZ(0,"button",8),p.NdJ("click",function(){p.CHM(x);const M=p.oxw();return M.previous(M.periodSwitcherMode.YEAR)}),p.ALo(1,"spRichTextI18n"),p._UZ(2,"i",9),p.qZA()}2&F&&p.Q6J("spTooltip",p.lcZ(1,1,"SPT_CALENDAR_HEADER_PREVIOUS_YEAR_TOOLTIP"))}function y(F,b){if(1&F){const x=p.EpF();p.TgZ(0,"button",10),p.NdJ("click",function(){p.CHM(x);const M=p.oxw();return M.previous(M.periodSwitcherMode.MONTH)}),p.ALo(1,"spRichTextI18n"),p._UZ(2,"i",11),p.qZA()}2&F&&p.Q6J("spTooltip",p.lcZ(1,1,"SPT_CALENDAR_HEADER_PREVIOUS_MONTH_TOOLTIP"))}function I(F,b){if(1&F){const x=p.EpF();p.TgZ(0,"button",12),p.NdJ("click",function(){p.CHM(x);const M=p.oxw();return M.next(M.periodSwitcherMode.MONTH)}),p.ALo(1,"spRichTextI18n"),p._UZ(2,"i",13),p.qZA()}2&F&&p.Q6J("spTooltip",p.lcZ(1,1,"SPT_CALENDAR_HEADER_NEXT_MONTH_TOOLTIP"))}function P(F,b){if(1&F){const x=p.EpF();p.TgZ(0,"button",14),p.NdJ("click",function(){p.CHM(x);const M=p.oxw();return M.next(M.periodSwitcherMode.YEAR)}),p.ALo(1,"spRichTextI18n"),p._UZ(2,"i",15),p.qZA()}2&F&&p.Q6J("spTooltip",p.lcZ(1,1,"SPT_CALENDAR_HEADER_NEXT_YEAR_TOOLTIP"))}let L=(()=>{class F extends d.H{constructor(x,B,M,w,K,k){super(x,B),this.changeDetectorRef=M,this.calendarRepository=w,this.calendarSwitcherService=K,this.currentLocaleDataStorage=k,this.monthSwitcher=!1,this.yearSwitcher=!1,this.periodSwitcherMode=s.B,this.gravity=h.X}ngOnInit(){this.observeCalendarViewAndTimePoint(),this.observeConfiguration()}today(){const x=new Date;this.calendarRepository.changeTimePoint(new i.$(x.getFullYear(),x.getMonth(),x.getDate()))}next(x){const B=this.calendarSwitcherService.getFollowingTimePoint(x);this.calendarRepository.changeTimePoint(B)}previous(x){const B=this.calendarSwitcherService.getPrecedingTimePoint(x);this.calendarRepository.changeTimePoint(B)}observeConfiguration(){this.calendarRepository.selectConfiguration().pipe(this.takeUntilDestroy()).subscribe(x=>{this.setPeriodSwitcher(x),this.changeDetectorRef.detectChanges()})}setPeriodSwitcher(x){x.viewConfig.initialView===r.w.YEAR&&(this.yearSwitcher=!0),x.viewConfig.initialView===r.w.MONTH&&(this.yearSwitcher=!0,this.monthSwitcher=!0)}observeCalendarViewAndTimePoint(){(0,n.aj)([this.calendarRepository.selectView(),this.calendarRepository.selectTimePoint(),this.currentLocaleDataStorage.select()]).pipe(this.takeUntilDestroy()).subscribe(([x,B,M])=>{this.displayText=class{static resolve(b,x,B){switch(b){case r.w.MONTH:return`${t.Y.getMonthsFormat(B).wide[x.month]} ${x.year}`;case r.w.YEAR:return`${x.year}`;default:throw new ReferenceError(`Switcher text for view: ${b} cannot be resolved`)}}}.resolve(x,B,M),this.changeDetectorRef.detectChanges()})}}return F.\u0275fac=function(x){return new(x||F)(p.Y36(p.SBq),p.Y36(p.Qsj),p.Y36(p.sBO),p.Y36(f.y),p.Y36(o.f),p.Y36(t.Y))},F.\u0275cmp=p.Xpm({type:F,selectors:[["sp-calendar-period-switcher"]],features:[p.qOj],decls:10,vars:8,consts:[["sp-button","","id","sp-calendar-today-btn",1,"sp-switcher-btn","sp-btn-icon-32",3,"spTooltip","click"],[1,"fas","fa-bullseye"],["sp-button","","class","sp-switcher-btn sp-next sp-btn-icon-32","id","sp-calendar-previous-year-btn",3,"spTooltip","click",4,"ngIf"],["sp-button","","class","sp-switcher-btn sp-next sp-btn-icon-32","id","sp-calendar-previous-month-btn",3,"spTooltip","click",4,"ngIf"],[1,"sp-current-period"],["id","sp-current-period-date"],["sp-button","","class","sp-switcher-btn sp-previous sp-btn-icon-32","id","sp-calendar-next-month-btn",3,"spTooltip","click",4,"ngIf"],["sp-button","","class","sp-switcher-btn sp-previous sp-btn-icon-32","id","sp-calendar-next-year-btn",3,"spTooltip","click",4,"ngIf"],["sp-button","","id","sp-calendar-previous-year-btn",1,"sp-switcher-btn","sp-next","sp-btn-icon-32",3,"spTooltip","click"],[1,"fas","fa-chevron-double-left"],["sp-button","","id","sp-calendar-previous-month-btn",1,"sp-switcher-btn","sp-next","sp-btn-icon-32",3,"spTooltip","click"],[1,"fas","fa-chevron-left"],["sp-button","","id","sp-calendar-next-month-btn",1,"sp-switcher-btn","sp-previous","sp-btn-icon-32",3,"spTooltip","click"],[1,"fas","fa-chevron-right"],["sp-button","","id","sp-calendar-next-year-btn",1,"sp-switcher-btn","sp-previous","sp-btn-icon-32",3,"spTooltip","click"],[1,"fas","fa-chevron-double-right"]],template:function(x,B){1&x&&(p.TgZ(0,"button",0),p.NdJ("click",function(){return B.today()}),p.ALo(1,"spRichTextI18n"),p._UZ(2,"i",1),p.qZA(),p.YNc(3,T,3,3,"button",2),p.YNc(4,y,3,3,"button",3),p.TgZ(5,"div",4),p.TgZ(6,"span",5),p._uU(7),p.qZA(),p.qZA(),p.YNc(8,I,3,3,"button",6),p.YNc(9,P,3,3,"button",7)),2&x&&(p.Q6J("spTooltip",p.lcZ(1,6,"SPT_CALENDAR_HEADER_TODAY_TOOLTIP")),p.xp6(3),p.Q6J("ngIf",B.yearSwitcher),p.xp6(1),p.Q6J("ngIf",B.monthSwitcher),p.xp6(3),p.Oqu(B.displayText),p.xp6(1),p.Q6J("ngIf",B.monthSwitcher),p.xp6(1),p.Q6J("ngIf",B.yearSwitcher))},directives:[m.r,v.i9,E.O5],pipes:[C.d],styles:["sp-calendar-period-switcher{display:flex;justify-content:flex-end;margin-right:8px}sp-calendar-period-switcher .sp-switcher-btn{width:32px;height:32px}sp-calendar-period-switcher .sp-switcher-btn.sp-next{border-top-right-radius:unset;border-bottom-right-radius:unset}sp-calendar-period-switcher .sp-switcher-btn.sp-previous{border-top-left-radius:unset;border-bottom-left-radius:unset}sp-calendar-period-switcher .sp-current-period{display:flex;justify-content:center;align-items:center;width:120px;background-color:var(--gray-10);color:var(--gray-400);cursor:default}\n"],encapsulation:2,changeDetection:0}),F})()},85889:(S,g,e)=>{"use strict";e.d(g,{P:()=>y});var t=e(55331),n=e(41001),s=e(51545),i=e(68890),a=(e(61344),e(28486)),o=e(83830),d=e(26566),m=(e(90850),e(98274),e(62546),e(84046));let y=(()=>{class I{}return I.\u0275fac=function(L){return new(L||I)},I.\u0275mod=m.oAB({type:I}),I.\u0275inj=m.cJS({providers:[a.f,o.z],imports:[[t.ez,i.z8,s.F,n.J,d.n]]}),I})()},83830:(S,g,e)=>{"use strict";e.d(g,{z:()=>i});var t=e(97809),n=e(71726),s=e(84046);let i=(()=>{class r{constructor(){this.periodSwitchers=new Map,this.periodSwitchersChanged$=new t.t(1)}register(o,d){this.periodSwitchers.set(o,d),this.periodSwitchersChanged$.next()}unregister(o){this.periodSwitchers.delete(o),this.periodSwitchersChanged$.next()}select(o){return this.periodSwitchersChanged$.asObservable().pipe((0,n.U)(()=>this.periodSwitchers.get(o)))}}return r.\u0275fac=function(o){return new(o||r)},r.\u0275prov=s.Yz7({token:r,factory:r.\u0275fac}),r})()},28486:(S,g,e)=>{"use strict";e.d(g,{f:()=>h});var t=e(90850),n=e(4683),s=e(35811),i=e(81642),r=e(924),a=e(42368),o=e(84046),d=e(70351);let h=(()=>{class p{constructor(m){this.calendarRepository=m,this.destroy$=new t.xQ,this.subscribeForCalendarViewAndTimePoint()}getFollowingTimePoint(m){let v,E;return m===r.B.YEAR?(v=this.currentTimePoint.year+1,E=this.currentTimePoint.month):m===r.B.MONTH&&(E=this.currentTimePoint.month+1,E>11?(E=i.C.January,v=this.currentTimePoint.year+1):v=this.currentTimePoint.year),new a.$(v,E,this.currentTimePoint.day)}getPrecedingTimePoint(m){let v,E;return m===r.B.YEAR?(v=this.currentTimePoint.year-1,E=this.currentTimePoint.month):m===r.B.MONTH&&(E=this.currentTimePoint.month-1,E<0?(E=i.C.December,v=this.currentTimePoint.year-1):v=this.currentTimePoint.year),new a.$(v,E,this.currentTimePoint.day)}subscribeForCalendarViewAndTimePoint(){(0,n.aj)(this.calendarRepository.selectView(),this.calendarRepository.selectTimePoint()).pipe((0,s.R)(this.destroy$)).subscribe(m=>{this.currentTimePoint=m[1]})}}return p.\u0275fac=function(m){return new(m||p)(o.LFG(d.y))},p.\u0275prov=o.Yz7({token:p,factory:p.\u0275fac}),p})()},26844:(S,g,e)=>{"use strict";e.d(g,{n:()=>m});var t=e(54806),n=e(70822),i=e(62546),r=e(84046),a=e(70351),o=e(55331),d=e(67055);function h(v,E){if(1&v&&(r.TgZ(0,"div",4),r._uU(1),r.ALo(2,"uppercase"),r.qZA()),2&v){const C=E.$implicit;r.xp6(1),r.hij(" ",r.lcZ(2,1,C)," ")}}function p(v,E){1&v&&r._UZ(0,"sp-calendar-cell-container",7),2&v&&r.Q6J("calendarDayItem",E.$implicit)}function f(v,E){if(1&v&&(r.TgZ(0,"div",5),r.YNc(1,p,1,1,"sp-calendar-cell-container",6),r.qZA()),2&v){const C=E.$implicit,T=r.oxw();r.xp6(1),r.Q6J("ngForOf",C)("ngForTrackBy",T.trackByDayIndex)}}let m=(()=>{class v extends i.H{constructor(C,T,y,I,P,L){super(C,T),this.changeDetectorRef=y,this.resolver=I,this.calendarRepository=P,this.currentLocaleDataStorage=L,this.weeks=[]}ngOnChanges(C){C.calendarItem&&C.calendarItem.currentValue&&this.recalculateCalendar()}ngOnInit(){this.observeCalendarTimePoint(),this.observeConfiguration(),this.observeCurrentLocaleData()}trackByWeekIndex(C){return C}trackByDayIndex(C,T){return T.pointInTime.getTime()}getHostClasses(){return["sp-flex","sp-flex-col","sp-h-full","sp-flex-auto"]}observeCalendarTimePoint(){this.calendarRepository.selectTimePoint().pipe((0,n.h)(()=>!!this.calendarItem),this.takeUntilDestroy()).subscribe(C=>{this.year=C.year,this.recalculateCalendar(),this.changeDetectorRef.detectChanges()})}getCalendarItems(){return this.calendarItem.children}setWeeks(C){this.weeks=class{static toWeeks(E){const T=new Array(E.length/7);return T.fill([]),T.map((y,I)=>{const P=7*I;return E.slice(P,P+7)})}}.toWeeks(C)}recalculateCalendar(){const C=this.getCalendarItems();this.setWeeks(C)}observeConfiguration(){this.calendarRepository.selectConfiguration().pipe(this.takeUntilDestroy()).subscribe(C=>{this.config=C,this.changeDetectorRef.detectChanges()})}observeCurrentLocaleData(){this.currentLocaleDataStorage.select().pipe(this.takeUntilDestroy()).subscribe(C=>{this.dayNames=this.setDayNames(C),this.changeDetectorRef.detectChanges()})}setDayNames(C){const T=[...this.config.shortHeaderLabelsText?t.Y.getDaysFormat(C).short:t.Y.getDaysFormat(C).wide],y=T.shift();return T.concat(y)}}return v.\u0275fac=function(C){return new(C||v)(r.Y36(r.SBq),r.Y36(r.Qsj),r.Y36(r.sBO),r.Y36(r._Vd),r.Y36(a.y),r.Y36(t.Y))},v.\u0275cmp=r.Xpm({type:v,selectors:[["sp-calendar-month-skeleton"]],inputs:{calendarItem:"calendarItem"},features:[r.qOj,r.TTD],decls:4,vars:3,consts:[["id","sp-month-header",1,"sp-grid-row","sp-grid","sp-grid-header"],["class","sp-grid-cell sp-flex sp-w-full sp-flex-1 sp-items-center sp-justify-center sp-font-bold sp-text-xs sp-grid-header-cell",4,"ngFor","ngForOf"],[1,"sp-week-container","sp-grid","sp-overflow-hidden"],["class","sp-grid-row sp-week sp-grid sp-flex-auto sp-relative",4,"ngFor","ngForOf","ngForTrackBy"],[1,"sp-grid-cell","sp-flex","sp-w-full","sp-flex-1","sp-items-center","sp-justify-center","sp-font-bold","sp-text-xs","sp-grid-header-cell"],[1,"sp-grid-row","sp-week","sp-grid","sp-flex-auto","sp-relative"],["class","sp-grid-cell sp-day sp-flex sp-flex-auto sp-relative sp-justify-center",3,"calendarDayItem",4,"ngFor","ngForOf","ngForTrackBy"],[1,"sp-grid-cell","sp-day","sp-flex","sp-flex-auto","sp-relative","sp-justify-center",3,"calendarDayItem"]],template:function(C,T){1&C&&(r.TgZ(0,"div",0),r.YNc(1,h,3,3,"div",1),r.qZA(),r.TgZ(2,"div",2),r.YNc(3,f,2,2,"div",3),r.qZA()),2&C&&(r.xp6(1),r.Q6J("ngForOf",T.dayNames),r.xp6(2),r.Q6J("ngForOf",T.weeks)("ngForTrackBy",T.trackByWeekIndex))},directives:[o.sg,d.e],pipes:[o.gd],styles:["sp-calendar-month-skeleton{--space-between-cells: 0;color:var(--gray-800)}sp-calendar-month-skeleton .sp-grid-row{grid-template-columns:repeat(7,1fr);grid-gap:var(--space-between-cells)}sp-calendar-month-skeleton .sp-week-container{grid-gap:var(--space-between-cells)}sp-calendar-month-skeleton .sp-week-container .sp-grid-row.sp-grid-header{flex:none}sp-calendar-month-skeleton .sp-grid-cell.sp-grid-header-cell{color:var(--gray-100)}sp-calendar-month-skeleton .sp-grid-cell.sp-day .sp-day-index-circle{margin:0 auto auto;border-radius:100%;width:24px;height:24px;display:flex;justify-content:center;align-items:center}sp-calendar-month-skeleton .sp-grid-cell.sp-day.sp-not-in-month{color:var(--gray-50)}sp-calendar-month-skeleton .sp-day.sp-today .sp-day-index-circle{background-color:var(--info);color:var(--white)}sp-calendar-month-skeleton .sp-day.sp-not-in-month .sp-day-index-circle{color:var(--gray-50)}sp-calendar-month-skeleton .sp-day.sp-not-in-month .sp-day-index-circle:hover{cursor:default}\n"],encapsulation:2,changeDetection:0}),v})()},12578:(S,g,e)=>{"use strict";e.d(g,{b:()=>d});var t=e(55331),r=(e(26844),e(67055),e(69677),e(84046));let d=(()=>{class h{}return h.\u0275fac=function(f){return new(f||h)},h.\u0275mod=r.oAB({type:h}),h.\u0275inj=r.cJS({providers:[],imports:[[t.ez]]}),h})()},67055:(S,g,e)=>{"use strict";e.d(g,{e:()=>a});var t=e(84046),n=e(62546),s=e(70351);const i=["container"];function r(o,d){}let a=(()=>{class o extends n.H{constructor(h,p,f,m){super(h,p),this.componentFactoryResolver=f,this.calendarRepository=m}ngOnInit(){this.observeConfiguration()}observeConfiguration(){this.calendarRepository.selectConfiguration().pipe(this.takeUntilDestroy()).subscribe(h=>{this.createComponent(h.cellComponent)})}createComponent(h){this.cellContainer.clear();const p=this.componentFactoryResolver.resolveComponentFactory(h);this.cellContainer.createComponent(p).instance.calendarDayItem=this.calendarDayItem}}return o.\u0275fac=function(h){return new(h||o)(t.Y36(t.SBq),t.Y36(t.Qsj),t.Y36(t._Vd),t.Y36(s.y))},o.\u0275cmp=t.Xpm({type:o,selectors:[["sp-calendar-cell-container"]],viewQuery:function(h,p){if(1&h&&t.Gf(i,7,t.s_b),2&h){let f;t.iGM(f=t.CRH())&&(p.cellContainer=f.first)}},hostVars:4,hostBindings:function(h,p){2&h&&t.ekj("sp-not-in-month",p.calendarDayItem.outsidePeriod)("sp-today",p.calendarDayItem.isCurrent())},inputs:{calendarDayItem:"calendarDayItem"},features:[t.qOj],decls:2,vars:0,consts:[["container",""]],template:function(h,p){1&h&&t.YNc(0,r,0,0,"ng-template",null,0,t.W1O)},encapsulation:2,changeDetection:0}),o})()},69677:(S,g,e)=>{"use strict";e.d(g,{T:()=>s});var t=e(62546),n=e(84046);let s=(()=>{class i extends t.H{constructor(a,o){super(a,o)}}return i.\u0275fac=function(a){return new(a||i)(n.Y36(n.SBq),n.Y36(n.Qsj))},i.\u0275dir=n.lG2({type:i,inputs:{calendarDayItem:"calendarDayItem"},features:[n.qOj]}),i})()},5154:(S,g,e)=>{"use strict";e.d(g,{u:()=>h});var t=e(90850),n=e(35811),s=e(81642),i=e(21646),r=e(6345),a=e(84046),o=e(70351),d=e(26844);let h=(()=>{class p{constructor(m,v,E){this.calendarRepository=m,this.calendarDaysCalculator=v,this.changeDetectorRef=E,this.PaddingX=!0,this.PaddingY=!0,this.destroy$=new t.xQ}ngOnInit(){this.calendarRepository.selectTimePoint().pipe((0,n.R)(this.destroy$)).subscribe(m=>{const v=Number(m.month),E=this.calendarDaysCalculator.getCalendarItems(m);this.calendarMonth=new i.c(v,m.year,v,E,s.C[v]),this.changeDetectorRef.detectChanges()})}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}}return p.\u0275fac=function(m){return new(m||p)(a.Y36(o.y),a.Y36(r.o),a.Y36(a.sBO))},p.\u0275cmp=a.Xpm({type:p,selectors:[["sp-calendar-month"]],hostVars:4,hostBindings:function(m,v){2&m&&a.ekj("sp-px-2",v.PaddingX)("sp-py-1",v.PaddingY)},decls:1,vars:1,consts:[[3,"calendarItem"]],template:function(m,v){1&m&&a._UZ(0,"sp-calendar-month-skeleton",0),2&m&&a.Q6J("calendarItem",v.calendarMonth)},directives:[d.n],styles:["sp-calendar-month{content-visibility:auto}sp-calendar-month .sp-day{border-color:var(--gray-30);border-width:1px}sp-calendar-month .sp-week-container{border:1px solid var(--gray-30)}sp-calendar-month .sp-week-container .sp-week{border-bottom:1px solid var(--gray-30)}sp-calendar-month .sp-week-container .sp-week:last-child{border-bottom:none}sp-calendar-month sp-calendar-grid.is-heatmap:hover{background:var(--gray-40)!important}sp-calendar-month .sp-grid-cell.sp-day{border-left-style:solid}sp-calendar-month .sp-grid-cell.sp-day:first-child{border-left-style:none}sp-calendar-month .sp-grid-cell.sp-day.sp-not-in-month{border-color:var(--gray-20)}\n"],encapsulation:2,changeDetection:0}),p})()},59571:(S,g,e)=>{"use strict";e.d(g,{R:()=>i});var t=e(84046),n=e(26844),s=e(55331);let i=(()=>{class r{constructor(){this.class="sp-flex sp-flex-col"}}return r.\u0275fac=function(o){return new(o||r)},r.\u0275cmp=t.Xpm({type:r,selectors:[["sp-calendar-mini-month"]],hostVars:2,hostBindings:function(o,d){2&o&&t.Tol(d.class)},inputs:{calendarMonth:"calendarMonth"},decls:5,vars:4,consts:[[1,"sp-calendar-month-header"],[1,"sp-calendar-header-item","sp-flex","sp-justify-center","sp-month-name-container"],[3,"calendarItem"]],template:function(o,d){1&o&&(t.TgZ(0,"div",0),t.TgZ(1,"div",1),t._uU(2),t.ALo(3,"titlecase"),t.qZA(),t.qZA(),t._UZ(4,"sp-calendar-month-skeleton",2)),2&o&&(t.xp6(2),t.hij(" ",t.lcZ(3,2,d.calendarMonth.name)," "),t.xp6(2),t.Q6J("calendarItem",d.calendarMonth))},directives:[n.n],pipes:[s.rS],styles:["sp-calendar-mini-month{content-visibility:auto}sp-calendar-mini-month .sp-grid-cell{padding:8px}sp-calendar-mini-month .sp-week:last-child{border-bottom-color:transparent}sp-calendar-mini-month .sp-week .sp-day .sp-day-index-circle.sp-selected{background-color:var(--purple-50);color:var(--color-font)}\n"],encapsulation:2,changeDetection:0}),r})()},85976:(S,g,e)=>{"use strict";e.d(g,{x:()=>E});var t=e(54806),n=e(70822),s=e(81642),i=e(21646),r=e(42368),a=e(6345),o=e(62546),d=e(84046),h=e(70351),p=e(452),f=e(55331),m=e(59571);function v(C,T){if(1&C&&(d.ynx(0),d._UZ(1,"sp-calendar-mini-month",2),d.BQk()),2&C){const y=T.$implicit;d.xp6(1),d.Q6J("calendarMonth",y)}}let E=(()=>{class C extends o.H{constructor(y,I,P,L,F,b){super(y,I),this.changeDetectorRef=P,this.calendarDaysCalculator=L,this.currentLocaleDataStorage=F,this.calendarRepository=b,this.calendarMonths=[]}ngOnInit(){this.observeCurrentLocaleData(),this.observeCalendarTimePoint()}isEqualMonth(y,I){return I.index}observeCalendarTimePoint(){this.calendarRepository.selectTimePoint().pipe((0,n.h)(y=>this.currentYear!==y.year),this.takeUntilDestroy()).subscribe(y=>{this.currentYear=y.year,this.recalculateCalendarMonths()})}recalculateCalendarMonths(){this.calendarMonths=Object.keys(s.C).filter(y=>!isNaN(Number(y))).map(y=>{const I=Number(y),P=new r.$(this.currentYear,I),L=this.calendarDaysCalculator.getCalendarItems(P);return new i.c(I,P.year,I,L,this.months[I])}),this.changeDetectorRef.detectChanges()}observeCurrentLocaleData(){this.currentLocaleDataStorage.select().pipe(this.takeUntilDestroy()).subscribe(y=>{this.months=t.Y.getMonthsFormat(y).wide,this.currentYear&&this.recalculateCalendarMonths()})}}return C.\u0275fac=function(y){return new(y||C)(d.Y36(d.SBq),d.Y36(d.Qsj),d.Y36(d.sBO),d.Y36(a.o),d.Y36(t.Y),d.Y36(h.y))},C.\u0275cmp=d.Xpm({type:C,selectors:[["sp-calendar-year"]],features:[d.qOj],decls:2,vars:2,consts:[[1,"sp-w-full","sp-grid","sp-relative"],[4,"ngFor","ngForOf","ngForTrackBy"],[3,"calendarMonth"]],template:function(y,I){1&y&&(d.TgZ(0,"sp-calendar-year-grid",0),d.YNc(1,v,2,1,"ng-container",1),d.qZA()),2&y&&(d.xp6(1),d.Q6J("ngForOf",I.calendarMonths)("ngForTrackBy",I.isEqualMonth))},directives:[p.$,f.sg,m.R],encapsulation:2,changeDetection:0}),C})()},51739:(S,g,e)=>{"use strict";e.d(g,{W:()=>s});var t=e(27609),n=e(84046);let s=(()=>{class i extends t.V{constructor(){super(null)}}return i.\u0275fac=function(a){return new(a||i)},i.\u0275prov=n.Yz7({token:i,factory:i.\u0275fac}),i})()},452:(S,g,e)=>{"use strict";e.d(g,{$:()=>C});var t=e(84046),n=e(71726),s=e(29265),i=e(59571);let r=(()=>{class T{calcColumns(I,P){let L=Math.floor((P-1)/I),F=this.checkLayoutAsymmetry(L);for(;F;)L--,F=this.checkLayoutAsymmetry(L);return L}checkLayoutAsymmetry(I){return!!(12%I)}}return T.\u0275fac=function(I){return new(I||T)},T.\u0275prov=t.Yz7({token:T,factory:T.\u0275fac}),T})();class a{constructor(y,I){this.gridRow=y,this.gridColumn=I}getGridRow(){return this.gridRow}getGridColumn(){return this.gridColumn}}class o{constructor(y){this.numOfColumnsInGrid=y}getLocationFor(y){return new a(Math.floor(y/this.numOfColumnsInGrid)+1,y%this.numOfColumnsInGrid+1)}}var d=e(51739),h=e(71118),p=e(62546),f=e(55331),m=e(69001);function v(T,y){1&T&&(t.TgZ(0,"div",1),t._UZ(1,"sp-circle-loader",2),t.qZA())}const E=["*"];let C=(()=>{class T extends p.H{constructor(I,P,L,F,b){super(I,P),this.gridItemNavigatorStorage=L,this.resizeService=F,this.columnsCalculator=b,this.layoutHasNotBeenCalculatedYet=!1}ngAfterViewInit(){this.observeContainerDimensionsChanges()}finalize(){this.resizeService.removeResizeDetectorFromDom(this.getContainerElem())}observeContainerDimensionsChanges(){this.resizeService.addResizeDetectorToDom(this.getContainerElem()).pipe((0,n.U)(I=>I.width),this.takeUntilDestroy()).subscribe(I=>{const P=this.calculateCalendarColumns(I);P!==this.currentNumOfColumns&&(this.rebuildGrid(P),this.currentNumOfColumns=P)})}calculateCalendarColumns(I){return this.columnsCalculator.calcColumns(this.getSpaceNeededToDisplaySingleMonth(),I)}rebuildGrid(I){this.gridItemNavigatorStorage.set(new o(I))}getSpaceNeededToDisplaySingleMonth(){const I=this.getMonthStyles();return this.getMonthElem().clientWidth+h.l.pixelToNumber(I.marginLeft)+h.l.pixelToNumber(I.marginRight)}getMonthStyles(){const I=this.getMonthElem();return window.getComputedStyle(I)}getMonthElem(){const I=this.monthComponentElementRef.nativeElement;if(!I)throw new Error("No month element found");return I}getContainerElem(){return this.elementRef.nativeElement.parentElement}}return T.\u0275fac=function(I){return new(I||T)(t.Y36(t.SBq),t.Y36(t.Qsj),t.Y36(d.W),t.Y36(s.C),t.Y36(r))},T.\u0275cmp=t.Xpm({type:T,selectors:[["sp-calendar-year-grid"]],contentQueries:function(I,P,L){if(1&I&&t.Suo(L,i.R,5,t.SBq),2&I){let F;t.iGM(F=t.CRH())&&(P.monthComponentElementRef=F.first)}},features:[t._Bn([s.C,r,d.W]),t.qOj],ngContentSelectors:E,decls:2,vars:1,consts:[["class","sp-calendar-loader-container",4,"ngIf"],[1,"sp-calendar-loader-container"],[1,"sp-calendar-loader"]],template:function(I,P){1&I&&(t.F$t(),t.YNc(0,v,2,0,"div",0),t.Hsn(1)),2&I&&t.Q6J("ngIf",P.layoutHasNotBeenCalculatedYet)},directives:[f.O5,m._],styles:["sp-calendar-year-grid{grid-template-columns:repeat(4,1fr);grid-gap:64px}sp-calendar-year-grid .sp-calendar-loader-container{position:absolute;width:100%;height:100%;top:0;left:0;display:flex;justify-content:center;align-items:center;background:var(--color-bg)}\n"],encapsulation:2,changeDetection:0}),T})()},27501:(S,g,e)=>{"use strict";e.d(g,{WV:()=>d,bb:()=>h});var t=e(97809),n=e(70822),s=e(71726),i=e(62078),r=e(84046),a=e(14176);class o{constructor(f,m,v){this.groupName=f,this.scrollPosition=m,this.scrollHeight=v}}class d{constructor(f,m){this.scrollPosition=f,this.scrollHeight=m}static isEqual(f,m){return f.scrollPosition===m.scrollPosition&&f.scrollHeight===m.scrollHeight}}let h=(()=>{class p{constructor(m,v){this.rightClickDialogService=m,this.inlineDialogManager=v,this.scrollPosition$=new t.t(1)}scroll(m,v=0,E=0){this.rightClickDialogService.destroyDynamicComponent(),this.inlineDialogManager.destroy(),this.scrollPosition$.next(new o(m,v,E))}selectScroll(m){return this.scrollPosition$.pipe((0,n.h)(v=>v.groupName===m),(0,s.U)(({scrollPosition:v,scrollHeight:E})=>new d(v,E)))}}return p.\u0275fac=function(m){return new(m||p)(r.LFG(i.V),r.LFG(a.V))},p.\u0275prov=r.Yz7({token:p,factory:p.\u0275fac}),p})()},62807:(S,g,e)=>{"use strict";e.d(g,{nv:()=>ut});var t=e(55331),n=e(84046),s=e(41001),i=e(51545),r=e(68499),a=e(94649),o=e(12002),d=e(79047),h=e(51805),p=e(78492),f=e(78242),m=e(73891),v=e(97425),E=e(84974),C=e(27501),T=e(16804),y=e(42940),I=e(81871);class P extends I.n{}var L=e(79952),F=e(8688);let b=(()=>{class ee extends T.W{constructor(V,le){super(y.g.type,P,le),this.treeAggregateRepository=V}execute(V){const $e=V.layout,ct=this.treeAggregateRepository.getById(V.treeId);ct.setLayout($e),this.treeAggregateRepository.save(ct)}}return ee.\u0275fac=function(V){return new(V||ee)(n.LFG(L.v),n.LFG(F.p))},ee.\u0275prov=n.Yz7({token:ee,factory:ee.\u0275fac}),ee})();var x=e(50476);const B=[{provide:x.b,useClass:b,multi:!0}];var M=e(10107),w=e(17386),K=e(67761),k=e(34826),G=e(51257),$=e(80064);let X=(()=>{class ee extends G.b{constructor(V){super(P.type),this.treeCommandDispatcher=V}execute(V){this.treeCommandDispatcher.rebuild(V.getAggregateId())}}return ee.\u0275fac=function(V){return new(V||ee)(n.LFG($.z))},ee.\u0275prov=n.Yz7({token:ee,factory:ee.\u0275fac}),ee})();var ie=e(61218);class se extends I.n{constructor(Re,V){super(Re,V),this.treeId=V}getTreeId(){return this.treeId}}let pe=(()=>{class ee extends T.W{constructor(V){super(ie.B.type),this.dispatcher=V}execute(V){this.dispatcher.dispatch(new se(V.getId(),V.getTreeId()))}}return ee.\u0275fac=function(V){return new(V||ee)(n.LFG(F.p))},ee.\u0275prov=n.Yz7({token:ee,factory:ee.\u0275fac}),ee})();var ve=e(81074);class Ce extends I.n{constructor(Re,V){super(Re,V),this.treeId=V}getTreeId(){return this.treeId}}var ye=e(42865);let de=(()=>{class ee extends T.W{constructor(V,le){super(ve.K.type),this.repo=V,this.dispatcher=le}execute(V){const le=this.repo.getById(V.getAggregateId());le.startDrag(V.getNode()),this.repo.save(le);const $e=le.getSelectedItemIds();this.dispatcher.dispatch(new Ce(V.getId(),V.getTreeId())),this.dispatcher.dispatch(new ye.r(V.getId(),V.getTreeId(),$e))}}return ee.\u0275fac=function(V){return new(V||ee)(n.LFG(L.v),n.LFG(F.p))},ee.\u0275prov=n.Yz7({token:ee,factory:ee.\u0275fac}),ee})();var Ie=e(31326),He=e(27651),Ve=e(39430);let Ue=(()=>{class ee extends T.W{constructor(V,le){super(Ie.F.type),this.treeAggregateStore=V,this.dispatcher=le}execute(V){const le=this.treeAggregateStore.getById(V.getTreeId()),$e=new He.p(V.getId(),V.getTreeId(),V.getDestinationNode(),le.getSelectedItems(),V.getNodeIndex());this.dispatcher.dispatch($e)}}return ee.\u0275fac=function(V){return new(V||ee)(n.LFG(Ve.e),n.LFG(F.p))},ee.\u0275prov=n.Yz7({token:ee,factory:ee.\u0275fac}),ee})();class xe extends I.n{constructor(Re,V,le,$e,ct){super(Re,V),this.siblingNodeId=le,this.indent=$e,this.selectedDropdownItemId=ct}}var gt=e(89731),tt=e(30161);let lt=(()=>{class ee extends T.W{constructor(V,le,$e){super(gt.M.type),this.dispatcher=V,this.treeInlineAddConfigStorage=le,this.treeGridAggregateRepository=$e}execute(V){const le=V.getAggregateId(),$e=V.indent;if(!this.treeInlineAddConfigStorage.isEnabled(le))return;const ct=this.getNodeById(le,V.siblingNodeId);!this.canAdd(le,ct,ct.getParent())||$e||ct.isExpanded()?this.canIndent(le,ct)&&this.dispatcher.dispatch(new xe(V.getId(),le,ct.getId(),!0,V.selectedDropdownItemId)):this.dispatcher.dispatch(new xe(V.getId(),le,ct.getId(),V.indent,V.selectedDropdownItemId))}canAdd(V,le,$e){return this.treeInlineAddConfigStorage.getResolver(V).canAdd($e,le)}canIndent(V,le){return!this.treeInlineAddConfigStorage.getIndentResolver(V).canIndent(le).disabled}getNodeById(V,le){return this.treeGridAggregateRepository.getById(V).findNodeById(le)}}return ee.\u0275fac=function(V){return new(V||ee)(n.LFG(F.p),n.LFG(tt.r),n.LFG(L.v))},ee.\u0275prov=n.Yz7({token:ee,factory:ee.\u0275fac}),ee})();var Mt=e(89055),ne=e(7498),De=e(54490);let Ye=(()=>{class ee extends T.W{constructor(V,le){super(ne.q.type),this.repo=V,this.dispatcher=le}execute(V){const le=V.getAggregateId(),$e=this.repo.getById(le);if($e){const ct=$e.selectItem(V.itemId,V.mode);this.repo.save($e),this.dispatcher.dispatch(ct,V)}}}return ee.\u0275fac=function(V){return new(V||ee)(n.LFG(L.v),n.LFG(De.t))},ee.\u0275prov=n.Yz7({token:ee,factory:ee.\u0275fac}),ee})();class Qe extends I.n{constructor(Re,V,le){super(Re,V),this.scrollPosition=le}getScrollPosition(){return this.scrollPosition}}class Se{static calculate(Re,V){let le,$e;const ct=Re<=V.startPosition+0,Bt=Re>=V.endPosition-1;return ct||Bt?(ct?($e=Re-(V.startPosition+0),le=-V.nodeHeight):Bt&&($e=Re-(V.endPosition-1),le=V.nodeHeight),le+=V.nodeHeight*$e,le):0}}var Ct=e(83050),Lt=e(71984);let Vt=(()=>{class ee extends T.W{constructor(V,le,$e){super(Ct.a.type),this.repo=V,this.dispatcher=le,this.treeViewportRenderRepository=$e}execute(V){const le=this.repo.getById(V.treeId);if(le.selectNextItem(),1===le.getSelectedItems().length){const $e=this.treeViewportRenderRepository.get(V.treeId),ct=le.getSelectedItems()[0].getNodePositionIncludingCollapsedNodes(),Bt=Se.calculate(ct,$e);if(Bt){const Qt=new Qe(V.getId(),V.getAggregateId(),Bt);this.dispatcher.dispatch(Qt)}}this.repo.save(le),this.dispatcher.dispatch(new ye.r(V.getId(),V.getAggregateId(),le.getSelectedItemIds()))}}return ee.\u0275fac=function(V){return new(V||ee)(n.LFG(L.v),n.LFG(F.p),n.LFG(Lt.T))},ee.\u0275prov=n.Yz7({token:ee,factory:ee.\u0275fac}),ee})();var St=e(53219);let $t=(()=>{class ee extends T.W{constructor(V,le,$e){super(St.g.type),this.repo=V,this.dispatcher=le,this.treeViewportRenderRepository=$e}execute(V){const le=this.repo.getById(V.treeId);if(le.selectPreviousItem(),1===le.getSelectedItems().length){const $e=this.treeViewportRenderRepository.get(V.treeId),ct=le.getSelectedItems()[0].getNodePositionIncludingCollapsedNodes(),Bt=Se.calculate(ct,$e);if(Bt){const Qt=new Qe(V.getId(),V.getAggregateId(),Bt);this.dispatcher.dispatch(Qt)}}this.repo.save(le),this.dispatcher.dispatch(new ye.r(V.getId(),V.getAggregateId(),le.getSelectedItemIds()))}}return ee.\u0275fac=function(V){return new(V||ee)(n.LFG(L.v),n.LFG(F.p),n.LFG(Lt.T))},ee.\u0275prov=n.Yz7({token:ee,factory:ee.\u0275fac}),ee})();var yt=e(31);let Ft=(()=>{class ee extends T.W{constructor(V,le){super(yt.A.type),this.repo=V,this.dispatcher=le}execute(V){const le=V.getAggregateId(),$e=this.repo.getById(le);if($e){const ct=$e.toggleItemSelection(V.itemId,V.mode);this.repo.save($e),this.dispatcher.dispatch(ct,V)}}}return ee.\u0275fac=function(V){return new(V||ee)(n.LFG(L.v),n.LFG(De.t))},ee.\u0275prov=n.Yz7({token:ee,factory:ee.\u0275fac}),ee})();var ot=e(86174),Me=e(58350);let Ze=(()=>{class ee extends T.W{constructor(V,le){super(Me.c.type),this.repo=V,this.dispatcher=le}execute(V){const le=this.repo.getById(V.treeId);le&&(le.unselectItems(),this.repo.save(le),this.dispatcher.dispatch(new ot.B(V.getId(),le.getId())))}}return ee.\u0275fac=function(V){return new(V||ee)(n.LFG(L.v),n.LFG(F.p))},ee.\u0275prov=n.Yz7({token:ee,factory:ee.\u0275fac}),ee})();var Ne=e(99646);let we=(()=>{class ee extends G.b{constructor(V){super(ye.r.type),this.treeSelectedItemsRepository=V}execute(V){const le=V.getAggregateId(),$e=V.getItems();this.treeSelectedItemsRepository.set(le,$e)}}return ee.\u0275fac=function(V){return new(V||ee)(n.LFG(Ne.H))},ee.\u0275prov=n.Yz7({token:ee,factory:ee.\u0275fac}),ee})(),At=(()=>{class ee extends G.b{constructor(V){super(ot.B.type),this.treeSelectedItemsRepository=V}execute(V){this.treeSelectedItemsRepository.set(V.getAggregateId(),[])}}return ee.\u0275fac=function(V){return new(V||ee)(n.LFG(Ne.H))},ee.\u0275prov=n.Yz7({token:ee,factory:ee.\u0275fac}),ee})();var Rt=e(10656);let zt=(()=>{class ee extends T.W{constructor(V){super(Rt.f.type),this.repo=V}execute(V){this.repo.use(V,le=>{le.snipeVertically(V.itemId)})}}return ee.\u0275fac=function(V){return new(V||ee)(n.LFG(L.v))},ee.\u0275prov=n.Yz7({token:ee,factory:ee.\u0275fac}),ee})();var Yt=e(84724),ln=e(5402);class pn extends I.n{constructor(Re,V,le){super(V,Re),this.treeId=Re,this.node=le}getTreeId(){return this.treeId}getNode(){return this.node}}let nn=(()=>{class ee extends T.W{constructor(V,le){super(ln.q.type),this.repo=V,this.dispatcher=le}execute(V){const le=this.repo.getById(V.getTreeId()).findNodeById(V.getNodeId());this.dispatcher.dispatch(new pn(V.getTreeId(),V.getId(),le))}}return ee.\u0275fac=function(V){return new(V||ee)(n.LFG(L.v),n.LFG(F.p))},ee.\u0275prov=n.Yz7({token:ee,factory:ee.\u0275fac}),ee})();var hn=e(81882);let xt=(()=>{class ee extends T.W{constructor(V,le){super(hn.C.type),this.repo=V,this.dispatcher=le}execute(V){const le=this.repo.getById(V.getTreeId()).getSelectedItems();le&&1===le.length&&this.dispatcher.dispatch(new pn(V.getTreeId(),V.getId(),le[0]))}}return ee.\u0275fac=function(V){return new(V||ee)(n.LFG(L.v),n.LFG(F.p))},ee.\u0275prov=n.Yz7({token:ee,factory:ee.\u0275fac}),ee})();var Zt=e(66084);class je extends I.n{constructor(Re,V,le){super(V,Re),this.treeId=Re,this.node=le}getTreeId(){return this.treeId}getNode(){return this.node}}let Le=(()=>{class ee extends T.W{constructor(V,le){super(Zt.W.type),this.repo=V,this.dispatcher=le}execute(V){const le=this.repo.getById(V.getTreeId()).findNodeById(V.getNodeId());this.dispatcher.dispatch(new je(V.getTreeId(),V.getId(),le))}}return ee.\u0275fac=function(V){return new(V||ee)(n.LFG(L.v),n.LFG(F.p))},ee.\u0275prov=n.Yz7({token:ee,factory:ee.\u0275fac}),ee})();var vt=e(90134);let qe=(()=>{class ee extends T.W{constructor(V,le){super(vt.C.type),this.repo=V,this.dispatcher=le}execute(V){const le=this.repo.getById(V.getTreeId()).getSelectedItems();le&&1===le.length&&this.dispatcher.dispatch(new je(V.getTreeId(),V.getId(),le[0]))}}return ee.\u0275fac=function(V){return new(V||ee)(n.LFG(L.v),n.LFG(F.p))},ee.\u0275prov=n.Yz7({token:ee,factory:ee.\u0275fac}),ee})();var Et=e(20753);class st extends I.n{}var Nt=e(28819),Je=e(38341),Ot=e(98765);class fe{constructor(Re){this.top=Re}}class Ge extends I.n{constructor(Re,V,le){super(Re,V),this.position=le}}var Tt=e(66453);class Pe extends Tt.i{constructor(Re,V){super(Re),this.treeId=Re,this.position=V}toDomainEvents(Re){return[new Ge(Re,this.treeId,this.position)]}}class pt extends I.n{constructor(Re,V,le){super(Re,V),this.item=le}getItem(){return this.item}}class Q extends Tt.i{constructor(Re,V){super(Re),this.treeId=Re,this.item=V}getItem(){return this.item}toDomainEvents(Re){return[new pt(Re,this.treeId,this.item)]}}var Ee=e(60508);class ue extends Tt.i{constructor(Re,V){super(Re),this.treeId=Re,this.items=V}getItems(){return this.items}toDomainEvents(Re){return[new ye.r(Re,this.treeId,this.items)]}}let be=(()=>{class ee{constructor(V){this.treeId=V,this.selectedItemIds=new Map,this.selectedItemChildrenIds=[]}toggle(V,le,$e,ct){return this.setActualSelection(V,le,$e,ct,!0)}select(V,le,$e,ct){return this.setActualSelection(V,le,$e,ct,!1)}selectItemOnDragStart(V,le,$e){const Qt=(void 0!==this.selectedItemIds.get(V)?this.getSelectedItemIds():[V]).map(gn=>Nt.qI.searchNode(le,gn)).filter(gn=>$e.isDragNodeEnable(gn)).map(gn=>gn.id);this.setSelectedItemIds(Qt,le)}getSelectedItemIds(){return Array.from(this.selectedItemIds.keys())}getLastSelectedItemId(){return this.lastSelectedItemId}getSelectedItemChildrenIds(){return this.selectedItemChildrenIds}unselectItems(){return this.setSelectedItemIds([],[]),new ue(this.treeId,[])}selectNextItem(V){const le=this.getSelectedItemIds().map(Bt=>Nt.qI.searchNode(V,Bt).nodePositionIncludedCollapsedNodes),$e=Math.max(...le),ct=Nt.qI.getNodeByPosition(V,$e+1);ct&&this.setSelectedItemIds([ct.id],V)}selectPreviousItem(V){const le=this.getSelectedItemIds().map(Bt=>Nt.qI.searchNode(V,Bt).nodePositionIncludedCollapsedNodes),$e=Math.min(...le),ct=Nt.qI.getNodeByPosition(V,$e-1);ct&&this.setSelectedItemIds([ct.id],V)}removeNotExistingItems(V){const $e=this.getSelectedItemIds().map(ct=>Nt.qI.searchNode(V,ct)).filter(ct=>!!ct).map(ct=>ct.id);this.setSelectedItemIds($e,V)}setActualSelection(V,le,$e,ct,Bt){let Qt=[];return this.updateRangeStartItemId(V,le),le===Ee.M.ONE?Qt=this.resolveNewOneSelection(V,Bt):le===Ee.M.ADD?Qt=this.resolveNewAddSelection(V,$e,Bt):le===Ee.M.RANGE&&(Qt=this.resolveNewRangeSelection(V,$e,Bt)),Qt=Qt.filter(Boolean).map(io=>io.includes("VESTIBULE")?io.split("VESTIBULE-")[1]:io),Qt=Qt.filter(io=>ct.isNodeSelectable(Nt.qI.searchNode($e,io))),[this.setSelectedItemIds(Qt,$e),this.setLastSelectedItemId(V)]}setSelectedItemIds(V,le){const $e=Array.from(new Set(V));this.selectedItemIds=new Map;for(const ct of $e)this.setSelectedItemIdWithPosition(ct,le);return this.setSelectedItemsChildrenIds(le),new ue(this.treeId,V)}setLastSelectedItemId(V){return this.lastSelectedItemId=V,new Q(this.treeId,V)}setSelectedItemsChildrenIds(V){const le=this.getSelectedItemIds();if(this.selectedItemChildrenIds=[],V){for(const $e of le){const ct=Nt.qI.searchNode(V,$e);ct&&this.findSelectedItemChildren(ct)}this.selectedItemChildrenIds=Array.from(new Set(this.selectedItemChildrenIds))}}findSelectedItemChildren(V){if(this.selectedItemChildrenIds.push(V.id),V.children)for(const le of V.children)this.findSelectedItemChildren(le)}resolveNewOneSelection(V,le){const $e=this.getSelectedItemIds();return le&&1===$e.length&&void 0!==this.selectedItemIds.get(V)?[]:[V]}resolveNewAddSelection(V,le,$e){let ct=this.getSelectedItemIds();return void 0!==this.selectedItemIds.get(V)?$e&&(this.selectedItemIds.delete(V),ct=this.getSelectedItemIds()):(this.setSelectedItemIdWithPosition(V,le),ct=this.getSortedSelectedItems()),ct}resolveNewRangeSelection(V,le,$e){let ct=[];this.isInSelectedItems(this.lastSelectedItemId)&&(ct=this.getItemIdsInRange(le,this.rangeStartItemId,this.lastSelectedItemId));const Bt=this.getItemIdsInRange(le,this.rangeStartItemId,V),Qt=this.getSelectedItemIds(),gn=Bt.filter(io=>-1===Qt.indexOf(io)),Gn=Qt.filter(io=>-1===ct.indexOf(io)&&-1===Bt.indexOf(io));return $e?[...Gn,...gn]:[...Gn,...Bt]}getItemIdsInRange(V,le,$e){const ct=Nt.qI.searchNode(V,le).getNodePosition(),Bt=Nt.qI.searchNode(V,$e).getNodePosition(),Qt=Math.min(ct,Bt),gn=Math.max(ct,Bt),Gn=[];return V.forEach(io=>{this.addItemIdsToArrayByPosition(Gn,Qt,gn,io)}),Gn}addItemIdsToArrayByPosition(V,le,$e,ct){const Bt=ct.getNodePosition();Bt>=le&&Bt<=$e&&V.push(ct.id),ct.children&&ct.getChildren().forEach(Qt=>{this.addItemIdsToArrayByPosition(V,le,$e,Qt)})}updateRangeStartItemId(V,le){if(le===Ee.M.RANGE){if(!this.isInSelectedItems(this.rangeStartItemId)){if(this.isInSelectedItems(this.lastSelectedItemId))return void(this.rangeStartItemId=this.lastSelectedItemId);this.rangeStartItemId=V}}else this.rangeStartItemId=null}isInSelectedItems(V){return-1!==this.getSelectedItemIds().indexOf(V)}getSortedSelectedItems(){const V=[];return this.selectedItemIds.forEach((le,$e)=>{V[le]=$e}),V.filter(le=>!!le)}setSelectedItemIdWithPosition(V,le){const $e=Nt.qI.searchNode(le,V);let ct;ct=$e?$e.getNodePositionIncludingCollapsedNodes():ee.FIRST_NODE_POSITION,this.selectedItemIds.set(V,ct)}}return ee.FIRST_NODE_POSITION=1,ee})();var mt=e(50292),Ut=e(17658);class Xt extends Ut.Z{constructor(Re){super(Re),this.treeId=Re,this.layout=mt.A.NORMAL,this.treeDropZonesResolver=new Je.X,this.treeNodeSelectResolver=new Ot.E,this.selection=new be(Re)}setTreeDropZonesResolver(Re){this.treeDropZonesResolver=Re}setTreeNodeSelectResolver(Re){this.treeNodeSelectResolver=Re}setLayout(Re){this.layout=Re}getLayout(){return this.layout}setNodes(Re){this.nodes=Re,this.selection.removeNotExistingItems(this.nodes)}unselectItems(){return this.selection.unselectItems()}toggleItemSelection(Re,V){return this.selection.toggle(Re,V,this.nodes,this.treeNodeSelectResolver)}selectItem(Re,V){return this.selection.select(Re,V,this.nodes,this.treeNodeSelectResolver)}selectNextItem(){this.selection.selectNextItem(this.nodes)}selectPreviousItem(){this.selection.selectPreviousItem(this.nodes)}getLastSelectedItemId(){return this.selection.getLastSelectedItemId()}getLastSelectedItem(){return Nt.qI.searchNode(this.nodes,this.getLastSelectedItemId())}getSelectedItemIds(){return this.selection.getSelectedItemIds()}getSelectedItems(){return this.selection.getSelectedItemIds().map(Re=>Nt.qI.searchNode(this.nodes,Re))}getMarkedForMoveItemIds(){return this.selection.getSelectedItemChildrenIds()}startDrag(Re){this.selection.selectItemOnDragStart(Re.id,this.nodes,this.treeDropZonesResolver)}findNodeById(Re){return Nt.qI.searchNode(this.nodes,Re)}snipeVertically(Re){const V=this.findNodeById(Re),le=new fe(V?V.nodePositionIncludedCollapsedNodes:-1);this.emit([new Pe(this.treeId,le)])}}let en=(()=>{class ee extends T.W{constructor(V,le){super(Et.V.type,st,le),this.treeAggregateRepository=V}execute(V){const $e=new Xt(V.treeId);this.treeAggregateRepository.save($e)}}return ee.\u0275fac=function(V){return new(V||ee)(n.LFG(L.v),n.LFG(F.p))},ee.\u0275prov=n.Yz7({token:ee,factory:ee.\u0275fac}),ee})();var mn=e(61078),In=e(81530);let Un=(()=>{class ee extends T.W{constructor(V){super(mn.y.type),this.dispatcher=V}execute(V){this.dispatcher.dispatch(new In.U(V.getId(),V.getAggregateId()))}}return ee.\u0275fac=function(V){return new(V||ee)(n.LFG(F.p))},ee.\u0275prov=n.Yz7({token:ee,factory:ee.\u0275fac}),ee})();var Jn=e(7206);class zn extends I.n{}let An=(()=>{class ee extends T.W{constructor(V,le){super(Jn.t.type,zn,le),this.treeAggregateRepository=V}execute(V){const le=this.treeAggregateRepository.getById(V.getTreeId());le.setTreeNodeSelectResolver(V.getTreeNodeSelectResolver()),this.treeAggregateRepository.save(le)}}return ee.\u0275fac=function(V){return new(V||ee)(n.LFG(L.v),n.LFG(F.p))},ee.\u0275prov=n.Yz7({token:ee,factory:ee.\u0275fac}),ee})();var to=e(34646),no=e(61988);let uo=(()=>{class ee extends T.W{constructor(V,le){super(to.R.type),this.repo=V,this.dispatcher=le}execute(V){const le=V.getTree(),$e=this.repo.getById(V.getAggregateId());$e.setNodes(le),this.repo.save($e),this.dispatcher.dispatch(new no.b(V.getId(),$e.getId()));const ct=$e.getSelectedItemIds();0!==ct.length&&this.dispatcher.dispatch(new ye.r(V.getId(),$e.getId(),ct))}}return ee.\u0275fac=function(V){return new(V||ee)(n.LFG(L.v),n.LFG(F.p))},ee.\u0275prov=n.Yz7({token:ee,factory:ee.\u0275fac}),ee})();var $n=e(57880);class kn extends I.n{}let ro=(()=>{class ee extends T.W{constructor(V,le){super($n.h.type,kn,le),this.treeAggregateRepository=V}execute(V){const le=this.treeAggregateRepository.getById(V.getTreeId());le.setTreeDropZonesResolver(V.getTreeDropZonesResolver()),this.treeAggregateRepository.save(le)}}return ee.\u0275fac=function(V){return new(V||ee)(n.LFG(L.v),n.LFG(F.p))},ee.\u0275prov=n.Yz7({token:ee,factory:ee.\u0275fac}),ee})();var Dt=e(70129),Cn=e(18840),Fe=e(70822);let Pt=(()=>{class ee extends L.v{constructor(V,le){super(le),this.treeAggregateStore=V,this.loadedTreeIds=new Map,this.loadedTreeId$=new Cn.X(null)}observeLoadedTreeId(V){return this.loadedTreeId$.pipe((0,Fe.h)(le=>le===V||this.loadedTreeIds.has(V)))}save(V){const le=V.getId().toString();this.loadedTreeIds.has(le)||(this.loadedTreeIds.set(le,!1),this.loadedTreeId$.next(le)),this.treeAggregateStore.save(V)}getById(V){return this.treeAggregateStore.getById(V)}}return ee.\u0275fac=function(V){return new(V||ee)(n.LFG(Ve.e),n.LFG(De.t))},ee.\u0275prov=n.Yz7({token:ee,factory:ee.\u0275fac}),ee})();var tn=e(97809),Sn=e(90850),qt=e(35811),cn=e(5047),un=e(34193);class oo extends class{constructor(Re){this.aggregateId=Re}getId(){return this.aggregateId}equals(Re){return this.aggregateId.toString()===Re.toString()}}{constructor(Re,V,le,$e,ct,Bt){super(Re),this.layout=V,this.lastSelectedItemId=le,this.selectedItemIds=$e,this.selectedItems=ct,this.selectedItemChildrenIds=Bt}getLayout(){return this.layout}getSelectedItems(){return this.selectedItems}getSelectedItemIds(){return this.selectedItemIds}getLastSelectedItemId(){return this.lastSelectedItemId}getSelectedItemChildrenIds(){return this.selectedItemChildrenIds}}let qn=(()=>{class ee{toQuery(V){return new oo(V.getId(),V.getLayout(),V.getLastSelectedItemId(),V.getSelectedItemIds(),V.getSelectedItems(),V.getMarkedForMoveItemIds())}}return ee.\u0275fac=function(V){return new(V||ee)},ee.\u0275prov=n.Yz7({token:ee,factory:ee.\u0275fac}),ee})(),bn=(()=>{class ee extends class{constructor(Re){this.stateStore=Re}getById(Re){const V=this.stateStore.get(Re);return V?this.toQuery(V):null}}{constructor(V,le){super(V),this.treeConverter=le}toQuery(V){return this.treeConverter.toQuery(V)}}return ee.\u0275fac=function(V){return new(V||ee)(n.LFG(un.I),n.LFG(qn))},ee.\u0275prov=n.Yz7({token:ee,factory:ee.\u0275fac}),ee})(),so=(()=>{class ee extends Dt.a{constructor(V,le){super(),this.eventBus=V,this.treeQueryStore=le,this.events=[st.type,P.type],this.tree$=new tn.t(1),this.onDestroy$=new Sn.xQ,this.eventBus.pipe((0,Fe.h)($e=>!!this.events.find(ct=>ct===$e.getType())),(0,qt.R)(this.onDestroy$)).subscribe($e=>{const ct=$e.getAggregateId(),Bt=this.treeQueryStore.getById(ct);this.tree$.next(Bt)})}ngOnDestroy(){this.onDestroy$.next(),this.onDestroy$.complete()}select(V){return this.tree$.asObservable().pipe((0,Fe.h)(le=>le.getId().toString()===V.toString()))}}return ee.\u0275fac=function(V){return new(V||ee)(n.LFG(cn.N),n.LFG(bn))},ee.\u0275prov=n.Yz7({token:ee,factory:ee.\u0275fac}),ee})();var Yn=e(78042);const Do=[Ve.e,$.z,Ne.H,Mt.x,Lt.T,{provide:L.v,useClass:Pt},(0,x.p)(en),(0,x.p)(Un),(0,x.p)(uo),(0,x.p)(Ft),(0,x.p)(Ye),(0,x.p)(de),(0,x.p)(Ue),(0,x.p)(pe),(0,x.p)(Ze),(0,x.p)(Vt),(0,x.p)($t),(0,x.p)(qe),(0,x.p)(xt),(0,x.p)(Le),(0,x.p)(nn),(0,x.p)(ro),(0,x.p)(An),(0,x.p)(lt),(0,x.p)(zt)],sn=[un.I,...Do,qn,bn,Yt.k,{provide:Dt.a,useClass:so},{provide:Yn.H,useClass:X,multi:!0},{provide:Yn.H,useClass:we,multi:!0},{provide:Yn.H,useClass:At,multi:!0},k.p,$.z];var _e=e(67743),ke=e(19838);let nt=(()=>{class ee extends G.b{constructor(V,le,$e){super(Ce.type),this.queryStore=V,this.selectedItemsChildrenRepository=le,this.treeDragStateRepository=$e}execute(V){const le=this.queryStore.getById(V.getTreeId()).getSelectedItemChildrenIds();this.selectedItemsChildrenRepository.setSelectedItemsChildrenForTree(V.getTreeId(),le),this.treeDragStateRepository.set(!0)}}return ee.\u0275fac=function(V){return new(V||ee)(n.LFG(bn),n.LFG(ke.u),n.LFG(_e.N))},ee.\u0275prov=n.Yz7({token:ee,factory:ee.\u0275fac}),ee})(),me=(()=>{class ee extends G.b{constructor(V,le){super(se.type),this.selectedItemsChildrenRepository=V,this.treeDragStateRepository=le}execute(V){this.selectedItemsChildrenRepository.setSelectedItemsChildrenForTree(V.getTreeId(),[]),this.treeDragStateRepository.set(!1)}}return ee.\u0275fac=function(V){return new(V||ee)(n.LFG(ke.u),n.LFG(_e.N))},ee.\u0275prov=n.Yz7({token:ee,factory:ee.\u0275fac}),ee})();var ht=e(52367);let Wt=(()=>{class ee extends G.b{constructor(V,le){super(He.p.type),this.droppedRepository=V,this.dragStateRepository=le}execute(V){this.droppedRepository.set(V.getTreeId(),{destinationNode:V.getDestinationNode().getId(),selectedItems:V.getSelectedItems().map(le=>le.getId()),nodeIndex:V.getNodeIndex()}),this.dragStateRepository.set(!1)}}return ee.\u0275fac=function(V){return new(V||ee)(n.LFG(ht.Z),n.LFG(_e.N))},ee.\u0275prov=n.Yz7({token:ee,factory:ee.\u0275fac}),ee})();var It=e(63906),wt=(e(22489),e(83020)),jt=e(16781);let Tn=(()=>{class ee extends G.b{constructor(V){super(xe.type),this.treeInlineAddRepository=V}execute(V){const le=new jt.k(V.siblingNodeId,V.indent,V.selectedDropdownItemId);this.treeInlineAddRepository.set(V.getAggregateId(),le)}}return ee.\u0275fac=function(V){return new(V||ee)(n.LFG(wt.I))},ee.\u0275prov=n.Yz7({token:ee,factory:ee.\u0275fac}),ee})();var Fn=e(13151),Nn=e(10020),Wn=e(85431);let Xn=(()=>{class ee extends G.b{constructor(V){super(Qe.type),this.scrollTopChangeRepository=V}execute(V){this.scrollTopChangeRepository.set(V.getAggregateId(),V.getScrollPosition())}}return ee.\u0275fac=function(V){return new(V||ee)(n.LFG(Mt.x))},ee.\u0275prov=n.Yz7({token:ee,factory:ee.\u0275fac}),ee})(),lo=(()=>{class ee extends G.b{constructor(V,le){super(pt.type),this.queryStore=V,this.selectedItemRepository=le}execute(V){const le=this.queryStore.getById(V.getAggregateId());this.selectedItemRepository.set(le.getId(),le.getLastSelectedItemId())}}return ee.\u0275fac=function(V){return new(V||ee)(n.LFG(bn),n.LFG(w.m))},ee.\u0275prov=n.Yz7({token:ee,factory:ee.\u0275fac}),ee})();var Vn=e(48245);let rt=(()=>{class ee extends G.b{constructor(V,le,$e){super(ye.r.type),this.queryStore=V,this.selectedItemsRepository=le,this.itemsStorageService=$e}execute(V){const le=this.queryStore.getById(V.getAggregateId()),$e=le.getId(),ct=le.getSelectedItems().filter(Bt=>!!Bt);this.itemsStorageService.set(ct),this.selectedItemsRepository.set($e,ct)}}return ee.\u0275fac=function(V){return new(V||ee)(n.LFG(bn),n.LFG(K.G),n.LFG(Vn.k))},ee.\u0275prov=n.Yz7({token:ee,factory:ee.\u0275fac}),ee})(),an=(()=>{class ee extends G.b{constructor(V,le){super(ot.B.type),this.queryStore=V,this.selectedItemsRepository=le}execute(V){this.selectedItemsRepository.set(V.getAggregateId(),[])}}return ee.\u0275fac=function(V){return new(V||ee)(n.LFG(bn),n.LFG(K.G))},ee.\u0275prov=n.Yz7({token:ee,factory:ee.\u0275fac}),ee})(),We=(()=>{class ee extends G.b{constructor(V){super(Ge.type),this.itemVerticallyTopPositionRepository=V}execute(V){this.itemVerticallyTopPositionRepository.set(V.getAggregateId(),V.position)}}return ee.\u0275fac=function(V){return new(V||ee)(n.LFG(Yt.k))},ee.\u0275prov=n.Yz7({token:ee,factory:ee.\u0275fac}),ee})();e(10958);var _n=e(91526);let ao=(()=>{class ee extends G.b{constructor(V){super(pn.type),this.nodeExpandService=V}execute(V){this.nodeExpandService.collapseNode(V.getNode().id)}}return ee.\u0275fac=function(V){return new(V||ee)(n.LFG(_n.j))},ee.\u0275prov=n.Yz7({token:ee,factory:ee.\u0275fac}),ee})(),go=(()=>{class ee extends G.b{constructor(V){super(je.type),this.nodeExpandService=V}execute(V){this.nodeExpandService.expandNode(V.getNode().id)}}return ee.\u0275fac=function(V){return new(V||ee)(n.LFG(_n.j))},ee.\u0275prov=n.Yz7({token:ee,factory:ee.\u0275fac}),ee})();var _o=e(60892),vo=e(36474),Oo=e(9933);class Po{constructor(){this.sort={columnId:null,direction:!0},this.expandedNodesIndex={}}static fromDomain(Re){const V=new Po;return V.sort=Re.sort,V.expandedNodesIndex=Re.expandedNodesIndex,V}static fromRaw(Re){const V=new Po;return Re&&(Re.sort&&(V.sort=Re.sort),Re.expandedNodesIndex&&(V.expandedNodesIndex=Re.expandedNodesIndex)),V}}let Bo=(()=>{class ee extends vo.h{constructor(V){super(),this.localStorage=V,this.lsKey="tus"}read(V){const le=this.localStorage.getObject(this.getKey(V));return Po.fromRaw(le)}save(V){this.localStorage.setObject(this.getKey(V.treeId),Po.fromDomain(V))}getKey(V){return`${this.lsKey}-${V}`}}return ee.\u0275fac=function(V){return new(V||ee)(n.LFG(Oo.m))},ee.\u0275prov=n.Yz7({token:ee,factory:ee.\u0275fac}),ee})();var Fo=e(53184),si=e(33769),hi=e(43939),Pi=e(81171),yi=e(64902),Li=e(71118),ko=e(62546);let Kn=(()=>{class ee extends ko.H{constructor(V,le,$e,ct){super(V,le),this.resizeStatusStorage=$e,this.document=ct,this.resizeEnabled=!1,this.resizeStart=new n.vpe,this.resizeEnd=new n.vpe,this.sizeChanged=new n.vpe,this.COLUMN_RESIZE_ACTIVE_CLASS="sp-resize-active",this.TREE_RESIZE_ACTIVE_CLASS="sp-tree-resize-active"}ngOnChanges(V){V.resizeEnabled&&(this.resizeEnabled?this.attachListener():this.detachListener())}ngOnInit(){this.resizeStatusStorage.select().pipe(this.takeUntilDestroy()).subscribe(V=>{this.resizeInProgress=V})}finalize(){this.detachListener(),this.removeResizeClassFromTree()}attachListener(){const V=this.elementRef.nativeElement.querySelector(".sp-resize-border");this.mouseDownHandle$=this.domManipulator.listen(V,"mousedown").pipe(this.takeUntilDestroy()).subscribe(()=>{this.mouseDown()})}detachListener(){this.mouseDownHandle$&&this.mouseDownHandle$.unsubscribe(),this.mouseUpHandle$&&this.mouseUpHandle$.unsubscribe(),this.mouseMoveHandle$&&this.mouseMoveHandle$.unsubscribe(),this.removeTimeoutListener&&this.removeTimeoutListener()}mouseDown(){if(this.resizeInProgress)return;this.resizeStatusStorage.set(!0);const V=this.elementRef.nativeElement,le=this.columnIndex+1,$e=this.document.querySelector(`#${this.id}`);this.resizeStart.emit(!0),this.setResizeBorderStyle($e),this.columnContainerWidth=this.columnContainer.offsetWidth;const ct=this.document.querySelector(`#${this.id} .sp-col-${le}`);this.initialWidthColumn=V.offsetWidth,this.initialWidthNextColumn=ct.offsetWidth,this.initialSumColumnsFlexWidth=this.getFlexWidthProperty(V.style.flex)+this.getFlexWidthProperty(ct.style.flex),this.addResizeClassToColumn(),this.mouseMoveHandle$=this.domManipulator.listen(this.document,"mousemove").pipe(this.takeUntilDestroy()).subscribe(Bt=>{this.mouseMove(Bt)}),this.mouseUpHandle$=this.domManipulator.listen(this.document,"mouseup").pipe(this.takeUntilDestroy()).subscribe(()=>{this.mouseUp()}),this.addResizeClassToTree()}mouseMove(V){const $e=this.columnIndex+1,Bt=Math.max(V.clientX-this.elementRef.nativeElement.getBoundingClientRect().left,50),Qt=Math.max(this.initialWidthColumn-(Bt-this.initialWidthNextColumn),50),gn=this.convertToPercent(Bt);let Gn=this.convertToPercent(Qt);const io=gn+Gn;io<this.initialSumColumnsFlexWidth?Gn+=this.initialSumColumnsFlexWidth-io:io>this.initialSumColumnsFlexWidth&&(Gn-=io-this.initialSumColumnsFlexWidth),this.columnSizes={column:{index:this.columnIndex,flexBasis:gn},nextColumn:{index:$e,flexBasis:Gn}},this.sizeChanged.emit(this.columnSizes)}mouseUp(){this.elementRef.nativeElement&&this.removeResizeClassFromColumn(),this.mouseUpHandle$&&this.mouseUpHandle$.unsubscribe(),this.mouseMoveHandle$&&this.mouseMoveHandle$.unsubscribe(),this.resizeEnd.emit(this.columnSizes),this.removeResizeClassFromTree()}addResizeClassToColumn(){this.domManipulator.addHostClass(this.COLUMN_RESIZE_ACTIVE_CLASS)}removeResizeClassFromColumn(){this.domManipulator.removeHostClass(this.COLUMN_RESIZE_ACTIVE_CLASS)}convertToPercent(V){return Li.l.round(V/this.columnContainerWidth*100,2)}setResizeBorderStyle(V){const le=V.offsetHeight,ct=this.elementRef.nativeElement.querySelector(".sp-resize-stick");ct&&(ct.style.height=le+"px")}addResizeClassToTree(){const V=this.document.querySelector(`#${this.id}`);this.domManipulator.addClass(V,this.TREE_RESIZE_ACTIVE_CLASS)}removeResizeClassFromTree(){const V=this.document.querySelector(`#${this.id}`);V&&V.classList.contains(this.TREE_RESIZE_ACTIVE_CLASS)&&this.domManipulator.removeClass(V,this.TREE_RESIZE_ACTIVE_CLASS)}getFlexWidthProperty(V){const $e=new RegExp("([\\d\\.]+)%").exec(V);if($e)return+$e[1]}}return ee.\u0275fac=function(V){return new(V||ee)(n.Y36(n.SBq),n.Y36(n.Qsj),n.Y36(yi.N),n.Y36(t.K0))},ee.\u0275dir=n.lG2({type:ee,selectors:[["","spTreeGridResizeColumns",""]],inputs:{resizeEnabled:["spTreeGridResizeColumns","resizeEnabled"],id:["spTreeGridId","id"],columnIndex:["spTreeGridResizeColumnIndex","columnIndex"],columnContainer:["spTreeGridResizeColumnContainer","columnContainer"]},outputs:{resizeStart:"spTreeResizeColumnStart",resizeEnd:"spTreeResizeColumnEnd",sizeChanged:"sizeChanged"},features:[n.qOj,n.TTD]}),ee})();var zi=e(91325),ki=e(70989),mr=e(49415),fi=e(27625),Ji=(e(60213),e(73983),e(89875),e(87872),e(44366));e(43863),e(51345),e(52159);e(36574);let vn=(()=>{class ee{}return ee.\u0275fac=function(V){return new(V||ee)},ee.\u0275mod=n.oAB({type:ee}),ee.\u0275inj=n.cJS({imports:[[t.ez]]}),ee})();var eo=e(28722),$i=(e(77989),e(19269),e(53488)),Eo=e(91771),Xi=(e(19172),e(89536));let fo=(()=>{class ee{}return ee.\u0275fac=function(V){return new(V||ee)},ee.\u0275prov=n.Yz7({token:ee,factory:ee.\u0275fac}),ee})();var wr=e(4683),qi=e(83941),Fr=e(14650),gr=e(83372),er=e(29186),Co=e(73790),li=e(81503),_r=e(16599),Vo=e(95900),Nr=e(22521),Io=e(92574),vr=e(97265),Lo=e(68890),wi=e(94944);function po(ee,Re){1&ee&&n._UZ(0,"div",8)}function Xo(ee,Re){if(1&ee&&(n.TgZ(0,"span",9),n.ALo(1,"spRichTextString"),n._uU(2),n.qZA()),2&ee){const V=Re.data,le=n.oxw();n.Q6J("spTooltipEnabled",le.isTooltipEnabled)("spTooltip",n.lcZ(1,4,V.tooltip))("spTooltipGravity",le.Gravity.WEST),n.xp6(2),n.hij(" ",V.header," ")}}function mi(ee,Re){if(1&ee){const V=n.EpF();n.TgZ(0,"span",11),n.NdJ("click",function(){n.CHM(V);const $e=n.oxw(),ct=$e.data,Bt=$e.dataIndex,Qt=n.oxw();return!Qt.actionPending&&Qt.removeColumn(ct,Bt)}),n.qZA()}if(2&ee){const V=n.oxw(2);n.ekj("pending",V.actionPending)}}function Fi(ee,Re){1&ee&&n.YNc(0,mi,1,2,"span",10),2&ee&&n.Q6J("ngIf",!Re.data.treeExpand)}let ni=(()=>{class ee extends ko.H{constructor(V,le,$e,ct,Bt){super(V,le),this.changeDetectorRef=$e,this.treePerspectiveManager=ct,this.commandRepository=Bt,this.selectConfiguration=(new gr.w).withSelectButtonPlaceholder("SPT_COMMON_MANAGE_COLUMNS_SEARCHBAR_INPUT_PLACEHOLDER").withSelectInputPlaceholder("SPT_COMMON_MANAGE_COLUMNS_SEARCHBAR_BUTTON_PLACEHOLDER").withValueMapper(Qt=>`${Qt.id}`).withTextMapper(Qt=>qi.H.string(Qt.header)).withPrefixForId(ee.PERSPECTIVE_SEARCH_ID).withSearchFieldAvailable().withButtonWidthStyle(ee.SELECT_BUTTON_WIDTH).withIsSuffixIcon(this.treePerspectiveManager.getIsSuffixIcon()),this.actionPending=!1,this.isTooltipEnabled=!0,this.Gravity=Vo.X,this.MINIMAL_COLUMNS_NUMBER=1}ngOnInit(){this.isTooltipEnabled=this.treePerspectiveManager.getIsTooltipEnabled(),this.treeConfiguration=er.Z.default().withColumnHeaders(!1).withDragAndDrop(!1).withSelectNode(!1).withTreeLayout(mt.A.MEDIUM).withContentScroll(!1);const V=this.treePerspectiveManager.observeAvailableColumns(),le=this.treePerspectiveManager.observePerspective();(0,wr.aj)(V,le).pipe(this.takeUntilDestroy()).subscribe(([$e,ct])=>{this.treePerspective=ct,this.selectedTreeColumns=this.treePerspective.getColumnsFromCollection(),this.allTreeColumns=$e,this.selectedTreeColumns&&this.allTreeColumns&&this.setAvailableColumns(),this.changeDetectorRef.detectChanges()}),this.treePerspectiveManager.observerPerspectiveManagerLock().pipe(this.takeUntilDestroy()).subscribe($e=>{this.perspectiveMangerLock=$e,this.changeDetectorRef.detectChanges()})}addColumn(V){this.setActionPending(!0);const le=this.allTreeColumns.find($e=>$e.id===V.value&&$e.configuration.platformInfo.extPlatformId===V.additionalData.extPlatformId);!le||(this.treePerspectiveManager.addColumn(le),this.selectedOption=new Fr.W("",qi.H.string("")),this.resolveActionPendingOnFetchAllColumnViewsSuccessCommand())}removeColumn(V,le){if(this.setActionPending(!0),this.selectedTreeColumns.length===this.MINIMAL_COLUMNS_NUMBER||V.treeExpand)return;const $e=new Eo.n0({nodeId:this.selectedTreeColumns[le].id});this.selectedTreeColumns[le].flex=void 0,this.treePerspectiveManager.removeColumn(le,$e),this.resolveActionPendingOnFetchAllColumnViewsSuccessCommand()}resolveActionPendingOnFetchAllColumnViewsSuccessCommand(){this.commandRepository.waitForCommandByType("FetchAllColumnViewsSuccessCommand").pipe(this.takeUntilDestroy()).subscribe(()=>{this.setActionPending(!1)})}setActionPending(V){this.actionPending!==V&&(this.actionPending=V,this.changeDetectorRef.detectChanges())}setAvailableColumns(){this.availableColumns=this.allTreeColumns}}return ee.PERSPECTIVE_SEARCH_ID="sp-perspective",ee.SELECT_BUTTON_WIDTH=300,ee.\u0275fac=function(V){return new(V||ee)(n.Y36(n.SBq),n.Y36(n.Qsj),n.Y36(n.sBO),n.Y36(Xi.R),n.Y36(Nr.F))},ee.\u0275cmp=n.Xpm({type:ee,selectors:[["sp-tree-perspective-manager"]],features:[n._Bn([{provide:li.o,useValue:Co.c.TEMPLATE},_r.R]),n.qOj],decls:11,vars:8,consts:[["id","sp-perspective-manager-container",1,"sp-perspective-manager-container"],["class","sp-perspective-manager-lock-blanket sp-cursor-wait",4,"ngIf"],[1,"sp-perspective-tree-content"],[3,"treeId","config","nodes"],["flex","0 1 90%",3,"dragButton"],["flex","0 1 50px"],[1,"sp-mt-4"],[3,"configuration","options","selectedOption","selectedOptionChanged"],[1,"sp-perspective-manager-lock-blanket","sp-cursor-wait"],[3,"spTooltipEnabled","spTooltip","spTooltipGravity"],["id","sp-perspective-tree-row-remove-icon","class","sp-perspective-tree-row-remove-icon sp-cursor-pointer fa fa-trash-alt",3,"pending","click",4,"ngIf"],["id","sp-perspective-tree-row-remove-icon",1,"sp-perspective-tree-row-remove-icon","sp-cursor-pointer","fa","fa-trash-alt",3,"click"]],template:function(V,le){1&V&&(n.TgZ(0,"div",0),n.YNc(1,po,1,0,"div",1),n.TgZ(2,"div",2),n.TgZ(3,"sp-treegrid",3),n.TgZ(4,"sp-tree-column-collection"),n.TgZ(5,"sp-tree-column",4),n.YNc(6,Xo,3,6,"ng-template"),n.qZA(),n.TgZ(7,"sp-tree-column",5),n.YNc(8,Fi,1,1,"ng-template"),n.qZA(),n.qZA(),n.qZA(),n.qZA(),n.TgZ(9,"div",6),n.TgZ(10,"sp-select",7),n.NdJ("selectedOptionChanged",function(ct){return le.addColumn(ct)}),n.qZA(),n.qZA(),n.qZA()),2&V&&(n.xp6(1),n.Q6J("ngIf",le.perspectiveMangerLock),n.xp6(2),n.Q6J("treeId","perspective-manager")("config",le.treeConfiguration)("nodes",le.selectedTreeColumns),n.xp6(2),n.Q6J("dragButton",!1),n.xp6(5),n.Q6J("configuration",le.selectConfiguration)("options",le.availableColumns)("selectedOption",le.selectedOption))},directives:[t.O5,Io.l,hi.$,Pi.F,vr.Hr,Lo.i9],pipes:[wi.C],encapsulation:2,changeDetection:0}),ee})();var bo=e(73620),tr=e(76013),nr=e(6083),or=e(74383),ir=e(27609);let Ni=(()=>{class ee extends ir.V{constructor(){super(!0)}}return ee.\u0275fac=function(V){return new(V||ee)},ee.\u0275prov=n.Yz7({token:ee,factory:ee.\u0275fac}),ee})();var Er=e(53770),gi=e(52861),No=e(10703),Cr=e(14878),jn=e(27818),qo=e(73197);e(17637);let So=(()=>{class ee{constructor(){this.dragEnd$=new Sn.xQ}endDrag(){this.dragEnd$.next()}select(){return this.dragEnd$.asObservable()}}return ee.\u0275fac=function(V){return new(V||ee)},ee.\u0275prov=n.Yz7({token:ee,factory:ee.\u0275fac}),ee})(),rr=(()=>{class ee{constructor(V,le,$e,ct,Bt,Qt){this.elementRef=V,this.renderer=le,this.localActionDispatcher=$e,this.dragEndService=ct,this.treeColumnDragEnabledService=Bt,this.document=Qt,this.removeEventListeners$=new Sn.xQ}ngOnChanges(V){V.dropEnabled&&(this.dropEnabled?this.attachListeners():this.detachListeners())}ngOnDestroy(){this.detachListeners()}attachListeners(){const V=this.elementRef.nativeElement;(0,qo.R)(V,"dragenter").pipe((0,qt.R)(this.removeEventListeners$)).subscribe(this.onDragEnter.bind(this)),(0,qo.R)(V,"dragleave").pipe((0,qt.R)(this.removeEventListeners$)).subscribe(this.onDragLeave.bind(this)),(0,qo.R)(V,"dragover").pipe((0,qt.R)(this.removeEventListeners$)).subscribe(this.onDragOver.bind(this))}detachListeners(){this.removeEventListeners$.next()}preventAndStop(V){V.preventDefault&&V.preventDefault(),V.stopPropagation&&V.stopPropagation()}onDragEnter(){this.addDropZoneClass(),this.dragEndSubscription=this.dragEndService.select().subscribe(()=>{this.onDrop()})}onDragLeave(){this.removeDropZoneClass(),this.removeDragEndSubscription()}onDragOver(V){V.preventDefault&&V.preventDefault()}onDrop(){this.treeColumnDragEnabledService.set(!1);const V=new Eo.Wy({columnIndex:this.columnIndex});this.localActionDispatcher.dispatch(V),this.removeAllDropZonesClass(),this.removeDraggedContainer(),this.removeDragEndSubscription()}addDropZoneClass(){const V=this.elementRef.nativeElement.parentNode,le=V.querySelectorAll(".sp-drop-zone-border"),$e=this.document.querySelector(`#${this.treeId}`).offsetHeight;this.renderer.addClass(V,"sp-tree-column-zone-active");for(let ct=0;ct<le.length;ct++)this.renderer.setStyle(le[ct],"height",$e+"px")}removeDropZoneClass(){this.renderer.removeClass(this.elementRef.nativeElement.parentNode,"sp-tree-column-zone-active")}removeAllDropZonesClass(){const V=this.document.querySelectorAll(`#${this.treeId} .sp-tree-column-zone-active`);for(let le=0;le<V.length;le++)this.renderer.removeClass(V[le],"sp-tree-column-zone-active")}removeDragEndSubscription(){this.dragEndSubscription.unsubscribe()}removeDraggedContainer(){const V=this.document.querySelector(".sp-dragged-container");V&&V.parentNode&&V.parentNode.removeChild(V)}}return ee.\u0275fac=function(V){return new(V||ee)(n.Y36(n.SBq),n.Y36(n.Qsj),n.Y36(gi.c),n.Y36(So),n.Y36(Ni),n.Y36(t.K0))},ee.\u0275dir=n.lG2({type:ee,selectors:[["","spTreeDropColumn",""]],inputs:{dropEnabled:["spTreeDropColumn","dropEnabled"],treeId:["spTreeDropColumnTreeId","treeId"],columnIndex:["spTreeDropColumnIndex","columnIndex"]},features:[n.TTD]}),ee})();var Ko=e(65799);const yr=["columnConfigSelector"],Ui=function(ee){return{isExpanded:ee}};function sr(ee,Re){if(1&ee){const V=n.EpF();n.TgZ(0,"span",9),n.NdJ("click",function($e){return n.CHM(V),n.oxw().toggleExpand($e)}),n.ALo(1,"spRichTextString"),n.ALo(2,"spL10nText"),n.qZA()}if(2&ee){const V=n.oxw();n.ekj("sp-toggler-rotate-down",V.allNodesExpanded),n.Q6J("spTooltip",n.lcZ(1,5,n.xi3(2,7,"SPT_SCOPE_TABLE_TOGGLE_EXPAND_ALL",n.VKq(10,Ui,V.allNodesExpanded))))("spTooltipGravity",V.gravity.NORTH),n.uIk("id",V.treeId+"-expand-all-toggler")}}function ps(ee,Re){if(1&ee&&n._UZ(0,"span",10),2&ee){const V=n.oxw();n.ekj("fa-caret-up",!V.column.sortActiveDirection)("fa-caret-down",V.column.sortActiveDirection)}}function Wi(ee,Re){if(1&ee){const V=n.EpF();n.TgZ(0,"sp-tree-column-config-selector",11,12),n.NdJ("onDropdownClick",function($e){return n.CHM(V),n.oxw().onConfigDropdownClick($e)}),n.qZA()}if(2&ee){const V=n.oxw();n.Q6J("column",V.column)}}function hs(ee,Re){1&ee&&n._UZ(0,"div",13)}function Ti(ee,Re){if(1&ee&&n._UZ(0,"div",17),2&ee){const V=n.oxw(2);n.Q6J("spTreeDropColumn",V.columnDragAndDrop)("spTreeDropColumnTreeId",V.treeId)("spTreeDropColumnIndex",V.columnIndex)}}function Vi(ee,Re){1&ee&&n._UZ(0,"span",18)}function fs(ee,Re){1&ee&&n._UZ(0,"span",19)}function Tr(ee,Re){if(1&ee&&(n.ynx(0),n.YNc(1,Ti,1,3,"div",14),n.YNc(2,Vi,1,0,"span",15),n.YNc(3,fs,1,0,"span",16),n.BQk()),2&ee){const V=n.oxw();n.xp6(1),n.Q6J("ngIf",V.dropZoneEnabled),n.xp6(1),n.Q6J("ngIf",V.dropZoneEnabled),n.xp6(1),n.Q6J("ngIf",V.dropZoneEnabled)}}let Ur=(()=>{class ee extends ko.H{constructor(V,le,$e,ct,Bt,Qt,gn,Gn){super(V,le),this.changeDetectorRef=$e,this.tree=ct,this.aggregateTreeId=Bt,this.treeQueryService=Qt,this.localActionDispatcher=gn,this.selectedTreePerspective=Gn,this.sortActive=!1,this.changeSortMethod=new n.vpe,this.gravity=Vo.X,this.dropdownConfigVisible=!1,this.isConfigDropdownOpen=!1,this.treePerspectiveStrategyEnum=Co.c}ngOnInit(){this.selectHostMouseEnterEvent(),this.selectHostMouseLeaveEvent(),this.isExpandAllTogglerEnabled()&&this.column.treeExpand&&(this.setExpandAllTogglerVisibility(),this.allNodesExpanded=this.tree.areNodesExpanded(),this.observeRebuildTreeAction()),this.observeHostClick()}toggleExpand(V){V.stopPropagation(),this.allNodesExpanded?this.collapseAllNodes():this.expandAllNodes()}onConfigDropdownClick(V){this.isConfigDropdownOpen=V,this.changeDetectorRef.detectChanges()}observeHostClick(){this.domManipulator.hostListen("click").pipe(this.takeUntilDestroy()).subscribe(V=>{var le;if(!this.shouldBeIgnored(V)&&(null===(le=this.tree)||void 0===le?void 0:le.getConfig().sorting)){const $e=Li.l.lodashCloneDeep(Object.assign({columnIndex:this.columnIndex},this.column));this.changeSortMethod.emit($e)}})}selectHostMouseEnterEvent(){(0,qo.R)(this.elementRef.nativeElement,"mouseenter").pipe(this.takeUntilDestroy()).subscribe(()=>{this.dropdownConfigVisible=!0,this.changeDetectorRef.detectChanges()})}selectHostMouseLeaveEvent(){(0,qo.R)(this.elementRef.nativeElement,"mouseleave").pipe(this.takeUntilDestroy()).subscribe(()=>{this.dropdownConfigVisible=!1,this.changeDetectorRef.detectChanges()})}expandAllNodes(){this.localActionDispatcher.dispatch(new Eo.g8)}collapseAllNodes(){this.localActionDispatcher.dispatch(new Eo.Ws)}shouldBeIgnored(V){return!!this.columnConfigSelector&&this.columnConfigSelector.nativeElement.contains(V.target)}isExpandAllTogglerEnabled(){return this.tree.getConfig().expandAllToggler}observeRebuildTreeAction(){this.treeQueryService.selectRebuild(this.aggregateTreeId).pipe(this.takeUntilDestroy()).subscribe(()=>{this.allNodesExpanded=this.tree.areNodesExpanded(),this.setExpandAllTogglerVisibility(),this.changeDetectorRef.detectChanges()})}setExpandAllTogglerVisibility(){this.expandAllTogglerVisible=this.tree.parentsExist()}}return ee.\u0275fac=function(V){return new(V||ee)(n.Y36(n.SBq),n.Y36(n.Qsj),n.Y36(n.sBO),n.Y36(Nt.mp),n.Y36(Cr.H),n.Y36(k.p),n.Y36(gi.c),n.Y36(li.o,8))},ee.\u0275cmp=n.Xpm({type:ee,selectors:[["sp-tree-header-cell"]],viewQuery:function(V,le){if(1&V&&n.Gf(yr,5,n.SBq),2&V){let $e;n.iGM($e=n.CRH())&&(le.columnConfigSelector=$e.first)}},inputs:{column:"column",columnConfigSelectorEnabled:"columnConfigSelectorEnabled",resizeEnabled:"resizeEnabled",lastColumn:"lastColumn",editMode:"editMode",columnDragAndDrop:"columnDragAndDrop",resizeProgress:"resizeProgress",dropZoneEnabled:"dropZoneEnabled",treeId:"treeId",columnIndex:"columnIndex",sortActive:"sortActive",perspective:"perspective"},outputs:{changeSortMethod:"changeSortMethod"},features:[n.qOj],decls:11,vars:17,consts:[[1,"sp-header-cell-content",3,"spTooltipOnOverflow","spTooltipEnabled","spTooltip"],["class","sp-tree-header-toggler sp-tree-toggler sp-only-chevron-strategy fa fa-chevron-right",3,"spTooltip","spTooltipGravity","sp-toggler-rotate-down","click",4,"ngIf"],[1,"sp-column-name"],["class","fas",3,"fa-caret-up","fa-caret-down",4,"ngIf"],["id","sp-column-config-selector","class","sp-column-config-selector",3,"column","onDropdownClick",4,"ngIf"],["id","sp-resize-border",1,"sp-resize-border","sp-flex","sp-justify-center"],[1,"sp-resize-stick"],["class","sp-resize-border-content",4,"ngIf"],[4,"ngIf"],[1,"sp-tree-header-toggler","sp-tree-toggler","sp-only-chevron-strategy","fa","fa-chevron-right",3,"spTooltip","spTooltipGravity","click"],[1,"fas"],["id","sp-column-config-selector",1,"sp-column-config-selector",3,"column","onDropdownClick"],["columnConfigSelector",""],[1,"sp-resize-border-content"],["id","sp-column-drop-zone","class","sp-column-drop-zone",3,"spTreeDropColumn","spTreeDropColumnTreeId","spTreeDropColumnIndex",4,"ngIf"],["class","sp-drop-zone-border sp-drop-zone-border-left",4,"ngIf"],["class","sp-drop-zone-border sp-drop-zone-border-right",4,"ngIf"],["id","sp-column-drop-zone",1,"sp-column-drop-zone",3,"spTreeDropColumn","spTreeDropColumnTreeId","spTreeDropColumnIndex"],[1,"sp-drop-zone-border","sp-drop-zone-border-left"],[1,"sp-drop-zone-border","sp-drop-zone-border-right"]],template:function(V,le){1&V&&(n.TgZ(0,"div",0),n.ALo(1,"spRichTextString"),n.YNc(2,sr,3,12,"span",1),n.TgZ(3,"span",2),n._uU(4),n.qZA(),n.YNc(5,ps,1,4,"span",3),n.qZA(),n.YNc(6,Wi,2,1,"sp-tree-column-config-selector",4),n.TgZ(7,"div",5),n._UZ(8,"div",6),n.YNc(9,hs,1,0,"div",7),n.qZA(),n.YNc(10,Tr,4,3,"ng-container",8)),2&V&&(n.ekj("sp-px-2",le.selectedTreePerspective===le.treePerspectiveStrategyEnum.VIEW)("sp-pl-0",le.expandAllTogglerVisible&&!le.editMode),n.Q6J("spTooltipOnOverflow",!0)("spTooltipEnabled",!!le.column.header)("spTooltip",n.lcZ(1,15,le.column.header)),n.xp6(2),n.Q6J("ngIf",le.expandAllTogglerVisible&&!le.editMode),n.xp6(2),n.hij(" ",le.column.header," "),n.xp6(1),n.Q6J("ngIf",le.sortActive),n.xp6(1),n.Q6J("ngIf",(le.dropdownConfigVisible||le.isConfigDropdownOpen)&&le.columnConfigSelectorEnabled),n.xp6(1),n.ekj("sp-disable-resize",le.column.disableResize||!le.resizeEnabled||le.lastColumn||le.editMode),n.xp6(2),n.Q6J("ngIf",le.resizeProgress),n.xp6(1),n.Q6J("ngIf",le.columnDragAndDrop&&le.column.dragEnabled&&!le.resizeProgress&&!le.editMode))},directives:[Lo.i9,t.O5,si.o,rr],pipes:[wi.C,Ko.L],encapsulation:2,changeDetection:0}),ee})();var Wr=e(83417),ms=e(96105);let Di=(()=>{class ee{constructor(V,le,$e,ct,Bt){this.elementRef=V,this.renderer=le,this.localActionDispatcher=$e,this.dragEndService=ct,this.document=Bt,this.removeEventListeners$=new Sn.xQ,this.DRAG_OVER_THROTTLE_TIME=50}ngOnChanges(V){if(V.dragEnabled){const le=this.elementRef.nativeElement;this.renderer.setAttribute(le,"draggable",!0===this.dragEnabled?"true":"false"),this.dragEnabled?(this.attachListeners(),this.renderer.addClass(le,"sp-draggable-column")):(this.detachListeners(),this.renderer.removeClass(le,"sp-draggable-column"))}}ngOnDestroy(){this.detachListeners()}attachListeners(){const V=this.elementRef.nativeElement;(0,qo.R)(V,"dragstart").pipe((0,qt.R)(this.removeEventListeners$)).subscribe(this.onDragStart.bind(this)),(0,qo.R)(V,"dragend").pipe((0,qt.R)(this.removeEventListeners$)).subscribe(this.onDragEnd.bind(this))}detachListeners(){this.removeEventListeners$.next(),this.removeDeleteClassTimeoutListener&&this.removeDeleteClassTimeoutListener(),this.dragOverSubscription&&this.dragOverSubscription.unsubscribe(),this.removeAddClassTimeoutListener&&this.removeAddClassTimeoutListener(),this.removeChangeDropZoneHeightTimeoutListener&&this.removeChangeDropZoneHeightTimeoutListener()}onDragStart(V){const le=this.elementRef.nativeElement,$e=new Eo.h5({toggleDropZone:!0,columnIndex:this.columnIndex});this.setHeaderCellContentWidth(),this.localActionDispatcher.dispatch($e),this.changeDropZoneHeight(),V.dataTransfer.setData("text",""),this.draggedElemContainer=this.document.createElement("div"),this.draggedElemContainer.classList.add("sp-dragged-container"),this.document.body.insertBefore(this.draggedElemContainer,this.document.body.firstChild),this.cloneDraggedTreeColumn=le.cloneNode(!0),this.draggedElemContainer.appendChild(this.cloneDraggedTreeColumn),this.dragOverSubscription=(0,qo.R)(this.document,"dragover").pipe((0,Wr.p)(this.DRAG_OVER_THROTTLE_TIME),(0,ms.x)()).subscribe(ct=>{this.onDragOver(ct)}),this.renderer.setStyle(this.elementRef.nativeElement,"opacity",0),this.addDraggedClass()}onDragEnd(){const V=new Eo.h5({toggleDropZone:!1,columnIndex:this.columnIndex});this.localActionDispatcher.dispatch(V),this.removeDraggedClass(),this.setHeaderCellContentWidth(!0),this.dragEndService.endDrag(),this.dragOverSubscription&&this.dragOverSubscription.unsubscribe()}onDragOver(V){const ct=this.elementRef.nativeElement.getBoundingClientRect().top+window.pageYOffset;this.renderer.setStyle(this.draggedElemContainer,"transform",`translate3d(\n\t\t\t\t\t${V.pageX+10}px,\n\t\t\t\t\t${ct}px,\n\t\t\t\t\t0\n\t\t\t\t)`),this.renderer.setStyle(this.draggedElemContainer,"opacity",1)}addDraggedClass(){const V=setTimeout(()=>{this.renderer.addClass(this.elementRef.nativeElement,"sp-tree-dragged-column")});this.removeAddClassTimeoutListener=()=>clearTimeout(V)}removeDraggedClass(){const V=setTimeout(()=>{const le=this.elementRef.nativeElement;this.draggedElemContainer.parentNode&&this.draggedElemContainer.parentNode.removeChild(this.draggedElemContainer),this.renderer.removeClass(le,"sp-tree-dragged-column"),this.renderer.removeStyle(le,"opacity")});this.removeDeleteClassTimeoutListener=()=>clearTimeout(V)}changeDropZoneHeight(){const V=setTimeout(()=>{const le=this.document.querySelectorAll(`#${this.treeId} .sp-treegrid-header-cell .sp-column-drop-zone`),$e=this.document.querySelector(`#${this.treeId}`).offsetHeight;for(let ct=0;ct<le.length;ct++)this.renderer.setStyle(le[ct],"height",$e+"px")});this.removeChangeDropZoneHeightTimeoutListener=()=>clearTimeout(V)}setHeaderCellContentWidth(V){const le=this.document.querySelectorAll(`#${this.treeId} .sp-treegrid-header-cell .sp-header-cell-content`);for(let $e=0;$e<le.length;$e++)this.renderer.setStyle(le[$e],"width",V?"100%":le[$e].offsetWidth+"px")}}return ee.\u0275fac=function(V){return new(V||ee)(n.Y36(n.SBq),n.Y36(n.Qsj),n.Y36(gi.c),n.Y36(So),n.Y36(t.K0))},ee.\u0275dir=n.lG2({type:ee,selectors:[["","spTreeDragColumn",""]],inputs:{dragEnabled:["spTreeDragColumn","dragEnabled"],treeId:["spTreeDragTreeId","treeId"],columnIndex:["spTreeDragColumnIndex","columnIndex"]},features:[n.TTD]}),ee})();var Vr=e(18217);function Dr(ee,Re){1&ee&&n.GkF(0)}const Kr=function(ee){return{$implicit:ee,last:!1,static:!0}};function xo(ee,Re){if(1&ee&&(n.ynx(0),n.YNc(1,Dr,1,0,"ng-container",6),n.BQk()),2&ee){const V=Re.$implicit;n.oxw();const le=n.MAs(8);n.xp6(1),n.Q6J("ngTemplateOutlet",le)("ngTemplateOutletContext",n.VKq(2,Kr,V))}}function Gr(ee,Re){1&ee&&n.GkF(0)}const Hr=function(ee,Re,V,le){return{$implicit:ee,index:Re,last:V,lastDynamic:le,static:!1}};function Yr(ee,Re){if(1&ee&&(n.ynx(0),n.YNc(1,Gr,1,0,"ng-container",6),n.BQk()),2&ee){const V=Re.$implicit,le=Re.index,$e=Re.last,ct=n.oxw(),Bt=n.MAs(8);n.xp6(1),n.Q6J("ngTemplateOutlet",Bt)("ngTemplateOutletContext",n.l5B(2,Hr,V,le,$e&&!ct.rightStaticColumns.length,$e))}}function mo(ee,Re){1&ee&&n.GkF(0)}const zr=function(ee,Re){return{$implicit:ee,last:Re,static:!0}};function Or(ee,Re){if(1&ee&&(n.ynx(0),n.YNc(1,mo,1,0,"ng-container",6),n.BQk()),2&ee){const V=Re.$implicit,le=Re.last;n.oxw();const $e=n.MAs(8);n.xp6(1),n.Q6J("ngTemplateOutlet",$e)("ngTemplateOutletContext",n.WLB(2,zr,V,le))}}function _i(ee,Re){1&ee&&n._UZ(0,"div",7),2&ee&&n.Udp("flex","0 0 10%")}function gs(ee,Re){if(1&ee&&(n._UZ(0,"span",8),n.ALo(1,"spRichTextI18n")),2&ee){const V=n.oxw();n.Q6J("spInlineDialogInjector",V.injector)("spInlineDialogResolver",V.componentFactoryResolver)("spInlineDialogConfiguration",V.inlineDialogConfiguration)("spTooltip",n.lcZ(1,4,"SPT_SCOPE_TABLE_MANAGE_COLUMNS_TOOLTIP"))}}function ar(ee,Re){if(1&ee){const V=n.EpF();n.TgZ(0,"sp-tree-header-cell",9),n.NdJ("changeSortMethod",function($e){return n.CHM(V),n.oxw().changeSortMethod($e)})("spTreeResizeColumnStart",function($e){return n.CHM(V),n.oxw().onResizeStart($e)})("spTreeResizeColumnEnd",function($e){return n.CHM(V),n.oxw().columnResizeEnd($e)})("sizeChanged",function($e){return n.CHM(V),n.oxw().sizeChanged($e)}),n.qZA()}if(2&ee){const V=Re.$implicit,le=Re.index,$e=Re.lastDynamic,ct=Re.last,Bt=Re.static,Qt=n.oxw(),gn=n.MAs(2);n.Gre("sp-treegrid-header-cell sp-font-bold sp-col-",le," sp-flex sp-items-center"),n.Udp("width",V.width),n.ekj("sp-header-last-cell",ct)("sp-tree-column-drag-start",Qt.dropZoneEnabled)("sp-perspective-manager-enabled",Qt.isPerspectiveManagerEnabled()&&ct)("sp-sortable-column",V.sortEnabled)("sp-static-column",Bt),n.Q6J("column",V)("columnConfigSelectorEnabled",!Bt&&Qt.isColumnConfigSelectorEnabled())("resizeEnabled",Qt.resizeEnabled&&!$e&&!Bt&&Qt.draggingEnabled)("lastColumn",ct)("editMode",Qt.editMode)("columnDragAndDrop",Qt.columnDragAndDrop&&!Bt)("resizeProgress",Qt.resizeProgress)("dropZoneEnabled",Qt.dropZoneEnabled)("treeId",Qt.treeId)("columnIndex",le)("sortActive",V.sortActive)("spTreeGridResizeColumns",Qt.resizeEnabled&&!Qt.editMode)("spTreeGridId",Qt.treeId)("spTreeGridResizeColumnIndex",le)("spTreeGridResizeColumnContainer",gn)("spTreeDragColumn",Qt.columnDragAndDrop&&V.dragEnabled&&!Qt.resizeProgress&&!Qt.editMode&&!Bt&&Qt.draggingEnabled)("spTreeDragTreeId",Qt.treeId)("spTreeDragColumnIndex",le)("ngClass",V.cssClass),n.uIk("id",V.id)("column-index",le)}}let Oi=(()=>{class ee extends ko.H{constructor(V,le,$e,ct,Bt,Qt,gn,Gn,io,Gi,dr,Si,Mr,Xr,qr,es){super(V,le),this.componentFactoryResolver=$e,this.injector=ct,this.changeDetectorRef=Bt,this.tree=Qt,this.draggedColumn=gn,this.localActionDispatcher=Gn,this.localActions$=io,this.treePerspectiveManager=Gi,this.treeQueryService=dr,this.treeGridId=Si,this.treeInlineAddRepository=Mr,this.treeInlineAddConfigStorage=Xr,this.resizeStatusStorage=qr,this.treeColumnDragEnabledService=es,this.leftStaticColumns=[],this.rightStaticColumns=[],this.editMode=!1,this.addMode=!1,this.INDENT_FACTOR=28,this.columnConfigSelectorClick=!1,this.subscription=new $i.w}ngOnChanges(V){if(V.perspective&&this.perspective&&(this.resizeProgress||this.treeColumnDragEnabledService.set(!0),this.updateHeaderColumns()),V.leftStaticColumns&&this.leftStaticColumns&&(this.leftStaticColumns=this.processColumns(this.leftStaticColumns)),V.rightStaticColumns&&this.rightStaticColumns&&(this.rightStaticColumns=this.processColumns(this.rightStaticColumns)),V.groupingNestingLevel){const le=(Number(this.groupingNestingLevel)||0)*this.INDENT_FACTOR;le>0?(this.domManipulator.addHostStyle("margin-left",`${le}px`),this.domManipulator.addHostStyle("width",`calc(100% - ${le}px)`)):(this.domManipulator.removeHostStyle("margin-left"),this.domManipulator.removeHostStyle("width"))}}ngOnInit(){this.localActions$.ofTreeAction(Eo.MF.ENTER_EDIT_MODE).pipe(this.takeUntilDestroy()).subscribe(()=>{this.editMode=!0}),this.localActions$.ofTreeAction(Eo.MF.EXIT_EDIT_MODE).pipe(this.takeUntilDestroy()).subscribe(()=>{this.editMode=!1}),this.localActions$.ofTreeAction(Eo.MF.COLUMN_CONFIG_SELECTOR_CLICK).pipe(this.takeUntilDestroy()).subscribe(V=>{this.columnConfigSelectorClick=V.payload}),this.localActions$.ofTreeAction(Eo.MF.COLUMN_DRAG).pipe(this.takeUntilDestroy()).subscribe(V=>{this.dragStart(V)}),this.localActions$.ofTreeAction(Eo.MF.COLUMN_DROP).pipe(this.takeUntilDestroy()).subscribe(V=>{this.onDrop(V)}),this.treeColumnDragEnabledService.select().pipe(this.takeUntilDestroy()).subscribe(V=>{this.draggingEnabled=V}),this.isPerspectiveManagerEnabled()&&(this.inlineDialogConfiguration=new tr.U(ni,{},or.e.CLICK,null,nr.x.HORIZONTAL_BOTTOM,bo.a.ELEMENT).withCssClassesToPreventClose(["sp-option-element","sp-menu-wrapper","sp-search-field-wrapper"]).withDialogPositionMargin(this.getDialogPositionMargin())),this.selectRebuildEvent(),this.selectInlineAddVisibleStatus()}onResizeStart(V){this.toggleResizeProgress(V)}finalize(){this.subscription.unsubscribe()}toggleResizeProgress(V){V!==this.resizeProgress&&(this.resizeProgress=V,this.treeColumnDragEnabledService.set(!V),this.changeDetectorRef.detectChanges())}toggleDropZone(V){this.dropZoneEnabled=V,this.changeDetectorRef.detectChanges()}dragStart(V){const le=V.payload,ct=le.columnIndex;this.toggleDropZone(le.toggleDropZone),this.draggedColumn.index=ct}sizeChanged(V){const $e=V.nextColumn,ct=this.elementRef.nativeElement,Bt=ct.querySelector(`.sp-col-${V.column.index}`),Qt=ct.querySelector(`.sp-col-${$e.index}`);this.domManipulator.addStyle(Bt,"width",this.getWidthStyle(V).columnWidth),this.domManipulator.addStyle(Qt,"width",this.getWidthStyle(V).nextColumnWidth)}columnResizeEnd(V){V?this.updatePerspective(V):this.unlockResize()}onDrop(V){const $e=this.draggedColumn.index,ct=V.payload.columnIndex;this.draggedColumn.index=null,this.toggleDropZone(!1);let Bt=this.perspective.clone();Bt=Bt.changeColumnPosition($e,ct);const Qt=new Eo.MR({nodeId:this.columns[$e].id,nodeIndex:ct});this.treePerspectiveManager.updatePerspective(Bt,Qt).pipe(this.takeUntilDestroy()).subscribe(gn=>{gn&&this.localActionDispatcher.dispatch(new Eo.Q5(Bt))})}changeSortMethod(V){var le,$e;if(this.tree.getConfig().sorting&&!this.editMode&&V.isSortable&&(null===(le=V.aggregation)||void 0===le?void 0:le.value)===Er.H.toString()&&(V.sortEnabled||V.isSortable)&&!this.columnConfigSelectorClick){const ct={fieldId:V.fieldId,columnId:V.id,direction:!V.sortActiveDirection,columnName:V.name,aggregationValue:null===($e=V.aggregation)||void 0===$e?void 0:$e.value,isSortable:V.isSortable,columnIndex:V.columnIndex};this.localActionDispatcher.dispatch(new Eo.TE(ct))}}isColumnConfigSelectorEnabled(){return this.isPerspectiveManagerEnabled()&&this.tree.getConfig().columnSelectorConfig.enabled}isPerspectiveManagerEnabled(){return this.tree.getConfig().perspectiveManagerConfiguration.enabled}getHostClasses(){return["sp-treegrid-header-row"]}getDialogPositionMargin(){return this.tree.getConfig().perspectiveManagerConfiguration.dialogPositionMargin}updateHeaderColumns(){const V=this.perspective.getCollectionForHeader();this.columns=this.processColumns(V.getTreeColumns()),this.unlockResize()}updatePerspective(V){const le=this.perspective.clone(),$e=le.getCollectionForHeader(),ct=$e.cloneTreeColumns(),Bt=this.getColumnFlex(ct[V.column.index]),Qt=this.getColumnFlex(ct[V.nextColumn.index]);ct[V.column.index].flex=`${Bt.flexGrow} ${Bt.flexShrink} ${this.getWidthStyle(V).columnWidth}`,ct[V.nextColumn.index].flex=`${Qt.flexGrow} ${Qt.flexShrink} ${this.getWidthStyle(V).nextColumnWidth}`,$e.setTreeColumns(ct);const gn=new Eo.wO({firstColumn:{nodeId:ct[V.column.index].id,flex:ct[V.column.index].flex},secondColumn:{nodeId:ct[V.nextColumn.index].id,flex:ct[V.nextColumn.index].flex}});this.treePerspectiveManager.updatePerspective(le,gn).pipe(this.takeUntilDestroy()).subscribe(()=>{this.treePerspectiveManager.changeSelectedPerspective(le),this.unlockResize()},()=>{this.resetTreeHeaderColumnFlexStyle(V),this.unlockResize()})}unlockResize(){this.resizeStatusStorage.set(!1),this.toggleResizeProgress(!1)}resetTreeHeaderColumnFlexStyle(V){const $e=V.nextColumn,ct=this.elementRef.nativeElement,Bt=ct.querySelector(`.sp-col-${V.column.index}`),Qt=ct.querySelector(`.sp-col-${$e.index}`);this.domManipulator.addStyle(Bt,"flex",this.columns[V.column.index].flex),this.domManipulator.addStyle(Qt,"flex",this.columns[V.nextColumn.index].flex)}processColumns(V){return V.map(le=>(le.flex&&(le.width=this.getColumnFlex(le).flexBasis),le))}getWidthStyle(V){return{columnWidth:`${V.column.flexBasis}%`,nextColumnWidth:`${V.nextColumn.flexBasis}%`}}getColumnFlex(V){const le=V.flex.split(" ");return{flexGrow:le[0],flexShrink:le[1],flexBasis:le[2]}}selectRebuildEvent(){this.treeQueryService.selectRebuild(this.treeGridId).pipe(this.takeUntilDestroy()).subscribe(()=>{this.addMode||(this.editMode=!1,this.changeDetectorRef.detectChanges())})}selectInlineAddVisibleStatus(){this.treeInlineAddRepository.selectInlineAddVisibleStatus(this.treeGridId).pipe((0,Fe.h)(()=>this.treeInlineAddConfigStorage.isDialogEnabled(this.treeGridId)),this.takeUntilDestroy()).subscribe(V=>{this.addMode=V,this.editMode=V,this.changeDetectorRef.detectChanges()})}}return ee.\u0275fac=function(V){return new(V||ee)(n.Y36(n.SBq),n.Y36(n.Qsj),n.Y36(n._Vd),n.Y36(n.zs3),n.Y36(n.sBO),n.Y36(Nt.mp),n.Y36(fo,2),n.Y36(gi.c),n.Y36(No.e),n.Y36(Xi.R),n.Y36(k.p),n.Y36(Cr.H),n.Y36(wt.I),n.Y36(tt.r),n.Y36(yi.N),n.Y36(Ni))},ee.\u0275cmp=n.Xpm({type:ee,selectors:[["sp-tree-header"]],inputs:{perspective:"perspective",treeId:"treeId",resizeEnabled:"resizeEnabled",columnDragAndDrop:"columnDragAndDrop",headerInlineActionColumn:"headerInlineActionColumn",groupingNestingLevel:"groupingNestingLevel",leftStaticColumns:"leftStaticColumns",rightStaticColumns:"rightStaticColumns"},features:[n._Bn([fo]),n.qOj,n.TTD],decls:9,vars:5,consts:[[4,"ngFor","ngForOf"],[1,"sp-dynamic-header-column-container"],["dynamicColumnContainer",""],["class","sp-tree-header-inline-action-column",3,"flex",4,"ngIf"],["id","sp-tree-header-add-perspective-column","spInlineDialog","","class","sp-add-perspective-column-icon fa fa-cog sp-cursor-pointer sp-text-l",3,"spInlineDialogInjector","spInlineDialogResolver","spInlineDialogConfiguration","spTooltip",4,"ngIf"],["headerCellTemplate",""],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"sp-tree-header-inline-action-column"],["id","sp-tree-header-add-perspective-column","spInlineDialog","",1,"sp-add-perspective-column-icon","fa","fa-cog","sp-cursor-pointer","sp-text-l",3,"spInlineDialogInjector","spInlineDialogResolver","spInlineDialogConfiguration","spTooltip"],[3,"column","columnConfigSelectorEnabled","resizeEnabled","lastColumn","editMode","columnDragAndDrop","resizeProgress","dropZoneEnabled","treeId","columnIndex","sortActive","spTreeGridResizeColumns","spTreeGridId","spTreeGridResizeColumnIndex","spTreeGridResizeColumnContainer","spTreeDragColumn","spTreeDragTreeId","spTreeDragColumnIndex","ngClass","changeSortMethod","spTreeResizeColumnStart","spTreeResizeColumnEnd","sizeChanged"]],template:function(V,le){1&V&&(n.YNc(0,xo,2,4,"ng-container",0),n.TgZ(1,"div",1,2),n.YNc(3,Yr,2,7,"ng-container",0),n.qZA(),n.YNc(4,Or,2,5,"ng-container",0),n.YNc(5,_i,1,2,"div",3),n.YNc(6,gs,2,6,"span",4),n.YNc(7,ar,1,36,"ng-template",null,5,n.W1O)),2&V&&(n.Q6J("ngForOf",le.leftStaticColumns),n.xp6(3),n.Q6J("ngForOf",le.columns),n.xp6(1),n.Q6J("ngForOf",le.rightStaticColumns),n.xp6(1),n.Q6J("ngIf",le.headerInlineActionColumn),n.xp6(1),n.Q6J("ngIf",le.isPerspectiveManagerEnabled()&&le.inlineDialogConfiguration))},directives:[t.sg,t.O5,t.tP,jn.Z,Lo.i9,Ur,Kn,Di,t.mk],pipes:[Vr.d],styles:[".sp-treegrid-header-row{position:relative;display:flex;flex-grow:0;width:100%;height:30px;border-bottom:2px solid var(--gray-20);background:var(--color-bg)}.sp-treegrid-header-row .sp-add-perspective-column-icon{position:absolute;top:2px;right:0;width:20px;height:26px;padding-top:5px;padding-left:2px;color:var(--gray-500);background:var(--color-bg)}.sp-treegrid-header-row .sp-add-perspective-column-icon:hover{color:var(--color-font)}.sp-treegrid-header-row .sp-dynamic-header-column-container{display:flex;flex:1;overflow:hidden}.sp-treegrid-header-cell{font-size:.75rem;position:relative;white-space:nowrap;color:var(--gray-400);text-transform:uppercase;padding:5px 10px;flex:0 1 auto}.sp-treegrid-header-cell .sp-tree-header-toggler{margin-left:3px}.sp-treegrid-header-cell .sp-header-cell-content{display:flex;flex:1;overflow:hidden;text-overflow:ellipsis;align-items:center}.sp-treegrid-header-cell .sp-header-cell-content .sp-tree-toggler{margin-top:0}.sp-treegrid-header-cell .sp-header-cell-content .sp-column-name{width:100%}.sp-treegrid-header-cell .sp-column-config-selector{display:inline-block}.sp-treegrid-header-cell .sp-column-config-selector .sp-selector-icon{color:var(--gray-400)}.sp-treegrid-header-cell.sp-key-column .sp-header-cell-content .sp-column-name{padding-left:32px}.sp-treegrid-header-cell.sp-key-column-with-drag-button .sp-header-cell-content .sp-column-name{padding-left:43px}.sp-treegrid-header-cell.sp-header-last-cell:not(.sp-static-column){flex-grow:1}.sp-treegrid-header-cell.sp-header-last-cell .sp-resize-border{display:none}.sp-treegrid-header-cell.sp-perspective-manager-enabled{padding-right:25px}.sp-treegrid-header-cell:hover .sp-resize-border .sp-resize-stick,.sp-treegrid-header-cell.sp-resize-active .sp-resize-border .sp-resize-stick{min-width:3px;background-color:var(--gray-50)}.sp-treegrid-header-cell .sp-resize-border{position:absolute;top:0;right:-3px;z-index:1;width:3px;height:100%;padding:0 6px}.sp-treegrid-header-cell .sp-resize-border:hover{cursor:col-resize}.sp-treegrid-header-cell .sp-resize-border.sp-disable-resize{display:none!important}.sp-treegrid-header-cell .sp-resize-border .sp-resize-border-content{position:fixed;width:2px;background:var(--color-font);z-index:5}.sp-treegrid-header-cell .sp-resize-border .sp-resize-stick{height:100%;width:3px}.sp-treegrid-header-cell.sp-tree-column-drag-start{overflow:inherit}.sp-treegrid-header-cell.sp-tree-column-drag-start .sp-resize-border{display:none}.sp-treegrid-header-cell.sp-draggable-column,.sp-treegrid-header-cell.sp-sortable-column{cursor:pointer}.sp-treegrid-header-cell.sp-draggable-column:hover,.sp-treegrid-header-cell.sp-sortable-column:hover{background:var(--gray-20)}.sp-treegrid-header-cell.sp-tree-dragged-column{background:var(--gray-20);color:var(--gray-20);opacity:1!important;overflow:hidden}.sp-treegrid-header-cell.sp-tree-dragged-column .sp-column-drop-zone{display:none}.sp-treegrid-header-cell .sp-column-drop-zone{position:absolute;top:0;left:0;width:100%;margin:0;z-index:6}.sp-drop-zone-border{position:absolute;display:none;width:3px;top:0;background:var(--green-300);z-index:5}.sp-tree-column-zone-active .sp-column-drop-zone{background:var(--yellow-50);opacity:.5}.sp-tree-column-zone-active .sp-drop-zone-border-left{display:block;left:-4px}.sp-tree-column-zone-active .sp-drop-zone-border-right{display:block;right:1px}.sp-perspective-manager-container{width:300px;position:relative}.sp-perspective-manager-container .sp-perspective-manager-lock-blanket{position:absolute;top:0;left:0;width:100%;height:100%;z-index:20}.sp-perspective-manager-container .sp-perspective-tree-content{height:200px;overflow-y:auto;border-bottom:1px solid var(--gray-50)}.sp-perspective-manager-container .sp-perspective-tree-content sp-tree-node:last-child .sp-treegrid-row{border-color:transparent}.sp-perspective-manager-container .sp-perspective-tree-content .sp-treegrid-row:hover .sp-perspective-tree-row-remove-icon:not(.pending){color:var(--color-font)}.sp-perspective-manager-container .sp-perspective-tree-content .sp-treegrid-row-cell:last-child{justify-content:flex-end}.sp-perspective-manager-container .sp-perspective-tree-content .sp-perspective-tree-row-remove-icon{color:var(--gray-50)}.sp-perspective-manager-container .sp-perspective-tree-content .sp-perspective-tree-row-remove-icon.pending{color:var(--gray-20);pointer-events:none}\n"],encapsulation:2,changeDetection:0}),ee})();e(91490),e(8423),e(3133),e(16054),e(33268),e(22857);var Qo=e(24250),oi=(e(49439),e(34296)),Ki=e(4199),Ii=e(80150),Ci=(e(11830),e(68561),e(70365)),jr=e(27831),_s=e(65993),Sr=e(85013),vs=e(74388),Zr=e(65389),Qr=e(62475),xr=e(1030),Jr=e(82245),ur=e(25895),ho=e(28579),ei=e(26566),oe=(e(66662),e(86219),e(33945)),j=e(58156),W=e(58264);const te=[zi.o,{provide:It.r,useValue:new It.r({})},Wn.h,Nn.F,_o.r,Fn.L,{provide:vo.h,useClass:Bo},Fo.s,_r.R,Ii.p,Je.X,oi.Y,...sn,...B,Je.X,Qo.Y,Ci.M,K.G,w.m,ke.u,ki.N,_e.N,mr.J,Jr.t,_n.j,So,Ni,ht.Z,Vn.k,(0,Yn.u)(rt),(0,Yn.u)(lo),(0,Yn.u)(nt),(0,Yn.u)(me),(0,Yn.u)(Wt),(0,Yn.u)(an),(0,Yn.u)(go),(0,Yn.u)(ao),(0,Yn.u)(Tn),(0,Yn.u)(Xn),(0,Yn.u)(We),C.bb,Ki.l,wt.I,tt.r,ur.e,M.j,Ji.r],Be=new n.OlP("global tree config");function ze(ee){return new It.r(ee)}let ut=(()=>{class ee{static forRoot(V){return{ngModule:ee,providers:[...te,{provide:Be,useValue:V},{provide:It.r,useFactory:ze,deps:[Be]}]}}}return ee.\u0275fac=function(V){return new(V||ee)},ee.\u0275mod=n.oAB({type:ee}),ee.\u0275inj=n.cJS({imports:[[t.ez,Zr.Qr.withConfig({loggers:!1}),eo.v.forRoot(),i.F,f.G,a.t,oe.Q,vs.K.forRoot(),E.A.forRoot(),d.C,_s.k.forRoot(),Lo.z8,v.o,Sr.D.forRoot(),vn,m.Z,o.K,h.$,p.f,s.J,r.L,Qr.o,xr.l,ho.X,ei.n],eo.v]}),ee})();n.B6R(Io.l,[t.mk,j.C,t.O5,Oi,Lo.i9,jr.F,W.N,fi.u],[Ko.L,wi.C])},10107:(S,g,e)=>{"use strict";e.d(g,{j:()=>i});var t=e(89731),n=e(84046),s=e(26009);let i=(()=>{class r{constructor(o){this.commandDispatcher=o}toggleToInlineAddMode(o,d,h,p){this.commandDispatcher.dispatch(new t.M(o,d,h,p))}}return r.\u0275fac=function(o){return new(o||r)(n.LFG(s.h))},r.\u0275prov=n.Yz7({token:r,factory:r.\u0275fac}),r})()},17386:(S,g,e)=>{"use strict";e.d(g,{m:()=>s});var t=e(94062),n=e(84046);let s=(()=>{class i extends t._{compare(a,o){return a.toString()===o.toString()}}return i.\u0275fac=function(){let r;return function(o){return(r||(r=n.n5z(i)))(o||i)}}(),i.\u0275prov=n.Yz7({token:i,factory:i.\u0275fac}),i})()},67761:(S,g,e)=>{"use strict";e.d(g,{G:()=>r});var t=e(70822),n=e(71726),s=e(94062),i=e(84046);let r=(()=>{class a extends s._{compare(d,h){return d.toString()===h.toString()}getIds(d){const h=this.get(d);return h?h.map(p=>p.id):[]}getNodes(d){return this.get(d)||[]}selectSelectedItems(d){return this.changes().pipe((0,t.h)(h=>this.compare(d,h)),(0,n.U)(h=>this.get(h)))}selectIds(d){return this.select(d).pipe((0,n.U)(h=>h.map(p=>p.id)),(0,t.h)(h=>h.length>0))}}return a.\u0275fac=function(){let o;return function(h){return(o||(o=i.n5z(a)))(h||a)}}(),a.\u0275prov=i.Yz7({token:a,factory:a.\u0275fac}),a})()},25895:(S,g,e)=>{"use strict";e.d(g,{e:()=>s});var t=e(25344),n=e(84046);let s=(()=>{class i extends t.g{constructor(){super()}}return i.\u0275fac=function(a){return new(a||i)},i.\u0275prov=n.Yz7({token:i,factory:i.\u0275fac}),i})()},34826:(S,g,e)=>{"use strict";e.d(g,{p:()=>m});var t=e(70822),n=e(71726),s=e(89055),i=e(99646),r=e(84724),a=e(81530),o=e(61988),d=e(56678),h=e(84046),p=e(70129),f=e(5047);let m=(()=>{class v{constructor(C,T,y,I,P,L){this.treeRepository=C,this.treeSelectedItemsRepository=T,this.treeScrollTopChangeRepository=y,this.snippedItemVerticallyTopPositionRepository=I,this.commandBus=P,this.eventBus=L}select(C){return this.treeRepository.select(C)}selectSelectedItemIds(C){return this.treeSelectedItemsRepository.select(C)}selectRebuild(C){return this.eventBus.pipe((0,t.h)(T=>T.getType()===a.U.type),(0,n.U)(()=>null))}selectSetTreeEvent(C){return this.eventBus.pipe((0,t.h)(T=>T.getAggregateId()&&T.getAggregateId().toString()===C.toString()&&T.getType()===o.b.type),(0,n.U)(()=>null))}selectScrollTopChange(C){return this.treeScrollTopChangeRepository.select(C)}selectSnippedItemVerticallyTopPosition(C){return this.snippedItemVerticallyTopPositionRepository.select(C).pipe((0,n.U)(T=>T.top))}}return v.\u0275fac=function(C){return new(C||v)(h.LFG(p.a),h.LFG(i.H),h.LFG(s.x),h.LFG(r.k),h.LFG(d.M),h.LFG(f.N))},v.\u0275prov=h.Yz7({token:v,factory:v.\u0275fac}),v})()},92520:(S,g,e)=>{"use strict";e.d(g,{d:()=>t});class t{constructor(s,i){this.value=s,this.label=i}}},78742:(S,g,e)=>{"use strict";e.d(g,{M:()=>o});var t=e(90850),n=e(35811),s=e(50292),i=e(84046),r=e(14878),a=e(70129);let o=(()=>{class d{constructor(p,f){this.treeId=p,this.treeRepository=f,this.actualLayout=s.A.NORMAL,this.unsubscribe$=new t.xQ,f.select(p).pipe((0,n.R)(this.unsubscribe$)).subscribe(m=>{this.setLayout(m.getLayout())})}ngOnDestroy(){this.unsubscribe$.next(),this.unsubscribe$.complete()}setLayout(p){this.actualLayout=p}getLayout(){return this.actualLayout}getNodeHeight(){if(!this.actualLayout)return 41;switch(this.actualLayout){case s.A.ULTRA_COMPACT:return 17;case s.A.COMPACT:return 25;case s.A.MEDIUM:return 33;case s.A.NORMAL:return 41;case s.A.WIDE:return 49;default:return 41}}}return d.\u0275fac=function(p){return new(p||d)(i.LFG(r.H),i.LFG(a.a))},d.\u0275prov=i.Yz7({token:d,factory:d.\u0275fac}),d})()},30684:(S,g,e)=>{"use strict";e.d(g,{N:()=>t});var t=(()=>{return(n=t||(t={}))[n.ONLY_CHEVRON=0]="ONLY_CHEVRON",n[n.CHEVRON_WITH_LINES=1]="CHEVRON_WITH_LINES",n[n.NONE=2]="NONE",t;var n})()},91771:(S,g,e)=>{"use strict";e.d(g,{MF:()=>t,pP:()=>n,EQ:()=>r,Ce:()=>a,g8:()=>o,Ws:()=>d,$I:()=>h,s5:()=>p,Q5:()=>f,Se:()=>m,FK:()=>v,TE:()=>C,F5:()=>T,V7:()=>y,MR:()=>I,wO:()=>P,n0:()=>L,h5:()=>b,Wy:()=>x,SF:()=>B,uK:()=>M});const t={EXPAND_NODE:"EXPAND_NODE",COLLAPSE_NODE:"COLLAPSE_NODE",EXPAND_ALL:"EXPAND_ALL",COLLAPSE_ALL:"COLLAPSE_ALL",ENTER_EDIT_MODE:"ENTER_EDIT_MODE",EXIT_EDIT_MODE:"EXIT_EDIT_MODE",CHANGE_PERSPECTIVE:"CHANGE_PERSPECTIVE",LOCK_TREE:"LOCK_TREE",LOCK_TREE_SUCCESS:"LOCK_TREE_SUCCESS",LOCK_TREE_FAIL:"LOCK_TREE_FAIL",SORT:"SORT",CLEAR_SORTING:"CLEAR_SORTING",SELECT_NODE:"SELECT_NODE",SELECT_NEXT_NODE:"SELECT_NEXT_NODE",SELECT_PREVIOUS_NODE:"SELECT_PREVIOUS_NODE",UPDATE_COLUMN:"UPDATE_COLUMN",CHANGE_COLUMN_ORDER:"CHANGE_COLUMN_ORDER",CHANGE_COLUMN_FLEX_STYLES:"CHANGE_COLUMN_FLEX_STYLES",REMOVE_COLUMN:"REMOVE_COLUMN",COLUMN_CONFIG_SELECTOR_CLICK:"COLUMN_CONFIG_SELECTOR_CLICK",COLUMN_DRAG:"COLUMN_DRAG",COLUMN_DROP:"COLUMN_DROP",SCROLLED_TO_BOTTOM:"SCROLLED_TO_BOTTOM",RELOAD_NODES:"RELOAD_NODES"};class n{constructor(K){this.payload=K,this.type=t.SELECT_NODE}}class r{constructor(K){this.payload=K,this.type=t.EXPAND_NODE}}class a{constructor(K){this.payload=K,this.type=t.COLLAPSE_NODE}}class o{constructor(K){this.payload=K,this.type=t.EXPAND_ALL}}class d{constructor(K){this.payload=K,this.type=t.COLLAPSE_ALL}}class h{constructor(K){this.payload=K,this.type=t.ENTER_EDIT_MODE}}class p{constructor(K){this.payload=K,this.type=t.EXIT_EDIT_MODE}}class f{constructor(K){this.payload=K,this.type=t.CHANGE_PERSPECTIVE}}class m{constructor(K){this.payload=K,this.type=t.LOCK_TREE}}class v{constructor(K){this.payload=K,this.type=t.LOCK_TREE_SUCCESS}}class C{constructor(K){this.payload=K,this.type=t.SORT}}class T{constructor(K){this.payload=K,this.type=t.CLEAR_SORTING}}class y{constructor(K){this.payload=K,this.type=t.UPDATE_COLUMN}}class I{constructor(K){this.payload=K,this.type=t.CHANGE_COLUMN_ORDER}}class P{constructor(K){this.payload=K,this.type=t.CHANGE_COLUMN_FLEX_STYLES}}class L{constructor(K){this.payload=K,this.type=t.REMOVE_COLUMN}}class b{constructor(K){this.payload=K,this.type=t.COLUMN_DRAG}}class x{constructor(K){this.payload=K,this.type=t.COLUMN_DROP}}class B{constructor(K){this.payload=K,this.type=t.SCROLLED_TO_BOTTOM}}class M{constructor(K){this.payload=K,this.type=t.RELOAD_NODES}}},52861:(S,g,e)=>{"use strict";e.d(g,{c:()=>s});var t=e(84046),n=e(49578);let s=(()=>{class i{constructor(a){this.localActionsSubject$=a}dispatch(a){this.localActionsSubject$.next(a)}}return i.\u0275fac=function(a){return new(a||i)(t.LFG(n.r))},i.\u0275prov=t.Yz7({token:i,factory:i.\u0275fac}),i})()},10703:(S,g,e)=>{"use strict";e.d(g,{e:()=>r});var t=e(32731),n=e(70822),s=e(84046),i=e(49578);let r=(()=>{class a extends t.y{constructor(d){super(),d&&(this.source=d)}lift(d){const h=new a;return h.source=this,h.operator=d,h}ofTreeAction(...d){return this.pipe((0,n.h)(h=>d.some(p=>p===h.type)))}}return a.\u0275fac=function(d){return new(d||a)(s.LFG(i.r))},a.\u0275prov=s.Yz7({token:a,factory:a.\u0275fac}),a})()},49578:(S,g,e)=>{"use strict";e.d(g,{r:()=>s});var t=e(90850),n=e(84046);let s=(()=>{class i extends t.xQ{}return i.\u0275fac=function(){let r;return function(o){return(r||(r=n.n5z(i)))(o||i)}}(),i.\u0275prov=n.Yz7({token:i,factory:i.\u0275fac}),i})()},17637:(S,g,e)=>{"use strict";e.d(g,{x:()=>d});var t=e(32931),n=e(89744),s=e(19327),i=e(85703),r=e(53770),a=e(52777),o=e(73198);class d{constructor(p){this.fieldCollectionFactory=p,this.decorators=[],this.sortActive=!1,this.sortActiveDirection=!0,this.sortEnabled=!1,this.isSortable=!1}static create(p,f){const m=new d(f);return m.id=p.id?p.id:(0,i.Hu)(),m.cssClass=p.cssClass,m.field=p.field,m.header=p.header,m.treeExpand=p.treeExpand,m.flex=p.flex,m.validators=p.validators,m.styles=p.styles,m.disableResize=p.disableResize,m.dragButton=p.dragButton,m.template=p.template,m.formField=p.formField,m.dragEnabled=p.dragEnabled,m.sortEnabled=p.sort,m}static fromAnemia(p,f){const m=new d(f);return m.id=p.id?p.id:p.name+p.type,m.header=p.label,p.aggregation&&p.aggregation.value!==r.H.toString()?m.header+=` [${p.aggregation.label}]`:p.distribute&&p.distribute.value!==r.H.toString()&&(m.header+=` [${p.distribute.label}]`),m.fieldId=p.fieldId,m.name=p.name,m.type=p.type,m.decorators=p.decorators,m.aggregation=p.aggregation,m.distribute=p.distribute,m.decoratorType=p.decoratorType,m.configuration=p.configuration,m.origin=p.origin,m.tooltip=p.tooltip,m.sortEnabled=t.O.exist(p.type),m.isSortable=p.isSortable,p.origin&&(m.configuration.isSuffixIcon=!0,m.configuration.suffixIconTooltip=p.tooltip,m.configuration.suffixIconLinkURL=p.configuration.linkURL,m.configuration.platformInfo={},m.configuration.platformInfo.extPlatformId=p.origin.id,n.c.isBuiltIn(p.origin)?m.configuration.suffixIcon=new a.J("window",s.B.BLUE.backgroundStyle,o.z.REGULAR):m.configuration.suffixIconURL=p.configuration.iconURL),p.treeExpander&&(m.treeExpand=p.treeExpander),p.configuration&&p.configuration.flex&&(m.flex=p.configuration.flex),m.dragEnabled=!0,m}clone(){return Object.assign(new d(this.fieldCollectionFactory),this)}composeSortMethod(){const p=this.getSortDirectionFactor();return(f,m)=>{if(this.type)return p*t.O.getComparator(this.type).compare(this.accessor(f),this.accessor(m))}}getSortDirectionFactor(){return this.sortActiveDirection?-1:1}accessor(p){return this.fieldCollectionFactory.getDataValueFromRaw(p.columns,this.fieldId)}}},22489:(S,g,e)=>{"use strict";e.d(g,{R:()=>s});var t=e(45522),n=e(84046);let s=(()=>{class i{constructor(a){this.treeColumnAvailabilityResolverStorage=a}transform(a,o){const d=this.treeColumnAvailabilityResolverStorage.get();return null===d||d.resolve(o,a)}}return i.\u0275fac=function(a){return new(a||i)(n.Y36(t.G,16))},i.\u0275pipe=n.Yjl({name:"spTreeColumnAvailable",type:i,pure:!0}),i})()},45522:(S,g,e)=>{"use strict";e.d(g,{G:()=>s});var t=e(27609),n=e(84046);let s=(()=>{class i extends t.V{constructor(){super(null)}}return i.\u0275fac=function(a){return new(a||i)},i.\u0275prov=n.Yz7({token:i,factory:i.\u0275fac}),i})()},17666:(S,g,e)=>{"use strict";e.d(g,{v:()=>s});var t=e(78134);let s=(()=>{class i{constructor(){this.name=i.defaultName,this.inlineEdit=!1,this.inlineDelete=!1,this.treeColumns=[]}static create(a){const o=new i;return o.name=a.name,o.inlineEdit=a.inlineEdit,o.inlineDelete=a.inlineDelete,o.setTreeColumns(a.treeColumns),o}getName(){return this.name?this.name:i.defaultName}getInlineEdit(){return this.inlineEdit}getInlineDelete(){return this.inlineDelete}getTreeColumns(){return this.treeColumns?this.treeColumns:[]}getActiveSortMethod(){const a=this.treeColumns.find(o=>o.sortActive);return a?a.composeSortMethod():null}setActiveSort(a,o=!0){for(const d of this.treeColumns)d.sortActive=a===d.id,d.sortActive&&(d.sortActiveDirection=o)}setActiveSortByFieldId(a,o=!0,d){this.treeColumns.forEach((h,p)=>{var f;h.sortActive=(null==a?void 0:a.toString())===(null===(f=h.fieldId)||void 0===f?void 0:f.toString())&&p===d,h.sortActive&&(h.sortActiveDirection=o)})}setTreeColumns(a){this.treeColumns=a,this.isViewPerspective()&&this.adjustColumnsFlexStyle()}setInlineEdit(a){this.inlineEdit=a}setInlineDelete(a){this.inlineDelete=a}setPerspective(a){this.perspective=a}setPerspectiveType(a){this.perspectiveType=a}isTemplatePerspective(){return!this.perspectiveType}isViewPerspective(){return this.perspectiveType}cloneTreeColumns(){const a=[];return this.treeColumns.forEach(o=>{a.push(o.clone())}),a}adjustColumnsFlexStyle(){this.treeColumns=class{static adjustColumnsFlexStyle(r,a,o){let d=100,h=r.map(p=>p.clone());return h.length<1||((a||o)&&(d-=10),h=t.y.recalculate(r,"flex",d)),h}}.adjustColumnsFlexStyle(this.treeColumns,this.inlineEdit,this.inlineDelete)}}return i.defaultName="defaultName",i})()},59278:(S,g,e)=>{"use strict";e.d(g,{$:()=>s});var t=e(90850),n=e(84046);let s=(()=>{class i{constructor(){this.treeColumnCollectionChanged$=new t.xQ}setTreeColumnCollection(a){this.treeColumnCollection=a,this.treeColumnCollectionChanged$.next(a)}observeTreeColumnCollection(){return this.treeColumnCollectionChanged$.asObservable()}}return i.\u0275fac=function(a){return new(a||i)},i.\u0275prov=n.Yz7({token:i,factory:i.\u0275fac}),i})()},20059:(S,g,e)=>{"use strict";e.d(g,{z:()=>s});var t=e(90850),n=e(84046);let s=(()=>{class i{constructor(){this.changed$=new t.xQ}observeChanges(){return this.changed$.asObservable()}setTreeColumn(a){this.treeColumn=a,this.changed$.next(this.treeColumn)}}return i.\u0275fac=function(a){return new(a||i)},i.\u0275prov=n.Yz7({token:i,factory:i.\u0275fac}),i})()},42940:(S,g,e)=>{"use strict";e.d(g,{g:()=>n});var t=e(19461);class n extends t.m{constructor(i,r){super(i),this.treeId=i,this.layout=r}}},9046:(S,g,e)=>{"use strict";e.d(g,{k:()=>t});class t{constructor(){}withCreate(s){return this.create=s,this}withUpdate(s){return this.update=s,this}withDelete(s){return this.delete=s,this}withMove(s){return this.move=s,this}clone(){return Object.assign(new t,this)}}t.default=(new t).withCreate(()=>new Promise(n=>{n(!0)})).withUpdate(()=>new Promise(n=>{n(!0)})).withDelete(()=>new Promise(n=>{n(!0)})).withMove((n,s,i)=>new Promise(r=>{r(!0)}))},29186:(S,g,e)=>{"use strict";e.d(g,{Z:()=>f});var t=e(99650),n=e(17483),s=e(674),i=e(53950),r=e(50292),a=e(30684),o=e(38341),d=e(98765),h=e(26612),p=e(90978);class f{constructor(){this.mappers={hasNotLoadedChild:v=>v.hasChild&&v.hasChild>0,areChildrenLoaded:v=>v.loaded,resolveColumnsSet:v=>""},this.dropZones={topZone:!0,centerZone:!0,bottomZone:!0},this.customActions=new t.m,this.transparentBorder=!1,this.internalSorting=!0,this.disableMultiselect=!1,this.selectChildren=!0,this.bottomGradientVisible=!1}static default(){return(new f).withColumnHeaders(!0).withChildrenField("children").withDynamicCreate(!1).withCompareMarkedNodes((v,E)=>v.id===E).withIsDisabled(v=>!1).withDragAndDrop(!1).withDropZones({topZone:!0,centerZone:!0,bottomZone:!0}).withDisabledDropZone(!1).withStickyDragRow(!1).withColumnDragAndDrop(!1).withColumnResize(!0).withLoadingAnimation(!1).withAddTaskSection(!1).withContentScroll(!1).withSelectNode(!0).withCustomActions(new t.m).withCollapseAnimation(!0).withInlineDelete(!1).withInlineEdit(!1).withHeaderInlineActionColumn(!1).withPerspectiveManager(i.h.default()).withColumnSelectorConfig(s.p.default()).withUserSettings(p.u.default).withViewportRender(n.t.default()).withNodesExpandedAtStart(!0).withSorting(!1).withLSKeyNodeToScrollAtStart(null).withLockTreeAction(!0).withExpandedStoredInLS(!0).withTreeShortcutsEnabled(!1).withNodesExternalDropZone(!1).withTreeRowHierarchyStrategy(a.N.ONLY_CHEVRON).withTreeLayout(r.A.NORMAL).withOverflowEnabled(!0).withBlockExpand(!1).withNodesCssClassResolver(h.Y.DEFAULT).withExpandAllToggler(!1).withTreeDropZonesResolver(new o.X).withDispatchActionWhenScrolledToBottom(!1).withTreeNodeSelectResolver(new d.E)}extend(v){const E=Object.assign({},this.mappers,v.mappers);Object.assign(this,v),this.mappers=E}assign(v){const E=f.default();for(const C in v)v.hasOwnProperty(C)&&(E[C]=v[C]);return E}withDisableMultiselect(v){return this.disableMultiselect=v,this}withSelectChildren(v){return this.selectChildren=v,this}withColumnHeaders(v){return this.columnHeaders=v,this}withTransparentBorder(v){return this.transparentBorder=!0,this}withHeadersFromSet(v){return this.headersFromSet=v,this}withMappers(v){return this.mappers=Object.assign(this.mappers,v),this}withChildrenField(v){return this.childrenField=v,this}withDynamicCreate(v){return this.dynamicCreate=v,this}withCompareMarkedNodes(v){return this.compareMarkedNodes=v,this}withIsDisabled(v){return this.isDisabled=v,this}withDragAndDrop(v){return this.dragAndDrop=v,this}withDisabledDropZone(v){return this.disabledDropZone=v,this}withDropZones(v){return this.dropZones=v,this}withStickyDragRow(v){return this.stickyDragRow=v,this}withColumnDragAndDrop(v){return this.columnDragAndDrop=v,this}withColumnResize(v){return this.columnResize=v,this}withLoadingAnimation(v){return this.nodeLoadingAnimation=v,this}withAddTaskSection(v){return this.addTaskSection=v,this}withContentScroll(v){return this.contentScroll=v,this}withSelectNode(v){return this.selectNode=v,this}withCustomActions(v){return this.customActions=Object.assign(this.customActions,v),this}withInlineDelete(v){return this.inlineDelete=v,this}withInlineEdit(v){return this.inlineEdit=v,this}withHeaderInlineActionColumn(v){return this.headerInlineActionColumn=v,this}withCollapseAnimation(v){return this.collapseAnimation=v,this}withPerspectiveManager(v){return this.perspectiveManagerConfiguration=v,this}withColumnSelectorConfig(v){return this.columnSelectorConfig=v,this}withUserSettings(v){return this.userSettingsConfiguration=v,this}withExpandedNodeIds(v){return this.expandedNodeIds=v,this}withNodesExpandedAtStart(v){return this.expandedAtStart=v,this}withExpandedStoredInLS(v){return this.expandedStoredInLs=v,this}withViewportRender(v){return this.treeViewportRenderConfiguration=v,this.treeViewportRenderConfiguration.enabled&&this.withContentScroll(!0),this}withSorting(v){return this.sorting=v,this}withInternalSorting(v){return this.internalSorting=v,this}withLSKeyNodeToScrollAtStart(v){return this.nodeLSKey=v,this}withLockTreeAction(v){return this.lockTreeAction=v,this}withTreeShortcutsEnabled(v){return this.treeShortcutsEnabled=v,this}withTreeLayout(v){return this.treeLayout=v,this}withNodesExternalDropZone(v){return this.externalDropZone=v,this}withExternalDropZoneHeight(v){return this.externalDropZoneHeight=v,this}withTreeRowHierarchyStrategy(v){return this.treeRowHierarchyStrategy=v,this}withBlockExpand(v){return this.blockExpand=v,this}withTreeDropZonesResolver(v){return this.treeDropZonesResolver=v,this}withTreeNodeSelectResolver(v){return this.treeNodeSelectResolver=v,this}isNodeLoadingAnimationEnabled(){return this.nodeLoadingAnimation}isUserSettingsStoringEnabled(){return this.userSettingsConfiguration.localStorage}withOverflowEnabled(v){return this.overflowEnabled=v,this}withNodesCssClassResolver(v,E=!0){return this.treeNodesCssClassResolver=v,this.customTreeCssClass=E,this}withColumnAvailabilityResolver(v){return this.treeColumnAvailabilityResolver=v,this}withExpandAllToggler(v){return this.expandAllToggler=v,this}withTreeCollapseNodeResolver(v){return this.collapseNodeResolver=v,this}withTreeCollapseAllResolver(v){return this.collapseAllResolver=v,this}withTreeExpandNodeResolver(v){return this.expandNodeResolver=v,this}withTreeExpandAllResolver(v){return this.expandAllResolver=v,this}withTreeNotLoadedNodesResolver(v){return this.notLoadedNodesResolver=v,this}withTreeScrollTopChangeResolver(v){return this.treeScrollTopChangeResolver=v,this}withDispatchActionWhenScrolledToBottom(v){return this.dispatchActionWhenScrolledToBottom=v,this}withCustomSortResolver(v){return this.customSortResolver=v,this}withBottomGradient(){return this.bottomGradientVisible=!0,this}}},99650:(S,g,e)=>{"use strict";e.d(g,{m:()=>t});class t{constructor(){this.onNodeClick=()=>{},this.onNodeDblClick=()=>{}}withOnNodeClick(s){return this.onNodeClick=s,this}withOnNodeDblClick(s){return this.onNodeDblClick=s,this}}},17483:(S,g,e)=>{"use strict";e.d(g,{t:()=>t});let t=(()=>{class n{constructor(){}static default(){return(new n).withViewPortRender(!1).withAdditionalTasksOnViewport(n.ADDITIONAL_TASKS_ON_VIEWPORT_COUNT).withScrollDebounceTime(n.SCROLL_DEBOUNCE_TIME).withRenderViewportOnResize(!0)}withViewPortRender(i){return this.enabled=i,this}withAdditionalTasksOnViewport(i){return this.additionalTasksInViewport=i,this}withRenderViewportOnResize(i){return this.renderViewportOnResize=i,this}withScrollDebounceTime(i){return this.scrollDebounceTime=i,this}}return n.ADDITIONAL_TASKS_ON_VIEWPORT_COUNT=70,n.SCROLL_DEBOUNCE_TIME=20,n})()},61218:(S,g,e)=>{"use strict";e.d(g,{B:()=>n});var t=e(19461);class n extends t.m{constructor(i){super(i),this.treeId=i}getTreeId(){return this.treeId}}},19838:(S,g,e)=>{"use strict";e.d(g,{u:()=>r});var t=e(90850),n=e(70822),s=e(71726),i=e(84046);let r=(()=>{class a{constructor(){this.selectedChildrenMap=new Map,this.treeId$=new t.xQ}setSelectedItemsChildrenForTree(d,h){this.selectedChildrenMap.set(d,h),this.treeId$.next(d)}selectSelectedItemsChildrenIds(d){return this.treeId$.pipe((0,n.h)(h=>d.equals(h)),(0,s.U)(h=>this.selectedChildrenMap.get(h)))}}return a.\u0275fac=function(d){return new(d||a)},a.\u0275prov=i.Yz7({token:a,factory:a.\u0275fac}),a})()},81074:(S,g,e)=>{"use strict";e.d(g,{K:()=>n});var t=e(19461);class n extends t.m{constructor(i,r){super(i),this.treeId=i,this.node=r}getNode(){return this.node}getTreeId(){return this.treeId}}},31326:(S,g,e)=>{"use strict";e.d(g,{F:()=>n});var t=e(19461);class n extends t.m{constructor(i,r,a){super(i),this.originTreeId=i,this.destinationNode=r,this.nodeIndex=a}getTreeId(){return this.originTreeId}getDestinationNode(){return this.destinationNode}getNodeIndex(){return this.nodeIndex}}},27651:(S,g,e)=>{"use strict";e.d(g,{p:()=>n});var t=e(81871);class n extends t.n{constructor(i,r,a,o,d){super(i,r),this.originTreeId=r,this.destinationNode=a,this.selectedItems=o,this.nodeIndex=d}getTreeId(){return this.originTreeId}getDestinationNode(){return this.destinationNode}getNodeIndex(){return this.nodeIndex}getSelectedItems(){return this.selectedItems}}},52367:(S,g,e)=>{"use strict";e.d(g,{Z:()=>s});var t=e(25344),n=e(84046);let s=(()=>{class i extends t.g{}return i.\u0275fac=function(){let r;return function(o){return(r||(r=n.n5z(i)))(o||i)}}(),i.\u0275prov=n.Yz7({token:i,factory:i.\u0275fac}),i})()},38341:(S,g,e)=>{"use strict";e.d(g,{X:()=>t});class t{isDropZoneTopEnabled(s){return!0}isDropZoneCenterEnabled(s){return!0}isDropZoneBottomEnabled(s){return!0}isDragNodeEnable(s){return!0}}},91676:(S,g,e)=>{"use strict";e.d(g,{c:()=>s});var t=e(90850),n=e(84046);let s=(()=>{class i{constructor(){this.internalEvents$=new t.xQ}observeEvents(){return this.internalEvents$.asObservable()}dispatch(a){this.internalEvents$.next(a)}}return i.\u0275fac=function(a){return new(a||i)},i.\u0275prov=n.Yz7({token:i,factory:i.\u0275fac}),i})()},28241:(S,g,e)=>{"use strict";e.d(g,{GM:()=>t,P3:()=>n,q9:()=>a});const t={DRAG_START:"DRAG_START",DRAG_END:"DRAG_END",ON_DROP:"ON_DROP",INLINE_DELETE_CLICK:"INLINE_DELETE_CLICK"};class n{constructor(){this.type=t.DRAG_START}}class a{constructor(d){this.node=d,this.type=t.INLINE_DELETE_CLICK}}},63906:(S,g,e)=>{"use strict";e.d(g,{r:()=>t});class t{constructor(s){this.singleNodeSelection=!1,this.inlineEdit=!1,this.inlineDelete=!1,s&&(s.singleNodeSelection&&(this.singleNodeSelection=s.singleNodeSelection),s.inlineEdit&&(this.inlineEdit=s.inlineEdit),s.inlineDelete&&(this.inlineDelete=s.inlineDelete))}}t.default=new t},28819:(S,g,e)=>{"use strict";e.d(g,{mp:()=>f,qI:()=>m,_3:()=>v,OF:()=>E,xb:()=>C});var t=e(97809);class n{constructor(){this.flatListOfNodes=[],this.numberOfCollapsedNodes=0}buildNodes(y){return this.flatListOfNodes=[],this.numberOfCollapsedNodes=0,y.forEach(I=>{this.setNodePositionIncludedCollapsedNodes(I),this.addNodeToList(I);const P=I.children;P&&P.length&&this.searchNode(P,I)}),[...this.flatListOfNodes]}searchNode(y,I){for(let P=0;P<y.length;P++){const L=y[P];if(!I.isExpanded()){this.numberOfCollapsedNodes+=I.rawTreeNode.childrenCount;break}this.setNodePositionIncludedCollapsedNodes(L),this.addNodeToList(L);const F=L.children;F&&F.length&&this.searchNode(F,L)}}setNodePositionIncludedCollapsedNodes(y){y.nodePositionIncludedCollapsedNodes=y.getNodePosition()-this.numberOfCollapsedNodes}addNodeToList(y){this.flatListOfNodes.push(y)}}let s=(()=>{class T{constructor(I){this.config=I,this.position=0}validateFirstRawNode(I){if(void 0!==I[T.NODES_COUNT_PROP])throw new Error(`Tree: raw node cannot have property ${T.NODES_COUNT_PROP}`);if(void 0!==I[T.NODE_POSITION])throw new Error(`Tree: raw node cannot have property ${T.NODE_POSITION}`)}enrichRawNodes(I){this.position=0;for(let L=0;L<I.length;L+=1){const F=I[L],b=this.getChildren(F),x=b.length;if(F[T.NODE_POSITION]=this.position++,F[T.NODE_LEVEL]=0,F&&b&&x>0){const B=this.searchNode(b,0);F[T.NODES_COUNT_PROP]=x+B}else F[T.NODES_COUNT_PROP]=0}}getNodePositionById(I,P){let L=-1;return null===I||(L=this.setNodePosition(I,P,L)),L}searchNode(I,P){let L=0;const F=P+1;for(let b=0;b<I.length;b+=1){const x=I[b],B=this.getChildren(x),M=B.length;if(x[T.NODE_POSITION]=this.position++,x[T.NODE_LEVEL]=F,x&&B&&M>0){const w=this.searchNode(B,F);x[T.NODES_COUNT_PROP]=M+w,L+=M+w}else x[T.NODES_COUNT_PROP]=0}return L}getChildren(I){return I[this.config.childrenField]||[]}setNodePosition(I,P,L){return P.forEach(F=>{F.id===I?L=F.nodePosition:F.children&&F.children.length>0&&F.children.forEach(()=>{L=this.setNodePosition(I,F.children,L)})}),L}}return T.NODES_COUNT_PROP="childrenCount",T.NODE_POSITION="nodePosition",T.NODE_LEVEL="nodeLevel",T})();var i=e(9046),r=e(29186);let a=(()=>{class T{constructor(){this.clear()}getIndex(){return this.index}setIndex(I){this.index=I}isExpanded(I){return this.index[I]||T.FALLBACK}hasRecord(I){return void 0!==this.index[I]}addNode(I,P=!0){Object.assign(this.index,{[`${I}`]:P})}addNodes(I){I.forEach(P=>{this.addNode(P)})}keys(){return Object.keys(this.index)}size(){return Object.keys(this.index).length}clear(){this.index={}}expandAll(){for(const I in this.index)this.index[I]=!0}collapseAll(){for(const I in this.index)this.index[I]=!1}}return T.FALLBACK=!1,T})();class o{constructor(){this.expandedNodes=new a,this.expandedNodesFromConfig=new a,this.expandedNodesFromLS=new a,this.expandAllForced=!1,this.collapseAllForced=!1}isExpanded(y,I=!1){return!!this.expandAllForced||!this.collapseAllForced&&(this.expandedNodesFromConfig.hasRecord(y)?this.expandedNodesFromConfig.isExpanded(y):this.expandedNodes.isExpanded(y))}hasRecord(y){return this.expandedNodes.hasRecord(y)||this.expandedNodesFromConfig.hasRecord(y)}forceExpand(){this.expandAllForced=!0}stopForcingExpand(){this.expandAllForced=!1}forceCollapse(){this.collapseAllForced=!0}stopForcingCollapse(){this.collapseAllForced=!1}buildExpandedNodeIndex(y){y.children.forEach(I=>{I.isExpanded()&&this.expandedNodes.addNode(I.id,!0),Array.isArray(I.children)&&this.buildExpandedNodeIndex(I)})}expandedNode(y,I){this.expandedNodes.addNode(y,I),this.saveExpandedNodesInLs()}markNodesAsExpanded(y){this.expandedNodes.addNodes(y),this.saveExpandedNodesInLs()}setUserSettings(y){this.userSettings=y,this.expandedNodesFromLS.setIndex(this.userSettings.expandedNodesIndex),this.expandedNodes.setIndex(this.userSettings.expandedNodesIndex)}clear(){this.expandedNodes.clear()}expandAll(){this.expandedNodes.expandAll()}collapseAll(){this.expandedNodes.collapseAll()}saveExpandedNodesInLs(){this.userSettings.changeExpandedNodes(this.expandedNodes.getIndex())}}class d{constructor(){this.nodesVersionMap=new Map,this.defaultVersion=0,this.clear()}setVersion(y,I){this.nodesVersionMap.set(y,I)}getVersion(y){return this.nodesVersionMap.get(y)||this.defaultVersion}updateVersion(y){const I=this.getVersion(y);this.setVersion(y,I+1)}updateAllVersion(){this.nodesVersionMap.forEach((y,I)=>{this.updateVersion(I)})}clear(){this.nodesVersionMap.clear()}}var h=e(70162),p=e(84046);let f=(()=>{class T{constructor(){this.markedNodeId=null,this.rawNodes=[],this.loadingNodeIds={},this.position=0,this.trees=[],this.treeExpander=new o,this.flatListOfNodes=[],this.config=r.Z.default(),this.draggedNodeId=null,this.treeFlatListBuilder=new n,this.expandAllNodes=!0,this.firstBuild=!0,this.trees$=new t.t(1),this.treeNodeVersioner=new d,this.updateAllNodesVersion=!1,this.allNodesExpanded=!0,this.actions=i.k.default.clone()}observeNodes(){return this.trees$.asObservable()}setUserSettings(I){this.userSettings=I,this.treeExpander.setUserSettings(I)}setTreeId(I){this.treeId=I}getTreeId(){return this.treeId}setLocalActionDispatcher(I){this.localActionDispatcher=I}setTreeCommandDispatcher(I){this.treeCommandDispatcher=I}setAggregateTreeId(I){this.aggregateTreeId=I}getUserSettings(){return this.userSettings}getAggregateTreeId(){return this.aggregateTreeId}setConfig(I){const P=Object.assign({},this.config.mappers,I.mappers);Object.assign(this.config,I),this.config.mappers=P,this.setVPREnricher(this.config)}setNodes(I){if(I&&!h.isEqual(I,this.rawNodes)){if(this.rawNodes=I,!this.perspective)return;this.updateAllNodesVersion&&(this.getTreeNodeVersioner().updateAllVersion(),this.updateAllNodesVersion=!1),this.buildTree(),this.expandAllNodes=!1}I&&0===I.length&&(this.expandAllNodes=!0,this.buildTree())}setActions(I){Object.assign(this.actions,I)}setColumnView(I){this.perspective=I,this.updateAllNodesVersion=!0,this.buildTree()}setVPREnricher(I){this.treeViewportRenderingEnricher=new s(I)}getFlatListOfNodes(){return this.flatListOfNodes}getConfig(){return this.config}expandNode(I,P){const L=P?this.getConfig().expandNodeResolver:this.getConfig().collapseNodeResolver;L?L.execute(I).then(()=>{this.expandNodeSync(I,P)}):this.expandNodeSync(I,P)}isExpanded(I){return this.expandAllNodes?this.treeExpander.hasRecord(I)?this.treeExpander.isExpanded(I,this.firstBuild):this.config.expandedAtStart:this.treeExpander.isExpanded(I,this.firstBuild)}hasExpandRecord(I){return this.treeExpander.hasRecord(I)}parentsExist(){return!(!this.treeRoot||!this.treeRoot.getChildren())&&this.treeRoot.getChildren().some(P=>this.isExpandable(P))}areNodesExpanded(){return this.allNodesExpanded=!0,this.treeRoot.hasChildren()&&this.recuCheckNodesExpanded(this.treeRoot.getChildren()),this.allNodesExpanded}isDisabled(I){return this.config.isDisabled(I)}isLoading(I){return this.loadingNodeIds[I]}isLoaded(I){return this.getConfig().mappers.areChildrenLoaded(I.getData())}isExpandable(I){return this.getConfig().mappers.hasNotLoadedChild(I.getData())||I.hasChildren()}getChildrenField(){return this.config.childrenField||"children"}setMarkedNodeId(I){this.markedNodeId=I}buildTree(){!this.rawNodes||(this.prepareRawData(),this.treeRoot=C({[this.getChildrenField()]:this.rawNodes},null,this,this.getChildrenField(),0),this.trees=[...this.treeRoot.children],this.flatListOfNodes=this.treeFlatListBuilder.buildNodes(this.trees),this.trees$.next(this.trees),this.buildExpandedNodeIndex(this.treeRoot),this.expandAllNodes&&this.rawNodes&&this.rawNodes.length>0&&(this.expandAllNodes=!1),this.firstBuild=!1,this.treeCommandDispatcher&&this.aggregateTreeId&&this.rebuildTree())}moveNode(I,P,L=-1){if(I===P||I.hasDeepChild(P))return;const F=I.nodeIndex,b=I.parent,x=this.copyNodesChildren(b);x.splice(F,1),b.rawTreeNode[this.getChildrenField()]=x,b.buildChildren(this);const B=this.copyNodesChildren(P);-1===L?B.push(I.rawTreeNode):B.splice(L,0,I.rawTreeNode),P.rawTreeNode[this.getChildrenField()]=B,P.buildChildren(this),this.expandNode(P.id,!0)}dispatchAction(I){this.localActionDispatcher&&this.localActionDispatcher.dispatch(I)}rebuildTree(){this.treeCommandDispatcher.rebuild(this.aggregateTreeId)}clearExpandedNodeIndex(){this.treeExpander.clear(),this.expandAllNodes=!0}expandAll(){const I=this.getConfig().expandAllResolver;I?I.execute().then(()=>{this.expandAllSync()}):this.expandAllSync()}collapseAll(){const I=this.getConfig().collapseAllResolver;I?I.execute().then(()=>{this.collapseAllSync()}):this.collapseAllSync()}markNodesAsExpanded(I){this.treeExpander.markNodesAsExpanded(I)}getNodeById(I){return Array.isArray(I)?this.treeRoot.getChildren()?I.map(P=>m.searchNode(this.treeRoot.getChildren(),P)).filter(P=>void 0!==P):[]:this.treeRoot.getChildren()?m.searchNode(this.treeRoot.getChildren(),I):null}getTreeViewportRenderingEnricher(){return this.treeViewportRenderingEnricher}getDraggedNodeId(){return this.draggedNodeId}getTreeNodeVersioner(){return this.treeNodeVersioner}markForUpdate(I){this.getTreeNodeVersioner().updateVersion(I)}markAllForUpdate(){this.getTreeNodeVersioner().updateAllVersion()}getTreeExpander(){return this.treeExpander}expandAllSync(){this.treeExpander.expandAll(),this.treeExpander.forceExpand(),this.buildTree(),this.buildExpandedNodeIndex(this.treeRoot),this.treeExpander.stopForcingExpand()}collapseAllSync(){this.treeExpander.collapseAll(),this.treeExpander.forceCollapse(),this.buildTree(),this.buildExpandedNodeIndex(this.treeRoot),this.treeExpander.stopForcingCollapse()}expandNodeSync(I,P){this.treeExpander.expandedNode(I,P),P&&Object.assign(this.loadingNodeIds,{[`${I}`]:P}),this.buildTree()}recuCheckNodesExpanded(I){I.forEach(P=>{const L=!this.isExpandable(P)||P.isExpanded();L||(this.allNodesExpanded=L),P.hasChildren()&&this.recuCheckNodesExpanded(P.getChildren())})}copyNodesChildren(I){return void 0===I.rawTreeNode[this.getChildrenField()]&&(I.rawTreeNode[this.getChildrenField()]=[]),I===this.treeRoot?I.rawTreeNode[this.getChildrenField()]:[...I.rawTreeNode[this.getChildrenField()]]}buildExpandedNodeIndex(I){this.treeExpander.buildExpandedNodeIndex(I),this.treeExpander.saveExpandedNodesInLs()}prepareRawData(){this.sortRawNodes(),this.enrichRawNodes()}sortRawNodes(){if(this.perspective){if(this.firstBuild){const I=this.userSettings.getSort();this.perspective.setSortColumn(I.columnId,I.direction)}if(this.perspective.getSortMethod()){const I=this.perspective.getSortMethod();this.rawNodes.sort(I)}}}enrichRawNodes(){this.getTreeViewportRenderingEnricher().enrichRawNodes(this.rawNodes)}}return T.\u0275fac=function(I){return new(I||T)},T.\u0275prov=p.Yz7({token:T,factory:T.\u0275fac}),T})();class m{constructor(y,I,P,L,F=0){if(this.rawTreeNode=y,this.parent=I,this.tree=P,this.childrenField=L,this.nodeIndex=F,this.data={},this.nodeLevel=0,this.nodePositionIncludedCollapsedNodes=0,this.isLoaded=!0,this.version=0,this.opened=!0,this.data=Object.assign(this.data,y),this.data&&this.data.id&&(this.id=`${this.data.id}`),null!==this.parent&&this.rawTreeNode&&void 0===this.rawTreeNode.id){const b="TreeNode must have id property.";throw console.error(b),new Error(b)}this.updateVersion(P),this.setNodePosition(),this.setNodeLevel(),this.setIsGroupChild(),y[L]&&(this.children=[]),y[L]&&y[L].length>0?(P.getTreeExpander().hasRecord(this.id)||!P.getConfig().expandedAtStart?this.opened=P.isExpanded(this.id):!1===y.opened||!1===y.open||!1===y.expanded?this.opened=!1:(!0===y.opened||!0===y.open||!1===y.expanded)&&(this.opened=!0),this.buildChildren(P)):this.opened=!1,this.isLoaded=!1!==y.isLoaded}static searchNode(y,I){for(const P of y){if(P.id===I)return P;if(P.hasChildren()){const L=this.searchNode(P.getChildren(),I);if(L)return L}}}static getNodeByPosition(y,I){for(const P of y){if(P.nodePositionIncludedCollapsedNodes===I)return P;if(P.hasChildren()){const L=this.getNodeByPosition(P.getChildren(),I);if(L)return L}}}getId(){return this.id}getVersion(){return this.version}getData(){return this.data}getChildren(){return this.children}getRawTreeNode(){return this.rawTreeNode}getParent(){return this.parent}getIsGroup(){return!1}getNodePosition(){return this.nodePosition}getNodePositionIncludingCollapsedNodes(){return this.nodePositionIncludedCollapsedNodes}equals(y){return this.id===y.id}isExpanded(){return this.opened}isLastNode(){return this.nodeIndex===this.parent.children.length-1}hasChildren(){return this.rawTreeNode[this.childrenField]&&this.rawTreeNode[this.childrenField].length>0}hasDeepChild(y){let I=!1;if(y===this)return!0;if(this.hasChildren())for(let P=0;P<this.children.length;P+=1)if(I=this.children[P].hasDeepChild(y),I)return!0;return I}buildChildren(y){const I=this;this.children=this.rawTreeNode[this.childrenField].map((P,L)=>C(P,I,y,y.getChildrenField(),L))}getTree(){return this.tree}updateVersion(y){const I=y.getTreeNodeVersioner();this.version=I.getVersion(this.id),I.setVersion(this.id,this.version)}setNodePosition(){this.nodePosition=this.rawTreeNode&&this.rawTreeNode.nodePosition>=0?this.rawTreeNode.nodePosition:-1}setNodeLevel(){this.nodeLevel=this.rawTreeNode.nodeLevel}setIsGroupChild(){let y=!1,I=this.getParent();for(;!y&&I;)y=I.getIsGroup(),I=I.getParent();this.isGroupChild=y}}class v extends m{constructor(y,I,P,L,F=0){super(y,I,P,L,F),this.rawTreeNode=y,this.parent=I,this.tree=P,this.childrenField=L,this.nodeIndex=F,this.color=null,this.color=y&&"function"==typeof y.getColor?y.getColor():null,this.groupName=y&&"function"==typeof y.getGroupName?y.getGroupName():""}getIsGroup(){return!0}}class E extends m{constructor(y,I,P,L,F=0){super(y,I,P,L,F),this.rawTreeNode=y,this.parent=I,this.tree=P,this.childrenField=L,this.nodeIndex=F}}function C(T,y,I,P,L){return T&&"function"==typeof T.isGroup&&T.isGroup()?new v(T,y,I,P,L):new E(T,y,I,P,L)}},89731:(S,g,e)=>{"use strict";e.d(g,{M:()=>n});var t=e(19461);class n extends t.m{constructor(i,r,a,o){super(i),this.treeId=i,this.siblingNodeId=r,this.indent=a,this.selectedDropdownItemId=o}}},83020:(S,g,e)=>{"use strict";e.d(g,{I:()=>a});var t=e(96105),n=e(71726),s=e(16781),i=e(25344),r=e(84046);let a=(()=>{class o extends i.g{select(h){return super.select(h).pipe((0,t.x)((p,f)=>{if(p&&f)return p.getNodeId()===f.getNodeId()&&p.getIndent()===f.getIndent()}))}selectInlineAddVisibleStatus(h){return this.select(h).pipe((0,n.U)(p=>!!p))}selectSiblingNodeId(h){return super.select(h).pipe((0,n.U)(p=>p?p.getNodeId():null))}selectIndentStatus(h){return this.select(h).pipe((0,n.U)(p=>!!p&&p.getIndent()))}getNodeId(h){const p=this.get(h);return p?p.getNodeId():null}getSelectedDropdownItemId(h){const p=this.get(h);return p?p.getSelectedDropdownItemId():null}setIndentStatus(h,p){const f=this.get(h),m=new s.k(f.getNodeId(),p);this.set(h,m)}setDropdownItemId(h,p){const f=this.get(h),m=new s.k(f.getNodeId(),f.getIndent(),p);this.set(h,m)}clearAll(){this.map.forEach((h,p)=>{this.set(p,null)})}clearById(h){this.set(h,null)}}return o.\u0275fac=function(){let d;return function(p){return(d||(d=r.n5z(o)))(p||o)}}(),o.\u0275prov=r.Yz7({token:o,factory:o.\u0275fac}),o})()},10020:(S,g,e)=>{"use strict";e.d(g,{F:()=>s});var t=e(17666),n=e(84046);let s=(()=>{class i{hasNotLoadedChild(a){return a.hasChild&&a.hasChild>0}areChildrenLoaded(a){return a.loaded}getCollectionName(a){return t.v.defaultName}getHeaderCollectionName(){return t.v.defaultName}}return i.\u0275fac=function(a){return new(a||i)},i.\u0275prov=n.Yz7({token:i,factory:i.\u0275fac}),i})()},19172:(S,g,e)=>{"use strict";e.d(g,{a:()=>s});var t=e(17666),n=e(71118);class s{constructor(r,a){this.id=r,this.treeNodeResolver=a,this.name=s.defaultName,this.columnCollections=[]}setCollections(r=[]){this.columnCollections=r}setName(r=s.defaultName){this.name=r}getId(){return this.id}getName(){return this.name}getCollections(){return this.columnCollections}getCollectionForHeader(){const r=this.treeNodeResolver.getHeaderCollectionName();return this.getCollectionByName(r)}getColumnsForHeader(){return this.getCollectionForHeader().getTreeColumns()}getCollectionByNode(r){const a=this.treeNodeResolver.getCollectionName(r.getData());return this.getCollectionByName(a)}getColumnsFromCollection(r=t.v.defaultName){return this.getCollectionByName(r).getTreeColumns()}addColumn(r,a=t.v.defaultName){const o=this.clone(),d=o.getCollectionByName(a);return d.setTreeColumns([...d.getTreeColumns(),r]),o}removeColumn(r,a=t.v.defaultName){const o=this.clone(),d=o.getCollectionByName(a),h=[...d.getTreeColumns()];return r<=h.length-1&&r>-1&&h.splice(r,1),d.setTreeColumns(h),o}changeColumnPosition(r,a,o=t.v.defaultName){const d=this.clone(),h=d.getCollectionByName(o);let p=[...h.getTreeColumns()];return p=n.l.arrayMove(p,r,a),h.setTreeColumns(p),d}clone(){const r=new s(this.id,this.treeNodeResolver);return r.setName(this.getName()),r.setCollections(this.getCollections()),r}isViewPerspective(){return this.id!==s.templatePerspectiveId}setSortColumn(r,a){this.getCollectionForHeader().setActiveSort(r,a)}setSortColumnByFieldId(r,a,o){this.getCollectionForHeader().setActiveSortByFieldId(r,a,o)}getSortMethod(){return this.getCollectionForHeader().getActiveSortMethod()}getCollectionByName(r=t.v.defaultName){let a=new t.v;return this.columnCollections.forEach(o=>{o.getName()===r&&(a=o)}),a}}s.EMPTY=new s(-1,null),s.templatePerspectiveId=-1,s.templatePerspectiveName="template - Perspective",s.defaultName="default"},85431:(S,g,e)=>{"use strict";e.d(g,{h:()=>o});var t=e(10020),n=e(19172),s=e(17666),i=e(13151),r=e(63906),a=e(84046);let o=(()=>{class d{constructor(p,f,m){this.treeNodeResolver=p,this.treeColumnConverter=f,this.globalTreeConfig=m}createTemplatePerspective(p){const f=new n.a(n.a.templatePerspectiveId,this.treeNodeResolver);return f.setName(n.a.templatePerspectiveName),p.forEach(m=>{m.setPerspectiveType(!1)}),f.setCollections(p),f}createViewPerspective(p){const f=new s.v;f.setPerspectiveType(!0),f.setInlineEdit(this.globalTreeConfig.inlineEdit),f.setInlineDelete(this.globalTreeConfig.inlineDelete),f.setTreeColumns(this.treeColumnConverter.convertArray(p.columns));const m=new n.a(p.id,this.treeNodeResolver);return m.setName(p.name),m.setCollections([f]),m}fromAnemicArray(p){const f=[];return p.forEach(m=>{f.push(this.createViewPerspective(m))}),f}createCollectionWithColumns(p){const f=new s.v;return f.setTreeColumns(p),f}}return d.\u0275fac=function(p){return new(p||d)(a.LFG(t.F),a.LFG(i.L),a.LFG(r.r))},d.\u0275prov=a.Yz7({token:d,factory:d.\u0275fac}),d})()},89536:(S,g,e)=>{"use strict";e.d(g,{R:()=>y});var t=e(97809),n=e(90850),s=e(53339),i=e(63833),r=e(45635),a=e(70822),o=e(28819),d=e(91771),h=e(17666),p=e(13151),f=e(73790),m=e(81503),v=e(62628),E=e(84046),C=e(75962),T=e(52861);class y extends v.b{constructor(P,L,F,b,x){if(super(),this.configPerspectiveStrategy=P,this.treeColumnConverter=L,this.treePerspectiveResource=F,this.localActionDispatcher=b,this.tree=x,this.availableColumns$=new t.t(1),this.availableColumns=[],this.viewPerspectives=[],this.selectedPerspective$=new t.t(1),this.perspectiveMangerLock$=new n.xQ,this.viewPerspectiveFetch=!1,this.isSuffixIcon=!0,this.isTooltipEnabled=!0,this.perspectiveStrategy=null!==this.configPerspectiveStrategy?this.configPerspectiveStrategy:y.defaultStrategy,P===f.c.VIEW&&!F)throw new Error("TreePerspectiveResource have to be provided in TreePerspectiveStrategy.VIEW")}setIsSuffixIcon(P){this.isSuffixIcon=P}getIsSuffixIcon(){return this.isSuffixIcon}setIsTooltipEnabled(P){this.isTooltipEnabled=P}getIsTooltipEnabled(){return this.isTooltipEnabled}observePerspective(P){return this.isViewPerspectiveStrategy()&&!this.viewPerspectiveFetch&&P&&(this.fetchPerspective(P),this.viewPerspectiveFetch=!0),this.selectedPerspective$.asObservable()}observeAvailableColumns(){return this.availableColumns$.asObservable()}observerPerspectiveManagerLock(){return this.perspectiveMangerLock$.asObservable()}setAvailableColumns(P){this.availableColumns=this.treeColumnConverter.convertArray(P),this.availableColumns$.next(this.availableColumns)}setTemplatePerspective(P){this.templatePerspective=P}changeSelectedPerspective(P){this.selectedPerspective=P,this.selectedPerspective$.next(this.selectedPerspective)}changeSelectedPerspectiveByIndex(P){this.viewPerspectives[P]&&this.changeSelectedPerspective(this.viewPerspectives[P])}changeSelectedPerspectiveById(P){const L=this.viewPerspectives.findIndex(F=>F.getId()===P);this.changeSelectedPerspectiveByIndex(L)}changeToTemplatePerspective(){this.perspectiveStrategy===f.c.TEMPLATE&&this.changeSelectedPerspective(this.templatePerspective)}changeToViewPerspective(){this.perspectiveStrategy===f.c.VIEW&&this.changeSelectedPerspectiveByIndex(0)}getAvailableColumns(){return this.availableColumns}getColumnFieldIds(){return this.columnFieldIds}updatePerspective(P,L){if(!P.isViewPerspective())return(0,s.of)(!0);const F=this.selectedPerspective.clone();return this.lockTree(),this.treePerspectiveResource.updatePerspective$(F,L).pipe((0,i.q)(1),(0,r.b)(()=>this.unlockTreeWithSuccess()))}addColumn(P,L=h.v.defaultName){const F=this.selectedPerspective.clone();F.addColumn(P,L),this.lockTree(),this.treePerspectiveResource&&this.treePerspectiveResource.addColumn$(F).pipe((0,i.q)(1),(0,r.b)(()=>this.unlockTreeWithSuccess()),(0,a.h)(b=>!!b),this.takeUntilDestroy()).subscribe(()=>{this.changeSelectedPerspective(F)})}removeColumn(P,L,F=h.v.defaultName){const b=this.selectedPerspective.clone();b.removeColumn(P,F),this.lockTree(),this.treePerspectiveResource&&this.treePerspectiveResource.updatePerspective$(b,L).pipe((0,i.q)(1),(0,r.b)(()=>this.unlockTreeWithSuccess()),(0,a.h)(x=>!!x),this.takeUntilDestroy()).subscribe(()=>{this.changeSelectedPerspective(b)})}changeColumnPosition(P,L,F=h.v.defaultName){this.changeSelectedPerspective(this.selectedPerspective.changeColumnPosition(P,L,F))}setPerspectivesColumnsForDrag(P=[]){this.tree.getConfig()&&this.tree.getConfig().dragAndDrop&&(P.length?P:this.viewPerspectives).forEach(F=>{const b=F.getColumnsFromCollection();b&&b.length>0&&(b[0].dragButton=!0)})}lockPerspectiveManger(){this.perspectiveMangerLock$.next(!0)}unLockPerspectiveManger(){this.perspectiveMangerLock$.next(!1)}setActiveSortColumn(P,L=!0,F){var b;const x=null===(b=this.selectedPerspective)||void 0===b?void 0:b.clone();x.setSortColumnByFieldId(P,L,F),this.changeSelectedPerspective(x)}isViewPerspectiveStrategy(){return this.configPerspectiveStrategy===f.c.VIEW}isTemplatePerspectiveStrategy(){return this.configPerspectiveStrategy===f.c.TEMPLATE}fetchPerspective(P){this.treePerspectiveResource&&this.treePerspectiveResource.selectPerspectives$().pipe(this.takeUntilDestroy()).subscribe(L=>{this.columnFieldIds=L[0].getColumnsFromCollection().map(b=>{var x;return null===(x=null==b?void 0:b.fieldId)||void 0===x?void 0:x.toNumber()}),this.setPerspectivesColumnsForDrag(L),this.viewPerspectives=L,this.changeToViewPerspective();const F=P.getSort();if(this.tree.getConfig().internalSorting&&L[0].setSortColumn(F.columnId,F.direction),this.tree.getConfig().customSortResolver){const b=this.tree.getConfig().customSortResolver.resolve();this.dispatchChangePerspective(b)}})}lockTree(){this.localActionDispatcher.dispatch(new d.Se)}unlockTreeWithSuccess(){this.localActionDispatcher.dispatch(new d.FK)}dispatchChangePerspective(P){this.localActionDispatcher.dispatch(new d.V7(P))}}y.defaultStrategy=f.c.TEMPLATE,y.\u0275fac=function(P){return new(P||y)(E.LFG(m.o,8),E.LFG(p.L),E.LFG(C.t,8),E.LFG(T.c),E.LFG(o.mp))},y.\u0275prov=E.Yz7({token:y,factory:y.\u0275fac})},73790:(S,g,e)=>{"use strict";e.d(g,{c:()=>t});var t=(()=>{return(n=t||(t={}))[n.TEMPLATE=0]="TEMPLATE",n[n.VIEW=1]="VIEW",t;var n})()},81503:(S,g,e)=>{"use strict";e.d(g,{o:()=>n});const n=new(e(84046).OlP)("TREE_PERSPECTIVE_STRATEGY")},61788:(S,g,e)=>{"use strict";e.d(g,{D:()=>s});class t{constructor(r,a,o,d,h,p){this.id=r,this.name=a,this.type=o,this.suffixIcon=d,this.iconURL=h,this.homeURL=p}}class s{static fromRaw(r){const a=new s;return a.id=r.id,a.name=r.name,a.label=r.label,a.origin=class{static fromRaw(r){return r?new t(r.id,r.name,r.type,r.iconURL,r.homeURL):null}}.fromRaw(r.origin),a.tooltip=r.tooltip,a.resize=r.resize,a.type=r.type,a.configuration=r.configuration,a.decorators=r.decorators,a.aggregation=r.aggregation,a.decoratorType=r.decoratorType,r.treeExpander&&(a.treeExpander=r.treeExpander),a}static fromArray(r){const a=[];return r.forEach(o=>{a.push(s.fromRaw(o))}),a}static fromDomain(r){const a=new s;return a.name=r.name,a.label=r.header,a.type=r.type,a.decorators=r.decorators,a.configuration={flex:r.flex},r.treeExpand&&(a.treeExpander=r.treeExpand),a}static fromDomainArray(r){const a=[];return r.forEach(o=>{a.push(s.fromDomain(o))}),a}}},19448:(S,g,e)=>{"use strict";e.d(g,{W:()=>n});var t=e(92520);class n{constructor(i,r,a,o,d=!0){this.treeColumnId=i,this.aggregations=r,this.availableDecorators=a,this.distributes=o,this.addEmptyAggregations=d,d&&(this.aggregations=[Object.assign({},n.emptyAggregation),...r])}getColumnId(){return this.treeColumnId}getAggregations(){return this.aggregations}getDistributes(){return this.distributes}getDecorators(){return this.availableDecorators}}n.emptyAggregation=new t.d("NONE","None")},25069:(S,g,e)=>{"use strict";e.d(g,{H:()=>t});class t{}},13151:(S,g,e)=>{"use strict";e.d(g,{L:()=>a});var t=e(53339),n=e(17637),s=e(48058),i=e(84046),r=e(46205);let a=(()=>{class o{constructor(h,p){this.fieldCollectionFactory=h,this.treeColumnToFieldMapper=p}convert(h){const p=n.x.fromAnemia(h,this.fieldCollectionFactory);if(this.treeColumnToFieldMapper){const f=this.treeColumnToFieldMapper.mapField(p);f&&(p.formField=f)}return p}convertArray(h){return h.map(p=>this.convert(p))}isReady(){return this.treeColumnToFieldMapper?this.treeColumnToFieldMapper.isReady():(0,t.of)(!0)}}return o.\u0275fac=function(h){return new(h||o)(i.LFG(s.b),i.LFG(r.u,8))},o.\u0275prov=i.Yz7({token:o,factory:o.\u0275fac}),o})()},46205:(S,g,e)=>{"use strict";e.d(g,{u:()=>t});class t{}},89055:(S,g,e)=>{"use strict";e.d(g,{x:()=>s});var t=e(25344),n=e(84046);let s=(()=>{class i extends t.g{}return i.\u0275fac=function(){let r;return function(o){return(r||(r=n.n5z(i)))(o||i)}}(),i.\u0275prov=n.Yz7({token:i,factory:i.\u0275fac}),i})()},98765:(S,g,e)=>{"use strict";e.d(g,{E:()=>t});class t{isNodeSelectable(s){return!0}}},60508:(S,g,e)=>{"use strict";e.d(g,{M:()=>t});var t=(()=>{return(n=t||(t={}))[n.RANGE=0]="RANGE",n[n.ADD=1]="ADD",n[n.ONE=2]="ONE",t;var n})()},42865:(S,g,e)=>{"use strict";e.d(g,{r:()=>n});var t=e(81871);class n extends t.n{constructor(i,r,a){super(i,r),this.treeId=r,this.items=a}getItems(){return this.items}getTreeId(){return this.treeId}}},7498:(S,g,e)=>{"use strict";e.d(g,{q:()=>n});var t=e(19461);class n extends t.m{constructor(i,r,a){super(i),this.treeId=i,this.itemId=r,this.mode=a}}},83050:(S,g,e)=>{"use strict";e.d(g,{a:()=>n});var t=e(19461);class n extends t.m{constructor(i){super(i),this.treeId=i}}},53219:(S,g,e)=>{"use strict";e.d(g,{g:()=>n});var t=e(19461);class n extends t.m{constructor(i){super(i),this.treeId=i}}},31:(S,g,e)=>{"use strict";e.d(g,{A:()=>n});var t=e(19461);class n extends t.m{constructor(i,r,a){super(i),this.treeId=i,this.itemId=r,this.mode=a}}},48245:(S,g,e)=>{"use strict";e.d(g,{k:()=>s});var t=e(27609),n=e(84046);let s=(()=>{class i extends t.V{constructor(){super([])}}return i.\u0275fac=function(a){return new(a||i)},i.\u0275prov=n.Yz7({token:i,factory:i.\u0275fac}),i})()},86174:(S,g,e)=>{"use strict";e.d(g,{B:()=>n});var t=e(81871);class n extends t.n{}},58350:(S,g,e)=>{"use strict";e.d(g,{c:()=>n});var t=e(19461);class n extends t.m{constructor(i){super(i),this.treeId=i}}},99646:(S,g,e)=>{"use strict";e.d(g,{H:()=>i});var t=e(96105),n=e(25344),s=e(84046);let i=(()=>{class r extends n.g{select(o){return super.select(o).pipe((0,t.x)())}set(o,d){super.set(o,d)}}return r.\u0275fac=function(){let a;return function(d){return(a||(a=s.n5z(r)))(d||r)}}(),r.\u0275prov=s.Yz7({token:r,factory:r.\u0275fac}),r})()},10656:(S,g,e)=>{"use strict";e.d(g,{f:()=>n});var t=e(19461);class n extends t.m{constructor(i,r){super(i),this.treeId=i,this.itemId=r}}},84724:(S,g,e)=>{"use strict";e.d(g,{k:()=>s});var t=e(25344),n=e(84046);let s=(()=>{class i extends t.g{}return i.\u0275fac=function(){let r;return function(o){return(r||(r=n.n5z(i)))(o||i)}}(),i.\u0275prov=n.Yz7({token:i,factory:i.\u0275fac}),i})()},1637:(S,g,e)=>{"use strict";e.d(g,{V:()=>t});class t{resolveRowCssClass(s){return[]}resolveColumnCssClass(s,i,r){return[]}}},10958:(S,g,e)=>{"use strict";e.d(g,{R:()=>a}),e(28819),e(17637);var s=e(26612),i=e(62546),r=e(84046);let a=(()=>{class o extends i.H{constructor(h,p,f){super(h,p),this.treeNodesCssClassStorage=f,this.treeRowCssClasses=[],this.treeColumnCssClasses=[]}ngOnChanges(h){(h.enabled||h.treeNode)&&this.updateCssClass()}ngOnInit(){this.treeNodesCssClassStorage.select().pipe(this.takeUntilDestroy()).subscribe(h=>{this.treeNodesCssClassResolver=h,this.updateCssClass()})}addTreeRowCssClass(){this.treeRowCssClasses=this.treeNodesCssClassResolver.resolveRowCssClass(this.treeNode).filter(h=>this.isNotEmptyString(h)),this.domManipulator.addHostClass(...this.treeRowCssClasses)}addTreeColumnCssClass(){this.treeColumnCssClasses=this.treeNodesCssClassResolver.resolveColumnCssClass(this.treeNode,this.treeColumn,this.treeColumnPosition).filter(h=>this.isNotEmptyString(h)),this.domManipulator.addHostClass(...this.treeColumnCssClasses)}removeTreeRowCssClass(){const h=this.treeNodesCssClassResolver.resolveRowCssClass(this.treeNode),p=this.treeRowCssClasses.filter(f=>!h.includes(f)).filter(f=>this.isNotEmptyString(f));this.domManipulator.removeHostClass(...p)}removeTreeColumnCssClass(){const h=this.treeNodesCssClassResolver.resolveRowCssClass(this.treeNode),p=this.treeColumnCssClasses.filter(f=>!h.includes(f)).filter(f=>this.isNotEmptyString(f));this.domManipulator.removeHostClass(...p)}updateCssClass(){!this.treeNodesCssClassResolver||(this.enabled&&!this.treeColumn?(this.removeTreeRowCssClass(),this.addTreeRowCssClass()):this.enabled&&this.treeColumn?(this.removeTreeColumnCssClass(),this.addTreeColumnCssClass()):this.enabled||this.treeColumn?!this.enabled&&this.treeColumn&&(this.removeTreeColumnCssClass(),this.addTreeColumnCssClass()):(this.removeTreeRowCssClass(),this.addTreeRowCssClass()))}isNotEmptyString(h){return h&&""!==h}}return o.\u0275fac=function(h){return new(h||o)(r.Y36(r.SBq),r.Y36(r.Qsj),r.Y36(s.Y))},o.\u0275dir=r.lG2({type:o,selectors:[["","spTreeCssClass",""]],inputs:{enabled:["spTreeCssClass","enabled"],treeNode:["spTreeCssClassTreeNode","treeNode"],treeColumn:["spTreeCssClassTreeColumn","treeColumn"],treeColumnPosition:["spTreeCssClassColumnPosition","treeColumnPosition"]},features:[r.qOj,r.TTD]}),o})()},26612:(S,g,e)=>{"use strict";e.d(g,{Y:()=>i});var t=e(1637),n=e(27609),s=e(84046);class i extends n.V{constructor(){super(i.DEFAULT)}}i.DEFAULT=new t.V,i.\u0275fac=function(a){return new(a||i)},i.\u0275prov=s.Yz7({token:i,factory:i.\u0275fac})},14878:(S,g,e)=>{"use strict";e.d(g,{H:()=>n});var t=e(95281);class n extends t.Y{constructor(i){super(i)}}},80064:(S,g,e)=>{"use strict";e.d(g,{z:()=>b});var t=e(42940),n=e(61218),s=e(81074),i=e(31326),r=e(7498),a=e(83050),o=e(53219),d=e(31),h=e(58350),p=e(10656),f=e(5402),m=e(81882),v=e(66084),E=e(90134),C=e(20753),T=e(61078),y=e(7206),I=e(34646),P=e(57880),L=e(84046),F=e(26009);let b=(()=>{class x{constructor(M){this.commandDispatcher=M}init(M){this.commandDispatcher.dispatch(new C.V(M))}setLayout(M,w){this.commandDispatcher.dispatch(new t.g(M,w))}rebuild(M){this.commandDispatcher.dispatch(new T.y(M))}setTree(M,w){const K=new I.R(w,M);this.commandDispatcher.dispatch(K)}toggleItemSelection(M,w,K){const k=new d.A(M,w,K);this.commandDispatcher.dispatch(k)}selectItem(M,w,K){const k=new r.q(M,w,K);this.commandDispatcher.dispatch(k)}selectNextItem(M){this.commandDispatcher.dispatch(new a.a(M))}selectPreviousItem(M){this.commandDispatcher.dispatch(new o.g(M))}unselectItems(M){const w=new h.c(M);return this.commandDispatcher.dispatch(w),w.getId()}dragStart(M,w){const K=new s.K(M,w);this.commandDispatcher.dispatch(K)}dragEnd(M){const w=new n.B(M);this.commandDispatcher.dispatch(w)}dropItems(M,w,K){const k=new i.F(M,w,K);this.commandDispatcher.dispatch(k)}expandItem(M,w){this.commandDispatcher.dispatch(new v.W(M,w))}collapseItem(M,w){this.commandDispatcher.dispatch(new f.q(M,w))}expandSelectedItem(M){this.commandDispatcher.dispatch(new E.C(M))}collapseSelectedItem(M){this.commandDispatcher.dispatch(new m.C(M))}setSetTreeDropZonesResolver(M,w){this.commandDispatcher.dispatch(new P.h(M,w))}setSetTreeNodeSelectResolver(M,w){this.commandDispatcher.dispatch(new y.t(M,w))}snipe(M,w){this.commandDispatcher.dispatch(new p.f(M,w))}}return x.\u0275fac=function(M){return new(M||x)(L.LFG(F.h))},x.\u0275prov=L.Yz7({token:x,factory:x.\u0275fac}),x})()},79952:(S,g,e)=>{"use strict";e.d(g,{v:()=>n});var t=e(38620);class n extends t.Z{constructor(i){super(i)}}},5402:(S,g,e)=>{"use strict";e.d(g,{q:()=>n});var t=e(19461);class n extends t.m{constructor(i,r){super(i),this.treeId=i,this.nodeId=r}getTreeId(){return this.treeId}getNodeId(){return this.nodeId}}},81882:(S,g,e)=>{"use strict";e.d(g,{C:()=>n});var t=e(19461);class n extends t.m{constructor(i){super(i),this.treeId=i}getTreeId(){return this.treeId}}},66084:(S,g,e)=>{"use strict";e.d(g,{W:()=>n});var t=e(19461);class n extends t.m{constructor(i,r){super(i),this.treeId=i,this.nodeId=r}getTreeId(){return this.treeId}getNodeId(){return this.nodeId}}},90134:(S,g,e)=>{"use strict";e.d(g,{C:()=>n});var t=e(19461);class n extends t.m{constructor(i){super(i),this.treeId=i}getTreeId(){return this.treeId}}},20753:(S,g,e)=>{"use strict";e.d(g,{V:()=>n});var t=e(19461);class n extends t.m{constructor(i){super(i),this.treeId=i}}},61078:(S,g,e)=>{"use strict";e.d(g,{y:()=>n});var t=e(19461);class n extends t.m{constructor(i){super(i),this.treeId=i}}},81530:(S,g,e)=>{"use strict";e.d(g,{U:()=>n});var t=e(81871);class n extends t.n{}},7206:(S,g,e)=>{"use strict";e.d(g,{t:()=>n});var t=e(19461);class n extends t.m{constructor(i,r){super(),this.treeId=i,this.treeNodeSelectResolver=r}getTreeId(){return this.treeId}getTreeNodeSelectResolver(){return this.treeNodeSelectResolver}}},34646:(S,g,e)=>{"use strict";e.d(g,{R:()=>n});var t=e(19461);class n extends t.m{constructor(i,r){super(r),this.tree=i}getTree(){return this.tree}}},61988:(S,g,e)=>{"use strict";e.d(g,{b:()=>n});var t=e(81871);class n extends t.n{}},57880:(S,g,e)=>{"use strict";e.d(g,{h:()=>n});var t=e(19461);class n extends t.m{constructor(i,r){super(),this.treeId=i,this.treeDropZonesResolver=r}getTreeId(){return this.treeId}getTreeDropZonesResolver(){return this.treeDropZonesResolver}}},70129:(S,g,e)=>{"use strict";e.d(g,{a:()=>t});class t{}},90978:(S,g,e)=>{"use strict";e.d(g,{u:()=>t});class t{constructor(){}clone(){return Object.assign(new t,this)}withLocalStorage(s){return this.localStorage=s,this}}t.default=(new t).withLocalStorage(!1)},60892:(S,g,e)=>{"use strict";e.d(g,{r:()=>r});class t{constructor(){this.sort={columnId:null,direction:!0},this.expandedNodesIndex={}}getSort(){return this.sort}save(){this.treeUserSettingsService.save(this)}changeSort(o){this.sort=o,this.save()}changeExpandedNodes(o){this.expandedNodesIndex=o,this.save()}readFromLocalStorage(){const o=this.treeUserSettingsService.read(this.treeId);null!==o&&(this.sort=o.sort,this.expandedNodesIndex=o.expandedNodesIndex)}setTreeId(o){this.treeId=o}setTreeUserSettingsService(o){this.treeUserSettingsService=o}}var n=e(84046),s=e(36474),i=e(53184);let r=(()=>{class a{constructor(d,h){this.treeUserSettingsService=d,this.noopTreeUserSettingsService=h}create(d,h=!1){const p=new t;return p.setTreeId(d),p.setTreeUserSettingsService(h?this.treeUserSettingsService:this.noopTreeUserSettingsService),p.readFromLocalStorage(),p}}return a.\u0275fac=function(d){return new(d||a)(n.LFG(s.h),n.LFG(i.s))},a.\u0275prov=n.Yz7({token:a,factory:a.\u0275fac}),a})()},36474:(S,g,e)=>{"use strict";e.d(g,{h:()=>t});class t{}},34193:(S,g,e)=>{"use strict";e.d(g,{I:()=>s});var t=e(59838),n=e(84046);let s=(()=>{class i extends t.g{}return i.\u0275fac=function(){let r;return function(o){return(r||(r=n.n5z(i)))(o||i)}}(),i.\u0275prov=n.Yz7({token:i,factory:i.\u0275fac}),i})()},39430:(S,g,e)=>{"use strict";e.d(g,{e:()=>i});var t=e(32687),n=e(84046),s=e(34193);let i=(()=>{class r extends t.f{constructor(o){super(o)}}return r.\u0275fac=function(o){return new(o||r)(n.LFG(s.I))},r.\u0275prov=n.Yz7({token:r,factory:r.\u0275fac}),r})()},53184:(S,g,e)=>{"use strict";e.d(g,{s:()=>s});var t=e(36474),n=e(84046);let s=(()=>{class i extends t.h{read(a){return{sort:{columnId:null,direction:!0},expandedNodesIndex:{}}}save(a){}}return i.\u0275fac=function(){let r;return function(o){return(r||(r=n.n5z(i)))(o||i)}}(),i.\u0275prov=n.Yz7({token:i,factory:i.\u0275fac}),i})()},75962:(S,g,e)=>{"use strict";e.d(g,{t:()=>t});class t{}},77545:(S,g,e)=>{"use strict";e.d(g,{O:()=>t,Y:()=>n});const t=18,n=16},32698:(S,g,e)=>{"use strict";e.d(g,{$:()=>n,s:()=>s});var t=e(84046);const n=new t.OlP("TREE_EXTERNAL_DROP_METOD"),s=new t.OlP("DEFAULT_TREE_CONFIGURATION")},43939:(S,g,e)=>{"use strict";e.d(g,{$:()=>a});var t=e(53488),n=e(20059),s=e(59278),i=e(17666),r=e(84046);let a=(()=>{class o{constructor(h){this.treeColumnSetRef=h,this.name=i.v.defaultName,this.inlineEdit=!0,this.inlineDelete=!0,this.subscription=new t.w,this.treeColumnRefSubscription=new t.w}ngOnChanges(h){this.update()}ngAfterContentInit(){this.update(),this.subscription.add(this.treeColumnQL.changes.subscribe(()=>{this.update()}))}ngOnDestroy(){this.subscription.unsubscribe(),this.treeColumnRefSubscription.unsubscribe()}update(){this.updateColumns(),this.updateColumnCollection()}updateColumns(){this.treeColumnQL?(this.treeColumnRefSubscription.unsubscribe(),this.treeColumnRefSubscription=new t.w,this.treeColumns=this.treeColumnQL.toArray().map(h=>h.treeColumn),this.treeColumnQL.toArray().forEach(h=>{this.treeColumnRefSubscription.add(h.observeChanges().subscribe(p=>{this.treeColumns.forEach((f,m)=>{f.id===p.id&&(this.treeColumns[m]=p)}),this.updateColumnCollection()}))})):this.treeColumns=[]}updateColumnCollection(){const h=i.v.create(this);h.setPerspectiveType(!1),this.treeColumnSetRef.setTreeColumnCollection(h)}}return o.\u0275fac=function(h){return new(h||o)(r.Y36(s.$))},o.\u0275cmp=r.Xpm({type:o,selectors:[["sp-tree-column-collection"]],contentQueries:function(h,p,f){if(1&h&&r.Suo(f,n.z,4),2&h){let m;r.iGM(m=r.CRH())&&(p.treeColumnQL=m)}},inputs:{name:"name",inlineEdit:"inlineEdit",inlineDelete:"inlineDelete"},features:[r._Bn([s.$]),r.TTD],decls:0,vars:0,template:function(h,p){},encapsulation:2,changeDetection:0}),o})()},81171:(S,g,e)=>{"use strict";e.d(g,{F:()=>a});var t=e(84046),n=e(29893),s=e(20059),i=e(17637),r=e(48058);let a=(()=>{class o{constructor(h,p){this.treeColumnRef=h,this.fieldCollectionFactory=p,this.header="",this.sort=!1,this.disableResize=!1,this.dragEnabled=!0}set templateFromContentChild(h){this.template=h}set formFieldFromContentChild(h){this.formField=h}set formFieldFromInput(h){this.formField=h}set templateFromInput(h){this.template=h}ngOnChanges(){this.updateColumn()}ngAfterContentInit(){this.updateColumn()}updateColumn(){if(!this.treeColumnRef)return;const h=i.x.create(this,this.fieldCollectionFactory);this.id||(this.id=h.id),this.treeColumnRef.setTreeColumn(h)}}return o.\u0275fac=function(h){return new(h||o)(t.Y36(s.z,8),t.Y36(r.b))},o.\u0275cmp=t.Xpm({type:o,selectors:[["sp-tree-column"]],contentQueries:function(h,p,f){if(1&h&&(t.Suo(f,t.Rgc,7),t.Suo(f,n.u,7)),2&h){let m;t.iGM(m=t.CRH())&&(p.templateFromContentChild=m.first),t.iGM(m=t.CRH())&&(p.formFieldFromContentChild=m.first)}},inputs:{formFieldFromInput:["formField","formFieldFromInput"],templateFromInput:["template","templateFromInput"],id:"id",cssClass:"cssClass",field:"field",header:"header",sort:"sort",treeExpand:"treeExpand",flex:"flex",validators:"validators",styles:"styles",disableResize:"disableResize",dragButton:"dragButton",dragEnabled:"dragEnabled"},features:[t._Bn([s.z]),t.TTD],decls:0,vars:0,template:function(h,p){},encapsulation:2,changeDetection:0}),o})()},64902:(S,g,e)=>{"use strict";e.d(g,{N:()=>s});var t=e(27609),n=e(84046);let s=(()=>{class i extends t.V{constructor(){super(!1)}}return i.\u0275fac=function(a){return new(a||i)},i.\u0275prov=n.Yz7({token:i,factory:i.\u0275fac}),i})()},91325:(S,g,e)=>{"use strict";e.d(g,{o:()=>s});var t=e(90850),n=e(84046);let s=(()=>{class i{constructor(){this.status$=new t.xQ}compareModeStatus(){return this.status$.asObservable()}toggleCompareMode(a){this.status$.next(a)}}return i.\u0275fac=function(a){return new(a||i)},i.\u0275prov=n.Yz7({token:i,factory:i.\u0275fac}),i})()},66662:(S,g,e)=>{"use strict";e.d(g,{a:()=>s});var t=e(20059),n=e(84046);let s=(()=>{class i{}return i.\u0275fac=function(a){return new(a||i)},i.\u0275cmp=n.Xpm({type:i,selectors:[["sp-tree-left-static-column-container"]],contentQueries:function(a,o,d){if(1&a&&n.Suo(d,t.z,4),2&a){let h;n.iGM(h=n.CRH())&&(o.treeColumnQL=h)}},decls:0,vars:0,template:function(a,o){},encapsulation:2}),i})()},86219:(S,g,e)=>{"use strict";e.d(g,{v:()=>s});var t=e(20059),n=e(84046);let s=(()=>{class i{}return i.\u0275fac=function(a){return new(a||i)},i.\u0275cmp=n.Xpm({type:i,selectors:[["sp-tree-right-static-column-container"]],contentQueries:function(a,o,d){if(1&a&&n.Suo(d,t.z,4),2&a){let h;n.iGM(h=n.CRH())&&(o.treeColumnQL=h)}},decls:0,vars:0,template:function(a,o){},encapsulation:2}),i})()},33769:(S,g,e)=>{"use strict";e.d(g,{o:()=>ve});var t=e(84046),n=e(63833),s=e(28819),r=(e(17637),e(89536)),a=e(55472),o=e(69085),d=e(42333),h=e(14247),p=e(62546),f=e(56509),m=e(53770),v=e(31270),E=e(25069),C=e(55331),T=e(68890),y=e(44864),I=e(62419),P=e(18217),L=e(65799);function F(Ce,ye){if(1&Ce){const de=t.EpF();t.TgZ(0,"sp-dropdown-item",8),t.NdJ("itemClick",function(){const Ve=t.CHM(de).$implicit,Ue=t.oxw(4);return Ue.changeAggregation(Ue.column.id,Ve)}),t._uU(1),t.qZA()}if(2&Ce){const de=ye.$implicit,Ie=t.oxw(4);t.Q6J("checked",Ie.isSameAggregation(de)),t.xp6(1),t.hij(" ",de.label," ")}}function b(Ce,ye){if(1&Ce){const de=t.EpF();t.TgZ(0,"sp-dropdown-item",8),t.NdJ("itemClick",function(){const Ve=t.CHM(de).$implicit,Ue=t.oxw(4);return Ue.changeDistribute(Ue.column.id,Ve)}),t._uU(1),t.qZA()}if(2&Ce){const de=ye.$implicit,Ie=t.oxw(4);t.Q6J("checked",Ie.isSameDistribute(de)),t.xp6(1),t.hij(" ",de.label," ")}}function x(Ce,ye){if(1&Ce&&(t.TgZ(0,"sp-dropdown-menu-group",6),t.ALo(1,"spL10nText"),t.YNc(2,F,2,2,"sp-dropdown-item",7),t.YNc(3,b,2,2,"sp-dropdown-item",7),t.qZA()),2&Ce){const de=t.oxw(3);t.Q6J("header",t.lcZ(1,6,"SPT_BOXCONFIG_COLUMN_VIEWS_VIEW_CREATOR_TABLE_CUSTOMIZE_FORM_HEADER_AGGREGATION"))("type",de.dropdownType),t.xp6(2),t.Q6J("ngForOf",de.columnConfig.getAggregations())("ngForTrackBy",de.treeLabeledTrackByFn),t.xp6(1),t.Q6J("ngForOf",de.columnConfig.getDistributes())("ngForTrackBy",de.treeLabeledTrackByFn)}}function B(Ce,ye){1&Ce&&t.GkF(0)}function M(Ce,ye){if(1&Ce&&(t.ynx(0),t.YNc(1,B,1,0,"ng-container",9),t.BQk()),2&Ce){t.oxw(3);const de=t.MAs(2);t.xp6(1),t.Q6J("ngTemplateOutlet",de)}}function w(Ce,ye){1&Ce&&t.GkF(0)}function K(Ce,ye){if(1&Ce&&(t.ynx(0),t.YNc(1,w,1,0,"ng-container",9),t.BQk()),2&Ce){t.oxw(3);const de=t.MAs(2);t.xp6(1),t.Q6J("ngTemplateOutlet",de)}}function k(Ce,ye){if(1&Ce&&(t.TgZ(0,"sp-dropdown-menu-group"),t.YNc(1,x,4,8,"sp-dropdown-menu-group",5),t.YNc(2,M,2,1,"ng-container",4),t.YNc(3,K,2,1,"ng-container",4),t.qZA()),2&Ce){const de=t.oxw(2);t.xp6(1),t.Q6J("ngIf",de.canChangeAggregation()),t.xp6(1),t.Q6J("ngIf",de.areDisplaysReady()&&de.showEmptyDisplayMessage()),t.xp6(1),t.Q6J("ngIf",de.areDisplaysReady()&&!de.showEmptyDisplayMessage()&&!de.isDistributeSelected())}}function G(Ce,ye){if(1&Ce){const de=t.EpF();t.TgZ(0,"sp-dropdown",2),t.NdJ("openStateChanged",function(He){return t.CHM(de),t.oxw().changeOpenState(He)}),t._UZ(1,"i",3),t.ALo(2,"spRichTextI18n"),t.YNc(3,k,4,3,"sp-dropdown-menu-group",4),t.qZA()}if(2&Ce){const de=t.oxw();t.xp6(1),t.Q6J("spTooltip",t.lcZ(2,2,"SPT_BOXCONFIG_COLUMN_VIEWS_VIEW_CREATOR_TABLE_CUSTOMIZE_TOOLTIP")),t.xp6(2),t.Q6J("ngIf",de.isOpen)}}function $(Ce,ye){if(1&Ce){const de=t.EpF();t.TgZ(0,"sp-dropdown-item",15),t.NdJ("itemClick",function(){const Ve=t.CHM(de).$implicit,Ue=t.oxw(4);return Ue.changeDisplay(Ue.column.id,Ve.value)}),t._uU(1),t.qZA()}if(2&Ce){const de=ye.$implicit,Ie=t.oxw(4);t.Q6J("id",Ie.prepareId("sp-dropdown-item-",de.label))("checked",Ie.isSameDisplay(de)),t.xp6(1),t.hij(" ",de.label," ")}}function X(Ce,ye){if(1&Ce&&(t.ynx(0),t.YNc(1,$,2,3,"sp-dropdown-item",14),t.BQk()),2&Ce){const de=t.oxw(3);t.xp6(1),t.Q6J("ngForOf",de.columnConfig.getDecorators())("ngForTrackBy",de.treeLabeledTrackByFn)}}function ie(Ce,ye){if(1&Ce&&(t.TgZ(0,"span",16),t._uU(1),t.ALo(2,"spL10nText"),t.qZA()),2&Ce){const de=t.oxw(3);t.xp6(1),t.AsE('"',de.getSelectedDistribute(),'" ',t.lcZ(2,2,"SPT_BOXCONFIG_COLUMN_VIEWS_VIEW_CREATOR_TABLE_CUSTOMIZE_DISPLAY_DISABLED")," ")}}function se(Ce,ye){if(1&Ce&&(t.TgZ(0,"sp-dropdown-menu-group",11),t.YNc(1,X,2,2,"ng-container",12),t.YNc(2,ie,3,4,"ng-template",null,13,t.W1O),t.qZA()),2&Ce){const de=t.MAs(3),Ie=t.oxw(2);t.Q6J("type",Ie.dropdownType)("contentContainerClass",Ie.isDistributeSelected()&&"sp-display-disabled")("scroll",!Ie.isDistributeSelected()),t.xp6(1),t.Q6J("ngIf",!Ie.isDistributeSelected())("ngIfElse",de)}}function pe(Ce,ye){if(1&Ce&&t.YNc(0,se,4,5,"sp-dropdown-menu-group",10),2&Ce){const de=t.oxw();t.Q6J("ngIf",de.canChangeDecorator())}}let ve=(()=>{class Ce extends p.H{constructor(de,Ie,He,Ve,Ue,xe){super(de,Ie),this.changeDetectorRef=He,this.tree=Ve,this.treePerspectiveManager=Ue,this.treeColumnConfigRepository=xe,this.onDropdownClick=new t.vpe,this.dropdownType=o.H.RADIO,this.treeLabeledTrackByFn=d.M.create("value")}ngOnInit(){this.treeColumnConfigRepository&&this.treeColumnConfigRepository.getAvailableColumnConfig$(this.column).pipe((0,n.q)(1),this.takeUntilDestroy()).subscribe(de=>{this.columnConfig=de}),this.columnViewId||this.treePerspectiveManager.observePerspective().pipe(this.takeUntilDestroy()).subscribe(de=>{this.columnViewId=de.getId()})}ngAfterViewInit(){this.dropdownComponent&&this.observeNestedDropdownChangeHandlers()}canDisplayConfigButton(){return this.columnConfig&&(this.canChangeAggregation()||this.canChangeDecorator())}canChangeAggregation(){var de,Ie,He;return(null===(He=[...null===(de=this.columnConfig)||void 0===de?void 0:de.getAggregations(),...null===(Ie=this.columnConfig)||void 0===Ie?void 0:Ie.getDistributes()])||void 0===He?void 0:He.length)>1}canChangeDecorator(){var de,Ie;return(null===(Ie=null===(de=this.columnConfig)||void 0===de?void 0:de.getDecorators())||void 0===Ie?void 0:Ie.length)>1}isDistributeSelected(){const de=this.getSelectedDistributeValue();return de&&!de.isNone()}areDisplaysReady(){return this.tree.getConfig().columnSelectorConfig.display&&!!this.columnConfig}showEmptyDisplayMessage(){var de;return null===(de=this.tree.getConfig())||void 0===de?void 0:de.columnSelectorConfig.displayEmptyMessageWhenDistributeSelected}getSelectedDistribute(){return this.distribute?this.distribute.toString():this.column.distribute.label}isSameAggregation(de){const Ie=this.getSelectedDistributeValue();if(Ie&&!Ie.isNone())return!1;const He=this.getSelectedAggregationValue();return!He&&de.value===m.H.toString()||He.toString()===de.value}isSameDisplay(de){return this.getSelectedDecoratorType()===de.value}isSameDistribute(de){const Ie=this.getSelectedDistributeValue();return!(!Ie&&de.value===m.H.toString())&&Ie.toString()===de.value}changeDistribute(de,Ie){this.treeColumnConfigRepository.changeDistribute(this.columnViewId,de,this.column.origin.id,v.c.of(Ie.value))}changeAggregation(de,Ie){this.treeColumnConfigRepository.changeAggregation(this.columnViewId,de,this.column.origin.id,f.I.of(Ie.value))}changeDisplay(de,Ie){this.treeColumnConfigRepository.changeDisplay(this.columnViewId,de,Ie)}changeOpenState(de){this.isOpen=de,this.changeDetectorRef.detectChanges()}prepareId(de,Ie){return de+h.I.dashedWithoutSpaceId(Ie.toLocaleLowerCase())}getHostClasses(){return["sp-tree-column-config-selector"]}observeNestedDropdownChangeHandlers(){this.dropdownComponent.observeDropdownOpen().pipe(this.takeUntilDestroy()).subscribe(()=>{this.changeDetectorRef.detectChanges(),this.onDropdownClick.emit(!0),this.isOpen=!0}),this.dropdownComponent.observeDropdownClose().pipe(this.takeUntilDestroy()).subscribe(()=>{this.changeDetectorRef.detectChanges(),this.onDropdownClick.emit(!1),this.isOpen=!1})}getSelectedDistributeValue(){let de=this.distribute;return!de&&this.column.distribute&&(de=v.c.of(this.column.distribute.value)),de}getSelectedAggregationValue(){let de=this.aggregation;return!de&&this.column.aggregation&&(de=f.I.of(this.column.aggregation.value)),de}getSelectedDecoratorType(){let de=this.decoratorType;return!de&&this.column.decoratorType&&(de=this.column.decoratorType.value),de}}return Ce.\u0275fac=function(de){return new(de||Ce)(t.Y36(t.SBq),t.Y36(t.Qsj),t.Y36(t.sBO),t.Y36(s.mp),t.Y36(r.R),t.Y36(E.H,8))},Ce.\u0275cmp=t.Xpm({type:Ce,selectors:[["sp-tree-column-config-selector"]],viewQuery:function(de,Ie){if(1&de&&t.Gf(a.J,5),2&de){let He;t.iGM(He=t.CRH())&&(Ie.dropdownComponent=He.first)}},inputs:{columnViewId:"columnViewId",column:"column",aggregation:"aggregation",distribute:"distribute",decoratorType:"decoratorType"},outputs:{onDropdownClick:"onDropdownClick"},features:[t.qOj],decls:3,vars:1,consts:[["customMenuClass","sp-tree-column-config-selector__dropdown-menu","class","sp-tree-column-config-selector__dropdown","id","sp-tree-column-config",3,"openStateChanged",4,"ngIf"],["dropdownGroup",""],["customMenuClass","sp-tree-column-config-selector__dropdown-menu","id","sp-tree-column-config",1,"sp-tree-column-config-selector__dropdown",3,"openStateChanged"],["sp-dropdown-open-trigger","",1,"sp-tree-column-config-selector__dropdown-trigger","fas","fa-wrench","sp-selector-icon","sp-p-1","sp-cursor-pointer","sp-text-s",3,"spTooltip"],[4,"ngIf"],["contentContainerClass","sp-tree-column-config-selector__scrollable-box","id","sp-tree-column-config-menu-group-aggregation","divider","",3,"header","type",4,"ngIf"],["contentContainerClass","sp-tree-column-config-selector__scrollable-box","id","sp-tree-column-config-menu-group-aggregation","divider","",3,"header","type"],[3,"checked","itemClick",4,"ngFor","ngForOf","ngForTrackBy"],[3,"checked","itemClick"],[4,"ngTemplateOutlet"],["id","sp-tree-column-config-menu-group-display","header","Display","divider","",3,"type","contentContainerClass","scroll",4,"ngIf"],["id","sp-tree-column-config-menu-group-display","header","Display","divider","",3,"type","contentContainerClass","scroll"],[4,"ngIf","ngIfElse"],["displayWhenDistributeIsPresent",""],[3,"id","checked","itemClick",4,"ngFor","ngForOf","ngForTrackBy"],[3,"id","checked","itemClick"],[1,"sp-text-s"]],template:function(de,Ie){1&de&&(t.YNc(0,G,4,4,"sp-dropdown",0),t.YNc(1,pe,1,1,"ng-template",null,1,t.W1O)),2&de&&t.Q6J("ngIf",Ie.canDisplayConfigButton())},directives:[C.O5,a.J,T.i9,y.Y,C.sg,I.N,C.tP],pipes:[P.d,L.L],styles:[".sp-tree-column-config-selector__dropdown.sp-dropdown--is-opened .sp-tree-column-config-selector__dropdown-trigger{color:var(--primary)!important;background-color:var(--transparent)!important}.sp-tree-column-config-selector__dropdown-trigger:hover{color:var(--primary)!important}.sp-tree-column-config-selector__scrollable-box{overflow-y:auto}.sp-tree-column-config-selector__dropdown-menu sp-dropdown-menu-group .sp-display-disabled{font-size:1rem;color:var(--gray-400);padding:4px 10px 8px}.sp-tree-column-config-selector__dropdown-menu .sp-dropdown-item{max-width:60vh}\n"],encapsulation:2,changeDetection:0}),Ce})()},674:(S,g,e)=>{"use strict";e.d(g,{p:()=>t});let t=(()=>{class n{constructor(){}withEnabled(i){return this.enabled=i,this}withAggregations(i){return this.aggregations=i,this}withDistributes(i){return this.distributes=i,this}withDisplay(i){return this.display=i,this}withDisplayEmptyMessageWhenDistributeSelected(i){return this.displayEmptyMessageWhenDistributeSelected=i,this}}return n.default=()=>(new n).withEnabled(!1).withAggregations(!0).withDistributes(!0).withDisplay(!0).withDisplayEmptyMessageWhenDistributeSelected(!0),n})()},70989:(S,g,e)=>{"use strict";e.d(g,{N:()=>s});var t=e(97809),n=e(84046);let s=(()=>{class i{constructor(){this.dragOrigin$=new t.t(1)}setDragOrigin(a){const o=a.toString();this.dragOrigin$.next(o),this.origin=a}selectDragOrigin(){return this.dragOrigin$.asObservable()}getDragOrigin(){return this.origin}}return i.\u0275fac=function(a){return new(a||i)},i.\u0275prov=n.Yz7({token:i,factory:i.\u0275fac}),i})()},49415:(S,g,e)=>{"use strict";e.d(g,{J:()=>i});var t=e(97809),n=e(96105),s=e(84046);let i=(()=>{class r{constructor(){this.dropDestination$=new t.t(1)}setDropDestination(o){this.lastValue=o,this.dropDestination$.next(o)}selectDropDestination(){return this.dropDestination$.pipe((0,n.x)())}getDropDestination(){return this.lastValue}}return r.\u0275fac=function(o){return new(o||r)},r.\u0275prov=s.Yz7({token:r,factory:r.\u0275fac}),r})()},89875:(S,g,e)=>{"use strict";e.d(g,{O:()=>F});var t=e(55331),n=e(53488),s=e(73197),i=e(70822),r=e(35811),a=e(67761),o=e(28819),d=e(28241),h=e(80064),p=e(44366),f=e(67743),m=e(50292),v=e(62546),E=e(84046),C=e(78742),T=e(91676),y=e(49415),I=e(70989),P=e(19838),L=e(82245);let F=(()=>{class b extends v.H{constructor(B,M,w,K,k,G,$,X,ie,se,pe,ve,Ce,ye,de){super(B,M),this.ngZone=w,this.treeNodeHeight=K,this.internalEventHandler=k,this.dropDestinationRepository=G,this.dragOriginRepository=$,this.treeCommandService=X,this.dragStateRepository=ie,this.selectedItemsRepository=se,this.selectedItemsChildrenRepository=pe,this.draggedElementService=ve,this.tree=Ce,this.treeDraggedFromNodeStorage=ye,this.document=de,this.dragEnabled=!1,this.treeGridIdSubscription=new n.w,this.dragOverSubscription=new n.w,this.removerDragStartListener=new n.w,this.removeDragEndListener=new n.w,this.removeMouseDownListener=new n.w,this.dragContainerVisible=!0,this.listenersAttached=!1,this.dragged=!1,this.onDragStart=()=>{this.dropDestinationRepository.setDropDestination(this.tree),this.setTreeContainer(this.tree.getTreeId()),this.dragStateRepository.set(!0),this.clearSelection(),this.attachDragListeners(),this.hideDragHandle(),this.cloneNode(),this.createDragCounter();const Ie=this.tree.getAggregateTreeId();this.dragOriginRepository.setDragOrigin(Ie),this.treeCommandService.dragStart(Ie,this.draggedTreeNode),this.treeDraggedFromNodeStorage.set(this.draggedTreeNode),this.internalEventHandler.dispatch(new d.P3),this.dragged=!0},this.onDragOver=Ie=>{this.setDragRowPosition(Ie)},this.onDragEnd=()=>{this.treeCommandService.dragEnd(this.tree.getAggregateTreeId()),this.dragOverSubscription.unsubscribe(),this.removeDragEndListener&&this.removeDragEndListener.unsubscribe(),this.dragStateRepository.set(!1)},this.nativeElement=B.nativeElement}ngOnChanges(B){B.dragEnabled&&(this.dragEnabled&&!this.listenersAttached?this.attachListeners():this.listenersAttached&&this.detachListeners())}ngOnInit(){this.observeCounter(),this.observeDropDestination(),this.observeDragState()}finalize(){this.listenersAttached&&(this.treeGridIdSubscription&&this.treeGridIdSubscription.unsubscribe(),this.removerDragStartListener&&this.removerDragStartListener.unsubscribe(),this.removeDragEndListener&&this.removeDragEndListener.unsubscribe(),this.removeMouseDownListener&&this.removeMouseDownListener.unsubscribe(),this.listenersAttached=!1)}observeCounter(){this.tree.getConfig().selectChildren?this.selectedItemsChildrenRepository.selectSelectedItemsChildrenIds(this.tree.getAggregateTreeId()).pipe(this.takeUntilDestroy()).subscribe(M=>this.updateDragCounter(M.length)):this.selectedItemsRepository.selectIds(this.tree.getAggregateTreeId()).pipe(this.takeUntilDestroy()).subscribe(M=>this.updateDragCounter(M.length))}observeDragState(){this.dragStateRepository.select().pipe((0,i.h)(B=>this.dragged&&!B),this.takeUntilDestroy()).subscribe(()=>{this.dragged=!1,this.showDragHandle(),this.onDragEnd()})}observeDropDestination(){this.dropDestinationRepository.selectDropDestination().pipe((0,i.h)(()=>this.dragged),this.takeUntilDestroy()).subscribe(B=>this.setTreeContainer(B.getTreeId()))}clearSelection(){!window.getSelection||(window.getSelection().empty?window.getSelection().empty():window.getSelection().removeAllRanges&&window.getSelection().removeAllRanges())}hideDragHandle(){this.domManipulator.addHostStyle("opacity",String(0))}showDragHandle(){this.domManipulator.addHostStyle("opacity",String(1))}attachListeners(){this.ngZone.runOutsideAngular(()=>{this.removerDragStartListener=this.domManipulator.hostListen("mousedown").subscribe(this.onDragStart)}),this.listenersAttached=!0}detachListeners(){this.dragOverSubscription&&this.dragOverSubscription.unsubscribe(),this.treeGridIdSubscription&&this.treeGridIdSubscription.unsubscribe(),this.removerDragStartListener&&this.removerDragStartListener.unsubscribe(),this.removeDragEndListener&&this.removeDragEndListener.unsubscribe(),this.removeMouseDownListener&&this.removeMouseDownListener.unsubscribe(),this.listenersAttached=!1}setTreeContainer(B){this.containerElement=this.document.querySelector(`#${B}`)}cloneNode(){this.dragContainerVisible=!0,this.dragContainerWrapperElement=this.document.createElement("div"),this.draggedElementService.registerClone(this.dragContainerWrapperElement),this.setLayoutClass(),this.domManipulator.addStyle(this.dragContainerWrapperElement,"width",this.spDraggedTreeRow.offsetWidth+"px"),this.setDragContainerVisibility(!1),this.document.body.insertBefore(this.dragContainerWrapperElement,this.document.body.firstChild);const B=this.spDraggedTreeRow.cloneNode(!0);this.dragContainerWrapperElement.appendChild(B),this.domManipulator.addStyle(B,"overflow-y","hidden"),this.domManipulator.addClass(B,"node-selected")}createDragCounter(){this.counterElement=this.document.createElement("div"),this.counterElement.classList.add("sp-drag-counter"),this.dragContainerWrapperElement.appendChild(this.counterElement)}updateDragCounter(B){this.counterElement&&(this.counterElement.innerText=""+B)}setLayoutClass(){this.domManipulator.addClass(this.dragContainerWrapperElement,"sp-dragged-container"),this.treeNodeHeight.getLayout()===m.A.COMPACT?this.domManipulator.addClass(this.dragContainerWrapperElement,"sp-layout-compact"):this.treeNodeHeight.getLayout()===m.A.WIDE&&this.domManipulator.addClass(this.dragContainerWrapperElement,"sp-layout-wide")}attachDragListeners(){this.ngZone.runOutsideAngular(()=>{this.removeDragEndListener=(0,s.R)(this.document,"mouseup").subscribe(this.onDragEnd),this.dragOverSubscription=(0,s.R)(this.document,"mousemove").pipe((0,r.R)(this.dragEnd())).subscribe(B=>{this.clearSelection(),this.onDragOver(B),this.dragContainerVisible||this.setDragContainerVisibility(!0)})})}dragEnd(){return this.dragStateRepository.select().pipe((0,i.h)(B=>!B))}setDragContainerVisibility(B){this.dragContainerVisible=B,this.domManipulator.addStyle(this.dragContainerWrapperElement,"visibility",B?"visible":"hidden")}setDragRowPosition(B){let w=B.pageX+5;const K=B.pageY+5;this.stickyRow&&this.containerElement&&(this.containerElementXPos=this.containerElement.getBoundingClientRect().left,w=this.containerElementXPos),this.domManipulator.addStyle(this.dragContainerWrapperElement,"transform",`translateY(${K}px) translateX(${w}px)`)}}return b.\u0275fac=function(B){return new(B||b)(E.Y36(E.SBq),E.Y36(E.Qsj),E.Y36(E.R0b),E.Y36(C.M),E.Y36(T.c),E.Y36(y.J),E.Y36(I.N),E.Y36(h.z),E.Y36(f.N),E.Y36(a.G),E.Y36(P.u),E.Y36(L.t),E.Y36(o.mp),E.Y36(p.r),E.Y36(t.K0))},b.\u0275dir=E.lG2({type:b,selectors:[["","spTreeDrag",""]],inputs:{draggedTreeNode:["spTreeDrag","draggedTreeNode"],dragEnabled:["spTreeDragEnabled","dragEnabled"],spDraggedTreeRow:["spTreeDragTreeRow","spDraggedTreeRow"],stickyRow:["spTreeDragStickyRow","stickyRow"]},features:[E.qOj,E.TTD]}),b})()},82245:(S,g,e)=>{"use strict";e.d(g,{t:()=>s});var t=e(55331),n=e(84046);let s=(()=>{class i{constructor(a,o){this.rendererFactory2=a,this.document=o,this.renderer=a.createRenderer(null,null)}registerClone(a){this.dragContainerWrapperElement=a}removeClone(){this.dragContainerWrapperElement&&this.dragContainerWrapperElement.parentNode&&(this.dragContainerWrapperElement.parentNode.removeChild(this.dragContainerWrapperElement),this.dragContainerWrapperElement=null,this.removeAllZonesClass())}removeAllZonesClass(){const a=["sp-top-zone-active","sp-center-zone-active","sp-bottom-zone-active","sp-center-zone-treegrid-container"];Array.from(this.document.querySelectorAll(a.map(d=>`.sp-treegrid-row.${d}`).join(", "))).forEach(d=>a.forEach(h=>{this.renderer.removeClass(d,h)}))}}return i.\u0275fac=function(a){return new(a||i)(n.LFG(n.FYo),n.LFG(t.K0))},i.\u0275prov=n.Yz7({token:i,factory:i.\u0275fac}),i})()},44366:(S,g,e)=>{"use strict";e.d(g,{r:()=>n});var t=e(27609);class n extends t.V{constructor(){super()}}},87872:(S,g,e)=>{"use strict";e.d(g,{V:()=>h});var t=e(84046),n=e(55331),s=e(49549),i=e(28819),r=e(67743),a=e(62546),o=e(70989),d=e(49415);let h=(()=>{class p extends a.H{constructor(m,v,E,C,T,y,I){super(m,v),this.document=E,this.dragOriginRepository=C,this.dropDestinationRepository=T,this.treeDragStateRepository=y,this.tree=I,this.spTreeDropEnabled=!0,this.spTreeDropNodeIndex=-1,this.treeDrop=new t.vpe,this.listenersAttached=!1,this.dragOriginId=null,this.onDragEnter=()=>{!this.dragInProgress()||(this.removeAllZoneClasses(),this.dropDestinationRepository.setDropDestination(this.tree),this.setDropZoneStyles(!0))},this.onDragLeave=()=>{!this.dragInProgress()||this.setDropZoneStyles(!1)},this.onDrop=P=>{if(P.stopPropagation(),this.dropDestinationRepository.setDropDestination(this.tree),this.dragInProgress()){this.preventAndStop(P),this.removeDraggedContainer(),this.treeDrop.emit(this.dragOriginId);for(const L of this.getAllTreeContainers())this.domManipulator.removeClass(L,"sp-active-drop-zones")}},this.nativeElement=m.nativeElement}ngOnChanges(m){m.spTreeDropEnabled&&(this.spTreeDropEnabled&&!this.listenersAttached?this.attachListeners():this.listenersAttached&&this.detachListeners())}ngOnInit(){this.dragOriginRepository.selectDragOrigin().pipe(this.takeUntilDestroy()).subscribe(m=>{this.dragOriginId=m}),this.treeDragStateRepository.select().pipe(this.takeUntilDestroy()).subscribe(m=>{m&&this.spTreeDropEnabled&&!this.listenersAttached?this.attachListeners():!m&&this.listenersAttached&&this.detachListeners()})}finalize(){this.detachListeners()}dragInProgress(){return this.treeDragStateRepository.get()}attachListeners(){this.removeDragEnterListener$=this.domManipulator.hostListen("mouseenter").pipe(this.takeUntilDestroy()).subscribe(()=>this.onDragEnter()),this.removeDragLeaveListener$=this.domManipulator.hostListen("mouseleave").pipe(this.takeUntilDestroy()).subscribe(()=>this.onDragLeave()),this.removeDropListener$=this.domManipulator.hostListen("mouseup").pipe(this.takeUntilDestroy()).subscribe(m=>this.onDrop(m)),this.listenersAttached=!0}detachListeners(){this.removeDragEnterListener$&&this.removeDragEnterListener$.unsubscribe(),this.removeDragLeaveListener$&&this.removeDragLeaveListener$.unsubscribe(),this.removeDropListener$&&this.removeDropListener$.unsubscribe(),this.removeDragOverListener&&this.removeDragOverListener(),this.listenersAttached=!1}preventAndStop(m){m.preventDefault&&m.preventDefault(),m.stopPropagation&&m.stopPropagation()}setDropZoneStyles(m){const v=this.nativeElement.parentElement;v.classList.contains("sp-drop-top-zone")?this.setTopZoneClass(m):this.nativeElement.classList.contains("sp-drop-center-zone")||v.classList.contains("sp-drop-center-zone")?this.setCenterZoneClass(m):v.classList.contains("sp-drop-bottom-zone")?this.setBottomZoneClass(m):this.setTreeGridZoneClass(m)}setTopZoneClass(m){this.setClassOnDraggedRow("sp-top-zone-active",m)}setCenterZoneClass(m){this.setClassOnDraggedRow("sp-center-zone-active",m)}setBottomZoneClass(m){this.setClassOnDraggedRow("sp-bottom-zone-active",m)}setTreeGridZoneClass(m){this.setClassOnDraggedRow("sp-center-zone-treegrid-container",m)}setClassOnDraggedRow(m,v){v?this.domManipulator.addClass(this.spTreeDropDraggedRow,m):this.domManipulator.removeClass(this.spTreeDropDraggedRow,m)}removeDraggedContainer(){this.deferTask(()=>{const m=this.document.querySelector(".sp-dragged-container");m&&m.parentNode&&m.parentNode.removeChild(m),this.setTreeGridZoneClass(!1)})}removeAllZoneClasses(){const m=["sp-top-zone-active","sp-center-zone-active","sp-bottom-zone-active","sp-center-zone-treegrid-container"];Array.from(this.document.querySelectorAll(m.map(E=>`.sp-treegrid-row.${E}`).join(", "))).forEach(E=>m.forEach(C=>{this.domManipulator.removeClass(E,C)}))}getAllTreeContainers(){return Array.from(this.document.querySelectorAll(".sp-treegrid-container"))}deferTask(m,v=0){(0,s.H)(v).pipe(this.takeUntilDestroy()).subscribe(()=>m())}}return p.\u0275fac=function(m){return new(m||p)(t.Y36(t.SBq),t.Y36(t.Qsj),t.Y36(n.K0),t.Y36(o.N),t.Y36(d.J),t.Y36(r.N),t.Y36(i.mp))},p.\u0275dir=t.lG2({type:p,selectors:[["","spTreeDrop",""]],inputs:{spTreeDrop:"spTreeDrop",spTreeDropEnabled:"spTreeDropEnabled",spTreeDropDraggedRow:"spTreeDropDraggedRow",spTreeDropNodeIndex:"spTreeDropNodeIndex"},outputs:{treeDrop:"treeDrop"},features:[t.qOj,t.TTD]}),p})()},27625:(S,g,e)=>{"use strict";e.d(g,{u:()=>p});var t=e(84046),n=e(53488),i=(e(92574),e(60213)),r=e(32698),a=e(28819),o=e(55331);function d(f,m){1&f&&t.GkF(0)}function h(f,m){if(1&f&&(t.ynx(0),t.YNc(1,d,1,0,"ng-container",1),t.BQk()),2&f){const v=t.oxw();t.xp6(1),t.Q6J("ngComponentOutlet",v.component)("ngComponentOutletInjector",v.injectorExpression)("ngComponentOutletContent",v.contentNodes)}}let p=(()=>{class f{constructor(v,E,C){this.changeDetectorRef=v,this.viewContainerRef=E,this.injector=C,this.isVisible=!0,this.component=i.L,this.ready=!1,this.subscriptions=new n.w}ngOnChanges(){if(!this.treeComponent&&!this.onTreeNodeDrop){const v="TreeExternalDropZoneComponent requires @Input() 'treeComponent' or 'onTreeNodeDrop' to be declared";throw console.error(v),Error(v)}}ngAfterContentInit(){const v=setTimeout(()=>{this.projectContent()});this.removeSetTimeout=()=>clearTimeout(v),this.subscriptions.add(this.externalContent.changes.subscribe(()=>{this.projectContent()}))}ngOnDestroy(){this.subscriptions.unsubscribe(),this.removeSetTimeout&&this.removeSetTimeout()}projectContent(){this.viewRef&&(this.viewRef.destroy(),this.viewRef=null),this.viewRef=this.viewContainerRef.createEmbeddedView(this.externalContent.first),this.contentNodes=[this.viewRef.rootNodes],this.injectorExpression=this.createInjector(),this.ready=!0,this.changeDetectorRef.detectChanges()}createInjector(){const v=[];let E;this.onTreeNodeDrop&&v.push({provide:r.$,useValue:this.onTreeNodeDrop}),E=this.treeComponent?this.treeComponent.injector:this.injector;try{E.get(a.mp)}catch(C){v.push({provide:a.mp,useValue:new a.mp})}return t.zs3.create({providers:v,parent:E})}}return f.\u0275fac=function(v){return new(v||f)(t.Y36(t.sBO),t.Y36(t.s_b),t.Y36(t.zs3))},f.\u0275cmp=t.Xpm({type:f,selectors:[["sp-tree-external-drop-zone"],["","sp-tree-external-drop-zone",""]],contentQueries:function(v,E,C){if(1&v&&t.Suo(C,t.Rgc,4),2&v){let T;t.iGM(T=t.CRH())&&(E.externalContent=T)}},inputs:{treeComponent:"treeComponent",onTreeNodeDrop:"onTreeNodeDrop",isVisible:"isVisible"},features:[t.TTD],decls:1,vars:1,consts:[[4,"ngIf"],[4,"ngComponentOutlet","ngComponentOutletInjector","ngComponentOutletContent"]],template:function(v,E){1&v&&t.YNc(0,h,2,3,"ng-container",0),2&v&&t.Q6J("ngIf",E.ready&&E.isVisible)},directives:[o.O5,o.$G],encapsulation:2,changeDetection:0}),f})()},60213:(S,g,e)=>{"use strict";e.d(g,{L:()=>o});var t=e(28819),n=e(32698),s=e(84046),i=e(73983);function r(d,h){1&d&&s.Hsn(0)}const a=["*"];let o=(()=>{class d{constructor(p,f){this.tree=p,this.onTreeNodeDrop=f}}return d.\u0275fac=function(p){return new(p||d)(s.Y36(t.mp,8),s.Y36(n.$,8))},d.\u0275cmp=s.Xpm({type:d,selectors:[["sp-tree-internal-drop-zone"]],ngContentSelectors:a,decls:5,vars:4,consts:[[1,"sp-internal-drop-zone-container"],["mockTreeRow",""],[1,"sp-drop-treegrid-zone",3,"node","draggedTreeRow","allowSameTree","onTreeNodeDrop"],["zoneContent",""]],template:function(p,f){if(1&p&&(s.F$t(),s.TgZ(0,"div",0,1),s.TgZ(2,"sp-tree-active-drop-zone",2),s.YNc(3,r,1,0,"ng-template",null,3,s.W1O),s.qZA(),s.qZA()),2&p){const m=s.MAs(1);s.xp6(2),s.Q6J("node",f.tree.treeRoot)("draggedTreeRow",m)("allowSameTree",!1)("onTreeNodeDrop",f.onTreeNodeDrop)}},directives:[i.b],encapsulation:2,changeDetection:0}),d})()},73983:(S,g,e)=>{"use strict";e.d(g,{b:()=>d}),e(28819);var n=e(84046),s=e(87872),i=e(55331);const r=["zoneContent"];function a(h,p){1&h&&n.GkF(0)}function o(h,p){if(1&h&&(n.ynx(0),n.YNc(1,a,1,0,"ng-container",2),n.BQk()),2&h){const f=n.oxw();n.xp6(1),n.Q6J("ngTemplateOutlet",f.zoneContent)}}let d=(()=>{class h{constructor(){this.allowSameTree=!0,this.nodeIndex=-1,this.enabled=!0}getNode(){if(this.node)return null!=this.node.parent?this.node.getParent():this.node}}return h.\u0275fac=function(f){return new(f||h)},h.\u0275cmp=n.Xpm({type:h,selectors:[["sp-tree-active-drop-zone"]],contentQueries:function(f,m,v){if(1&f&&n.Suo(v,r,5),2&f){let E;n.iGM(E=n.CRH())&&(m.zoneContent=E.first)}},inputs:{node:"node",allowSameTree:"allowSameTree",nodeIndex:"nodeIndex",draggedTreeRow:"draggedTreeRow",onTreeNodeDrop:"onTreeNodeDrop",enabled:["spTreeDropEnabled","enabled"]},decls:2,vars:5,consts:[[1,"sp-tree-active-drop-zone",3,"spTreeDrop","spTreeDropEnabled","spTreeDropDraggedRow","spTreeDropNodeIndex","treeDrop"],[4,"ngIf"],[4,"ngTemplateOutlet"]],template:function(f,m){1&f&&(n.TgZ(0,"div",0),n.NdJ("treeDrop",function(E){return m.onTreeNodeDrop(E)}),n.YNc(1,o,2,1,"ng-container",1),n.qZA()),2&f&&(n.Q6J("spTreeDrop",m.getNode())("spTreeDropEnabled",m.enabled)("spTreeDropDraggedRow",m.draggedTreeRow)("spTreeDropNodeIndex",m.nodeIndex),n.xp6(1),n.Q6J("ngIf",m.zoneContent))},directives:[s.V,i.O5,i.tP],styles:["[_nghost-%COMP%], [_nghost-%COMP%]   .sp-tree-active-drop-zone[_ngcontent-%COMP%]{height:100%;width:100%}"],changeDetection:0}),h})()},55524:(S,g,e)=>{"use strict";e.d(g,{X:()=>r});var t=e(38568),n=e(78611);class s{canAdd(){return!0}}var i=e(85105);let r=(()=>{class a{getIsEnabled(){return this.isEnabled}getInlineAddDialogConfig(){return this.treeInlineAddDialogConfig}getInlineAddResolver(){return this.inlineAddResolver}getInlineAddDropdownConfig(){return this.treeInlineAddDropdownConfig}getInlineAddDialogComponent(){return this.inlineAddDialogComponent}getInlineAddTooltipText(){return this.inlineAddTooltipText}}return a.Builder=class extends i.I{constructor(){super(...arguments),this.isEnabled=!1,this.inlineAddResolver=new s,this.treeInlineAddDialogConfig=(new n.$.Builder).build(),this.treeInlineAddDropdownConfig=(new t.O.Builder).build(),this.inlineAddTooltipText=""}build(){const d=new a;return d.isEnabled=this.isEnabled,d.inlineAddResolver=this.inlineAddResolver,d.treeInlineAddDialogConfig=this.treeInlineAddDialogConfig,d.treeInlineAddDropdownConfig=this.treeInlineAddDropdownConfig,d.inlineAddDialogComponent=this.inlineAddDialogComponent,d.inlineAddTooltipText=this.inlineAddTooltipText,d}withInlineAdd(d){return this.isEnabled=d,this}withInlineAddDialog(d){return this.treeInlineAddDialogConfig=d,this}withInlineAddResolver(d){return this.inlineAddResolver=d,this}withInlineAddDropdown(d){return this.treeInlineAddDropdownConfig=d,this}withCustomComponent(d,h){return this.inlineAddDialogComponent={component:d,data:h},this}withInlineAddTooltipText(d){return this.inlineAddTooltipText=d,this}},a})()},30161:(S,g,e)=>{"use strict";e.d(g,{r:()=>i});var t=e(97809),n=e(55524),s=e(84046);let i=(()=>{class r{constructor(){this.map=new Map,this.configChanged$=new t.t(1)}static default(){return(new n.X.Builder).build()}isEnabled(o){return this.getById(o).getIsEnabled()}getResolver(o){return this.getById(o).getInlineAddResolver()}getInlineAddDialogComponent(o){return this.getById(o).getInlineAddDialogComponent()}getIndentResolver(o){return this.getDialogConfig(o).getIndentResolver()}isDialogEnabled(o){return this.getDialogConfig(o).getIsEnabled()}getDialogConfig(o){return this.getById(o).getInlineAddDialogConfig()}getDropdownConfig(o){return this.getById(o).getInlineAddDropdownConfig()}getTooltipText(o){var d;return null===(d=this.getById(o))||void 0===d?void 0:d.getInlineAddTooltipText()}set(o,d){const h=o.toString();this.map.set(h,d),this.configChanged$.next()}selectConfigChanged(){return this.configChanged$.asObservable()}getById(o){const d=o.toString();return this.map.get(d)||r.default()}}return r.\u0275fac=function(o){return new(o||r)},r.\u0275prov=s.Yz7({token:r,factory:r.\u0275fac}),r})()},16781:(S,g,e)=>{"use strict";e.d(g,{k:()=>t});class t{constructor(s,i,r){this.siblingId=s,this.indent=i,this.selectedDropdownItemId=r}getNodeId(){return this.siblingId}getIndent(){return this.indent}getSelectedDropdownItemId(){return this.selectedDropdownItemId}}},8423:(S,g,e)=>{"use strict";e.d(g,{Y:()=>F});var t=e(28819),n=e(91771),s=e(83020),i=e(62546),r=e(95900),a=e(86562),o=e(84046),d=e(52861),h=e(30161),p=e(14878),f=e(55331),m=e(91490),v=e(68890),E=e(3133),C=e(94944),T=e(65799);const y=function(b){return{currentlyIndenting:b}};function I(b,x){if(1&b){const B=o.EpF();o.TgZ(0,"div",4),o.NdJ("click",function(w){return o.CHM(B),o.oxw(2).toggleIndent(w)}),o.ALo(1,"spRichTextString"),o.ALo(2,"spL10nText"),o._UZ(3,"span",5),o.qZA()}if(2&b){const B=o.oxw(2);o.ekj("sp-animation__pulse-up",B.firstInit&&B.pulsatingArrow),o.Q6J("spTooltip",o.lcZ(1,9,o.xi3(2,11,"SPT_COMMON_INLINE_ADD_DIALOG_BUTTON_TOGGLE_INDENT",o.VKq(14,y,B.currentlyIndenting))))("spTooltipGravity",B.gravity.WEST),o.xp6(3),o.ekj("fa-arrow-right",!B.currentlyIndenting)("fa-arrow-left",B.currentlyIndenting),o.uIk("id",B.indentButtonId)}}function P(b,x){if(1&b&&(o.ynx(0),o.YNc(1,I,4,16,"div",3),o.ALo(2,"spIndentPipe"),o.BQk()),2&b){const B=o.oxw();o.xp6(1),o.Q6J("ngIf",o.Dn7(2,1,B.getIndentResolver(),B.getNode(),B.currentlyIndenting))}}const L="stop-showing-pulsating-arrow";let F=(()=>{class b extends i.H{constructor(B,M,w,K,k,G,$,X,ie){super(B,M),this.changeDetectorRef=w,this.sessionStorage=K,this.addNodeStorage=k,this.tree=G,this.localActionDispatcher=$,this.treeInlineAddConfigStorage=X,this.aggregateTreeId=ie,this.pulsatingArrow=!1,this.loaderVisible=!0,this.firstInit=!0,this.gravity=r.X,this.loaderVisibilityChangeCounter=0,this.shouldToggle=!0}ngOnInit(){this.shouldShowPulsatingArrow()&&(this.pulsatingArrow=!0,this.dontShowPulsatingArrowAgainInCurrentSession()),this.selectIndentStatus(),this.indentButtonId=this.setIndentButtonId()}setIndentButtonId(){return this.currentlyIndenting?"sp-inline-add-dialog-indent-btn-on":"sp-inline-add-dialog-indent-btn-off"}toggleIndent(){this.loaderVisible||(this.shouldToggle=!1,this.toggleExpandNode(!this.currentlyIndenting),this.setIndentStatus(!this.currentlyIndenting),this.indentButtonId=this.setIndentButtonId(),this.changeDetectorRef.detectChanges())}loaderVisibleStatusChanged(B){this.loaderVisible=B,0!==this.loaderVisibilityChangeCounter&&(this.firstInit=!1),this.loaderVisibilityChangeCounter++,this.changeDetectorRef.detectChanges()}getIndentResolver(){return this.treeInlineAddConfigStorage.getIndentResolver(this.aggregateTreeId)}getNode(){const B=this.getNodeById(this.addNodeStorage.getNodeId(this.aggregateTreeId));return this.currentlyIndenting?B.getParent():this.sibling}getHostClasses(){return["sp-tree-inline-add-dialog","sp-absolute","sp-block","sp-bg-background","sp-border","sp-p-2","sp-shadow","sp-z-2"]}shouldShowPulsatingArrow(){return!this.sessionStorage.getItem(L)}dontShowPulsatingArrowAgainInCurrentSession(){this.sessionStorage.setItem(L,!0)}selectIndentStatus(){this.addNodeStorage.selectIndentStatus(this.aggregateTreeId).pipe(this.takeUntilDestroy()).subscribe(B=>{this.currentlyIndenting=B,this.shouldToggle&&this.toggleExpandNode(this.currentlyIndenting),this.shouldToggle=!0,this.indentBtnVisible=!0;const M=this.getNodeById(this.addNodeStorage.getNodeId(this.aggregateTreeId));this.currentlyIndenting?(this.parentNode=M,this.sibling=null):(this.parentNode=M.getParent(),this.sibling=M),this.changeDetectorRef.detectChanges()})}toggleExpandNode(B){const M=this.getNodeById(this.addNodeStorage.getNodeId(this.aggregateTreeId));B?this.expandNode(M):this.collapseNode(M)}setIndentStatus(B){this.addNodeStorage.setIndentStatus(this.aggregateTreeId,B)}getNodeById(B){return this.tree.getNodeById(B)}isExpandable(B){return this.tree.isExpandable(B)}expandNode(B){if(this.isExpandable(B)){const M=new n.EQ(B);this.executeExpand(B,!0,M)}}collapseNode(B){const M=new n.Ce(B);this.executeExpand(B,!1,M)}executeExpand(B,M,w){this.localActionDispatcher.dispatch(w),this.isExpandEnabled()&&this.tree.expandNode(B.id,M)}isExpandEnabled(){return!this.tree.getConfig().blockExpand}}return b.selector="sp-tree-inline-add-dialog",b.\u0275fac=function(B){return new(B||b)(o.Y36(o.SBq),o.Y36(o.Qsj),o.Y36(o.sBO),o.Y36(a.x),o.Y36(s.I),o.Y36(t.mp),o.Y36(d.c),o.Y36(h.r),o.Y36(p.H))},b.\u0275cmp=o.Xpm({type:b,selectors:[["sp-tree-inline-add-dialog"]],inputs:{lastSelectedItemId:"lastSelectedItemId"},features:[o.qOj],decls:3,vars:4,consts:[[4,"ngIf"],["id","sp-inline-add-dialog-container",1,"sp-inline-add-dialog-container"],[3,"parentNode","sibling","lastSelectedItemId","loaderVisibleStatusChanged"],["class","sp-tree-inline-add-dialog__indent-arrow-btn sp-absolute sp-text-s sp-circle sp-fg-white sp-bg-info sp-flex sp-justify-center sp-items-center sp-cursor-pointer","id","sp-inline-add-dialog-indent-btn",3,"spTooltip","spTooltipGravity","sp-animation__pulse-up","click",4,"ngIf"],["id","sp-inline-add-dialog-indent-btn",1,"sp-tree-inline-add-dialog__indent-arrow-btn","sp-absolute","sp-text-s","sp-circle","sp-fg-white","sp-bg-info","sp-flex","sp-justify-center","sp-items-center","sp-cursor-pointer",3,"spTooltip","spTooltipGravity","click"],[1,"fas"]],template:function(B,M){1&B&&(o.YNc(0,P,3,5,"ng-container",0),o.TgZ(1,"div",1),o.TgZ(2,"sp-tree-inline-add-dialog-form",2),o.NdJ("loaderVisibleStatusChanged",function(K){return M.loaderVisibleStatusChanged(K)}),o.qZA(),o.qZA()),2&B&&(o.Q6J("ngIf",!M.loaderVisible&&M.indentBtnVisible),o.xp6(2),o.Q6J("parentNode",M.parentNode)("sibling",M.sibling)("lastSelectedItemId",M.lastSelectedItemId))},directives:[f.O5,m.x,v.i9],pipes:[E.O,C.C,T.L],styles:[".sp-tree-inline-add-dialog{min-height:90px}.sp-tree-inline-add-dialog__indent-arrow-btn{top:12px;left:-20px;width:24px;height:24px;font-weight:900;transition:rotate .2s}.sp-tree-inline-add-dialog .sp-form-group:first-child{margin-top:0}\n"],encapsulation:2,changeDetection:0}),b})()},78611:(S,g,e)=>{"use strict";e.d(g,{$:()=>o});class t{getDocumentationLink(){return""}}class n{canIndent(h){return{showIndicator:!0}}canOutdent(h){return!0}withButton(){return!0}}class s{execute(){return new Promise(h=>h([]))}}var i=e(95459);class r{execute(){return new Promise(h=>h(new i._([])))}}var a=e(85105);let o=(()=>{class d{getIsEnabled(){return this.isEnabled}getIsButtonsVisible(){return this.isButtonsVisible}getMinimalWidth(){return this.minimalWidth}getIsShortcutsEnabled(){return this.isShortcutsEnabled}getDocumentationLinkResolver(){return this.documentationLinkResolver}getIndentResolver(){return this.indentResolver}getFormControlsResolver(){return this.formControlsResolver}getFormDropdownItemsResolver(){return this.formDropdownItemsResolver}}return d.Builder=class extends a.I{constructor(){super(...arguments),this.isEnabled=!1,this.isButtonsVisible=!0,this.minimalWidth=200,this.isShortcutsEnabled=!0,this.documentationLinkResolver=new t,this.indentResolver=new n,this.formControlsResolver=new s,this.formDropdownItemsResolver=new r}build(){const p=new d;return p.isEnabled=this.isEnabled,p.isButtonsVisible=this.isButtonsVisible,p.minimalWidth=this.minimalWidth,p.isShortcutsEnabled=this.isShortcutsEnabled,p.documentationLinkResolver=this.documentationLinkResolver,p.indentResolver=this.indentResolver,p.formControlsResolver=this.formControlsResolver,p.formDropdownItemsResolver=this.formDropdownItemsResolver,p}withInlineAddDialog(p){return this.isEnabled=p,this}withButtonVisible(p){return this.isButtonsVisible=p,this}withMinimalWidth(p){return this.minimalWidth=p,this}withShortcuts(p){return this.isShortcutsEnabled=p,this}withDocumentationLinkResolver(p){return this.documentationLinkResolver=p,this}withIndentResolver(p){return this.indentResolver=p,this}withFormControlsResolver(p){return this.formControlsResolver=p,this}withFormDropdownItemsResolver(p){return this.formDropdownItemsResolver=p,this}},d})()},1392:(S,g,e)=>{"use strict";e.d(g,{l:()=>E});var t=e(83020),n=e(71118),s=e(95900),i=e(64026),r=e(52265),a=e(90850),o=e(73197),d=e(35811),h=e(84046),p=e(17199),f=e(78742),m=e(13087),v=e(45927);let E=(()=>{class C{constructor(y,I,P,L,F,b,x){this.injector=y,this.renderer=I,this.positionCalculator=P,this.treeNodeHeight=L,this.treeDomElement=F,this.treeInlineAddRepository=b,this.componentOutlet=x,this.DIALOG_PADDING=4,this.positionCalculatorParams=r.i.default().withAlignment(i.e.LEFT).withGravity(s.X.SOUTH),this.removeAddDialogBlanketClickListener$=new a.xQ}setInlineAddDialogComponent(y){this.inlineAddDialogComponent=y.component,this.inlineAddDialogComponentData=y.data}open(y,I,P){this.createDialog(P),this.dialogElement=n.l.getDOMElementFromComponentRef(this.dialogRef),this.setDialogAnchor(y),this.setDialogWidth(I),this.setDialogPosition(),this.showBlanket(),this.listenAddDialogBlanketClick()}destroy(){this.dialogRef&&this.dialogRef.destroy(),this.dialogRef=null,this.dialogElement=null,this.anchor=null,this.hideBlanket(),this.removeAddDialogBlanketClickListener$.next()}setDialogAnchor(y){this.anchor=y}showDialog(){this.renderer.setStyle(this.dialogElement,"display","block")}hideDialog(){this.renderer.setStyle(this.dialogElement,"display","none")}isDialogOpened(){return!!this.dialogRef}setDialogPosition(y){let I;I=this.calculateDialogPosition(this.dialogElement,y||this.anchor),this.renderer.setStyle(this.dialogElement,"top",n.l.numberToPxString(I.top)),this.renderer.setStyle(this.dialogElement,"left",n.l.numberToPxString(I.left))}setDialogWidth(y){this.renderer.setStyle(this.dialogElement,"width",y+"px")}createDialog(y){if(this.dialogRef=this.componentOutlet.createComponent(this.inlineAddDialogComponent,this.injector),this.dialogRef.instance.lastSelectedItemId=y,this.inlineAddDialogComponentData)for(const I in this.inlineAddDialogComponentData)this.inlineAddDialogComponentData.hasOwnProperty(I)&&(this.dialogRef.instance[I]=this.inlineAddDialogComponentData[I]);this.dialogRef.changeDetectorRef.detectChanges()}calculateDialogPosition(y,I){return this.positionCalculator.calculateNewElementsPosition(this.positionCalculatorParams.withLinkedElements({element:y,anchor:I}).withMargin(this.calculateDialogMargin()))}calculateDialogMargin(){return-(this.treeNodeHeight.getNodeHeight()/2+this.DIALOG_PADDING)}showBlanket(){this.renderer.setStyle(this.treeDomElement.getTreeInlineAddBlanket(),"display","block")}hideBlanket(){this.renderer.setStyle(this.treeDomElement.getTreeInlineAddBlanket(),"display","none")}listenAddDialogBlanketClick(){(0,o.R)(this.treeDomElement.getTreeInlineAddBlanket(),"click").pipe((0,d.R)(this.removeAddDialogBlanketClickListener$)).subscribe(()=>{this.treeInlineAddRepository.clearAll()})}}return C.\u0275fac=function(y){return new(y||C)(h.LFG(h.zs3),h.LFG(h.Qsj),h.LFG(p.o),h.LFG(f.M),h.LFG(m.E),h.LFG(t.I),h.LFG(v.r))},C.\u0275prov=h.Yz7({token:C,factory:C.\u0275fac}),C})()},3133:(S,g,e)=>{"use strict";e.d(g,{O:()=>n});var t=e(84046);let n=(()=>{class s{transform(r,a,o){const d=r.withButton();if(!d)return d;if(o)return r.canOutdent(a);{const h=r.canIndent(a);return h.showIndicator&&!h.disabled}}}return s.\u0275fac=function(r){return new(r||s)},s.\u0275pipe=t.Yjl({name:"spIndentPipe",type:s,pure:!0}),s})()},91490:(S,g,e)=>{"use strict";e.d(g,{x:()=>Me});var t=e(84046),n=e(79906),s=e(49549),i=e(63833),r=e(98274),a=e(97433),o=e(86495),d=e(55688),h=e(93051),p=e(82613),m=(e(28819),e(83020)),v=e(60508),E=e(80064),C=e(1392),T=e(7321),y=e(66319),I=e(19446),P=e(31641),L=e(69085),F=e(62546),b=e(95900),x=e(42333),B=e(14878),M=e(30161),w=e(55331),K=e(55472),k=e(34909),G=e(68890),$=e(44864),X=e(62419),ie=e(26463),se=e(99721),pe=e(29893),ve=e(69001),Ce=e(83063),ye=e(56293),de=e(94944),Ie=e(65799);const He=["dropdownBtnTrigger"];function Ve(Ze,Ne){if(1&Ze&&(t.TgZ(0,"span"),t._uU(1),t.qZA()),2&Ze){const we=t.oxw(2);t.xp6(1),t.hij(" ",we.selectedItem.selectedItemShortName," ")}}function Ue(Ze,Ne){if(1&Ze&&(t.TgZ(0,"span"),t._uU(1),t.qZA()),2&Ze){const we=t.oxw(2);t.xp6(1),t.hij(" ",we.selectedItem.fullName," ")}}function xe(Ze,Ne){1&Ze&&t.GkF(0)}function gt(Ze,Ne){1&Ze&&t.GkF(0)}const tt=function(Ze){return{item:Ze}};function lt(Ze,Ne){if(1&Ze){const we=t.EpF();t.TgZ(0,"sp-dropdown-item",17),t.NdJ("itemClick",function(){const zt=t.CHM(we).$implicit;return t.oxw(3).selectedItemChanged(zt)}),t.ALo(1,"spL10nText"),t.TgZ(2,"div",18),t.YNc(3,xe,1,0,"ng-container",19),t.YNc(4,gt,1,0,"ng-container",19),t.TgZ(5,"span"),t._uU(6),t.qZA(),t.qZA(),t.qZA()}if(2&Ze){const we=Ne.$implicit;t.oxw(3);const At=t.MAs(7),Rt=t.MAs(9);t.Q6J("id",we.id)("disabled",we.disabled)("tooltip",t.lcZ(1,8,we.tooltipText)),t.xp6(3),t.Q6J("ngTemplateOutlet",At)("ngTemplateOutletContext",t.VKq(10,tt,we)),t.xp6(1),t.Q6J("ngTemplateOutlet",Rt)("ngTemplateOutletContext",t.VKq(12,tt,we)),t.xp6(2),t.Oqu(we.fullName)}}function Mt(Ze,Ne){if(1&Ze&&(t.TgZ(0,"sp-dropdown-menu-group",15),t.ALo(1,"spL10nText"),t.YNc(2,lt,7,14,"sp-dropdown-item",16),t.qZA()),2&Ze){const we=Ne.$implicit,At=t.oxw(2);t.Q6J("header",we.items.length?t.lcZ(1,4,we.title):"")("contentContainerClass","sp-tree-inline-add-dialog-form__box-type-dropdown-menu-group sp-overflow-y-auto"),t.xp6(2),t.Q6J("ngForOf",we.items)("ngForTrackBy",At.dropdownItemsTrackByFn)}}function ne(Ze,Ne){if(1&Ze&&(t.TgZ(0,"sp-dropdown-item"),t.TgZ(1,"a",22),t._uU(2),t.ALo(3,"spL10nText"),t.qZA(),t.qZA()),2&Ze){const we=Ne.$implicit;t.xp6(1),t.Q6J("spNavigationLink",we.link),t.xp6(1),t.Oqu(t.lcZ(3,2,we.text))}}function De(Ze,Ne){if(1&Ze&&(t.TgZ(0,"sp-dropdown-menu-group",20),t.YNc(1,ne,4,4,"sp-dropdown-item",21),t.qZA()),2&Ze){const we=t.oxw(2);t.Q6J("contentContainerClass","sp-tree-inline-add-dialog-form__box-type-dropdown-menu-group sp-overflow-y-auto")("type",we.dropdownItemType.LINK),t.xp6(1),t.Q6J("ngForOf",we.dropdownCustomButtons)("ngForTrackBy",we.dropdownCustomButtonsTrackByFn)}}function Ye(Ze,Ne){if(1&Ze&&(t.TgZ(0,"sp-dropdown",7),t.TgZ(1,"button",8,9),t.ALo(3,"spRichTextString"),t.YNc(4,Ve,2,1,"span",10),t.YNc(5,Ue,2,1,"ng-template",null,11,t.W1O),t._UZ(7,"i",12),t.qZA(),t.YNc(8,Mt,3,6,"sp-dropdown-menu-group",13),t.YNc(9,De,2,4,"sp-dropdown-menu-group",14),t.qZA()),2&Ze){const we=t.MAs(6),At=t.oxw();t.xp6(1),t.Q6J("spTooltip",t.lcZ(3,7,At.selectedItem.fullName))("spTooltipGravity",At.gravity.NORTH),t.xp6(3),t.Q6J("ngIf",At.selectedItem.selectedItemShortName)("ngIfElse",we),t.xp6(4),t.Q6J("ngForOf",At.dropdownItemGroups)("ngForTrackBy",At.dropdownItemGroupsTrackByFn),t.xp6(1),t.Q6J("ngIf",At.dropdownCustomButtons)}}function Qe(Ze,Ne){if(1&Ze&&(t.ynx(0),t._UZ(1,"sp-form-field",28),t.BQk()),2&Ze){const we=t.oxw(2);t.xp6(1),t.Q6J("id",we.mainFormControl.id)("className","sp-tree-inline-add-dialog-form__form-main-control")("type",we.mainFormControl.type)("name",we.mainFormControl.name)("value",we.mainFormControl.value)("config",we.mainFormControl.config)("validators",we.mainFormControl.validators)("placeholder",we.mainFormControl.placeholder)("disabled",we.mainFormControl.disabled)}}function Ke(Ze,Ne){if(1&Ze&&(t.ynx(0),t._UZ(1,"sp-form-field",30),t.ALo(2,"spL10nText"),t.BQk()),2&Ze){const we=Ne.$implicit;t.xp6(1),t.Q6J("id",we.id)("type",we.type)("name",we.name)("value",we.value)("config",we.config)("validators",we.validators)("placeholder",we.placeholder)("label",t.lcZ(2,10,we.label))("disabled",we.disabled)("className",we.className)}}function it(Ze,Ne){if(1&Ze&&(t.TgZ(0,"sp-form-group",29),t.YNc(1,Ke,3,12,"ng-container",21),t.qZA()),2&Ze){const we=t.oxw(2);t.Q6J("id","sp-add-dialog-required-form-controls-group")("className","sp-tree-inline-add-dialog-form__form-required-control"),t.xp6(1),t.Q6J("ngForOf",we.requiredFormControls)("ngForTrackBy",we.requiredFormControlsTrackByFn)}}function Se(Ze,Ne){if(1&Ze&&t._UZ(0,"sp-form-field",26),2&Ze){const we=t.oxw(2);t.Q6J("type",we.formFieldType.NONE)("name","selectedItemId")("value",we.selectedItem.id)}}function Ct(Ze,Ne){if(1&Ze){const we=t.EpF();t.TgZ(0,"sp-form",23),t.NdJ("validStatusChange",function(Rt){return t.CHM(we),t.oxw().onFormValidStatusChange(Rt)}),t.TgZ(1,"sp-form-group",24),t.YNc(2,Qe,2,9,"ng-container",3),t.qZA(),t.YNc(3,it,2,4,"sp-form-group",25),t._UZ(4,"sp-form-field",26),t._UZ(5,"sp-form-field",26),t.YNc(6,Se,1,3,"sp-form-field",27),t.qZA()}if(2&Ze){const we=t.oxw();t.Q6J("configuration",we.formConfiguration)("strategy",we.formStrategy),t.xp6(1),t.Q6J("className",we.selectedItem?"sp-tree-inline-add-dialog-form__form-group-main-control":""),t.xp6(1),t.Q6J("ngIf",we.mainFormControl),t.xp6(1),t.Q6J("ngIf",we.requiredFormControls.length),t.xp6(1),t.Q6J("type",we.formFieldType.NONE)("name","parentNode")("value",we.parentNode),t.xp6(1),t.Q6J("type",we.formFieldType.NONE)("name","sibling")("value",we.sibling),t.xp6(1),t.Q6J("ngIf",we.selectedItem)}}function Lt(Ze,Ne){if(1&Ze){const we=t.EpF();t.TgZ(0,"div"),t.TgZ(1,"button",31),t.NdJ("click",function(){return t.CHM(we),t.oxw().submit()}),t._uU(2),t.ALo(3,"spL10nText"),t.qZA(),t.TgZ(4,"button",32),t.NdJ("click",function(){return t.CHM(we),t.oxw().closeDialog()}),t._uU(5),t.ALo(6,"spL10nText"),t.qZA(),t.qZA()}if(2&Ze){const we=t.oxw();t.xp6(1),t.Q6J("disabled",we.saveBtnDisabled),t.xp6(1),t.hij(" ",t.lcZ(3,3,"SPT_OVERVIEW_ADD_FORM_BUTTON_CREATE")," "),t.xp6(3),t.hij(" ",t.lcZ(6,5,"SPT_OVERVIEW_ADD_FORM_BUTTON_CANCEL")," ")}}function Vt(Ze,Ne){if(1&Ze&&(t.TgZ(0,"a",33),t._UZ(1,"i",34),t.qZA()),2&Ze){const we=t.oxw();t.uIk("href",we.documentationLink,t.LSH)}}function St(Ze,Ne){if(1&Ze&&(t.ynx(0),t.TgZ(1,"div",35),t._UZ(2,"sp-circle-loader",36),t.qZA(),t.BQk()),2&Ze){const we=t.oxw();t.xp6(2),t.Q6J("configuration",we.loaderConfiguration)}}function $t(Ze,Ne){if(1&Ze&&t._UZ(0,"sp-icon",38),2&Ze){const we=t.oxw().item;t.Q6J("name",we.icon.getName())}}function yt(Ze,Ne){1&Ze&&t.YNc(0,$t,1,1,"sp-icon",37),2&Ze&&t.Q6J("ngIf",Ne.item.icon)}function Ft(Ze,Ne){if(1&Ze&&t._UZ(0,"sp-color-presenter",40),2&Ze){const we=t.oxw().item;t.Q6J("color",we.color)}}function ot(Ze,Ne){1&Ze&&t.YNc(0,Ft,1,1,"sp-color-presenter",39),2&Ze&&t.Q6J("ngIf",Ne.item.color)}let Me=(()=>{class Ze extends F.H{constructor(we,At,Rt,zt,Yt,ln,pn,nn,hn){super(we,At),this.changeDetectorRef=Rt,this.shortcutService=zt,this.addRepository=Yt,this.addDialogFactory=ln,this.treeCommandService=pn,this.aggregateId=nn,this.treeInlineAddConfigStorage=hn,this.loaderVisibleStatusChanged=new t.vpe,this.loaderVisible=!0,this.gravity=b.X,this.requiredFormControls=[],this.requiredFormControlsTrackByFn=x.M.create("id"),this.formVisible=!1,this.formFieldType=T.E,this.formStrategy=y.k.SP_MESSAGES,this.formConfiguration=P.E.default().withLabelAboveInput(!0).withClearAfterSubmit(!1),this.dropdownItemGroupsTrackByFn=x.M.create("title"),this.dropdownItemsTrackByFn=x.M.create("id"),this.dropdownCustomButtonsTrackByFn=x.M.create("text","link.href"),this.documentationLink="",this.dropdownItemType=L.H,this.saveBtnDisabled=!0,this.formProcessing=!1,this.formInvalid=!0,this.dialogConfig=hn.getDialogConfig(this.aggregateId),this.dropdownConfig=hn.getDropdownConfig(this.aggregateId)}ngOnChanges(we){we.parentNode&&we.parentNode.previousValue&&(this.changeLoaderVisibleStatus(!0),this.init(!0))}ngOnInit(){this.treeCommandService.unselectItems(this.aggregateId),this.initShortcuts(),this.setLoaderConfiguration(),this.init()}finalize(){this.shortcutService.removeShortcutGroup(this.shortcutGroup)}submit(){this.formInvalid||this.formProcessing||(this.setFormProcessingStatus(!0),this.formRef.submitWithStatus().pipe((0,i.q)(1),this.takeUntilDestroy()).subscribe(()=>{this.destroy()},()=>{this.setFormProcessingStatus(!1)}))}closeDialog(){this.destroy(),this.lastSelectedItemId&&this.treeCommandService.selectItem(this.aggregateId,this.lastSelectedItemId,v.M.ONE)}destroy(){this.addRepository.clearAll()}onFormValidStatusChange(we){this.formInvalid=!we,this.updateSaveBtnDisabledValue()}selectedItemChanged(we){if(!we.disabled){if(we.customActionOnClick)return void we.customActionOnClick(we.id);this.changeLoaderVisibleStatus(!0),this.changeSelectedItem(we),this.setDropdownBtnStyles(),this.changeDetectorRef.detectChanges(),(0,n.D)(this.singleSelectFormControls()).pipe(this.takeUntilDestroy()).subscribe(At=>{this.buildForm(At,!0)})}}isButtonVisible(){return this.dialogConfig.getIsButtonsVisible()}getHostClasses(){return["sp-tree-inline-add-dialog-form"]}initShortcuts(){!this.dialogConfig.getIsShortcutsEnabled()||(this.shortcutGroup=this.shortcutService.createGroup("Tree Inline add dialog",{position:h.N.FORCE_TO_TOP}).notShown(),this.shortcutService.createContainer("Save/Remove dialog",this.shortcutGroup).add(new d.z(o.s.ESCAPE,()=>this.closeDialog())).add(new d.z(o.s.ENTER,()=>this.submit())).notShown())}init(we){const At=this.parentNode.getChildren(),Rt=this.findChildByIndex(this.sibling?this.sibling.nodeIndex+1:0,At);(0,n.D)(this.dialogConfig.getFormDropdownItemsResolver().execute(this.parentNode,this.sibling,Rt)).pipe((0,r.w)(zt=>(this.dropdownItemGroups=zt.groups,this.dropdownCustomButtons=zt.customButtons,this.markItemAsSelected(this.addRepository.getSelectedDropdownItemId(this.aggregateId)),this.singleSelectFormControls())),this.takeUntilDestroy()).subscribe(zt=>{this.buildForm(zt,we),this.setDropdownBtnStyles(),this.changeDetectorRef.detectChanges()})}buildForm(we,At){this.setFormControls(we),this.changeLoaderVisibleStatus(!1),this.formVisible=!0,this.changeDetectorRef.detectChanges(),At&&this.rebuildForm(),this.setDialogPosition()}setDropdownBtnStyles(){if(!this.dropdownConfig.getIsColoredDropdownBtn()||!this.selectedItem.color)return;const At=this.dropdownBtnTrigger.nativeElement;this.domManipulator.addStyle(At,"background",this.selectedItem.color.subtleBackgroundStyle),this.domManipulator.addStyle(At,"color",this.selectedItem.color.subtleColorStyle)}singleSelectFormControls(){const we=this.selectedItem?this.selectedItem.id:null;return this.dialogConfig.getFormControlsResolver().execute(we,this.parentNode,this.sibling)}changeLoaderVisibleStatus(we){this.loaderVisible=we,this.loaderVisibleStatusChanged.emit(this.loaderVisible)}markItemAsSelected(we){!this.dropdownItemGroups||!this.dropdownItemGroups.length||this.changeSelectedItem(we?this.findDropdownItemById(we):this.dropdownItemGroups[0].items[0])}updateSaveBtnDisabledValue(){this.saveBtnDisabled=this.formInvalid||this.formProcessing,this.changeDetectorRef.detectChanges()}rebuildForm(){this.formRef.rebuild()}setFormProcessingStatus(we){this.formProcessing=we,this.updateSaveBtnDisabledValue()}setLoaderConfiguration(){this.loaderConfiguration=(new a.y.Builder).withStrokeWidth(Ze.LOADER_STROKE_WIDTH).withDefaultSize(!1).build()}setFormControls(we){this.setMainFormControl(we),this.setRequiredFormControls(we)}setMainFormControl(we){this.mainFormControl=we.find(At=>At.mainControl)}setRequiredFormControls(we){this.requiredFormControls=we.filter(At=>!At.mainControl)}setDialogPosition(){(0,s.H)().pipe(this.takeUntilDestroy()).subscribe(()=>{this.addDialogFactory.setDialogPosition()})}findChildByIndex(we,At){return At?At.find(Rt=>Rt.nodeIndex===we):null}findDropdownItemById(we){return this.flattenGroupOfItems().find(Rt=>Rt.id===we)}flattenGroupOfItems(){return[].concat.apply([],this.dropdownItemGroups.map(we=>we.items))}changeSelectedItem(we){this.selectedItem=we,this.documentationLink=this.dialogConfig.getDocumentationLinkResolver().getDocumentationLink(we.id),this.addRepository.setDropdownItemId(this.aggregateId,we.id)}}return Ze.LOADER_STROKE_WIDTH=4,Ze.\u0275fac=function(we){return new(we||Ze)(t.Y36(t.SBq),t.Y36(t.Qsj),t.Y36(t.sBO),t.Y36(p.L),t.Y36(m.I),t.Y36(C.l),t.Y36(E.z),t.Y36(B.H),t.Y36(M.r))},Ze.\u0275cmp=t.Xpm({type:Ze,selectors:[["sp-tree-inline-add-dialog-form"]],viewQuery:function(we,At){if(1&we&&(t.Gf(I.Ur,5),t.Gf(He,5,t.SBq)),2&we){let Rt;t.iGM(Rt=t.CRH())&&(At.formRef=Rt.first),t.iGM(Rt=t.CRH())&&(At.dropdownBtnTrigger=Rt.first)}},inputs:{parentNode:"parentNode",sibling:"sibling",lastSelectedItemId:"lastSelectedItemId"},outputs:{loaderVisibleStatusChanged:"loaderVisibleStatusChanged"},features:[t.qOj,t.TTD],decls:10,vars:5,consts:[["class","sp-tree-inline-add-dialog-form__box-type-dropdown sp-absolute sp-z-1",4,"ngIf"],["class","sp-tree-inline-add-dialog-form__form sp-block",3,"configuration","strategy","validStatusChange",4,"ngIf"],[1,"sp-pt-2","sp-flex","sp-items-center"],[4,"ngIf"],["target","_blank","class","sp-documentation-link sp-block sp-tree-inline-add-dialog-form__documentation-icon",4,"ngIf"],["icon",""],["colorPresenter",""],[1,"sp-tree-inline-add-dialog-form__box-type-dropdown","sp-absolute","sp-z-1"],["sp-button","","sp-dropdown-open-trigger","","id","sp-inline-add-box-type-dropdown-btn",1,"sp-tree-inline-add-dialog-form__box-type-dropdown-trigger","sp-flex","sp-justify-center","sp-items-center","sp-overflow-hidden",3,"spTooltip","spTooltipGravity"],["dropdownBtnTrigger",""],[4,"ngIf","ngIfElse"],["name",""],[1,"fas","fa-chevron-down","sp-ml-1"],["id","sp-add-dialog-box-type-dropdown-same-level","divider","",3,"header","contentContainerClass",4,"ngFor","ngForOf","ngForTrackBy"],["id","sp-add-dialog-box-type-dropdown-sub-level","divider","",3,"contentContainerClass","type",4,"ngIf"],["id","sp-add-dialog-box-type-dropdown-same-level","divider","",3,"header","contentContainerClass"],[3,"id","disabled","tooltip","itemClick",4,"ngFor","ngForOf","ngForTrackBy"],[3,"id","disabled","tooltip","itemClick"],[1,"sp-flex","sp-items-center"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["id","sp-add-dialog-box-type-dropdown-sub-level","divider","",3,"contentContainerClass","type"],[4,"ngFor","ngForOf","ngForTrackBy"],[3,"spNavigationLink"],[1,"sp-tree-inline-add-dialog-form__form","sp-block",3,"configuration","strategy","validStatusChange"],[3,"className"],[3,"id","className",4,"ngIf"],[3,"type","name","value"],[3,"type","name","value",4,"ngIf"],[3,"id","className","type","name","value","config","validators","placeholder","disabled"],[3,"id","className"],[3,"id","type","name","value","config","validators","placeholder","label","disabled","className"],["sp-button","","primary","","id","sp-inline-add-dialog-create-btn",1,"sp-tree-inline-add-dialog-form__save-btn",3,"disabled","click"],["sp-button","","link","","id","sp-inline-add-dialog-cancel-btn",1,"sp-tree-inline-add-dialog-form__cancel-btn",3,"click"],["target","_blank",1,"sp-documentation-link","sp-block","sp-tree-inline-add-dialog-form__documentation-icon"],[1,"far","fa-question-circle","sp-block","sp-text-xl","sp-align-bottom"],[1,"sp-tree-inline-add-dialog-form__inline-add-loader-blanket","sp-absolute","sp-top-0","sp-bottom-0","sp-w-full","sp-h-full","sp-bg-background","sp-flex","sp-justify-center","sp-items-center"],["id","sp-tree-inline-add-loader",1,"sp-w-12","sp-h-12",3,"configuration"],["class","sp-mr-2",3,"name",4,"ngIf"],[1,"sp-mr-2",3,"name"],["class","sp-mr-2",3,"color",4,"ngIf"],[1,"sp-mr-2",3,"color"]],template:function(we,At){1&we&&(t.YNc(0,Ye,10,9,"sp-dropdown",0),t.YNc(1,Ct,7,12,"sp-form",1),t.TgZ(2,"div",2),t.YNc(3,Lt,7,7,"div",3),t.YNc(4,Vt,2,1,"a",4),t.qZA(),t.YNc(5,St,3,1,"ng-container",3),t.YNc(6,yt,1,1,"ng-template",null,5,t.W1O),t.YNc(8,ot,1,1,"ng-template",null,6,t.W1O)),2&we&&(t.Q6J("ngIf",!!At.selectedItem),t.xp6(1),t.Q6J("ngIf",At.formVisible),t.xp6(2),t.Q6J("ngIf",At.isButtonVisible()),t.xp6(1),t.Q6J("ngIf",At.documentationLink),t.xp6(1),t.Q6J("ngIf",At.loaderVisible))},directives:[w.O5,K.J,k.r,G.i9,w.sg,$.Y,X.N,w.tP,ie.k,I.Ur,se.Y,pe.u,ve._,Ce.o,ye.W],pipes:[de.C,Ie.L],styles:[".sp-tree-inline-add-dialog-form__box-type-dropdown-trigger{width:76px;white-space:nowrap;line-height:15px}.sp-tree-inline-add-dialog-form__box-type-dropdown-menu-group{max-height:176px}.sp-tree-inline-add-dialog-form__box-type-dropdown sp-icon{display:flex;align-items:center;justify-content:center;width:var(--space-x6);height:var(--space-x4);font-size:var(--font-size-m);flex-shrink:0}.sp-tree-inline-add-dialog-form__documentation-icon{line-height:18px;margin-left:auto!important}.sp-tree-inline-add-dialog-form__form{min-height:32px}.sp-tree-inline-add-dialog-form__form-group-main-control{display:flex;flex:1;padding-left:80px}.sp-tree-inline-add-dialog-form__form-main-control{flex:1}.sp-tree-inline-add-dialog-form__form .sp-form-group{margin-bottom:8px}.sp-tree-inline-add-dialog-form__form sp-colored-icon-picker,.sp-tree-inline-add-dialog-form__form sp-icon-picker{width:100%}.sp-tree-inline-add-dialog-form__form sp-colored-icon-picker .sp-icon-picker-button{flex:1}.sp-tree-inline-add-dialog-form__form sp-icon{flex-shrink:0}.sp-tree-inline-add-dialog-form__inline-add-loader-blanket{opacity:.7}.sp-tree-inline-add-dialog-form .sp-select-label{display:none}.sp-tree-inline-add-dialog-form .sp-select-button-icons{margin-left:0!important}\n"],encapsulation:2,changeDetection:0}),Ze})()},38568:(S,g,e)=>{"use strict";e.d(g,{O:()=>n});var t=e(85105);let n=(()=>{class s{getIsColoredDropdownBtn(){return this.isColoredDropdownBtn}}return s.Builder=class extends t.I{constructor(){super(...arguments),this.isColoredDropdownBtn=!1}build(){const r=new s;return r.isColoredDropdownBtn=this.isColoredDropdownBtn,r}withColoredDropdownBtn(r){return this.isColoredDropdownBtn=r,this}},s})()},95459:(S,g,e)=>{"use strict";e.d(g,{_:()=>t});class t{constructor(s,i){this.groups=s,this.customButtons=i}}},16054:(S,g,e)=>{"use strict";e.d(g,{fj:()=>y,lv:()=>I,D9:()=>P});var t=e(55331),n=e(10107),i=(e(28819),e(77545)),r=e(11830),a=e(68890),o=e(71118),d=e(95900),h=e(62546),p=e(84046),f=e(14878),m=e(30161),v=e(18217);const E=["addIcon"],C=["solidLine"];function T(L,F){if(1&L){const b=p.EpF();p.ynx(0),p.TgZ(1,"span",1,2),p.NdJ("click",function(){return p.CHM(b),p.oxw().goToInlineAdd()})("mouseenter",function(){return p.CHM(b),p.oxw().showTooltip()})("mouseleave",function(){return p.CHM(b),p.oxw().hideTooltip()}),p.ALo(3,"spRichTextI18n"),p._UZ(4,"i",3),p.qZA(),p._UZ(5,"div",4),p._UZ(6,"div",5,6),p.BQk()}if(2&L){const b=p.oxw();p.xp6(1),p.Q6J("spTooltipEnabled",!!b.tooltipText)("spTooltip",p.lcZ(3,3,b.tooltipText))("spTooltipGravity",b.gravity.NORTH)}}const y=7,I=3;let P=(()=>{class L extends h.H{constructor(b,x,B,M,w,K,k){super(b,x),this.changeDetectorRef=B,this.treeInlineAddService=M,this.aggregateTreeId=w,this.treeInlineAddConfigStorage=K,this.document=k,this.disabled=!1,this.gravity=d.X,this.indicatorVisible=!1}ngOnChanges(b){b.node&&this.setProperties()}ngOnInit(){this.observeMouseEnter(),this.setNodeIdForView(),this.setTooltipTextFromConfig()}observeMouseEnter(){this.domManipulator.hostListen("mouseenter").pipe(this.takeUntilDestroy()).subscribe(()=>{this.indicatorVisible=!0,this.changeDetectorRef.detectChanges(),this.setIndicatorLeftPosition(),this.setSolidLineStyles(),this.observeMouseLeave()})}observeMouseLeave(){this.domManipulator.hostListen("mouseleave").pipe(this.takeUntilDestroy()).subscribe(()=>{this.indicatorVisible=!1,this.changeDetectorRef.detectChanges()})}setNodeIdForView(){this.domManipulator.setHostAttribute("id",`${L.TREE_INLINE_ADD_INDICATOR_ID_PREFIX}${this.node.getId()}`)}goToInlineAdd(){this.disabled||this.treeInlineAddService.toggleToInlineAddMode(this.aggregateTreeId,this.node.getId(),this.node.isExpanded())}showTooltip(){o.l.isDefined(this.tooltipText)&&this.tooltip.forceShowTooltip()}hideTooltip(){var b;null===(b=this.tooltip)||void 0===b||b.forceHideTooltip()}getHostClasses(){return["sp-tree-inline-add-indicator","sp-absolute","sp-flex","sp-items-center","sp-w-full"]}setProperties(){const b=this.node.getParent();if(this.treeInlineAddConfigStorage.getResolver(this.aggregateTreeId).canAdd(b,this.node))this.tooltipText=null,this.disabled=!1,this.setDisabledCssClass();else{const x=this.treeInlineAddConfigStorage.getIndentResolver(this.aggregateTreeId).canIndent(this.node);x.showIndicator&&(this.tooltipText=x.tooltipText,this.disabled=x.disabled,this.setDisabledCssClass())}}setDisabledCssClass(){this.disabled?this.domManipulator.addClass(this.elementRef.nativeElement,"sp-tree-inline-add-indicator--disabled"):this.domManipulator.removeClass(this.elementRef.nativeElement,"sp-tree-inline-add-indicator--disabled")}setIndicatorLeftPosition(){var b;this.domManipulator.addStyle(null===(b=this.addIcon)||void 0===b?void 0:b.nativeElement,"left",this.getLeftPosition()+"px")}setSolidLineStyles(){var b,x;this.domManipulator.addStyle(null===(b=this.solidLine)||void 0===b?void 0:b.nativeElement,"left",this.getLeftPosition()+"px"),this.domManipulator.addStyle(null===(x=this.solidLine)||void 0===x?void 0:x.nativeElement,"width",`calc(100% - ${this.getLeftPosition()}px)`)}getLeftPosition(){const x=(this.node.isExpanded()?this.node.nodeLevel+1:this.node.nodeLevel)*i.O,B=this.findExpandableColumn();return x+(B?B.offsetLeft:0)}findExpandableColumn(){const b=this.document.getElementById(`${r.N.TREE_NODE_ID_PREFIX}${this.node.id}`);return b?b.querySelector(".sp-tree-expand-column"):null}setTooltipTextFromConfig(){const b=this.treeInlineAddConfigStorage.getTooltipText(this.aggregateTreeId);o.l.isDefined(b)&&!o.l.isEmptyString(b)&&(this.tooltipText=b)}}return L.TREE_INLINE_ADD_INDICATOR_ID_PREFIX="sp-tree-add-indicator-",L.\u0275fac=function(b){return new(b||L)(p.Y36(p.SBq),p.Y36(p.Qsj),p.Y36(p.sBO),p.Y36(n.j),p.Y36(f.H),p.Y36(m.r),p.Y36(t.K0))},L.\u0275cmp=p.Xpm({type:L,selectors:[["sp-tree-inline-add-indicator"]],viewQuery:function(b,x){if(1&b&&(p.Gf(E,5),p.Gf(C,5),p.Gf(a.i9,5)),2&b){let B;p.iGM(B=p.CRH())&&(x.addIcon=B.first),p.iGM(B=p.CRH())&&(x.solidLine=B.first),p.iGM(B=p.CRH())&&(x.tooltip=B.first)}},inputs:{node:"node"},features:[p.qOj,p.TTD],decls:1,vars:1,consts:[[4,"ngIf"],[1,"sp-tree-inline-add-indicator__icon","sp-absolute","sp-left-0","sp-z-1",3,"spTooltipEnabled","spTooltip","spTooltipGravity","click","mouseenter","mouseleave"],["addIcon",""],[1,"fas","fa-plus-circle","sp-bg-background","sp-circle","sp-cursor-pointer"],[1,"sp-tree-inline-add-indicator__line","sp-tree-inline-add-indicator__line--dashed","sp-block","sp-w-full"],[1,"sp-tree-inline-add-indicator__line","sp-tree-inline-add-indicator__line--solid","sp-absolute","sp-block","sp-w-full"],["solidLine",""]],template:function(b,x){1&b&&p.YNc(0,T,8,5,"ng-container",0),2&b&&p.Q6J("ngIf",x.indicatorVisible)},directives:[t.O5,a.i9],pipes:[v.d],styles:[".sp-tree-inline-add-indicator{top:1px;left:11px;height:7px}.sp-tree-inline-add-indicator__line{border-top-width:3px;border-top-color:var(--blue-300)}.sp-tree-inline-add-indicator__line--solid{border-top-style:solid}.sp-tree-inline-add-indicator__line--dashed{border-top-style:dashed}.sp-tree-inline-add-indicator__icon{color:var(--blue-300)}.sp-tree-inline-add-indicator__icon .fa-plus-circle:hover{font-size:20px;transform:translate(-2px,2px)}.sp-tree-inline-add-indicator--disabled{cursor:default}.sp-tree-inline-add-indicator--disabled .sp-tree-inline-add-indicator__line{border-top-color:var(--gray-60)}.sp-tree-inline-add-indicator--disabled .sp-tree-inline-add-indicator__icon{color:var(--gray-60)}\n"],encapsulation:2,changeDetection:0}),L})()},33268:(S,g,e)=>{"use strict";e.d(g,{d:()=>i});var t=e(84046),n=e(14878),s=e(30161);let i=(()=>{class r{constructor(o,d){this.aggregateTreeId=o,this.treeInlineAddConfigStorage=d}transform(o,d){if(!this.treeInlineAddConfigStorage.isEnabled(this.aggregateTreeId)||d)return;const h=o.getParent();return this.canAdd(this.aggregateTreeId,o,h)||this.canIndent(this.aggregateTreeId,o)}canAdd(o,d,h){return this.treeInlineAddConfigStorage.getResolver(o).canAdd(h,d)}canIndent(o,d){return this.treeInlineAddConfigStorage.getIndentResolver(o).canIndent(d).showIndicator}}return r.\u0275fac=function(o){return new(o||r)(t.Y36(n.H,16),t.Y36(s.r,16))},r.\u0275pipe=t.Yjl({name:"spInlineAddIndicatorVisiblePipe",type:r,pure:!0}),r})()},22857:(S,g,e)=>{"use strict";e.d(g,{l:()=>F});var t=e(55331),n=e(73197),s=e(83417),i=e(70822),r=e(67761),o=(e(28819),e(83020)),h=(e(19172),e(1392)),p=e(77545),f=e(62546),m=e(8423),v=e(84046),E=e(78742),C=e(13087),T=e(30161),y=e(14878);const I=["dialogAnchor"];function P(b,x){1&b&&(v.ynx(0),v._UZ(1,"div",3,4),v.BQk())}function L(b,x){if(1&b&&(v.TgZ(0,"div",1),v.YNc(1,P,3,0,"ng-container",2),v.qZA()),2&b){const B=x.$implicit;v.Udp("flex",B.flex),v.ekj("sp-add-row-expandable-cell",B.treeExpand),v.xp6(1),v.Q6J("ngIf",B.treeExpand)}}let F=(()=>{class b extends f.H{constructor(B,M,w,K,k,G,$,X,ie,se){super(B,M),this.treeNodeHeight=w,this.treeInlineAddDialogFactory=K,this.treeInlineAddRepository=k,this.treeDomElement=G,this.treeInlineAddConfigStorage=$,this.aggregateTreeId=X,this.selectedItemsRepository=ie,this.document=se,this.treeColumns=[],this.ANCHOR_PADDING=8,this.WINDOW_RESIZE_THROTTLE_TIME=200,this.nodeLevel=0,this.addRowTopPosition=0}ngOnInit(){this.setInlineAddDialogComponent(),this.setColumns()}ngAfterViewInit(){this.setDialogAnchor(),this.setRowStyles(),this.selectAddDialogIndentStatus(),this.selectTreeContainerScrollEvent(),this.selectWindowResize()}getHostClasses(){return["sp-treegrid-row","sp-tree-inline-add-row","sp-absolute","sp-block","sp-w-full","sp-z-1","node-selected"]}setInlineAddDialogComponent(){let B=this.treeInlineAddConfigStorage.getInlineAddDialogComponent(this.aggregateTreeId);B||(B={component:m.Y}),this.treeInlineAddDialogFactory.setInlineAddDialogComponent(B)}setDialogAnchor(){this.dialogAnchor=this.dialogAnchorRef.nativeElement}setColumns(){if(!this.perspective||!this.node)return void(this.treeColumns=[]);const B=this.perspective.getCollectionByNode(this.node);this.treeColumns=B.getTreeColumns()}setRowStyles(){let B=this.node.nodePositionIncludedCollapsedNodes;this.node&&this.node.rawTreeNode.calculatedPosition&&(B+=this.node.rawTreeNode.calculatedPosition),this.addRowTopPosition=B*this.treeNodeHeight.getNodeHeight()+this.treeNodeHeight.getNodeHeight(),this.domManipulator.addHostStyle("top",`${this.addRowTopPosition}px`)}selectAddDialogIndentStatus(){this.treeInlineAddRepository.selectIndentStatus(this.aggregateTreeId).pipe(this.takeUntilDestroy()).subscribe(B=>{this.setNodeLevel(B),this.setDialogAnchorPosition(),this.treeInlineAddDialogFactory.isDialogOpened()?(this.treeInlineAddDialogFactory.setDialogAnchor(this.dialogAnchor),this.setDialogWidth(),this.setDialogPosition()):this.openDialog()})}setNodeLevel(B){this.nodeLevel=B?this.node.nodeLevel+1:this.node.nodeLevel}setDialogAnchorPosition(){this.anchorPositionLeft=this.nodeLevel*p.O+this.ANCHOR_PADDING,this.domManipulator.addStyle(this.dialogAnchor,"left",this.anchorPositionLeft+"px")}openDialog(){const B=this.selectedItemsRepository.getIds(this.aggregateTreeId).pop();this.treeInlineAddDialogFactory.open(this.dialogAnchor,this.calculateDialogWidth(),B)}selectTreeContainerScrollEvent(){const B=this.treeDomElement.getTreeRowContainerElem();(0,n.R)(B,"scroll").pipe(this.takeUntilDestroy()).subscribe(()=>{this.toggleDialogVisibility(B),this.setDialogPosition()})}selectWindowResize(){(0,n.R)(window,"resize").pipe((0,s.p)(this.WINDOW_RESIZE_THROTTLE_TIME),(0,i.h)(()=>this.treeInlineAddDialogFactory.isDialogOpened()),this.takeUntilDestroy()).subscribe(()=>{this.setDialogWidth(),this.setDialogPosition()})}toggleDialogVisibility(B){const M=B.scrollTop;M>this.addRowTopPosition||B.offsetHeight+M<this.addRowTopPosition?this.treeInlineAddDialogFactory.hideDialog():this.treeInlineAddDialogFactory.showDialog()}setDialogPosition(){this.treeInlineAddDialogFactory.setDialogPosition(this.dialogAnchor)}setDialogWidth(){this.treeInlineAddDialogFactory.setDialogWidth(this.calculateDialogWidth())}calculateDialogWidth(){const M=this.elementRef.nativeElement.querySelector(".sp-add-row-expandable-cell"),K=(M?M.offsetWidth:0)-this.anchorPositionLeft;return K<=this.getMinimalDialogWidth()?this.getMinimalDialogWidth():K}getMinimalDialogWidth(){return this.treeInlineAddConfigStorage.getDialogConfig(this.aggregateTreeId).getMinimalWidth()}}return b.selector="sp-tree-inline-add-row",b.\u0275fac=function(B){return new(B||b)(v.Y36(v.SBq),v.Y36(v.Qsj),v.Y36(E.M),v.Y36(h.l),v.Y36(o.I),v.Y36(C.E),v.Y36(T.r),v.Y36(y.H),v.Y36(r.G),v.Y36(t.K0))},b.\u0275cmp=v.Xpm({type:b,selectors:[["sp-tree-inline-add-row"]],viewQuery:function(B,M){if(1&B&&v.Gf(I,5),2&B){let w;v.iGM(w=v.CRH())&&(M.dialogAnchorRef=w.first)}},inputs:{node:"node",perspective:"perspective"},features:[v.qOj],decls:1,vars:1,consts:[["class","sp-treegrid-row-cell sp-tree-add-row-cell",3,"flex","sp-add-row-expandable-cell",4,"ngFor","ngForOf"],[1,"sp-treegrid-row-cell","sp-tree-add-row-cell"],[4,"ngIf"],[1,"sp-tree-inline-add-dialog-anchor","sp-absolute"],["dialogAnchor",""]],template:function(B,M){1&B&&v.YNc(0,L,2,5,"div",0),2&B&&v.Q6J("ngForOf",M.treeColumns)},directives:[t.sg,t.O5],styles:[".sp-tree-inline-add-row{transform:translate(0)}.sp-tree-inline-add-row__dialog-anchor{top:50%}\n"],encapsulation:2,changeDetection:0}),b})()},24250:(S,g,e)=>{"use strict";e.d(g,{Y:()=>n});var t=e(84046);let n=(()=>{class s{constructor(){this.accessors={}}getFieldConfig(r,a){return{}}destroy(){}}return s.\u0275fac=function(r){return new(r||s)},s.\u0275prov=t.Yz7({token:s,factory:s.\u0275fac}),s})()},77989:(S,g,e)=>{"use strict";e.d(g,{I:()=>K});var t=e(84046),n=e(94299),s=e(83941),i=e(14650),r=e(90604),a=e(28819),o=e(90850),d=e(79906),h=e(45635),p=e(43234);let f=(()=>{class k extends p.y{constructor(){super(...arguments),this.edits$=new o.xQ}submit($){const X=this.tree.actions.update(this.node,$);return(0,d.D)(X).pipe((0,h.b)(()=>{this.edits$.next($)}))}setNode($){this.node=$}setTree($){this.tree=$}}return k.\u0275fac=function(){let G;return function(X){return(G||(G=t.n5z(k)))(X||k)}}(),k.\u0275prov=t.Yz7({token:k,factory:k.\u0275fac}),k})();var m=e(7321),v=e(66319),E=e(19446),C=e(62546),T=e(14247),y=e(24250),I=e(55331),P=e(34909),L=e(29893),F=e(65799),b=e(19269);const x=["form"];function B(k,G){if(1&k&&(t.ynx(0),t._UZ(1,"sp-form-field",8),t.ALo(2,"spTreeInlineEditRowFieldIdCreator"),t.BQk()),2&k){const $=t.oxw().$implicit,X=t.oxw();t.xp6(1),t.Q6J("id",t.lcZ(2,9,$.formField.name))("value",X.getFieldValue($.formField))("name",$.formField.name)("type",$.formField.type)("label",$.formField.label)("placeholder",$.formField.placeholder)("validators",$.formField.validators)("config",X.treeInlineEditFormConfig.getFieldConfig(X.node,$))("flex",$.flex)}}function M(k,G){if(1&k&&(t.ynx(0),t._UZ(1,"sp-form-field",9),t.BQk()),2&k){const $=t.oxw().$implicit,X=t.oxw();t.xp6(1),t.Q6J("name",X.getEmptyColumnHtmlId($))("type",X.formFieldType.NONE)("flex",$.flex)}}function w(k,G){if(1&k&&(t.ynx(0),t.YNc(1,B,3,11,"ng-container",7),t.YNc(2,M,2,3,"ng-container",7),t.BQk()),2&k){const $=G.$implicit;t.xp6(1),t.Q6J("ngIf",$.formField),t.xp6(1),t.Q6J("ngIf",!$.formField)}}let K=(()=>{class k extends C.H{constructor($,X,ie,se,pe){super($,X),this.formRepository=ie,this.treeInlineEditFormConfig=se,this.tree=pe,this.onCloseRow=new t.vpe,this.formFieldType={NONE:m.E.NONE},this.strategy=v.k.SP_MESSAGES}ngOnChanges($){$.node&&(this.formRepository.setTree(this.tree),this.formRepository.setNode(this.node))}ngOnInit(){this.domManipulator.setHostAttribute("id","sp-tree-inline-edit-row")}closeRow(){this.onCloseRow.emit(!0)}submit(){this.form.submitWithStatus().pipe(this.takeUntilDestroy()).subscribe(()=>{this.closeRow()},()=>{})}getFieldValue($){if($.value)return[$.value];if($.valueAccessor){const X=this.returnArrayOfValue($.valueAccessor);if(X.length>1)return[this.accessValue($,X[0].split("."),this.node.rawTreeNode[X[0]]),this.accessValue($,X[1].split("."),this.node.rawTreeNode[X[1]])];if($.type===m.E.SELECT)return this.treeInlineEditFormConfig.accessors&&this.treeInlineEditFormConfig.accessors[X[0]]?new i.W(this.node.rawTreeNode[X[0]][this.treeInlineEditFormConfig.accessors[X[0]][0]],s.H.string(this.node.rawTreeNode[X[0]][this.treeInlineEditFormConfig.accessors[X[0]][1]])):[new i.W(this.node.rawTreeNode[X[0]],s.H.string(this.node.rawTreeNode[X[0]]))];if($.type===m.E.USER_PICKER){const ie=this.accessValue($,X[0].split("."),[this.node.rawTreeNode[X[0]]])[0];return ie?{key:ie.id,name:ie.data.name}:{}}if($.type===m.E.RESOURCE_PICKER){const ie=this.accessValue($,X[0].split("."),[this.node.rawTreeNode[X[0]]])[0];return ie?new n.$(r.b.fromCompoundId(ie.id),ie.isActive,ie.data,""):{}}return this.accessValue($,X[0].split("."),[this.node.rawTreeNode[X[0]]])}return[""]}getEmptyColumnHtmlId($){return`empty-column-${T.I.dashedWithoutSpaceId($.header.toLowerCase())}`}accessValue($,X,ie){if(!(X.length>1))return ie;if(this.node.rawTreeNode.columns){let se=this.node.rawTreeNode.columns;return X.forEach(pe=>{se=se?se[pe]:null}),$.type===m.E.SELECT||$.type===m.E.LAZY_SELECT?[new i.W(se,s.H.string(se))]:[se]}}returnArrayOfValue($){let X=[];return Array.isArray($)?X=$:X.push($),X}}return k.\u0275fac=function($){return new($||k)(t.Y36(t.SBq),t.Y36(t.Qsj),t.Y36(p.y,2),t.Y36(y.Y),t.Y36(a.mp))},k.\u0275cmp=t.Xpm({type:k,selectors:[["sp-tree-inline-edit-row"]],viewQuery:function($,X){if(1&$&&t.Gf(x,5),2&$){let ie;t.iGM(ie=t.CRH())&&(X.form=ie.first)}},inputs:{node:"node",treeColumns:"treeColumns"},outputs:{onCloseRow:"onCloseRow"},features:[t._Bn([{provide:p.y,useClass:f}]),t.qOj,t.TTD],decls:11,vars:11,consts:[[1,"sp-treegrid-row","sp-treegrid-edit-row","sp-flex","sp-items-center"],[3,"strategy"],["form",""],[4,"ngFor","ngForOf"],[1,"sp-tree-inline-edit-buttons"],["sp-button","","primary","","id","sp-inline-edit-save",1,"sp-inline-edit-save",3,"click"],["sp-button","","link","","id","sp-inline-edit-row-close",1,"sp-inline-edit-row-close",3,"click"],[4,"ngIf"],[3,"id","value","name","type","label","placeholder","validators","config","flex"],[3,"name","type","flex"]],template:function($,X){1&$&&(t.TgZ(0,"li",0),t.TgZ(1,"sp-form",1,2),t.YNc(3,w,3,2,"ng-container",3),t.qZA(),t.TgZ(4,"div",4),t.TgZ(5,"button",5),t.NdJ("click",function(){return X.submit()}),t._uU(6),t.ALo(7,"spL10nText"),t.qZA(),t.TgZ(8,"button",6),t.NdJ("click",function(){return X.closeRow()}),t._uU(9),t.ALo(10,"spL10nText"),t.qZA(),t.qZA(),t.qZA()),2&$&&(t.uIk("data-editTreeNodeId",X.node.id),t.xp6(1),t.Q6J("strategy",X.strategy),t.xp6(2),t.Q6J("ngForOf",X.treeColumns),t.xp6(1),t.Udp("flex","0 0 10%"),t.xp6(2),t.hij(" ",t.lcZ(7,7,"SPT_COMMON_INLINE_EDIT_BUTTON_SAVE")," "),t.xp6(3),t.hij(" ",t.lcZ(10,9,"SPT_COMMON_INLINE_EDIT_BUTTON_CANCEL")," "))},directives:[E.Ur,I.sg,P.r,I.O5,L.u],pipes:[F.L,b.a],styles:["sp-tree-inline-edit-row{width:100%}sp-tree-inline-edit-row .sp-treegrid-row.sp-treegrid-edit-row{background:var(--blue-50);animation:editExpandAnim .25s ease-out forwards}sp-tree-inline-edit-row .sp-treegrid-row.sp-treegrid-edit-row ::ng-deep .sp-form-group{margin-top:0}sp-tree-inline-edit-row .sp-treegrid-row.sp-treegrid-edit-row .sp-input-file-filename{width:100px;overflow:hidden;text-overflow:ellipsis}sp-tree-inline-edit-row .sp-tree-inline-edit-buttons{position:absolute;right:10px;transition:all .25s ease-out;display:flex;align-items:center;justify-content:flex-end;align-self:center}sp-tree-inline-edit-row .sp-inline-edit-row-close{margin-left:10px;margin-right:10px}sp-tree-inline-edit-row sp-form{width:100%}sp-tree-inline-edit-row sp-form .sp-form-group{margin-bottom:0}sp-tree-inline-edit-row sp-form sp-field-group{display:flex;width:100%;align-items:center}sp-tree-inline-edit-row sp-form sp-field-group sp-field .sp-form-group{padding:0 10px}sp-tree-inline-edit-row sp-form sp-field-group sp-field .sp-form-validation-messages{left:14px}sp-tree-inline-edit-row sp-form sp-field-group sp-field .sp-form-checkbox .sp-checkbox{padding-left:1em}sp-tree-inline-edit-row sp-form sp-field-group sp-field .sp-input-file-row label{width:auto;margin-bottom:0}sp-tree-inline-edit-row sp-form sp-field-group .sp-checkbox-swiper-field{margin-left:0;padding-top:5px}sp-tree-inline-edit-row sp-form sp-field-group .sp-checkbox-swiper-field .sp-swiper-wrapper sp-checkbox-swiper{justify-content:flex-start}sp-tree-inline-edit-row sp-form-field-label{width:0;margin:0}sp-tree-inline-edit-row .sp-form-errors{display:none}@keyframes editExpandAnim{0%{height:40px}to{height:52px}}\n"],encapsulation:2,changeDetection:0}),k})()},19269:(S,g,e)=>{"use strict";e.d(g,{a:()=>n});var t=e(84046);let n=(()=>{class s{transform(r){return`sp-${r.replace(",","")}-edit-field`}}return s.\u0275fac=function(r){return new(r||s)},s.\u0275pipe=t.Yjl({name:"spTreeInlineEditRowFieldIdCreator",type:s,pure:!0}),s})()},53950:(S,g,e)=>{"use strict";e.d(g,{h:()=>t});let t=(()=>{class n{constructor(){this.isSuffixIcon=!0,this.isTooltipEnabled=!0}static default(){return(new n).withEnabled(!1).withDialogPositionMargin(n.DEFAULT_MARGIN)}withEnabled(i){return this.enabled=i,this}withIsSuffixIcon(i){return this.isSuffixIcon=i,this}withTooltip(i){return this.isTooltipEnabled=i,this}withDialogPositionMargin(i){return this.dialogPositionMargin=i,this}}return n.DEFAULT_MARGIN=10,n})()},13087:(S,g,e)=>{"use strict";e.d(g,{E:()=>s});var t=e(84046),n=e(78742);let s=(()=>{class i{constructor(a){this.treeNodeHeight=a}init(a,o,d,h){this.treeComponent=a,this.treeRowContainer=o,this.treeRowListContainer=d,this.treeInlineAddBlanket=h}scrollToNode(a){const o=this.getTreeNodeElem(a.id);if(!o){const y=this.getNodeTop(a);return void this.setTreeScrollTop(y)}const d=this.getTreeRowContainerElem(),h=this.getTreeRowListContainerElem(),p=d.getBoundingClientRect().top,f=h.getBoundingClientRect().top,m=o.getBoundingClientRect().top,v=p-m;if(v>0)return void this.setTreeScrollTop(p-f-v);const E=d.getBoundingClientRect().bottom,T=m+this.treeNodeHeight.getNodeHeight()-E;T>0&&this.setTreeScrollTop(d.scrollTop+T)}setTreeScrollTop(a){this.getTreeRowContainerElem().scrollTop=a}getNodeTop(a){return a.nodePositionIncludedCollapsedNodes*this.treeNodeHeight.getNodeHeight()}getTreeRowContainerElem(){return this.treeRowContainer.nativeElement}getTreeInlineAddBlanket(){return this.treeInlineAddBlanket.nativeElement}getTreeNodeElem(a){return this.treeComponent.nativeElement.querySelector(`[data-treenodeid="${a}"]`)}getTreeRowListContainerElem(){return this.treeRowListContainer.nativeElement}}return i.\u0275fac=function(a){return new(a||i)(t.LFG(n.M))},i.\u0275prov=t.Yz7({token:i,factory:i.\u0275fac}),i})()},92574:(S,g,e)=>{"use strict";e.d(g,{M:()=>kn,l:()=>ro});var t=e(55331),n=e(84046),s=e(53488),i=e(90850),r=e(83194),a=e(19335),o=e(73197),d=e(49549),h=e(35811),p=e(70822),f=e(54561),m=e(63833),v=e(71726),E=e(96105),C=e(62126),T=e(58156),y=e(34826),I=e(28819),P=e(91771);const L=new n.OlP("LOCAL_ACTION_HANDLERS");var F=e(10703);let b=(()=>{class Dt{constructor(Fe,Pt){this.localActionHandlers=Fe,this.localActions$=Pt,this.subscriptions=new s.w}ngOnDestroy(){this.subscriptions.unsubscribe()}init(Fe){this.localActionHandlers.forEach(Pt=>{this.subscriptions.add(this.localActions$.ofTreeAction(Pt.actionType).subscribe(tn=>{Pt.execute(tn,Fe)}))})}}return Dt.\u0275fac=function(Fe){return new(Fe||Dt)(n.LFG(L),n.LFG(F.e))},Dt.\u0275prov=n.Yz7({token:Dt,factory:Dt.\u0275fac}),Dt})();var x=e(78742);let B=(()=>{class Dt{constructor(Fe,Pt){this.tree=Fe,this.treeNodeHeight=Pt}static isValidHTMLElement(Fe){return Fe instanceof HTMLElement&&[Node.ELEMENT_NODE,Node.DOCUMENT_NODE,Node.DOCUMENT_FRAGMENT_NODE].includes(Fe.nodeType)}setTreeContainerScrollTop(Fe,Pt){const tn=this.treeNodeHeight.getNodeHeight();if(-1!==Pt&&Dt.isValidHTMLElement(Fe)){const qt=(Pt+1)*tn-Math.floor(Fe.offsetHeight/2);Fe.scrollTop=qt<0?0:qt}}}return Dt.\u0275fac=function(Fe){return new(Fe||Dt)(n.LFG(I.mp),n.LFG(x.M))},Dt.\u0275prov=n.Yz7({token:Dt,factory:Dt.\u0275fac}),Dt})();var M=e(45522),w=e(59278),k=(e(9046),e(29186)),G=e(52367),$=e(83020),X=e(85431),ie=e(89536),se=e(60508),pe=e(26612),ve=e(80064),Ce=e(14878),ye=e(16054),de=e(14819),Ie=e(81058),He=e(97035),Ve=e(28635);let Ue=(()=>{class Dt{isScrolledToBottom(Fe){return Ve.o.isChrome()?this.handleChrome(Fe):this.getScrollHeight(Fe)-this.getScrollTop(Fe)===this.getTreeRowContainerHeight(Fe)}getTreeRowContainerHeight(Fe){return Math.floor(Fe.offsetHeight)}getScrollHeight(Fe){return Math.floor(Fe.scrollHeight)}getScrollTop(Fe){return Math.floor(Fe.scrollTop)}getDistanceToBottom(Fe){const Pt=this.getScrollHeight(Fe),tn=this.getScrollTop(Fe),Sn=this.getTreeRowContainerHeight(Fe);return Math.abs(Pt-tn-Sn)}handleChrome(Fe){return this.getDistanceToBottom(Fe)<=40}}return Dt.\u0275fac=function(Fe){return new(Fe||Dt)},Dt.\u0275prov=n.Yz7({token:Dt,factory:Dt.\u0275fac}),Dt})();var xe=e(52861);let gt=(()=>{class Dt{constructor(Fe,Pt,tn){this.treeViewportRenderService=Fe,this.treeGridScrollToBottomService=Pt,this.localActionDispatcher=tn}create(Fe,Pt){const tn=Fe.treeViewportRenderConfiguration.enabled,Sn=Fe.dispatchActionWhenScrolledToBottom;return tn&&Sn?qt=>{this.dispatchActionWhenScrolledToBottom(Pt),this.treeViewportRenderService.reduce(qt)}:tn?qt=>{this.treeViewportRenderService.reduce(qt)}:Sn?()=>{this.dispatchActionWhenScrolledToBottom(Pt)}:()=>{}}dispatchActionWhenScrolledToBottom(Fe){!this.treeGridScrollToBottomService.isScrolledToBottom(Fe)||this.localActionDispatcher.dispatch(new P.SF)}}return Dt.\u0275fac=function(Fe){return new(Fe||Dt)(n.LFG(He.G),n.LFG(Ue),n.LFG(xe.c))},Dt.\u0275prov=n.Yz7({token:Dt,factory:Dt.\u0275fac}),Dt})();var tt=e(38008),lt=e(49578),Mt=e(91676);const De={provide:Ce.H,useFactory:()=>new Ce.H("sp-tree")};var Ye=e(32698);let Qe=(()=>{class Dt{constructor(Fe,Pt,tn,Sn){this.defaultTreeConfiguration=Fe,this.localActionDispatcher=Pt,this.treeCommandDispatcher=tn,this.aggregateTreeId=Sn}create(){return this.createTree()}createTree(){const Fe=new I.mp;return Fe.setConfig(this.getDefaultConfiguration()),this.localActionDispatcher&&Fe.setLocalActionDispatcher(this.localActionDispatcher),this.aggregateTreeId&&Fe.setAggregateTreeId(this.aggregateTreeId),this.treeCommandDispatcher&&this.aggregateTreeId&&Fe.setTreeCommandDispatcher(this.treeCommandDispatcher),Fe}getDefaultConfiguration(){return this.defaultTreeConfiguration?k.Z.default().assign(this.defaultTreeConfiguration):k.Z.default()}}return Dt.\u0275fac=function(Fe){return new(Fe||Dt)(n.LFG(Ye.s,8),n.LFG(xe.c,8),n.LFG(ve.z,8),n.LFG(Ce.H,8))},Dt.\u0275prov=n.Yz7({token:Dt,factory:Dt.\u0275fac}),Dt})();var Ke=e(64902);const Se=[e(1392).l];let Ct=(()=>{class Dt{constructor(Fe,Pt,tn){this.renderer=Fe,this.barLoaderService=Pt,this.tree=tn}connect(){return this.barLoaderService.connect()}start(Fe){if(!this.tree.getConfig().lockTreeAction)return;const Pt=Fe.nativeElement.querySelector(".sp-bar-loader-blanket");this.barLoaderService.start(),this.renderer.setStyle(Pt,"display","block")}complete(Fe){if(!this.tree.getConfig().lockTreeAction)return;const Pt=Fe.nativeElement.querySelector(".sp-bar-loader-blanket");this.barLoaderService.complete(),this.renderer.removeStyle(Pt,"display")}fail(Fe){if(!this.tree.getConfig().lockTreeAction)return;const Pt=Fe.nativeElement.querySelector(".sp-bar-loader-blanket");this.barLoaderService.fail(),this.renderer.removeStyle(Pt,"display")}}return Dt.\u0275fac=function(Fe){return new(Fe||Dt)(n.LFG(n.Qsj),n.LFG(tt.F),n.LFG(I.mp))},Dt.\u0275prov=n.Yz7({token:Dt,factory:Dt.\u0275fac}),Dt})();var Lt=e(13087);class Vt{}let St=(()=>{class Dt extends Vt{constructor(Fe){super(),this.treePerspectiveManager=Fe,this.actionType=P.MF.CHANGE_PERSPECTIVE}execute(Fe){this.treePerspectiveManager.changeSelectedPerspective(Fe.payload)}}return Dt.\u0275fac=function(Fe){return new(Fe||Dt)(n.LFG(ie.R))},Dt.\u0275prov=n.Yz7({token:Dt,factory:Dt.\u0275fac}),Dt})(),$t=(()=>{class Dt extends Vt{constructor(Fe){super(),this.tree=Fe,this.actionType=P.MF.COLLAPSE_ALL}execute(){this.tree.collapseAll()}}return Dt.\u0275fac=function(Fe){return new(Fe||Dt)(n.LFG(I.mp))},Dt.\u0275prov=n.Yz7({token:Dt,factory:Dt.\u0275fac}),Dt})(),yt=(()=>{class Dt extends Vt{constructor(Fe){super(),this.tree=Fe,this.actionType=P.MF.EXPAND_ALL}execute(){this.tree.expandAll()}}return Dt.\u0275fac=function(Fe){return new(Fe||Dt)(n.LFG(I.mp))},Dt.\u0275prov=n.Yz7({token:Dt,factory:Dt.\u0275fac}),Dt})(),Ft=(()=>{class Dt extends Vt{constructor(Fe,Pt){super(),this.lockTreeGridService=Fe,this.treePerspectiveManager=Pt,this.actionType=P.MF.LOCK_TREE}execute(Fe,Pt){this.lockTreeGridService.start(Pt.getElementRef()),this.treePerspectiveManager.lockPerspectiveManger()}}return Dt.\u0275fac=function(Fe){return new(Fe||Dt)(n.LFG(Ct),n.LFG(ie.R))},Dt.\u0275prov=n.Yz7({token:Dt,factory:Dt.\u0275fac}),Dt})(),ot=(()=>{class Dt extends Vt{constructor(Fe,Pt){super(),this.lockTreeGridService=Fe,this.treePerspectiveManager=Pt,this.actionType=P.MF.LOCK_TREE_FAIL}execute(Fe,Pt){this.lockTreeGridService.complete(Pt.getElementRef()),this.treePerspectiveManager.unLockPerspectiveManger()}}return Dt.\u0275fac=function(Fe){return new(Fe||Dt)(n.LFG(Ct),n.LFG(ie.R))},Dt.\u0275prov=n.Yz7({token:Dt,factory:Dt.\u0275fac}),Dt})(),Me=(()=>{class Dt extends Vt{constructor(Fe,Pt){super(),this.lockTreeGridService=Fe,this.treePerspectiveManager=Pt,this.actionType=P.MF.LOCK_TREE_SUCCESS}execute(Fe,Pt){this.lockTreeGridService.complete(Pt.getElementRef()),this.treePerspectiveManager.unLockPerspectiveManger()}}return Dt.\u0275fac=function(Fe){return new(Fe||Dt)(n.LFG(Ct),n.LFG(ie.R))},Dt.\u0275prov=n.Yz7({token:Dt,factory:Dt.\u0275fac}),Dt})();var Ze=e(69417);const At=[{provide:L,useClass:Ft,multi:!0},{provide:L,useClass:ot,multi:!0},{provide:L,useClass:Me,multi:!0},{provide:L,useClass:St,multi:!0},{provide:L,useClass:$t,multi:!0},{provide:L,useClass:yt,multi:!0},{provide:L,useClass:(()=>{class Dt extends Vt{constructor(Fe){super(),this.treePerspectiveManager=Fe,this.actionType=P.MF.SORT}execute(Fe){const Pt=Fe.payload;this.treePerspectiveManager.setActiveSortColumn(Pt.fieldId,Pt.direction,Pt.columnIndex)}}return Dt.\u0275fac=function(Fe){return new(Fe||Dt)(n.LFG(ie.R))},Dt.\u0275prov=n.Yz7({token:Dt,factory:Dt.\u0275fac}),Dt})(),multi:!0},{provide:L,useClass:(()=>{class Dt extends Vt{constructor(Fe){super(),this.treePerspectiveManager=Fe,this.actionType=P.MF.CLEAR_SORTING}execute(){this.treePerspectiveManager.setActiveSortColumn(new Ze.Z(""),!0,-1)}}return Dt.\u0275fac=function(Fe){return new(Fe||Dt)(n.LFG(ie.R))},Dt.\u0275prov=n.Yz7({token:Dt,factory:Dt.\u0275fac}),Dt})(),multi:!0}];var Rt=e(99914),zt=e(35320),Yt=e(29843);const nn=[Qe,Lt.E,tt.F,Ct,Mt.c,He.G,x.M,B,{provide:I.mp,useFactory:Dt=>Dt.create(),deps:[Qe,xe.c]},Ue,zt.f,ie.R,X.h,xe.c,F.e,lt.r,b,pe.Y,M.G,de.P,Rt.a,Yt.p,gt,Ke.N,...At,De,...Se];var hn=e(80150),xt=e(70365),Zt=e(67743),je=e(27831),Le=e(50292),vt=e(71118),qe=e(62546),Et=e(95900),st=e(9933),Nt=e(66662),Je=e(86219);function Ot(Dt){return Dt?Dt.treeColumnQL.toArray().map(Cn=>Cn.treeColumn):[]}var fe=e(91325),Ge=e(60892),Tt=e(34296),Pe=e(24250),pt=e(30161),Q=e(82245),Ee=e(49415);const ue=["treeRowContainer"],be=["treeRowListContainer"],mt=["treeInlineAddBlanket"],Ut=["treeNodeCollection"],Xt=["treeHeader"],en=["treeContainerRef"];function mn(Dt,Cn){if(1&Dt){const Fe=n.EpF();n.TgZ(0,"div",15),n.NdJ("mouseenter",function(){n.CHM(Fe);const tn=n.oxw();return tn.scrollStart(-tn.scrollDelta)})("mouseleave",function(){return n.CHM(Fe),n.oxw().scrollEnd()}),n.qZA()}}function In(Dt,Cn){if(1&Dt&&n._UZ(0,"sp-tree-header",16,17),2&Dt){const Fe=n.oxw();n.ekj("sp-container-scroll-enabled",Fe.isContentScrollEnabled()),n.Q6J("perspective",Fe.activePerspective)("groupingNestingLevel",Fe.groupingNestingLevel)("treeId",Fe.treeId)("resizeEnabled",Fe.isColumnResizeEnabled())("columnDragAndDrop",Fe.isColumnDragAndDropEnabled())("headerInlineActionColumn",Fe.isHeaderInlineActionColumn())("leftStaticColumns",Fe.leftStaticColumns)("rightStaticColumns",Fe.rightStaticColumns),n.uIk("id","sp-"+Fe.treeId+"-tree-header")}}function Un(Dt,Cn){if(1&Dt){const Fe=n.EpF();n.TgZ(0,"div",18),n.TgZ(1,"div",19),n.TgZ(2,"span",20),n._uU(3),n.ALo(4,"spL10nText"),n.qZA(),n.qZA(),n.TgZ(5,"div",21),n.NdJ("click",function(){return n.CHM(Fe),n.oxw().timeBoxPanelClose$.emit()}),n.ALo(6,"spRichTextString"),n._UZ(7,"i",22),n.qZA(),n.qZA()}if(2&Dt){const Fe=n.oxw();n.xp6(3),n.Oqu(n.lcZ(4,3,"SPT_TREE_GRID_TIME_BOXES_ENABLED_MESSAGE")),n.xp6(2),n.Q6J("spTooltip",n.lcZ(6,5,"Close time boxes"))("spTooltipGravity",Fe.gravity.NORTH)}}function Jn(Dt,Cn){if(1&Dt&&n._UZ(0,"sp-tree-node-collection",23,24),2&Dt){const Fe=n.oxw();n.Udp("height",Fe.getNodeCollectionHeight(),"px"),n.ekj("sp-not-selectable",Fe.shiftPressed),n.Q6J("nodes",Fe.tree.getFlatListOfNodes())("perspective",Fe.activePerspective)("groupingNestingLevel",Fe.groupingNestingLevel)("groupingColumnsIndentsMap",Fe.groupingColumnsIndentsMap)("isInlineDeleteDisabled",Fe.isInlineDeleteDisabled)("spRightClickIgnoreEnabled",Fe.ignoreRightClickEvent)("leftStaticColumns",Fe.leftStaticColumns)("rightStaticColumns",Fe.rightStaticColumns),n.uIk("id","sp-"+Fe.treeId+"-node-collection")}}function zn(Dt,Cn){1&Dt&&(n.ynx(0),n._UZ(1,"div",27),n.BQk())}function An(Dt,Cn){if(1&Dt&&(n.TgZ(0,"div",25),n.TgZ(1,"sp-tree-external-drop-zone",26),n.YNc(2,zn,2,0,"ng-template"),n.qZA(),n.qZA()),2&Dt){const Fe=n.oxw();n.Udp("height",Fe.dropZoneHeight),n.xp6(1),n.Q6J("onTreeNodeDrop",Fe.onDrop())("isVisible",!0)}}function to(Dt,Cn){if(1&Dt){const Fe=n.EpF();n.TgZ(0,"div",28),n.NdJ("mouseenter",function(){n.CHM(Fe);const tn=n.oxw();return tn.scrollStart(tn.scrollDelta)})("mouseleave",function(){return n.CHM(Fe),n.oxw().scrollEnd()}),n.qZA()}}const no=[[["tree-container-content"]]],uo=function(Dt){return{"sp-active-tree":Dt}},$n=["tree-container-content"],kn=41;let ro=(()=>{class Dt extends qe.H{constructor(Fe,Pt,tn,Sn,qt,cn,rn,un,Hn,oo,qn,bn,so,Yn,Do,_t,sn,_e,ke,nt,me,ht,Wt,It,at,wt,jt,Tn,Fn,Nn,Wn,Xn,lo,Vn,rt,an,We,Gt){super(Fe,Pt),this.injector=tn,this.changeDetectorRef=Sn,this.localStorage=qt,this.tree=cn,this.treeNodeHeight=rn,this.treePerspectiveManager=un,this.treePerspectiveFactory=Hn,this.treeGridSizeService=oo,this.treeUserSettingsFactory=qn,this.treeViewportRenderService=bn,this.treeContainerScrollSetter=so,this.localActionDispatcher=Yn,this.localActions$=Do,this.internalEventHandler=_t,this.localActionHandlersCollection=sn,this.aggregateTreeId=_e,this.treeLayoutRenderer=ke,this.treeCommandService=nt,this.treeQueryService=me,this.treeShortcutsInitializer=ht,this.treeInlineEditFormConfig=Wt,this.treeDomElement=It,this.listenerService=at,this.treeGridGridStorage=wt,this.treeNodesCssClassStorage=jt,this.treeColumnAvailabilityResolverStorage=Tn,this.itemsDroppedRepository=Fn,this.treeInlineAddRepository=Nn,this.treeInlineAddConfigStorage=Wn,this.treeNodeRightClickResolverStorage=Xn,this.treeGridScrollToBottomService=lo,this.treeGridScrollFactory=Vn,this.dragStateRepository=rt,this.draggedElementService=an,this.dropDestinationRepository=We,this.document=Gt,this.timeBoxPanel=!1,this.ignoreRightClickEvent=!1,this.onHierarchyAddIndicatorClick$=new n.vpe,this.timeBoxPanelClose$=new n.vpe,this.groupingNestingLevel=0,this.groupingColumnsIndentsMap=new Map,this.shiftPressed=!1,this.treeActive=!1,this.gravity=Et.X,this.dragInProgress=!1,this.isInlineDeleteDisabled=!1,this.leftStaticColumns=[],this.rightStaticColumns=[],this.scrollDelta=10,this.TOP_SCROLL_ZONE_HIDE_CLASS="sp-treegrid_scroll_zone_top_hidden",this.BOTTOM_SCROLL_ZONE_HIDE_CLASS="sp-treegrid_scroll_zone_bottom_hidden",this.firstOnChanges=!0,this.treeIdInitailized=!1,this.treeColumnCollectionRef=new s.w,this.initialized=!1,this.viewInitialized=!1,this.scrollDebounceTime=0,this.scrollEnd$=new i.xQ,this.inlineAddVisibleStatus=!1}ngOnChanges(Fe){if(Fe.treeId&&!Fe.treeId.isFirstChange())throw new Error('Value "treeId" cannot change.');if(this.firstOnChanges&&(this.initTreeId(),this.initializeTreeDOMElement()),Fe.gridType&&(this.treeGridGridStorage.set(this.gridType),this.domManipulator.setHostAttribute("grid-type",Ie.W[this.gridType])),Fe.rightClickResolver&&this.treeNodeRightClickResolverStorage.set(this.rightClickResolver),Fe.config&&Fe.config.currentValue){const Pt=this.tree.getConfig().assign(Fe.config.currentValue),tn=Fe.config.currentValue.perspectiveManagerConfiguration;tn&&(this.treePerspectiveManager.setIsSuffixIcon(tn.isSuffixIcon),this.treePerspectiveManager.setIsTooltipEnabled(tn.isTooltipEnabled)),this.scrollDebounceTime=Pt.treeViewportRenderConfiguration.scrollDebounceTime,this.tree.setConfig(Pt),Fe.config.currentValue.treeNodesCssClassResolver&&this.treeNodesCssClassStorage.set(Fe.config.currentValue.treeNodesCssClassResolver),Fe.config.currentValue.treeColumnAvailabilityResolver&&this.treeColumnAvailabilityResolverStorage.set(Fe.config.currentValue.treeColumnAvailabilityResolver),this.treeCommandService.setSetTreeDropZonesResolver(this.aggregateTreeId,Pt.treeDropZonesResolver),this.treeCommandService.setSetTreeNodeSelectResolver(this.aggregateTreeId,Pt.treeNodeSelectResolver),this.updateDropZoneHeight(),this.isInlineDeleteDisabled=!this.tree.getConfig().inlineDelete,this.viewInitialized&&this.createScrollMethod()}this.firstOnChanges&&this.initUserSettings(),Fe.nodes&&(this.tree.setNodes(Fe.nodes.currentValue),this.updateDropZoneHeight(),this.groupingNestingLevel=this.calcDeepestGroup(this.nodes),this.resolveGroupingColumnsIndentsMap(),this.changeDetectorRef.markForCheck(),Fe.nodes.currentValue&&this.domManipulator.setHostAttribute("number-of-nodes",`${Fe.nodes.currentValue.length}`)),Fe.actions&&this.tree.setActions(Fe.actions.currentValue),Fe.markedNodeId&&this.tree.setMarkedNodeId(Fe.markedNodeId.currentValue),Fe.availableColumns&&this.treePerspectiveManager.setAvailableColumns(Fe.availableColumns.currentValue),Fe.inlineAddConfig&&this.treeInlineAddConfigStorage.set(this.aggregateTreeId,this.inlineAddConfig),Fe.timeBoxPanel&&this.treeRowContainer&&(this.timeBoxPanel?this.domManipulator.addClass(this.treeRowContainer.nativeElement,"sp-treegrid-row-container--with-time-box-panel"):this.domManipulator.removeClass(this.treeRowContainer.nativeElement,"sp-treegrid-row-container--with-time-box-panel")),this.firstOnChanges=!1}ngOnInit(){this.initTreeId(),this.setCollectionHandlers(),this.initUserSettings(),this.selectPerspective(),this.selectSorting(),this.initShortcuts(),this.selectLayout(),this.selectRebuild(),this.selectNodes(),this.restoreLastSelectedNode(),this.observeModifierKeys(),this.treeHierarchyAddIndicatorClickAction(),this.selectDroppedItems(),this.listenForScrollChange(),this.listenSnipeChange(),this.listenToInlineAddVisibleStatus(),this.initialized=!0}ngAfterContentInit(){this.leftStaticColumns=Ot(this.treeLeftStaticColumnContainer),this.rightStaticColumns=Ot(this.treeRightStaticColumnContainer),this.updateColumns(),this.treeColumnCollectionQL.changes.pipe(this.takeUntilDestroy()).subscribe(()=>{this.updateColumns(),this.changeDetectorRef.markForCheck()})}ngAfterViewInit(){this.treeRowContainerNativeElement=this.treeRowContainer.nativeElement,this.selectTreeDragState(),this.setTreeLayout(),this.setViewportContainer(),this.observeTreeContainerScrollEvent(),this.createScrollMethod(),this.viewInitialized=!0}finalize(){this.treeColumnCollectionRef.unsubscribe(),this.treeInlineEditFormConfig.destroy(),this.itemsDroppedRepository.set(this.tree.getAggregateTreeId(),null),this.treeInlineAddRepository.clearById(this.aggregateTreeId),this.destroyShortcuts()}scrollStart(Fe){(0,r.F)(25).pipe((0,h.R)(this.scrollEnd$),this.takeUntilDestroy()).subscribe(()=>{const tn=this.treeRowContainerNativeElement.scrollTop,cn=tn+Fe;tn!==cn&&(this.setScrollZoneStyles(cn,this.treeRowContainerNativeElement.offsetHeight,this.treeRowContainerNativeElement.scrollHeight),this.treeRowContainerNativeElement.scrollTop=cn)})}scrollEnd(){this.scrollEnd$.next()}getAggregateTreeId(){return this.aggregateTreeId}setLayout(Fe){this.treeCommandService.setLayout(this.aggregateTreeId,Fe)}addColumn(){const Fe=this.treePerspectiveManager.getAvailableColumns()[0];this.treePerspectiveManager.addColumn(Fe,"main")}observeEvents(){return this.internalEventHandler.observeEvents()}isColumnHeadersEnabled(){return this.tree.getConfig().columnHeaders}isViewportRenderingEnabled(){return this.tree.getConfig().treeViewportRenderConfiguration.enabled}isColumnResizeEnabled(){return this.tree.getConfig().columnResize}isContentScrollEnabled(){return this.tree.getConfig().contentScroll}isHeaderInlineActionColumn(){return this.tree.getConfig().headerInlineActionColumn}isTreeShortcutsEnabled(){return this.tree.getConfig().treeShortcutsEnabled}toggleInlineEdit(Fe){this.localActionDispatcher.dispatch(new P.$I(Fe.id))}isDropZoneDisabled(){return this.tree.getConfig().disabledDropZone}isExternalDropZoneEnabled(){return this.tree.getConfig().externalDropZone}isColumnDragAndDropEnabled(){return this.tree.getConfig().columnDragAndDrop}isOverflowed(){return this.tree.getConfig().overflowEnabled}getNodeLSKey(){return this.tree.getConfig().nodeLSKey}getElementRef(){return this.elementRef}onDrop(){return Fe=>{this.treeCommandService.dropItems(new Ce.H(Fe),this.tree.treeRoot,this.tree.trees.length)}}getNodeCollectionHeight(){const Fe=this.inlineAddVisibleStatus?this.treeNodeHeight.getNodeHeight():0,Pt=this.inlineAddConfig?ye.fj:0;return this.tree.getFlatListOfNodes().length*this.treeNodeHeight.getNodeHeight()+Pt+Fe}getHostClasses(){return["sp-relative","sp-w-full","sp-h-full","sp-block"]}setScrollZoneStyles(Fe,Pt,tn){Fe<=0?this.domManipulator.addHostClass(this.TOP_SCROLL_ZONE_HIDE_CLASS):this.domManipulator.removeHostClass(this.TOP_SCROLL_ZONE_HIDE_CLASS),Fe+Pt>=tn?this.domManipulator.addHostClass(this.BOTTOM_SCROLL_ZONE_HIDE_CLASS):this.domManipulator.removeHostClass(this.BOTTOM_SCROLL_ZONE_HIDE_CLASS)}updateDropZoneHeight(){const Pt=this.tree.getConfig().externalDropZoneHeight;this.dropZoneHeight=vt.l.isDefined(Pt)?Pt+"px":`calc(100% - ${this.getNodeCollectionHeight()}px)`}selectDroppedItems(){this.itemsDroppedRepository.select(this.tree.getAggregateTreeId()).pipe((0,p.h)(Fe=>!!Fe),this.takeUntilDestroy()).subscribe(Fe=>{this.dropDestinationRepository.getDropDestination().actions.move(Fe.selectedItems,Fe.destinationNode,Fe.nodeIndex)})}setViewportContainer(){this.isViewportRenderingEnabled()&&(this.treeViewportRenderService.setTreeContainerRef(this.treeRowContainer),this.treeViewportRenderService.attachEvents())}initShortcuts(){this.isTreeShortcutsEnabled()&&this.treeShortcutsInitializer.initShortcuts(),this.inlineAddConfig&&this.inlineAddConfig.getIsEnabled()&&this.treeShortcutsInitializer.initChangesGroup()}destroyShortcuts(){this.isTreeShortcutsEnabled()&&this.treeShortcutsInitializer.destroyShortcuts()}restoreLastSelectedNode(){this.tree.observeNodes().pipe((0,f.g)(1,a.Z),(0,m.q)(1),this.takeUntilDestroy()).subscribe(()=>{this.scrollToLSKeyNode(),this.selectLSKeyNode()})}createScrollMethod(){this.scrollMethod=this.treeGridScrollFactory.create(this.tree.getConfig(),this.treeRowContainerNativeElement)}selectNodes(){this.tree.observeNodes().pipe(this.takeUntilDestroy()).subscribe(Fe=>{this.treeCommandService.setTree(this.aggregateTreeId,Fe)})}selectSorting(){this.tree.getConfig().isUserSettingsStoringEnabled()&&this.localActions$.ofTreeAction(P.MF.SORT).pipe(this.takeUntilDestroy()).subscribe(Fe=>{this.treeUserSettings.changeSort(Fe.payload)})}selectPerspective(){this.treePerspectiveManager.observePerspective(this.treeUserSettings).pipe(this.takeUntilDestroy()).subscribe(Fe=>{this.activePerspective=Fe,this.tree.setColumnView(Fe),this.changeDetectorRef.markForCheck()})}selectRebuild(){this.treeQueryService.selectRebuild(this.aggregateTreeId).pipe(this.takeUntilDestroy()).subscribe(()=>{this.updateDropZoneHeight(),this.changeDetectorRef.detectChanges()})}selectLayout(){this.treeQueryService.select(this.aggregateTreeId).pipe((0,v.U)(Fe=>Fe.getLayout()),(0,E.x)(),this.takeUntilDestroy()).subscribe(Fe=>{this.domManipulator.setHostAttribute("layout",Le.A[Fe]),this.treeLayoutRenderer.setLayout(this,Fe),this.treeNodeHeight.setLayout(Fe),this.initialized&&(this.changeDetectorRef.detectChanges(),this.reloadNodeCollection())})}observeModifierKeys(){this.listenerService.observeModifierKeys().pipe(this.takeUntilDestroy()).subscribe(Fe=>{this.shiftPressed=!!(Fe&xt.q.SHIFT)})}initTreeId(){this.treeIdInitailized||(this.treeId||(this.treeId=this.aggregateTreeId.toString()),this.tree.setTreeId(this.treeId),this.aggregateTreeId.setId(this.treeId),this.treeCommandService.init(this.aggregateTreeId),this.treeIdInitailized=!0)}initializeTreeDOMElement(){this.treeDomElement.init(this.elementRef,this.treeRowContainer,this.treeRowListContainer,this.treeInlineAddBlanket)}setTreeLayout(){const Fe=this.tree.getConfig().treeLayout;this.treeCommandService.setLayout(this.aggregateTreeId,Fe)}setCollectionHandlers(){this.localActionHandlersCollection.init(this)}initUserSettings(){this.treeUserSettings=this.treeUserSettingsFactory.create(this.treeId,this.tree.getConfig().expandedStoredInLs),this.tree.setUserSettings(this.treeUserSettings),this.tree.getConfig().expandedNodeIds&&this.tree.getConfig().expandedNodeIds.length>0&&this.tree.markNodesAsExpanded(this.tree.getConfig().expandedNodeIds)}scrollToLSKeyNode(){const Fe=this.localStorage.getItem(this.getNodeLSKey());Fe&&this.nodes&&this.nodes.length>0&&this.treeCommandService.snipe(this.aggregateTreeId,Fe)}selectLSKeyNode(){const Fe=this.localStorage.getItem(this.getNodeLSKey());Fe&&this.treeCommandService.toggleItemSelection(this.aggregateTreeId,Fe,se.M.ONE)}updateColumns(){if(!this.treeColumnCollectionQL)return;this.treeColumnCollectionRef.unsubscribe(),this.treeColumnCollectionRef=new s.w,this.treeColumnCollectionQL.toArray().forEach(tn=>{this.treeColumnCollectionRef.add(tn.observeTreeColumnCollection().pipe(this.takeUntilDestroy()).subscribe(()=>{this.updateColumns(),this.changeDetectorRef.markForCheck()}))});const Fe=this.treeColumnCollectionQL.toArray().map(tn=>tn.treeColumnCollection),Pt=this.treePerspectiveFactory.createTemplatePerspective(Fe);this.treePerspectiveManager.setTemplatePerspective(Pt),this.treePerspectiveManager.changeToTemplatePerspective()}observeTreeContainerScrollEvent(){(0,o.R)(this.treeRowContainerNativeElement,"scroll").pipe((0,C.b)(this.scrollDebounceTime),this.takeUntilDestroy()).subscribe(Fe=>{this.scrollMethod(Fe)})}reloadNodeCollection(){this.treeNodeCollectionComp.runChangeDetection()}treeHierarchyAddIndicatorClickAction(){this.treeInlineAddRepository.selectSiblingNodeId(this.aggregateTreeId).pipe((0,p.h)(Fe=>null!==Fe),this.takeUntilDestroy()).subscribe(Fe=>{const Pt=this.tree.getNodeById(Fe);this.onHierarchyAddIndicatorClick$.emit(Pt)})}listenToInlineAddVisibleStatus(){this.treeInlineAddRepository.selectInlineAddVisibleStatus(this.aggregateTreeId).pipe((0,E.x)(),this.takeUntilDestroy()).subscribe(Fe=>{this.inlineAddVisibleStatus=Fe,this.getNodeCollectionHeight(),this.changeDetectorRef.detectChanges()})}listenForScrollChange(){this.treeQueryService.selectScrollTopChange(this.aggregateTreeId).pipe(this.takeUntilDestroy()).subscribe(Fe=>{const Pt=this.config.treeScrollTopChangeResolver;Pt?Pt.resolve(Fe):this.treeRowContainer.nativeElement.scrollTop+=Fe})}listenSnipeChange(){this.treeQueryService.selectSnippedItemVerticallyTopPosition(this.aggregateTreeId).pipe((0,p.h)(()=>this.nodes&&this.nodes.length>0),this.takeUntilDestroy()).subscribe(Fe=>{this.treeContainerScrollSetter.setTreeContainerScrollTop(this.treeRowContainer.nativeElement,Fe)})}calcDeepestGroup(Fe){let Pt=0;const tn=(Sn,qt=0)=>{!Array.isArray(Sn)||Sn.filter(cn=>{const rn=cn&&cn.data||null;return!!rn&&"function"==typeof rn.isGroup&&!0===rn.isGroup()}).forEach(cn=>{Pt=Math.max(Pt,qt),tn(cn.children,qt+1)})};return tn(Fe),Pt}calcGroupingIndentSize(Fe=0){return 28*Math.max(Number(this.groupingNestingLevel)-Fe,0)}resolveGroupingColumnsIndentsMap(){this.groupingColumnsIndentsMap.clear();for(let Fe=0;Fe<=this.groupingNestingLevel;Fe++)this.groupingColumnsIndentsMap.set(Fe,this.calcGroupingIndentSize(Fe))}selectTreeDragState(){this.dragStateRepository.select().pipe(this.takeUntilDestroy()).subscribe(Fe=>{Fe&&this.setScrollZoneStyles(this.treeRowContainerNativeElement.scrollTop,this.treeRowContainerNativeElement.offsetHeight,this.treeRowContainerNativeElement.scrollHeight),this.setTreeContainersVisibility(Fe),this.dragInProgress=Fe,this.changeDetectorRef.detectChanges()}),this.dragStateRepository.select().pipe((0,p.h)(Fe=>!Fe),this.takeUntilDestroy()).subscribe(()=>{this.scrollEnd$.next(),this.draggedElementService.removeClone()})}setTreeContainersVisibility(Fe){(0,d.H)().pipe((0,m.q)(1),(0,p.h)(()=>!this.isDropZoneDisabled()),this.takeUntilDestroy()).subscribe(()=>{const Pt="sp-active-drop-zones",tn=this.treeContainerRef.nativeElement;Fe?this.domManipulator.addClass(tn,Pt):this.domManipulator.removeClass(tn,Pt)})}}return Dt.\u0275fac=function(Fe){return new(Fe||Dt)(n.Y36(n.SBq),n.Y36(n.Qsj),n.Y36(n.zs3),n.Y36(n.sBO),n.Y36(st.m),n.Y36(I.mp),n.Y36(x.M),n.Y36(ie.R),n.Y36(X.h),n.Y36(fe.o),n.Y36(Ge.r),n.Y36(He.G),n.Y36(B),n.Y36(xe.c),n.Y36(F.e),n.Y36(Mt.c),n.Y36(b),n.Y36(Ce.H),n.Y36(Tt.Y),n.Y36(ve.z),n.Y36(y.p),n.Y36(hn.p),n.Y36(Pe.Y),n.Y36(Lt.E),n.Y36(xt.M),n.Y36(de.P),n.Y36(pe.Y),n.Y36(M.G),n.Y36(G.Z),n.Y36($.I),n.Y36(pt.r),n.Y36(Yt.p),n.Y36(Ue),n.Y36(gt),n.Y36(Zt.N),n.Y36(Q.t),n.Y36(Ee.J),n.Y36(t.K0))},Dt.\u0275cmp=n.Xpm({type:Dt,selectors:[["sp-treegrid"]],contentQueries:function(Fe,Pt,tn){if(1&Fe&&(n.Suo(tn,Nt.a,5),n.Suo(tn,Je.v,5),n.Suo(tn,w.$,4)),2&Fe){let Sn;n.iGM(Sn=n.CRH())&&(Pt.treeLeftStaticColumnContainer=Sn.first),n.iGM(Sn=n.CRH())&&(Pt.treeRightStaticColumnContainer=Sn.first),n.iGM(Sn=n.CRH())&&(Pt.treeColumnCollectionQL=Sn)}},viewQuery:function(Fe,Pt){if(1&Fe&&(n.Gf(T.C,7),n.Gf(ue,7),n.Gf(be,7),n.Gf(mt,7),n.Gf(Ut,5,je.F),n.Gf(Xt,5,n.SBq),n.Gf(en,7,n.SBq)),2&Fe){let tn;n.iGM(tn=n.CRH())&&(Pt.adjustWidthToParentDirective=tn.first),n.iGM(tn=n.CRH())&&(Pt.treeRowContainer=tn.first),n.iGM(tn=n.CRH())&&(Pt.treeRowListContainer=tn.first),n.iGM(tn=n.CRH())&&(Pt.treeInlineAddBlanket=tn.first),n.iGM(tn=n.CRH())&&(Pt.treeNodeCollectionComp=tn.first),n.iGM(tn=n.CRH())&&(Pt.treeHeaderElementRef=tn.first),n.iGM(tn=n.CRH())&&(Pt.treeContainerRef=tn.first)}},inputs:{treeId:"treeId",config:"config",nodes:"nodes",actions:"actions",gridType:"gridType",markedNodeId:"markedNodeId",availableColumns:"availableColumns",timeBoxPanel:"timeBoxPanel",inlineAddConfig:"inlineAddConfig",ignoreRightClickEvent:"ignoreRightClickEvent",rightClickResolver:"rightClickResolver"},outputs:{onHierarchyAddIndicatorClick$:"onHierarchyAddIndicatorClick$",timeBoxPanelClose$:"timeBoxPanelClose$"},features:[n._Bn(nn),n.qOj,n.TTD],ngContentSelectors:$n,decls:16,vars:20,consts:[[1,"sp-treegrid-container","sp-relative","sp-flex","sp-flex-col","sp-w-full","sp-h-full",3,"id","ngClass","spAdjustWidthToParent","spAdjustWidthToParentChildClass"],["treeContainerRef",""],["class","sp-treegrid_scroll_zone sp-treegrid_scroll_zone_top",3,"mouseenter","mouseleave",4,"ngIf"],[1,"sp-bar-loader-blanket"],[3,"perspective","groupingNestingLevel","treeId","resizeEnabled","columnDragAndDrop","headerInlineActionColumn","sp-container-scroll-enabled","leftStaticColumns","rightStaticColumns",4,"ngIf"],["class","sp-tree-grid-panel",4,"ngIf"],["id","sp-treegrid-row-container",1,"sp-treegrid-row-container","sp-w-full"],["treeRowContainer",""],[1,"sp-treegrid-row-list-container"],["treeRowListContainer",""],[1,"sp-treegrid-inline-add-blanket"],["treeInlineAddBlanket",""],["spRightClickIgnore","",3,"nodes","perspective","groupingNestingLevel","groupingColumnsIndentsMap","height","sp-not-selectable","isInlineDeleteDisabled","spRightClickIgnoreEnabled","leftStaticColumns","rightStaticColumns",4,"ngIf"],["class","sp-tree-external-drop-zone-container",3,"height",4,"ngIf"],["class","sp-treegrid_scroll_zone sp-treegrid_scroll_zone_bottom",3,"mouseenter","mouseleave",4,"ngIf"],[1,"sp-treegrid_scroll_zone","sp-treegrid_scroll_zone_top",3,"mouseenter","mouseleave"],[3,"perspective","groupingNestingLevel","treeId","resizeEnabled","columnDragAndDrop","headerInlineActionColumn","leftStaticColumns","rightStaticColumns"],["treeHeader",""],[1,"sp-tree-grid-panel"],[1,"sp-flex","sp-items-center"],[1,"sp-tree-grid-panel-message"],["id","sp-tree-grid-panel-close-btn",1,"sp-tree-grid-panel-close","sp-circle","sp-flex","sp-items-center","sp-justify-end",3,"spTooltip","spTooltipGravity","click"],[1,"far","fa-times"],["spRightClickIgnore","",3,"nodes","perspective","groupingNestingLevel","groupingColumnsIndentsMap","isInlineDeleteDisabled","spRightClickIgnoreEnabled","leftStaticColumns","rightStaticColumns"],["treeNodeCollection",""],[1,"sp-tree-external-drop-zone-container"],[3,"onTreeNodeDrop","isVisible"],[1,"sp-tree-external-drop-zone-content"],[1,"sp-treegrid_scroll_zone","sp-treegrid_scroll_zone_bottom",3,"mouseenter","mouseleave"]],template:function(Fe,Pt){1&Fe&&(n.F$t(no),n.TgZ(0,"div",0,1),n.YNc(2,mn,1,0,"div",2),n._UZ(3,"div",3),n.YNc(4,In,2,11,"sp-tree-header",4),n.YNc(5,Un,8,7,"div",5),n.TgZ(6,"div",6,7),n.TgZ(8,"div",8,9),n._UZ(10,"div",10,11),n.YNc(12,Jn,2,13,"sp-tree-node-collection",12),n.qZA(),n.YNc(13,An,3,4,"div",13),n.Hsn(14),n.qZA(),n.YNc(15,to,1,0,"div",14),n.qZA()),2&Fe&&(n.ekj("sp-tree-drop-zone-available",!Pt.isDropZoneDisabled())("sp-tree-cell-overflowed",Pt.isOverflowed())("sp-with-bottom-gradient",null==Pt.config?null:Pt.config.bottomGradientVisible),n.Q6J("id",Pt.treeId)("ngClass",n.VKq(18,uo,Pt.treeActive))("spAdjustWidthToParent",Pt.isContentScrollEnabled())("spAdjustWidthToParentChildClass",".sp-treegrid-row-list-container"),n.xp6(2),n.Q6J("ngIf",Pt.dragInProgress),n.xp6(2),n.Q6J("ngIf",Pt.isColumnHeadersEnabled()),n.xp6(1),n.Q6J("ngIf",Pt.timeBoxPanel),n.xp6(1),n.ekj("sp-content-scroll-enabled",Pt.isContentScrollEnabled()),n.xp6(6),n.Q6J("ngIf",Pt.tree.getFlatListOfNodes()),n.xp6(1),n.Q6J("ngIf",Pt.isExternalDropZoneEnabled()&&Pt.dragInProgress),n.xp6(2),n.Q6J("ngIf",Pt.dragInProgress))},styles:['@keyframes fadeIn{0%{opacity:0}to{opacity:1}0%{opacity:0}to{opacity:1}}@keyframes wave{0%{background-position:-200px 0}to{background-position:400px 0}0%{background-position:-500px 0}to{background-position:400px 0}}sp-treegrid sp-bar-loader{position:relative;padding-top:3px;top:28px;bottom:auto;left:0;height:1px}sp-treegrid sp-tree-node-collection{width:100%}sp-treegrid.sp-layout-ultra-compact sp-tree-node-group,sp-treegrid.sp-layout-ultra-compact .sp-treegrid-row{height:17px}sp-treegrid.sp-layout-compact sp-tree-node-group,sp-treegrid.sp-layout-compact .sp-treegrid-row{height:25px}sp-treegrid.sp-layout-compact .sp-treegrid-row.disabled:before{line-height:1.5}sp-treegrid.sp-layout-medium sp-tree-node-group,sp-treegrid.sp-layout-medium .sp-treegrid-row{height:33px}sp-treegrid.sp-layout-wide sp-tree-node-group,sp-treegrid.sp-layout-wide .sp-treegrid-row{height:49px}.sp-treegrid-container{font-size:13px;position:relative}.sp-treegrid-container.sp-active-drop-zones .sp-treegrid-row-drop-zone{display:block!important}.sp-treegrid-container.sp-tree-cell-overflowed .sp-treegrid-row-cell{overflow:hidden;white-space:nowrap;text-overflow:ellipsis}.sp-treegrid-container .sp-bar-loader-blanket{display:none;position:absolute;top:0;left:0;width:100%;height:100%;cursor:wait;z-index:20}.sp-treegrid-container.sp-active-tree{border:2px dashed var(--danger)}.sp-treegrid-container .sp-treegrid-row-container--with-time-box-panel{height:calc(100% - 41px)!important}.sp-treegrid-container .sp-treegrid-row-container{flex:1 1 auto;height:auto}.sp-treegrid-container .sp-treegrid-row-container .sp-treegrid-row-list-container{position:relative}.sp-treegrid-container .sp-treegrid-row-container .sp-treegrid-inline-add-blanket{display:none;position:absolute;width:100%;height:100%;top:0;left:0;z-index:1001}.sp-treegrid-container .sp-treegrid-row-container.sp-content-scroll-enabled{will-change:transform;overflow-y:auto;overflow-x:hidden}.sp-treegrid-container .sp-treegrid-row-container.sp-content-scroll-enabled .sp-treegrid-row-cell:last-child{justify-content:flex-start;padding:0 20px 0 10px;border-right:0}.sp-treegrid-container.sp-with-bottom-gradient{position:relative;--bottom-gradient-height: 20px}.sp-treegrid-container.sp-with-bottom-gradient:after{content:"";position:absolute;bottom:0;width:100%;height:var(--bottom-gradient-height);background:linear-gradient(180deg,rgba(0,0,0,0),var(--color-bg))}.sp-treegrid-container.sp-with-bottom-gradient .sp-treegrid-row-list-container{padding-bottom:var(--bottom-gradient-height)}.sp-treegrid-container.sp-tree-resize-active{-webkit-user-select:none;user-select:none}.sp-treegrid-container.sp-tree-resize-active .sp-treegrid-header-cell{cursor:col-resize}.sp-treegrid-container.sp-tree-resize-active .sp-treegrid-row-cell{cursor:col-resize}.sp-treegrid-container.sp-tree-resize-active .sp-treegrid-row:hover{background:transparent!important}.sp-treegrid-container.sp-tree-resize-active .sp-bar-loader-blanket{display:block;cursor:col-resize;z-index:10}.sp-treegrid-container .sp-tree-external-drop-zone-container sp-tree-external-drop-zone{display:block;width:100%;height:100%}.sp-treegrid-container .sp-tree-external-drop-zone-container sp-tree-external-drop-zone .sp-internal-drop-zone-container{display:block;width:100%;height:100%;position:relative;background:var(--blue-50);border-top:2px dashed var(--blue-300);border-bottom:2px dashed var(--blue-300);outline:none}.sp-treegrid-container .sp-tree-external-drop-zone-container sp-tree-external-drop-zone .sp-internal-drop-zone-container:before,.sp-treegrid-container .sp-tree-external-drop-zone-container sp-tree-external-drop-zone .sp-internal-drop-zone-container:after{content:"";position:absolute;top:0;outline:2px dashed var(--blue-300);height:100%}.sp-treegrid-container .sp-tree-external-drop-zone-container sp-tree-external-drop-zone .sp-internal-drop-zone-container:before{left:0}.sp-treegrid-container .sp-tree-external-drop-zone-container sp-tree-external-drop-zone .sp-internal-drop-zone-container:after{right:0}.sp-treegrid-container .sp-tree-external-drop-zone-container sp-tree-external-drop-zone .sp-internal-drop-zone-container.sp-center-zone-treegrid-container{border-top:2px dashed var(--green-300);border-bottom:2px dashed var(--green-300);background:var(--green-50)}.sp-treegrid-container .sp-tree-external-drop-zone-container sp-tree-external-drop-zone .sp-internal-drop-zone-container.sp-center-zone-treegrid-container:before,.sp-treegrid-container .sp-tree-external-drop-zone-container sp-tree-external-drop-zone .sp-internal-drop-zone-container.sp-center-zone-treegrid-container:after{top:0;outline:2px dashed var(--green-300)}.sp-treegrid-container .sp-tree-external-drop-zone-container .sp-tree-external-drop-zone-content{height:100%}sp-tree-node-collection{display:block;position:relative;width:100%;font-size:14px}.sp-not-loaded-node{position:absolute;left:0;top:0;width:100%;display:flex;align-items:center}.sp-not-loaded{height:24px;width:100%}.sp-not-loaded:after{content:"";height:24px;width:100%;cursor:wait;animation-duration:.8s;animation-fill-mode:forwards;animation-iteration-count:infinite;animation-name:wave;animation-timing-function:linear;background:linear-gradient(0deg,transparent 0%,rgba(255,255,255,.4) 40%,rgba(255,255,255,.4) 60%,transparent 100%);background-size:200%;position:absolute}sp-tree-node{display:block;position:absolute;transform:translate(0);width:100%}sp-tree-node.sp-tree-edit-mode{z-index:1}sp-tree-node .empty-column{padding-right:16px}@keyframes not-loaded-wave{0%{background-position:200%}to{background-position:-200%}}sp-tree-node-group{width:100%;height:41px;padding:0 8px;position:absolute;display:flex;flex-flow:row nowrap;align-items:center;border-bottom:1px solid transparent}sp-tree-node-group .sp-tree-node-group-selection{width:100%;height:100%;left:0;top:0;position:absolute;display:block;content:"";pointer-events:none;transition:background-color .1s;background:rgba(222,235,255,.75);z-index:-1}sp-tree-node-group.is-collapsed .sp-tree-node-group-selection{background:linear-gradient(to bottom,rgba(222,235,255,0) 0%,rgba(222,235,255,.75) 100%);z-index:10}sp-tree-node-group.is-collapsed>*:not(.sp-tree-node-group-selection){z-index:20}sp-tree-node-group.is-expanded{border-bottom-color:var(--gray-40)}sp-tree-node-group.is-expanded .sp-tree-node-group-line{display:block}sp-tree-node-group[data-indent-level]:before,sp-tree-node-group[data-indent-level]:after{left:0;position:absolute;display:block;background-color:var(--gray-60);content:"";pointer-events:none;z-index:-1}sp-tree-node-group[data-indent-level]:before{width:1px;height:50%;top:0;transform:translate(-14px)}sp-tree-node-group[data-indent-level]:after{width:28px;height:1px;top:50%;transform:translate(-14px,-50%)}sp-tree-node-group .sp-tree-toggler{margin:0 8px 0 0;color:var(--gray-100)}sp-tree-node-group .sp-tree-toggler:hover{color:var(--gray-800)}sp-tree-node-group .sp-tree-node-group-line{width:1px;height:0;left:14px;top:100%;position:absolute;display:none;background-color:var(--gray-60);z-index:-1}sp-tree-node-group .sp-tree-node-group-icon{width:16px;margin-right:4px}sp-tree-node-group .sp-tree-node-group-label-container{height:100%;display:flex;align-items:center}sp-tree-node-group .sp-tree-node-group-label{display:inline-block;overflow:hidden;font-size:14px;font-weight:500;text-overflow:ellipsis;white-space:nowrap;color:var(--gray-800);width:100%;transition:width .2s ease-in,padding-right .2s ease-in}sp-tree-node-group .sp-tree-node-group-label-hidden{width:0;padding-right:0}sp-tree-node-group .sp-tree-node-group-children-count{font-size:.75rem;min-width:24px;height:16px;padding:2px 4px;display:inline-flex;align-items:center;justify-content:center;flex:0 0 auto;border-radius:10px;font-weight:bold;color:currentColor;transition:width .2s ease-in,padding-right .2s ease-in}sp-tree-node-group .sp-tree-node-group-children-count-hidden{min-width:0;width:0;padding:0;visibility:hidden}.sp-tree-node-group-root-line{width:1px;height:0;left:14px;top:24px;position:absolute;background-color:var(--gray-60)}.sp-treegrid-row{display:flex;width:100%;height:41px;background:var(--color-bg)}.sp-treegrid-row .sp-dynamic-column-container{display:flex;flex:1;overflow:hidden}.sp-treegrid-row.node-marked{background:var(--yellow-50)}.sp-treegrid-row:hover{background-color:var(--gray-20)}.sp-treegrid-row:hover .sp-tree-drag-button i{color:var(--gray-100)}.sp-treegrid-row.node-selected{transition:background-color .1s;background:var(--blue-50)}.sp-treegrid-row.node-selected:hover{background:var(--blue-50)}.sp-treegrid-row.loading{position:absolute;top:41px;z-index:10;background:var(--color-bg);padding-top:5px}.sp-treegrid-row.loading .sp-treegrid-preloader{animation-name:fadeIn;animation-duration:.5s;width:100%}.sp-treegrid-row .sp-tree-indent{position:relative;border-left:0 solid transparent;z-index:1}.sp-treegrid-row .sp-tree-drag-button{display:flex;padding-top:0;padding-right:8px;cursor:move}.sp-treegrid-row .sp-tree-drag-button i{display:block;margin:0;padding:0;width:4px;font-size:14px;color:transparent;cursor:move}.sp-treegrid-row .sp-tree-drag-button:hover i{color:var(--gray-400)}.sp-treegrid-row .sp-treegrid-row-drop-zone{display:none;position:absolute;width:100%;margin:0;opacity:.3}.sp-treegrid-row .sp-treegrid-row-drop-zone.sp-drop-top-zone{top:-26%;height:53%;z-index:4}.sp-treegrid-row .sp-treegrid-row-drop-zone.sp-drop-center-zone{top:24%;height:53%;z-index:2}.sp-treegrid-row .sp-treegrid-row-drop-zone.sp-drop-bottom-zone{top:77%;height:50%;z-index:3}.sp-treegrid-row-add-task-zone{position:absolute;width:100%;margin:0;top:80%;height:40%;cursor:pointer;z-index:2}.sp-treegrid-row-add-task-zone:hover:before{content:"";position:absolute;width:100%;padding-bottom:3px;background-color:var(--green-300);top:50%}.sp-treegrid-row .sp-treegrid-preloader-item{display:inline-block;height:20px;width:70px;top:4px;left:52px;border-radius:var(--border-radius-m);position:relative;animation-duration:2s;animation-fill-mode:forwards;animation-iteration-count:infinite;animation-name:wave;animation-timing-function:linear;background:var(--gray-20);background-image:linear-gradient(90deg,var(--gray-20) 0%,var(--gray-30) 20%,var(--gray-40) 40%,var(--gray-20) 100%);background-repeat:no-repeat;background-size:200px 26px}.sp-treegrid-row .sp-treegrid-preloader-item+.sp-treegrid-preloader-item{width:200px;margin-left:15px}.sp-treegrid-row.disabled:before{content:"No access";position:absolute;text-align:center;cursor:not-allowed;color:var(--gray-200);left:0;right:0;top:0;bottom:1px;z-index:10;line-height:2.8;background:repeating-linear-gradient(135deg,var(--gray-20),var(--gray-20) 0,var(--gray-20) 4px,var(--white) 0,var(--white) 15px)}.sp-treegrid-row .sp-treegrid-row-cell{display:flex;align-items:center;padding:0 10px;flex:0 1 auto;position:relative}.sp-treegrid-row .sp-treegrid-row-cell:last-child{flex-grow:1}.sp-treegrid-row .sp-treegrid-row-cell.sp-tree-inline-action-group{position:relative;overflow:inherit;justify-content:flex-end;padding:0}.sp-treegrid-row .sp-treegrid-row-cell.sp-tree-inline-action-group .sp-tree-inline-action-group-buttons{position:absolute;right:10px}.sp-treegrid-row .sp-treegrid-row-cell.sp-treegrid-border-none{border:0}.sp-tree-toggler{transform:rotate(0);transition:transform .1s ease-in-out;display:block;height:12px;width:12px;text-align:center;margin-top:2px;margin-right:8px;color:var(--gray-80);font-size:12px;cursor:pointer}.sp-tree-toggler.sp-with-lines-strategy{display:flex;align-items:center;justify-content:center;height:16px;width:16px;color:var(--gray-200);font-size:13px}.sp-tree-toggler:hover{color:var(--gray-900)}.sp-tree-toggler.sp-toggler-rotate-down{transform:rotate(90deg);transition:transform .1s ease-in-out}*::-ms-backdrop,.sp-treegrid-row .sp-treegrid-row-cell.sp-tree-inline-action-group .sp-tree-inline-action-group-buttons{position:relative}.sp-dragged-container{position:absolute;list-style-type:none;padding:0;opacity:1;border:1px solid var(--blue-300);border-radius:var(--border-radius-m);background:var(--blue-50);z-index:6001}.sp-dragged-container .node-selected{background:var(--blue-50)}.sp-dragged-container.sp-layout-ultra-compact .sp-treegrid-row{height:17px}.sp-dragged-container.sp-layout-compact .sp-treegrid-row{height:25px}.sp-dragged-container.sp-layout-medium .sp-treegrid-row{height:33px}.sp-dragged-container.sp-layout-wide .sp-treegrid-row{height:49px}.sp-dragged-container .sp-treegrid-row .sp-treegrid-row-drop-zone{display:none!important}.sp-dragged-container .sp-treegrid-header-cell{background:var(--gray-20);padding-top:5px;padding-left:10px;padding-right:10px}.sp-dragged-container .sp-treegrid-header-cell .sp-header-cell-content{width:auto!important}.sp-dragged-container .sp-treegrid-header-cell .sp-resize-border{display:none}.sp-dragged-container .sp-treegrid-header-cell sp-tree-column-config-selector-icon{display:none!important}.sp-dragged-container .sp-treegrid-row-cell{overflow:hidden;white-space:nowrap;text-overflow:ellipsis}.sp-full-center-zone{width:100%;height:100%;z-index:4}.sp-top-zone-active{position:relative}.sp-top-zone-active:before{content:"";position:absolute;width:100%;padding-bottom:3px;background-color:var(--green-300);top:-2px}.sp-center-zone-active{position:relative;border-right:2px dashed var(--green-300);background-color:var(--green-50)}.sp-center-zone-active:before{content:"";position:absolute;width:100%;height:2px;border-bottom:2px dashed var(--green-300);top:-2px}.sp-center-zone-active:after{content:"";position:absolute;width:100%;height:2px;border-bottom:2px dashed var(--green-300);bottom:0}.sp-bottom-zone-active{position:relative}.sp-bottom-zone-active:before{content:"";position:absolute;width:100%;padding-bottom:3px;background-color:var(--green-300);bottom:-1px}.sp-center-zone-treegrid-container{background:var(--green-50);outline:2px dashed var(--green-300)}.sp-full-center-zone .sp-treegrid-row-cell,.sp-top-zone-active .sp-treegrid-row-cell,.sp-center-zone-active .sp-treegrid-row-cell,.sp-bottom-zone-active .sp-treegrid-row-cell,.sp-center-zone-treegrid-container .sp-treegrid-row-cell{background:none}.sp-not-selectable{-webkit-user-select:none;user-select:none}.sp-marked-for-move{transition:background-color .1s;background:rgba(222,235,255,.5)!important}.sp-drag-counter{height:24px;width:24px;background:var(--purple-400);color:var(--white);border-radius:50%;position:absolute;bottom:-12px;left:-12px;line-height:24px;text-align:center}.sp-tree-grid-panel{display:flex;height:41px;width:100%;font-size:14px;padding:10px 20px;border-bottom:2px solid var(--gray-40)}.sp-tree-grid-panel i{color:var(--gray-400)}.sp-tree-grid-panel-close{padding:1px 6px;cursor:pointer;margin-left:2px}.sp-tree-grid-panel-close:hover{background-color:var(--gray-20)}.sp-tree-grid-panel-message{font-style:italic;color:var(--gray-300)}.sp-tree-grid-panel-message-underline{text-decoration:underline}.sp-tree-first-group-column{border-left:0}.sp-treegrid_scroll_zone_top_hidden .sp-treegrid_scroll_zone_top{display:none}.sp-treegrid_scroll_zone_bottom_hidden .sp-treegrid_scroll_zone_bottom{display:none}.sp-treegrid_scroll_zone{position:absolute;width:100%;height:100px;z-index:1}.sp-treegrid_scroll_zone_top{top:0}.sp-treegrid_scroll_zone_bottom{bottom:0}\n'],encapsulation:2,changeDetection:0}),Dt})()},4199:(S,g,e)=>{"use strict";e.d(g,{l:()=>s});var t=e(90850),n=e(84046);let s=(()=>{class i{constructor(){this.forcedResize$=new t.xQ}repaint(a){this.forcedResize$.next(a)}observeRepaint(){return this.forcedResize$.asObservable()}}return i.\u0275fac=function(a){return new(a||i)},i.\u0275prov=n.Yz7({token:i,factory:i.\u0275fac}),i})()},85272:(S,g,e)=>{"use strict";e.d(g,{T:()=>t,A:()=>n});var t=(()=>((t||(t={})).CHANGES="SPT_TREE_SHORTCUTS_GROUP_ITEM_ACTIONS_HEADER",t))(),n=(()=>{return(s=n||(n={})).ITEM_NAVIGATION="SPT_TREE_SHORTCUTS_GROUP_ITEM_NAVIGATION_HEADER",s.NEW_ITEM="SPT_TREE_SHORTCUTS_GROUP_ITEM_NAVIGATION_NEW_ITEM",s.NEW_SUB_ITEM="SPT_TREE_SHORTCUTS_GROUP_ITEM_NAVIGATION_NEW_SUB_ITEM",s.COLLAPSE_EXPAND="SPT_TREE_SHORTCUTS_GROUP_ITEM_NAVIGATION_COLLAPSE_EXPAND",s.REMOVE_SELECTION="SPT_TREE_SHORTCUTS_GROUP_ITEM_NAVIGATION_REMOVE_SELECTION",n;var s})()},80150:(S,g,e)=>{"use strict";e.d(g,{p:()=>v});var t=e(19327),n=e(69047),s=e(86495),i=e(55688),r=e(93051),a=e(82613),o=e(10107),d=e(67761),h=e(83020),p=e(80064),f=e(85272),m=e(84046);let v=(()=>{class E{constructor(T,y,I,P,L){this.selectedItemsRepository=T,this.treeCommandService=y,this.shortcutsService=I,this.treeInlineAddStorage=P,this.treeInlineAddService=L,this.treeNavigationShortcuts=[]}initShortcuts(){this.shortcutsInitialized||(this.selectedItemsRepository.changes().subscribe(T=>{this.activeTreeId=T}),this.treeNavigationGroup=this.shortcutsService.createGroup(n.x.NAVIGATION),this.treeNavigationShortcuts.push(this.shortcutsService.createContainer(f.A.ITEM_NAVIGATION,this.treeNavigationGroup).add(new i.z(s.s.ARROW_DOWN,()=>this.treeCommandService.selectNextItem(this.activeTreeId)).withPreventDefault()).add(new i.z(s.s.ARROW_UP,()=>this.treeCommandService.selectPreviousItem(this.activeTreeId)).withPreventDefault())),this.treeNavigationShortcuts.push(this.shortcutsService.createContainer(f.A.COLLAPSE_EXPAND,this.treeNavigationGroup).add(new i.z(s.s.ARROW_LEFT,()=>this.treeCommandService.collapseSelectedItem(this.activeTreeId)).withPreventDefault()).add(new i.z(s.s.ARROW_RIGHT,()=>this.treeCommandService.expandSelectedItem(this.activeTreeId)).withPreventDefault())),this.treeNavigationShortcuts.push(this.shortcutsService.createContainer(f.A.REMOVE_SELECTION,this.treeNavigationGroup).add(new i.z(s.s.ESCAPE,()=>{!this.activeTreeId||this.treeCommandService.unselectItems(this.activeTreeId)}).withPreventDefault())),this.shortcutsInitialized=!0)}initChangesGroup(){this.treeChangesGroup=this.shortcutsService.createGroup(f.T.CHANGES,{position:r.N.FORCE_TO_TOP,groupColor:t.B.VIOLET}),this.shortcutsService.createContainer(f.A.NEW_ITEM,this.treeChangesGroup).add(new i.z(s.s.ENTER,()=>{this.toggleToInlineAddMode(!1)})),this.shortcutsService.createContainer(f.A.NEW_SUB_ITEM,this.treeChangesGroup).add(new i.z(s.s.ENTER,()=>{this.toggleToInlineAddMode(!0)}).withModifier(s.s.SHIFT))}destroyShortcuts(){this.shortcutsService.removeShortcutGroup(this.treeChangesGroup),this.treeNavigationShortcuts.forEach(T=>this.shortcutsService.removeContainer(T.getName(),this.treeNavigationGroup)),this.shortcutsInitialized=!1}toggleToInlineAddMode(T){if(!this.activeTreeId)return;const y=this.selectedItemsRepository.getIds(this.activeTreeId);y.length>1||!y.length||this.treeInlineAddService.toggleToInlineAddMode(this.activeTreeId,y[0],T)}}return E.\u0275fac=function(T){return new(T||E)(m.LFG(d.G),m.LFG(p.z),m.LFG(a.L),m.LFG(h.I),m.LFG(o.j))},E.\u0275prov=m.Yz7({token:E,factory:E.\u0275fac}),E})()},14819:(S,g,e)=>{"use strict";e.d(g,{P:()=>i});var t=e(27609),n=e(81058),s=e(84046);let i=(()=>{class r extends t.V{constructor(){super(n.W.HORIZONTAL)}}return r.\u0275fac=function(o){return new(o||r)},r.\u0275prov=s.Yz7({token:r,factory:r.\u0275fac}),r})()},49439:(S,g,e)=>{"use strict";e.d(g,{n:()=>s});var t=e(81058),n=e(84046);let s=(()=>{class i{transform(a,o){return a&t.W[o]}}return i.\u0275fac=function(a){return new(a||i)},i.\u0275pipe=n.Yjl({name:"TreeGridGridPipe",type:i,pure:!0}),i})()},81058:(S,g,e)=>{"use strict";e.d(g,{W:()=>t});var t=(()=>{return(n=t||(t={}))[n.NONE=0]="NONE",n[n.HORIZONTAL=1]="HORIZONTAL",n[n.VERTICAL=2]="VERTICAL",n[n.BOTH=3]="BOTH",t;var n})()},34296:(S,g,e)=>{"use strict";e.d(g,{Y:()=>s});var t=e(50292),n=e(84046);let s=(()=>{class i{constructor(a){this.rendererFactory2=a,this.treeLayouts={ultra_compact:"sp-layout-ultra-compact",compact:"sp-layout-compact",medium:"sp-layout-medium",normal:"sp-layout-normal",wide:"sp-layout-wide"},this.renderer=a.createRenderer(null,null)}setLayout(a,o){this.switchLayout(o,a.getElementRef())}switchLayout(a,o){switch(a){case t.A.ULTRA_COMPACT:this.addLayoutClass(this.treeLayouts.ultra_compact,o);break;case t.A.COMPACT:this.addLayoutClass(this.treeLayouts.compact,o);break;case t.A.MEDIUM:this.addLayoutClass(this.treeLayouts.medium,o);break;case t.A.NORMAL:this.removeAllLayoutClasses(o);break;case t.A.WIDE:this.addLayoutClass(this.treeLayouts.wide,o)}}addLayoutClass(a,o){this.removeAllLayoutClasses(o),this.renderer.addClass(o.nativeElement,a)}removeAllLayoutClasses(a){Object.keys(this.treeLayouts).forEach(o=>{this.renderer.removeClass(a.nativeElement,this.treeLayouts[o])})}}return i.\u0275fac=function(a){return new(a||i)(n.LFG(n.FYo))},i.\u0275prov=n.Yz7({token:i,factory:i.\u0275fac}),i})()},97035:(S,g,e)=>{"use strict";e.d(g,{F:()=>F,G:()=>b});var t=e(84046),n=e(53488),s=e(19335),i=e(73197),r=e(4683),a=e(70822),o=e(45635),d=e(98254),h=e(43349),p=e(62126),f=e(27501),m=e(28819),v=e(91771),E=e(71984),C=e(62628),T=e(52861),y=e(78742),I=e(70129),P=e(14878),L=e(4199);const F=new t.OlP("TREE_VIEWPORT_SCROLL_GROUP");let b=(()=>{class x extends C.b{constructor(M,w,K,k,G,$,X,ie,se){super(),this.localActionDispatcher=M,this.tree=w,this.treeNodeHeight=K,this.treeRepository=k,this.scrollTriggerService=G,this.aggregateTreeId=$,this.viewportRenderRepository=X,this.treeRepaintService=ie,this.treeViewportScrollGroup=se,this.startPosition=0,this.endPosition=0,this.startScrollPosition=0,this.treeRowContainerScrollTop=0,this.subscription=new n.w,this.previousV=0,this.offsetHeight=0,this.scrollPosition=0,this.REPAINT_DEBOUNCE_TIME=400,this.VIEWPORT_FACTOR=4,this.selectScrollTrigger(),this.selectLayout()}ngOnDestroy(){this.subscription.unsubscribe()}isViewPortRenderEnabled(){return this.tree.getConfig().treeViewportRenderConfiguration.enabled}attachEvents(){this.calculateNumberOfNodes(),this.tree.getConfig().treeViewportRenderConfiguration.renderViewportOnResize&&this.attachWindowResizeEvent()}setTreeContainerRef(M){this.treeContainerRef=M,this.treeContainerRef&&(this.nativeElement=this.treeContainerRef.nativeElement,this.setOffsetHeight(),this.notifyPosition(this.scrollPosition))}reduce(M=null){if(M){const K=M.target.scrollTop;if(this.notifyPosition(K),!this.checkIfShouldRebuildTreeAfterScroll(K))return}this.setTreeRowContainerScrollTop(this.nativeElement.scrollTop),this.calculateNumberOfNodes(),this.localActionDispatcher.dispatch(new v.uK)}sliceNodes(M){return 0===this.startPosition&&0===this.endPosition?[]:0===this.endPosition?[...M]:[...M.slice(this.startPosition,this.endPosition)]}setOffsetHeight(){this.offsetHeight=this.nativeElement.offsetHeight}selectScrollTrigger(){!this.treeViewportScrollGroup||this.scrollTriggerService.selectScroll(this.treeViewportScrollGroup).pipe((0,a.h)(()=>!!this.nativeElement),(0,o.b)(({scrollPosition:M})=>{this.scrollPosition=M}),(0,d.e)(0,s.Z),this.takeUntilDestroy()).subscribe(({scrollPosition:M})=>{if(!this.checkIfShouldRebuildTreeAfterScroll(M))return;this.offsetHeight||this.setOffsetHeight();const K=this.treeNodeHeight.getNodeHeight();Math.abs(M-this.previousV)>1*K&&(this.setTreeRowContainerScrollTop(M),this.calculateNumberOfNodes(),this.localActionDispatcher.dispatch(new v.uK),this.previousV=M)})}calculateNumberOfNodes(){const M=this.getTreeRowContainerHeight(),w=this.treeNodeHeight.getNodeHeight(),K=this.getNumberOfAdditionalTaskInViewport();if(!M)return this.startPosition=0,void(this.endPosition=0);const k=Math.ceil(M/w)+K,G=Math.floor(this.treeRowContainerScrollTop/w);this.startPosition=Math.max(G-K,0),this.endPosition=G+k}notifyPosition(M){const w=Math.ceil(this.getTreeRowContainerHeight()/this.treeNodeHeight.getNodeHeight()),K=Math.floor(M/this.treeNodeHeight.getNodeHeight());this.viewportRenderRepository.set(this.tree.getAggregateTreeId(),{startPosition:K,endPosition:K+w,nodeHeight:this.treeNodeHeight.getNodeHeight()})}attachWindowResizeEvent(){const M=this.treeRepaintService.observeRepaint().pipe((0,a.h)(K=>!!K.find(k=>this.aggregateTreeId.toString()===k)),(0,h.O)(0)),w=(0,i.R)(window,"resize").pipe((0,h.O)(0));this.subscription.add((0,r.aj)([M,w]).pipe((0,p.b)(this.REPAINT_DEBOUNCE_TIME),this.takeUntilDestroy()).subscribe(()=>{this.setTreeContainerRef(this.treeContainerRef),this.calculateNumberOfNodes(),this.localActionDispatcher.dispatch(new v.uK),this.notifyPosition(this.scrollPosition)}))}checkIfShouldRebuildTreeAfterScroll(M){const w=this.treeNodeHeight.getNodeHeight();let K=!0;if(M>this.startScrollPosition)(M-this.startScrollPosition)/w<this.getNumberOfAdditionalTaskInViewport()/this.VIEWPORT_FACTOR?K=!1:(this.startScrollPosition=M,K=!0);else{if((this.startScrollPosition-M)/w<this.getNumberOfAdditionalTaskInViewport()/this.VIEWPORT_FACTOR)return!1;this.startScrollPosition=M,K=!0}return K}getTreeRowContainerHeight(){return this.offsetHeight}setTreeRowContainerScrollTop(M){this.treeRowContainerScrollTop=M}getNumberOfAdditionalTaskInViewport(){return this.tree.getConfig().treeViewportRenderConfiguration.additionalTasksInViewport}selectLayout(){this.treeRepository.select(this.aggregateTreeId).pipe(this.takeUntilDestroy()).subscribe(M=>{this.layout=M.getLayout(),this.setTreeRowContainerScrollTop(this.startScrollPosition),this.calculateNumberOfNodes(),this.localActionDispatcher.dispatch(new v.uK)})}}return x.\u0275fac=function(M){return new(M||x)(t.LFG(T.c),t.LFG(m.mp),t.LFG(y.M),t.LFG(I.a),t.LFG(f.bb),t.LFG(P.H),t.LFG(E.T),t.LFG(L.l,8),t.LFG(F,8))},x.\u0275prov=t.Yz7({token:x,factory:x.\u0275fac}),x})()},71984:(S,g,e)=>{"use strict";e.d(g,{T:()=>s});var t=e(25344),n=e(84046);let s=(()=>{class i extends t.g{}return i.\u0275fac=function(){let r;return function(o){return(r||(r=n.n5z(i)))(o||i)}}(),i.\u0275prov=n.Yz7({token:i,factory:i.\u0275fac}),i})()},91526:(S,g,e)=>{"use strict";e.d(g,{j:()=>r});var t=e(90850),n=e(70822),s=e(71726),i=e(84046);let r=(()=>{class a{constructor(){this.nodeExpand$=new t.xQ,this.expandedNodesMap=new Map}expandNode(d){this.expandedNodesMap.set(d,!1),this.nodeExpand$.next(d)}collapseNode(d){this.expandedNodesMap.set(d,!0),this.nodeExpand$.next(d)}selectExpandedNode(d){return this.nodeExpand$.pipe((0,n.h)(h=>h===d),(0,s.U)(h=>this.expandedNodesMap.get(h)))}}return a.\u0275fac=function(d){return new(d||a)},a.\u0275prov=i.Yz7({token:a,factory:a.\u0275fac}),a})()},11830:(S,g,e)=>{"use strict";e.d(g,{N:()=>hn});var t=e(84046),n=e(71726),s=e(96105),i=e(91771),r=e(28819),o=(e(19172),e(16599)),d=e(28241);const p=xt=>`column_${xt.getId()}_${xt.nodeIndex}_${xt.nodeLevel}`;var f=e(67743),m=e(95900),v=e(34826),E=e(14878),C=e(62546),T=e(80064),y=e(14247),I=e(49549),P=e(81503),L=e(73790),F=e(35320),b=e(10703),x=e(52861),B=e(91676),M=e(91526),w=e(49415),K=e(55331),k=e(10958),G=e(73983),$=e(87872),X=e(68561),ie=e(21002),se=e(34909),pe=e(68890),ve=e(9400),Ce=e(77989),ye=e(89875),de=e(36574),Ie=e(37544),He=e(49439),Ve=e(18217),Ue=e(22489);function xe(xt,Zt){if(1&xt&&(t.ynx(0),t._UZ(1,"sp-tree-active-drop-zone",11),t.BQk()),2&xt){t.oxw(2);const je=t.MAs(1),Le=t.oxw();t.xp6(1),t.Q6J("id","sp-tree-active-top-drop-zone-"+Le.tree.getTreeId()+"-"+Le.getNodeIdForView())("node",Le.node)("nodeIndex",Le.node.nodeIndex)("draggedTreeRow",je)("spTreeDropEnabled",!Le.selectedChild&&!Le.prevNodeSelected)("onTreeNodeDrop",Le.onActiveZoneTreeDrop(Le.node.nodeIndex))}}function gt(xt,Zt){if(1&xt){const je=t.EpF();t.ynx(0),t.TgZ(1,"div",12),t.NdJ("treeDrop",function(vt){return t.CHM(je),t.oxw(3).onTreeDrop(vt)}),t.qZA(),t.BQk()}if(2&xt){t.oxw(2);const je=t.MAs(1),Le=t.oxw();t.xp6(1),t.Q6J("id","sp-tree-active-center-drop-zone-"+Le.tree.getTreeId()+"-"+Le.getNodeIdForView())("spTreeDrop",Le.node)("spTreeDropEnabled",!Le.selectedChild&&Le.isDragAndDropEnabled())("spTreeDropDraggedRow",je)("spTreeDropNodeIndex",-1)}}function tt(xt,Zt){if(1&xt&&(t.ynx(0),t._UZ(1,"sp-tree-active-drop-zone",13),t.BQk()),2&xt){t.oxw(2);const je=t.MAs(1),Le=t.oxw();t.xp6(1),t.Q6J("id","sp-tree-active-bottom-drop-zone-"+Le.tree.getTreeId()+"-"+Le.getNodeIdForView())("node",Le.node)("nodeIndex",Le.node.nodeIndex+1)("draggedTreeRow",je)("spTreeDropEnabled",!Le.selectedChild&&!Le.nextNodeSelected)("onTreeNodeDrop",Le.onActiveZoneTreeDrop(Le.node.nodeIndex+1))}}function lt(xt,Zt){if(1&xt&&(t.ynx(0),t.YNc(1,xe,2,6,"ng-container",6),t.YNc(2,gt,2,5,"ng-container",6),t.YNc(3,tt,2,6,"ng-container",6),t.BQk()),2&xt){const je=t.oxw(2);t.xp6(1),t.Q6J("ngIf",je.isDropZonesEnabled().topZone&&je.getTreeDropZonesResolver().isDropZoneTopEnabled(je.node)),t.xp6(1),t.Q6J("ngIf",je.isDropZonesEnabled().centerZone&&je.getTreeDropZonesResolver().isDropZoneCenterEnabled(je.node)),t.xp6(1),t.Q6J("ngIf",je.last&&je.isDropZonesEnabled().bottomZone&&je.getTreeDropZonesResolver().isDropZoneBottomEnabled(je.node))}}function Mt(xt,Zt){if(1&xt){const je=t.EpF();t.TgZ(0,"sp-tree-node-group",14),t.NdJ("click",function(vt){return t.CHM(je),t.oxw(2).onNodeClick(vt)})("dblclick",function(){return t.CHM(je),t.oxw(2).onNodeDblClick()}),t.qZA()}if(2&xt){const je=t.oxw(2);t.Udp("width",je.treeNodeIndentService.resolveCalcRowWidth(je.node,je.groupingIndentSize)),t.ekj("node-marked",je.isMarked())("disabled",je.isDisabled())("leaf",je.leaf)("sp-marked-for-move",je.selectedChild&&!je.selected),t.Q6J("node",je.node)("isSelected",je.isSelectionEnabled()&&je.selected)}}function ne(xt,Zt){1&xt&&t.GkF(0)}const De=function(xt,Zt,je,Le){return{$implicit:xt,dragButton:Zt,static:!0,treeGridRow:je,index:Le}};function Ye(xt,Zt){if(1&xt&&(t.ynx(0),t.YNc(1,ne,1,0,"ng-container",15),t.BQk()),2&xt){const je=Zt.$implicit,Le=Zt.index;t.oxw();const vt=t.MAs(1);t.oxw();const qe=t.MAs(5);t.xp6(1),t.Q6J("ngTemplateOutlet",qe)("ngTemplateOutletContext",t.l5B(2,De,je,je.dragButton,vt,Le))}}function Qe(xt,Zt){1&xt&&t.GkF(0)}const Ke=function(xt,Zt,je,Le){return{$implicit:xt,index:Zt,dragButton:je,static:!1,treeGridRow:Le}};function it(xt,Zt){if(1&xt&&(t.ynx(0),t.YNc(1,Qe,1,0,"ng-container",15),t.BQk()),2&xt){const je=Zt.$implicit,Le=Zt.index;t.oxw();const vt=t.MAs(1),qe=t.oxw(),Et=t.MAs(5);t.xp6(1),t.Q6J("ngTemplateOutlet",Et)("ngTemplateOutletContext",t.l5B(2,Ke,je,Le+qe.leftStaticColumns.length,!qe.leftStaticColumns.length&&je.dragButton,vt))}}function Se(xt,Zt){1&xt&&t.GkF(0)}const Ct=function(xt,Zt){return{$implicit:xt,static:!0,index:Zt}};function Lt(xt,Zt){if(1&xt&&(t.ynx(0),t.YNc(1,Se,1,0,"ng-container",15),t.BQk()),2&xt){const je=Zt.$implicit,Le=Zt.index,vt=t.oxw(2),qe=t.MAs(5);t.xp6(1),t.Q6J("ngTemplateOutlet",qe)("ngTemplateOutletContext",t.WLB(2,Ct,je,Le+vt.leftStaticColumns.length+vt.treeColumns.length))}}function Vt(xt,Zt){if(1&xt){const je=t.EpF();t.TgZ(0,"button",20),t.NdJ("click",function(){return t.CHM(je),t.oxw(3).toggleEditMode()}),t.ALo(1,"spRichTextI18n"),t._UZ(2,"i",21),t.qZA()}if(2&xt){const je=t.oxw(3);t.Q6J("id","sp-treegrid-row-"+je.index+"-edit-button")("spTooltip",t.lcZ(1,2,"SPT_TREE_NODE_EDIT_BUTTON_TOOLTIP"))}}function St(xt,Zt){if(1&xt){const je=t.EpF();t.TgZ(0,"button",22),t.NdJ("spConfirmDialogOnSubmit",function(){t.CHM(je);const vt=t.oxw(3);return vt.clickInlineDelete(vt.node)}),t.ALo(1,"spRichTextI18n"),t._UZ(2,"i",23),t.qZA()}if(2&xt){const je=t.oxw(3);t.Q6J("spTooltip",t.lcZ(1,3,"SPT_TREE_NODE_DELETE_BUTTON_TOOLTIP"))("spConfirmDialogGravity",je.gravity.WEST)("disabled",je.isInlineDeleteDisabled)}}function $t(xt,Zt){if(1&xt&&(t.TgZ(0,"div",16),t.TgZ(1,"sp-button-group",17),t.YNc(2,Vt,3,4,"button",18),t.YNc(3,St,3,5,"button",19),t.qZA(),t.qZA()),2&xt){const je=t.oxw(2);t.Udp("flex","0 0 10%"),t.xp6(2),t.Q6J("ngIf",je.isInlineEditEnabled()),t.xp6(1),t.Q6J("ngIf",je.isInlineDeleteEnabled())}}function yt(xt,Zt){if(1&xt){const je=t.EpF();t.TgZ(0,"div",4,5),t.NdJ("click",function(vt){return t.CHM(je),t.oxw().onNodeClick(vt)})("dblclick",function(){return t.CHM(je),t.oxw().onNodeDblClick()}),t.ALo(2,"TreeGridGridPipe"),t.YNc(3,lt,4,3,"ng-container",6),t.YNc(4,Mt,1,12,"sp-tree-node-group",7),t.YNc(5,Ye,2,7,"ng-container",8),t.TgZ(6,"div",9),t.YNc(7,it,2,7,"ng-container",8),t.qZA(),t.YNc(8,Lt,2,5,"ng-container",8),t.YNc(9,$t,4,4,"div",10),t.qZA()}if(2&xt){const je=t.oxw();t.Udp("margin-left",je.treeNodeIndentService.calculateRowIndent(je.node,je.groupingIndentSize),"px")("width",je.treeNodeIndentService.resolveCalcRowWidth(je.node,je.groupingIndentSize)),t.ekj("node-marked",je.isMarked())("disabled",je.isDisabled())("leaf",je.leaf)("node-selected",je.isSelectionEnabled()&&je.selected)("sp-marked-for-move",je.selectedChild&&!je.selected),t.Q6J("spTreeCssClass",je.isCustomCssClassEnabled())("spTreeCssClassTreeNode",je.node)("ngClass",t.xi3(2,26,je.treeGridGridType,"HORIZONTAL")?"sp-border-bottom-1":"sp-border-bottom-transparent-1"),t.uIk("data-treeNodeId",je.node.id)("data-nodeLevel",je.node.nodeLevel)("id","sp-treegrid-row-"+je.index),t.xp6(3),t.Q6J("ngIf",je.isDragAndDropEnabled()&&je.isDragging),t.xp6(1),t.Q6J("ngIf",je.isGroupNode),t.xp6(1),t.Q6J("ngForOf",je.leftStaticColumns),t.xp6(2),t.Q6J("ngForOf",je.treeColumns),t.xp6(1),t.Q6J("ngForOf",je.rightStaticColumns),t.xp6(1),t.Q6J("ngIf",je.isInlineEditEnabled()||je.isInlineDeleteEnabled())}}function Ft(xt,Zt){1&xt&&(t.TgZ(0,"div",24),t.TgZ(1,"div",25),t._UZ(2,"div",26),t._UZ(3,"div",26),t.qZA(),t.qZA())}function ot(xt,Zt){if(1&xt){const je=t.EpF();t.TgZ(0,"sp-tree-inline-edit-row",27),t.NdJ("onCloseRow",function(){return t.CHM(je),t.oxw().exitEditMode()}),t.qZA()}if(2&xt){const je=t.oxw();t.Q6J("node",je.node)("treeColumns",je.treeColumns)}}function Me(xt,Zt){if(1&xt){const je=t.EpF();t.TgZ(0,"div",34),t.NdJ("mouseenter",function(){return t.CHM(je),t.oxw(4).activateDragHandle()}),t._UZ(1,"i",35),t.qZA()}if(2&xt){const je=t.oxw(4);t.Q6J("id","sp-tree-drag-button-"+je.tree.getTreeId()+"-"+je.getDashedId(je.node.id))}}function Ze(xt,Zt){if(1&xt){const je=t.EpF();t.TgZ(0,"div",36),t.NdJ("mouseenter",function(){return t.CHM(je),t.oxw(4).activateDragHandle()}),t._UZ(1,"i",35),t.qZA()}if(2&xt){const je=t.oxw(3).treeGridRow,Le=t.oxw();t.Q6J("id","sp-tree-drag-button-"+Le.isDraggingActivated()+Le.tree.getTreeId()+"-"+Le.getDashedId(Le.node.id))("spTreeDragEnabled",!0)("spTreeDrag",Le.node)("spTreeDragTreeRow",je)("spTreeDragStickyRow",Le.isStickyDragRowEnabled())}}function Ne(xt,Zt){if(1&xt&&(t.ynx(0),t.YNc(1,Me,2,1,"div",32),t.YNc(2,Ze,2,5,"div",33),t.BQk()),2&xt){const je=t.oxw(3);t.xp6(1),t.Q6J("ngIf",!je.isDragHandleActivated),t.xp6(1),t.Q6J("ngIf",je.isDragHandleActivated)}}function we(xt,Zt){1&xt&&t._UZ(0,"div",37)}function At(xt,Zt){if(1&xt&&(t.ynx(0),t.YNc(1,Ne,3,2,"ng-container",6),t.YNc(2,we,1,0,"div",31),t.BQk()),2&xt){const je=t.oxw(2);t.xp6(1),t.Q6J("ngIf",je.isDragAndDropEnabled()&&je.getTreeDropZonesResolver().isDragNodeEnable(je.node)),t.xp6(1),t.Q6J("ngIf",!(je.isDragAndDropEnabled()&&je.getTreeDropZonesResolver().isDragNodeEnable(je.node)))}}function Rt(xt,Zt){if(1&xt&&t._UZ(0,"sp-tree-row-hierarchy",38),2&xt){const je=t.oxw().dragButton,Le=t.oxw();t.Q6J("node",Le.node)("dragButton",je)("strategy",Le.getTreeRowStrategy())}}function zt(xt,Zt){if(1&xt&&t._UZ(0,"sp-field-value",42),2&xt){const je=t.oxw(2).$implicit,Le=t.oxw();t.Q6J("entityId",Le.getEntityId(je))("fieldDefinition",Le.contextMap.get(je.id).fieldDefinition)}}function Yt(xt,Zt){1&xt&&t.GkF(0)}function ln(xt,Zt){if(1&xt&&(t.ynx(0),t.YNc(1,Yt,1,0,"ng-container",15),t.BQk()),2&xt){const je=t.oxw(2).$implicit,Le=t.oxw();t.xp6(1),t.Q6J("ngTemplateOutlet",null==je?null:je.template)("ngTemplateOutletContext",Le.contextMap.get(je.id))}}function pn(xt,Zt){if(1&xt&&(t.ynx(0,39),t.YNc(1,zt,1,2,"sp-field-value",40),t.YNc(2,ln,2,2,"ng-container",41),t.BQk()),2&xt){const je=t.oxw().static,Le=t.oxw();t.Q6J("ngSwitch",Le.selectedTreePerspective===Le.treePerspectiveStrategy.VIEW&&!je),t.xp6(1),t.Q6J("ngSwitchCase",!0),t.xp6(1),t.Q6J("ngSwitchCase",!1)}}function nn(xt,Zt){if(1&xt&&(t.TgZ(0,"div",28),t.ALo(1,"TreeGridGridPipe"),t.YNc(2,At,3,2,"ng-container",6),t.YNc(3,Rt,1,3,"sp-tree-row-hierarchy",29),t.YNc(4,pn,3,3,"ng-container",30),t.ALo(5,"spTreeColumnAvailable"),t.qZA()),2&xt){const je=Zt.$implicit,Le=Zt.index,vt=Zt.dragButton,qe=t.oxw();t.Gre("sp-treegrid-row-cell ",je.cssClass,""),t.Udp("margin-left",qe.treeNodeIndentService.calculateColumnIndent(qe.node,Le,qe.groupingColumnsIndentsMap),"px")("border-left",qe.treeNodeIndentService.resolveColumnLeftBorder(qe.node,Le))("flex",je.flex),t.ekj("sp-tree-expand-column",je.treeExpand),t.Q6J("spTreeCssClass",qe.isCustomCssClassEnabled())("spTreeCssClassTreeNode",qe.node)("spTreeCssClassTreeColumn",je)("spTreeCssClassColumnPosition",Le)("ngClass",t.xi3(1,23,qe.treeGridGridType,"VERTICAL")?"sp-border-right-1":"sp-border-right-transparent-1")("id","sp-treegrid-row-cell-"+Le),t.uIk("data-grouping",qe.treeNodeGroupColumnSelectorFactory(qe.node))("column-name",je.header.toLocaleLowerCase())("column-index",Le),t.xp6(2),t.Q6J("ngIf",vt),t.xp6(1),t.Q6J("ngIf",je.treeExpand&&!qe.isDisabled()&&!qe.isGroupNode),t.xp6(1),t.Q6J("ngIf",t.xi3(5,26,je,qe.node))}}let hn=(()=>{class xt extends C.H{constructor(je,Le,vt,qe,Et,st,Nt,Je,Ot,fe,Ge,Tt,Pe,pt,Q,Ee){super(je,Le),this.tree=vt,this.treeNodeIndentService=qe,this.changeDetectorRef=Et,this.localActions$=st,this.localActionDispatcher=Nt,this.internalEventHandler=Je,this.treeNodeContextFactory=Ot,this.treeQueryService=fe,this.treeCommandService=Ge,this.aggregateTreeId=Tt,this.nodeExpandService=Pe,this.dragStateRepository=pt,this.dropDestinationRepository=Q,this.selectedTreePerspective=Ee,this.last=!1,this.selected=!1,this.selectedChild=!1,this.nextNodeSelected=!1,this.prevNodeSelected=!1,this.leftStaticColumns=[],this.rightStaticColumns=[],this.selectNode=new t.vpe,this.editMode=!1,this.treeColumns=[],this.contextMap=new Map,this.gravity=m.X,this.leaf=!1,this.groupingIndentSize=0,this.isGroupNode=!1,this.isDragging=!1,this.isDraggingButtonActivated=!0,this.isDragHandleActivated=!1,this.treePerspectiveStrategy=L.c,this.treeNodeGroupColumnSelectorFactory=p,this.innerElementRef=je}ngOnChanges(je){(je.perspective||je.node)&&this.updatePerspective(),je.node&&(this.isLeaf(),this.isGroup()),je.groupingNestingLevel&&(this.groupingIndentSize=(Number(this.groupingNestingLevel)||0)*xt.INDENT_SIZE),this.createContextMap()}ngOnInit(){this.getTreeConfig().inlineEdit&&this.localActions$.ofTreeAction(i.MF.ENTER_EDIT_MODE).pipe((0,n.U)(Le=>Le.payload),this.takeUntilDestroy()).subscribe(Le=>{this.editMode&&Le!==this.node.id?this.exitEditMode():!this.editMode&&Le===this.node.id&&this.enterEditMode()}),this.nodeExpandService.selectExpandedNode(this.node.id).pipe(this.takeUntilDestroy()).subscribe(je=>{this.toggleExpandState(je)}),this.selectIsDragging()}getTreeDropZonesResolver(){return this.getTreeConfig().treeDropZonesResolver}onNodeClick(je){const Le=je.target;Le.className&&Le.className.indexOf&&0===Le.className.indexOf("sp-tree-toggler")&&(je.stopPropagation(),this.toggleExpand())}onNodeDblClick(){this.isSelectionEnabled()&&this.getTreeConfig().customActions.onNodeDblClick(this.node)}createContextMap(){this.contextMap.clear();for(let Le=0;Le<this.treeColumns.length;Le++){const vt=this.treeColumns[Le];this.contextMap.set(vt.id,this.treeNodeContextFactory.create(vt,this.node,this.node.nodeIndex))}const je=new o.R;this.leftStaticColumns.concat(this.rightStaticColumns).forEach(Le=>{const vt=je.create(Le,this.node,this.node.nodeIndex);this.contextMap.set(Le.id,vt)})}isExpandEnabled(){return!this.getTreeConfig().blockExpand}toggleExpand(){this.toggleExpandState(this.node.isExpanded())}expand(){this.setExpandState(!0)}getNodeIdForView(){return`${xt.TREE_NODE_ID_PREFIX}${y.I.dashedWithoutSpaceId(this.node.getId())}`}getGroupNodeType(){return this.node.getIsGroup()?"GROUP":"LEAF"}getDashedId(je){return y.I.dashedWithoutSpaceId(je)}collapse(){this.setExpandState(!1)}isMarked(){return this.getTreeConfig().compareMarkedNodes(this.node,this.tree.markedNodeId)}isDisabled(){return this.getTreeConfig().isDisabled(this.node.getRawTreeNode())}isDragAndDropEnabled(){return this.getTreeConfig().dragAndDrop}isStickyDragRowEnabled(){return this.getTreeConfig().stickyDragRow}isLoading(){return this.getTreeConfig().isNodeLoadingAnimationEnabled()&&this.tree.isLoading(this.node.data.id)}isDropZonesEnabled(){return this.getTreeConfig().dropZones}isSelectionEnabled(){return this.getTreeConfig().selectNode}isLeaf(){this.leaf=this.node.children&&0===this.node.children.length}isGroup(){this.isGroupNode=this.node.getIsGroup()}onTreeDrop(je){this.treeCommandService.dropItems(new E.H(je),this.node,0)}onActiveZoneTreeDrop(je){return Le=>{this.dropDestinationRepository.setDropDestination(this.tree),this.treeCommandService.dropItems(new E.H(Le),this.node.getParent(),je)}}isInlineEditEnabled(){return this.getTreeConfig().inlineEdit&&this.inlineEditEnabled}isInlineDeleteEnabled(){return this.getTreeConfig().inlineDelete&&this.inlineDeleteEnabled}toggleEditMode(){this.editMode?this.exitEditMode():(this.enterEditMode(),this.localActionDispatcher.dispatch(new i.$I(this.node.id)))}exitEditMode(){this.editMode=!1,this.domManipulator.removeHostClass("sp-tree-edit-mode"),this.localActionDispatcher.dispatch(new i.s5),this.changeDetectorRef.detectChanges()}isAnimationEnabled(){return this.getTreeConfig().collapseAnimation}clickInlineDelete(je){this.internalEventHandler.dispatch(new d.q9(je))}isCustomCssClassEnabled(){return this.getTreeConfig().customTreeCssClass}getNodeLevel(){return this.node&&this.node.nodeLevel}getTreeRowStrategy(){return this.getTreeConfig().treeRowHierarchyStrategy}spRightMouseClicked(){this.selectNode.emit(this.node)}activateDragHandle(){this.isDragHandleActivated=!0,this.isDraggingButtonActivated=!0,this.changeDetectorRef.detectChanges()}getEntityId(je){const Le=this.contextMap.get(je.id).entity;return Le?Le.id:""}isDraggingActivated(){return this.isDraggingButtonActivated?"activated-":""}getHostClasses(){return["sp-tree-node"]}getTreeConfig(){return this.tree.getConfig()}toggleExpandState(je){const Le=je?new i.Ce(this.node):new i.EQ(this.node);this.localActionDispatcher.dispatch(Le),this.isExpandEnabled()&&this.tree.expandNode(this.node.id,!je)}setExpandState(je){const Le=je?new i.EQ(this.node):new i.Ce(this.node);this.localActionDispatcher.dispatch(Le),this.isExpandEnabled()&&this.tree.expandNode(this.node.id,!je)}updatePerspective(){if(!this.perspective||!this.node)return void(this.treeColumns=[]);const je=this.perspective.getCollectionByNode(this.node);this.treeColumns=je.getTreeColumns(),this.inlineDeleteEnabled=je.getInlineDelete(),this.inlineEditEnabled=je.getInlineEdit()}enterEditMode(){this.editMode=!0,this.domManipulator.addHostClass("sp-tree-edit-mode"),this.changeDetectorRef.detectChanges()}selectIsDragging(){this.dragStateRepository.select().pipe((0,s.x)(),this.takeUntilDestroy()).subscribe(je=>{this.isDragging&&!je&&(this.isDraggingButtonActivated=!1,this.selected||this.deactivateDragHandle()),this.isDragging=je,this.changeDetectorRef.detectChanges()})}deactivateDragHandle(){(0,I.H)().pipe(this.takeUntilDestroy()).subscribe(()=>{this.isDragHandleActivated=!1})}}return xt.TREE_NODE_ID_PREFIX="sp-tree-",xt.INDENT_SIZE=28,xt.\u0275fac=function(je){return new(je||xt)(t.Y36(t.SBq),t.Y36(t.Qsj),t.Y36(r.mp),t.Y36(F.f),t.Y36(t.sBO),t.Y36(b.e),t.Y36(x.c),t.Y36(B.c),t.Y36(o.R),t.Y36(v.p),t.Y36(T.z),t.Y36(E.H),t.Y36(M.j),t.Y36(f.N),t.Y36(w.J),t.Y36(P.o,8))},xt.\u0275cmp=t.Xpm({type:xt,selectors:[["sp-tree-node"]],hostVars:3,hostBindings:function(je,Le){2&je&&(t.Ikx("id",Le.getNodeIdForView()),t.uIk("data-nodelevel",Le.getNodeLevel())("group-node-type",Le.getGroupNodeType()))},inputs:{node:"node",last:"last",perspective:"perspective",selected:"selected",selectedChild:"selectedChild",nextNodeSelected:"nextNodeSelected",prevNodeSelected:"prevNodeSelected",treeGridGridType:"treeGridGridType",index:"index",groupingNestingLevel:"groupingNestingLevel",groupingColumnsIndentsMap:"groupingColumnsIndentsMap",selectedNodes:"selectedNodes",isInlineDeleteDisabled:"isInlineDeleteDisabled",leftStaticColumns:"leftStaticColumns",rightStaticColumns:"rightStaticColumns"},outputs:{selectNode:"selectNode"},features:[t.qOj,t.TTD],decls:6,vars:3,consts:[["class","sp-treegrid-row sp-treegrid-datarow",3,"spTreeCssClass","spTreeCssClassTreeNode","node-marked","disabled","leaf","node-selected","sp-marked-for-move","ngClass","margin-left","width","click","dblclick",4,"ngIf","ngIfElse"],["class","sp-treegrid-row loading",4,"ngIf"],["inlineEditRow",""],["columnTemplate",""],[1,"sp-treegrid-row","sp-treegrid-datarow",3,"spTreeCssClass","spTreeCssClassTreeNode","ngClass","click","dblclick"],["treeGridRow",""],[4,"ngIf"],[3,"node","isSelected","node-marked","disabled","leaf","sp-marked-for-move","width","click","dblclick",4,"ngIf"],[4,"ngFor","ngForOf"],[1,"sp-dynamic-column-container"],["class","sp-treegrid-row-cell sp-tree-inline-action-group",3,"flex",4,"ngIf"],[1,"sp-treegrid-row-drop-zone","sp-drop-top-zone",3,"id","node","nodeIndex","draggedTreeRow","spTreeDropEnabled","onTreeNodeDrop"],[1,"sp-treegrid-row-drop-zone","sp-drop-center-zone",3,"id","spTreeDrop","spTreeDropEnabled","spTreeDropDraggedRow","spTreeDropNodeIndex","treeDrop"],[1,"sp-treegrid-row-drop-zone","sp-drop-bottom-zone",3,"id","node","nodeIndex","draggedTreeRow","spTreeDropEnabled","onTreeNodeDrop"],[3,"node","isSelected","click","dblclick"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"sp-treegrid-row-cell","sp-tree-inline-action-group"],[1,"sp-tree-inline-action-group-buttons"],["sp-button","","subtle","","class","sp-tree-inline-edit",3,"id","spTooltip","click",4,"ngIf"],["sp-button","","subtle","","spConfirmDialogConfirmButtonTitle","Delete","spConfirmDialogMessage","Are you sure? This action must be confirmed.","class","sp-tree-confirm-button",3,"spTooltip","spConfirmDialog","spConfirmDialogGravity","disabled","spConfirmDialogOnSubmit",4,"ngIf"],["sp-button","","subtle","",1,"sp-tree-inline-edit",3,"id","spTooltip","click"],[1,"fas","fa-pen","sp-fg-icon"],["sp-button","","subtle","","spConfirmDialogConfirmButtonTitle","Delete","spConfirmDialogMessage","Are you sure? This action must be confirmed.",1,"sp-tree-confirm-button",3,"spTooltip","spConfirmDialog","spConfirmDialogGravity","disabled","spConfirmDialogOnSubmit"],[1,"fas","fa-trash","sp-fg-icon"],[1,"sp-treegrid-row","loading"],[1,"sp-treegrid-preloader"],[1,"sp-treegrid-preloader-item"],[3,"node","treeColumns","onCloseRow"],[3,"spTreeCssClass","spTreeCssClassTreeNode","spTreeCssClassTreeColumn","spTreeCssClassColumnPosition","ngClass","id"],[3,"node","dragButton","strategy",4,"ngIf"],[3,"ngSwitch",4,"ngIf"],["class","empty-column",4,"ngIf"],["class","sp-tree-drag-button",3,"id","mouseenter",4,"ngIf"],["class","sp-tree-drag-button",3,"id","spTreeDragEnabled","spTreeDrag","spTreeDragTreeRow","spTreeDragStickyRow","mouseenter",4,"ngIf"],[1,"sp-tree-drag-button",3,"id","mouseenter"],["aria-hidden","true",1,"fas","fa-grip-vertical"],[1,"sp-tree-drag-button",3,"id","spTreeDragEnabled","spTreeDrag","spTreeDragTreeRow","spTreeDragStickyRow","mouseenter"],[1,"empty-column"],[3,"node","dragButton","strategy"],[3,"ngSwitch"],[3,"entityId","fieldDefinition",4,"ngSwitchCase"],[4,"ngSwitchCase"],[3,"entityId","fieldDefinition"]],template:function(je,Le){if(1&je&&(t.YNc(0,yt,10,29,"div",0),t.YNc(1,Ft,4,0,"div",1),t.YNc(2,ot,1,2,"ng-template",null,2,t.W1O),t.YNc(4,nn,6,29,"ng-template",null,3,t.W1O)),2&je){const vt=t.MAs(3);t.Q6J("ngIf",!Le.editMode||Le.isGroupNode)("ngIfElse",vt),t.xp6(1),t.Q6J("ngIf",Le.isLoading())}},directives:[K.O5,k.R,K.mk,K.sg,G.b,$.V,X.a,K.tP,ie.K,se.r,pe.i9,ve.b,Ce.I,ye.O,de.q,K.RF,K.n9,Ie.$],pipes:[He.n,Ve.d,Ue.R],encapsulation:2,changeDetection:0}),xt})()},16599:(S,g,e)=>{"use strict";e.d(g,{R:()=>n});var t=e(84046);let n=(()=>{class s{create(r,a,o){return{template:r.template,column:r,rawTreeNode:r.field?a.getRawTreeNode()[r.field]:a.getRawTreeNode(),data:r.field?a.getData()[r.field]:a.getData(),dataIndex:o,node:a}}}return s.\u0275fac=function(r){return new(r||s)},s.\u0275prov=t.Yz7({token:s,factory:s.\u0275fac}),s})()},99914:(S,g,e)=>{"use strict";e.d(g,{a:()=>i});var t=e(19327),n=e(84046),s=e(3944);let i=(()=>{class r{constructor(o){this.sanitizer=o}getBackgroundImage(o,d,h){if(!o)return null;const p=d&&h?this.getStepsExpanded(o):this.getStepsCollapsedOrWithoutChildren(o);return this.createGradientSafeStyle(p)}getGroupLabelBackgroundImage(o,d,h,p){if(!o)return null;const f=d&&h?this.getStepsExpanded(o,!0,p):this.getStepsCollapsedOrWithoutChildren(o);return this.createGradientSafeStyle(f)}createGradientSafeStyle(o){return this.sanitizer.bypassSecurityTrustStyle(`linear-gradient(to bottom, ${o.join(", ")})`)}getStepsCollapsedOrWithoutChildren(o){return[`${o.backgroundStyle} 0%`,`${o.backgroundStyle} 2px`,`${o.subtleBackgroundStyle} 3px`,`${o.subtleBackgroundStyle} 100%`]}getStepsExpanded(o,d=!1,h=!1){const p=this.resolveEndColor(d,h);return[`${o.backgroundStyle} 0%`,`${o.backgroundStyle} 2px`,`${o.subtleBackgroundStyle} 3px`,`${o.subtleBackgroundStyle} 6px`,`${p} 100%`]}resolveEndColor(o,d){return o?d?t.I.SELECTED_ROW:"rgba(255, 255, 255, 1)":"rgba(255, 255, 255, 0)"}}return r.\u0275fac=function(o){return new(o||r)(n.LFG(s.H7))},r.\u0275prov=n.Yz7({token:r,factory:r.\u0275fac}),r})()},15980:(S,g,e)=>{"use strict";e.d(g,{m:()=>o});var t=e(71726),n=e(96105),s=e(34826),i=e(62628),r=e(84046),a=e(14878);class o extends i.b{constructor(h,p){super(),this.aggregateTreeId=h,this.treeQueryService=p,this.selectLayout()}static getInitialChildrenCount(){return Object.assign({},o.INITIAL_CHILDREN_COUNT_STATE)}countChildren(h){const p=o.getInitialChildrenCount();return h&&h.hasChildren()?h.getChildren().reduce((f,m)=>{const v=this.countChildren(m),E=m.getIsGroup();return{all:1+f.all+v.all,nonGroup:Number(!E)+f.nonGroup+v.nonGroup}},p):p}getGroupWithChildrenHeight(h){return this.layout*this.countChildren(h).all}selectLayout(){this.treeQueryService.select(this.aggregateTreeId).pipe((0,t.U)(h=>h.getLayout()),(0,n.x)(),this.takeUntilDestroy()).subscribe(h=>{this.layout=h})}}o.INITIAL_CHILDREN_COUNT_STATE=Object.freeze({all:0,nonGroup:0}),o.\u0275fac=function(h){return new(h||o)(r.LFG(a.H),r.LFG(s.p))},o.\u0275prov=r.Yz7({token:o,factory:o.\u0275fac})},68561:(S,g,e)=>{"use strict";e.d(g,{a:()=>k});var t=e(71726),n=e(96105),s=e(19327),i=e(34826),a=(e(28819),e(99914)),o=e(15980);class d{static getNonGroupChildrenCountTooltip($,X){return`${$} item${$>1?"s":""} in the "${X}" group`}static getToggleGroupingLabelTooltip($,X){return`${$}. Click to ${X?"hide":"show"} group name.`}}var h=e(50292),p=e(62546),f=e(95900),m=e(84046),v=e(3944),E=e(14878),C=e(55331),T=e(83063),y=e(55117),I=e(68890),P=e(25082),L=e(18217);const F=["groupLabelContainer"],b=["groupLabel"],x=["groupChildrenCount"];function B(G,$){1&G&&m._UZ(0,"div",9)}function M(G,$){if(1&G&&m._UZ(0,"span",10),2&G){const X=m.oxw();m.ekj("sp-toggler-rotate-down",X.isExpanded)}}function w(G,$){if(1&G&&(m.TgZ(0,"span",11,12),m.ALo(2,"spSanitize"),m.ALo(3,"spSanitize"),m.ALo(4,"spRichTextI18n"),m._uU(5),m.qZA()),2&G){const X=m.oxw();m.Udp("background-color",m.xi3(2,7,X.color.backgroundStyle,"style"))("color",m.xi3(3,10,X.color.colorStyle,"style")),m.Q6J("spTooltipGravity",X.Gravity.NORTH)("spTooltip",m.lcZ(4,13,X.groupingTooltip)),m.xp6(5),m.hij(" ",X.nonGroupChildrenCount," ")}}function K(G,$){if(1&G&&m._UZ(0,"div",13),2&G){const X=m.oxw();m.Udp("height",X.childrenCount>0?X.layout*X.childrenCount:0,"px")}}let k=(()=>{class G extends p.H{constructor(X,ie,se,pe,ve,Ce,ye,de){super(X,ie),this.changeDetectorRef=se,this.sanitizer=pe,this.aggregateTreeId=ve,this.treeNodeGroupBackgroundImageResolver=Ce,this.treeNodeGroupChildrenCountService=ye,this.treeQueryService=de,this.isSelected=!1,this.isExpanded=!0,this.isCollapsed=!1,this.hasChildren=!0,this.childrenCount=null,this.indentLevel=null,this.backgroundImage=null,this.color=s.B.BLUE,this.isGroupingLabelVisible=!0,this.label="",this.layout=h.A.NORMAL,this.Gravity=f.X,this.iconMap={expanded:"folder-open",collapsed:"folder"}}ngOnChanges(X){X.node&&X.node.currentValue&&(this.setLabel(this.node),this.setIsExpanded(this.node),this.setHasChildren(this.node),this.setIndentLevel(this.node.nodeLevel),this.setColor(this.node.color),this.setGroupingTooltip()),X.isSelected&&(this.groupLabelBackgroundImage=this.getGroupLabelBackgroundImage())}ngOnInit(){this.resolveToggleGroupingLabelTooltip(),this.selectLayout()}getIconName(){return this.node&&this.node.isExpanded()?this.iconMap.expanded:this.iconMap.collapsed}toggleGroupingLabelVisibility(){this.isGroupingLabelVisible=!this.isGroupingLabelVisible,this.resolveToggleGroupingLabelTooltip(),this.resolveLabelVisibilityClass(),this.changeDetectorRef.detectChanges()}setLabel(X){this.label=X.groupName}setIsExpanded(X){this.isExpanded=X.isExpanded(),this.isCollapsed=!this.isExpanded}setHasChildren(X){const ie=X.hasChildren(),se=ie?this.countChildren(X):o.m.getInitialChildrenCount();this.hasChildren=ie,this.childrenCount=se.all,this.nonGroupChildrenCount=se.nonGroup}countChildren(X){return this.treeNodeGroupChildrenCountService.countChildren(X)}setIndentLevel(X){this.indentLevel=X||null}parseColor(X){if(X instanceof s.I)return X;const se="string"==typeof X?X.toUpperCase():"BLUE";return se in s.B?s.B[se]:s.B.BLUE}setColor(X){this.color=this.parseColor(X),this.backgroundImage=this.getBackgroundImage(),this.groupLabelBackgroundImage=this.getGroupLabelBackgroundImage()}getBackgroundImage(){return this.treeNodeGroupBackgroundImageResolver.getBackgroundImage(this.color,this.isExpanded,this.hasChildren)}getGroupLabelBackgroundImage(){return this.treeNodeGroupBackgroundImageResolver.getGroupLabelBackgroundImage(this.color,this.isExpanded,this.hasChildren,this.isSelected)}hideGroupLabelContainer(){this.domManipulator.addClass(this.groupingLabel.nativeElement,G.HIDDEN_LABEL_CLASS_NAME),this.domManipulator.addClass(this.groupChildrenCount.nativeElement,G.HIDDEN_GROUP_CHILDREN_COUNT_CLASS_NAME)}resolveLabelVisibilityClass(){this.isGroupingLabelVisible?this.showGroupLabelContainer():this.hideGroupLabelContainer()}resolveToggleGroupingLabelTooltip(){this.toggleGroupingLabelTooltip=d.getToggleGroupingLabelTooltip(this.label,this.isGroupingLabelVisible)}selectLayout(){this.treeQueryService.select(this.aggregateTreeId).pipe((0,t.U)(X=>X.getLayout()),(0,n.x)(),this.takeUntilDestroy()).subscribe(X=>{this.layout=X,this.changeDetectorRef.detectChanges()})}setGroupingTooltip(){this.groupingTooltip=d.getNonGroupChildrenCountTooltip(this.nonGroupChildrenCount,this.label)}showGroupLabelContainer(){this.domManipulator.removeClass(this.groupingLabel.nativeElement,G.HIDDEN_LABEL_CLASS_NAME),this.domManipulator.removeClass(this.groupChildrenCount.nativeElement,G.HIDDEN_GROUP_CHILDREN_COUNT_CLASS_NAME)}}return G.HIDDEN_LABEL_CLASS_NAME="sp-tree-node-group-label-hidden",G.HIDDEN_GROUP_CHILDREN_COUNT_CLASS_NAME="sp-tree-node-group-children-count-hidden",G.\u0275fac=function(X){return new(X||G)(m.Y36(m.SBq),m.Y36(m.Qsj),m.Y36(m.sBO),m.Y36(v.H7),m.Y36(E.H),m.Y36(a.a),m.Y36(o.m),m.Y36(i.p))},G.\u0275cmp=m.Xpm({type:G,selectors:[["sp-tree-node-group"]],viewQuery:function(X,ie){if(1&X&&(m.Gf(F,7),m.Gf(b,7),m.Gf(x,5)),2&X){let se;m.iGM(se=m.CRH())&&(ie.groupingLabelContainer=se.first),m.iGM(se=m.CRH())&&(ie.groupingLabel=se.first),m.iGM(se=m.CRH())&&(ie.groupChildrenCount=se.first)}},hostVars:10,hostBindings:function(X,ie){2&X&&(m.uIk("data-children-count",ie.childrenCount)("data-indent-level",ie.indentLevel),m.Udp("background-image",ie.backgroundImage),m.ekj("is-expanded",ie.isExpanded)("is-collapsed",ie.isCollapsed)("has-children",ie.hasChildren))},inputs:{node:"node",isSelected:"isSelected"},features:[m.qOj,m.TTD],decls:12,vars:17,consts:[["class","sp-tree-node-group-selection",4,"ngIf"],["class","sp-tree-toggler sp-z-1 fa fa-chevron-right",3,"sp-toggler-rotate-down",4,"ngIf"],["spClickStopPropagation","",1,"sp-tree-node-group-icon","sp-cursor-pointer","sp-z-1",3,"name","spTooltipGravity","spTooltip","click"],[1,"sp-tree-node-group-label-container","sp-dark:bg-transparent","sp-z-1"],["groupLabelContainer",""],[1,"sp-tree-node-group-label","sp-pr-2"],["groupLabel",""],["class","sp-tree-node-group-children-count",3,"spTooltipGravity","spTooltip","backgroundColor","color",4,"ngIf"],["class","sp-tree-node-group-line",3,"height",4,"ngIf"],[1,"sp-tree-node-group-selection"],[1,"sp-tree-toggler","sp-z-1","fa","fa-chevron-right"],[1,"sp-tree-node-group-children-count",3,"spTooltipGravity","spTooltip"],["groupChildrenCount",""],[1,"sp-tree-node-group-line"]],template:function(X,ie){1&X&&(m.YNc(0,B,1,0,"div",0),m.YNc(1,M,1,2,"span",1),m.TgZ(2,"sp-icon",2),m.NdJ("click",function(){return ie.toggleGroupingLabelVisibility()}),m.ALo(3,"spSanitize"),m.ALo(4,"spRichTextI18n"),m.qZA(),m.TgZ(5,"div",3,4),m.TgZ(7,"span",5,6),m._uU(9),m.qZA(),m.YNc(10,w,6,15,"span",7),m.qZA(),m.YNc(11,K,1,2,"div",8)),2&X&&(m.Q6J("ngIf",ie.isSelected),m.xp6(1),m.Q6J("ngIf",ie.hasChildren),m.xp6(1),m.Udp("color",m.xi3(3,12,ie.color.backgroundStyle,"style")),m.Q6J("name",ie.getIconName())("spTooltipGravity",ie.Gravity.NORTH)("spTooltip",m.lcZ(4,15,ie.toggleGroupingLabelTooltip)),m.xp6(3),m.Udp("background-image",ie.groupLabelBackgroundImage),m.xp6(4),m.hij(" ",ie.label," "),m.xp6(1),m.Q6J("ngIf",ie.nonGroupChildrenCount),m.xp6(1),m.Q6J("ngIf",ie.isExpanded))},directives:[C.O5,T.o,y.E,I.i9],pipes:[P.n,L.d],encapsulation:2,changeDetection:0}),G})()},35320:(S,g,e)=>{"use strict";e.d(g,{f:()=>n});var t=e(84046);let n=(()=>{class s{calculateColumnIndent(r,a,o){return this.isGroupNode(r)&&0===a?o.get(r.nodeLevel):void 0}calculateRowIndent(r,a){return this.isGroupNode(r)?r.nodeLevel*s.INDENT_SIZE:a}resolveColumnLeftBorder(r,a){return this.isGroupNode(r)&&0===a?"none":""}resolveCalcRowWidth(r,a){const o=this.isGroupNode(r)?r.nodeLevel*s.INDENT_SIZE:a;return o>0?`calc(100% - ${o}px)`:""}isGroupNode(r){return r.getIsGroup()}}return s.INDENT_SIZE=28,s.\u0275fac=function(r){return new(r||s)},s.\u0275prov=t.Yz7({token:s,factory:s.\u0275fac}),s})()},29843:(S,g,e)=>{"use strict";e.d(g,{p:()=>s});var t=e(27609),n=e(84046);let s=(()=>{class i extends t.V{constructor(){super(null)}}return i.\u0275fac=function(a){return new(a||i)},i.\u0275prov=n.Yz7({token:i,factory:i.\u0275fac}),i})()},70365:(S,g,e)=>{"use strict";e.d(g,{q:()=>r,M:()=>a});var t=e(90850),n=e(73197),s=e(35811),i=e(84046),r=(()=>{return(o=r||(r={}))[o.NONE=0]="NONE",o[o.SHIFT=1]="SHIFT",o[o.CTRL=2]="CTRL",o[o.CMD=4]="CMD",r;var o})();let a=(()=>{class o{constructor(){this.state=r.NONE,this.clickEvent$=new t.xQ,this.onDestroy$=new t.xQ,this.attachOnKeyDownListener(),this.attachOnKeyUpListener(),this.attachOnBlurListener()}ngOnDestroy(){this.onDestroy$.next(),this.onDestroy$.complete()}observeModifierKeys(){return this.clickEvent$.asObservable()}attachOnBlurListener(){(0,n.R)(window,"blur").pipe((0,s.R)(this.onDestroy$)).subscribe(()=>{this.state=r.NONE,this.clickEvent$.next(this.state)})}attachOnKeyDownListener(){(0,n.R)(window,"keydown").pipe((0,s.R)(this.onDestroy$)).subscribe(h=>{this.setModifiersState(h,!0),this.clickEvent$.next(this.state)})}attachOnKeyUpListener(){(0,n.R)(window,"keyup").pipe((0,s.R)(this.onDestroy$)).subscribe(h=>{this.setModifiersState(h,!1),this.clickEvent$.next(this.state)})}setModifiersState(h,p){if(h.key)switch(h.key.toLowerCase()){case"shift":this.state=p?this.state|r.SHIFT:this.state&~r.SHIFT;break;case"control":case"ctrl":this.state=p?this.state|r.CTRL:this.state&~r.CTRL;break;case"meta":this.state=p?this.state|r.CMD:this.state&~r.CMD}}}return o.\u0275fac=function(h){return new(h||o)},o.\u0275prov=i.Yz7({token:o,factory:o.\u0275fac}),o})()},67743:(S,g,e)=>{"use strict";e.d(g,{N:()=>s});var t=e(27609),n=e(84046);let s=(()=>{class i extends t.V{constructor(){super(!1)}}return i.\u0275fac=function(a){return new(a||i)},i.\u0275prov=n.Yz7({token:i,factory:i.\u0275fac}),i})()},27831:(S,g,e)=>{"use strict";e.d(g,{F:()=>lt});var t=e(55331),n=e(73197),s=e(70822),i=e(84605),r=e(71726),a=e(96105),o=e(62078),d=e(87650),h=e(67761),p=e(34826),f=e(28819),m=e(91771),v=e(83020),C=(e(19172),e(60508)),T=e(80064),y=e(1392),I=e(16054),P=e(14819),L=e(81058),F=e(97035),b=e(11830),x=e(15980),B=e(29843),M=e(70365),w=e(67743),K=e(62546),k=e(25895),G=e(84046),$=e(78742),X=e(10703),ie=e(14878),se=e(19838),pe=e(30161),ve=e(3944),Ce=e(52861),ye=e(22857),de=e(33268);const Ie=["nodeElement"];function He(Mt,ne){if(1&Mt&&G._UZ(0,"div",2),2&Mt){const De=G.oxw();G.Udp("height",De.groupRootWithChildrenHeight,"px")("top",De.layout,"px")}}function Ve(Mt,ne){if(1&Mt&&G._UZ(0,"sp-tree-inline-add-indicator",9),2&Mt){const De=G.oxw(2).$implicit,Ye=G.oxw();G.Udp("transform",Ye.getTransformTreeHierarchyAddIndicatorStyle(De)),G.Q6J("node",De)}}function Ue(Mt,ne){if(1&Mt&&G._UZ(0,"sp-tree-inline-add-row",10),2&Mt){const De=G.oxw(2).$implicit,Ye=G.oxw();G.Q6J("perspective",Ye.perspective)("node",De)}}function xe(Mt,ne){if(1&Mt){const De=G.EpF();G.ynx(0),G.TgZ(1,"sp-tree-node",5,6),G.NdJ("selectNode",function(Qe){return G.CHM(De),G.oxw(2).selectNode(Qe)})("click",function(){G.CHM(De);const Qe=G.oxw().$implicit;return G.oxw().nodeClick(Qe)}),G.qZA(),G.YNc(3,Ve,1,3,"sp-tree-inline-add-indicator",7),G.ALo(4,"spInlineAddIndicatorVisiblePipe"),G.YNc(5,Ue,1,2,"sp-tree-inline-add-row",8),G.BQk()}if(2&Mt){const De=G.oxw(),Ye=De.$implicit,Qe=De.last,Ke=De.index,it=G.oxw();G.xp6(1),G.Udp("transform",it.getTransformStyle(Ye)),G.Q6J("node",Ye)("last",Qe)("perspective",it.perspective)("groupingNestingLevel",it.groupingNestingLevel)("groupingColumnsIndentsMap",it.groupingColumnsIndentsMap)("selected",it.isSelected(Ye))("selectedChild",it.isSelectedItemChild(Ye))("nextNodeSelected",it.isNextNodeSelected(Ye))("prevNodeSelected",it.isPreviousNodeSelected(Ye))("treeGridGridType",it.treeGridGridType)("selectedNodes",it.selectedNodes)("index",Ke)("isInlineDeleteDisabled",it.isInlineDeleteDisabled)("leftStaticColumns",it.leftStaticColumns)("rightStaticColumns",it.rightStaticColumns),G.uIk("index",Ke)("parent-index",Ye.parent?Ye.parent.nodePosition:""),G.xp6(2),G.Q6J("ngIf",it.isInlineAddEnabled&&G.xi3(4,21,Ye,it.isAnyNodeDragged)),G.xp6(2),G.Q6J("ngIf",it.addRowVisible&&it.clickedNodeId===Ye.id)}}function gt(Mt,ne){if(1&Mt&&(G.TgZ(0,"div",11),G._UZ(1,"div",12),G.qZA()),2&Mt){const De=G.oxw().$implicit,Ye=G.oxw();G.Udp("transform",Ye.getTransformStyle(De))("height",Ye.layout,"px")}}function tt(Mt,ne){if(1&Mt&&(G.ynx(0),G.YNc(1,xe,6,24,"ng-container",3),G.YNc(2,gt,2,4,"div",4),G.BQk()),2&Mt){const De=ne.$implicit;G.xp6(1),G.Q6J("ngIf",De.isLoaded),G.xp6(1),G.Q6J("ngIf",!De.isLoaded)}}let lt=(()=>{class Mt extends K.H{constructor(De,Ye,Qe,Ke,it,Se,Ct,Lt,Vt,St,$t,yt,Ft,ot,Me,Ze,Ne,we,At,Rt,zt,Yt,ln,pn,nn,hn,xt){super(De,Ye),this.document=Qe,this.changeDetectorRef=Ke,this.componentFactoryResolver=it,this.treeNodeHeight=Se,this.treeViewportRenderService=Ct,this.localActions$=Lt,this.aggregateTreeId=Vt,this.tree=St,this.treeCommandService=$t,this.listenerService=yt,this.selectedItemsRepository=Ft,this.treeDragStateRepository=ot,this.treeGridGridStorage=Me,this.selectedItemsChildrenRepository=Ze,this.treeInlineAddRepository=Ne,this.treeInlineAddDialogFactory=we,this.treeInlineAddConfigStorage=At,this.treeNodeGroupChildrenCountService=Rt,this.treeQueryService=zt,this.sanitizer=Yt,this.treeNodeRightClickResolverStorage=ln,this.rightClickDialogService=pn,this.localActionDispatcher=nn,this.treeNodesCountRepositoryService=hn,this.rightClickIgnoredEventsService=xt,this.treeGridGridType=L.W.HORIZONTAL,this.selectedNodes=[],this.selectedItemsChildrenIds=[],this.isGroupRootExpanded=!1,this.groupRootWithChildrenHeight=0,this.isAnyNodeDragged=!1,this.initialized=!1,this.modifiersPressed=M.q.NONE}ngOnChanges(De){if(De.nodes){if(this.treeNodesCountRepositoryService.set(this.tree.getAggregateTreeId(),this.nodes.length),!this.treeViewportRenderService.isViewPortRenderEnabled())return void(this.nodesCollection=[...this.nodes]);this.localActionDispatcher.dispatch(new m.uK)}}ngOnInit(){this.treeViewportRenderService.isViewPortRenderEnabled()&&this.observeReloadNodesAction(),this.setIsGroupRootExpanded(),this.selectLayout(),this.selectRightClickResolver(),this.selectTreeGridGridType(),this.observeSelectedItemIds(),this.observeModifierKeys(),this.observeSelectedItemsChildren(),this.observeDragNodesAction(),this.selectInlineAddVisibleStatus(),this.nodesCollection&&this.checkNotLoadedNodes(),this.initialized=!0}ngAfterViewInit(){(0,n.R)(this.elementRef.nativeElement,"contextmenu").pipe((0,s.h)(()=>!!this.rightClickResolver),(0,s.h)(De=>De!==this.rightClickIgnoredEventsService.get()),this.takeUntilDestroy()).subscribe(De=>{if(this.closeNodeContextMenuDialog(),De.target===this.elementRef.nativeElement)return;const Ye=this.getIsPropagationStoppedFn(De),Qe=this.getFirstDescendantOfElementFromEvent(De,this.elementRef.nativeElement),Ke=this.nodeElements.find(it=>it.innerElementRef.nativeElement===Qe);this.callNodeContextMenuAction(De,Ye,Ke),De.preventDefault(),De.stopPropagation()})}finalize(){this.closeNodeContextMenuDialog(),this.treeInlineAddConfigStorage.isDialogEnabled(this.aggregateTreeId)&&this.destroyAddDialog()}nodeClick(De){De.getIsGroup()||this.updateNodeSelection(De.getId())}selectNode(De){this.isSelected(De)||this.updateNodeSelection(De.getId())}isSelected(De){return this.selectedNodes.some(Ye=>this.isSelectionEnabled()&&Ye.id===De.id)}isSelectedItemChild(De){return this.selectedItemsChildrenIds.some(Ye=>this.isSelectionEnabled()&&Ye===De.id)}isEqualNode(De,Ye){return Ye.id+Ye.getVersion()+Ye.isLoaded}getTransformStyle(De){let Ye=De.nodePositionIncludedCollapsedNodes;return De&&De.rawTreeNode.calculatedPosition&&(Ye+=De.rawTreeNode.calculatedPosition),this.addExtraTopSize(Ye)?`translateY(${(Ye+1)*this.treeNodeHeight.getNodeHeight()}px)`:`translateY(${Ye*this.treeNodeHeight.getNodeHeight()}px)`}getTransformTreeHierarchyAddIndicatorStyle(De){const Ye=(I.fj+I.lv)/2;let Qe=De.nodePositionIncludedCollapsedNodes;if(De&&De.rawTreeNode.calculatedPosition&&(Qe+=De.rawTreeNode.calculatedPosition),this.addExtraTopSize(Qe)){const it=(Qe+1)*this.treeNodeHeight.getNodeHeight()+this.treeNodeHeight.getNodeHeight()-Ye;return this.sanitizer.bypassSecurityTrustStyle(`translateY(${it}px)`)}return`translateY(${Qe*this.treeNodeHeight.getNodeHeight()+this.treeNodeHeight.getNodeHeight()-Ye}px)`}runChangeDetection(){this.changeDetectorRef.detectChanges()}isPreviousNodeSelected(De){const Ye=this.nodesCollection.find(Qe=>Qe.nodePositionIncludedCollapsedNodes===De.nodePositionIncludedCollapsedNodes-1);return Ye&&(this.isSelected(Ye)||this.isSelectedItemChild(Ye))}isNextNodeSelected(De){const Ye=this.nodesCollection.find(Qe=>Qe.nodePositionIncludedCollapsedNodes===De.nodePositionIncludedCollapsedNodes+1);return Ye&&(this.isSelected(Ye)||this.isSelectedItemChild(Ye))}updateNodeSelection(De){if(!this.isSelectionEnabled())return;const Ye=this.tree.getConfig().disableMultiselect?C.M.ONE:this.getSelectionMode();Ye===C.M.RANGE?this.treeCommandService.selectItem(this.aggregateTreeId,De,Ye):this.treeCommandService.toggleItemSelection(this.aggregateTreeId,De,Ye),this.changeDetectorRef.detectChanges(),this.clearSelection()}getElementRef(){return this.elementRef}addExtraTopSize(De){if(!this.addRowVisible)return!1;const Ye=this.tree.getNodeById(this.treeInlineAddRepository.getNodeId(this.aggregateTreeId));return!!Ye&&this.clickedNodeId&&De>Ye.nodePositionIncludedCollapsedNodes}clearSelection(){window.getSelection&&window.getSelection().removeAllRanges()}observeSelectedItemsChildren(){this.selectedItemsChildrenRepository.selectSelectedItemsChildrenIds(this.aggregateTreeId).pipe(this.takeUntilDestroy()).subscribe(De=>{this.isSelectionEnabled()&&(this.selectedItemsChildrenIds=De,this.changeDetectorRef.detectChanges())}),this.treeDragStateRepository.select().pipe((0,s.h)(De=>!De),this.takeUntilDestroy()).subscribe(()=>{this.selectedItemsChildrenIds=[],this.changeDetectorRef.detectChanges()}),this.treeInlineAddConfigStorage.selectConfigChanged().pipe(this.takeUntilDestroy()).subscribe(()=>{this.isInlineAddEnabled=this.treeInlineAddConfigStorage.isEnabled(this.aggregateTreeId),this.changeDetectorRef.detectChanges()})}selectRightClickResolver(){this.treeNodeRightClickResolverStorage.select().pipe(this.takeUntilDestroy()).subscribe(De=>{this.rightClickResolver=De,this.changeDetectorRef.detectChanges()})}isSelectionEnabled(){return this.tree.getConfig().selectNode}observeModifierKeys(){this.listenerService.observeModifierKeys().pipe(this.takeUntilDestroy()).subscribe(De=>{this.modifiersPressed=De})}observeReloadNodesAction(){this.localActions$.ofTreeAction(m.MF.RELOAD_NODES).pipe((0,i.T)(1),this.takeUntilDestroy()).subscribe(()=>{this.buildPrunedListOfNodes(),this.changeDetectorRef.detectChanges()})}observeSelectedItemIds(){this.selectedItemsRepository.selectSelectedItems(this.aggregateTreeId).pipe(this.takeUntilDestroy()).subscribe(De=>{this.selectedNodes=De,this.changeDetectorRef.detectChanges()})}observeDragNodesAction(){this.treeDragStateRepository.select().pipe(this.takeUntilDestroy()).subscribe(De=>this.isAnyNodeDragged=De)}setIsGroupRootExpanded(){const De=this.nodes[0];De&&De.getIsGroup()&&De.isExpanded()?(this.isGroupRootExpanded=!0,this.groupRootWithChildrenHeight=this.treeNodeGroupChildrenCountService.getGroupWithChildrenHeight(De)):(this.isGroupRootExpanded=!1,this.groupRootWithChildrenHeight=0)}selectLayout(){this.treeQueryService.select(this.aggregateTreeId).pipe((0,r.U)(De=>De.getLayout()),(0,a.x)(),this.takeUntilDestroy()).subscribe(De=>{this.layout=De,this.changeDetectorRef.detectChanges()})}selectTreeGridGridType(){this.treeGridGridStorage.select().pipe(this.takeUntilDestroy()).subscribe(De=>{this.treeGridGridType=De,this.initialized&&this.changeDetectorRef.detectChanges()})}selectInlineAddVisibleStatus(){this.treeInlineAddRepository.selectInlineAddVisibleStatus(this.aggregateTreeId).pipe((0,s.h)(()=>this.treeInlineAddConfigStorage.isDialogEnabled(this.aggregateTreeId)),this.takeUntilDestroy()).subscribe(De=>{if(!De)return this.clickedNodeId=null,this.addRowVisible=!1,this.destroyAddDialog(),void this.changeDetectorRef.detectChanges();this.clickedNodeId=this.treeInlineAddRepository.getNodeId(this.aggregateTreeId),this.addRowVisible=!0,this.changeDetectorRef.detectChanges()})}destroyAddDialog(){this.treeInlineAddDialogFactory.destroy()}getSelectionMode(){return this.modifiersPressed&M.q.SHIFT?C.M.RANGE:this.modifiersPressed&M.q.CTRL||this.modifiersPressed&M.q.CMD?C.M.ADD:C.M.ONE}buildPrunedListOfNodes(){this.nodesCollection=this.treeViewportRenderService.sliceNodes(this.nodes),this.setIsGroupRootExpanded(),this.checkNotLoadedNodes()}checkNotLoadedNodes(){const De=this.nodesCollection.filter(Qe=>!Qe.isLoaded),Ye=this.tree.getConfig().notLoadedNodesResolver;Ye&&De.length&&Ye.execute(De)}getIsPropagationStoppedFn(De){const Ye=De.stopPropagation;let Qe=!1;return De.stopPropagation=function(){Qe=!0,Ye.call(this)},()=>Qe}getFirstDescendantOfElementFromEvent(De,Ye){if(!De||!Ye)return null;let Qe=De.target,Ke=Qe.parentElement;for(;Ke&&Ke!==Ye;)Qe=Ke,Ke=Qe.parentElement;return Ke&&Qe}callNodeContextMenuAction(De,Ye,Qe){Qe&&!Ye()&&(Qe.spRightMouseClicked(),this.openNodeContextMenuDialog(De,Qe))}openNodeContextMenuDialog(De,Ye){if(this.rightClickResolver){De.stopPropagation(),De.preventDefault();const Qe=this.rightClickResolver.resolve(Ye.node,this.selectedNodes);if(null===Qe)return;this.rightClickDialogComponent=this.rightClickDialogService.createComponent(De.clientX,De.clientY,Qe,this.changeDetectorRef,this.componentFactoryResolver,this.document)}}closeNodeContextMenuDialog(){this.rightClickDialogComponent&&this.rightClickDialogService.destroyDynamicComponent()}}return Mt.\u0275fac=function(De){return new(De||Mt)(G.Y36(G.SBq),G.Y36(G.Qsj),G.Y36(t.K0),G.Y36(G.sBO),G.Y36(G._Vd),G.Y36($.M),G.Y36(F.G),G.Y36(X.e),G.Y36(ie.H),G.Y36(f.mp),G.Y36(T.z),G.Y36(M.M),G.Y36(h.G),G.Y36(w.N),G.Y36(P.P),G.Y36(se.u),G.Y36(v.I),G.Y36(y.l),G.Y36(pe.r),G.Y36(x.m),G.Y36(p.p),G.Y36(ve.H7),G.Y36(B.p),G.Y36(o.V),G.Y36(Ce.c),G.Y36(k.e),G.Y36(d.R))},Mt.\u0275cmp=G.Xpm({type:Mt,selectors:[["sp-tree-node-collection"]],viewQuery:function(De,Ye){if(1&De&&G.Gf(Ie,5,b.N),2&De){let Qe;G.iGM(Qe=G.CRH())&&(Ye.nodeElements=Qe)}},inputs:{nodes:"nodes",perspective:"perspective",groupingNestingLevel:"groupingNestingLevel",groupingColumnsIndentsMap:"groupingColumnsIndentsMap",isInlineDeleteDisabled:"isInlineDeleteDisabled",leftStaticColumns:"leftStaticColumns",rightStaticColumns:"rightStaticColumns"},features:[G._Bn([x.m]),G.qOj,G.TTD],decls:2,vars:3,consts:[["class","sp-tree-node-group-root-line",3,"height","top",4,"ngIf"],[4,"ngFor","ngForOf","ngForTrackBy"],[1,"sp-tree-node-group-root-line"],[4,"ngIf"],["class","sp-not-loaded-node",3,"transform","height",4,"ngIf"],[3,"node","last","perspective","groupingNestingLevel","groupingColumnsIndentsMap","selected","selectedChild","nextNodeSelected","prevNodeSelected","treeGridGridType","selectedNodes","index","isInlineDeleteDisabled","leftStaticColumns","rightStaticColumns","selectNode","click"],["nodeElement",""],["class","sp-z-1",3,"node","transform",4,"ngIf"],[3,"perspective","node",4,"ngIf"],[1,"sp-z-1",3,"node"],[3,"perspective","node"],[1,"sp-not-loaded-node"],[1,"sp-bg-subtle","sp-border-rounded","sp-not-loaded"]],template:function(De,Ye){1&De&&(G.YNc(0,He,1,4,"div",0),G.YNc(1,tt,3,2,"ng-container",1)),2&De&&(G.Q6J("ngIf",Ye.isGroupRootExpanded),G.xp6(1),G.Q6J("ngForOf",Ye.nodesCollection)("ngForTrackBy",Ye.isEqualNode))},directives:[t.O5,t.sg,b.N,I.D9,ye.l],pipes:[de.d],encapsulation:2,changeDetection:0}),Mt})()},52159:(S,g,e)=>{"use strict";e.d(g,{k:()=>n});var t=e(84046);let n=(()=>{class s{transform(r,a){return{"border-width":r*a+"px"}}}return s.\u0275fac=function(r){return new(r||s)},s.\u0275pipe=t.Yjl({name:"spTreeHierarchyBorderStyle",type:s,pure:!0}),s})()},36574:(S,g,e)=>{"use strict";e.d(g,{q:()=>f}),e(28819);var n=e(30684),s=e(77545),i=e(84046),r=e(55331),a=e(43863),o=e(51345);function d(m,v){if(1&m&&i._UZ(0,"sp-tree-chevron",2),2&m){const E=i.oxw();i.Q6J("node",E.node)}}function h(m,v){if(1&m&&i._UZ(0,"sp-tree-chevron-with-lines",3),2&m){const E=i.oxw();i.Q6J("node",E.node)("dragButtonWidth",E.calculateDragButtonWidth())}}function p(m,v){}let f=(()=>{class m{constructor(){this.availableStrategy=n.N}calculateDragButtonWidth(){return this.dragButton?s.Y:0}}return m.\u0275fac=function(E){return new(E||m)},m.\u0275cmp=i.Xpm({type:m,selectors:[["sp-tree-row-hierarchy"]],inputs:{node:"node",dragButton:"dragButton",strategy:"strategy"},decls:4,vars:4,consts:[[3,"ngSwitch"],[3,"ngSwitchCase"],[3,"node"],[3,"node","dragButtonWidth"]],template:function(E,C){1&E&&(i.ynx(0,0),i.YNc(1,d,1,1,"ng-template",1),i.YNc(2,h,1,2,"ng-template",1),i.YNc(3,p,0,0,"ng-template",1),i.BQk()),2&E&&(i.Q6J("ngSwitch",C.strategy),i.xp6(1),i.Q6J("ngSwitchCase",C.availableStrategy.ONLY_CHEVRON),i.xp6(1),i.Q6J("ngSwitchCase",C.availableStrategy.CHEVRON_WITH_LINES),i.xp6(1),i.Q6J("ngSwitchCase",C.availableStrategy.NONE))},directives:[r.RF,r.n9,a.T,o.v],styles:[".sp-tree-hierarchy-lines{position:absolute;top:0;left:16px;background:var(--gray-60)}.sp-tree-hierarchy-lines.sp-horizontal-line{top:50%;width:15px;height:1px}.sp-tree-hierarchy-lines.sp-horizontal-line.sp-expandle-node{width:10px}.sp-tree-hierarchy-lines.sp-vertical-line{width:1px;height:100%}.sp-tree-hierarchy-lines.sp-vertical-line.sp-vertical-parent-line{height:calc(50% - 8px);top:calc(50% + 8px)}.sp-tree-hierarchy-lines.sp-vertical-line.sp-last-node{height:50%}.sp-free-space{padding-right:15px}.sp-tree-child{width:7px;height:7px;margin-left:5px;margin-right:13px;border-radius:50%;background:none}.sp-tree-child.sp-child-with-icon{background:var(--gray-60)}\n"],encapsulation:2,changeDetection:0}),m})()},26275:(S,g,e)=>{"use strict";e.d(g,{p:()=>h});var t=e(70822),n=e(28819),s=e(83020),i=e(77545),r=e(62546),a=e(84046),o=e(30161),d=e(14878);let h=(()=>{class p extends r.H{constructor(m,v,E,C,T,y,I){super(m,v),this.changeDetectorRef=E,this.tree=C,this.treeInlineAddRepository=T,this.inlineAddConfigStorage=y,this.aggregateTreeId=I,this.dragButtonWidth=0,this.isExpanded=!1,this.isExpandable=!1,this.nodeLevelMargin=i.O,this.TREE_INDENT_PREFIX="sp-tree-indent-",this.isInitialized=!1}ngOnInit(){this.treeIndentId=this.TREE_INDENT_PREFIX+this.node.getId(),this.selectTreeInlineAddStoredValue()}parentsExist(){return this.tree.parentsExist()}setExpandedStatus(m){this.isExpanded=m||this.node.isExpanded()}setExpandableStatus(m){this.isExpandable=m||this.tree.isExpandable(this.node)}selectTreeInlineAddStoredValue(){this.treeInlineAddRepository.select(this.aggregateTreeId).pipe((0,t.h)(()=>this.inlineAddConfigStorage.isDialogEnabled(this.aggregateTreeId)),this.takeUntilDestroy()).subscribe(m=>{m&&this.node.id===m.getNodeId()&&m.getIndent()?(this.setExpandableStatus(!0),this.setExpandedStatus(!0)):(this.setExpandableStatus(),this.setExpandedStatus()),this.isInitialized&&this.changeDetectorRef.detectChanges(),this.isInitialized=!0})}}return p.\u0275fac=function(m){return new(m||p)(a.Y36(a.SBq),a.Y36(a.Qsj),a.Y36(a.sBO),a.Y36(n.mp),a.Y36(s.I),a.Y36(o.r),a.Y36(d.H))},p.\u0275dir=a.lG2({type:p,inputs:{node:"node",dragButtonWidth:"dragButtonWidth"},features:[a.qOj]}),p})()},43863:(S,g,e)=>{"use strict";e.d(g,{T:()=>m});var t=e(28819),n=e(83020),s=e(26275),i=e(84046),r=e(30161),a=e(14878),o=e(55331),d=e(52159);function h(v,E){if(1&v&&i._UZ(0,"span",3),2&v){const C=i.oxw();i.ekj("sp-toggler-rotate-down",C.isExpanded)}}function p(v,E){1&v&&i._UZ(0,"span",5)}function f(v,E){if(1&v&&i.YNc(0,p,1,0,"span",4),2&v){const C=i.oxw();i.Q6J("ngIf",C.parentsExist())}}let m=(()=>{class v extends s.p{constructor(C,T,y,I,P,L,F){super(T,y,C,I,P,L,F),this.changeDetectorRef=C}ngOnChanges(C){C.node&&(this.setExpandableStatus(),this.setExpandedStatus())}ngOnInit(){this.domManipulator.setHostAttribute("id","sp-tree-chevron"),super.ngOnInit()}}return v.\u0275fac=function(C){return new(C||v)(i.Y36(i.sBO),i.Y36(i.SBq),i.Y36(i.Qsj),i.Y36(t.mp),i.Y36(n.I),i.Y36(r.r),i.Y36(a.H))},v.\u0275cmp=i.Xpm({type:v,selectors:[["sp-tree-chevron"]],features:[i.qOj,i.TTD],decls:5,vars:7,consts:[[1,"sp-tree-indent",3,"ngStyle"],["class","sp-tree-toggler sp-only-chevron-strategy fa fa-chevron-right",3,"sp-toggler-rotate-down",4,"ngIf","ngIfElse"],["child",""],[1,"sp-tree-toggler","sp-only-chevron-strategy","fa","fa-chevron-right"],["class","sp-free-space",4,"ngIf"],[1,"sp-free-space"]],template:function(C,T){if(1&C&&(i.TgZ(0,"div",0),i.ALo(1,"spTreeHierarchyBorderStyle"),i.YNc(2,h,1,2,"span",1),i.YNc(3,f,1,1,"ng-template",null,2,i.W1O),i.qZA()),2&C){const y=i.MAs(4);i.Q6J("ngStyle",i.xi3(1,4,T.node.nodeLevel,T.nodeLevelMargin)),i.uIk("id",T.treeIndentId),i.xp6(2),i.Q6J("ngIf",T.isExpandable)("ngIfElse",y)}},directives:[o.PC,o.O5],pipes:[d.k],encapsulation:2,changeDetection:0}),v})()},51345:(S,g,e)=>{"use strict";e.d(g,{v:()=>T});var t=e(28819),n=e(83020),s=e(26275),i=e(84046),r=e(30161),a=e(14878),o=e(55331),d=e(52159);function h(y,I){if(1&y&&i._UZ(0,"span",6),2&y){const P=i.oxw();i.ekj("sp-toggler-rotate-down",P.isExpanded)}}function p(y,I){if(1&y&&i._UZ(0,"div",8),2&y){const P=i.oxw(2);i.ekj("sp-child-with-icon",P.node.nodeLevel>0)}}function f(y,I){if(1&y&&i.YNc(0,p,1,2,"div",7),2&y){const P=i.oxw();i.Q6J("ngIf",P.parentsExist())}}function m(y,I){if(1&y&&i._UZ(0,"div",10),2&y){const P=i.oxw(),L=P.last,F=P.$implicit,b=i.oxw();i.ekj("sp-last-node",b.isLastNode()&&L),i.Q6J("ngStyle",b.setVerticalLinePositionStyle(F))}}function v(y,I){if(1&y&&(i.ynx(0),i.YNc(1,m,1,3,"div",9),i.BQk()),2&y){const P=I.$implicit,L=I.last,F=i.oxw();i.xp6(1),i.Q6J("ngIf",F.canRenderLineForLevel(P,L))}}function E(y,I){if(1&y&&i._UZ(0,"div",11),2&y){const P=i.oxw();i.ekj("sp-expandle-node",P.tree.isExpandable(P.node)),i.Q6J("ngStyle",P.setHorizontalLinePositionStyle())}}function C(y,I){if(1&y&&i._UZ(0,"div",12),2&y){const P=i.oxw();i.Q6J("ngStyle",P.setParentNodeVerticalLinePositionStyle())}}let T=(()=>{class y extends s.p{constructor(P,L,F,b,x,B,M){super(L,F,P,b,x,B,M),this.changeDetectorRef=P,this.nodeLevelArray=[]}ngOnChanges(P){P.node&&(this.nodeLevelArray=this.generateArrayWithTreeLevels(),this.setExpandableStatus(),this.setExpandedStatus())}isLastNode(){return this.node.isLastNode()}isNodeLevelGreaterThanBaseLevel(){return this.node.nodeLevel>0}setVerticalLinePositionStyle(P){return{left:(P+1)*this.nodeLevelMargin+this.dragButtonWidth+"px"}}setParentNodeVerticalLinePositionStyle(){return{left:this.node.nodeLevel*this.nodeLevelMargin+this.nodeLevelMargin+this.dragButtonWidth+"px"}}setHorizontalLinePositionStyle(){return{left:this.node.nodeLevel*this.nodeLevelMargin+this.dragButtonWidth+"px"}}canRenderLineForLevel(P,L){return!!L||this.checkThatParentOfNodeIsNotLastForLevel(P)}checkThatParentOfNodeIsNotLastForLevel(P){return this.isNotLastNode(this.returnParentNode(P))}returnParentNode(P){const L=this.node.nodeLevel;let F=this.node;for(let b=0;b<L-P-1;b++)F=F.parent;return F}isNotLastNode(P){return!P.isLastNode()}generateArrayWithTreeLevels(){return Array.from(Array(this.node.nodeLevel),(P,L)=>L)}}return y.\u0275fac=function(P){return new(P||y)(i.Y36(i.sBO),i.Y36(i.SBq),i.Y36(i.Qsj),i.Y36(t.mp),i.Y36(n.I),i.Y36(r.r),i.Y36(a.H))},y.\u0275cmp=i.Xpm({type:y,selectors:[["sp-tree-chevron-with-lines"]],features:[i.qOj,i.TTD],decls:8,vars:10,consts:[[1,"sp-tree-indent",3,"ngStyle"],["id","sp-tree-toggler","class","sp-tree-toggler sp-with-lines-strategy fa fa-chevron-right",3,"sp-toggler-rotate-down",4,"ngIf","ngIfElse"],["child",""],[4,"ngFor","ngForOf"],["class","sp-tree-hierarchy-lines sp-horizontal-line",3,"sp-expandle-node","ngStyle",4,"ngIf"],["class","sp-tree-hierarchy-lines sp-vertical-line sp-vertical-parent-line",3,"ngStyle",4,"ngIf"],["id","sp-tree-toggler",1,"sp-tree-toggler","sp-with-lines-strategy","fa","fa-chevron-right"],["class","sp-tree-child",3,"sp-child-with-icon",4,"ngIf"],[1,"sp-tree-child"],["class","sp-tree-hierarchy-lines sp-vertical-line",3,"ngStyle","sp-last-node",4,"ngIf"],[1,"sp-tree-hierarchy-lines","sp-vertical-line",3,"ngStyle"],[1,"sp-tree-hierarchy-lines","sp-horizontal-line",3,"ngStyle"],[1,"sp-tree-hierarchy-lines","sp-vertical-line","sp-vertical-parent-line",3,"ngStyle"]],template:function(P,L){if(1&P&&(i.TgZ(0,"div",0),i.ALo(1,"spTreeHierarchyBorderStyle"),i.YNc(2,h,1,2,"span",1),i.YNc(3,f,1,1,"ng-template",null,2,i.W1O),i.qZA(),i.YNc(5,v,2,1,"ng-container",3),i.YNc(6,E,1,3,"div",4),i.YNc(7,C,1,1,"div",5)),2&P){const F=i.MAs(4);i.Q6J("ngStyle",i.xi3(1,7,L.node.nodeLevel,L.nodeLevelMargin)),i.uIk("id",L.treeIndentId),i.xp6(2),i.Q6J("ngIf",L.isExpandable)("ngIfElse",F),i.xp6(3),i.Q6J("ngForOf",L.nodeLevelArray),i.xp6(1),i.Q6J("ngIf",L.isNodeLevelGreaterThanBaseLevel()),i.xp6(1),i.Q6J("ngIf",L.tree.isExpandable(L.node)&&L.node.isExpanded())}},directives:[o.PC,o.O5,o.sg],pipes:[d.k],encapsulation:2,changeDetection:0}),y})()},65758:(S,g,e)=>{"use strict";e.d(g,{p:()=>o});var t=e(55331),n=e(35811),s=e(90850),i=e(49549),r=e(84046),a=e(38008);let o=(()=>{class d{constructor(p,f,m){this.rendererFactory=p,this.barLoaderService=f,this.document=m,this.completed$=new s.xQ,this.timeUntilLoader=0}connect(){return this.barLoaderService.connect()}showProgress(p,f){if(!p.total)return;const m=p.loaded/p.total*100;this.slowStart(),this.setProgressPercent(m),100===m&&(this.complete(),f&&f.next())}slowStart(){(0,i.H)(this.timeUntilLoader).pipe((0,n.R)(this.completed$)).subscribe(()=>{this.barLoaderService.start(d.SLOW_PROGRESS_STEP)})}resetTimeUntilLoader(){this.timeUntilLoader=0}setProgressPercent(p){this.barLoaderService.setProgressPercent(p)}complete(){this.timeUntilLoader=1e3,this.completed$.next(),this.barLoaderService.complete()}}return d.SLOW_PROGRESS_STEP=.1,d.\u0275fac=function(p){return new(p||d)(r.LFG(r.FYo),r.LFG(a.F),r.LFG(t.K0))},d.\u0275prov=r.Yz7({token:d,factory:d.\u0275fac}),d})()},5245:(S,g,e)=>{"use strict";e.d(g,{B:()=>d});var t=e(84046),n=e(70335),i=(e(83941),e(55331)),r=e(37752);function a(h,p){if(1&h){const f=t.EpF();t.O4$(),t.kcU(),t.TgZ(0,"label",9),t.NdJ("click",function(){t.CHM(f);const v=t.oxw();return v.changeValue(!v.checked)}),t._UZ(1,"sp-rich-text",10),t.qZA()}if(2&h){const f=t.oxw();t.ekj("sp-cursor-pointer",!f.disabled),t.xp6(1),t.Q6J("config",f.label)}}const o=["*"];let d=(()=>{class h{constructor(f){this.changeDetectorRef=f}changeValue(f){this.disabled||(this.checked=f,this.onChanges&&this.onChanges(this.checked),this.changeDetectorRef.detectChanges())}writeValue(f){this.checked=f,this.changeDetectorRef.detectChanges()}registerOnChange(f){this.onChanges=f}registerOnTouched(f){this.onTouched=f}setDisabledState(f){this.disabled=f,this.changeDetectorRef.detectChanges()}}return h.\u0275fac=function(f){return new(f||h)(t.Y36(t.sBO))},h.\u0275cmp=t.Xpm({type:h,selectors:[["sp-form-control-checkbox"]],inputs:{label:"label",disabled:"disabled",checked:"checked"},features:[t._Bn([{provide:n.JU,useExisting:(0,t.Gpc)(()=>h),multi:!0}])],ngContentSelectors:o,decls:10,vars:3,consts:[[1,"sp-form-checkbox"],[1,"sp-checkbox"],["type","checkbox",1,"sp-right-0","sp-left-0","sp-m-auto",3,"checked","change"],["checkbox",""],["width","24","height","24","viewBox","0 0 24 24","focusable","false","role","presentation"],["fill-rule","evenodd"],["fill","currentColor","x","6","y","6","width","12","height","12","rx","2"],["d","M9.707 11.293a1 1 0 1 0-1.414 1.414l2 2a1 1 0 0 0 1.414 0l4-4a1 1 0 1 0-1.414-1.414L11 12.586l-1.293-1.293z","fill","inherit","stroke","none"],[3,"sp-cursor-pointer","click",4,"ngIf"],[3,"click"],[3,"config"]],template:function(f,m){if(1&f){const v=t.EpF();t.F$t(),t.TgZ(0,"div",0),t.TgZ(1,"span",1),t.TgZ(2,"input",2,3),t.NdJ("change",function(){t.CHM(v);const C=t.MAs(3);return m.changeValue(C.checked)}),t.qZA(),t.O4$(),t.TgZ(4,"svg",4),t.TgZ(5,"g",5),t._UZ(6,"rect",6),t._UZ(7,"path",7),t.qZA(),t.qZA(),t.qZA(),t.YNc(8,a,2,3,"label",8),t.Hsn(9),t.qZA()}2&f&&(t.xp6(2),t.Q6J("checked",m.checked),t.uIk("disabled",!!m.disabled||null),t.xp6(6),t.Q6J("ngIf",m.label))},directives:[i.O5,r.E],encapsulation:2,changeDetection:0}),h})()},76617:(S,g,e)=>{"use strict";e.d(g,{x:()=>p});var t=e(84046),n=e(70335),s=e(62546),i=e(68890),r=e(55331),a=e(18217),o=e(65799);function d(f,m){if(1&f&&(t.TgZ(0,"label",5),t._uU(1),t.ALo(2,"spL10nText"),t.qZA()),2&f){const v=t.oxw();t.Q6J("for",v.inputId),t.xp6(1),t.Oqu(t.lcZ(2,2,v.label))}}const h=["*"];let p=(()=>{class f extends s.H{constructor(v,E,C){super(E,C),this.changeDetectorRef=v,this.valueChanged=new t.vpe,this.propagateChange=T=>{},this.onTouched=()=>{}}ngOnInit(){this.id&&this.domManipulator.setHostAttribute("id",this.id),this.computeInputId(this.id)}onClick(){this.propagateChange(this.value),this.valueChanged.emit(this.value)}writeValue(v){this.checked=this.value===v,this.changeDetectorRef.markForCheck()}registerOnChange(v){this.propagateChange=v}registerOnTouched(v){this.onTouched=v}setDisabledState(v){this.disabled=v,this.changeDetectorRef.detectChanges()}computeInputId(v){let E;E=v||"generated-id-"+ ++f.globalIdCounter,this.inputId="sp-form-control-radio-input-"+E}}return f.globalIdCounter=0,f.\u0275fac=function(v){return new(v||f)(t.Y36(t.sBO),t.Y36(t.SBq),t.Y36(t.Qsj))},f.\u0275cmp=t.Xpm({type:f,selectors:[["sp-form-control-radio"]],inputs:{id:"id",label:"label",name:"name",value:"value",tooltip:"tooltip",checked:"checked",disabled:"disabled"},outputs:{valueChanged:"valueChanged"},features:[t._Bn([{provide:n.JU,useExisting:(0,t.Gpc)(()=>f),multi:!0}]),t.qOj],ngContentSelectors:h,decls:7,vars:12,consts:[[1,"sp-form-radio"],[1,"sp-radio",3,"spTooltipEnabled","spTooltip"],["type","radio",3,"checked","name","value","click"],[1,"sp-form-radio-input"],[3,"for",4,"ngIf"],[3,"for"]],template:function(v,E){1&v&&(t.F$t(),t.TgZ(0,"div",0),t.TgZ(1,"span",1),t.ALo(2,"spRichTextI18n"),t.TgZ(3,"input",2),t.NdJ("click",function(){return E.onClick()}),t.qZA(),t._UZ(4,"span",3),t.qZA(),t.YNc(5,d,3,4,"label",4),t.Hsn(6),t.qZA()),2&v&&(t.xp6(1),t.Q6J("spTooltipEnabled",!!E.tooltip)("spTooltip",t.lcZ(2,10,E.tooltip)),t.xp6(2),t.ekj("checked",E.checked),t.Q6J("checked",E.checked)("name",E.name)("value",E.value),t.uIk("disabled",!!E.disabled||null)("id",E.inputId),t.xp6(2),t.Q6J("ngIf",E.label))},directives:[i.i9,r.O5],pipes:[a.d,o.L],encapsulation:2,changeDetection:0}),f})()},31337:(S,g,e)=>{"use strict";e.d(g,{U:()=>a});var t=e(84046),n=e(55331);function s(d,h){1&d&&(t.ynx(0),t.O4$(),t.TgZ(1,"svg",1),t.TgZ(2,"g",2),t._UZ(3,"rect",3),t._UZ(4,"path",4),t.qZA(),t.qZA(),t.BQk())}const i=function(d){return{"sp-cursor-not-allowed":d}};function r(d,h){if(1&d&&(t.ynx(0),t.TgZ(1,"div",5),t._UZ(2,"div",6),t.qZA(),t.BQk()),2&d){const p=t.oxw();t.xp6(2),t.Q6J("ngClass",t.VKq(1,i,p.disabled))}}let a=(()=>{class d{constructor(p,f){this.elementRef=p,this.renderer=f,this.classCursorPointer=!0,this.classFlex=!0,this.classIcon=!0}onMouseEnter(){this.setHoverClass(!0)}onMouseLeave(){this.setHoverClass(!1),this.setActiveClass(!1)}onMouseDown(){this.setActiveClass(!0)}onMouseUp(){this.setActiveClass(!1)}ngOnChanges(){this.setDisabledCheckedClass(this.checked&&this.disabled)}setActiveClass(p){this.setHostClass("sp-active",p)}setHoverClass(p){this.setHostClass("sp-hover",p)}setDisabledCheckedClass(p){this.setHostClass("sp-disabled-checked",p)}setHostClass(p,f){f?this.renderer.addClass(this.elementRef.nativeElement,p):this.renderer.removeClass(this.elementRef.nativeElement,p)}}return d.\u0275fac=function(p){return new(p||d)(t.Y36(t.SBq),t.Y36(t.Qsj))},d.\u0275cmp=t.Xpm({type:d,selectors:[["sp-form-control-svg"]],hostVars:10,hostBindings:function(p,f){1&p&&t.NdJ("mouseover",function(){return f.onMouseEnter()})("mouseout",function(){return f.onMouseLeave()})("mousedown",function(){return f.onMouseDown()})("mouseup",function(){return f.onMouseUp()}),2&p&&t.ekj("sp-checked",f.checked)("sp-disabled",f.disabled)("sp-cursor-pointer",f.classCursorPointer)("sp-flex",f.classFlex)("sp-form-icon",f.classIcon)},inputs:{type:"type",checked:"checked",disabled:"disabled"},features:[t.TTD],decls:2,vars:2,consts:[[4,"ngIf"],["width","24","height","24","viewBox","0 0 24 24","focusable","false","role","presentation"],["fill-rule","evenodd"],["fill","currentColor","x","6","y","6","width","12","height","12","rx","2"],["d","M9.707 11.293a1 1 0 1 0-1.414 1.414l2 2a1 1 0 0 0 1.414 0l4-4a1 1 0 1 0-1.414-1.414L11 12.586l-1.293-1.293z","fill","inherit","stroke","none"],[1,"sp-radio","sp-radio--mx"],[1,"sp-form-radio-input",3,"ngClass"]],template:function(p,f){1&p&&(t.YNc(0,s,5,0,"ng-container",0),t.YNc(1,r,3,3,"ng-container",0)),2&p&&(t.Q6J("ngIf","checkbox"===f.type),t.xp6(1),t.Q6J("ngIf","radio"===f.type))},directives:[n.O5,n.mk],encapsulation:2,changeDetection:0}),d})()},48876:(S,g,e)=>{"use strict";e.d(g,{y:()=>f});var t=e(55331),n=e(70335),s=e(41001),i=e(26566),d=(e(5245),e(76617),e(31337),e(68890)),h=e(84046);let f=(()=>{class m{}return m.\u0275fac=function(E){return new(E||m)},m.\u0275mod=h.oAB({type:m}),m.\u0275inj=h.cJS({imports:[[t.ez,n.UX,d.z8,i.n,s.J]]}),m})()},28722:(S,g,e)=>{"use strict";e.d(g,{v:()=>ne});var t=e(70335),n=e(55331),s=e(41001),i=e(52343),h=(e(19446),e(24950),e(90391),e(29893),e(51545)),p=e(99553),m=(e(23224),e(26566)),v=e(12521),E=e(68232),C=e(92944),I=(e(45573),e(18523),e(29010)),L=(e(84260),e(84974)),b=(e(28606),e(38696)),M=(e(52888),e(99721),e(28147)),k=(e(57353),e(15252),e(40131)),G=e(83821),$=e(74718),X=e(53324),ie=e(41798),se=e(48352),pe=e(84046);let ve=(()=>{class De{}return De.\u0275fac=function(Qe){return new(Qe||De)},De.\u0275mod=pe.oAB({type:De}),De.\u0275inj=pe.cJS({imports:[[n.ez,se.F,p.e.forRoot()]]}),De})();e(126);e(7341);let Ie=(()=>{class De{}return De.\u0275fac=function(Qe){return new(Qe||De)},De.\u0275mod=pe.oAB({type:De}),De.\u0275inj=pe.cJS({imports:[[n.ez,ie.I,ve,se.F]]}),De})();var He=e(68890),Ve=e(48876),Ue=e(33945),xe=e(23528);const tt=[I.s,M.m,G.A,$.p];let ne=(()=>{class De{static forRoot(){return{ngModule:De,providers:[...tt]}}}return De.\u0275fac=function(Qe){return new(Qe||De)},De.\u0275mod=pe.oAB({type:De}),De.\u0275inj=pe.cJS({imports:[[n.ez,t.UX,X.R,h.F,k.l,He.z8,p.e.forRoot(),C.$,L.A.forRoot(),b.I.forRoot(),Ie,i.C,Ve.y,v.t,m.n,E.g,s.J,Ue.Q,xe.V],v.t]}),De})()},74718:(S,g,e)=>{"use strict";e.d(g,{p:()=>i});class t{constructor(a){this.cacheFields=new Map,a.forEach(o=>{this.cacheFields.set(o.fieldId,o)})}getChangedValue(){return Array.from(this.cacheFields.values()).filter(a=>a.getPreviousValueString()!==a.getCurrentValueString()&&a.getCurrentValueString()!==a.getInitialValueString())}updateCacheFieldValueIfExists(a,o){const d=this.cacheFields.get(a);d&&d.updateValue(o)}revertChanges(){this.cacheFields.forEach(a=>{a.previousValue=a.currentValue})}getValue(a){return this.cacheFields.get(a)}}var n=e(71118),s=e(84046);let i=(()=>{class r{constructor(){this.formCache=new t([])}initialize(o){this.formCache=new t(o)}getFormCache(){return this.formCache}getCachedFields(){return this.formCache.getChangedValue()}revertChanges(){this.formCache.revertChanges()}updateCaches(o,d){const h=this.formCache.getValue(o);h&&!n.l.deepCompare(d,h.currentValue)&&this.formCache.updateCacheFieldValueIfExists(o,d)}}return r.\u0275fac=function(o){return new(o||r)},r.\u0275prov=s.Yz7({token:r,factory:r.\u0275fac}),r})()},28147:(S,g,e)=>{"use strict";e.d(g,{m:()=>s});class t{constructor(r,a,o,d,h,p){this.formGroupId=r,this.formFields=a,this.formGroupClassName=o,this.header=d,this.description=h,this.footer=p}}var n=e(84046);let s=(()=>{class i{createFormFieldsSections(a,o){const d=[];return a.forEach(h=>{const p=this.getFieldGroup(o,h.id);if(p){const f=d.find(m=>m.formGroupId===p.id);f?f.formFields.push(h):d.push(new t(p.id,[h],p.className,p.header,p.description,p.footer))}else d.length>0&&null===d[d.length-1].formGroupId?d[d.length-1].formFields.push(h):d.push(new t(null,[h]))}),d}getFieldGroup(a,o){let d=null;return a.forEach(h=>{h.formFieldRefs.forEach(p=>{p.id===o&&(d=h)})}),d}}return i.\u0275fac=function(a){return new(a||i)},i.\u0275prov=n.Yz7({token:i,factory:i.\u0275fac}),i})()},29010:(S,g,e)=>{"use strict";e.d(g,{s:()=>n});var t=e(84046);let n=(()=>{class s{constructor(){this.seed=0}getId(){return++this.seed,"autogenid_"+this.seed}}return s.\u0275fac=function(r){return new(r||s)},s.\u0275prov=t.Yz7({token:s,factory:s.\u0275fac}),s})()},7321:(S,g,e)=>{"use strict";e.d(g,{E:()=>t});var t=(()=>{return(n=t||(t={}))[n.NONE=0]="NONE",n[n.TEXT=1]="TEXT",n[n.NUMBER=2]="NUMBER",n[n.QL_TEXT=3]="QL_TEXT",n[n.CHECKBOX=4]="CHECKBOX",n[n.SWIPER=5]="SWIPER",n[n.COLOR_PICKER=6]="COLOR_PICKER",n[n.SELECT=7]="SELECT",n[n.LAZY_SELECT=8]="LAZY_SELECT",n[n.USER_PICKER=9]="USER_PICKER",n[n.FILE=10]="FILE",n[n.BUTTON_GROUP=11]="BUTTON_GROUP",n[n.TEXT_AREA=12]="TEXT_AREA",n[n.DATE_PICKER=13]="DATE_PICKER",n[n.COLORED_ICON_PICKER=14]="COLORED_ICON_PICKER",n[n.ICON_PICKER=15]="ICON_PICKER",n[n.RADIO=16]="RADIO",n[n.MULTI_SELECT=17]="MULTI_SELECT",n[n.EXT_USER_PICKER=18]="EXT_USER_PICKER",n[n.RESOURCE_PICKER=19]="RESOURCE_PICKER",n[n.PASSWORD=20]="PASSWORD",t;var n})()},24678:(S,g,e)=>{"use strict";e.d(g,{D:()=>h});var t=e(35811),n=e(88246),s=e(45635),i=e(90850),r=e(83194),a=e(53339),o=e(84046),d=e(21378);let h=(()=>{class p{constructor(m){this.progressRepository=m,this.unsubscribe$=new i.xQ}getProgress(){return(0,r.F)(400).pipe((0,t.R)(this.unsubscribe$),(0,n.z)(()=>this.progressRepository?this.progressRepository.getProgressStatus():(0,a.of)()),(0,s.b)(v=>{v.inProgress||this.unsubscribe$.next()}))}}return p.\u0275fac=function(m){return new(m||p)(o.LFG(d.m,8))},p.\u0275prov=o.Yz7({token:p,factory:p.\u0275fac}),p})()},80536:(S,g,e)=>{"use strict";e.d(g,{s:()=>t});class t{constructor(s,i,r){this.actualProgressValue=s,this.finalProgressValue=i,this.inProgress=r}}},21378:(S,g,e)=>{"use strict";e.d(g,{m:()=>t});class t{}},43234:(S,g,e)=>{"use strict";e.d(g,{y:()=>n});var t=e(53339);class n{submit(i){return(0,t.of)(!0)}}},83821:(S,g,e)=>{"use strict";e.d(g,{A:()=>n});var t=e(84046);let n=(()=>{class s{constructor(){this.textFormatter=r=>`Please wait: ${r.actualProgressValue}  ${r.finalProgressValue}`}setTextFormatter(r){this.textFormatter=r}getText(r){return this.textFormatter(r)}}return s.\u0275fac=function(r){return new(r||s)},s.\u0275prov=t.Yz7({token:s,factory:s.\u0275fac}),s})()},64004:(S,g,e)=>{"use strict";e.d(g,{E:()=>t});class t{}},18523:(S,g,e)=>{"use strict";e.d(g,{m:()=>n});const n=new(e(84046).OlP)("FORM_ERROR_HANDLERS")},66319:(S,g,e)=>{"use strict";e.d(g,{k:()=>t});var t=(()=>{return(n=t||(t={}))[n.EMPTY=0]="EMPTY",n[n.NONE=1]="NONE",n[n.SP_MESSAGES=2]="SP_MESSAGES",n[n.ERROR_LIST=4]="ERROR_LIST",t;var n})()},45573:(S,g,e)=>{"use strict";e.d(g,{c:()=>o});var t=e(83941),n=e(64004),s=e(46902),i=e(78609),r=e(683),a=e(84046);let o=(()=>{class d extends n.E{constructor(p){super(),this.messageService=p}handleError(p){const{error:f,status:m}=p;f&&f.errors.qfValidationError?this.messageService.warning((new s.P).withTitle("SPT_COMMON_MESSAGE_FORM_ERROR_TITLE").withBody(t.H.string(f.errors.qfValidationError)).withFadeout(!1)):this.showValidationErrorMessages(f,m)}showValidationErrorMessages(p,f){let m=[];p&&p.errorMessages&&Array.isArray(p.errorMessages)&&(m=[...p.errorMessages]),p&&p.errors&&Object.keys(p.errors).forEach(v=>{m.push(p.errors[v])}),m.forEach(v=>{const E=(new s.P).withTitle("SPT_MESSAGE_VALIDATION_ERROR_MESSAGE").withBody(t.H.string(v));f===r.o.BAD_REQUEST&&E.withDownloadLogsButton(!1),this.messageService.error(E)})}}return d.\u0275fac=function(p){return new(p||d)(a.LFG(i.e))},d.\u0275prov=a.Yz7({token:d,factory:d.\u0275fac}),d})()},2138:(S,g,e)=>{"use strict";e.d(g,{S:()=>s});var t=e(95881),n=e(84046);let s=(()=>{class i extends t.O{getParseError(){return this.parseError}parse(a){this.parseError=!a}setAutoCompleteData(a){}getEmitOnInvalidPossible(){return!0}}return i.\u0275fac=function(){let r;return function(o){return(r||(r=n.n5z(i)))(o||i)}}(),i.\u0275prov=n.Yz7({token:i,factory:i.\u0275fac}),i})()},47756:(S,g,e)=>{"use strict";e.d(g,{U:()=>t});class t{}},29912:(S,g,e)=>{"use strict";e.d(g,{f:()=>n});var t=e(53339);class n{constructor(){this.isQueryLanguageSearch=!1}static default(){return(new n).withName("TXT").withPlaceholder("Search for task summary").withLozengeColor("medium_gray").withSaveAsQuickFilterEnabled(!1).withSearchFunction(i=>(0,t.of)([]))}withName(i){return this.name=i,this}withPlaceholder(i){return this.placeholder=i,this}withLozengeColor(i){return this.color=i,this}withSaveAsQuickFilterEnabled(i){return this.saveAsQuickFilterEnabled=i,this}withSearchFunction(i){return this.search=i,this}withQueryLanguageSearch(i){return this.isQueryLanguageSearch=i,this}}},73890:(S,g,e)=>{"use strict";e.d(g,{P:()=>s});var t=e(47756),n=e(84046);let s=(()=>{class i extends t.U{constructor(){super()}init(a,o,d){}enable(){}disable(){}}return i.\u0275fac=function(a){return new(a||i)},i.\u0275prov=n.Yz7({token:i,factory:i.\u0275fac}),i})()},90445:(S,g,e)=>{"use strict";e.d(g,{S:()=>r});var t=e(53339),n=e(57409),s=e(84046),i=e(11531);let r=(()=>{class a extends n.Z{constructor(d){super(d)}getAutocompleteData(){return(0,t.of)({visibleFieldNames:[],visibleFunctionNames:[],reservedWords:[]})}getRestUrl(d){return d}}return a.\u0275fac=function(d){return new(d||a)(s.LFG(i.O))},a.\u0275prov=s.Yz7({token:a,factory:a.\u0275fac}),a})()},53324:(S,g,e)=>{"use strict";e.d(g,{R:()=>T});var t=e(70335),n=e(55331),s=e(41001),i=e(79047),r=e(74647),a=e(68890),o=e(90445),d=e(47756),h=e(57409),p=e(73890),f=e(95881),m=e(2138),v=e(26566),E=e(84046);const C=[{provide:h.Z,useClass:o.S},{provide:d.U,useClass:p.P},{provide:f.O,useClass:m.S}];let T=(()=>{class y{static forRoot(){return{ngModule:y,providers:C}}}return y.\u0275fac=function(P){return new(P||y)},y.\u0275mod=E.oAB({type:y}),y.\u0275inj=E.cJS({imports:[[r.w,n.ez,i.C,t.UX,a.z8,s.J,v.n]]}),y})()},95881:(S,g,e)=>{"use strict";e.d(g,{O:()=>t});class t{}},57409:(S,g,e)=>{"use strict";e.d(g,{Z:()=>n});var t=e(83155);class n extends t.a{constructor(i){super(i)}}},78295:(S,g,e)=>{"use strict";e.d(g,{Q:()=>t});class t{}},19446:(S,g,e)=>{"use strict";e.d(g,{c3:()=>Vt,Ur:()=>$t,Oh:()=>Ct});var t=e(84046),n=e(90850),s=e(18840),i=e(97809),r=e(53488),a=e(53339),o=e(19449),d=e(69989),h=e(38009),p=e(49549),f=e(4683),m=e(63833),v=e(98274),E=e(35811),C=e(45635),T=e(56385),y=e(71726),I=e(96105),P=e(88945),L=e(95938),F=e(14650),b=e(74718);class x{constructor(Ft,ot,Me,Ze){this.fieldId=Ft,this.fieldLabel=ot,this.previousValue=Me,this.currentValue=Ze,this.initialValue=Ze}updateValue(Ft){this.currentValue=Ft}getInitialValueString(){return this.getStringFromFieldCache(this.initialValue)}getPreviousValueString(){return this.getStringFromFieldCache(this.previousValue)}getCurrentValueString(){return this.getStringFromFieldCache(this.currentValue)}getStringFromFieldCache(Ft){return Array.isArray(Ft)?Ft.map(ot=>this.getValueFromSingle(ot)).reduce((ot,Me,Ze)=>(ot+=Me,Ze<Ft.length-1&&(ot+=", "),ot),""):this.getValueFromSingle(Ft)}getValueFromSingle(Ft){return Ft instanceof F.W?Ft.text.toString():Ft.toString()}}var B=e(7321),M=e(80536),w=e(64004);let K=(()=>{class yt extends w.E{constructor(){super()}handleError(ot){const{errorsContainer:Me,error:Ze}=ot;Me&&(Me.length=0,Me.push(...Ze.errorMessages),!Me.length&&Ze.errors&&Object.keys(Ze.errors).forEach(Ne=>{Me.push(Ze.errors[Ne])}))}}return yt.\u0275fac=function(ot){return new(ot||yt)},yt.\u0275prov=t.Yz7({token:yt,factory:yt.\u0275fac}),yt})();var k=e(18523),G=e(66319),$=e(45573);class X{static accumulateValidityStatuses(Ft){return Ft.pipe((0,y.U)(ot=>ot.every(Me=>Me)))}}var ie=e(31641),se=e(74482),pe=e(90391),ve=e(29893),Ce=e(52888),ye=e(99721),de=e(78609),Ie=e(71118),He=e(21642),Ve=e(43234),Ue=e(28147),xe=e(24678),gt=e(55331),tt=e(57353),lt=e(88868),Mt=e(15252),ne=e(43796),De=e(34909);const Ye=["container"];function Qe(yt,Ft){if(1&yt&&(t.TgZ(0,"li",9),t._uU(1),t.qZA()),2&yt){const ot=Ft.$implicit;t.xp6(1),t.hij(" ",ot," ")}}function Ke(yt,Ft){if(1&yt&&(t.TgZ(0,"ul",7),t.YNc(1,Qe,2,1,"li",8),t.qZA()),2&yt){const ot=t.oxw();t.xp6(1),t.Q6J("ngForOf",ot.errorsContainer)}}function it(yt,Ft){if(1&yt){const ot=t.EpF();t.TgZ(0,"sp-save-button",10),t.NdJ("actionStarted",function(){return t.CHM(ot),t.oxw().submit()}),t.qZA()}if(2&yt){const ot=t.oxw();t.Q6J("status",ot.saveButtonStatus)("configuration",ot.getSaveButtonConfiguration())}}function Se(yt,Ft){if(1&yt){const ot=t.EpF();t.TgZ(0,"button",11),t.NdJ("click",function(){return t.CHM(ot),t.oxw().cancelButtonClick()}),t._uU(1," Cancel "),t.qZA()}}const Ct=125,Vt=250;let $t=(()=>{class yt{constructor(ot,Me,Ze,Ne,we,At,Rt,zt,Yt){this.changeDetectorRef=ot,this.componentFactoryResolver=Me,this.renderer=Ze,this.formRepository=we,this.formConverter=At,this.formProgressService=Rt,this.formCacheManager=zt,this.strategy=G.k.NONE,this.configuration=ie.E.default(),this.validStatusChange=new t.vpe,this.errorsContainer=[],this.submitAttempted=!1,this.saveButtonStatus=L.o.NORMAL,this.formFieldComponentRefs=[],this.formProgressStatus=new M.s(0,0,!1),this.progressOnStart=!1,this.progressDisplayed=!1,this.unsubscribe$=new n.xQ,this.formBuildStart$=new n.xQ,this.formGroupRefsChange$=new n.xQ,this.formFieldRefsChange$=new n.xQ,this.nameToField={},this.formBuilt=!1,this.formStatus$=new s.X(se.P.INITIAL),this.cancelButtonClickStatus$=new i.t(1),this.formCacheSubscription=new r.w,this.injector=Ne,this.formErrorHandlers=Yt}ngOnChanges(ot){if(ot.strategy){let Me=[];this.strategy&G.k.ERROR_LIST&&Me.push({provide:k.m,useClass:K,multi:!0,deps:[]}),this.strategy&G.k.SP_MESSAGES&&Me.push({provide:k.m,useClass:$.c,multi:!0,deps:[de.e]}),this.strategy&G.k.NONE&&(Me=[{provide:k.m,useValue:null,deps:[]}]),this.injector=t.zs3.create({providers:Me,parent:this.injector}),this.formErrorHandlers=this.injector.get(k.m)}ot.configuration&&(this.progressDisplayed=this.configuration.progressStatus)}ngOnInit(){this.observeFormStatusAndSetSaveButtonStatus()}ngAfterContentInit(){this.attachListenerToFormGroupsRefChanges(),this.attachListenerToFormFieldsRefChanges()}ngAfterViewInit(){this.buildForm(),this.initializeCacheFormFields(this.configuration.showChanges)}ngOnDestroy(){this.formCacheSubscription.unsubscribe(),this.unsubscribe$.next(),this.unsubscribe$.complete(),this.formGroupRefsChange$.complete(),this.formFieldRefsChange$.complete()}submit(){if(this.submitAttempted=!0,this.setFormStatus(se.P.PENDING),!this.isValid())return void this.setFormStatus(se.P.FAILED);const ot=this.getValue();this.disableAllFields(),this.submitFormThroughRepository(ot).pipe((0,m.q)(1),(0,v.w)(Me=>this.progressDisplayed?this.formProgressService.getProgress():(0,a.of)(Me)),(0,E.R)(this.unsubscribe$)).subscribe(Me=>{this.updateProgressStatus(Me)},Me=>{Me instanceof He.U?this.handleValidationErrors(Me.error,Me.status):console.error(Me),this.enableAllFields(),this.setFormStatus(se.P.FAILED)},()=>{this.errorsContainer=[],this.onFormSave(se.P.SUCCESS)})}showProgressStatus(){this.formProgressService.getProgress().pipe((0,E.R)(this.unsubscribe$)).subscribe(ot=>{this.switchFormToPendingMode(this.formProgressStatus),this.updateProgressStatus(ot)},ot=>{ot instanceof He.U?this.handleValidationErrors(ot.error,ot.status):console.error(ot),this.enableAllFields(),this.setFormStatus(se.P.FAILED)},()=>{this.errorsContainer=[],this.progressOnStart&&this.onFormSave(se.P.SUCCESS),this.progressDisplayed=!1,this.progressOnStart=!1})}submitWithStatus(){if(!this.isValid())return o.C;const ot=this.getValue();return this.submitFormThroughRepository(ot).pipe((0,E.R)(this.unsubscribe$),(0,m.q)(1),(0,C.b)(()=>{this.configuration.clearAfterSubmit&&this.resetFields()}),(0,T.K)(Me=>(Me instanceof He.U?this.handleValidationErrors(Me.error,Me.status):console.error(Me),(0,d._)(Me))))}getValue(){const ot={};return this.formFieldComponentRefs.forEach(Me=>{const Ze=Me.instance;Ze.controlNames.forEach(Ne=>{null!=Ze.form.value[Ne]&&(ot[Ne]=Ze.form.value[Ne])})}),ot}resetFields(){this.formFieldComponentRefs.forEach(ot=>{!ot.instance.clearable||ot.instance.reset()}),this.submitAttempted=!1}getFormErrorHandlers(){return this.formErrorHandlers}isValid(){let ot=!0;return this.formFieldComponentRefs.forEach(Me=>{const Ze=Me.instance.form,Ne=Me.instance.formControl;if(Ze.updateValueAndValidity({onlySelf:!0}),!Ze.valid&&!Me.instance.form.disabled)return Ne.markAsTouched({onlySelf:!0}),ot=!1,void Me.changeDetectorRef.detectChanges()}),ot}focusFirstField(){this.formFieldComponentRefs.some(ot=>{if(ot.instance.isFocusable())return ot.instance.focus(),!0})}removeFocusFromFirstField(){this.formFieldComponentRefs.forEach(ot=>{if(ot.instance.isFocusable())return ot.instance.clearFocus(),!0})}rebuildWithValues(ot){this.buildForm(null!=ot?ot:this.getValue()),this.formCacheSubscription.unsubscribe(),this.formCacheSubscription=null,this.updateCacheOnFormValueChange()}rebuild(){this.buildForm(),this.formCacheSubscription.unsubscribe(),this.formCacheSubscription=null,this.updateCacheOnFormValueChange()}observeFormStatus(){return this.formStatus$.asObservable()}observeCancelButtonClick(){return this.cancelButtonClickStatus$.asObservable()}setFormStatus(ot){this.formStatus$.next(ot)}isCacheFieldsEnabled(){return this.configuration.showChanges}isSaveButtonEnabled(){return this.configuration.saveButtonEnabled}getSaveButtonConfiguration(){return this.configuration.saveButtonConfiguration}isCancelButtonEnabled(){return this.configuration.cancelButtonEnabled}isLabelAboveInput(){return this.configuration.labelAboveInput}isStickyFooterEnabled(){return this.configuration.stickyFooter}shouldDisplayProgressStatus(){return this.configuration.progressStatus&&this.saveButtonStatus===L.o.PENDING}cancelButtonClick(){this.cancelButtonClickStatus$.next(!0)}disableAllFields(){this.formFieldComponentRefs.forEach(ot=>{const Me=ot.instance;Me.formControl.disabled||Me.formControl.disable()}),this.changeDetectorRef.detectChanges()}enableAllFields(){this.formFieldComponentRefs.forEach(ot=>{const Me=ot.instance;Me.formControl.disabled&&Me.formControl.enable()})}enableField(ot){const Me=this.getField(ot);Me&&Me.enable(),this.changeDetectorRef.detectChanges()}disableField(ot){const Me=this.getField(ot);Me&&Me.disable(),this.changeDetectorRef.detectChanges()}getField(ot){return this.nameToField[ot]}valueChanges(){const ot=Object.keys(this.nameToField).map(Me=>this.nameToField[Me].valueChanges());return(0,h.T)(...ot).pipe((0,y.U)(()=>this.getValue()))}changeFieldVisibility(ot,Me){this.validateField(ot),this.nameToField[ot].setDisplayStatus(Me),this.changeDetectorRef.detectChanges()}hasChangedCachedValues(){return this.getFormCache().getChangedValue().length>0}markFieldAsTouched(ot){this.getField(ot).formControl.markAsTouched(),this.changeDetectorRef.detectChanges()}markFieldAsUntouched(ot){this.getField(ot).formControl.markAsUntouched(),this.changeDetectorRef.detectChanges()}markAllAsTouchedAndDirty(){Object.keys(this.nameToField).forEach(ot=>{const Me=this.nameToField[ot];Me.formControl.markAsTouched(),Me.formControl.markAsDirty(),Me.formControl.updateValueAndValidity()})}attachListenerToFormGroupsRefChanges(){this.formGroupRefsChange$.pipe((0,E.R)(this.unsubscribe$)).subscribe(()=>this.updateFormGroupFields()),this.formGroupRefsChange$.next(),this.formGroupRefs.changes.pipe((0,E.R)(this.unsubscribe$)).subscribe(()=>this.formGroupRefsChange$.next())}attachListenerToFormFieldsRefChanges(){this.formFieldRefsChange$.pipe((0,E.R)(this.unsubscribe$)).subscribe(()=>this.updateFormFields()),this.formFieldRefsChange$.next(),this.formFieldRefs.changes.pipe((0,E.R)(this.unsubscribe$)).subscribe(()=>this.formFieldRefsChange$.next())}getFormCache(){return this.formCacheManager.getFormCache()}validateField(ot){const Me=this.getFieldValidators(ot);if(Me&&!Me.length)throw new ReferenceError("Cannot change visibility for a field with validators")}getFieldValidators(ot){if(!this.nameToField[ot])throw new ReferenceError(`Cannot find field with id: ${ot}`);return this.nameToField[ot].validators}initializeCacheFormFields(ot){if(!ot)return;const Me=this.getFormFieldCaches();this.formCacheManager.initialize(Me),this.updateCacheOnFormValueChange()}getFormFieldCaches(){return this.formFields.filter(ot=>Ie.l.isDefined(ot.value)).map(ot=>{let Me;return Me="object"!=typeof ot.value||Array.isArray(ot.value)?Array.isArray(ot.value)?ot.value.reduce((Ze,Ne)=>[...Ze,...Ne],[]):ot.value:ot.value.text,new x(ot.name,ot.label,Me,Me)})}onFormSave(ot){this.configuration.clearAfterSubmit&&this.resetFields(),this.enableAllFields(),this.getFormCache()&&this.formCacheManager.revertChanges(),this.changeDetectorRef.detectChanges(),this.setFormStatus(ot)}updateCacheOnFormValueChange(){this.formCacheSubscription=this.valueChanges().subscribe(ot=>{Object.keys(ot).forEach(Me=>{const Ze=ot[Me];this.formCacheManager.updateCaches(Me,"object"==typeof Ze&&Ze.text?Ze.text:Ze)}),this.changeDetectorRef.detectChanges()})}observeFormStatusAndSetSaveButtonStatus(){this.isSaveButtonEnabled()&&this.observeFormStatus().pipe((0,E.R)(this.unsubscribe$)).subscribe(ot=>{this.resolveButtonStatusFrom(ot),this.changeDetectorRef.detectChanges()})}resolveButtonStatusFrom(ot){switch(ot){case se.P.INITIAL:this.saveButtonStatus=L.o.NORMAL;break;case se.P.PENDING:this.saveButtonStatus=L.o.PENDING;break;case se.P.SUCCESS:this.saveButtonStatus=L.o.SUCCESS;break;case se.P.FAILED:this.saveButtonStatus=L.o.FAILED;break;default:this.saveButtonStatus=L.o.NORMAL}}switchFormToPendingMode(ot){if(ot.inProgress){if(this.progressOnStart=!0,this.setFormStatus(se.P.PENDING),!this.isValid())return void this.setFormStatus(se.P.FAILED);this.disableAllFields()}}updateFormGroupFields(){this.formGroupFields=this.formGroupRefs.toArray()}updateFormFields(){this.formFields=this.formFieldRefs.toArray()}buildForm(ot){if(void 0===this.fieldsContainerRef||(this.fieldsContainerRef.clear(),this.changeDetectorRef.detectChanges(),this.formFieldComponentRefs=[],!this.formGroupFields||!this.formFields))return;const Me=this.formConverter.createFormFieldsSections(this.formFields,this.formGroupFields);this.formBuildStart$.next(),this.buildFormGroup(Me,ot),this.observeFormFieldsValidityStatusChanges(),this.formBuilt=!0,this.observeFocus(),this.changeDetectorRef.detectChanges()}observeFormFieldsValidityStatusChanges(){this.observeAccumulatedFieldsValidityStatus().pipe((0,I.x)(),(0,E.R)((0,h.T)(this.formBuildStart$,this.unsubscribe$))).subscribe(ot=>{this.setButtonStatusOnValidation(ot),this.validStatusChange.emit(ot),this.changeDetectorRef.detectChanges()})}observeFocus(){(0,p.H)(0,100).pipe((0,P.P)(),(0,E.R)(this.unsubscribe$)).subscribe(()=>{this.configuration.focusFirstField?this.focusFirstField():this.removeFocusFromFirstField()})}setButtonStatusOnValidation(ot){ot?this.resolveButtonStatusFrom(this.formStatus$.getValue()):this.saveButtonStatus=L.o.DISABLED}observeAccumulatedFieldsValidityStatus(){const ot=Object.keys(this.nameToField).map(Me=>this.nameToField[Me].validStatusChanges());return(0,f.aj)(ot).pipe(X.accumulateValidityStatuses)}buildFormGroup(ot,Me){ot.forEach(Ze=>{const Ne=this.componentFactoryResolver.resolveComponentFactory(Ce.HK),At=t.zs3.create({providers:[{provide:Ce.CJ,useValue:Ze.header},{provide:Ce.ZD,useValue:Ze.description},{provide:Ce.iI,useValue:Ze.footer},{provide:Ce.vI,useValue:Ze.formGroupId}],parent:this.injector}),Rt=this.fieldsContainerRef.createComponent(Ne,null,At);Rt.changeDetectorRef.detectChanges();const Yt=Rt.instance.fieldsContainerRef;this.setElemClass(Rt.location.nativeElement,Ze.formGroupClassName),this.buildFormFields(Ze.formFields,Yt,Me)})}buildFormFields(ot,Me,Ze){ot.forEach(Ne=>{const we=this.componentFactoryResolver.resolveComponentFactory(pe.hg),At=Ne.name,Rt=Ne.name.split(","),zt=Ze&&Ie.l.isDefined(Ze[Ne.name])?this.returnArrayOfValue(Ze[Ne.name]):this.returnArrayOfValue(Ne.value),Yt=[{provide:pe.JG,useValue:Rt},{provide:pe.g_,useValue:Ne.type},{provide:pe.kF,useValue:Ne.label},{provide:pe.HI,useValue:Ne.unitLabel},{provide:pe.pv,useValue:Ne.flex},{provide:pe.uv,useValue:Ne.validators},{provide:pe.Mz,useValue:Ne.placeholder},{provide:pe.mm,useValue:Ne.config},{provide:pe.B9,useValue:Ne.clearable},{provide:pe.Kf,useValue:Ne.description},{provide:pe.LD,useValue:Ne.className},{provide:pe.WJ,useValue:Ne.id},{provide:pe.YV,useValue:Ne.disabled},{provide:pe.eM,useValue:this.configuration.onChange$},{provide:pe.if,useValue:Ne.tooltipText},{provide:pe.Uq,useValue:Ne.isRichText},{provide:pe.H$,useValue:Ne.negativeNumberEnabled},{provide:pe.QX,useValue:Ne.withValidationErrorTimeout}];if(Ne.value&&Ne.value[0]&&Ne.type===B.E.SELECT){const nn=Ne.value[0],hn=Ne.config.config.mappers;zt[0]=new F.W(hn.valueMapper(nn),hn.textMapper(nn)),Yt.push({provide:pe.H5,useValue:zt})}else Yt.push({provide:pe.H5,useValue:zt});const ln=t.zs3.create({providers:Yt,parent:this.injector}),pn=Me.createComponent(we,null,ln);pn.location.nativeElement.setAttribute("field-name",Ne.name),this.setElemClass(pn.location.nativeElement,Ne.className),this.formFieldComponentRefs.push(pn),this.nameToField[At]=pn.instance})}setElemClass(ot,Me){ot&&Me&&this.renderer.addClass(ot,Me)}handleValidationErrors(ot,Me){!this.formErrorHandlers||!ot||(this.submitAttempted=!1,this.formErrorHandlers.forEach(Ze=>{Ze.handleError({error:ot,status:Me,fields:this.formFieldComponentRefs,errorsContainer:this.errorsContainer})}),this.changeDetectorRef.detectChanges())}returnArrayOfValue(ot){let Me=[];return Array.isArray(ot)?Me=ot:Me.push(ot),Me}updateProgressStatus(ot){ot instanceof M.s&&(this.formProgressStatus=ot,this.setPendingStatusWhenUpdateInProgress(ot),this.changeDetectorRef.detectChanges())}setPendingStatusWhenUpdateInProgress(ot){ot.inProgress&&this.formStatus$.getValue()!==se.P.PENDING&&this.setFormStatus(se.P.PENDING)}submitFormThroughRepository(ot){return this.formRepository.submit(ot)}}return yt.\u0275fac=function(ot){return new(ot||yt)(t.Y36(t.sBO),t.Y36(t._Vd),t.Y36(t.Qsj),t.Y36(t.zs3),t.Y36(Ve.y),t.Y36(Ue.m),t.Y36(xe.D,8),t.Y36(b.p),t.Y36(k.m,12))},yt.\u0275cmp=t.Xpm({type:yt,selectors:[["sp-form"]],contentQueries:function(ot,Me,Ze){if(1&ot&&(t.Suo(Ze,ve.u,5),t.Suo(Ze,ye.Y,4)),2&ot){let Ne;t.iGM(Ne=t.CRH())&&(Me.formFieldRefs=Ne),t.iGM(Ne=t.CRH())&&(Me.formGroupRefs=Ne)}},viewQuery:function(ot,Me){if(1&ot&&t.Gf(Ye,7,t.s_b),2&ot){let Ze;t.iGM(Ze=t.CRH())&&(Me.fieldsContainerRef=Ze.first)}},hostVars:4,hostBindings:function(ot,Me){2&ot&&t.ekj("sp-form-submit-attempted",Me.submitAttempted)("label-above-input",Me.isLabelAboveInput())},inputs:{strategy:"strategy",configuration:"configuration"},outputs:{validStatusChange:"validStatusChange"},features:[t.TTD],decls:9,vars:10,consts:[["container",""],["id","sp-form-errors-list","class","sp-form-errors",4,"ngIf"],[3,"isCacheFieldsEnabled","cachedFields"],[1,"sp-form-save-button-group","sp-flex","sp-items-center","sp-bg-background",3,"spStickToBottom"],["id","sp-save-button","class","sp-my-4 sp-mx-0",3,"status","configuration","actionStarted",4,"ngIf"],[3,"isEnabled","formProgressStatus"],["sp-button","","link","","class","sp-ml-3","id","sp-form-cancel-button",3,"click",4,"ngIf"],["id","sp-form-errors-list",1,"sp-form-errors"],["class","sp-form-error",4,"ngFor","ngForOf"],[1,"sp-form-error"],["id","sp-save-button",1,"sp-my-4","sp-mx-0",3,"status","configuration","actionStarted"],["sp-button","","link","","id","sp-form-cancel-button",1,"sp-ml-3",3,"click"]],template:function(ot,Me){1&ot&&(t.TgZ(0,"div"),t._UZ(1,"div",null,0),t.qZA(),t.YNc(3,Ke,2,1,"ul",1),t._UZ(4,"sp-form-field-changes",2),t.TgZ(5,"div",3),t.YNc(6,it,1,2,"sp-save-button",4),t._UZ(7,"sp-form-progress-status",5),t.YNc(8,Se,2,0,"button",6),t.qZA()),2&ot&&(t.ekj("sp-pb-14",Me.isStickyFooterEnabled()),t.xp6(3),t.Q6J("ngIf",Me.errorsContainer.length),t.xp6(1),t.Q6J("isCacheFieldsEnabled",Me.isCacheFieldsEnabled())("cachedFields",Me.formCacheManager.getCachedFields()),t.xp6(1),t.Q6J("spStickToBottom",Me.isStickyFooterEnabled()),t.xp6(1),t.Q6J("ngIf",Me.isSaveButtonEnabled()),t.xp6(1),t.Q6J("isEnabled",Me.configuration.progressStatus&&Me.formProgressStatus.inProgress)("formProgressStatus",Me.formProgressStatus),t.xp6(1),t.Q6J("ngIf",Me.isCancelButtonEnabled()))},directives:[gt.O5,tt.u,lt.Y,Mt.f,gt.sg,ne.t,De.r],styles:["sp-form sp-field .sp-form__validation-messages{top:100%;right:4px}sp-form sp-field .sp-form .sp-error-label{color:var(--error)}sp-form sp-field .sp-form .sp-field-group{align-items:inherit}sp-form.label-above-input .sp-field-group,sp-form.label-above-input .sp-select-field{display:block}sp-form .sp-checkbox{width:auto}sp-form .sp-form-colorpicker-container{display:flex}sp-form .sp-form-colorpicker-container input{border-right:0;border-top-right-radius:0;border-bottom-right-radius:0}sp-form form.sp-form .sp-form-group sp-select.ng-invalid.ng-touched .sp-select-button,sp-form form.sp-form .sp-form-group sp-select.ng-invalid.ng-touched .sp-select-button:hover,sp-form form.sp-form .sp-form-group .sp-form-control.ng-invalid.ng-touched,sp-form form.sp-form .sp-form-group .sp-form-control.ng-invalid.ng-dirty,sp-form form.sp-form .sp-form-group .sp-search-container.ng-invalid.ng-touched{border-color:var(--error)}sp-form form.sp-form .sp-form-group textarea{color:var(--gray-800)}sp-form form.sp-form .sp-form-group textarea.sp-form-control{padding:8px}sp-form .sp-form-errors{list-style-type:none;color:var(--error)}sp-form.sp-form-submit-attempted sp-field form.sp-form .sp-form-group .sp-select.ng-invalid .sp-select-button,sp-form.sp-form-submit-attempted sp-field form.sp-form .sp-form-group .sp-search-container.ng-invalid{border-color:var(--error)}sp-form.sp-form-submit-attempted sp-field form.sp-form .sp-form-group .sp-form-control.ng-invalid{border-color:var(--error)}sp-form.sp-form-submit-attempted sp-field form.ng-invalid sp-toggle-button-group sp-toggle-button .sp-btn,sp-form.sp-form-submit-attempted sp-field form.ng-invalid .sp-input-file-container .sp-input-file-row,sp-form.sp-form-submit-attempted sp-field form.ng-invalid .sp-input-file-container .sp-input-file-row .sp-inline-edit-save{border-color:var(--error)}.sp-checkbox-swiper-field{display:flex;align-items:center}.sp-checkbox-swiper-field .sp-swiper-wrapper{padding-right:8px;display:flex;flex-direction:column;justify-content:flex-end}.sp-checkbox-swiper-field .sp-swiper-wrapper sp-checkbox-swiper{display:flex;justify-content:flex-end}.sp-checkbox-swiper-field .sp-swiper-wrapper .sp-description{display:flex;justify-content:flex-end}.sp-checkbox-swiper-field sp-form-field-label{line-height:1.25rem;text-align:left;padding-top:0}.sp-input-with-color-picker{position:relative}.sp-input-container{position:relative;flex:1 1 100%}.sp-checkbox-input-container{display:flex;flex-direction:row;align-items:center;margin-top:5px}.sp-checkbox-input-container sp-form-field-label{line-height:1;flex:none;margin:0 0 0 8px}.sp-checkbox-input-container .sp-input[type=checkbox]{margin:auto 0;width:auto;height:auto}.sp-select-field{display:flex;align-items:center;padding:10px 0 0;width:100%}.sp-select-field .sp-select-wrapper{width:100%}.sp-select-field .sp-select-wrapper.sp-select-with-label{width:calc(100% - 140px)}.sp-select-field .sp-select-wrapper sp-select.sp-select{width:100%}.sp-select-field .sp-select-wrapper sp-select.sp-select .sp-select-wrapper{flex:1 1 auto}.sp-select-field .sp-select-wrapper .sp-description{padding-left:0}.sp-lazy-select-field{display:flex;align-items:center}.sp-lazy-select-field sp-lazy-select{width:100%}.sp-date-picker-field{display:flex;padding-bottom:5px}.sp-input-file-container{position:relative;width:100%}.sp-input-file-container .sp-input-file-row{border-radius:.25rem;border:1px solid var(--gray-50);background:var(--color-bg);padding:8px 25px 5px 10px}.sp-input-file-container .sp-input-file-row .sp-input-file-filename{display:inline-block}.sp-input-file-container .sp-input-file-row button.sp-inline-edit-save{position:absolute;right:1px;top:1px;border-top-left-radius:0;border-bottom-left-radius:0;height:28px}.sp-input-file-container .sp-input-file-row:hover{cursor:pointer;background-color:var(--gray-20)}.sp-input-file-container .sp-input-file-row:active{box-shadow:inset 0 3px 6px #0000001a}.sp-input-file-container .sp-input{position:absolute;opacity:0;left:-9999px}label.sp-input-file-filename-control{font-size:.875rem;font-weight:400;color:var(--gray-800)}sp-form-field-label{line-height:1.75rem;padding-top:0;margin-right:10px;text-align:right;color:var(--gray-400)}sp-form-field-label .sp-form-field-required{color:var(--error)}.sp-form-control-password-visibility-switcher{font-size:1rem;top:50%;right:10px;color:var(--gray-100);transform:translateY(-50%)}\n"],encapsulation:2,changeDetection:0}),yt})()},31641:(S,g,e)=>{"use strict";e.d(g,{E:()=>n});var t=e(88573);class n{constructor(){this.saveButtonConfiguration=t.h.default(),this.showChanges=!1}static default(){return(new n).withSaveButton(!1).withOnChange(null).withCancelButton(!1).withLabelAboveInput(!1).withClearAfterSubmit(!0).withFocusFirstField(!0)}withSaveButton(i){return this.saveButtonEnabled=i,this}withSaveButtonConfiguration(i){return this.saveButtonConfiguration=i,this}withCancelButton(i){return this.cancelButtonEnabled=i,this}withLabelAboveInput(i){return this.labelAboveInput=i,this}withClearAfterSubmit(i){return this.clearAfterSubmit=i,this}withFocusFirstField(i){return this.focusFirstField=i,this}withShowFieldsChanges(){return this.showChanges=!0,this}withProgressStatus(i){return this.progressStatus=i,this}withOnChange(i){return this.onChange$=i,this}withStickyFooter(i){return this.stickyFooter=i,this}}},74482:(S,g,e)=>{"use strict";e.d(g,{P:()=>t});var t=(()=>{return(n=t||(t={}))[n.INITIAL=0]="INITIAL",n[n.PENDING=1]="PENDING",n[n.FAILED=2]="FAILED",n[n.SUCCESS=3]="SUCCESS",t;var n})()},24950:(S,g,e)=>{"use strict";e.d(g,{$:()=>n});var t=e(84046);let n=(()=>{class s{transform(r){return`${r}-input`}}return s.\u0275fac=function(r){return new(r||s)},s.\u0275pipe=t.Yjl({name:"spFormFieldColorPickerInputIdCreator",type:s,pure:!0}),s})()},90391:(S,g,e)=>{"use strict";e.d(g,{LD:()=>rn,B9:()=>qt,mm:()=>Sn,Kf:()=>cn,YV:()=>Hn,pv:()=>Fe,WJ:()=>un,Uq:()=>bn,kF:()=>Dt,JG:()=>$n,H$:()=>so,Mz:()=>tn,if:()=>qn,g_:()=>kn,HI:()=>Cn,uv:()=>Pt,H5:()=>ro,QX:()=>Yn,eM:()=>oo,hg:()=>Do});var t=e(84046),n=e(70335),s=e(97809),i=e(45635),r=e(71726),a=e(43349),o=e(96105),h=(e(83941),e(7321)),p=e(84260),f=e(9477),m=e(94200),v=e(50295),E=e(95992),C=e(62546),T=e(29010),y=e(55331),I=e(98223),P=e(43941);function L(_t,sn){if(1&_t&&(t.TgZ(0,"span",1),t._uU(1),t.qZA()),2&_t){const _e=t.oxw();t.xp6(1),t.hij(" ",_e.firstError,"\n")}}let F=(()=>{class _t extends C.H{constructor(_e,ke,nt,me){super(_e,ke),this.changeDetector=nt,this.l10nTextService=me,this.firstError=null}ngOnChanges(_e){_e.formControlErrors&&_e.formControlErrors.currentValue&&this.setErrors()}getHostClasses(){return["sp-form-validation-messages","sp-block","sp-text-danger","sp-text-xs"]}setErrors(){if(!this.formControlErrors.errors||this.formControlErrors.valid){if(this.timeout)return;return void(this.firstError=null)}const ke=(0,P.J)(this.l10nTextService,this.formControlErrors.errors);ke.length||this.timeout?(this.firstError=ke[0],this.withValidationErrorTimeout&&(clearTimeout(this.timeout),this.timeout=setTimeout(()=>{this.firstError=null,this.timeout=null,this.changeDetector.detectChanges()},4e3))):this.firstError=null}}return _t.\u0275fac=function(_e){return new(_e||_t)(t.Y36(t.SBq),t.Y36(t.Qsj),t.Y36(t.sBO),t.Y36(I.e))},_t.\u0275cmp=t.Xpm({type:_t,selectors:[["sp-form-validation-messages"]],inputs:{formControlErrors:"formControlErrors",withValidationErrorTimeout:"withValidationErrorTimeout"},features:[t.qOj,t.TTD],decls:1,vars:1,consts:[["id","sp-form-errors-list","class","sp-form-validation-messages__content sp-inline-block sp-px-2 sp-py-1 sp-border-bottom-rounded sp-bg-bright-pink-50",4,"ngIf"],["id","sp-form-errors-list",1,"sp-form-validation-messages__content","sp-inline-block","sp-px-2","sp-py-1","sp-border-bottom-rounded","sp-bg-bright-pink-50"]],template:function(_e,ke){1&_e&&t.YNc(0,L,2,1,"span",0),2&_e&&t.Q6J("ngIf",ke.firstError)},directives:[y.O5],styles:[".sp-form-validation-messages__content{animation:fade-in .3s ease-in-out;animation-fill-mode:backwards}@keyframes fade-in{0%{transform:translateY(-10px);opacity:0}to{transform:translateY(0);opacity:1}}\n"],encapsulation:2,changeDetection:0}),_t})();var b=e(37752),x=e(83063),B=e(68890),M=e(53488),w=e(90850),K=e(73197),k=e(70822),G=e(35811),$=e(62126),X=e(29912),ie=e(95900),se=e(47756),pe=e(57409),ve=e(95881),Ce=e(78295),ye=e(32235),de=e(41004),Ie=e(18217),He=e(65799);const Ve=["form"],Ue=["searchInput"];function xe(_t,sn){if(1&_t&&(t.TgZ(0,"span"),t._UZ(1,"i",8),t.ALo(2,"spRichTextI18n"),t.qZA()),2&_t){const _e=t.oxw();t.xp6(1),t.Q6J("spTooltip",t.lcZ(2,2,"SPT_BOXCONFIG_TASKS_QUICK_FILTERS_NEW_FILTER_QUERY_SAVE_TOOLTIP"))("spTooltipGravity",_e.gravity.WEST)}}let gt=(()=>{class _t{constructor(_e,ke,nt,me,ht,Wt,It){this.changeDetectorRef=_e,this.queryLanguageAutocompleteService=ke,this.searchResource=nt,this.queryLanguageParser=me,this.queryLanguageStrategy=ht,this.renderer=Wt,this.elementRef=It,this.searchStrategies=[X.f.default()],this.currentStrategyIndex=0,this.isActive=!1,this.gravity={WEST:ie.X.WEST},this.subscriptions=new M.w,this.removeListeners$=new w.xQ,this.SEARCH_DEBOUNCE_TIME=400}ngOnInit(){this.initSearchStrategies(),this.setCurrentStrategy(),this.setIsQueryLanguageSearch(),this.initForm(),this.initializeQueryParser(),this.listenToCloseDropdownEvent(),this.onInputValueChange()}ngOnDestroy(){this.removeListeners$.next(),this.subscriptions.unsubscribe()}addOutline(){this.isActive=!0,this.inputRef.nativeElement.focus(),this.jqlSuggestions&&this.renderer.setStyle(this.jqlSuggestions,"display","block")}detectInputChanges(){this.inputRef&&this.searchForm.get(this.controlName).setValue(this.inputRef.nativeElement.value)}onClickOutsideForm(){this.removeOutline(),this.jqlSuggestions&&this.renderer.setStyle(this.jqlSuggestions,"display","none")}changeStrategy(){!this.canChangeStrategy()||(this.currentStrategyIndex+1<this.searchStrategies.length?this.currentStrategyIndex++:this.currentStrategyIndex=0,this.clearSearchInput(),this.setCurrentStrategy(),this.setIsQueryLanguageSearch(),this.setAutocomplete())}canChangeStrategy(){return this.searchStrategies.length>1}initSuggestions(){this.jqlSuggestions||(this.jqlSuggestions=this.elementRef.nativeElement.querySelector(".suggestions"),null!==this.jqlSuggestions&&(this.jqlSuggestions&&this.jqlSuggestions.addEventListener("click",this.detectInputChanges.bind(this)),this.renderer.setStyle(this.jqlSuggestions,"display","block")))}initSearchStrategies(){this.searchStrategies=this.queryLanguageStrategy.getStrategies()}isSuggestionsDropdownVisible(){return!!this.jqlSuggestions&&"none"!==this.jqlSuggestions.style.display}listenToCloseDropdownEvent(){(0,K.R)(this.form.nativeElement,"keydown").pipe((0,k.h)(_e=>"Escape"===_e.key),(0,G.R)(this.removeListeners$)).subscribe(_e=>{this.isSuggestionsDropdownVisible()&&_e.stopPropagation()})}onInputValueChange(){this.subscriptions.add(this.searchForm.get(this.controlName).valueChanges.pipe((0,$.b)(this.SEARCH_DEBOUNCE_TIME),(0,o.x)()).subscribe(_e=>{this.queryLanguageParser&&this.checkQueryLanguageParseErrors(_e)}))}initializeQueryParser(){this.subscriptions.add(this.searchResource.getAutocompleteData().subscribe(_e=>{this.autocompleteData=_e,this.initAutocomplete(),this.setAutocomplete(),this.queryLanguageParser.setAutoCompleteData(this.autocompleteData.reservedWords)}))}setCurrentStrategy(){this.currentStrategy=this.searchStrategies[this.currentStrategyIndex]}setIsQueryLanguageSearch(){this.isQueryLanguageSearch=this.currentStrategy.isQueryLanguageSearch}initForm(){this.lozengeTooltip=this.searchStrategies.length>1?"Change mode":""}initAutocomplete(){this.queryLanguageAutocompleteService.init("query-search","query-search-switcher",this.autocompleteData)}setAutocomplete(){this.isQueryLanguageSearch?this.queryLanguageAutocompleteService.enable("query-search"):this.queryLanguageAutocompleteService.disable("query-search")}checkQueryLanguageParseErrors(_e){this.queryLanguageParser.parse(_e),this.queryLanguageParseError=this.queryLanguageParser.getParseError(),this.isQueryLanguageSearch&&this.setCurrentStrategyColor(_e),this.changeDetectorRef.detectChanges()}removeOutline(){this.isActive=!1}clearSearchInput(){this.inputRef.nativeElement.value=""}setCurrentStrategyColor(_e){this.currentStrategy.color=""===_e?"default":this.queryLanguageParseError?"red":"green"}}return _t.\u0275fac=function(_e){return new(_e||_t)(t.Y36(t.sBO),t.Y36(se.U,8),t.Y36(pe.Z,8),t.Y36(ve.O,8),t.Y36(Ce.Q,8),t.Y36(t.Qsj),t.Y36(t.SBq))},_t.\u0275cmp=t.Xpm({type:_t,selectors:[["sp-query-language-search"]],viewQuery:function(_e,ke){if(1&_e&&(t.Gf(Ve,7),t.Gf(Ue,7)),2&_e){let nt;t.iGM(nt=t.CRH())&&(ke.form=nt.first),t.iGM(nt=t.CRH())&&(ke.inputRef=nt.first)}},inputs:{searchForm:"searchForm",controlName:"controlName"},decls:12,vars:19,consts:[["tabindex","0","novalidate","",1,"sp-search-container","sp-form-control",3,"formGroup","click","sp-click-outside"],["form",""],[1,"sp-search-content"],["id","query-search-switcher",1,"sp-search-lozenge",3,"color","spTooltipEnabled","spTooltip","spTooltipGravity","click"],["type","text","id","query-search",1,"sp-search-input",3,"placeholder","formControlName","focus","focusout"],["searchInput",""],[1,"sp-search-icons"],[4,"ngIf"],[1,"fa","fa-save",3,"spTooltip","spTooltipGravity"]],template:function(_e,ke){1&_e&&(t.TgZ(0,"div",0,1),t.NdJ("click",function(){return ke.addOutline()})("sp-click-outside",function(){return ke.onClickOutsideForm()}),t.TgZ(2,"div",2),t.TgZ(3,"sp-lozenge",3),t.NdJ("click",function(){return ke.changeStrategy()}),t.ALo(4,"spRichTextI18n"),t._uU(5),t.ALo(6,"spL10nText"),t.qZA(),t.TgZ(7,"input",4,5),t.NdJ("focus",function(){return ke.initSuggestions()})("focusout",function(){return ke.onClickOutsideForm()}),t.ALo(9,"spL10nText"),t.qZA(),t.TgZ(10,"div",6),t.YNc(11,xe,3,4,"span",7),t.qZA(),t.qZA(),t.qZA()),2&_e&&(t.ekj("sp-outline",ke.isActive),t.Q6J("formGroup",ke.searchForm),t.xp6(3),t.ekj("sp-strategy-change-possible",ke.canChangeStrategy()),t.Q6J("color",ke.currentStrategy.color)("spTooltipEnabled",!!ke.lozengeTooltip)("spTooltip",t.lcZ(4,13,ke.lozengeTooltip))("spTooltipGravity",ke.gravity.WEST),t.xp6(2),t.hij(" ",t.lcZ(6,15,ke.currentStrategy.name)," "),t.xp6(2),t.Q6J("placeholder",t.lcZ(9,17,ke.currentStrategy.placeholder))("formControlName",ke.controlName),t.xp6(4),t.Q6J("ngIf",ke.currentStrategy.saveAsQuickFilterEnabled))},directives:[n.JL,n.sg,ye._,de.H,B.i9,n.Fj,n.JJ,n.u,y.O5],pipes:[Ie.d,He.L],styles:["sp-query-language-search .sp-search-container{border:2px solid var(--gray-30);border-radius:var(--border-radius-m);min-width:300px;padding:6px 10px;flex:auto}sp-query-language-search .sp-search-container.sp-outline{background:var(--color-bg);box-shadow:none;border:2px solid var(--blue-100)}sp-query-language-search .sp-search-container input{background:transparent}sp-query-language-search .sp-search-container .sp-search-content{display:flex;align-items:center;justify-content:space-between;line-height:16px}sp-query-language-search .sp-search-container .sp-search-content .sp-search-lozenge.sp-strategy-change-possible{cursor:pointer}sp-query-language-search .sp-search-container .sp-search-content .sp-search-jql-query-correct,sp-query-language-search .sp-search-container .sp-search-content .sp-search-jql-query-error{margin-left:5px}sp-query-language-search .sp-search-container .sp-search-content .sp-search-jql-query-correct{color:var(--success)}sp-query-language-search .sp-search-container .sp-search-content .sp-search-jql-query-error{color:var(--danger)}sp-query-language-search .sp-search-container .sp-search-content .sp-search-input{border:0;color:var(--gray-800);flex-grow:1;line-height:16px;margin-left:10px;padding:0}sp-query-language-search .sp-search-container .sp-search-content .sp-search-input:focus{outline:none}sp-query-language-search .sp-search-container .sp-search-content .sp-search-icons span{transition:all .2s ease-in-out;line-height:16px;color:var(--gray-30);margin-left:10px}sp-query-language-search .sp-search-container .sp-search-content .sp-search-icons span:last-child{margin-left:7px}sp-query-language-search .sp-search-container .sp-search-content .sp-search-icons span:hover{cursor:pointer;color:var(--primary);transition:all .2s ease-in-out}\n"],encapsulation:2,changeDetection:0}),_t})();var tt=e(5245),lt=e(71783),Mt=e(97265),ne=e(28606),De=e(9402),Ye=e(34909),Qe=e(24133),Ke=e(29634),it=e(126),Se=e(7341),Ct=e(23224),Lt=e(24950);const Vt=["componentOutlet"];function St(_t,sn){}function $t(_t,sn){if(1&_t&&(t.TgZ(0,"label",10),t._uU(1),t.ALo(2,"spL10nText"),t.qZA()),2&_t){const _e=t.oxw(2);t.ekj("sp-required",_e.required),t.Q6J("id",_e.id+"-label"),t.xp6(1),t.Oqu(t.lcZ(2,4,_e.label))}}function yt(_t,sn){if(1&_t&&(t.TgZ(0,"span",11),t._uU(1),t.ALo(2,"spL10nText"),t.qZA()),2&_t){const _e=t.oxw(2);t.xp6(1),t.Oqu(t.lcZ(2,1,_e.unitLabel))}}function Ft(_t,sn){if(1&_t&&(t.TgZ(0,"div",12),t._UZ(1,"sp-rich-text",13),t.qZA()),2&_t){const _e=t.oxw(2);t.xp6(1),t.Q6J("config",_e.description)}}function ot(_t,sn){if(1&_t){const _e=t.EpF();t.TgZ(0,"div"),t.YNc(1,$t,3,6,"label",4),t.TgZ(2,"div",5),t.TgZ(3,"input",6),t.NdJ("change",function(){t.CHM(_e);const nt=t.oxw();return nt.formChanged(nt.form)})("blur",function(){return t.CHM(_e),t.oxw().onBlur()}),t.ALo(4,"spL10nText"),t.qZA(),t._UZ(5,"sp-form-validation-messages",7),t.qZA(),t.YNc(6,yt,3,3,"span",8),t.YNc(7,Ft,2,1,"div",9),t.qZA()}if(2&_t){const _e=t.oxw();t.Tol("sp-form-group "+_e.getClassFormFieldName()),t.xp6(1),t.Q6J("ngIf",_e.label),t.xp6(2),t.Q6J("formControlName",_e.controlNames[0])("id",_e.id)("ngClass",_e.className),t.uIk("placeholder",t.lcZ(4,10,_e.placeholder)),t.xp6(2),t.Q6J("formControlErrors",_e.getFormControlForValidationMessages()),t.xp6(1),t.Q6J("ngIf",_e.unitLabel),t.xp6(1),t.Q6J("ngIf",_e.description)}}function Me(_t,sn){if(1&_t&&(t.TgZ(0,"label"),t._uU(1),t.qZA()),2&_t){const _e=t.oxw(2);t.ekj("sp-required",_e.required),t.xp6(1),t.Oqu(_e.label)}}function Ze(_t,sn){if(1&_t&&(t.TgZ(0,"div",12),t._UZ(1,"sp-rich-text",13),t.qZA()),2&_t){const _e=t.oxw(2);t.xp6(1),t.Q6J("config",_e.description)}}function Ne(_t,sn){if(1&_t){const _e=t.EpF();t.TgZ(0,"div"),t.YNc(1,Me,2,3,"label",14),t.TgZ(2,"div",5),t.TgZ(3,"input",15),t.NdJ("change",function(){t.CHM(_e);const nt=t.oxw();return nt.formChanged(nt.form)})("blur",function(){return t.CHM(_e),t.oxw().onBlur()}),t.qZA(),t.TgZ(4,"sp-icon",16),t.NdJ("click",function(){return t.CHM(_e),t.oxw().togglePasswordVisibility()}),t.qZA(),t._UZ(5,"sp-form-validation-messages",7),t.qZA(),t.YNc(6,Ze,2,1,"div",9),t.qZA()}if(2&_t){const _e=t.oxw();t.Tol("sp-form-group "+_e.getClassFormFieldName()),t.xp6(1),t.Q6J("ngIf",_e.label),t.xp6(2),t.Q6J("formControlName",_e.controlNames[0])("id",_e.id)("type",_e.isPasswordVisible?"text":"password")("ngClass",_e.className),t.uIk("placeholder",_e.placeholder),t.xp6(1),t.Q6J("name",_e.isPasswordVisible?"eye-slash":"eye"),t.xp6(1),t.Q6J("formControlErrors",_e.getFormControlForValidationMessages()),t.xp6(1),t.Q6J("ngIf",_e.description)}}function we(_t,sn){if(1&_t&&(t.TgZ(0,"label",10),t._uU(1),t.ALo(2,"spL10nText"),t.qZA()),2&_t){const _e=t.oxw(2);t.ekj("sp-required",_e.required),t.Q6J("id",_e.id+"-label"),t.xp6(1),t.Oqu(t.lcZ(2,4,_e.label))}}function At(_t,sn){if(1&_t&&(t.TgZ(0,"div",12),t._UZ(1,"sp-rich-text",13),t.qZA()),2&_t){const _e=t.oxw(2);t.xp6(1),t.Q6J("config",_e.description)}}function Rt(_t,sn){if(1&_t){const _e=t.EpF();t.TgZ(0,"div"),t.YNc(1,we,3,6,"label",4),t.TgZ(2,"div",17),t.TgZ(3,"input",18),t.NdJ("blur",function(){return t.CHM(_e),t.oxw().onBlur()})("change",function(){t.CHM(_e);const nt=t.oxw();return nt.formChanged(nt.form)})("keypress",function(nt){return t.CHM(_e),t.oxw().checkNumber(nt)}),t.ALo(4,"spL10nText"),t.ALo(5,"spRichTextI18n"),t.qZA(),t.TgZ(6,"span",11),t._uU(7),t.ALo(8,"spL10nText"),t.qZA(),t._UZ(9,"sp-form-validation-messages",19),t.qZA(),t.YNc(10,At,2,1,"div",9),t.qZA()}if(2&_t){const _e=t.oxw();t.Tol("sp-form-group "+_e.getClassFormFieldName()),t.xp6(1),t.Q6J("ngIf",_e.label),t.xp6(2),t.Q6J("formControlName",_e.controlNames[0])("id",_e.id)("spTooltipEnabled",!!_e.tooltipText)("spTooltip",t.lcZ(5,14,_e.tooltipText)),t.uIk("placeholder",t.lcZ(4,12,_e.placeholder)),t.xp6(4),t.Oqu(t.lcZ(8,16,_e.unitLabel)),t.xp6(2),t.Q6J("formControlErrors",_e.getFormControlForValidationMessages())("withValidationErrorTimeout",_e.withValidationErrorTimeout),t.xp6(1),t.Q6J("ngIf",_e.description)}}function zt(_t,sn){if(1&_t&&(t.TgZ(0,"label",10),t._uU(1),t.ALo(2,"spL10nText"),t.qZA()),2&_t){const _e=t.oxw(2);t.ekj("sp-required",_e.required),t.Q6J("id",_e.id+"-label"),t.xp6(1),t.Oqu(t.lcZ(2,4,_e.label))}}function Yt(_t,sn){if(1&_t&&(t.TgZ(0,"div",12),t._UZ(1,"sp-rich-text",13),t.qZA()),2&_t){const _e=t.oxw(2);t.xp6(1),t.Q6J("config",_e.description)}}function ln(_t,sn){if(1&_t){const _e=t.EpF();t.TgZ(0,"div"),t.YNc(1,zt,3,6,"label",4),t.TgZ(2,"div",5),t.TgZ(3,"textarea",20),t.NdJ("change",function(){t.CHM(_e);const nt=t.oxw();return nt.formChanged(nt.form)})("blur",function(){return t.CHM(_e),t.oxw().onBlur()}),t.ALo(4,"spL10nText"),t.ALo(5,"spRichTextI18n"),t._uU(6,"\t\t\t\t\t"),t.qZA(),t._UZ(7,"sp-form-validation-messages",7),t.qZA(),t.YNc(8,Yt,2,1,"div",9),t.qZA()}if(2&_t){const _e=t.oxw();t.Tol("sp-form-group "+_e.getClassFormFieldName()),t.xp6(1),t.Q6J("ngIf",_e.label),t.xp6(2),t.Q6J("formControlName",_e.controlNames[0])("id",_e.id)("spTooltipEnabled",!!_e.tooltipText)("spTooltip",t.lcZ(5,12,_e.tooltipText)),t.uIk("placeholder",t.lcZ(4,10,_e.placeholder)),t.xp6(4),t.Q6J("formControlErrors",_e.getFormControlForValidationMessages()),t.xp6(1),t.Q6J("ngIf",_e.description)}}function pn(_t,sn){if(1&_t&&(t.TgZ(0,"label",10),t._uU(1),t.ALo(2,"spL10nText"),t.qZA()),2&_t){const _e=t.oxw(2);t.ekj("sp-required",_e.required),t.Q6J("id",_e.id+"-label"),t.xp6(1),t.Oqu(t.lcZ(2,4,_e.label))}}function nn(_t,sn){if(1&_t&&(t.TgZ(0,"div",12),t._UZ(1,"sp-rich-text",13),t.qZA()),2&_t){const _e=t.oxw(2);t.xp6(1),t.Q6J("config",_e.description)}}function hn(_t,sn){if(1&_t){const _e=t.EpF();t.TgZ(0,"div"),t.YNc(1,pn,3,6,"label",4),t.TgZ(2,"div",5),t.TgZ(3,"sp-query-language-search",21),t.NdJ("change",function(){t.CHM(_e);const nt=t.oxw();return nt.formChanged(nt.form)}),t.qZA(),t._UZ(4,"sp-form-validation-messages",7),t.qZA(),t.YNc(5,nn,2,1,"div",9),t.qZA()}if(2&_t){const _e=t.oxw();t.Tol("sp-form-group "+_e.getClassFormFieldName()),t.xp6(1),t.Q6J("ngIf",_e.label),t.xp6(2),t.Q6J("searchForm",_e.form)("controlName",_e.controlNames[0]),t.xp6(1),t.Q6J("formControlErrors",_e.getFormControlForValidationMessages()),t.xp6(1),t.Q6J("ngIf",_e.description)}}function xt(_t,sn){if(1&_t&&(t.TgZ(0,"label",10),t._uU(1),t.ALo(2,"spL10nText"),t.qZA()),2&_t){const _e=t.oxw(2);t.ekj("sp-required",_e.required),t.Q6J("id",_e.id+"-label"),t.xp6(1),t.Oqu(t.lcZ(2,4,_e.label))}}function Zt(_t,sn){if(1&_t){const _e=t.EpF();t.TgZ(0,"div",5),t.YNc(1,xt,3,6,"label",4),t.TgZ(2,"sp-form-control-checkbox",22),t.NdJ("change",function(){t.CHM(_e);const nt=t.oxw();return nt.formChanged(nt.form)}),t.ALo(3,"spRichTextI18n"),t.qZA(),t._UZ(4,"sp-form-validation-messages",7),t.qZA()}if(2&_t){const _e=t.oxw();t.Tol("sp-form-group "+_e.getClassFormFieldName()),t.xp6(1),t.Q6J("ngIf",_e.label),t.xp6(1),t.Q6J("formControlName",_e.controlNames[0])("id",_e.id)("spTooltipEnabled",!!_e.tooltipText)("spTooltip",t.lcZ(3,9,_e.tooltipText))("label",_e.description),t.xp6(2),t.Q6J("formControlErrors",_e.getFormControlForValidationMessages())}}function je(_t,sn){if(1&_t&&(t._UZ(0,"sp-form-field-label",28),t.ALo(1,"spL10nText")),2&_t){const _e=t.oxw(2);t.Q6J("label",t.lcZ(1,3,_e.label))("formFieldLabelStrategy",_e.formFieldLabelStrategyEnum.NONE)("required",_e.required)}}function Le(_t,sn){if(1&_t&&(t.TgZ(0,"div",29),t._UZ(1,"sp-rich-text",13),t.qZA()),2&_t){const _e=t.oxw(2);t.xp6(1),t.Q6J("config",_e.description)}}function vt(_t,sn){if(1&_t){const _e=t.EpF();t.TgZ(0,"div"),t.TgZ(1,"div",23),t.TgZ(2,"div",24),t.TgZ(3,"sp-checkbox-swiper",25),t.NdJ("change",function(){t.CHM(_e);const nt=t.oxw();return nt.formChanged(nt.form)}),t.ALo(4,"spRichTextI18n"),t.qZA(),t.qZA(),t.YNc(5,je,2,5,"sp-form-field-label",26),t.qZA(),t.YNc(6,Le,2,1,"div",27),t.qZA()}if(2&_t){const _e=t.oxw();t.Tol("sp-form-group "+_e.getClassFormFieldName()),t.xp6(3),t.Q6J("idPrefix",_e.id)("spTooltipEnabled",!!_e.tooltipText)("spTooltip",t.lcZ(4,8,_e.tooltipText))("formControlName",_e.controlNames[0]),t.xp6(2),t.Q6J("ngIf",_e.label),t.xp6(1),t.Q6J("ngIf",_e.description)}}function qe(_t,sn){if(1&_t&&(t.TgZ(0,"label",10),t._uU(1),t.ALo(2,"spL10nText"),t.qZA()),2&_t){const _e=t.oxw(2);t.ekj("sp-required",_e.required),t.Q6J("id",_e.id+"-label"),t.xp6(1),t.hij(" ",t.lcZ(2,4,_e.label)," ")}}function Et(_t,sn){if(1&_t&&(t.TgZ(0,"div",12),t._UZ(1,"sp-rich-text",13),t.qZA()),2&_t){const _e=t.oxw(2);t.xp6(1),t.Q6J("config",_e.description)}}function st(_t,sn){if(1&_t){const _e=t.EpF();t.TgZ(0,"div"),t.YNc(1,qe,3,6,"label",4),t.TgZ(2,"div",30),t.TgZ(3,"sp-select",31),t.NdJ("selectedOptionChanged",function(){t.CHM(_e);const nt=t.oxw();return nt.formChanged(nt.form)}),t.qZA(),t._UZ(4,"sp-form-validation-messages",7),t.qZA(),t.YNc(5,Et,2,1,"div",9),t.qZA()}if(2&_t){const _e=t.oxw();t.Tol("sp-form-group "+_e.getClassFormFieldName()),t.xp6(1),t.Q6J("ngIf",_e.label),t.xp6(2),t.Q6J("id",_e.id)("formControlName",_e.controlNames[0])("configuration",_e.config.config)("options",_e.config.options)("selectedOptions",_e.config.selectedOptions),t.xp6(1),t.Q6J("formControlErrors",_e.getFormControlForValidationMessages()),t.xp6(1),t.Q6J("ngIf",_e.description)}}function Nt(_t,sn){if(1&_t&&(t.TgZ(0,"label",10),t._uU(1),t.ALo(2,"spL10nText"),t.qZA()),2&_t){const _e=t.oxw(2);t.ekj("sp-required",_e.required),t.Q6J("id",_e.id+"-label"),t.xp6(1),t.Oqu(t.lcZ(2,4,_e.label))}}function Je(_t,sn){if(1&_t&&(t.TgZ(0,"div",12),t._UZ(1,"sp-rich-text",13),t.qZA()),2&_t){const _e=t.oxw(2);t.xp6(1),t.Q6J("config",_e.description)}}function Ot(_t,sn){if(1&_t&&(t.TgZ(0,"div"),t.YNc(1,Nt,3,6,"label",4),t.TgZ(2,"div",5),t._UZ(3,"sp-select",32),t._UZ(4,"sp-form-validation-messages",7),t.qZA(),t.YNc(5,Je,2,1,"div",9),t.qZA()),2&_t){const _e=t.oxw();t.Tol("sp-form-group "+_e.getClassFormFieldName()),t.xp6(1),t.Q6J("ngIf",_e.label),t.xp6(2),t.Q6J("id",_e.id)("formControlName",_e.controlNames[0])("configuration",_e.config.config)("options",_e.config.options),t.xp6(1),t.Q6J("formControlErrors",_e.getFormControlForValidationMessages()),t.xp6(1),t.Q6J("ngIf",_e.description)}}function fe(_t,sn){if(1&_t&&(t._UZ(0,"sp-form-field-label",36),t.ALo(1,"spL10nText")),2&_t){const _e=t.oxw(2);t.Q6J("label",t.lcZ(1,2,_e.label))("required",_e.required)}}function Ge(_t,sn){if(1&_t&&(t.TgZ(0,"div"),t.TgZ(1,"div",33),t.YNc(2,fe,2,4,"sp-form-field-label",34),t._UZ(3,"sp-lazy-select",35),t.qZA(),t.qZA()),2&_t){const _e=t.oxw();t.Tol("sp-field-group "+_e.getClassFormFieldName()),t.xp6(2),t.Q6J("ngIf",_e.label),t.xp6(1),t.Q6J("controlName",_e.controlNames[0])("formControlName",_e.controlNames[0])("selectConfiguration",_e.config.config)}}function Tt(_t,sn){if(1&_t&&(t.TgZ(0,"label",10),t._uU(1),t.ALo(2,"spL10nText"),t.qZA()),2&_t){const _e=t.oxw(2);t.ekj("sp-required",_e.required),t.Q6J("id",_e.id+"-label"),t.xp6(1),t.Oqu(t.lcZ(2,4,_e.label))}}function Pe(_t,sn){if(1&_t&&(t.TgZ(0,"div",12),t._UZ(1,"sp-rich-text",13),t.qZA()),2&_t){const _e=t.oxw(2);t.xp6(1),t.Q6J("config",_e.description)}}function pt(_t,sn){if(1&_t&&(t.TgZ(0,"div"),t.YNc(1,Tt,3,6,"label",4),t.TgZ(2,"div",37),t._UZ(3,"input",38),t.ALo(4,"spL10nText"),t.ALo(5,"spFormFieldColorPickerInputIdCreator"),t._UZ(6,"sp-color-picker",39),t._UZ(7,"sp-form-validation-messages",40),t.qZA(),t.YNc(8,Pe,2,1,"div",9),t.qZA()),2&_t){const _e=t.oxw();t.Tol("sp-form-group "+_e.getClassFormFieldName()),t.xp6(1),t.Q6J("ngIf",_e.label),t.xp6(2),t.Q6J("formControlName",_e.controlNames[0])("id",t.lcZ(5,12,_e.id)),t.uIk("placeholder",t.lcZ(4,10,_e.placeholder)),t.xp6(3),t.Q6J("id",_e.id)("formControlName",_e.controlNames[1]),t.xp6(1),t.Q6J("formControlErrors",_e.getFormControlForValidationMessages()),t.xp6(1),t.Q6J("ngIf",_e.description)}}function Q(_t,sn){if(1&_t&&(t.TgZ(0,"label",10),t._uU(1),t.ALo(2,"spL10nText"),t.qZA()),2&_t){const _e=t.oxw(2);t.ekj("sp-required",_e.required),t.Q6J("id",_e.id+"-label"),t.xp6(1),t.Oqu(t.lcZ(2,4,_e.label))}}function Ee(_t,sn){if(1&_t&&(t.TgZ(0,"div",12),t._UZ(1,"sp-rich-text",13),t.qZA()),2&_t){const _e=t.oxw(2);t.xp6(1),t.Q6J("config",_e.description)}}function ue(_t,sn){if(1&_t){const _e=t.EpF();t.TgZ(0,"div"),t.YNc(1,Q,3,6,"label",4),t.TgZ(2,"div",41),t.TgZ(3,"label",42),t.TgZ(4,"div",43),t._uU(5),t.ALo(6,"spL10nText"),t.qZA(),t.qZA(),t.TgZ(7,"button",44),t.NdJ("click",function(){return t.CHM(_e),t.oxw().onClickInputFileUploadButton()}),t._uU(8),t.ALo(9,"spL10nText"),t.qZA(),t.TgZ(10,"input",45),t.NdJ("change",function(nt){t.CHM(_e);const me=t.oxw();return me.onChangeInputFile(nt,me.controlNames[0])}),t.qZA(),t._UZ(11,"sp-form-validation-messages",7),t.qZA(),t.YNc(12,Ee,2,1,"div",9),t.qZA()}if(2&_t){const _e=t.oxw();t.Tol("sp-form-group "+_e.getClassFormFieldName()),t.xp6(1),t.Q6J("ngIf",_e.label),t.xp6(2),t.Q6J("id",_e.id+"-label")("for",_e.id),t.xp6(2),t.hij(" ",_e.getFileName(_e.controlNames[0])?_e.getFileName(_e.controlNames[0]):t.lcZ(6,11,"SPT_COMMON_FORM_FILE_PICKER_LABEL_NO_FILE")," "),t.xp6(3),t.hij(" ",t.lcZ(9,13,"SPT_COMMON_FORM_FILE_PICKER_BUTTON_BROWSE")," "),t.xp6(2),t.s9C("accept",_e.config&&_e.config.accept?_e.config.accept(_e.getFileName(_e.controlNames[0])):""),t.Q6J("id",_e.id),t.xp6(1),t.Q6J("formControlErrors",_e.getFormControlForValidationMessages()),t.xp6(1),t.Q6J("ngIf",_e.description)}}function be(_t,sn){if(1&_t&&(t.TgZ(0,"label",10),t._uU(1),t.ALo(2,"spL10nText"),t.qZA()),2&_t){const _e=t.oxw(2);t.ekj("sp-required",_e.required),t.Q6J("id",_e.id+"-label"),t.xp6(1),t.Oqu(t.lcZ(2,4,_e.label))}}function mt(_t,sn){if(1&_t&&(t.TgZ(0,"div"),t.YNc(1,be,3,6,"label",4),t.TgZ(2,"div",46),t._UZ(3,"sp-toggle-button-group-form",47),t.qZA(),t.qZA()),2&_t){const _e=t.oxw();t.Tol("sp-form-group "+_e.getClassFormFieldName()),t.xp6(1),t.Q6J("ngIf",_e.label),t.xp6(2),t.Q6J("formControlName",_e.controlNames[0])("configuration",_e.config.config)}}function Ut(_t,sn){if(1&_t&&(t.TgZ(0,"label",10),t._uU(1),t.ALo(2,"spL10nText"),t.qZA()),2&_t){const _e=t.oxw(2);t.ekj("sp-required",_e.required),t.Q6J("id",_e.id+"-label"),t.xp6(1),t.Oqu(t.lcZ(2,4,_e.label))}}function Xt(_t,sn){if(1&_t&&(t.TgZ(0,"div",12),t._UZ(1,"sp-rich-text",13),t.qZA()),2&_t){const _e=t.oxw(2);t.xp6(1),t.Q6J("config",_e.description)}}function en(_t,sn){if(1&_t&&(t.TgZ(0,"div"),t.YNc(1,Ut,3,6,"label",4),t.TgZ(2,"div",5),t._UZ(3,"sp-datepicker-one",48),t._UZ(4,"sp-form-validation-messages",7),t.qZA(),t.YNc(5,Xt,2,1,"div",9),t.qZA()),2&_t){const _e=t.oxw();t.Tol("sp-form-group "+_e.getClassFormFieldName()),t.xp6(1),t.Q6J("ngIf",_e.label),t.xp6(2),t.Q6J("id",_e.id)("formControlName",_e.controlNames[0])("placeholder",_e.placeholder),t.xp6(1),t.Q6J("formControlErrors",_e.getFormControlForValidationMessages()),t.xp6(1),t.Q6J("ngIf",_e.description)}}function mn(_t,sn){if(1&_t&&(t.TgZ(0,"label",10),t._uU(1),t.ALo(2,"spL10nText"),t.qZA()),2&_t){const _e=t.oxw(2);t.ekj("sp-required",_e.required),t.Q6J("id",_e.id+"-label"),t.xp6(1),t.Oqu(t.lcZ(2,4,_e.label))}}function In(_t,sn){if(1&_t){const _e=t.EpF();t.TgZ(0,"div"),t.YNc(1,mn,3,6,"label",4),t.TgZ(2,"div",49),t.TgZ(3,"sp-colored-icon-picker-control",50),t.NdJ("change",function(){t.CHM(_e);const nt=t.oxw();return nt.formChanged(nt.form)}),t.qZA(),t.qZA(),t.qZA()}if(2&_t){const _e=t.oxw();t.Tol("sp-form-group "+_e.getClassFormFieldName()),t.xp6(1),t.Q6J("ngIf",_e.label),t.xp6(2),t.Q6J("id",_e.id)("formControlName",_e.controlNames[0])}}function Un(_t,sn){if(1&_t&&(t.TgZ(0,"label",10),t._uU(1),t.ALo(2,"spL10nText"),t.qZA()),2&_t){const _e=t.oxw(2);t.ekj("sp-required",_e.required),t.Q6J("id",_e.id+"-label"),t.xp6(1),t.Oqu(t.lcZ(2,4,_e.label))}}function Jn(_t,sn){if(1&_t){const _e=t.EpF();t.TgZ(0,"div"),t.YNc(1,Un,3,6,"label",4),t.TgZ(2,"div",49),t.TgZ(3,"sp-icon-picker-control",50),t.NdJ("change",function(){t.CHM(_e);const nt=t.oxw();return nt.formChanged(nt.form)}),t.qZA(),t.qZA(),t.qZA()}if(2&_t){const _e=t.oxw();t.Tol("sp-form-group "+_e.getClassFormFieldName()),t.xp6(1),t.Q6J("ngIf",_e.label),t.xp6(2),t.Q6J("id",_e.id)("formControlName",_e.controlNames[0])}}function zn(_t,sn){if(1&_t&&(t.TgZ(0,"label",10),t._uU(1),t.ALo(2,"spL10nText"),t.qZA()),2&_t){const _e=t.oxw(2);t.ekj("sp-required",_e.required),t.Q6J("id",_e.id+"-label"),t.xp6(1),t.Oqu(t.lcZ(2,4,_e.label))}}function An(_t,sn){if(1&_t){const _e=t.EpF();t.TgZ(0,"div"),t.YNc(1,zn,3,6,"label",4),t.TgZ(2,"sp-form-radio-group",51),t.NdJ("change",function(){t.CHM(_e);const nt=t.oxw();return nt.formChanged(nt.form)}),t.qZA(),t.qZA()}if(2&_t){const _e=t.oxw();t.Tol("sp-form-group "+_e.getClassFormFieldName()),t.xp6(1),t.Q6J("ngIf",_e.label),t.xp6(1),t.Q6J("controlName",_e.controlNames[0])("id",_e.id)("formGroup",_e.form)("radioGroup",_e.config)}}function to(_t,sn){if(1&_t&&(t.TgZ(0,"label"),t._uU(1),t.ALo(2,"spL10nText"),t.qZA()),2&_t){const _e=t.oxw(2);t.ekj("sp-required",_e.required),t.xp6(1),t.Oqu(t.lcZ(2,3,_e.label))}}function no(_t,sn){if(1&_t&&(t.TgZ(0,"div",12),t._UZ(1,"sp-rich-text",13),t.qZA()),2&_t){const _e=t.oxw(2);t.xp6(1),t.Q6J("config",_e.description)}}function uo(_t,sn){if(1&_t&&(t.TgZ(0,"div"),t.YNc(1,to,3,5,"label",14),t.TgZ(2,"div",5),t.GkF(3,null,52),t._UZ(5,"sp-form-validation-messages",7),t.qZA(),t.YNc(6,no,2,1,"div",9),t.qZA()),2&_t){const _e=t.oxw();t.Tol("sp-form-group "+_e.getClassFormFieldName()),t.xp6(1),t.Q6J("ngIf",_e.label),t.xp6(4),t.Q6J("formControlErrors",_e.getFormControlForValidationMessages()),t.xp6(1),t.Q6J("ngIf",_e.description)}}const $n=new t.OlP("FORM_FIELD_CONTROL_NAME"),kn=new t.OlP("FORM_FIELD_CONTROL_TYPE"),ro=new t.OlP("FORM_FIELD_CONTROL_VALUE"),Dt=new t.OlP("FORM_FIELD_CONTROL_LABEL"),Cn=new t.OlP("FORM_FIELD_CONTROL_UNIT_LABEL"),Fe=new t.OlP("FORM_FIELD_CONTROL_FLEX"),Pt=new t.OlP("FORM_FIELD_CONTROL_VALIDATORS"),tn=new t.OlP("FORM_FIELD_CONTROL_PLACEHOLDER"),Sn=new t.OlP("FORM_FIELD_CONTROL_CONFIG"),qt=new t.OlP("FORM_FIELD_CONTROL_CLEARABLE"),cn=new t.OlP("FORM_FIELD_CONTROL_DESCRIPTION"),rn=new t.OlP("FORM_FIELD_CONTROL_CLASS_NAME"),un=new t.OlP("FORM_FIELD_CONTROL_ID"),Hn=new t.OlP("FORM_FIELD_CONTROL_DISABLED"),oo=new t.OlP("FORM_FIELD_CONTROL_ON_CHANGE"),qn=new t.OlP("FORM_FIELD_TOOLTIP_TEXT"),bn=new t.OlP("FORM_FIELD_IS_RICH_TEXT"),so=new t.OlP("FORM_FIELD_NEGATIVE_NUMBER_ENABLED"),Yn=new t.OlP("FORM_FIELD_WITH_VALIDATION_ERROR_TIMEOUT");let Do=(()=>{class _t extends C.H{constructor(_e,ke,nt,me,ht,Wt,It,at,wt,jt,Tn,Fn,Nn,Wn,Xn,lo,Vn,rt,an,We,Gt,_n,ao,go,_o,vo,Oo){super(_e,ke),this.formBuilder=nt,this.changeDetector=me,this.formFieldIdGenerator=ht,this.xssSanitizer=Wt,this.componentFactoryResolver=It,this.controlNames=at,this.type=wt,this.fieldTypeProviders=jt,this.value=Tn,this.label=Fn,this.unitLabel=Nn,this.flex=Wn,this.validators=Xn,this.placeholder=lo,this.config=Vn,this.clearable=rt,this.description=an,this.id=We,this.disabled=Gt,this.formOnChange$=_n,this.tooltipText=ao,this.isRichText=go,this.className=_o,this.negativeNumberEnabled=vo,this.withValidationErrorTimeout=Oo,this.formField=h.E,this.required=!1,this.formFieldLabelStrategyEnum=p.r,this.isPasswordVisible=!1,this.visible=!0,this.validityStatusChange$=new s.t(1),this.addXssValidator(),this.initRequired(),this.generateFieldIdIfAbsent(),this.className=_o||""}ngOnInit(){var _e;const ke={};this.controlNames.forEach((nt,me)=>{if(ke[nt]=[this.value?this.value[me]:""],this.validators){let Wt;Array.isArray(this.validators[me])?Wt=this.validators[me]:this.validators[me]&&!Array.isArray(this.validators[me])&&(Wt=this.validators),ke[nt].push(Wt)}}),this.form=this.formBuilder.group(ke),this.disabled&&this.controlNames.forEach(nt=>{this.form.controls[nt].disable()}),this.setFlexStyle(),this.formControl=this.form.controls[this.controlNames[0]],this.formControl.valueChanges.pipe((0,i.b)(nt=>{this.isRichText&&this.formControl.setValue(this.xssSanitizer.sanitize(nt),{onlySelf:!0,emitEvent:!1})}),this.takeUntilDestroy()).subscribe(()=>{this.changeDetector.detectChanges()}),this.formControl.statusChanges.pipe((0,r.U)(nt=>"VALID"===nt||"DISABLED"===nt),(0,a.O)("DISABLED"===this.formControl.status||this.formControl.valid),this.takeUntilDestroy()).subscribe(nt=>{this.isFormFieldValid=nt,this.validityStatusChange$.next(nt)}),(null===(_e=this.config)||void 0===_e?void 0:_e.visibility$)&&this.observeVisibility()}ngAfterViewInit(){this.setDefaultDisplayStatus(),this.initProvidedFieldTypes()}finalize(){this.destroyProvidedComponent()}checkNumber(_e){const ke=_e.charCode;this.negativeNumberEnabled||(8!==ke&&0!==ke&&ke<48||ke>57)&&_e.preventDefault()}getValue(){const _e=[];return this.controlNames.forEach(ke=>{_e.push(n.kI.compose(this.form.controls[ke].value))}),_e}setValue(_e){Array.isArray(_e)?this.controlNames.forEach((ke,nt)=>{this.form.controls[ke].setValue(_e[nt])}):this.controlNames.forEach(ke=>{this.form.controls[ke].setValue(_e)})}reset(){this.form.reset()}isFocusable(){return this.type!==h.E.CHECKBOX&&this.type!==h.E.SWIPER&&this.type!==h.E.NONE&&this.type!==h.E.SELECT}focus(){(this.type===h.E.COLOR_PICKER||this.type===h.E.TEXT||this.type===h.E.NUMBER)&&this.elementRef.nativeElement.querySelector("input.sp-form-control").focus({preventScroll:!0})}blur(){(this.type===h.E.COLOR_PICKER||this.type===h.E.TEXT||this.type===h.E.NUMBER)&&this.elementRef.nativeElement.querySelector("input.sp-form-control").blur({preventScroll:!0})}onBlur(){this.form.controls[this.controlNames[0]].updateValueAndValidity()}clearFocus(){(this.type===h.E.COLOR_PICKER||this.type===h.E.TEXT||this.type===h.E.NUMBER)&&(this.elementRef.nativeElement.querySelector("input.sp-form-control").blur(),this.form.markAsUntouched({onlySelf:!0}))}onClickInputFileUploadButton(){this.elementRef.nativeElement.querySelector("#"+this.id).click()}onChangeInputFile(_e,ke){const nt={};nt[ke]=_e.target.files[0],this.form.patchValue(nt)}getFileName(_e){const ke=this.form.controls[_e].value;if(null===ke)return null;switch(typeof ke){case"string":return ke;case"object":return ke.name;default:return null}}getFieldElementRef(){return this.elementRef}valueChanges(){return this.form.valueChanges}isValid(){return this.isFormFieldValid}validStatusChanges(){return this.validityStatusChange$.asObservable()}disable(){this.form.disable()}enable(){this.form.enable()}setDisplayStatus(_e){this.domManipulator.addHostStyle("display",_e?this.displayStyle:"none")}getFormControlForValidationMessages(){if(this.formControl)return{errors:this.formControl.errors,untouched:this.formControl.untouched,valid:this.formControl.valid}}formChanged(_e){this.formOnChange$&&this.formOnChange$.next(_e)}togglePasswordVisibility(){this.isPasswordVisible=!this.isPasswordVisible,this.changeDetector.detectChanges()}getClassFormFieldName(){return void 0!==h.E[this.type]?`sp-form-group--${h.E[this.type].toLocaleLowerCase()}`:""}observeVisibility(){this.config.visibility$.pipe((0,o.x)(),this.takeUntilDestroy()).subscribe(_e=>{this.visible=_e,this.changeDetector.detectChanges()})}initProvidedFieldTypes(){const _e=(this.fieldTypeProviders||[]).find(ke=>ke.type===this.type);if(_e){this.componentOutlet.clear();const ke=this.componentFactoryResolver.resolveComponentFactory(_e.component);this.providedComponentRef=this.componentOutlet.createComponent(ke),this.providedComponentRef.instance.id=this.id,this.providedComponentRef.instance.config=this.config,this.providedComponentRef.instance.formGroup=this.form,this.providedComponentRef.instance.formControlNames=this.controlNames}}destroyProvidedComponent(){this.providedComponentRef&&this.providedComponentRef.destroy()}setDefaultDisplayStatus(){this.displayStyle="none"===this.elementRef.nativeElement.style.display?"inherit":this.elementRef.nativeElement.style.display}addXssValidator(){if(this.isRichText)return;const _e=E.J.validateXssViolation();if(!this.validators)return void(this.validators=[[_e]]);let ke=!1;this.validators.forEach(nt=>{!Array.isArray(nt)||(nt.push(_e),ke=!0)}),ke||this.validators.push(_e)}initRequired(){this.validators&&this.validators.forEach(_e=>{Array.isArray(_e)?_e.forEach(ke=>{(ke===n.kI.required||ke.id===m.m)&&(this.required=!0)}):(_e===n.kI.required||_e.id===m.m)&&(this.required=!0)})}generateFieldIdIfAbsent(){(!this.id||0===this.id.length)&&(this.id=this.formFieldIdGenerator.getId())}setFlexStyle(){!this.flex||this.domManipulator.addHostStyle("flex",this.flex)}}return _t.\u0275fac=function(_e){return new(_e||_t)(t.Y36(t.SBq),t.Y36(t.Qsj),t.Y36(n.qu),t.Y36(t.sBO),t.Y36(T.s),t.Y36(v.X),t.Y36(t._Vd),t.Y36($n),t.Y36(kn),t.Y36(f.E,8),t.Y36(ro,8),t.Y36(Dt,8),t.Y36(Cn,8),t.Y36(Fe,8),t.Y36(Pt,8),t.Y36(tn,8),t.Y36(Sn,8),t.Y36(qt,8),t.Y36(cn,8),t.Y36(un,8),t.Y36(Hn,8),t.Y36(oo,8),t.Y36(qn,8),t.Y36(bn,8),t.Y36(rn,8),t.Y36(so,8),t.Y36(Yn,8))},_t.\u0275cmp=t.Xpm({type:_t,selectors:[["sp-field"]],viewQuery:function(_e,ke){if(1&_e&&t.Gf(Vt,5,t.s_b),2&_e){let nt;t.iGM(nt=t.CRH())&&(ke.componentOutlet=nt.first)}},features:[t.qOj],decls:21,vars:21,consts:[[1,"sp-form",3,"formGroup","hidden"],[3,"ngSwitch"],[3,"ngSwitchCase"],["ngSwitchDefault",""],[3,"id","sp-required",4,"ngIf"],[1,"sp-relative"],["type","text",1,"sp-form-control",3,"formControlName","id","ngClass","change","blur"],[1,"sp-form__validation-messages","sp-absolute","sp-z-1",3,"formControlErrors"],["class","sp-ml-1",4,"ngIf"],["class","sp-form-control-description",4,"ngIf"],[3,"id"],[1,"sp-ml-1"],[1,"sp-form-control-description"],[3,"config"],[3,"sp-required",4,"ngIf"],[1,"sp-form-control",3,"formControlName","id","type","ngClass","change","blur"],[1,"sp-form-control-password-visibility-switcher","sp-absolute","sp-cursor-pointer",3,"name","click"],[1,"sp-relative","sp-flex","sp-items-center"],["type","number",1,"sp-form-control",3,"formControlName","id","spTooltipEnabled","spTooltip","blur","change","keypress"],[1,"sp-form__validation-messages","sp-absolute","sp-z-1",3,"formControlErrors","withValidationErrorTimeout"],["rows","5",1,"sp-form-control","sp-align-middle",3,"formControlName","id","spTooltipEnabled","spTooltip","change","blur"],[3,"searchForm","controlName","change"],[3,"formControlName","id","spTooltipEnabled","spTooltip","label","change"],[1,"sp-checkbox-swiper-field"],[1,"sp-swiper-wrapper"],[3,"idPrefix","spTooltipEnabled","spTooltip","formControlName","change"],[3,"label","formFieldLabelStrategy","required",4,"ngIf"],["class","sp-description",4,"ngIf"],[3,"label","formFieldLabelStrategy","required"],[1,"sp-description"],[1,"sp-relative","sp-w-full"],[3,"id","formControlName","configuration","options","selectedOptions","selectedOptionChanged"],[3,"id","formControlName","configuration","options"],[1,"sp-lazy-select-field"],[3,"label","required",4,"ngIf"],[3,"controlName","formControlName","selectConfiguration"],[3,"label","required"],[1,"sp-form-colorpicker-container","sp-relative"],["type","text",1,"sp-form-control",3,"formControlName","id"],[1,"sp-color-picker-field",3,"id","formControlName"],[1,"sp-form__validation-messages","sp-absolute","sp-whitespace-nowrap","sp-z-1",3,"formControlErrors"],[1,"sp-input-file-row","sp-flex","sp-relative"],[1,"sp-form-control","sp-h-8","sp-input-file-filename-control","!sp-flex","sp-items-center","sp-flex-auto","sp-mr-1",3,"id","for"],[1,"sp-input-file-filename","col"],["sp-button","",1,"sp-inline-edit-save","sp-min-w-unset",3,"click"],["type","file",1,"sp-hidden",3,"id","accept","change"],[1,"sp-toggle-button-container"],[3,"formControlName","configuration"],[3,"id","formControlName","placeholder"],[1,"sp-input-container"],[3,"id","formControlName","change"],[3,"controlName","id","formGroup","radioGroup","change"],["componentOutlet",""]],template:function(_e,ke){1&_e&&(t.TgZ(0,"form",0),t.ynx(1,1),t.YNc(2,St,0,0,"ng-template",2),t.YNc(3,ot,8,12,"ng-template",2),t.YNc(4,Ne,7,11,"ng-template",2),t.YNc(5,Rt,11,18,"ng-template",2),t.YNc(6,ln,9,14,"ng-template",2),t.YNc(7,hn,6,7,"ng-template",2),t.YNc(8,Zt,5,11,"ng-template",2),t.YNc(9,vt,7,10,"ng-template",2),t.YNc(10,st,6,10,"ng-template",2),t.YNc(11,Ot,6,9,"ng-template",2),t.YNc(12,Ge,4,6,"ng-template",2),t.YNc(13,pt,9,14,"ng-template",2),t.YNc(14,ue,13,15,"ng-template",2),t.YNc(15,mt,4,5,"ng-template",2),t.YNc(16,en,6,8,"ng-template",2),t.YNc(17,In,4,5,"ng-template",2),t.YNc(18,Jn,4,5,"ng-template",2),t.YNc(19,An,3,7,"ng-template",2),t.YNc(20,uo,7,5,"ng-template",3),t.BQk(),t.qZA()),2&_e&&(t.Q6J("formGroup",ke.form)("hidden",!ke.visible),t.xp6(1),t.Q6J("ngSwitch",ke.type),t.xp6(1),t.Q6J("ngSwitchCase",ke.formField.NONE),t.xp6(1),t.Q6J("ngSwitchCase",ke.formField.TEXT),t.xp6(1),t.Q6J("ngSwitchCase",ke.formField.PASSWORD),t.xp6(1),t.Q6J("ngSwitchCase",ke.formField.NUMBER),t.xp6(1),t.Q6J("ngSwitchCase",ke.formField.TEXT_AREA),t.xp6(1),t.Q6J("ngSwitchCase",ke.formField.QL_TEXT),t.xp6(1),t.Q6J("ngSwitchCase",ke.formField.CHECKBOX),t.xp6(1),t.Q6J("ngSwitchCase",ke.formField.SWIPER),t.xp6(1),t.Q6J("ngSwitchCase",ke.formField.SELECT),t.xp6(1),t.Q6J("ngSwitchCase",ke.formField.MULTI_SELECT),t.xp6(1),t.Q6J("ngSwitchCase",ke.formField.LAZY_SELECT),t.xp6(1),t.Q6J("ngSwitchCase",ke.formField.COLOR_PICKER),t.xp6(1),t.Q6J("ngSwitchCase",ke.formField.FILE),t.xp6(1),t.Q6J("ngSwitchCase",ke.formField.BUTTON_GROUP),t.xp6(1),t.Q6J("ngSwitchCase",ke.formField.DATE_PICKER),t.xp6(1),t.Q6J("ngSwitchCase",ke.formField.COLORED_ICON_PICKER),t.xp6(1),t.Q6J("ngSwitchCase",ke.formField.ICON_PICKER),t.xp6(1),t.Q6J("ngSwitchCase",ke.formField.RADIO))},directives:[n._Y,n.JL,n.sg,y.RF,y.n9,y.ED,y.O5,n.Fj,n.JJ,n.u,y.mk,F,b.E,x.o,n.wV,B.i9,gt,tt.B,lt.l,p.b,Mt.Hr,ne.w,De.h,Ye.r,Qe.A,Ke.L,it.l,Se.M,Ct.P],pipes:[He.L,Ie.d,Lt.$],encapsulation:2}),_t})()},29893:(S,g,e)=>{"use strict";e.d(g,{u:()=>i});var t=e(83941),n=e(85703),s=e(84046);let i=(()=>{class r{constructor(){this.config={},this.label="",this.unitLabel="",this.placeholder="",this.clearable=!0,this.description=t.H.string(""),this.id=(0,n.Hu)(),this.disabled=!1}}return r.\u0275fac=function(o){return new(o||r)},r.\u0275cmp=s.Xpm({type:r,selectors:[["sp-form-field"]],inputs:{config:"config",type:"type",label:"label",unitLabel:"unitLabel",placeholder:"placeholder",name:"name",value:"value",valueAccessor:"valueAccessor",flex:"flex",validators:"validators",clearable:"clearable",description:"description",id:"id",disabled:"disabled",className:"className",tooltipText:"tooltipText",isRichText:"isRichText",negativeNumberEnabled:"negativeNumberEnabled",withValidationErrorTimeout:"withValidationErrorTimeout"},decls:0,vars:0,template:function(o,d){},encapsulation:2}),r})()},84260:(S,g,e)=>{"use strict";e.d(g,{r:()=>p,b:()=>f});var t=e(84046),n=e(55331);function s(m,v){1&m&&(t.TgZ(0,"span",3),t._uU(1," * "),t.qZA())}function i(m,v){if(1&m&&(t._uU(0),t.YNc(1,s,2,0,"span",2)),2&m){const E=t.oxw();t.hij(" ",E.label," "),t.xp6(1),t.Q6J("ngIf",E.required)}}function r(m,v){}function a(m,v){if(1&m&&(t.ynx(0),t.YNc(1,r,0,0,"ng-template",7),t.BQk()),2&m){t.oxw(2);const E=t.MAs(1);t.xp6(1),t.Q6J("ngTemplateOutlet",E)}}function o(m,v){}function d(m,v){if(1&m&&(t.TgZ(0,"label"),t.YNc(1,o,0,0,"ng-template",7),t.qZA()),2&m){t.oxw(2);const E=t.MAs(1);t.xp6(1),t.Q6J("ngTemplateOutlet",E)}}function h(m,v){if(1&m&&(t.ynx(0,4),t.YNc(1,a,2,1,"ng-container",5),t.YNc(2,d,2,1,"label",6),t.BQk()),2&m){const E=t.oxw();t.Q6J("ngSwitch",E.formFieldLabelStrategy),t.xp6(1),t.Q6J("ngSwitchCase",E.formFieldLabelStrategyEnum.NONE)}}var p=(()=>{return(m=p||(p={}))[m.LABEL=1]="LABEL",m[m.NONE=2]="NONE",p;var m})();let f=(()=>{class m{constructor(){this.required=!1,this.formFieldLabelStrategy=p.LABEL,this.formFieldLabelStrategyEnum=p}}return m.\u0275fac=function(E){return new(E||m)},m.\u0275cmp=t.Xpm({type:m,selectors:[["sp-form-field-label"]],inputs:{label:"label",required:"required",formFieldLabelStrategy:"formFieldLabelStrategy"},decls:3,vars:1,consts:[["messageRef",""],[3,"ngSwitch",4,"ngIf"],["class","sp-form-field-required",4,"ngIf"],[1,"sp-form-field-required"],[3,"ngSwitch"],[4,"ngSwitchCase"],[4,"ngSwitchDefault"],[3,"ngTemplateOutlet"]],template:function(E,C){1&E&&(t.YNc(0,i,2,2,"ng-template",null,0,t.W1O),t.YNc(2,h,3,2,"ng-container",1)),2&E&&(t.xp6(2),t.Q6J("ngIf",C.label))},directives:[n.O5,n.RF,n.n9,n.ED,n.tP],encapsulation:2,changeDetection:0}),m})()},28606:(S,g,e)=>{"use strict";e.d(g,{w:()=>f});var t=e(84046),n=e(70335),s=e(53488),i=e(83941),r=e(51234),a=e(83372),o=e(53339);class d extends r.d{constructor(){super()}getFieldValues(){return(0,o.of)([])}}var h=e(14650),p=e(97265);let f=(()=>{class m{constructor(E,C){this.changeDetectorRef=E,this.injector=C,this.disabled=!1,this.selectConfiguration=new a.w,this.propagateChange=T=>{},this.onTouched=()=>{},this.optionsReady=!1,this.selectOptions=[],this.subscriptions=new s.w,this.lazySelectResource=this.injector.get(r.d,m.defaultLazySelectResource)}ngOnInit(){this.subscriptions.add(this.lazySelectResource.getFieldValues(this.controlName).subscribe(E=>{this.selectOptions=E,this.optionsReady=!0}))}ngOnDestroy(){this.subscriptions.unsubscribe()}writeValue(E){E?E instanceof h.W?this.selectedOption=E:this.selectedOption.text=E:this.selectedOption=new h.W("",i.H.string(""),i.H.string("")),this.changeDetectorRef.markForCheck()}registerOnChange(E){this.propagateChange=E}registerOnTouched(E){}selectedOptionChanged(E){this.propagateChange(E)}setDisabledState(E){this.disabled=E}}return m.defaultLazySelectResource=d,m.\u0275fac=function(E){return new(E||m)(t.Y36(t.sBO),t.Y36(t.zs3))},m.\u0275cmp=t.Xpm({type:m,selectors:[["sp-lazy-select"]],inputs:{formGroup:"formGroup",controlName:"controlName",disabled:"disabled",selectConfiguration:"selectConfiguration"},features:[t._Bn([{provide:n.JU,useExisting:(0,t.Gpc)(()=>m),multi:!0}])],decls:1,vars:4,consts:[[3,"configuration","options","disabled","selectedOption","selectedOptionChanged"]],template:function(E,C){1&E&&(t.TgZ(0,"sp-select",0),t.NdJ("selectedOptionChanged",function(y){return C.selectedOptionChanged(y)}),t.qZA()),2&E&&t.Q6J("configuration",C.selectConfiguration)("options",C.selectOptions)("disabled",C.disabled)("selectedOption",C.selectedOption)},directives:[p.Hr],encapsulation:2}),m})()},51234:(S,g,e)=>{"use strict";e.d(g,{d:()=>t});class t{}},9477:(S,g,e)=>{"use strict";e.d(g,{E:()=>t});class t{constructor(s,i){this.type=s,this.component=i}}},23224:(S,g,e)=>{"use strict";e.d(g,{P:()=>d});var t=e(76617),n=e(84046),s=e(70335),i=e(55331),r=e(65799);function a(h,p){if(1&h&&(n.TgZ(0,"span",5),n._uU(1),n.ALo(2,"spL10nText"),n.qZA()),2&h){const f=n.oxw().index,m=n.oxw();n.xp6(1),n.hij(" ",n.lcZ(2,1,m.radioGroup.descriptions[f])," ")}}function o(h,p){if(1&h){const f=n.EpF();n.TgZ(0,"div",2),n.TgZ(1,"sp-form-control-radio",3),n.NdJ("valueChanged",function(v){return n.CHM(f),n.oxw().setActiveValue(v)}),n.ALo(2,"spL10nText"),n.qZA(),n.YNc(3,a,3,3,"span",4),n.qZA()}if(2&h){const f=p.$implicit,m=p.index,v=n.oxw();n.xp6(1),n.Q6J("id",v.radioGroup.ids&&v.radioGroup.ids[m])("formControlName",v.controlName)("name",v.controlName)("value",f)("tooltip",v.radioGroup.disabled&&(null==v.radioGroup.disabled[f]?null:v.radioGroup.disabled[f].tooltip))("label",n.lcZ(2,7,v.radioGroup.labels[m])),n.xp6(2),n.Q6J("ngIf",v.radioGroup.descriptions&&v.radioGroup.descriptions[m])}}let d=(()=>{class h{ngAfterViewInit(){this.applyDisabledToRadioInputs()}setActiveValue(f){this.formGroup.setValue({[this.controlName]:f})}applyDisabledToRadioInputs(){!this.radioGroup.disabled||this.radios.forEach(f=>{f.setDisabledState(this.radioGroup.disabled[f.value]&&this.radioGroup.disabled[f.value].value)})}}return h.\u0275fac=function(f){return new(f||h)},h.\u0275cmp=n.Xpm({type:h,selectors:[["sp-form-radio-group"]],viewQuery:function(f,m){if(1&f&&n.Gf(t.x,5),2&f){let v;n.iGM(v=n.CRH())&&(m.radios=v)}},inputs:{radioGroup:"radioGroup",formGroup:"formGroup",controlName:"controlName"},decls:2,vars:2,consts:[["id","sp-form-radio-group",1,"sp-mb-4",3,"formGroup"],["class","sp-mb-2",4,"ngFor","ngForOf"],[1,"sp-mb-2"],[3,"id","formControlName","name","value","tooltip","label","valueChanged"],["class","sp-form-control-description",4,"ngIf"],[1,"sp-form-control-description"]],template:function(f,m){1&f&&(n.TgZ(0,"div",0),n.YNc(1,o,4,9,"div",1),n.qZA()),2&f&&(n.Q6J("formGroup",m.formGroup),n.xp6(1),n.Q6J("ngForOf",m.radioGroup.values))},directives:[s.JL,s.sg,i.sg,t.x,s.JJ,s.u,i.O5],pipes:[r.L],encapsulation:2}),h})()},57353:(S,g,e)=>{"use strict";e.d(g,{u:()=>a});var t=e(84046),n=e(55331),s=e(65799);function i(o,d){if(1&o&&(t.TgZ(0,"div",4),t.TgZ(1,"b"),t._uU(2),t.ALo(3,"spL10nText"),t.qZA(),t.TgZ(4,"div",5),t._uU(5),t._UZ(6,"i",6),t._uU(7),t.qZA(),t.qZA()),2&o){const h=d.$implicit;t.xp6(2),t.hij("",t.lcZ(3,3,h.fieldLabel),":"),t.xp6(3),t.hij(" ",h.getPreviousValueString()," "),t.xp6(2),t.hij(" ",h.getCurrentValueString()," ")}}function r(o,d){if(1&o&&(t.ynx(0),t.TgZ(1,"div",1),t.TgZ(2,"div",2),t._uU(3),t.ALo(4,"spL10nText"),t.qZA(),t.YNc(5,i,8,5,"div",3),t.qZA(),t.BQk()),2&o){const h=t.oxw();t.xp6(3),t.hij("",t.lcZ(4,2,"SPT_COMMON_FORM_FIELD_CHANGES")," "),t.xp6(2),t.Q6J("ngForOf",h.cachedFields)}}let a=(()=>{class o{constructor(){this.isCacheFieldsEnabled=!1,this.cachedFields=[]}}return o.\u0275fac=function(h){return new(h||o)},o.\u0275cmp=t.Xpm({type:o,selectors:[["sp-form-field-changes"]],inputs:{isCacheFieldsEnabled:"isCacheFieldsEnabled",cachedFields:"cachedFields"},decls:1,vars:1,consts:[[4,"ngIf"],[1,"sp-form-field-change-container"],[1,"sp-form-field-title"],["class","sp-task-config-changed-values",4,"ngFor","ngForOf"],[1,"sp-task-config-changed-values"],[1,"sp-form-field-changes__comparison-container"],[1,"fa","fa-long-arrow-right"]],template:function(h,p){1&h&&t.YNc(0,r,6,4,"ng-container",0),2&h&&t.Q6J("ngIf",p.cachedFields.length)},directives:[n.O5,n.sg],pipes:[s.L],styles:[".sp-form-field-change-container[_ngcontent-%COMP%]{background:var(--color-bg);border:1px solid var(--info);border-radius:var(--border-radius-m);padding:5px 5px 5px 10px}.sp-form-field-change-container[_ngcontent-%COMP%]   .sp-task-config-changed-values[_ngcontent-%COMP%]{padding-bottom:7px;animation:display-field .3s ease-in-out}.sp-form-field-change-container[_ngcontent-%COMP%]   .sp-form-field-title[_ngcontent-%COMP%]{color:var(--info);padding:5px 0;font-family:var(--font-family);font-style:normal;font-weight:bold;line-height:normal;font-size:var(--font-base)}.sp-form-field-change-container[_ngcontent-%COMP%]   .fa-long-arrow-right[_ngcontent-%COMP%]{color:var(--info)}@keyframes display-field{0%{opacity:0}to{opacity:1}0%{opacity:0}to{opacity:1}0%{opacity:0}to{opacity:1}0%{opacity:0}to{opacity:1}}"],changeDetection:0}),o})()},52888:(S,g,e)=>{"use strict";e.d(g,{CJ:()=>p,ZD:()=>f,iI:()=>m,vI:()=>v,HK:()=>E});var t=e(84046),n=e(55331);const s=["container"];function i(C,T){1&C&&t.GkF(0)}function r(C,T){if(1&C&&(t.TgZ(0,"div",3),t.TgZ(1,"h3"),t.YNc(2,i,1,0,"ng-container",4),t.qZA(),t.qZA()),2&C){const y=t.oxw();t.xp6(2),t.Q6J("ngTemplateOutlet",y.header)}}function a(C,T){1&C&&t.GkF(0)}function o(C,T){if(1&C&&(t.TgZ(0,"div",5),t.YNc(1,a,1,0,"ng-container",4),t.qZA()),2&C){const y=t.oxw();t.xp6(1),t.Q6J("ngTemplateOutlet",y.description)}}function d(C,T){1&C&&t.GkF(0)}function h(C,T){if(1&C&&(t.TgZ(0,"div",5),t.YNc(1,d,1,0,"ng-container",4),t.qZA()),2&C){const y=t.oxw();t.xp6(1),t.Q6J("ngTemplateOutlet",y.footer)}}const p=new t.OlP("FORM_GROUP_HEADER"),f=new t.OlP("FORM_GROUP_DESCRIPTION"),m=new t.OlP("FORM_GROUP_FOOTER"),v=new t.OlP("FORM_GROUP_ID");let E=(()=>{class C{constructor(y,I,P,L){this.header=y,this.description=I,this.footer=P,this.id=L}}return C.\u0275fac=function(y){return new(y||C)(t.Y36(p,8),t.Y36(f,8),t.Y36(m,8),t.Y36(v,8))},C.\u0275cmp=t.Xpm({type:C,selectors:[["sp-field-group"]],viewQuery:function(y,I){if(1&y&&t.Gf(s,5,t.s_b),2&y){let P;t.iGM(P=t.CRH())&&(I.fieldsContainerRef=P.first)}},hostVars:1,hostBindings:function(y,I){2&y&&t.Ikx("id",I.id)},decls:5,vars:3,consts:[["class","sp-field-group-header",4,"ngIf"],["class","sp-field-group-description",4,"ngIf"],["container",""],[1,"sp-field-group-header"],[4,"ngTemplateOutlet"],[1,"sp-field-group-description"]],template:function(y,I){1&y&&(t.YNc(0,r,3,1,"div",0),t.YNc(1,o,2,1,"div",1),t._UZ(2,"div",null,2),t.YNc(4,h,2,1,"div",1)),2&y&&(t.Q6J("ngIf",I.header),t.xp6(1),t.Q6J("ngIf",I.description),t.xp6(3),t.Q6J("ngIf",I.footer))},directives:[n.O5,n.tP],encapsulation:2}),C})()},99721:(S,g,e)=>{"use strict";e.d(g,{Y:()=>o});var t=e(29893),n=e(85703),s=e(84046);const i=["header"],r=["description"],a=["footer"];let o=(()=>{class d{constructor(){this.id=(0,n.Hu)()}}return d.\u0275fac=function(p){return new(p||d)},d.\u0275cmp=s.Xpm({type:d,selectors:[["sp-form-group"]],contentQueries:function(p,f,m){if(1&p&&(s.Suo(m,i,5),s.Suo(m,r,5),s.Suo(m,a,5),s.Suo(m,t.u,4)),2&p){let v;s.iGM(v=s.CRH())&&(f.header=v.first),s.iGM(v=s.CRH())&&(f.description=v.first),s.iGM(v=s.CRH())&&(f.footer=v.first),s.iGM(v=s.CRH())&&(f.formFieldRefs=v)}},inputs:{id:"id",className:"className"},decls:0,vars:0,template:function(p,f){},encapsulation:2}),d})()},15252:(S,g,e)=>{"use strict";e.d(g,{f:()=>r});var t=e(84046),n=e(83821),s=e(55331);function i(a,o){if(1&a&&(t.TgZ(0,"div"),t._uU(1),t.qZA()),2&a){const d=t.oxw();t.xp6(1),t.hij(" ",d.text,"\n")}}let r=(()=>{class a{constructor(d){this.savingProgressService=d,this.isEnabled=!1}ngOnChanges(){this.text=this.savingProgressService.getText(this.formProgressStatus)}}return a.\u0275fac=function(d){return new(d||a)(t.Y36(n.A))},a.\u0275cmp=t.Xpm({type:a,selectors:[["sp-form-progress-status"]],inputs:{isEnabled:"isEnabled",formProgressStatus:"formProgressStatus"},features:[t.TTD],decls:1,vars:1,consts:[[4,"ngIf"]],template:function(d,h){1&d&&t.YNc(0,i,2,1,"div",0),2&d&&t.Q6J("ngIf",h.isEnabled)},directives:[s.O5],encapsulation:2}),a})()},12521:(S,g,e)=>{"use strict";e.d(g,{t:()=>s});var t=e(55331),n=e(84046);let s=(()=>{class i{}return i.\u0275fac=function(a){return new(a||i)},i.\u0275mod=n.oAB({type:i}),i.\u0275inj=n.cJS({imports:[[t.ez]]}),i})()},43941:(S,g,e)=>{"use strict";function t(n,s){let i=[];return Object.keys(s).filter(r=>s.hasOwnProperty(r)&&"string"==typeof s[r]).forEach(r=>{const d=n.translate(s[r],s[`${r}Params`]||{});"spRequired"===r?i=[d,...i]:i.push(d)}),i}e.d(g,{J:()=>t})},58291:(S,g,e)=>{"use strict";e.d(g,{$:()=>t});class t{}},86145:(S,g,e)=>{"use strict";e.d(g,{j:()=>n});var t=e(58291);class n extends t.${static notBlank(i){const r=i.value;return null==r?{valid:!1}:r.constructor===String&&""===r.replace(/\u200B/g,"").trim()?{blank:"SPT_COMMON_VALIDATOR_BLANK",valid:!1}:null}}},34322:(S,g,e)=>{"use strict";e.d(g,{Z:()=>n});var t=e(58291);let n=(()=>{class s extends t.${static validateMinLength(r){return a=>null!=a.value&&a.value.trim().length<r?{minLength:s.MIN_LENGTH_VALIDATION_ERROR_MESSAGE,minLengthParams:{minLength:r},valid:!1}:null}static validateMaxLength(r){return a=>null!=a.value&&a.value.length>r?{maxLength:s.MAX_LENGTH_VALIDATION_ERROR_MESSAGE,maxLengthParams:{maxLength:r},valid:!1}:null}}return s.MIN_LENGTH_VALIDATION_ERROR_MESSAGE="SPT_COMMON_VALIDATOR_MIN_LENGTH",s.MAX_LENGTH_VALIDATION_ERROR_MESSAGE="SPT_COMMON_VALIDATOR_MAX_LENGTH",s})()},94200:(S,g,e)=>{"use strict";e.d(g,{m:()=>n,Q:()=>s});var t=e(58291);const n=Symbol("validateRequiredId");let s=(()=>{class i extends t.${static validateRequiredField(a=this.defaultMessage){function o(d){const h=d.value||"";return!h&&i.isClear(d)?{invalid:!0}:h&&(i.isNotEmptyString(h)||"object"==typeof h)?null:{spRequired:a}}return o.id=n,o}}return i.defaultMessage="SPT_COMMON_VALIDATOR_DEFAULT_MESSAGE",i.isClear=r=>r.untouched&&!r.dirty,i.isNotEmptyString=r=>"string"==typeof r&&r&&r.trim().length,i})()},68232:(S,g,e)=>{"use strict";e.d(g,{g:()=>s});var t=e(50295),n=e(84046);let s=(()=>{class i{}return i.\u0275fac=function(a){return new(a||i)},i.\u0275mod=n.oAB({type:i}),i.\u0275inj=n.cJS({providers:[t.X]}),i})()},50295:(S,g,e)=>{"use strict";e.d(g,{X:()=>i});var t=e(61969),s=e(84046);let i=(()=>{class r{static sanitize(o,d){if(!o||"string"!=typeof o)return o;const{allowedTags:h=null,allowedAttr:p=null,withoutHTML:f=null}=d||{},m={};return Array.isArray(h)&&h.length&&(m.ALLOWED_TAGS=h),Array.isArray(p)&&p.length&&(m.ALLOWED_ATTR=p),!0===f&&(m.USE_PROFILES={html:!1,svg:!1,mathMl:!1}),t.sanitize(o,m)}sanitize(o,d){return r.sanitize(o,d)}}return r.\u0275fac=function(o){return new(o||r)},r.\u0275prov=s.Yz7({token:r,factory:r.\u0275fac}),r})()},95992:(S,g,e)=>{"use strict";e.d(g,{J:()=>n});var t=e(58291);class n extends t.${static validateXssViolation(){return function(r){const a=r.value;return n.HTML_TAG_REGEXP.lastIndex=0,n.JS_FN_CALL_REGEXP.lastIndex=0,"string"==typeof a&&(n.HTML_TAG_REGEXP.test(a)||n.JS_FN_CALL_REGEXP.test(a))?{xssViolation:"SPT_COMMON_VALIDATOR_XSS_VIOLATION",valid:!1}:null}}static generateHtmlTagRegExp(){return new RegExp("(\\<(?:\\s*[\\w\\d\\-\\_]+\\s*)\\s*(?:[\\w\\d\\-\\_]+(?:\\s*\\=\\s*(?:(?:[\\\"\\'][^\\\"\\']*[\\\"\\'])|(?:[^\\s]+)))?)*[^\\>]*\\>)[^\\<]*(\\<(?:\\s*\\/\\s*)(?:\\s*[\\w\\d\\-\\_]+\\s*)\\>)|(\\<(?:\\s*[\\w\\d\\-\\_]+\\s*)\\s*(?:[\\w\\d\\-\\_]+(?:\\s*\\=\\s*(?:(?:[\\\"\\'][^\\\"\\']*[\\\"\\'])|(?:[^\\s]+)))?)*[^\\>]*(?:\\s*\\/\\s*)?\\>)","gi")}static generateJsFnCallRegExp(){const a=`(?:\\s|${["\\&MediumSpace\\;","\\&\\#x0205F\\;","\\&\\#8287\\;","\\&Tab\\;","\\&\\#x00009\\;","\\&\\#9\\;"].join("|")})*`,o="(?:.*)",d=`(?:void${a})`,h=`(?:(?:\\w[\\w\\d]*${a})?\\(${o}\\)(?:\\(${o}\\))?)`,p="javascript".split("").join(a),f=[d,h].join("|");return new RegExp(`(${p})(${a}\\:${a})(${f})`,"gi")}}n.HTML_TAG_REGEXP=n.generateHtmlTagRegExp(),n.JS_FN_CALL_REGEXP=n.generateJsFnCallRegExp()},21102:(S,g,e)=>{"use strict";e.d(g,{D:()=>i});var t=e(55331),n=e(84046),s=e(38008);let i=(()=>{class r{constructor(o,d,h){this.rendererFactory=o,this.barLoaderService=d,this.document=h,this.renderer=this.rendererFactory.createRenderer(null,null)}connect(){return this.barLoaderService.connect()}start(){const o=this.document.querySelector("sp-header-grid .sp-header-grid__blanket");o&&(this.renderer.setStyle(o,"display","block"),this.barLoaderService.start())}complete(){const o=this.document.querySelector("sp-header-grid .sp-header-grid__blanket");o&&(this.renderer.setStyle(o,"display","none"),this.barLoaderService.complete())}fail(){const o=this.document.querySelector("sp-header-grid .sp-header-grid__blanket");o&&(this.renderer.setStyle(o,"display","none"),this.barLoaderService.fail())}}return r.\u0275fac=function(o){return new(o||r)(n.LFG(n.FYo),n.LFG(s.F),n.LFG(t.K0))},r.\u0275prov=n.Yz7({token:r,factory:r.\u0275fac}),r})()},44259:(S,g,e)=>{"use strict";e.d(g,{e:()=>f});var t=e(84046),n=e(62546),s=e(55331),i=e(68890),r=e(65799),a=e(18217);const o=["descriptionElementRef"];function d(m,v){if(1&m&&(t.TgZ(0,"h2",5),t._uU(1),t.ALo(2,"spL10nText"),t.qZA()),2&m){const E=t.oxw();t.xp6(1),t.Oqu(t.lcZ(2,1,E.title))}}function h(m,v){if(1&m&&(t.TgZ(0,"a",6),t.ALo(1,"spRichTextI18n"),t._UZ(2,"i",7),t.qZA()),2&m){const E=t.oxw();t.Q6J("spTooltip",t.lcZ(1,3,E.tooltipText))("spTooltipEnabled",!!E.tooltipText),t.uIk("href",E.documentationLink,t.LSH)}}const p=["*"];let f=(()=>{class m extends n.H{constructor(E,C,T){super(E,C),this.changeDetectorRef=T,this.documentationLink="",this.title="",this.isDescriptionVisible=!1}ngOnChanges(E){E.title&&E.title.currentValue&&(this.domManipulator.addHostClass("sp-panel-header-component__content--is-short"),this.changeDetectorRef.detectChanges())}ngAfterViewInit(){this.panelHeaderDescription.nativeElement.childNodes.length>0&&(this.isDescriptionVisible=!0,this.changeDetectorRef.detectChanges())}getHostClasses(){return["sp-panel-header-component","sp-w-full"]}}return m.\u0275fac=function(E){return new(E||m)(t.Y36(t.SBq),t.Y36(t.Qsj),t.Y36(t.sBO))},m.\u0275cmp=t.Xpm({type:m,selectors:[["sp-panel-header"]],viewQuery:function(E,C){if(1&E&&t.Gf(o,7,t.SBq),2&E){let T;t.iGM(T=t.CRH())&&(C.panelHeaderDescription=T.first)}},inputs:{documentationLink:"documentationLink",title:"title",tooltipText:"tooltipText",descriptionID:"descriptionID"},features:[t.qOj,t.TTD],ngContentSelectors:p,decls:6,vars:5,consts:[[1,"sp-panel-header-component__content","sp-flex","sp-items-center","sp-mb-2","sp-h-8"],["class","sp-panel-header-component__content-title sp-m-0","id","sp-panel-header-title",4,"ngIf"],["class","sp-panel-header-component__content-link sp-ml-2","target","_blank",3,"spTooltip","spTooltipEnabled",4,"ngIf"],[1,"sp-panel-header-component__description","sp-content-xl","sp-mb-4",3,"id"],["descriptionElementRef",""],["id","sp-panel-header-title",1,"sp-panel-header-component__content-title","sp-m-0"],["target","_blank",1,"sp-panel-header-component__content-link","sp-ml-2",3,"spTooltip","spTooltipEnabled"],[1,"far","fa-question-circle","sp-text-xl"]],template:function(E,C){1&E&&(t.F$t(),t.TgZ(0,"div",0),t.YNc(1,d,3,3,"h2",1),t.YNc(2,h,3,5,"a",2),t.qZA(),t.TgZ(3,"p",3,4),t.Hsn(5),t.qZA()),2&E&&(t.xp6(1),t.Q6J("ngIf",C.title),t.xp6(1),t.Q6J("ngIf",C.documentationLink),t.xp6(1),t.ekj("sp-hidden",!C.isDescriptionVisible),t.Q6J("id",C.descriptionID))},directives:[s.O5,i.i9],pipes:[r.L,a.d],styles:[".sp-panel-header-component a:hover{text-decoration:underline}.sp-panel-header-component--is-sticky{background:linear-gradient(180deg,var(--color-bg) 75%,rgba(255,255,255,0) 100%);top:0;position:sticky;z-index:2}.sp-panel-header-component__content{line-height:20px}.sp-panel-header-component__content--short{width:400px}.sp-panel-header-component-link{line-height:1}\n"],encapsulation:2,changeDetection:0}),m})()},47473:(S,g,e)=>{"use strict";e.d(g,{S:()=>a});var t=e(55331),n=e(68890),s=e(41001),i=e(26566),r=e(84046);let a=(()=>{class o{}return o.\u0275fac=function(h){return new(h||o)},o.\u0275mod=r.oAB({type:o}),o.\u0275inj=r.cJS({imports:[[t.ez,n.z8,s.J,i.n]]}),o})()},74386:(S,g,e)=>{"use strict";e.d(g,{$:()=>t});class t{constructor(s){this.currentUrl$=s}observeRouteChange(){return this.currentUrl$}isActiveTab(s,i){return null!==s.match(new RegExp(`/${i}`))}}},75779:(S,g,e)=>{"use strict";e.d(g,{L:()=>n});var t=e(85703);class n{constructor(i,r,a=null){this.text=i,this.url=r,this.visibilityGuard=a,this.id=(0,t.Hu)()}}},8560:(S,g,e)=>{"use strict";e.d(g,{g:()=>n});var t=e(85703);class n{constructor(i,r,a=null,o,d=(0,t.Hu)()){this.name=i,this.tabs=r,this.visibilityGuard=a,this.icon=o,this.id=d}}},22171:(S,g,e)=>{"use strict";e.d(g,{Q:()=>h});var t=e(55331),n=e(41001),s=e(51545),i=e(97425),r=e(25776),a=e(68890),o=e(26566),d=e(84046);let h=(()=>{class p{static forRoot(){return{ngModule:p,providers:[r.z]}}}return p.\u0275fac=function(m){return new(m||p)},p.\u0275mod=d.oAB({type:p}),p.\u0275inj=d.cJS({imports:[[t.ez,s.F,a.z8,i.o,n.J,o.n]]}),p})()},25776:(S,g,e)=>{"use strict";e.d(g,{z:()=>a});var t=e(55331),n=e(90850),s=e(2895),i=e(9933),r=e(84046);let a=(()=>{class o{constructor(h,p,f){this.rendererFactory=h,this.localStorage=p,this.document=f,this.wallboardModeUpdate$=new n.xQ,this.wallboardModeUpdate=!1,this.headerElements=[],this.uiPlatformWindow=(0,s.h)(f),this.renderer=h.createRenderer(null,null)}addElements(h){this.setElements([...this.headerElements,...h]),this.retriggerHeaderMode()}init(){this.setElements([]),"true"===this.localStorage.getItem(o.WALLBOARD_MODE_KEY)&&this.hideHeaders()}toggle(){this.wallboardModeUpdate?this.showHeaders():this.hideHeaders()}selectWallboardModeUpdates(){return this.wallboardModeUpdate$.asObservable()}setElements(h){this.headerElements=h}showHeaders(){this.setWallboardMode(!1),this.changeUiPlatformWindowMode(!1);for(const h of this.headerElements)this.setStyleForHeader(h.htmlElement,h.cssProperty,h.cssPropertyValueWhenVisible);this.localStorage.remove(o.WALLBOARD_MODE_KEY)}hideHeaders(){this.setWallboardMode(!0),this.changeUiPlatformWindowMode(!0);for(const h of this.headerElements)this.setStyleForHeader(h.htmlElement,h.cssProperty,h.cssPropertyValueWhenHidden);this.localStorage.setItem(o.WALLBOARD_MODE_KEY,"true")}setWallboardMode(h){this.wallboardModeUpdate=h,this.wallboardModeUpdate$.next(h)}changeUiPlatformWindowMode(h){this.uiPlatformWindow.postMessage({type:h?"WALLBOARD_MODE_ON":"WALLBOARD_MODE_OFF"},"*")}setStyleForHeader(h,p,f){!h||this.renderer.setStyle(h,p,f)}retriggerHeaderMode(){this.wallboardModeUpdate?this.hideHeaders():this.showHeaders()}}return o.WALLBOARD_MODE_KEY="common-is-header-hidden",o.\u0275fac=function(h){return new(h||o)(r.LFG(r.FYo),r.LFG(i.m),r.LFG(t.K0))},o.\u0275prov=r.Yz7({token:o,factory:o.\u0275fac}),o})()},70402:(S,g,e)=>{"use strict";e.d(g,{L:()=>f});var t=e(84046),n=e(62546),s=e(55331),i=e(70881);function r(m,v){1&m&&(t.TgZ(0,"span",4),t._uU(1,"/"),t.qZA())}function a(m,v){1&m&&(t.TgZ(0,"span",5),t._uU(1,"..."),t.qZA())}function o(m,v){1&m&&(t.TgZ(0,"span",4),t._uU(1,"/"),t.qZA())}function d(m,v){1&m&&t.GkF(0)}function h(m,v){if(1&m&&(t.ynx(0),t.YNc(1,r,2,0,"span",1),t.YNc(2,a,2,0,"span",2),t.YNc(3,o,2,0,"span",1),t.TgZ(4,"sp-breadcrumb-element"),t.YNc(5,d,1,0,"ng-container",3),t.qZA(),t.BQk()),2&m){const E=v.$implicit,C=v.first,T=v.last,y=v.index,I=t.oxw();t.xp6(1),t.Q6J("ngIf",!C),t.xp6(1),t.Q6J("ngIf",I.showDeepIcon(y)),t.xp6(1),t.Q6J("ngIf",I.showDeepIcon(y)),t.xp6(2),t.Q6J("ngTemplateOutlet",I.content)("ngTemplateOutletContext",I.getContext(E,C,T))}}const p=["*"];let f=(()=>{class m extends n.H{constructor(E,C){super(E,C),this.items=[],this.deep=0,this.alwaysShowFirstItem=!1,this.preparedItems=[]}ngOnChanges(E){(E.items||E.deep)&&this.prepareItems()}getContext(E,C,T){return{item:E,isFirst:C,isLast:T}}showDeepIcon(E){const C=this.items.length;return this.alwaysShowFirstItem?this.getMaxItemsToShow()<C-1&&1===E:this.getMaxItemsToShow()<C&&0===E}getHostClasses(){return["sp-breadcrumb"]}prepareItems(){if(this.deep&&this.getMaxItemsToShow()<this.items.length){const E=this.items.length,C=E-this.getMaxItemsToShow();this.preparedItems=this.items.slice(C,E),this.alwaysShowFirstItem&&this.preparedItems.unshift(this.items[0])}else this.preparedItems=[...this.items]}getMaxItemsToShow(){return this.deep+1}}return m.\u0275fac=function(E){return new(E||m)(t.Y36(t.SBq),t.Y36(t.Qsj))},m.\u0275cmp=t.Xpm({type:m,selectors:[["sp-breadcrumb"]],contentQueries:function(E,C,T){if(1&E&&t.Suo(T,t.Rgc,5),2&E){let y;t.iGM(y=t.CRH())&&(C.content=y.first)}},inputs:{items:"items",deep:"deep",alwaysShowFirstItem:"alwaysShowFirstItem"},features:[t.qOj,t.TTD],ngContentSelectors:p,decls:2,vars:1,consts:[[4,"ngFor","ngForOf"],["class","sp-breadcrumb__divider",4,"ngIf"],["class","sp-breadcrumb__three-dots",4,"ngIf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"sp-breadcrumb__divider"],[1,"sp-breadcrumb__three-dots"]],template:function(E,C){1&E&&(t.F$t(),t.YNc(0,h,6,5,"ng-container",0),t.Hsn(1)),2&E&&t.Q6J("ngForOf",C.preparedItems)},directives:[s.sg,s.O5,i.h,s.tP],styles:[".sp-breadcrumb{display:flex;align-items:center}.sp-breadcrumb__element{font-size:12px;line-height:12px;font-weight:500;text-transform:uppercase;display:inline-flex;align-items:center;vertical-align:top;color:var(--gray-400)}.sp-breadcrumb__element a{color:inherit}.sp-breadcrumb__element a:hover{color:var(--primary);text-decoration:underline}.sp-breadcrumb__divider{display:inline-flex;margin:0 3px}\n"],encapsulation:2,changeDetection:0}),m})()},76752:(S,g,e)=>{"use strict";e.d(g,{w:()=>f});var t=e(55331),n=e(41001),s=e(51805),i=e(51820),o=(e(70402),e(70881),e(68890)),d=e(26566),h=e(84046);let f=(()=>{class m{}return m.\u0275fac=function(E){return new(E||m)},m.\u0275mod=h.oAB({type:m}),m.\u0275inj=h.cJS({imports:[[t.ez,i.I,o.z8,n.J,s.$,d.n]]}),m})()},70881:(S,g,e)=>{"use strict";e.d(g,{h:()=>s});var t=e(84046);const n=["*"];let s=(()=>{class i{}return i.\u0275fac=function(a){return new(a||i)},i.\u0275cmp=t.Xpm({type:i,selectors:[["sp-breadcrumb-element"]],hostAttrs:[1,"sp-breadcrumb__element"],ngContentSelectors:n,decls:1,vars:0,template:function(a,o){1&a&&(t.F$t(),t.Hsn(0))},encapsulation:2,changeDetection:0}),i})()},55472:(S,g,e)=>{"use strict";e.d(g,{J:()=>$});var t=e(84046),n=e(17314),s=e(73197),i=e(70822),r=e(61055),a=e(79584),o=e(10851),d=e(62419),h=e(44864),p=e(60823),f=e(39202),m=e(53180),v=e(71118),E=e(95900),C=e(91078),T=e(64026),y=e(52265),I=e(62546),P=e(67225),L=e(17199),F=e(45927),b=e(55331);let x=(()=>{class X extends I.H{constructor(se,pe){super(se,pe)}ngOnInit(){this.domManipulator.setHostAttribute("id","sp-dropdown-loader")}getHostClasses(){return["sp-dropdown-loader","sp-overflow-hidden","sp-pl-2"]}}return X.\u0275fac=function(se){return new(se||X)(t.Y36(t.SBq),t.Y36(t.Qsj))},X.\u0275cmp=t.Xpm({type:X,selectors:[["sp-dropdown-loader"]],features:[t.qOj],decls:4,vars:0,consts:[[1,"sp-dropdown-loader__item","sp-dropdown-loader__item--1","loading__loader","sp-my-2"],[1,"sp-dropdown-loader__item","sp-dropdown-loader__item--2","loading__loader","sp-mb-2"],[1,"sp-dropdown-loader__item","sp-dropdown-loader__item--3","loading__loader","sp-mb-2"],[1,"sp-dropdown-loader__item","sp-dropdown-loader__item--4","loading__loader","sp-mb-2"]],template:function(se,pe){1&se&&(t._UZ(0,"div",0),t._UZ(1,"div",1),t._UZ(2,"div",2),t._UZ(3,"div",3))},styles:[":host.sp-dropdown-loader{width:200px}.sp-dropdown-loader__item{height:16px;border-radius:var(--border-radius-s)}.sp-dropdown-loader__item--1{width:96px}.sp-dropdown-loader__item--2{width:164px}.sp-dropdown-loader__item--3{width:128px}.sp-dropdown-loader__item--4{width:152px}\n"],encapsulation:2,changeDetection:0}),X})();const B=["dropdownMenu"];function M(X,ie){1&X&&t._UZ(0,"sp-dropdown-loader")}function w(X,ie){1&X&&(t.Hsn(0,1),t.Hsn(1,2))}function K(X,ie){if(1&X&&(t.TgZ(0,"div",1),t.YNc(1,M,1,0,"sp-dropdown-loader",2),t.YNc(2,w,2,0,"ng-template",null,3,t.W1O),t.qZA()),2&X){const se=t.MAs(3),pe=t.oxw();t.Q6J("id",pe.dropdownMenuId)("ngClass",pe.customMenuClass)("ngStyle",pe.dropdownMenuPosition),t.xp6(1),t.Q6J("ngIf",pe.isLoading)("ngIfElse",(null==pe.dropdownContentDirective?null:pe.dropdownContentDirective.templateRef)||se)}}const k=[[["","sp-dropdown-open-trigger",""]],[["sp-dropdown-group-config-component"]],[["sp-dropdown-menu-group"]]],G=["[sp-dropdown-open-trigger]","sp-dropdown-group-config-component","sp-dropdown-menu-group"];let $=(()=>{class X extends I.H{constructor(se,pe,ve,Ce,ye,de,Ie,He,Ve,Ue){super(se,pe),this.globalDropdownService=ve,this.localDropdownService=Ce,this.changeDetectorRef=ye,this.positionCalculator=de,this.dropdownNameManager=Ie,this.componentOutlet=He,this.window=Ve,this.outsideClicksWatcher=Ue,this.customMenuClass="",this.disabled=!1,this.isLoading=!1,this.openStateChanged=new t.vpe,this.closed=new t.vpe,this.isOpen=!1,this.dropdownMenuEmbeddedView=null}ngOnChanges(se){se.id&&this.setDropdownId(),se.isLoading&&this.detectChangesForEmbeddedView(),se.disabled&&this.setDropdownDisabled()}ngOnInit(){this.setDropdownId(),this.setDropdownDisabled(),this.observeItemHover(),this.observeItemClick(),this.observeGlobalItemClick(),this.observeGlobalSelectClose(),this.observeWindowResize()}ngAfterViewInit(){this.selectHostClickEvent()}finalize(){this.dropdownMenuEmbeddedView&&this.destroyDropdownMenu()}getHostClasses(){return["sp-dropdown","sp-inline-block","sp-no-select"]}onTriggerClick(){this.isOpen?this.close():this.open()}open(se=null){this.localDropdownService.emitDropdownOpen(),this.isOpen=!0,this.openStateChanged.emit(this.isOpen),this.createDropdownMenu(),this.isSubDropdown||this.observeClickOutside(),this.positionDropdown(),se&&se.setActive(!0),this.domManipulator.addHostClass(X.OPENED_CLASS),this.changeDetectorRef.detectChanges()}close(){!this.isOpen||(this.localDropdownService.emitDropdownClose(),this.isOpen=!1,this.closed.emit(),this.destroyDropdownMenu(),this.dropdownItemRefs&&this.dropdownItemRefs.forEach(se=>{se.setActive(!1)}),this.closeSubdropdowns(),this.domManipulator.removeHostClass(X.OPENED_CLASS),this.changeDetectorRef.detectChanges())}closeSubdropdowns(){this.dropdownMenuGroupRefs&&this.dropdownMenuGroupRefs.forEach(se=>{se.closeSubdropdowns()}),this.dropdownGroupConfigRefs&&this.dropdownGroupConfigRefs.forEach(se=>{!se.dropdownMenuGroup||se.dropdownMenuGroup.forEach(pe=>{pe.closeSubdropdowns()})})}observeDropdownOpen(){return this.localDropdownService.observeDropdownOpen()}observeDropdownClose(){return this.localDropdownService.observeDropdownClose()}markAsSubDropdown(){this.isSubDropdown=!0}checkIsSubDropdown(){return this.isSubDropdown}selectHostClickEvent(){this.domManipulator.hostListen("click").pipe((0,i.h)(()=>!this.disabled),this.takeUntilDestroy()).subscribe(()=>this.onTriggerClick())}observeItemHover(){this.localDropdownService.observeItemHover().pipe(this.takeUntilDestroy()).subscribe(se=>{this.openOrCloseSubdropdownsOnHoverOrClick(se)})}observeItemClick(){this.localDropdownService.observeItemClick().pipe((0,i.h)(()=>!this.disabled),this.takeUntilDestroy()).subscribe(se=>{this.openOrCloseSubdropdownsOnHoverOrClick(se,!0)})}observeGlobalItemClick(){this.globalDropdownService.observeItemClick().pipe(this.takeUntilDestroy()).subscribe(()=>{this.close()})}observeGlobalSelectClose(){this.globalDropdownService.selectClose().pipe((0,i.h)(()=>this.isOpen),this.takeUntilDestroy()).subscribe(()=>{this.close()})}observeWindowResize(){(0,s.R)(this.window,"resize").pipe((0,i.h)(()=>this.isOpen&&this.window.innerWidth>=m.a),this.takeUntilDestroy()).subscribe(()=>{this.positionDropdown()})}positionDropdown(){let se,pe;this.checkIsSubDropdown()||this.isInitialPositionLeft()?(se=E.X.EAST,pe=T.e.TOP):(se=E.X.SOUTH,pe=T.e.LEFT);const ve=this.positionCalculator.calculateNewElementsPosition(y.i.default().withLinkedElements({element:this.getDropdownMenuElem(),anchor:this.elementRef.nativeElement}).withGravity(se).withAlignment(pe).withMargin(m.k));this.dropdownMenuPosition={transform:`translate(${v.l.numberToPxString(ve.left)}, ${v.l.numberToPxString(ve.top-X.TOP_PADDING_IN_PX)})`},this.detectChangesForEmbeddedView()}openOrCloseSubdropdownsOnHoverOrClick(se,pe=!1){const ve=se.getTrigger();this.closeSubdropdowns(),ve&&!this.isOpen?this.open(se):pe&&this.close()}observeClickOutside(){this.outsideClicksWatcher.watchForClicksOutside(this.getDropdownMenuElem(),{ignoredElement:this.elementRef.nativeElement}).pipe((0,C.B)(this.dropdownMenuEmbeddedView),this.takeUntilDestroy()).subscribe(()=>this.close())}getDropdownMenuElem(){return this.dropdownMenuEmbeddedView?this.dropdownMenuEmbeddedView.rootNodes[0]:null}createDropdownMenu(){this.dropdownMenuEmbeddedView=this.componentOutlet.createEmbeddedView(this.dropdownMenuTemplate,this.elementRef.nativeElement),this.detectChangesForEmbeddedView()}destroyDropdownMenu(){!this.dropdownMenuEmbeddedView||(this.isOpen=!1,this.dropdownMenuEmbeddedView.destroy(),this.dropdownMenuEmbeddedView=null)}detectChangesForEmbeddedView(){this.dropdownMenuEmbeddedView&&this.dropdownMenuEmbeddedView.detectChanges()}isInitialPositionLeft(){return"left"===this.initialPosition}setDropdownDisabled(){this.disabled?this.domManipulator.addHostClass(X.DISABLED_CLASS):this.domManipulator.removeHostClass(X.DISABLED_CLASS)}setDropdownId(){const{dropdownId:se,dropdownMenuId:pe}=this.id?this.getCustomDropdownIds():this.getGeneratedDropdownIds();this.domManipulator.setHostAttribute("id",se),this.dropdownMenuId=pe}getCustomDropdownIds(){const se=`${this.id}-dropdown`;return{dropdownId:se,dropdownMenuId:`${se}-menu`}}getGeneratedDropdownIds(){const se=this.dropdownNameManager.generateDropdownId();return{dropdownId:se,dropdownMenuId:p.d.getMenuIdByDropdownId(se)}}}return X.SELECTOR="sp-dropdown",X.DISABLED_CLASS="sp-dropdown--is-disabled",X.OPENED_CLASS="sp-dropdown--is-opened",X.TOP_PADDING_IN_PX=4,X.\u0275fac=function(se){return new(se||X)(t.Y36(t.SBq),t.Y36(t.Qsj),t.Y36(P.P),t.Y36(f.a),t.Y36(t.sBO),t.Y36(L.o),t.Y36(p.d),t.Y36(F.r),t.Y36(n.m),t.Y36(r.x))},X.\u0275cmp=t.Xpm({type:X,selectors:[["sp-dropdown"]],contentQueries:function(se,pe,ve){if(1&se&&(t.Suo(ve,o.H,5),t.Suo(ve,h.Y,4),t.Suo(ve,d.N,4),t.Suo(ve,a.p,4)),2&se){let Ce;t.iGM(Ce=t.CRH())&&(pe.dropdownContentDirective=Ce.first),t.iGM(Ce=t.CRH())&&(pe.dropdownMenuGroupRefs=Ce),t.iGM(Ce=t.CRH())&&(pe.dropdownItemRefs=Ce),t.iGM(Ce=t.CRH())&&(pe.dropdownGroupConfigRefs=Ce)}},viewQuery:function(se,pe){if(1&se&&t.Gf(B,7),2&se){let ve;t.iGM(ve=t.CRH())&&(pe.dropdownMenuTemplate=ve.first)}},inputs:{id:"id",customMenuClass:"customMenuClass",disabled:"disabled",isLoading:"isLoading",initialPosition:"initialPosition"},outputs:{openStateChanged:"openStateChanged",closed:"closed"},features:[t._Bn([f.a]),t.qOj,t.TTD],ngContentSelectors:G,decls:3,vars:0,consts:[["dropdownMenu",""],[1,"sp-dropdown__menu","sp-absolute","sp-flex","sp-flex-col","sp-bg-background","sp-dark:bg-gray-30","sp-shadow","sp-border-0","sp-border-rounded","sp-overflow-y-auto","sp-z-9","sp-py-1",3,"id","ngClass","ngStyle"],[4,"ngIf","ngIfElse"],["contentRef",""]],template:function(se,pe){1&se&&(t.F$t(k),t.Hsn(0),t.YNc(1,K,4,5,"ng-template",null,0,t.W1O))},directives:[b.mk,b.PC,b.O5,x],styles:[".sp-dropdown__menu{min-width:150px;max-width:750px;max-height:60vh;will-change:transform;top:0;left:0}.sp-dropdown--is-opened [sp-dropdown-open-trigger]:not(.sp-dropdown-item):not(.sp-dropdown__trigger--icon){background-color:var(--gray-600);color:var(--gray-0);outline:none}.sp-dropdown--is-opened [sp-dropdown-open-trigger]:not(.sp-dropdown-item):not(.sp-dropdown__trigger--icon):active{background-color:var(--gray-600)}.sp-dropdown--is-opened [sp-dropdown-open-trigger]:not(.sp-dropdown-item).sp-dropdown__trigger--icon{color:var(--primary)}.sp-dropdown--is-disabled [sp-dropdown-open-trigger]:not(.sp-dropdown-item):active{background-color:var(--gray-20)}\n"],encapsulation:2,changeDetection:0}),X})()},10851:(S,g,e)=>{"use strict";e.d(g,{H:()=>n});var t=e(84046);let n=(()=>{class s{constructor(r){this.templateRef=r}}return s.\u0275fac=function(r){return new(r||s)(t.Y36(t.Rgc))},s.\u0275dir=t.lG2({type:s,selectors:[["","spDropdownContent",""]]}),s})()},69085:(S,g,e)=>{"use strict";e.d(g,{H:()=>t});var t=(()=>{return(n=t||(t={})).DEFAULT="default",n.WITHOUT_AUTO_CLOSE="no-auto-close",n.RADIO="radio",n.CHECKBOX="checkbox",n.LINK="link",t;var n})()},90771:(S,g,e)=>{"use strict";e.d(g,{e:()=>s});var t=e(90850),n=e(84046);let s=(()=>{class i{constructor(){this.radioItemClicked$=new t.xQ}observeRadioItemClick(){return this.radioItemClicked$.asObservable()}emitRadioItemClicked(){this.radioItemClicked$.next(!0)}}return i.\u0275fac=function(a){return new(a||i)},i.\u0275prov=n.Yz7({token:i,factory:i.\u0275fac}),i})()},65993:(S,g,e)=>{"use strict";e.d(g,{k:()=>$});var t=e(55331),n=e(41001),s=e(26566),i=e(61055),r=e(73891),a=e(48876),d=(e(56254),e(79584)),h=e(55472),f=(e(10851),e(62419)),m=e(44864),v=e(90771),E=e(60823),C=e(67225),y=(e(7434),e(15182)),I=e(5644),P=e(85013),L=e(68890),F=e(1030),b=e(4252),x=e(51805),B=e(33945),M=e(84046),w=e(9400),K=e(37752);const G=[v.e,C.P,E.d,y.n];let $=(()=>{class X{static forRoot(){return{ngModule:X,providers:G}}}return X.\u0275fac=function(se){return new(se||X)},X.\u0275mod=M.oAB({type:X}),X.\u0275inj=M.cJS({imports:[[t.ez,i.w,I.u.forRoot(),b.R.forRoot(),L.z8,a.y,r.Z,P.D,s.n,B.Q,F.l,n.J,x.$]]}),X})();M.B6R(d.p,[t.O5,t.sg,m.Y,f.N,w.b,K.E,h.J,d.p],[])},60823:(S,g,e)=>{"use strict";e.d(g,{d:()=>i});var t=e(84046);const n="sp-dropdown-",s=`${n}menu-`;let i=(()=>{class r{static getMenuIdByDropdownId(o){const d=o.replace(n,"");return`${s}${d}`}static incrementId(){r.id++}generateDropdownId(){return r.incrementId(),`${n}${r.id}`}}return r.id=-1,r.\u0275fac=function(o){return new(o||r)},r.\u0275prov=t.Yz7({token:r,factory:r.\u0275fac}),r})()},67225:(S,g,e)=>{"use strict";e.d(g,{P:()=>s});var t=e(90850),n=e(84046);let s=(()=>{class i{constructor(){this.itemClicked$=new t.xQ,this.close$=new t.xQ}observeItemClick(){return this.itemClicked$.asObservable()}emitItemClick(){this.itemClicked$.next(!0)}close(){this.close$.next()}selectClose(){return this.close$.asObservable()}}return i.\u0275fac=function(a){return new(a||i)},i.\u0275prov=n.Yz7({token:i,factory:i.\u0275fac}),i})()},39202:(S,g,e)=>{"use strict";e.d(g,{a:()=>s});var t=e(90850),n=e(84046);let s=(()=>{class i{constructor(){this.itemHovered$=new t.xQ,this.dropdownOpen$=new t.xQ,this.dropdownClose$=new t.xQ,this.itemClicked$=new t.xQ}observeItemHover(){return this.itemHovered$.asObservable()}observeItemClick(){return this.itemClicked$.asObservable()}observeDropdownOpen(){return this.dropdownOpen$.asObservable()}observeDropdownClose(){return this.dropdownClose$.asObservable()}emitHoveredItem(a){this.itemHovered$.next(a)}emitItemClick(a){this.itemClicked$.next(a)}emitDropdownOpen(){this.dropdownOpen$.next(!0)}emitDropdownClose(){this.dropdownClose$.next()}}return i.\u0275fac=function(a){return new(a||i)},i.\u0275prov=n.Yz7({token:i,factory:i.\u0275fac}),i})()},56254:(S,g,e)=>{"use strict";e.d(g,{b:()=>f});var t=e(83941),n=e(55472),s=e(69085),i=e(84046),r=e(79584);const a=["dropdownRef"],o=[[["div","role","head"]],[["div","role","body"]]],d=["div[role=head]","div[role=body]"];class h{constructor(v,E=""){this.items=v,this.position=E,this.header="",this.type=s.H.DEFAULT,this.divider=!0}}let p=(()=>{class m{constructor(E,C){this.label=E,this.children=C,this.id="",this.tooltip="",this.checked=!1,this.confirmDialog=null,this.suffixIcon=null,this.suffixIconURL="",this.suffixHomeURL="",this.onClick=()=>{},this.isEnabled=()=>!0,this.isVisible=()=>!0,this.prefixIcon=null}}return m.\u0275fac=function(E){return new(E||m)(i.Y36(t.H),i.Y36(Array))},m.\u0275dir=i.lG2({type:m,viewQuery:function(E,C){if(1&E&&i.Gf(a,5),2&E){let T;i.iGM(T=i.CRH())&&(C.dropdown=T.first)}}}),m})(),f=(()=>{class m{constructor(){this.dropdownConfig=[new h([new p(t.H.string(""),[]),new p(t.H.string(""),[])])],this.classDisplayBlock=!0}ngOnChanges(){this.dropdownConfig=this.convert(this.config)}open(){this.dropdown.open()}close(){this.dropdown.close()}isOpen(){return this.dropdown.isOpen}convert(E){return[...E]}}return m.\u0275fac=function(E){return new(E||m)},m.\u0275cmp=i.Xpm({type:m,selectors:[["sp-dropdown-config-component"]],viewQuery:function(E,C){if(1&E&&i.Gf(a,7),2&E){let T;i.iGM(T=i.CRH())&&(C.dropdown=T.first)}},hostVars:2,hostBindings:function(E,C){2&E&&i.ekj("sp-block",C.classDisplayBlock)},inputs:{config:"config",mainMenuPosition:"mainMenuPosition",dropdownId:"dropdownId"},features:[i.TTD],ngContentSelectors:d,decls:6,vars:3,consts:[[3,"initialPosition","id"],["dropdownRef",""],["sp-dropdown-open-trigger",""],["id","sp-dropdown-group-config-component",3,"config"]],template:function(E,C){1&E&&(i.F$t(o),i.TgZ(0,"sp-dropdown",0,1),i.ynx(2,2),i.Hsn(3),i.BQk(),i.TgZ(4,"sp-dropdown-group-config-component",3),i.Hsn(5,1),i.qZA(),i.qZA()),2&E&&(i.Q6J("initialPosition",C.mainMenuPosition)("id",C.dropdownId),i.xp6(4),i.Q6J("config",C.config))},directives:[n.J,r.p],encapsulation:2,changeDetection:0}),m})()},79584:(S,g,e)=>{"use strict";e.d(g,{p:()=>E});var t=e(69085),n=e(44864),s=e(62546),i=e(95900),r=e(84046),a=e(39202);function o(C,T){if(1&C){const y=r.EpF();r.TgZ(0,"sp-dropdown-item",6),r.NdJ("spConfirmDialogOnSubmit",function(){r.CHM(y);const P=r.oxw(2).$implicit;return r.oxw(3).clickOnItem(P)}),r._UZ(1,"sp-rich-text",7),r.qZA()}if(2&C){const y=r.oxw(2).$implicit,I=r.oxw().$implicit,P=r.oxw(2);let L;r.Q6J("spConfirmDialog",y.isEnabled()&&!(!y.confirmDialog||!y.confirmDialog.message.length))("spConfirmDialogMessage",null==y.confirmDialog?null:y.confirmDialog.message)("spConfirmDialogConfirmButtonTitle",null==y.confirmDialog?null:y.confirmDialog.confirmButtonTitle)("spConfirmDialogGravity",P.gravity.EAST)("prefixIcon",y.prefixIcon)("tooltip",y.tooltip)("tooltipColor",null!==(L=y.tooltipColor)&&void 0!==L?L:"charcoal")("suffixIcon",y.suffixIcon)("suffixImg",y.suffixIconURL)("suffixHomeUrl",y.suffixHomeURL)("checked",y.checked)("disabled",!y.isEnabled())("id",P.composeDropdownId(y.id))("navigationLink",y.navigationLink)("selectedType",I.type),r.xp6(1),r.ekj("sp-block",I.type===P.DropdownItemType.LINK)("sp-h-full",I.type===P.DropdownItemType.LINK)("sp-w-full",I.type===P.DropdownItemType.LINK),r.Q6J("config",y.label)}}function d(C,T){if(1&C){const y=r.EpF();r.TgZ(0,"sp-dropdown",8),r.TgZ(1,"sp-dropdown-item",9),r.NdJ("spConfirmDialogOnSubmit",function(){r.CHM(y);const P=r.oxw(2).$implicit;return r.oxw(3).clickOnItem(P)}),r._UZ(2,"sp-rich-text",7),r.qZA(),r._UZ(3,"sp-dropdown-group-config-component",7),r.qZA()}if(2&C){const y=r.oxw(2).$implicit,I=r.oxw(3);let P;r.Q6J("initialPosition","left"),r.xp6(1),r.Q6J("spConfirmDialog",!(!y.confirmDialog||!y.confirmDialog.message.length))("spConfirmDialogMessage",null==y.confirmDialog?null:y.confirmDialog.message)("spConfirmDialogGravity",I.gravity.EAST)("spConfirmDialogConfirmButtonTitle",null==y.confirmDialog?null:y.confirmDialog.confirmButtonTitle)("tooltip",y.tooltip)("tooltipColor",null!==(P=y.tooltipColor)&&void 0!==P?P:"charcoal")("suffixIcon",y.suffixIcon)("suffixImg",y.suffixIconURL)("suffixHomeUrl",y.suffixHomeURL)("checked",y.checked)("disabled",!y.isEnabled())("id",I.composeDropdownId(y.id)),r.xp6(1),r.Q6J("config",y.label),r.xp6(1),r.Q6J("config",y.children)}}function h(C,T){if(1&C&&(r.ynx(0),r.YNc(1,o,2,22,"sp-dropdown-item",4),r.YNc(2,d,4,15,"sp-dropdown",5),r.BQk()),2&C){const y=r.oxw().$implicit;r.xp6(1),r.Q6J("ngIf",0===y.children.length),r.xp6(1),r.Q6J("ngIf",0!==y.children.length)}}function p(C,T){if(1&C&&(r.ynx(0),r.YNc(1,h,3,2,"ng-container",0),r.BQk()),2&C){const y=T.$implicit;r.xp6(1),r.Q6J("ngIf",y.isVisible())}}function f(C,T){if(1&C&&(r.TgZ(0,"sp-dropdown-menu-group",2),r.YNc(1,p,2,1,"ng-container",3),r.qZA()),2&C){const y=T.$implicit;r.Q6J("divider",y.divider)("type",y.type)("header",y.header),r.xp6(1),r.Q6J("ngForOf",y.items)}}function m(C,T){if(1&C&&(r.ynx(0),r.YNc(1,f,2,4,"sp-dropdown-menu-group",1),r.BQk()),2&C){const y=r.oxw();r.xp6(1),r.Q6J("ngForOf",y.config)}}const v=["*"];let E=(()=>{class C extends s.H{constructor(y,I,P,L){super(y,I),this.changeDetectorRef=P,this.localDropdownService=L,this.gravity=i.X,this.isOpened=!1,this.DropdownItemType=t.H}ngAfterContentInit(){this.observeDropdownOpen()}clickOnItem(y){!y.isEnabled()||y.onClick()}composeDropdownId(y){const I="sp-dropdown-item";return y&&y.length?`${I}-${y}`:I}observeDropdownOpen(){this.localDropdownService.observeDropdownOpen().pipe(this.takeUntilDestroy()).subscribe(y=>{this.isOpened=y,this.changeDetectorRef.detectChanges()})}}return C.\u0275fac=function(y){return new(y||C)(r.Y36(r.SBq),r.Y36(r.Qsj),r.Y36(r.sBO),r.Y36(a.a))},C.\u0275cmp=r.Xpm({type:C,selectors:[["sp-dropdown-group-config-component"]],viewQuery:function(y,I){if(1&y&&r.Gf(n.Y,5),2&y){let P;r.iGM(P=r.CRH())&&(I.dropdownMenuGroup=P)}},inputs:{config:"config"},features:[r.qOj],ngContentSelectors:v,decls:2,vars:1,consts:[[4,"ngIf"],["id","sp-dropdown-menu-group",3,"divider","type","header",4,"ngFor","ngForOf"],["id","sp-dropdown-menu-group",3,"divider","type","header"],[4,"ngFor","ngForOf"],[3,"spConfirmDialog","spConfirmDialogMessage","spConfirmDialogConfirmButtonTitle","spConfirmDialogGravity","prefixIcon","tooltip","tooltipColor","suffixIcon","suffixImg","suffixHomeUrl","checked","disabled","id","navigationLink","selectedType","spConfirmDialogOnSubmit",4,"ngIf"],[3,"initialPosition",4,"ngIf"],[3,"spConfirmDialog","spConfirmDialogMessage","spConfirmDialogConfirmButtonTitle","spConfirmDialogGravity","prefixIcon","tooltip","tooltipColor","suffixIcon","suffixImg","suffixHomeUrl","checked","disabled","id","navigationLink","selectedType","spConfirmDialogOnSubmit"],[3,"config"],[3,"initialPosition"],["sp-dropdown-open-trigger","",3,"spConfirmDialog","spConfirmDialogMessage","spConfirmDialogGravity","spConfirmDialogConfirmButtonTitle","tooltip","tooltipColor","suffixIcon","suffixImg","suffixHomeUrl","checked","disabled","id","spConfirmDialogOnSubmit"]],template:function(y,I){1&y&&(r.F$t(),r.YNc(0,m,2,1,"ng-container",0),r.Hsn(1)),2&y&&r.Q6J("ngIf",I.isOpened)},encapsulation:2,changeDetection:0}),C})()},62419:(S,g,e)=>{"use strict";e.d(g,{N:()=>ie});var t=e(84046),s=(e(52777),(()=>{return(se=s||(s={})).DISABLED="sp-dropdown-item--is-disabled",se.LINK="sp-dropdown-item--is-link",se.CHECKED="sp-checked",se.ACTIVE="active",s;var se})()),i=e(69085),r=e(62546),a=e(95900),o=e(67225),d=e(90771),h=e(39202),p=e(55331),f=e(31337),m=e(83063),v=e(68890),E=e(26463),C=e(65799),T=e(18217);function y(se,pe){if(1&se&&t._UZ(0,"sp-form-control-svg",9),2&se){const ve=t.oxw(2);t.ekj("sp-dropdown-item__checkbox",ve.selectedType===ve.dropdownType.CHECKBOX)("sp-dropdown-item__radio",ve.selectedType===ve.dropdownType.RADIO),t.Q6J("disabled",ve.disabled)("checked",ve.checked)("type",ve.selectedType),t.uIk("id",ve.formControlId)}}function I(se,pe){if(1&se&&t._UZ(0,"sp-icon",10),2&se){const ve=t.oxw(2);t.Q6J("name",ve.prefixIcon.getName())("color",ve.prefixIcon.getColor())("type",ve.prefixIcon.getType())}}function P(se,pe){if(1&se&&(t.TgZ(0,"p",11),t._uU(1),t.ALo(2,"spL10nText"),t.qZA()),2&se){const ve=t.oxw(2);t.xp6(1),t.hij(" ",t.lcZ(2,1,ve.description)," ")}}function L(se,pe){if(1&se){const ve=t.EpF();t.TgZ(0,"img",15),t.NdJ("click",function(ye){return t.CHM(ve),t.oxw(3).stopEventPropagationWhenDisabled(ye)}),t.ALo(1,"spRichTextI18n"),t.qZA()}if(2&se){const ve=t.oxw(3);t.Q6J("spTooltipEnabled",!!ve.tooltip)("spTooltip",t.lcZ(1,5,ve.tooltip))("spTooltipGravity",ve.gravity.EAST)("spTooltipColor",ve.tooltipColor)("src",ve.suffixImg,t.LSH)}}function F(se,pe){if(1&se){const ve=t.EpF();t.TgZ(0,"sp-icon",17),t.NdJ("click",function(ye){return t.CHM(ve),t.oxw(4).stopEventPropagationWhenDisabled(ye)}),t.ALo(1,"spRichTextI18n"),t.qZA()}if(2&se){const ve=t.oxw(4);t.Q6J("spTooltipEnabled",!!ve.tooltip)("spTooltip",t.lcZ(1,7,ve.tooltip))("spTooltipGravity",ve.gravity.EAST)("spTooltipColor",ve.tooltipColor)("name",ve.suffixIcon.getName())("color",ve.suffixIcon.getColor())("type",ve.suffixIcon.getType())}}function b(se,pe){if(1&se&&t.YNc(0,F,2,9,"sp-icon",16),2&se){t.oxw();const ve=t.MAs(5),Ce=t.oxw(2);t.Q6J("ngIf",Ce.suffixIcon)("ngIfElse",ve)}}function x(se,pe){if(1&se){const ve=t.EpF();t.TgZ(0,"i",18),t.NdJ("click",function(ye){return t.CHM(ve),t.oxw(3).stopEventPropagationWhenDisabled(ye)}),t.ALo(1,"spRichTextI18n"),t.qZA()}if(2&se){const ve=t.oxw(3);t.Q6J("spTooltipEnabled",!!ve.tooltip)("spTooltip",t.lcZ(1,4,ve.tooltip))("spTooltipGravity",ve.gravity.EAST)("spTooltipColor",ve.tooltipColor)}}function B(se,pe){if(1&se&&(t.ynx(0),t.YNc(1,L,2,7,"img",12),t.YNc(2,b,1,2,"ng-template",null,13,t.W1O),t.YNc(4,x,2,6,"ng-template",null,14,t.W1O),t.BQk()),2&se){const ve=t.MAs(3),Ce=t.oxw(2);t.xp6(1),t.Q6J("ngIf",Ce.suffixImg)("ngIfElse",ve)}}function M(se,pe){1&se&&t._UZ(0,"i",19)}function w(se,pe){if(1&se&&(t.YNc(0,y,1,8,"sp-form-control-svg",3),t.YNc(1,I,1,3,"sp-icon",4),t.TgZ(2,"div",5),t.Hsn(3),t.YNc(4,P,3,3,"p",6),t.qZA(),t.YNc(5,B,6,2,"ng-container",7),t.YNc(6,M,1,0,"i",8)),2&se){const ve=t.oxw();t.Q6J("ngIf",ve.isFormControlVisible),t.xp6(1),t.Q6J("ngIf",ve.prefixIcon),t.xp6(3),t.Q6J("ngIf",ve.description),t.xp6(1),t.Q6J("ngIf",ve.tooltip),t.xp6(1),t.Q6J("ngIf",ve.isTrigger)}}function K(se,pe){1&se&&t.GkF(0)}function k(se,pe){if(1&se&&(t.TgZ(0,"a",20),t.YNc(1,K,1,0,"ng-container",21),t.qZA()),2&se){const ve=t.oxw(),Ce=t.MAs(1);t.Tol(ve.wrapperClasses),t.Q6J("spNavigationLink",ve.disabled?null:ve.navigationLink),t.xp6(1),t.Q6J("ngTemplateOutlet",Ce)}}function G(se,pe){1&se&&t.GkF(0)}function $(se,pe){if(1&se&&(t.TgZ(0,"div"),t.YNc(1,G,1,0,"ng-container",21),t.qZA()),2&se){const ve=t.oxw(),Ce=t.MAs(1);t.Tol(ve.wrapperClasses),t.xp6(1),t.Q6J("ngTemplateOutlet",Ce)}}const X=["*"];let ie=(()=>{class se extends r.H{constructor(ve,Ce,ye,de,Ie,He,Ve){super(Ce,ve),this.globalDropdownService=ye,this.dropdownMenuGroupService=de,this.localDropdownService=Ie,this.changeDetectorRef=He,this.triggerAttribute=Ve,this.tooltip="",this.tooltipColor="charcoal",this.suffixImg=null,this.checked=!1,this.disabled=!1,this.itemClick=new t.vpe,this.dropdownType=i.H,this.gravity=a.X,this.wrapperClasses="sp-dropdown-item__wrapper sp-px-3 sp-flex sp-flex-wrap sp-items-center",this.isFormControlVisible=!1}ngOnChanges(ve){ve.checked&&this.updateStatusClass(s.CHECKED,this.checked),ve.disabled&&this.updateStatusClass(s.DISABLED,this.disabled),ve.selectedType&&ve.selectedType.currentValue&&this.updateStatusClass(s.LINK,this.selectedType===i.H.LINK)}ngOnInit(){this.setFormControlVisibility(),this.setFormControlId(),this.setTriggerStatus()}ngAfterViewInit(){this.setHostId(),this.updateStatusClass(s.CHECKED,this.checked),this.updateStatusClass(s.DISABLED,this.disabled),this.selectHostEvents(),this.changeDetectorRef.detectChanges()}getTrigger(){return this.isTrigger}setTrigger(ve){this.isTrigger=ve}getActive(){return this.isActive}setActive(ve){this.isActive=ve,this.updateStatusClass(s.ACTIVE,ve),this.changeDetectorRef.detectChanges()}getType(){return this.selectedType}setType(ve){this.selectedType=ve,this.setFormControlVisibility(),this.setFormControlId(),this.updateStatusClass(s.LINK,this.selectedType===i.H.LINK),this.domManipulator.setHostAttribute(se.TYPE_ATTR,String(ve)),this.changeDetectorRef.detectChanges()}getChecked(){return this.checked}setChecked(ve){this.checked=ve,this.updateStatusClass(s.CHECKED,this.checked),this.changeDetectorRef.detectChanges()}stopEventPropagationWhenDisabled(ve){this.disabled&&ve.stopPropagation()}getHostClasses(){return["sp-dropdown-item","sp-block","sp-relative","sp-cursor-pointer"]}selectHostEvents(){this.observeHostMouseEnterEvent(),this.observeHostClickEvent(),this.observeHostTouchEndEvent()}observeHostMouseEnterEvent(){this.domManipulator.hostListen("mouseenter").pipe(this.takeUntilDestroy()).subscribe(()=>{this.disabled||this.localDropdownService.emitHoveredItem(this)})}observeHostClickEvent(){this.domManipulator.hostListen("click").pipe(this.takeUntilDestroy()).subscribe(ve=>{this.resolveClickOnHostElement(ve)})}observeHostTouchEndEvent(){this.domManipulator.hostListen("touchend").pipe(this.takeUntilDestroy()).subscribe(ve=>{this.resolveClickOnHostElement(ve)})}resolveClickOnHostElement(ve){if(!this.disabled)return this.isTrigger?(ve.stopPropagation(),void this.localDropdownService.emitItemClick(this)):(this.doActionByDropdownItemType(),void this.itemClick.next());ve.stopPropagation()}doActionByDropdownItemType(){switch(this.selectedType){case i.H.DEFAULT:this.globalDropdownService.emitItemClick();break;case i.H.CHECKBOX:this.setChecked(!this.checked);break;case i.H.RADIO:this.dropdownMenuGroupService.emitRadioItemClicked(),this.setChecked(!0)}}setFormControlVisibility(){this.isFormControlVisible="checkbox"===this.selectedType||"radio"===this.selectedType}setFormControlId(){this.formControlId="checkbox"===this.selectedType?this.composeCheckboxFormControlSvgId():this.composeRadioFormControlSvgId()}composeCheckboxFormControlSvgId(){return`${this.id||"sp-dropdown-item"}-checkbox`}composeRadioFormControlSvgId(){return`${this.id||"sp-dropdown-item"}-radio`}setHostId(){this.id&&this.domManipulator.setHostAttribute("id",this.id)}setTriggerStatus(){this.isTrigger=""===this.triggerAttribute}updateStatusClass(ve,Ce){Ce?this.setStatusClass(ve):this.removeStatusClass(ve)}setStatusClass(ve){this.domManipulator.addHostClass(ve)}removeStatusClass(ve){this.domManipulator.removeHostClass(ve)}}return se.TYPE_ATTR="type",se.\u0275fac=function(ve){return new(ve||se)(t.Y36(t.Qsj),t.Y36(t.SBq),t.Y36(o.P),t.Y36(d.e),t.Y36(h.a),t.Y36(t.sBO),t.$8M("sp-dropdown-open-trigger"))},se.\u0275cmp=t.Xpm({type:se,selectors:[["sp-dropdown-item"]],inputs:{id:"id",tooltip:"tooltip",prefixIcon:"prefixIcon",tooltipColor:"tooltipColor",suffixImg:"suffixImg",suffixIcon:"suffixIcon",suffixHomeUrl:"suffixHomeUrl",description:"description",checked:"checked",disabled:"disabled",selectedType:"selectedType",navigationLink:"navigationLink"},outputs:{itemClick:"itemClick"},features:[t.qOj,t.TTD],ngContentSelectors:X,decls:5,vars:2,consts:[["itemContent",""],["class","sp-dropdown-item__link",3,"spNavigationLink","class",4,"ngIf","ngIfElse"],["divWrapper",""],["class","sp-mr-2 sp-align-self-start",3,"disabled","checked","type","sp-dropdown-item__checkbox","sp-dropdown-item__radio",4,"ngIf"],["class","sp-dropdown-item__icon-img sp-flex sp-items-center sp-justify-center sp-mr-1",3,"name","color","type",4,"ngIf"],[1,"sp-dropdown-item__content-container","sp-flex-auto","sp-truncate"],["class","sp-dropdown-item__description sp-mb-0 sp-pb-1 sp-text-s sp-leading-4",4,"ngIf"],[4,"ngIf"],["class","sp-dropdown-item__sub-menu-icon fa fa-chevron-right sp-text-xs sp-ml-3",4,"ngIf"],[1,"sp-mr-2","sp-align-self-start",3,"disabled","checked","type"],[1,"sp-dropdown-item__icon-img","sp-flex","sp-items-center","sp-justify-center","sp-mr-1",3,"name","color","type"],[1,"sp-dropdown-item__description","sp-mb-0","sp-pb-1","sp-text-s","sp-leading-4"],["class","sp-dropdown-item__icon-img sp-flex sp-items-center sp-justify-center sp-ml-3",3,"spTooltipEnabled","spTooltip","spTooltipGravity","spTooltipColor","src","click",4,"ngIf","ngIfElse"],["customIcon",""],["defaultIcon",""],[1,"sp-dropdown-item__icon-img","sp-flex","sp-items-center","sp-justify-center","sp-ml-3",3,"spTooltipEnabled","spTooltip","spTooltipGravity","spTooltipColor","src","click"],["class","sp-dropdown-item__icon-img sp-flex sp-items-center sp-justify-center sp-ml-3",3,"spTooltipEnabled","spTooltip","spTooltipGravity","spTooltipColor","name","color","type","click",4,"ngIf","ngIfElse"],[1,"sp-dropdown-item__icon-img","sp-flex","sp-items-center","sp-justify-center","sp-ml-3",3,"spTooltipEnabled","spTooltip","spTooltipGravity","spTooltipColor","name","color","type","click"],[1,"far","fa-question-circle","sp-ml-3",3,"spTooltipEnabled","spTooltip","spTooltipGravity","spTooltipColor","click"],[1,"sp-dropdown-item__sub-menu-icon","fa","fa-chevron-right","sp-text-xs","sp-ml-3"],[1,"sp-dropdown-item__link",3,"spNavigationLink"],[4,"ngTemplateOutlet"]],template:function(ve,Ce){if(1&ve&&(t.F$t(),t.YNc(0,w,7,5,"ng-template",null,0,t.W1O),t.YNc(2,k,2,4,"a",1),t.YNc(3,$,2,3,"ng-template",null,2,t.W1O)),2&ve){const ye=t.MAs(4);t.xp6(2),t.Q6J("ngIf",Ce.navigationLink)("ngIfElse",ye)}},directives:[p.O5,f.U,m.o,v.i9,E.k,p.tP],pipes:[C.L,T.d],styles:[".sp-dropdown-item:hover,.sp-dropdown-item:active,.sp-dropdown-item.active,.sp-dropdown-item[sp-dropdown-open-trigger]:hover,.sp-dropdown-item[sp-dropdown-open-trigger]:active,.sp-dropdown-item[sp-dropdown-open-trigger].active,.sp-dropdown-item--is-active:hover,.sp-dropdown-item--is-active:active,.sp-dropdown-item--is-active.active{background-color:var(--gray-30);color:var(--gray-600)}.sp-dropdown-item__wrapper{min-height:32px}.sp-dropdown-item__wrapper:hover{-webkit-text-decoration-line:none;text-decoration-line:none}.sp-dropdown-item__description{color:var(--gray-200);margin-top:2px}.sp-dropdown-item__content-container{min-width:1px}.sp-dropdown-item__content-container a{color:var(--gray-600)}.sp-dropdown-item__content-container a:hover,.sp-dropdown-item__content-container a:active,.sp-dropdown-item__content-container a:focus{text-decoration:none}.sp-dropdown-item__icon-img{flex:0 0 16px;width:16px;height:16px}.sp-dropdown-item__sub-menu-icon{flex:0 0 8px;width:8px}.sp-dropdown-item__link{color:var(--gray-600)}.sp-dropdown-item--is-disabled{cursor:not-allowed;color:var(--gray-50)}.sp-dropdown-item--is-disabled,.sp-dropdown-item--is-disabled[sp-dropdown-open-trigger]{background-color:transparent;color:var(--gray-50)}.sp-dropdown-item--is-disabled:hover,.sp-dropdown-item--is-disabled:active,.sp-dropdown-item--is-disabled.active,.sp-dropdown-item--is-disabled[sp-dropdown-open-trigger]:hover,.sp-dropdown-item--is-disabled[sp-dropdown-open-trigger]:active,.sp-dropdown-item--is-disabled[sp-dropdown-open-trigger].active{background-color:transparent;color:var(--gray-50)}.sp-dropdown-item--is-disabled .sp-dropdown-item__content-container{color:var(--gray-80)}.sp-dropdown-item--is-disabled a{cursor:not-allowed;color:var(--gray-50)}.sp-dropdown-item--is-link a{display:flex;width:100%;align-items:center;padding-right:.75rem;min-height:32px}[data-color-theme=dark] .sp-dropdown-item:hover,[data-color-theme=dark] .sp-dropdown-item:active,[data-color-theme=dark] .sp-dropdown-item.active,[data-color-theme=dark] .sp-dropdown-item[sp-dropdown-open-trigger]:hover,[data-color-theme=dark] .sp-dropdown-item[sp-dropdown-open-trigger]:active,[data-color-theme=dark] .sp-dropdown-item[sp-dropdown-open-trigger].active,[data-color-theme=dark] .sp-dropdown-item--is-active:hover,[data-color-theme=dark] .sp-dropdown-item--is-active:active,[data-color-theme=dark] .sp-dropdown-item--is-active.active{background-color:var(--gray-20)}[data-color-theme=dark] .sp-dropdown-item--is-disabled,[data-color-theme=dark] .sp-dropdown-item--is-disabled[sp-dropdown-open-trigger]{background-color:transparent}[data-color-theme=dark] .sp-dropdown-item--is-disabled:hover,[data-color-theme=dark] .sp-dropdown-item--is-disabled:active,[data-color-theme=dark] .sp-dropdown-item--is-disabled.active,[data-color-theme=dark] .sp-dropdown-item--is-disabled[sp-dropdown-open-trigger]:hover,[data-color-theme=dark] .sp-dropdown-item--is-disabled[sp-dropdown-open-trigger]:active,[data-color-theme=dark] .sp-dropdown-item--is-disabled[sp-dropdown-open-trigger].active{background-color:transparent}\n"],encapsulation:2,changeDetection:0}),se})()},44864:(S,g,e)=>{"use strict";e.d(g,{Y:()=>L});var t=e(53488),n=e(55472),s=e(62419),i=e(69085),r=e(90771),a=e(95900),o=e(14247),d=e(62546),h=e(84046),p=e(39202),f=e(83950),m=e(55331),v=e(68890),E=e(65799),C=e(18217);function T(F,b){if(1&F&&(h.TgZ(0,"span",5),h.ALo(1,"spRichTextI18n"),h._UZ(2,"i",6),h.qZA()),2&F){const x=h.oxw(2);h.Q6J("spTooltip",h.lcZ(1,2,x.tooltip))("spTooltipGravity",x.gravity.WEST)}}function y(F,b){if(1&F&&(h.TgZ(0,"div",7),h.ALo(1,"spRichTextI18n"),h.TgZ(2,"a",8),h.ALo(3,"spL10nText"),h._UZ(4,"i",6),h.qZA(),h.qZA()),2&F){const x=h.oxw(2);h.Q6J("spTooltip",h.lcZ(1,3,x.tooltip))("spTooltipGravity",x.gravity.WEST),h.xp6(2),h.s9C("href",h.lcZ(3,5,x.documentationLink),h.LSH)}}function I(F,b){if(1&F&&(h.TgZ(0,"div",2),h._uU(1),h.ALo(2,"spL10nText"),h.YNc(3,T,3,4,"span",3),h.YNc(4,y,5,7,"div",4),h.qZA()),2&F){const x=h.oxw();h.ekj("sp-text-error",x.isWarning)("sp-text-gray-400",!x.isWarning),h.uIk("id",x.headerId),h.xp6(1),h.hij(" ",h.lcZ(2,8,x.header)," "),h.xp6(2),h.Q6J("ngIf",x.tooltip&&!x.documentationLink),h.xp6(1),h.Q6J("ngIf",x.documentationLink)}}const P=["*"];let L=(()=>{class F extends d.H{constructor(x,B,M,w,K,k){super(x,B),this.changeDetector=M,this.localDropdownService=w,this.dropdownMenuGroupService=K,this.environmentService=k,this.tooltip="",this.header="",this.isWarning=!1,this.type=i.H.DEFAULT,this.scroll=!1,this.divider=!1,this.headerId="",this.gravity={WEST:a.X.WEST},this.subscriptions=new t.w}finalize(){this.subscriptions.unsubscribe()}ngOnChanges(x){const{header:B={}}=x;B.currentValue&&(this.headerId=`sp-dropdown-group-header-${o.I.dashedWithoutSpaceId(this.header).toLowerCase()}`)}ngOnInit(){this.setDivider(),this.divider&&this.domManipulator.addHostClass("sp-border-bottom-1")}ngAfterContentInit(){this.dropdownRefs.forEach(x=>{x.markAsSubDropdown(),this.subscriptions.add(x.observeDropdownOpen().subscribe(()=>{this.closeSubdropdowns()}))}),this.updateDropdownItemsType(),this.subscriptions.add(this.dropdownMenuGroupService.observeRadioItemClick().subscribe(()=>{this.dropdownItemRefs.forEach(x=>{x.setChecked(!1)})})),this.subscriptions.add(this.dropdownItemRefs.changes.subscribe(()=>{this.updateDropdownItemsType()}))}closeSubdropdowns(){this.dropdownRefs.forEach(x=>{x.close()})}getHostClasses(){return["sp-dropdown-menu__group","sp-block"]}setDivider(){"string"==typeof this.divider&&""===this.divider&&(this.divider=!0)}updateDropdownItemsType(){this.dropdownItemRefs.forEach(x=>{x.selectedType||x.setType(this.type)})}}return F.\u0275fac=function(x){return new(x||F)(h.Y36(h.SBq),h.Y36(h.Qsj),h.Y36(h.sBO),h.Y36(p.a),h.Y36(r.e),h.Y36(f.L,8))},F.\u0275cmp=h.Xpm({type:F,selectors:[["sp-dropdown-menu-group"]],contentQueries:function(x,B,M){if(1&x&&(h.Suo(M,n.J,4),h.Suo(M,s.N,4)),2&x){let w;h.iGM(w=h.CRH())&&(B.dropdownRefs=w),h.iGM(w=h.CRH())&&(B.dropdownItemRefs=w)}},inputs:{tooltip:"tooltip",header:"header",isWarning:"isWarning",type:"type",contentContainerClass:"contentContainerClass",contentContainerId:"contentContainerId",scroll:"scroll",divider:"divider",link:"link"},features:[h._Bn([r.e]),h.qOj,h.TTD],ngContentSelectors:P,decls:3,vars:5,consts:[["class","sp-dropdown-menu__group-header sp-font-medium sp-uppercase sp-text-s sp-flex sp-items-end sp-leading-4 sp-text-gray-400 sp-pt-2 sp-px-3 sp-whitespace-nowrap",3,"sp-text-error","sp-text-gray-400",4,"ngIf"],[1,"sp-w-full","sp-flex","sp-flex-col",3,"ngClass"],[1,"sp-dropdown-menu__group-header","sp-font-medium","sp-uppercase","sp-text-s","sp-flex","sp-items-end","sp-leading-4","sp-text-gray-400","sp-pt-2","sp-px-3","sp-whitespace-nowrap"],["class","sp-dropdown-header-tooltip",3,"spTooltip","spTooltipGravity",4,"ngIf"],["class","sp-dropdown-header-tooltip-link",3,"spTooltip","spTooltipGravity",4,"ngIf"],[1,"sp-dropdown-header-tooltip",3,"spTooltip","spTooltipGravity"],[1,"fa","fa-question-circle"],[1,"sp-dropdown-header-tooltip-link",3,"spTooltip","spTooltipGravity"],["target","_blank",3,"href"]],template:function(x,B){1&x&&(h.F$t(),h.YNc(0,I,5,10,"div",0),h.TgZ(1,"div",1),h.Hsn(2),h.qZA()),2&x&&(h.Q6J("ngIf",B.header),h.xp6(1),h.ekj("sp-dropdown-menu__group--is-scroll",B.scroll),h.Q6J("ngClass",B.contentContainerClass),h.uIk("id",B.contentContainerId))},directives:[m.O5,m.mk,v.i9],pipes:[E.L,C.d],styles:[".sp-dropdown-menu__group:last-child{border-color:transparent}.sp-dropdown-menu__group-header .sp-dropdown-header-tooltip,.sp-dropdown-menu__group-header .sp-dropdown-header-tooltip-link{margin-left:2px;font-size:12px}.sp-dropdown-menu__group-header .sp-dropdown-header-tooltip:hover{color:var(--gray-900)}.sp-dropdown-menu__group-header .sp-dropdown-header-tooltip-link a{color:var(--gray-400)}.sp-dropdown-menu__group-header .sp-dropdown-header-tooltip-link a:hover{color:var(--primary)}.sp-dropdown-menu__group--is-scroll{max-height:11rem;overflow-y:auto}\n"],encapsulation:2,changeDetection:0}),F})()},7434:(S,g,e)=>{"use strict";e.d(g,{n:()=>r});var t=e(84046),n=e(56254),s=e(15182);const i=["dropdownConfigRef"];let r=(()=>{class a{constructor(d,h){this.config=d,this.changeDetectorRef=h}ngAfterViewInit(){this.changeDetectorRef.detectChanges(),setTimeout(()=>{this.dropdownConfigComponent.dropdown.open()})}}return a.\u0275fac=function(d){return new(d||a)(t.Y36((0,t.Gpc)(()=>s.F)),t.Y36(t.sBO))},a.\u0275cmp=t.Xpm({type:a,selectors:[["sp-right-click-dropdown"]],viewQuery:function(d,h){if(1&d&&t.Gf(i,7),2&d){let p;t.iGM(p=t.CRH())&&(h.dropdownConfigComponent=p.first)}},decls:2,vars:1,consts:[[3,"config"],["dropdownConfigRef",""]],template:function(d,h){1&d&&t._UZ(0,"sp-dropdown-config-component",0,1),2&d&&t.Q6J("config",h.config)},directives:[n.b],encapsulation:2}),a})()},15182:(S,g,e)=>{"use strict";e.d(g,{F:()=>i,n:()=>r});var t=e(84046),n=e(46174),s=e(7434);const i=new t.OlP("RIGHT_CLICK_CONFIG");let r=(()=>{class a{getConfig(d){return(new n.j.Builder).withComponent(s.n).withProviders([{provide:i,useValue:d}]).build()}}return a.\u0275fac=function(d){return new(d||a)},a.\u0275prov=t.Yz7({token:a,factory:a.\u0275fac}),a})()},64363:(S,g,e)=>{"use strict";e.d(g,{h:()=>X});var t=e(55331),n=e(92945),s=e(51545),i=e(26566),r=e(37869),a=e(51820),o=e(83155),d=e(17542),h=e(50870);class m extends d.M{getClassName(){return"ShareableDataSaveResponseDTO"}}!function(ie,se,pe,ve){var de,Ce=arguments.length,ye=Ce<3?se:null===ve?ve=Object.getOwnPropertyDescriptor(se,pe):ve;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)ye=Reflect.decorate(ie,se,pe,ve);else for(var Ie=ie.length-1;Ie>=0;Ie--)(de=ie[Ie])&&(ye=(Ce<3?de(ye):Ce>3?de(se,pe,ye):de(se,pe))||ye);Ce>3&&ye&&Object.defineProperty(se,pe,ye)}([(0,h.XV)(),function(ie,se){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata("design:type",String)}()],m.prototype,"hash",void 0);class C extends d.M{getClassName(){return"ShareableDataGetResponseDTO"}}!function(ie,se,pe,ve){var de,Ce=arguments.length,ye=Ce<3?se:null===ve?ve=Object.getOwnPropertyDescriptor(se,pe):ve;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)ye=Reflect.decorate(ie,se,pe,ve);else for(var Ie=ie.length-1;Ie>=0;Ie--)(de=ie[Ie])&&(ye=(Ce<3?de(ye):Ce>3?de(se,pe,ye):de(se,pe))||ye);Ce>3&&ye&&Object.defineProperty(se,pe,ye)}([(0,h.XV)(),function(ie,se){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata("design:type",String)}()],C.prototype,"content",void 0);var T=e(2421),y=e(84046),I=e(83950),P=e(11531);let L=(()=>{class ie extends o.a{constructor(pe,ve){super(ve),this.environmentService=pe}save$(pe){return this.post("",pe).pipe((0,T.W)(m))}get$(pe){return this.get(`/${pe.getHash()}`).pipe((0,T.W)(C))}getRestUrl(pe){return`${this.environmentService.getRestBaseUrl()}util/shareable-url${pe}`}}return ie.\u0275fac=function(pe){return new(pe||ie)(y.LFG(I.L),y.LFG(P.O))},ie.\u0275prov=y.Yz7({token:ie,factory:ie.\u0275fac}),ie})();var F=e(88488);class b{constructor(se){this.content=se}}var x=e(71726);class B{constructor(se){this.hash=se}getHash(){return this.hash}}let M=(()=>{class ie extends F.i{constructor(pe){super(),this.resource=pe}get$(pe){return this.resource.get$(new B(pe)).pipe((0,x.U)(ve=>ve.content))}save$(pe){const Ce=new b(pe?pe.toString():JSON.stringify({}));return this.resource.save$(Ce).pipe((0,x.U)(ye=>ye.hash))}}return ie.\u0275fac=function(pe){return new(pe||ie)(y.LFG(L))},ie.\u0275prov=y.Yz7({token:ie,factory:ie.\u0275fac}),ie})();var w=e(67224),K=e(92833),k=e(41001),G=e(68890),$=e(11989);let X=(()=>{class ie{static forRoot(){return{ngModule:ie,providers:[K.N,w.e,$.X]}}}return ie.\u0275fac=function(pe){return new(pe||ie)},ie.\u0275mod=y.oAB({type:ie}),ie.\u0275inj=y.cJS({providers:[{provide:F.i,useClass:M},L],imports:[[t.ez,n.Bz,s.F,r.o,a.I,k.J,G.z8,i.n]]}),ie})()},92833:(S,g,e)=>{"use strict";e.d(g,{N:()=>s});var t=e(27609),n=e(84046);let s=(()=>{class i extends t.V{constructor(){super()}}return i.\u0275fac=function(a){return new(a||i)},i.\u0275prov=n.Yz7({token:i,factory:i.\u0275fac}),i})()},95774:(S,g,e)=>{"use strict";e.d(g,{c:()=>t});class t{}},11989:(S,g,e)=>{"use strict";e.d(g,{X:()=>s});var t=e(27609),n=e(84046);let s=(()=>{class i extends t.V{constructor(){super()}}return i.\u0275fac=function(a){return new(a||i)},i.\u0275prov=n.Yz7({token:i,factory:i.\u0275fac}),i})()},67224:(S,g,e)=>{"use strict";e.d(g,{e:()=>f});var t=e(97809),n=e(53339),s=e(71726),i=e(45635),r=e(62126),a=e(98274),o=e(62628),d=e(84046),h=e(88488),p=e(95774);let f=(()=>{class m extends o.b{constructor(E,C){super(),this.resource=E,this.locationProvider=C,this.cache=new Map,this.properties$=new t.t(1),this.messages$=new t.t(1)}getMessages$(){return this.messages$.asObservable()}setProperties(E,C=null){this.messages$.next(C),this.properties$.next(E)}fetchProperties$(E,C){return this.cache.has(E)?(0,n.of)(this.cache.get(E)):this.resource.get$(E).pipe((0,s.U)(T=>C.fromString(T)),(0,i.b)(T=>this.cache.set(E,T)))}selectShareableLink$(){return this.properties$.pipe((0,r.b)(m.DEBOUNCE),(0,a.w)(E=>this.resource.save$(E)),(0,a.w)(E=>this.getUrl(E)))}getUrl(E){return this.locationProvider.getCurrentUrl$().pipe((0,s.U)(C=>`${C.split("#")[0]}#${this.locationProvider.getRoute()}/`+E))}}return m.DEBOUNCE=1e3,m.\u0275fac=function(E){return new(E||m)(d.LFG(h.i),d.LFG(p.c))},m.\u0275prov=d.Yz7({token:m,factory:m.\u0275fac}),m})()},88488:(S,g,e)=>{"use strict";e.d(g,{i:()=>t});class t{}},72849:(S,g,e)=>{"use strict";e.d(g,{q:()=>s});var t=e(62546),n=e(84046);let s=(()=>{class i extends t.H{constructor(a,o){super(a,o)}getHostClasses(){return["sp-absolute","sp-top-0","sp-left-0","sp-w-full","sp-h-full","sp-cursor-wait","sp-block","sp-z-1","sp-no-select"]}}return i.\u0275fac=function(a){return new(a||i)(n.Y36(n.SBq),n.Y36(n.Qsj))},i.\u0275cmp=n.Xpm({type:i,selectors:[["sp-blanket"]],features:[n.qOj],decls:0,vars:0,template:function(a,o){},encapsulation:2,changeDetection:0}),i})()},82535:(S,g,e)=>{"use strict";e.d(g,{n:()=>i});var t=e(72849),n=e(84046),s=e(45927);let i=(()=>{class r{constructor(o,d){this.injector=o,this.componentOutlet=d}create(){const o=this.componentOutlet.createComponent(t.q,this.injector);return o.changeDetectorRef.detectChanges(),o}}return r.\u0275fac=function(o){return new(o||r)(n.LFG(n.zs3),n.LFG(s.r))},r.\u0275prov=n.Yz7({token:r,factory:r.\u0275fac}),r})()},43978:(S,g,e)=>{"use strict";e.d(g,{X:()=>d});var t=e(55331),s=(e(72849),e(82535)),i=e(5644),r=e(84046);const o=[s.n];let d=(()=>{class h{static forRoot(){return{ngModule:h,providers:o}}}return h.\u0275fac=function(f){return new(f||h)},h.\u0275mod=r.oAB({type:h}),h.\u0275inj=r.cJS({imports:[[t.ez,i.u.forRoot()]]}),h})()},95718:(S,g,e)=>{"use strict";e.d(g,{nj:()=>t.n,XM:()=>n.X});var t=e(82535),n=e(43978);e(72849)},45927:(S,g,e)=>{"use strict";e.d(g,{r:()=>a});var t=e(55331),n=e(84046);const s=["container"];let i=(()=>{class o{constructor(h,p){this.componentFactoryResolver=h,this.changeDetectorRef=p}createComponent(h,p){const f=this.componentFactoryResolver.resolveComponentFactory(h),m=this.container.createComponent(f,void 0,p);return m.onDestroy(()=>{m.location.nativeElement.remove()}),m}createEmbeddedView(h){return this.container.createEmbeddedView(h)}}return o.\u0275fac=function(h){return new(h||o)(n.Y36(n._Vd),n.Y36(n.sBO))},o.\u0275cmp=n.Xpm({type:o,selectors:[["sp-component-outlet"]],viewQuery:function(h,p){if(1&h&&n.Gf(s,7,n.s_b),2&h){let f;n.iGM(f=n.CRH())&&(p.container=f.first)}},decls:2,vars:0,consts:[["container",""]],template:function(h,p){1&h&&n.GkF(0,null,0)},encapsulation:2,changeDetection:0}),o})();var r=e(90921);let a=(()=>{class o{constructor(h,p,f,m,v){this.componentFactoryResolver=h,this.injector=p,this.DOCUMENT=m,this.detachedElementsRegister=v,this.outletComponentRef=null,this.renderer=f.createRenderer(null,null)}ngOnDestroy(){null!==this.outletComponentRef&&(this.removeOutletComponentFromDOM(),this.destroyOutletComponent())}createComponent(h,p,f){const m=this.getOutletComponent().createComponent(h,p);if(f){const v=m.location.nativeElement;this.detachedElementsRegister.registerRelation(f,v),m.onDestroy(()=>this.detachedElementsRegister.removeRelation(v))}return m}createEmbeddedView(h,p){const f=this.getOutletComponent().createEmbeddedView(h);if(p){const m=f.rootNodes[0];this.detachedElementsRegister.registerRelation(p,m),f.onDestroy(()=>this.detachedElementsRegister.removeRelation(m))}return f}getOutletComponent(){return this.outletComponentRef&&!this.outletComponentPresentInDOM()&&this.destroyOutletComponent(),null===this.outletComponentRef&&(this.outletComponentRef=this.createOutletComponent()),this.outletComponentRef.instance}createOutletComponent(){const p=this.componentFactoryResolver.resolveComponentFactory(i).create(this.injector);return this.renderer.insertBefore(this.DOCUMENT.body,p.location.nativeElement,this.DOCUMENT.body.firstChild),p}destroyOutletComponent(){this.outletComponentRef.destroy(),this.outletComponentRef=null}removeOutletComponentFromDOM(){const h=this.outletComponentRef.location.nativeElement;this.renderer.removeChild(h.parentElement,h)}outletComponentPresentInDOM(){return null!==this.DOCUMENT.body.querySelector("sp-component-outlet")}}return o.\u0275fac=function(h){return new(h||o)(n.LFG(n._Vd),n.LFG(n.zs3),n.LFG(n.FYo),n.LFG(t.K0),n.LFG(r.C))},o.\u0275prov=n.Yz7({token:o,factory:o.\u0275fac}),o})()},5644:(S,g,e)=>{"use strict";e.d(g,{u:()=>i});var t=e(55331),n=e(45927),s=e(84046);let i=(()=>{class r{static forRoot(){return{ngModule:r,providers:[n.r]}}}return r.\u0275fac=function(o){return new(o||r)},r.\u0275mod=s.oAB({type:r}),r.\u0275inj=s.cJS({imports:[[t.ez]]}),r})()},90921:(S,g,e)=>{"use strict";e.d(g,{C:()=>n});var t=e(84046);let n=(()=>{class s{constructor(){this.data=new Map}has(r){return this.data.has(r)}getParentFor(r){return this.data.get(r)||null}registerRelation(r,a){this.data.set(a,r)}removeRelation(r){this.data.delete(r)}}return s.\u0275fac=function(r){return new(r||s)},s.\u0275prov=t.Yz7({token:s,factory:s.\u0275fac}),s})()},47412:(S,g,e)=>{"use strict";e.d(g,{F:()=>t});var t=(()=>{return(n=t||(t={}))[n.OK=0]="OK",n[n.CANCEL=1]="CANCEL",t;var n})()},6737:(S,g,e)=>{"use strict";e.d(g,{$:()=>p});var t=e(90850),n=e(47412),s=e(3956),r=(e(25176),e(84046)),a=e(37752),o=e(55331),d=e(34909),h=e(65799);let p=(()=>{class f{constructor(v,E){this.changeDetectorRef=v,this.configuration=E,this.close$=new t.xQ,this.shouldCloseOnOutsideClick=!1}ngOnInit(){this.initConfiguration()}onClose(){return this.close$.asObservable()}closeOnOutsideClick(){this.shouldCloseOnOutsideClick&&this.announceClose()}announceClose(){this.close$.next(n.F.CANCEL)}announceConfirm(){this.close$.next(n.F.OK)}initConfiguration(){this.dialogMessage=this.configuration.getDialogMessage(),this.confirmButtonTitle=this.configuration.getConfirmButtonTitle(),this.confirmButtonClass=this.configuration.getConfirmButtonClass()}}return f.\u0275fac=function(v){return new(v||f)(r.Y36(r.sBO),r.Y36(s.J))},f.\u0275cmp=r.Xpm({type:f,selectors:[["sp-confirm-dialog"]],decls:9,vars:8,consts:[["id","sp-confirm-dialog-content",1,"sp-confirm-dialog-content"],[1,"sp-block","sp-contents","sp-mb-4",3,"config"],[1,"sp-confirm-dialog-button","sp-mt-2"],["id","sp-confirm-button","type","button",1,"sp-btn","sp-mr-2",3,"ngClass","click"],["sp-button","","link","","id","sp-cancel-button","type","button",3,"click"]],template:function(v,E){1&v&&(r.TgZ(0,"div",0),r._UZ(1,"sp-rich-text",1),r.TgZ(2,"div",2),r.TgZ(3,"button",3),r.NdJ("click",function(){return E.announceConfirm()}),r._uU(4),r.ALo(5,"spL10nText"),r.qZA(),r.TgZ(6,"button",4),r.NdJ("click",function(){return E.announceClose()}),r._uU(7),r.ALo(8,"spL10nText"),r.qZA(),r.qZA(),r.qZA()),2&v&&(r.xp6(1),r.Q6J("config",E.dialogMessage),r.xp6(2),r.Q6J("ngClass",E.confirmButtonClass?E.confirmButtonClass:"sp-btn-error"),r.xp6(1),r.hij(" ",r.lcZ(5,4,E.confirmButtonTitle)," "),r.xp6(3),r.hij(" ",r.lcZ(8,6,"SPT_COMMON_DIALOG_BUTTON_CANCEL")," "))},directives:[a.E,o.mk,d.r],pipes:[h.L],encapsulation:2,changeDetection:0}),f})()},25176:(S,g,e)=>{"use strict";e.d(g,{W:()=>s});var t=e(85105),n=e(83941);let s=(()=>{class i{constructor(){}getDialogMessage(){return this.dialogMessage}getConfirmButtonTitle(){return this.confirmButtonTitle}getConfirmButtonClass(){return this.confirmButtonClass}getWatchOutsideClick(){return this.shouldCloseOnOutsideClick}}return i.Builder=class extends t.I{constructor(){super(...arguments),this.dialogMessage=n.H.string(""),this.confirmButtonTitle="",this.confirmButtonClass="sp-btn-error",this.shouldCloseOnOutsideClick=!0}build(){const a=new i;return a.dialogMessage=this.dialogMessage,a.confirmButtonTitle=this.confirmButtonTitle,a.confirmButtonClass=this.confirmButtonClass,a.shouldCloseOnOutsideClick=this.shouldCloseOnOutsideClick,a}withDialogMessage(a){return this.dialogMessage=a,this}withConfirmButtonTitle(a){return this.confirmButtonTitle=a,this}withConfirmButtonClass(a){return this.confirmButtonClass=a,this}withCloseOnOutsideClick(a){return this.shouldCloseOnOutsideClick=a,this}},i})()},3956:(S,g,e)=>{"use strict";e.d(g,{J:()=>n});const n=new(e(84046).OlP)("SP_CONFIRM_DIALOG_CONFIGURATION_TOKEN")},9400:(S,g,e)=>{"use strict";e.d(g,{b:()=>E});var t=e(84046),n=e(38009),s=e(47412),i=e(6737);class r{constructor(){this.cssClasses=[]}withCssClass(T){return this.cssClasses=T,this}withGravity(T){return this.gravity=T,this}withAnchorElem(T){return this.anchorElem=T,this}}var a=e(93601),o=e(62546),d=e(95900),h=e(83941),p=e(3956),f=e(25176),m=e(91078),v=e(61055);let E=(()=>{class C extends o.H{constructor(y,I,P,L,F,b,x,B){super(y,I),this.changeDetectorRef=P,this.componentFactoryResolver=L,this.appRef=F,this.injector=b,this.dialogWithArrowFactory=x,this.outsideClicksWatcher=B,this.enabled=!0,this.confirmButtonTitle="Confirm",this.confirmButtonClass="sp-btn-error",this.gravity=d.X.NORTH,this.cssClass="",this.onSubmit=new t.vpe}ngOnInit(){const y=this.domManipulator.hostListen("click"),I=this.domManipulator.hostListen("touchend");(0,n.T)(y,I).pipe(this.takeUntilDestroy()).subscribe(()=>{this.enabled?this.showDialog():this.onSubmit.emit()})}finalize(){this.hideDialog()}hideDialog(){this.dialogWithArrow&&(this.dialogWithArrow.closeDialog(),this.dialogWithArrow=null)}listenToCloseAction(){this.componentRef.instance.onClose().pipe(this.takeUntilDestroy()).subscribe(y=>{this.hideDialog(),this.changeDetectorRef.detectChanges(),y===s.F.OK&&this.onSubmit.emit()})}showDialog(){const y=[this.cssClass,"sp-confirm-dialog","sp-p-4","sp-cursor-default","sp-bg-background","sp-content-sm"];if(this.dialogWithArrow)return void this.hideDialog();const I=this.getProviders(),P=t.zs3.create({providers:I,parent:this.injector});this.dialogWithArrow=this.dialogWithArrowFactory.createDialog(i.$,(new r).withCssClass(this.removeEmptyCssClasses(y)).withGravity(this.gravity).withAnchorElem(this.elementRef.nativeElement),P),this.observeClicksOutsideDialog(),this.componentRef=this.dialogWithArrow.nestedComponent,this.dialogWithArrow.recalculatePosition(),this.listenToCloseAction()}getProviders(){const y=this.getConfiguration();return[{provide:p.J,useValue:y}]}getConfiguration(){const y="string"==typeof this.dialogMessage?h.H.i18n(this.dialogMessage):this.dialogMessage;return(new f.W.Builder).withDialogMessage(y).withConfirmButtonTitle(this.confirmButtonTitle).withConfirmButtonClass(this.confirmButtonClass).withCloseOnOutsideClick(!0).build()}observeClicksOutsideDialog(){const y=this.dialogWithArrow.compRef;this.outsideClicksWatcher.watchForClicksOutside(y.location.nativeElement,{ignoredElement:this.elementRef.nativeElement}).pipe((0,m.B)(y),this.takeUntilDestroy()).subscribe(()=>this.hideDialog())}removeEmptyCssClasses(y){return y.filter(I=>!!I&&I.length)}}return C.\u0275fac=function(y){return new(y||C)(t.Y36(t.SBq),t.Y36(t.Qsj),t.Y36(t.sBO),t.Y36(t._Vd),t.Y36(t.z2F),t.Y36(t.zs3),t.Y36(a.P),t.Y36(v.x))},C.\u0275dir=t.lG2({type:C,selectors:[["","spConfirmDialog",""]],inputs:{enabled:["spConfirmDialog","enabled"],confirmButtonTitle:["spConfirmDialogConfirmButtonTitle","confirmButtonTitle"],confirmButtonClass:["spConfirmDialogConfirmButtonClass","confirmButtonClass"],dialogMessage:["spConfirmDialogMessage","dialogMessage"],gravity:["spConfirmDialogGravity","gravity"],cssClass:["spConfirmDialogCssClass","cssClass"]},outputs:{onSubmit:"spConfirmDialogOnSubmit"},exportAs:["spConfirmDialog"],features:[t.qOj]}),C})()},85013:(S,g,e)=>{"use strict";e.d(g,{D:()=>y});var t=e(55331),n=e(41001),s=e(51545),a=(e(6737),e(9400),e(5644)),d=(e(6291),e(93601)),h=e(4252),p=e(84046);const m=[d.P];let v=(()=>{class I{static forRoot(){return{ngModule:I,providers:m}}}return I.\u0275fac=function(L){return new(L||I)},I.\u0275mod=p.oAB({type:I}),I.\u0275inj=p.cJS({providers:m,imports:[[t.ez,a.u.forRoot(),h.R.forRoot()]]}),I})();var E=e(26566);const T=[];let y=(()=>{class I{static forRoot(){return{ngModule:I,providers:T}}}return I.\u0275fac=function(L){return new(L||I)},I.\u0275mod=p.oAB({type:I}),I.\u0275inj=p.cJS({imports:[[s.F,t.ez,v.forRoot(),n.J,E.n]]}),I})()},6291:(S,g,e)=>{"use strict";e.d(g,{Z:()=>p});var t=e(84046),n=e(95900),s=e(52265),i=e(62546),r=e(17199);const a=["dynamicComponentContainer"],o=["arrowContainerElem"],d=["arrowElem"];function h(f,m){}let p=(()=>{class f extends i.H{constructor(v,E,C){super(v,E),this.positionCalculator=C,this.gravity=n.X.NORTH,this.arrowSize=f.DEFAULT_ARROW_SIZE,this.arrowDirectionPrefix="sp-dialog-arrow-",this.dialogArrowDirections={top:this.arrowDirectionPrefix+"top",right:this.arrowDirectionPrefix+"right",bottom:this.arrowDirectionPrefix+"bottom",left:this.arrowDirectionPrefix+"left"}}ngOnInit(){this.setHostClass()}recalculatePosition(){this.calculatePosition()}getHostClasses(){return["sp-border-rounded","sp-shadow-md","sp-border","sp-flex","sp-flex-col"]}setHostClass(){this.domManipulator.setHostAttribute("id","sp-dialog-with-arrow")}getSharedProperties(){return{border:getComputedStyle(this.elementRef.nativeElement).border,borderWidth:this.pixelToNumber(getComputedStyle(this.elementRef.nativeElement).borderWidth),backgroundColor:getComputedStyle(this.elementRef.nativeElement).backgroundColor}}calculateArrowDimensionsBasedOnGivenSize(v){const E=Math.ceil(Math.sqrt(2*Math.pow(v,2)))+this.sharedArrowAndDialogProperties.borderWidth,C=Math.ceil(E/2)+this.sharedArrowAndDialogProperties.borderWidth;let T,y;return this.gravity===n.X.NORTH||this.gravity===n.X.SOUTH?(y=E,T=C):(y=C,T=E),{arrow:{widthAndHeight:v},arrowContainer:{width:y,height:T}}}setArrowSize(v){const E=this.arrowContainerElem.nativeElement,C=this.arrowElem.nativeElement;this.domManipulator.addStyle(E,"width",this.numberToPixel(v.arrowContainer.width)),this.domManipulator.addStyle(E,"height",this.numberToPixel(v.arrowContainer.height)),this.domManipulator.addStyle(C,"width",this.numberToPixel(v.arrow.widthAndHeight)),this.domManipulator.addStyle(C,"height",this.numberToPixel(v.arrow.widthAndHeight))}calculateDialogPosition(){const v=this.elementRef.nativeElement,E=this.positionCalculator.calculateNewElementsPosition(s.i.default().withLinkedElements({element:v,anchor:this.anchorElem}).withGravity(this.gravity));return this.moveDialogToMakeSpaceForArrow(E)}calculatePosition(){this.sharedArrowAndDialogProperties=this.getSharedProperties();const v=this.calculateArrowDimensionsBasedOnGivenSize(this.arrowSize);this.setArrowSize(v);const E=this.calculateDialogPosition();this.setDialogPosition(E),this.placeArrowOnTheDialog(E)}moveDialogToMakeSpaceForArrow(v){const E=this.arrowContainerElem.nativeElement,C=E.getBoundingClientRect().width,T=E.getBoundingClientRect().height;return v.gravity===n.X.NORTH?v.top-=T+0:v.gravity===n.X.EAST?v.left+=C+0:v.gravity===n.X.SOUTH?v.top+=T+0:v.left-=C+0,v}setDialogPosition(v){this.domManipulator.addHostStyle("top",this.numberToPixel(v.top)),this.domManipulator.addHostStyle("left",this.numberToPixel(v.left))}setArrowColor(){this.domManipulator.addStyle(this.arrowElem.nativeElement,"background",this.sharedArrowAndDialogProperties.backgroundColor)}setArrowBorder(){this.domManipulator.addStyle(this.arrowElem.nativeElement,"border",this.sharedArrowAndDialogProperties.border)}placeArrowOnTheDialog(v){this.setArrowDirectionBasedOnGravity(v.gravity),this.setArrowColor(),this.setArrowBorder(),this.setArrowPosition(v)}setArrowDirectionBasedOnGravity(v){const E=this.convertGravityToArrowDirectionClass(v);this.addArrowClass(E)}convertGravityToArrowDirectionClass(v){return v===n.X.NORTH?this.dialogArrowDirections.bottom:v===n.X.SOUTH?this.dialogArrowDirections.top:v===n.X.WEST?this.dialogArrowDirections.right:v===n.X.EAST?this.dialogArrowDirections.left:void 0}addArrowClass(v){const E=this.arrowElem.nativeElement;this.removeAllArrowClasses(E),this.domManipulator.addClass(E,v)}removeAllArrowClasses(v){Object.keys(this.dialogArrowDirections).forEach(E=>{this.domManipulator.removeClass(v,this.dialogArrowDirections[E])})}setArrowPosition(v){const E=this.anchorElem.getBoundingClientRect();let C,T,y;const I=this.arrowContainerElem.nativeElement;v.gravity===n.X.NORTH||v.gravity===n.X.SOUTH?(C=E.width/2,T=I.getBoundingClientRect().width,y=Math.floor(E.left+C)-T/2,y-=v.left,this.domManipulator.addStyle(I,v.gravity===n.X.NORTH?"bottom":"top",this.numberToPixel(-1*I.getBoundingClientRect().height)),this.domManipulator.addStyle(I,"left",this.numberToPixel(y))):(C=E.height/2,T=I.getBoundingClientRect().height,y=E.top+C-T/2,y-=v.top,this.domManipulator.addStyle(I,"top",this.numberToPixel(y)),this.domManipulator.addStyle(I,v.gravity===n.X.WEST?"right":"left",this.numberToPixel(-1*I.getBoundingClientRect().width)))}pixelToNumber(v){return Number(v.replace("px",""))}numberToPixel(v){return`${v}px`}}return f.DEFAULT_ARROW_SIZE=12,f.\u0275fac=function(v){return new(v||f)(t.Y36(t.SBq),t.Y36(t.Qsj),t.Y36(r.o))},f.\u0275cmp=t.Xpm({type:f,selectors:[["sp-dialog-with-arrow"]],viewQuery:function(v,E){if(1&v&&(t.Gf(a,7,t.s_b),t.Gf(o,7),t.Gf(d,7)),2&v){let C;t.iGM(C=t.CRH())&&(E.dynamicComponentContainer=C.first),t.iGM(C=t.CRH())&&(E.arrowContainerElem=C.first),t.iGM(C=t.CRH())&&(E.arrowElem=C.first)}},inputs:{anchorElem:"anchorElem",gravity:"gravity",arrowSize:"arrowSize"},features:[t.qOj],decls:6,vars:0,consts:[[1,"sp-dynamic-dialog-arrow"],["arrowContainerElem",""],[1,"sp-arrow"],["arrowElem",""],["dynamicComponentContainer",""]],template:function(v,E){1&v&&(t.TgZ(0,"div",0,1),t._UZ(2,"div",2,3),t.qZA(),t.YNc(4,h,0,0,"ng-template",null,4,t.W1O))},styles:["sp-dialog-with-arrow{position:absolute;z-index:10005}sp-dialog-with-arrow .sp-dynamic-dialog-arrow{position:absolute;background-color:transparent;overflow:hidden}sp-dialog-with-arrow .sp-dynamic-dialog-arrow .sp-arrow{position:absolute;transform:translate(-50%,-50%) rotate(45deg);border:inherit}sp-dialog-with-arrow .sp-dynamic-dialog-arrow .sp-arrow.sp-dialog-arrow-top,sp-dialog-with-arrow .sp-dynamic-dialog-arrow .sp-arrow.sp-dialog-arrow-bottom{left:50%}sp-dialog-with-arrow .sp-dynamic-dialog-arrow .sp-arrow.sp-dialog-arrow-left,sp-dialog-with-arrow .sp-dynamic-dialog-arrow .sp-arrow.sp-dialog-arrow-right{top:50%}sp-dialog-with-arrow .sp-dynamic-dialog-arrow .sp-arrow.sp-dialog-arrow-top{top:100%}sp-dialog-with-arrow .sp-dynamic-dialog-arrow .sp-arrow.sp-dialog-arrow-bottom{top:0}sp-dialog-with-arrow .sp-dynamic-dialog-arrow .sp-arrow.sp-dialog-arrow-left{left:100%}sp-dialog-with-arrow .sp-dynamic-dialog-arrow .sp-arrow.sp-dialog-arrow-right{left:0}sp-dialog-with-arrow .sp-confirm-dialog-button .sp-btn+.sp-btn:not(.sp-btn-link){margin-left:0}\n"],encapsulation:2,changeDetection:0}),f})()},93601:(S,g,e)=>{"use strict";e.d(g,{P:()=>r});var t=e(6291);class n{constructor(o,d,h,p){this.nestedComponent=o,this.recalculatePosition=d,this.closeDialog=h,this.compRef=p}}var s=e(84046),i=e(45927);let r=(()=>{class a{constructor(d,h,p,f){this.componentFactoryResolver=d,this.injector=h,this.componentOutlet=f,this.renderer=p.createRenderer(null,null)}createDialog(d,h,p){const f=this.createDialogComponent(h,p),m=this.createNestedComponent(d,f);return new n(m,()=>f.instance.recalculatePosition(),()=>{f.destroy()},f)}createDialogComponent(d,h){const p=this.componentOutlet.createComponent(t.Z,h||this.injector,d.anchorElem);this.addCssClasses(d,p);const f=p.instance;return f.gravity=d.gravity,f.anchorElem=d.anchorElem,p.changeDetectorRef.detectChanges(),p}createNestedComponent(d,h){const p=h.instance.dynamicComponentContainer,f=this.componentFactoryResolver.resolveComponentFactory(d),m=p.createComponent(f,void 0,h.injector);return m.changeDetectorRef.detectChanges(),m}addCssClasses(d,h){d.cssClasses.forEach(p=>{this.renderer.addClass(h.location.nativeElement,p)})}}return a.\u0275fac=function(d){return new(d||a)(s.LFG(s._Vd),s.LFG(s.zs3),s.LFG(s.FYo),s.LFG(i.r))},a.\u0275prov=s.Yz7({token:a,factory:a.\u0275fac}),a})()},73620:(S,g,e)=>{"use strict";e.d(g,{a:()=>t});var t=(()=>{return(n=t||(t={}))[n.ELEMENT=0]="ELEMENT",n[n.ELEMENT_WITH_MOUSE_X=1]="ELEMENT_WITH_MOUSE_X",n[n.MOUSE_X_Y=2]="MOUSE_X_Y",t;var n})()},76013:(S,g,e)=>{"use strict";e.d(g,{t:()=>r,U:()=>a});var t=e(73620),n=e(6083),s=e(74383),i=e(85703),r=(()=>{return(o=r||(r={}))[o.ANY=0]="ANY",o[o.LEFT=1]="LEFT",o[o.MIDDLE=2]="MIDDLE",o[o.RIGHT=3]="RIGHT",r;var o})();class a{constructor(d,h={},p=s.e.CLICK,f=null,m=n.x.VERTICAL,v=t.a.ELEMENT){this.contentComponent=d,this.data=h,this.eventType=p,this.close$=f,this.strategy=m,this.bindingType=v,this.cssClassesToPreventClose=[],this.closeDialogWhenClickOutside=!0,this.mouseButton=r.ANY,this.preventClosingDialogWhenClickOnTrigger=!1,this.isResizable=!1,this.dialogPositionMargin=10,this.uuid=(0,i.Hu)()}static DefaultConfiguration(d){return new a(d,{},"click",null,n.x.HORIZONTAL_BOTTOM,t.a.MOUSE_X_Y)}withDialogPositionMargin(d){return this.dialogPositionMargin=d,this}withCssClassesToPreventClose(d){return this.cssClassesToPreventClose=d,this}withCloseDialogWhenClickOutside(d){return this.closeDialogWhenClickOutside=d,this}withData(d){return this.data=d,this}withEventType(d){return this.eventType=d,this}withClose$(d){return this.close$=d,this}withStrategy(d){return this.strategy=d,this}withBindingType(d){return this.bindingType=d,this}withMouseButton(d){return this.mouseButton=d,this}withParentInjector(d){return this.injector=d,this}withPreventClosingDialogWhenClickOnTrigger(d){return this.preventClosingDialogWhenClickOnTrigger=d,this}withIsResizable(d){return this.isResizable=d,this}withSelfSize(d){return this.selfSize=d,this}withModalSize(d){return this.modalSize=d,this}}},27818:(S,g,e)=>{"use strict";e.d(g,{Z:()=>p});var t=e(55331),n=e(84046),s=e(90850),i=e(70822),r=e(35811),o=(e(76013),e(47258)),d=e(62546),h=e(14176);let p=(()=>{class f extends d.H{constructor(v,E,C,T,y){super(v,E),this.inlineDialogManager=C,this.inlineDialogService=T,this.document=y,this.disable=!1,this.spInlineDialogOpened=new n.vpe,this.spInlineDialogClosed=new n.vpe,this.disabled$=new s.xQ,this.closed$=new s.xQ,this.listenToEventsInitiated=!1,this.innerRenderer=E}ngOnChanges(v){v.disable&&this.inlineDialog&&(this.listenToEventsInitiated=v.disable.currentValue,this.disabled$.next(this.disable)),this.reInitInlineDialog(v)}ngOnInit(){this.initInlineDialog(),this.disabled$.pipe(this.takeUntilDestroy()).subscribe(()=>{this.disable&&this.inlineDialog.detachEventListeners(),this.listenToEvents()})}finalize(){this.inlineDialogManager.destroy()}getInstance(){return this.inlineDialog}initInlineDialog(){this.inlineDialog=this.createInlineDialog(),this.listenToEvents(),this.selectDialogOpened(),this.selectDialogClosed()}listenToEvents(){!this.disable&&!this.listenToEventsInitiated&&(this.inlineDialog.listenToEvents(this.elementRef.nativeElement),this.listenToEventsInitiated=!0)}reInitInlineDialog(v){var E,C,T,y;this.spInlineDialogConfiguration.preventClosingDialogWhenClickOnTrigger&&(null===(C=null===(E=v.spInlineDialogConfiguration)||void 0===E?void 0:E.currentValue)||void 0===C?void 0:C.data)?(this.inlineDialog&&(this.inlineDialog.destroy(),this.closed$.next(),this.listenToEventsInitiated=!1),this.initInlineDialog()):(null===(T=v.disable)||void 0===T?void 0:T.previousValue)&&!(null===(y=v.disable)||void 0===y?void 0:y.currentValue)&&this.listenToEvents()}selectDialogOpened(){this.inlineDialog.dialogOpened().pipe((0,i.h)(v=>v),this.takeUntilDestroy(),(0,r.R)(this.closed$)).subscribe(()=>{this.spInlineDialogOpened.emit(!0)})}selectDialogClosed(){this.inlineDialog.dialogClosed().pipe((0,i.h)(v=>v),this.takeUntilDestroy(),(0,r.R)(this.closed$)).subscribe(()=>{this.spInlineDialogClosed.emit(!0)})}createInlineDialog(){return this.injector&&this.resolver?this.inlineDialogService.createInlineDialogWithInjectorAndResolver(this.innerRenderer,this.spInlineDialogConfiguration,this.elementRef.nativeElement,this.injector,this.resolver):this.inlineDialogService.createInlineDialog(this.innerRenderer,this.spInlineDialogConfiguration,this.elementRef.nativeElement)}}return f.\u0275fac=function(v){return new(v||f)(n.Y36(n.SBq),n.Y36(n.Qsj),n.Y36(h.V),n.Y36(o.O),n.Y36(t.K0))},f.\u0275dir=n.lG2({type:f,selectors:[["","spInlineDialog",""]],inputs:{spInlineDialogConfiguration:"spInlineDialogConfiguration",disable:["spInlineDialogDisable","disable"],injector:["spInlineDialogInjector","injector"],resolver:["spInlineDialogResolver","resolver"]},outputs:{spInlineDialogOpened:"spInlineDialogOpened",spInlineDialogClosed:"spInlineDialogClosed"},features:[n.qOj,n.TTD]}),f})()},8831:(S,g,e)=>{"use strict";e.d(g,{t:()=>s});var t=e(27609),n=e(84046);let s=(()=>{class i extends t.V{constructor(){super()}}return i.\u0275fac=function(a){return new(a||i)},i.\u0275prov=n.Yz7({token:i,factory:i.\u0275fac}),i})()},14176:(S,g,e)=>{"use strict";e.d(g,{V:()=>n});var t=e(84046);let n=(()=>{class s{register(r){this.info&&this.info.inlineDialog.destroyInlineDialog(),this.info=r}destroy(){this.info&&this.info.inlineDialog.destroyInlineDialog()}recalculatePosition(){this.info.inlineDialog.recalculatePosition()}}return s.\u0275fac=function(r){return new(r||s)},s.\u0275prov=t.Yz7({token:s,factory:s.\u0275fac}),s})()},74388:(S,g,e)=>{"use strict";e.d(g,{K:()=>I});var t=e(55331),n=e(70335),s=e(26566),i=e(29265),d=(e(92259),e(66940),e(27818),e(14176)),h=e(47258),p=e(62923),f=e(78715),E=(e(15460),e(39863),e(68890)),C=e(84046);const T=[d.V,h.O,p.O,f.w,i.C];let I=(()=>{class P{static forRoot(){return{ngModule:P,providers:T}}}return P.\u0275fac=function(F){return new(F||P)},P.\u0275mod=C.oAB({type:P}),P.\u0275inj=C.cJS({imports:[[t.ez,n.u5,E.z8,s.n]]}),P})()},6083:(S,g,e)=>{"use strict";e.d(g,{x:()=>t});var t=(()=>{return(n=t||(t={}))[n.VERTICAL=0]="VERTICAL",n[n.HORIZONTAL_BOTTOM=1]="HORIZONTAL_BOTTOM",n[n.HORIZONTAL_TOP=2]="HORIZONTAL_TOP",t;var n})()},74383:(S,g,e)=>{"use strict";e.d(g,{e:()=>t});let t=(()=>{class n{}return n.MOUSEUP="mouseup",n.MOUSEDOWN="mousedown",n.CLICK="click",n.MOUSE_ENTER="mouseenter",n.MOUSE_LEAVE="mouseleave",n})()},47258:(S,g,e)=>{"use strict";e.d(g,{O:()=>b});var t=e(55331),n=e(84046),s=e(90850),i=e(76013),r=e(8831);class a{constructor(B,M){this.top=B,this.left=M}static getPosition(B){const M=B.getBoundingClientRect();return new a(M.top+window.pageYOffset,M.left+window.pageXOffset)}}var o=e(73620),d=e(6083);class h{constructor(B,M,w,K){this.wrapperInstance=B,this.targetProperties=M,this.configuration=w,this.event=K,this.defaultMargin=this.configuration.dialogPositionMargin}getPosition(){if(this.configuration.strategy===d.x.HORIZONTAL_TOP||this.configuration.strategy===d.x.HORIZONTAL_BOTTOM){const B=this.wrapperInstance.dialogWrapper.nativeElement;return this.getDialogElementPosition(this.targetProperties.offsetHeight?this.targetProperties.offsetHeight:this.targetProperties.height,this.targetProperties.offsetWidth?this.targetProperties.offsetWidth:this.targetProperties.width,B.offsetHeight,B.offsetWidth)}this.configuration.strategy===d.x.VERTICAL&&console.warn("InlineDialogPositionStrategy.VERTICAL for DialogPosition calculation doesn't implemented yet.")}getNegativeTopPosition(){return this.negativeTop}getDialogElementPosition(B,M,w,K){let k=this.getDialogTop(B,w);const G=this.getDialogLeft(M,K);return this.isDialogTopNegative(k)&&(this.negativeTop=k,k=0),new a(k,G)}isDialogTopNegative(B){return B<0}getDialogTop(B,M){let w,K;if(this.configuration.bindingType===o.a.MOUSE_X_Y){if(w=this.event.clientY>=M+C,K=this.event.clientY+M+C<=window.innerHeight,this.configuration.strategy===d.x.HORIZONTAL_BOTTOM)return K?this.event.pageY+C:this.event.pageY-C-M;if(this.configuration.strategy===d.x.HORIZONTAL_TOP)return w?this.event.pageY-C-M:this.event.pageY+C}else if(this.configuration.bindingType===o.a.ELEMENT||this.configuration.bindingType===o.a.ELEMENT_WITH_MOUSE_X)return w=this.targetProperties.top>=M+C,K=this.targetProperties.top+B+M+C<=window.innerHeight,this.getDialogTopWithBindingType(K,w,this.targetProperties.top+B+C,this.targetProperties.top-M-C)}getDialogTopWithBindingType(B,M,w,K){return this.configuration.strategy===d.x.HORIZONTAL_BOTTOM?B||!M?w:K:this.configuration.strategy===d.x.HORIZONTAL_TOP?M||!B?K:w:void 0}getDialogLeft(B,M){return this.configuration.bindingType===o.a.ELEMENT_WITH_MOUSE_X||this.configuration.bindingType===o.a.MOUSE_X_Y?this.getLeftForHorizontalPositionWithMouseX(M):this.configuration.bindingType===o.a.ELEMENT?this.getLeftForHorizontalPositionWithElement(M,B):void 0}getLeftForHorizontalPositionWithMouseX(B){const w=this.event.clientX+B/2+this.defaultMargin>window.innerWidth;let K;return K=this.event.clientX<B/2+this.defaultMargin?this.defaultMargin:w?window.innerWidth+window.pageXOffset-B-this.defaultMargin:this.event.clientX-B/2,K}getLeftForHorizontalPositionWithElement(B,M){const K=window.innerWidth-this.targetProperties.left<B/2+this.defaultMargin;let k;return k=this.targetProperties.left+M/2<B/2+this.defaultMargin?this.defaultMargin:K?window.innerWidth+window.pageXOffset-B-this.defaultMargin:this.targetProperties.left+M/2-B/2,k}}class p extends a{constructor(B,M,w){super(B,M),this.cssClass=w}}let f=(()=>{class x{constructor(M,w,K,k){this.wrapperInstance=M,this.targetProperties=w,this.configuration=K,this.event=k}getPosition(){if(this.configuration.strategy===d.x.HORIZONTAL_TOP||this.configuration.strategy===d.x.HORIZONTAL_BOTTOM)return this.getTrianglePositionAndCssClass(this.targetProperties.offsetHeight?this.targetProperties.offsetHeight:this.targetProperties.height,this.wrapperInstance.dialogWrapper.nativeElement.offsetHeight);this.configuration.strategy===d.x.VERTICAL&&console.warn("InlineDialogPositionStrategy.VERTICAL for DialogTriangle calculation doesn't implemented yet.")}getTrianglePositionAndCssClass(M,w){const K=this.getTriangleTop(w,M),k=this.getTriangleLeft();return new p(K,k,this.triangleCss)}getTriangleTop(M,w){let K,k;if(this.configuration.bindingType===o.a.MOUSE_X_Y){if(K=this.event.clientY>=M+C,k=this.event.clientY+M+C<=window.innerHeight,this.triangleCss=this.getTriangleCssClass(K,k),this.configuration.strategy===d.x.HORIZONTAL_BOTTOM)return k?this.event.pageY+x.ADDITIONAL_OFFSET_FOR_TRIANGLE:this.event.pageY-x.TRIANGLE_TOTAL_SIZE-x.ADDITIONAL_OFFSET_FOR_TRIANGLE;if(this.configuration.strategy===d.x.HORIZONTAL_TOP)return K?this.event.pageY-x.ADDITIONAL_OFFSET_FOR_TRIANGLE:this.event.pageY+x.ADDITIONAL_OFFSET_FOR_TRIANGLE}else if(this.configuration.bindingType===o.a.ELEMENT||this.configuration.bindingType===o.a.ELEMENT_WITH_MOUSE_X)return K=this.targetProperties.top>=M+C,k=this.targetProperties.top+w+M+C<=window.innerHeight,this.triangleCss=this.getTriangleCssClass(K,k),this.getTriangleTopWithBindingType(k,K,w)}getTriangleTopWithBindingType(M,w,K){return this.configuration.strategy===d.x.HORIZONTAL_BOTTOM?M||!w?this.targetProperties.top+K+x.ADDITIONAL_OFFSET_FOR_TRIANGLE:this.targetProperties.top-x.TRIANGLE_TOTAL_SIZE-x.ADDITIONAL_OFFSET_FOR_TRIANGLE:this.configuration.strategy===d.x.HORIZONTAL_TOP?w||!M?this.targetProperties.top-x.TRIANGLE_TOTAL_SIZE-x.ADDITIONAL_OFFSET_FOR_TRIANGLE:this.targetProperties.top+K+x.ADDITIONAL_OFFSET_FOR_TRIANGLE:void 0}getTriangleCssClass(M,w){return this.configuration.strategy===d.x.HORIZONTAL_BOTTOM?w||!M?"sp-inline-dialog__arrow--on-bottom":"sp-inline-dialog__arrow--on-top":this.configuration.strategy!==d.x.HORIZONTAL_TOP||!M&&w?"sp-inline-dialog__arrow--on-bottom":"sp-inline-dialog__arrow--on-top"}getTriangleLeft(){const M=(2-Math.sqrt(2))/2*E;return this.configuration.bindingType===o.a.ELEMENT_WITH_MOUSE_X||this.configuration.bindingType===o.a.MOUSE_X_Y?this.event.clientX-E:this.configuration.bindingType===o.a.ELEMENT?this.targetProperties.left+this.targetProperties.width/2-E+M:void 0}}return x.ADDITIONAL_OFFSET_FOR_TRIANGLE=1,x.TRIANGLE_TOTAL_SIZE=27,x})();const E=11.31*Math.sqrt(2),C=11.31*Math.sqrt(2);class T{constructor(B,M,w,K){this.wrapperInstance=B,this.targetProperties=M,this.configuration=w,this.event=K}calculate(){const B=new h(this.wrapperInstance,this.targetProperties,this.configuration,this.event),M=this.wrapperInstance.renderer2,w=new f(this.wrapperInstance,this.targetProperties,this.configuration,this.event).getPosition();this.setPositionAndHeight(M,B),this.setStylesForTriangle(M,w)}setStylesForTriangle(B,M){const w=this.wrapperInstance.triangle.nativeElement;B.setStyle(w,"left",`${M.left}px`),B.setStyle(w,"top",`${M.top}px`),B.removeClass(w,"sp-inline-dialog__arrow--on-top"),B.removeClass(w,"sp-inline-dialog__arrow--on-bottom"),B.addClass(w,M.cssClass)}setPositionAndHeight(B,M){let w=M.getPosition(),K=M.getNegativeTopPosition();K?(this.setDialogPosition(B,w),this.setDialogHeight(B,K)):this.isDialogHeightBiggerThanWindowHeight(w.top)?(K=this.getDialogElementNegativePositionForBottom(w.top),this.setDialogPosition(B,w),this.setDialogHeight(B,K)):(this.removeDialogHeightStyle(B),w=M.getPosition(),this.setDialogPosition(B,w))}getDialogElementNegativePositionForBottom(B,M=10){return window.innerHeight-B-this.wrapperInstance.dialogWrapper.nativeElement.offsetHeight-M}isDialogHeightBiggerThanWindowHeight(B){return B+this.wrapperInstance.dialogWrapper.nativeElement.offsetHeight>window.innerHeight}setDialogPosition(B,M){const w=this.wrapperInstance.dialogWrapper.nativeElement;B.setStyle(w,"left",`${M.left}px`),B.setStyle(w,"top",`${M.top}px`)}setDialogHeight(B,M){const w=this.wrapperInstance.dialogWrapper.nativeElement;B.setStyle(w,"height",`${w.offsetHeight+M}px`)}removeDialogHeightStyle(B){B.removeStyle(this.wrapperInstance.dialogWrapper.nativeElement,"height")}}class y{constructor(B){this.inlineDialog=B}}class I{constructor(B){const M=B.getBoundingClientRect(),w=a.getPosition(B);this.offsetHeight=B.offsetHeight,this.offsetWidth=B.offsetWidth,this.width=M.width,this.height=M.height,this.top=w.top,this.left=w.left}}var P=e(39863);class L{constructor(B,M,w,K,k,G,$,X){this.DOCUMENT=B,this.componentFactoryResolver=M,this.injector=w,this.renderer=K,this.applicationRef=k,this.inlineDialogManager=G,this.targetElement=$,this.inlineDialogConfiguration=X,this.inlineDialogOpened$=new s.xQ,this.inlineDialogClosed$=new s.xQ,this.isMouseOnDialog=!1,this.inlineDialogJustOpened=!1,this.isOpened=!1,this.listenToClose()}dialogOpened(){return this.inlineDialogOpened$.asObservable()}dialogClosed(){return this.inlineDialogClosed$.asObservable()}detachEventListeners(){this.removeOpenDialogListener&&this.removeOpenDialogListener(),this.removeOpenDialogListener=null}listenToEvents(B){this.removeOpenDialogListener||(this.removeOpenDialogListener=this.renderer.listen(B,this.inlineDialogConfiguration.eventType.toString(),M=>{!this.isMouseEventButtonCorrect(M)||(this.isOpened?this.destroyInlineDialog():this.openInlineDialog(M))}))}openInlineDialog(B){if(this.inlineDialogJustOpened)return;this.inlineDialogComponentRef=this.createInlineDialog();const M=this.inlineDialogComponentRef.instance;return this.inlineDialogManager.register(new y(this)),this.DOCUMENT.body.appendChild(M.elementReference.nativeElement),this.inlineDialogComponentRef.changeDetectorRef.detectChanges(),this.preventInstantClosingInlineDialogAfterClickTriggerEvent(B),this.inlineDialogConfiguration.closeDialogWhenClickOutside&&this.addListeners(M),this.openEvent=B,this.targetProperties=new I(this.targetElement),this.calculatePosition(M,this.openEvent),this.inlineDialogOpened$.next(!0),this.isOpened=!0,M}recalculatePosition(){this.calculatePosition(this.inlineDialogComponentRef.instance,this.openEvent)}destroy(){this.detachEventListeners(),this.destroyInlineDialog()}destroyInlineDialog(){if(!this.inlineDialogComponentRef)return;const B=this.inlineDialogComponentRef.instance,M=B.elementReference.nativeElement;B.finalize();const w=M.parentElement;w&&(w.removeChild(M),this.inlineDialogJustOpened=!1,this.unsubscribe(),this.inlineDialogClosed$.next(!0),this.removeComponentInstance(),this.isOpened=!1)}listenToClose(){this.inlineDialogConfiguration.close$&&this.inlineDialogConfiguration.close$.subscribe(()=>{this.destroyInlineDialog()})}preventInstantClosingInlineDialogAfterClickTriggerEvent(B){this.inlineDialogJustOpened="click"===B.type}createInlineDialog(){const B=new r.t;B.set(this);const M=new P.dz(this.inlineDialogConfiguration.selfSize,this.inlineDialogConfiguration.modalSize,this.inlineDialogConfiguration.isResizable,this.inlineDialogConfiguration.uuid),w=n.zs3.create({providers:[{provide:P.$I,useValue:M}],parent:this.injector}),K=this.componentFactoryResolver.resolveComponentFactory(P.bc).create(w),k=K.instance;this.applicationRef.attachView(K.hostView);const G=this.componentFactoryResolver.resolveComponentFactory(this.inlineDialogConfiguration.contentComponent),X=n.zs3.create({providers:[{provide:r.t,useValue:B}],parent:this.inlineDialogConfiguration.injector||this.injector});return this.nestedComponent=k.dynamicComponentContainer.createComponent(G,void 0,X),this.nestedComponent.instance.data=this.inlineDialogConfiguration.data,K}calculatePosition(B,M){new T(B,this.targetProperties,this.inlineDialogConfiguration,M).calculate()}addListeners(B){this.addMouseEnterListener(B),this.addClickOutsideListener()}addMouseEnterListener(B){this.removeMouseEnterListener=B.renderer2.listen(B.dialogWrapper.nativeElement,"mouseenter",()=>{this.removeMouseLeaveListener&&(this.removeMouseLeaveListener(),clearTimeout(this.leaveTimeout)),this.isMouseOnDialog=!0,this.addMouseLeaveListener(B)})}addMouseLeaveListener(B){this.removeMouseLeaveListener=B.renderer2.listen(B.dialogWrapper.nativeElement,"mouseleave",()=>{this.isMouseOnDialog=!1})}addClickOutsideListener(){this.removeClickOutsideListener=this.renderer.listen(this.DOCUMENT,"mousedown",B=>{this.targetElement.contains(B.target)?this.inlineDialogJustOpened=!1:this.isMouseOnDialog||this.isClickOnSomeElementWhichShouldNotCloseDialog(B.target)||(this.inlineDialogManager.destroy(),this.inlineDialogJustOpened=!1)})}isClickOnSomeElementWhichShouldNotCloseDialog(B){const M=this.inlineDialogConfiguration.cssClassesToPreventClose;for(const w of M)if(this.haveElementOrParentClass(B,w))return!0;return!1}haveElementOrParentClass(B,M){return!!jQuery(B).hasClass(M)||null!==B&&this.haveElementOrParentClass(B.parentElement,M)}removeComponentInstance(){this.nestedComponent&&(this.nestedComponent.destroy(),this.nestedComponent=null,this.isOpened=!1)}unsubscribe(){this.removeClickOutsideListener&&this.removeClickOutsideListener(),this.removeMouseEnterListener&&this.removeMouseEnterListener(),this.removeMouseLeaveListener&&this.removeMouseLeaveListener(),clearTimeout(this.leaveTimeout)}isMouseEventButtonCorrect(B){const M=this.inlineDialogConfiguration.mouseButton;return M===B.which||M===i.t.ANY}}var F=e(14176);let b=(()=>{class x{constructor(M,w,K,k,G){this.DOCUMENT=M,this.injector=w,this.applicationRef=K,this.componentFactoryResolver=k,this.inlineDialogManager=G}createInlineDialog(M,w,K){return new L(this.DOCUMENT,this.componentFactoryResolver,this.injector,M,this.applicationRef,this.inlineDialogManager,K,w)}createInlineDialogWithInjectorAndResolver(M,w,K,k,G){return new L(this.DOCUMENT,G,k,M,this.applicationRef,this.inlineDialogManager,K,w)}}return x.\u0275fac=function(M){return new(M||x)(n.LFG(t.K0),n.LFG(n.zs3),n.LFG(n.z2F),n.LFG(n._Vd),n.LFG(F.V))},x.\u0275prov=n.Yz7({token:x,factory:x.\u0275fac}),x})()},92259:(S,g,e)=>{"use strict";e.d(g,{q:()=>a});var t=e(8831),n=e(62546),s=e(84046),i=e(68890),r=e(18217);let a=(()=>{class o extends n.H{constructor(h,p,f){super(p,f),this.instanceStorageService=h}close(){this.instanceStorageService.get().destroyInlineDialog()}}return o.\u0275fac=function(h){return new(h||o)(s.Y36(t.t),s.Y36(s.SBq),s.Y36(s.Qsj))},o.\u0275cmp=s.Xpm({type:o,selectors:[["sp-inline-dialog-close-button"]],features:[s.qOj],decls:2,vars:3,consts:[["id","sp-inline-dialog-close-button",1,"far","fa-times","fa-fw","sp-cursor-pointer","sp-text-l","sp-text-gray-400",3,"spTooltip","click"]],template:function(h,p){1&h&&(s.TgZ(0,"i",0),s.NdJ("click",function(){return p.close()}),s.ALo(1,"spRichTextI18n"),s.qZA()),2&h&&s.Q6J("spTooltip",s.lcZ(1,1,"SPT_INLINE_DIALOG_CLOSE_BUTTON_TOOLTIP"))},directives:[i.i9],pipes:[r.d],encapsulation:2,changeDetection:0}),o})()},66940:(S,g,e)=>{"use strict";e.d(g,{f:()=>p});var t=e(94647),n=e(62923),s=e(62546),i=e(84046),r=e(55331),a=e(68890),o=e(18217);function d(f,m){if(1&f){const v=i.EpF();i.TgZ(0,"i",2),i.NdJ("click",function(){return i.CHM(v),i.oxw().expand()}),i.ALo(1,"spRichTextI18n"),i.qZA()}2&f&&i.Q6J("spTooltip",i.lcZ(1,1,"SPT_INLINE_DIALOG_EXPAND_BUTTON_TOOLTIP"))}function h(f,m){if(1&f){const v=i.EpF();i.TgZ(0,"i",3),i.NdJ("click",function(){return i.CHM(v),i.oxw().collapse()}),i.ALo(1,"spRichTextI18n"),i.qZA()}2&f&&i.Q6J("spTooltip",i.lcZ(1,1,"SPT_INLINE_DIALOG_COLLAPSE_BUTTON_TOOLTIP"))}let p=(()=>{class f extends s.H{constructor(v,E,C,T){super(v,E),this.inlineDialogModeStream=C,this.changeDetectorRef=T,this.InlineDialogMode=t.Y,this.currentMode=t.Y.COMPACT}ngOnInit(){this.observeDialogMode()}expand(){this.inlineDialogModeStream.toExpanded()}collapse(){this.inlineDialogModeStream.toCompact()}observeDialogMode(){this.inlineDialogModeStream.selectMode().pipe(this.takeUntilDestroy()).subscribe(v=>{this.currentMode=v,this.changeDetectorRef.detectChanges()})}}return f.\u0275fac=function(v){return new(v||f)(i.Y36(i.SBq),i.Y36(i.Qsj),i.Y36(n.O),i.Y36(i.sBO))},f.\u0275cmp=i.Xpm({type:f,selectors:[["sp-inline-dialog-expand-button"]],features:[i.qOj],decls:2,vars:2,consts:[["id","sp-inline-dialog-expand-button","class","far fa-expand-alt fa-fw sp-cursor-pointer sp-text-l sp-text-gray-400",3,"spTooltip","click",4,"ngIf"],["id","sp-inline-dialog-collapse-button","class","far fa-compress-alt fa-fw sp-cursor-pointer sp-text-l sp-text-gray-400",3,"spTooltip","click",4,"ngIf"],["id","sp-inline-dialog-expand-button",1,"far","fa-expand-alt","fa-fw","sp-cursor-pointer","sp-text-l","sp-text-gray-400",3,"spTooltip","click"],["id","sp-inline-dialog-collapse-button",1,"far","fa-compress-alt","fa-fw","sp-cursor-pointer","sp-text-l","sp-text-gray-400",3,"spTooltip","click"]],template:function(v,E){1&v&&(i.YNc(0,d,2,3,"i",0),i.YNc(1,h,2,3,"i",1)),2&v&&(i.Q6J("ngIf",E.currentMode===E.InlineDialogMode.COMPACT),i.xp6(1),i.Q6J("ngIf",E.currentMode===E.InlineDialogMode.EXPANDED))},directives:[r.O5,a.i9],pipes:[o.d],encapsulation:2,changeDetection:0}),f})()},94647:(S,g,e)=>{"use strict";e.d(g,{Y:()=>t});var t=(()=>{return(n=t||(t={}))[n.COMPACT=0]="COMPACT",n[n.EXPANDED=1]="EXPANDED",t;var n})()},62923:(S,g,e)=>{"use strict";e.d(g,{O:()=>r});var t=e(18840),n=e(96105),s=e(94647),i=e(84046);class r{constructor(){this.mode$=new t.X(r.DEFAULT_MODE)}selectMode(){return this.mode$.asObservable().pipe((0,n.x)())}toCompact(){this.mode$.next(s.Y.COMPACT)}toExpanded(){this.mode$.next(s.Y.EXPANDED)}reset(){this.mode$.next(r.DEFAULT_MODE)}}r.DEFAULT_MODE=s.Y.COMPACT,r.\u0275fac=function(o){return new(o||r)},r.\u0275prov=i.Yz7({token:r,factory:r.\u0275fac})},78715:(S,g,e)=>{"use strict";e.d(g,{w:()=>d});var t=e(90850),n=e(73197),s=e(35811);class i{withX(p){return this.x=p,this}withY(p){return this.y=p,this}}class r{withWidth(p){return this.width=p,this}withHeight(p){return this.height=p,this}}var a=(()=>{return(h=a||(a={}))[h.NOT_STARTED=0]="NOT_STARTED",h[h.STARTED_FROM_TOP_LEFT=1]="STARTED_FROM_TOP_LEFT",h[h.STARTED_FROM_BOTTOM_RIGHT=2]="STARTED_FROM_BOTTOM_RIGHT",a;var h})(),o=e(84046);let d=(()=>{class h{constructor(){this.resizeState=a.NOT_STARTED,this.onDestroy$=new t.xQ}initializeResize(f){this.documentElement=f.documentElement,this.dialogStylist=f.dialogStylist,this.dialogSize=f.dialogSize,this.dialogElement=f.dialogElement,f.topLeftHandleElement&&this.observeResizeStart(f.topLeftHandleElement,a.STARTED_FROM_TOP_LEFT),f.bottomRightHandleElement&&this.observeResizeStart(f.bottomRightHandleElement,a.STARTED_FROM_BOTTOM_RIGHT)}completeResizeObservation(){this.onDestroy$.next(),this.onDestroy$.complete(),this.resizeComplete$&&!this.resizeComplete$.closed&&(this.resizeComplete$.next(),this.resizeComplete$.complete())}observeResizeStart(f,m){(0,n.R)(f,"mousedown").pipe((0,s.R)(this.onDestroy$)).subscribe(v=>{this.resizeState=m,this.resizeComplete$=new t.xQ,this.documentBoundingRect=this.documentElement.getBoundingClientRect();const E=this.dialogElement.getBoundingClientRect();this.resizeStartDialogDimensions=(new r).withHeight(E.height).withWidth(E.width),this.resizeStartDialogCoordinates=(new i).withX(E.left-this.documentBoundingRect.left).withY(E.top-this.documentBoundingRect.top),this.resizeStartMouseCoordinates=(new i).withX(v.clientX).withY(v.clientY),this.observeResizeMouseMove(),this.observeResizeEnd()})}observeResizeEnd(){(0,n.R)(window,"mouseup").pipe((0,s.R)(this.resizeComplete$)).subscribe(()=>{this.resizeState=a.NOT_STARTED,this.resizeComplete$.next(),this.resizeComplete$.complete()})}observeResizeMouseMove(){(0,n.R)(window,"mousemove").pipe((0,s.R)(this.resizeComplete$)).subscribe(f=>{const m=f.clientX,v=f.clientY;if(this.resizeState===a.NOT_STARTED||this.viewPortBoundariesCrossed(m,v,this.documentBoundingRect))return;f.preventDefault();const E=this.calculateMouseMoveCoordinateDelta(m,this.resizeStartMouseCoordinates.x),C=this.calculateMouseMoveCoordinateDelta(v,this.resizeStartMouseCoordinates.y);if(this.resizeState===a.STARTED_FROM_BOTTOM_RIGHT){const T=this.resizeStartDialogDimensions.width+E,y=this.resizeStartDialogDimensions.height+C;this.newWidthFitsWithinLimit(T,this.dialogSize)&&this.dialogStylist.setContentWidthPx(T),this.newHeightFitsWithinLimit(y,this.dialogSize)&&this.dialogStylist.setContentHeightPx(y)}else if(this.resizeState===a.STARTED_FROM_TOP_LEFT){const T=this.resizeStartDialogDimensions.width-E,y=this.resizeStartDialogDimensions.height-C;this.newWidthFitsWithinLimit(T,this.dialogSize)&&(this.dialogStylist.setContentWidthPx(T),this.dialogStylist.setWrapperLeftPx(this.resizeStartDialogCoordinates.x+(m-this.resizeStartMouseCoordinates.x))),this.newHeightFitsWithinLimit(y,this.dialogSize)&&(this.dialogStylist.setContentHeightPx(y),this.dialogStylist.setWrapperTopPx(this.resizeStartDialogCoordinates.y+(v-this.resizeStartMouseCoordinates.y)))}})}viewPortBoundariesCrossed(f,m,v){return f>v.right||f<v.left||m>v.height||m<0}calculateMouseMoveCoordinateDelta(f,m){return f-m}newWidthFitsWithinLimit(f,m){return f>=m.getMinWidthPx()&&f<=m.getMaxWidthPx()}newHeightFitsWithinLimit(f,m){return f>=m.getMinHeightPx()&&f<=m.getMaxHeightPx()}}return h.\u0275fac=function(f){return new(f||h)},h.\u0275prov=o.Yz7({token:h,factory:h.\u0275fac}),h})()},15460:(S,g,e)=>{"use strict";e.d(g,{M:()=>n});var t=e(84046);let n=(()=>{class s{}return s.\u0275fac=function(r){return new(r||s)},s.\u0275cmp=t.Xpm({type:s,selectors:[["sp-inline-dialog-resize-handle"]],decls:3,vars:0,consts:[["width","10","height","10","viewBox","0 0 10 10","fill","none","xmlns","http://www.w3.org/2000/svg"],["y","8.48528","width","12","height","1","rx","0.5","transform","rotate(-45 0 8.48528)"],["x","3","y","8.65685","width","8","height","1","rx","0.5","transform","rotate(-45 3 8.65685)"]],template:function(r,a){1&r&&(t.O4$(),t.TgZ(0,"svg",0),t._UZ(1,"rect",1),t._UZ(2,"rect",2),t.qZA())},styles:["sp-inline-dialog-resize-handle:hover,sp-inline-dialog-resize-handle:active{cursor:nwse-resize}sp-inline-dialog-resize-handle rect{fill:var(--gray-50)}\n"],encapsulation:2,changeDetection:0}),s})()},39863:(S,g,e)=>{"use strict";e.d(g,{$I:()=>x,bc:()=>B,dz:()=>b});var t=e(55331),n=e(84046),s=e(29265);class i{constructor(w,K){this.document=w,this.renderer=K}createBlanket(w){const K=this.document.querySelector("body"),k=this.renderer.createElement("div");k.id=this.getBlanketId(w),k.classList.add("sp-modal-window-blanket"),k.setAttribute("noprint","");const G=this.renderer.createElement("div");G.classList.add("blanket-content"),k.appendChild(G),this.renderer.appendChild(K,k),this.renderer.setStyle(K,"width",`${K.offsetWidth}px`),this.renderer.setStyle(K,"overflow","hidden")}removeBlanket(w){const K=this.document.querySelector("body"),k=this.document.querySelector(this.getBlanketSelector(w));this.renderer.setStyle(K,"overflow","inherit"),this.renderer.removeStyle(K,"width"),k&&this.renderer.removeChild(k.parentNode,k)}getBlanketSelector(w){return`#${this.getBlanketId(w)}`}getBlanketId(w){return`sp-inline-dialog-blanket-${w}`}}var r=e(94647),a=e(62923);class o{constructor(w,K,k,G){this.dialogElement=w,this.documentElement=K,this.dialogSize=k,this.dialogStylist=G}withTopLeftHandle(w){return this.topLeftHandleElement=w,this}withBottomRightHandle(w){return this.bottomRightHandleElement=w,this}}var d=e(71118);class h{constructor(w,K,k,G,$){this.domManipulator=w,this.hostRef=K,this.wrapperRef=k,this.contentRef=G,this.backdropRef=$}}class p{constructor(w){this.hostClasses={[r.Y.COMPACT]:["sp-inline-dialog","sp-block","sp-absolute","sp-top-0","sp-left-0"],[r.Y.EXPANDED]:[]},this.wrapperClasses={[r.Y.COMPACT]:["sp-inline-dialog__wrapper","sp-shadow","sp-absolute","sp-top-0","sp-left-0"],[r.Y.EXPANDED]:[]},this.contentClasses={[r.Y.COMPACT]:["sp-inline-dialog__wrapper-container","sp-h-full","sp-bg-gray-0","sp-border-rounded","sp-overflow-y-auto","sp-relative","sp-overflow-hidden"],[r.Y.EXPANDED]:["sp-modal-content"]},this.backdropClasses={[r.Y.COMPACT]:[],[r.Y.EXPANDED]:["sp-modal-backdrop","sp-modal-window"]},this.wrapperId={[r.Y.COMPACT]:"sp-inline-dialog-compact-wrapper",[r.Y.EXPANDED]:"sp-inline-dialog-expanded-wrapper"},this.hostRef=w.hostRef,this.wrapperRef=w.wrapperRef,this.contentRef=w.contentRef,this.backdropRef=w.backdropRef,this.domManipulator=w.domManipulator}switchDialogModeAttributes(w){for(const K of d.l.enumToArray(r.Y).filter(k=>k!==w.toString()))this.removeClassesFromElement(this.hostClasses[K],this.hostRef),this.removeClassesFromElement(this.wrapperClasses[K],this.wrapperRef),this.removeClassesFromElement(this.contentClasses[K],this.contentRef),this.removeClassesFromElement(this.backdropClasses[K],this.backdropRef),this.domManipulator.removeAttribute(this.wrapperRef.nativeElement,"id");this.addClassesToElement(this.hostClasses[w],this.hostRef),this.addClassesToElement(this.wrapperClasses[w],this.wrapperRef),this.addClassesToElement(this.contentClasses[w],this.contentRef),this.addClassesToElement(this.backdropClasses[w],this.backdropRef),this.domManipulator.setAttribute(this.wrapperRef.nativeElement,"id",this.wrapperId[w])}resetContentDimensions(){this.domManipulator.removeStyle(this.contentRef.nativeElement,"height"),this.domManipulator.removeStyle(this.contentRef.nativeElement,"width")}setSelfSize(w){w.getWindowSize()&&this.domManipulator.addClass(this.contentRef.nativeElement,`sp-content-${w.getWindowSize()}`),w.getHeightPx()&&this.domManipulator.addStyle(this.contentRef.nativeElement,"height",`${w.getHeightPx()}px`),w.getMaxHeightPx()&&this.domManipulator.addStyle(this.contentRef.nativeElement,"max-height",`${w.getMaxHeightPx()}px`),w.getMaxWidthPx()&&this.domManipulator.addStyle(this.contentRef.nativeElement,"max-width",`${w.getMaxWidthPx()}px`),w.getMinHeightPx()&&this.domManipulator.addStyle(this.contentRef.nativeElement,"min-height",`${w.getMinHeightPx()}px`),w.getMinWidthPx()&&this.domManipulator.addStyle(this.contentRef.nativeElement,"min-width",`${w.getMinWidthPx()}px`),w.getWidthPx()&&this.domManipulator.addStyle(this.contentRef.nativeElement,"width",`${w.getWidthPx()}px`)}setModalSize(w){w.getWindowSize()&&this.domManipulator.addClass(this.contentRef.nativeElement,`sp-content-${w.getWindowSize()}`)}resetSelfSize(w){w.getWindowSize()&&this.domManipulator.removeClass(this.contentRef.nativeElement,`sp-content-${w.getWindowSize()}`),w.getHeightPx()&&this.domManipulator.removeStyle(this.contentRef.nativeElement,"height"),w.getMaxHeightPx()&&this.domManipulator.removeStyle(this.contentRef.nativeElement,"max-height"),w.getMaxWidthPx()&&this.domManipulator.removeStyle(this.contentRef.nativeElement,"max-width"),w.getMinHeightPx()&&this.domManipulator.removeStyle(this.contentRef.nativeElement,"min-height"),w.getMinWidthPx()&&this.domManipulator.removeStyle(this.contentRef.nativeElement,"min-width"),w.getWidthPx()&&this.domManipulator.removeStyle(this.contentRef.nativeElement,"width")}resetModalSize(w){w.getWindowSize()&&this.domManipulator.removeClass(this.contentRef.nativeElement,`sp-content-${w.getWindowSize()}`)}setContentWidthPx(w){this.domManipulator.addStyle(this.contentRef.nativeElement,"width",`${w}px`)}setContentHeightPx(w){this.domManipulator.addStyle(this.contentRef.nativeElement,"height",`${w}px`)}setWrapperLeftPx(w){this.domManipulator.addStyle(this.wrapperRef.nativeElement,"left",`${w}px`)}setWrapperTopPx(w){this.domManipulator.addStyle(this.wrapperRef.nativeElement,"top",`${w}px`)}addClassesToElement(w,K){for(const k of w)this.domManipulator.addClass(K.nativeElement,k)}removeClassesFromElement(w,K){for(const k of w)this.domManipulator.removeClass(K.nativeElement,k)}}var f=e(62546),m=e(78715),v=e(15460);const E=["dynamicComponentContainer"],C=["triangle"],T=["backdrop"],y=["dialogWrapper"],I=["content"],P=["resizeTopLeftHandle"],L=["resizeBottomRightHandle"];function F(M,w){}class b{constructor(w,K,k,G){this.selfSize=w,this.modalSize=K,this.isResizable=k,this.uuid=G}}const x=new n.OlP("INLINE_DIALOG_WRAPPER_CONFIG");let B=(()=>{class M extends f.H{constructor(K,k,G,$,X,ie,se,pe){super($,G),this.document=K,this.wrapperConfiguration=k,this.renderer2=G,this.elementReference=$,this.changeDetectorRef=X,this.inlineDialogModeStream=ie,this.resizeNotifierService=se,this.inlineDialogResizer=pe,this.InlineDialogMode=r.Y,this.wrapperHasBeenResized=!1,this.wrapperSizeChangedFirstTime=!0,this.isResizable=!1,this.inlineDialogBlanket=new i(K,G),this.selfSize=k.selfSize,this.isResizable=k.isResizable}ngOnInit(){this.observeDialogMode(),this.isResizable&&(this.initializeResize(),this.observeDialogResize())}finalize(){this.inlineDialogModeStream.reset(),this.inlineDialogBlanket.removeBlanket(this.wrapperConfiguration.uuid),this.isResizable&&(this.inlineDialogResizer.completeResizeObservation(),this.resizeNotifierService.removeResizeDetectorFromDom(this.content.nativeElement)),this.onDestroy$.next(),this.onDestroy$.complete()}observeDialogMode(){this.inlineDialogModeStream.selectMode().pipe(this.takeUntilDestroy()).subscribe(K=>{switch(this.wrapperStylist||(this.wrapperStylist=new p(this.getStylistConfiguration())),this.currentDialogMode=K,K){case r.Y.COMPACT:this.collapseDialog();break;case r.Y.EXPANDED:this.expandDialog();break;default:throw Error(`Inline Dialog mode ${K} not supported`)}})}observeDialogResize(){this.resizeNotifierService.addResizeDetectorToDom(this.content.nativeElement).pipe(this.takeUntilDestroy()).subscribe(()=>{this.currentDialogMode===r.Y.COMPACT&&(this.wrapperSizeChangedFirstTime?this.wrapperSizeChangedFirstTime=!1:this.wrapperHasBeenResized||(this.wrapperHasBeenResized=!0,this.changeDetectorRef.detectChanges()))})}collapseDialog(){this.wrapperStylist.switchDialogModeAttributes(r.Y.COMPACT),this.wrapperStylist.resetContentDimensions(),this.wrapperConfiguration.modalSize&&this.wrapperStylist.resetModalSize(this.wrapperConfiguration.modalSize),this.wrapperConfiguration.selfSize&&this.wrapperStylist.setSelfSize(this.wrapperConfiguration.selfSize),this.inlineDialogBlanket.removeBlanket(this.wrapperConfiguration.uuid),this.wrapperSizeChangedFirstTime=!0,this.isResizable=this.wrapperConfiguration.isResizable,this.changeDetectorRef.detectChanges()}expandDialog(){this.wrapperStylist.switchDialogModeAttributes(r.Y.EXPANDED),this.wrapperStylist.resetContentDimensions(),this.wrapperConfiguration.selfSize&&this.wrapperStylist.resetSelfSize(this.wrapperConfiguration.selfSize),this.wrapperConfiguration.modalSize&&this.wrapperStylist.setModalSize(this.wrapperConfiguration.modalSize),this.inlineDialogBlanket.createBlanket(this.wrapperConfiguration.uuid),this.isResizable=!1,this.changeDetectorRef.detectChanges()}getStylistConfiguration(){return new h(this.domManipulator,this.elementRef,this.dialogWrapper,this.content,this.backdrop)}initializeResize(){const K=new o(this.dialogWrapper.nativeElement,this.document.documentElement,this.selfSize,this.wrapperStylist).withTopLeftHandle(this.resizeTopLeftHandle.nativeElement).withBottomRightHandle(this.resizeBottomRightHandle.nativeElement);this.inlineDialogResizer.initializeResize(K)}}return M.\u0275fac=function(K){return new(K||M)(n.Y36(t.K0),n.Y36(x),n.Y36(n.Qsj),n.Y36(n.SBq),n.Y36(n.sBO),n.Y36(a.O),n.Y36(s.C),n.Y36(m.w))},M.\u0275cmp=n.Xpm({type:M,selectors:[["sp-inline-dialog-wrapper"]],viewQuery:function(K,k){if(1&K&&(n.Gf(E,7,n.s_b),n.Gf(C,7),n.Gf(T,7),n.Gf(y,7),n.Gf(I,7),n.Gf(P,7),n.Gf(L,7)),2&K){let G;n.iGM(G=n.CRH())&&(k.dynamicComponentContainer=G.first),n.iGM(G=n.CRH())&&(k.triangle=G.first),n.iGM(G=n.CRH())&&(k.backdrop=G.first),n.iGM(G=n.CRH())&&(k.dialogWrapper=G.first),n.iGM(G=n.CRH())&&(k.content=G.first),n.iGM(G=n.CRH())&&(k.resizeTopLeftHandle=G.first),n.iGM(G=n.CRH())&&(k.resizeBottomRightHandle=G.first)}},features:[n.qOj],decls:16,vars:6,consts:[["backdrop",""],["dialogWrapper",""],[1,"sp-inline-dialog__resize-handle","sp-inline-dialog__resize-handle--top-left","sp-absolute","sp-top-0","sp-left-0"],["resizeTopLeftHandle",""],[1,"sp-inline-dialog__resize-handle","sp-absolute","sp-bottom-0","sp-right-0"],["resizeBottomRightHandle",""],[1,"sp-w-full","sp-h-full","!sp-p-4"],["content",""],["dynamicComponentContainer",""],[1,"sp-inline-dialog__arrow","sp-absolute","sp-w-8","sp-h-8"],["triangle",""]],template:function(K,k){1&K&&(n.TgZ(0,"div",null,0),n.TgZ(2,"div",null,1),n.TgZ(4,"div",2,3),n._UZ(6,"sp-inline-dialog-resize-handle"),n.qZA(),n.TgZ(7,"div",4,5),n._UZ(9,"sp-inline-dialog-resize-handle"),n.qZA(),n.TgZ(10,"div",6,7),n.YNc(12,F,0,0,"ng-template",null,8,n.W1O),n.qZA(),n.qZA(),n.qZA(),n._UZ(14,"div",9,10)),2&K&&(n.xp6(4),n.ekj("sp-hidden",!k.isResizable),n.xp6(3),n.ekj("sp-hidden",!k.isResizable),n.xp6(7),n.ekj("sp-hidden",k.currentDialogMode!==k.InlineDialogMode.COMPACT||k.wrapperHasBeenResized))},directives:[v.M],styles:['.sp-inline-dialog__wrapper{z-index:6000}.sp-inline-dialog__arrow{z-index:6000}.sp-inline-dialog__arrow:after{content:"";box-shadow:-1px 1px 2px #00000012;border-color:transparent transparent var(--gray-0) var(--gray-0);border-width:11.31px;border-style:solid;left:.3rem;position:absolute}.sp-inline-dialog__arrow--on-bottom:after{transform:rotate(135deg);top:4px}.sp-inline-dialog__arrow--on-top:after{transform:rotate(-45deg)}.sp-inline-dialog__resize-handle{z-index:6000}.sp-inline-dialog__resize-handle--top-left{transform:rotate(180deg)}\n'],encapsulation:2,changeDetection:0}),M})()},92944:(S,g,e)=>{"use strict";e.d(g,{$:()=>tt});var t=e(55331),n=e(41001),s=e(51545),i=e(51805),r=e(26566),a=e(78609),o=e(66427),d=e(82366),h=e(52777),p=e(49549),f=e(96827),v=(e(86718),e(68859)),E=e(75502),C=e(69990),T=e(9829),y=e(84046);let I=(()=>{class lt{getIconColor(ne){switch(ne.options.status){case T.r.CRITICAL:return"var(--critical)";case T.r.ERROR:return"var(--error)";case T.r.INFO:return"var(--info)";case T.r.SUCCESS:return"var(--success)";case T.r.WARNING:return"var(--warning)";default:return"var(--info)"}}getIconId(ne){switch(ne.options.status){case T.r.CRITICAL:return"do-not-enter";case T.r.ERROR:return"exclamation-triangle";case T.r.INFO:return"info-circle";case T.r.SUCCESS:return"check-circle";case T.r.WARNING:return"exclamation-circle";default:return"info-circle"}}getButtonColorType(ne){switch(ne.options.status){case T.r.CRITICAL:return C.S.CRITICAL;case T.r.ERROR:return C.S.ERROR;case T.r.INFO:return C.S.INFO;case T.r.SUCCESS:return C.S.SUCCESS;case T.r.WARNING:return C.S.WARNING;default:return C.S.INFO}}}return lt.\u0275fac=function(ne){return new(ne||lt)},lt.\u0275prov=y.Yz7({token:lt,factory:lt.\u0275fac}),lt})();var P=e(62546),L=e(79366),F=e(83063),b=e(37752),x=e(68890),B=e(34909),M=e(26463),w=e(65799),K=e(18217),k=e(25082);function G(lt,Mt){if(1&lt&&y._UZ(0,"sp-icon",10),2&lt){const ne=y.oxw();y.Q6J("name",ne.icon.getName())("color",ne.icon.getColor())}}function $(lt,Mt){if(1&lt){const ne=y.EpF();y.TgZ(0,"button",11),y.NdJ("click",function(){y.CHM(ne);const Ye=y.oxw(),Qe=y.MAs(9);return Ye.copy(Qe.innerText)}),y.ALo(1,"spRichTextI18n"),y._UZ(2,"sp-icon",12),y.qZA()}if(2&lt){const ne=y.oxw();y.Q6J("spTooltip",y.lcZ(1,2,"SPT_COMMON_POPUP_COPY")),y.xp6(2),y.Q6J("type",ne.IconStyle.REGULAR)}}function X(lt,Mt){if(1&lt){const ne=y.EpF();y.TgZ(0,"button",21),y.NdJ("click",function(){return y.CHM(ne),y.oxw(2).primaryBtnClick()}),y._uU(1),y.ALo(2,"spL10nText"),y.qZA()}if(2&lt){const ne=y.oxw(2);y.Q6J("colorType",ne.buttonColorType),y.xp6(1),y.hij(" ",y.lcZ(2,2,ne.primaryBtnConfig.getBtnText())," ")}}function ie(lt,Mt){if(1&lt){const ne=y.EpF();y.TgZ(0,"button",22),y.NdJ("click",function(){return y.CHM(ne),y.oxw(2).secondaryBtnClick()}),y._uU(1),y.ALo(2,"spL10nText"),y.qZA()}if(2&lt){const ne=y.oxw(2);y.xp6(1),y.hij(" ",y.lcZ(2,1,ne.secondaryBtnConfig.getBtnText())," ")}}function se(lt,Mt){if(1&lt){const ne=y.EpF();y.TgZ(0,"button",23),y.NdJ("click",function(){return y.CHM(ne),y.oxw(2).standardBtnClick()}),y._uU(1),y.ALo(2,"spL10nText"),y.qZA()}if(2&lt){const ne=y.oxw(2);y.xp6(1),y.hij(" ",y.lcZ(2,1,ne.standardBtnConfig.getBtnText())," ")}}function pe(lt,Mt){if(1&lt&&(y.TgZ(0,"a",24),y.ALo(1,"spSanitize"),y._uU(2),y.ALo(3,"spL10nText"),y.qZA()),2&lt){const ne=y.oxw(2);y.Tol(ne.BUTTON_CSS_CLASSES),y.Q6J("id",ne.getButtonElementId())("href",y.xi3(1,5,ne.linkBtnConfig.getHref(),"url"),y.LSH),y.xp6(2),y.hij(" ",y.lcZ(3,8,ne.linkBtnConfig.getBtnText())," ")}}function ve(lt,Mt){if(1&lt&&(y.TgZ(0,"a",25),y.ALo(1,"spSanitize"),y._uU(2),y.ALo(3,"spL10nText"),y.qZA()),2&lt){const ne=y.oxw(2);y.Tol(ne.BUTTON_CSS_CLASSES),y.Q6J("id",ne.getButtonElementId())("spNavigationLink",y.xi3(1,5,ne.linkBtnConfig.getHref(),"url")),y.xp6(2),y.hij(" ",y.lcZ(3,8,ne.linkBtnConfig.getBtnText())," ")}}function Ce(lt,Mt){if(1&lt){const ne=y.EpF();y.TgZ(0,"a",26),y.NdJ("click",function(){y.CHM(ne);const Ye=y.oxw(2);return null==Ye.linkBtnConfig?null:Ye.linkBtnConfig.getBtnClickCallback()}),y._uU(1),y.ALo(2,"spL10nText"),y.qZA()}if(2&lt){const ne=y.oxw(2);y.Tol(ne.BUTTON_CSS_CLASSES),y.Q6J("id",ne.getButtonElementId()),y.xp6(1),y.hij(" ",y.lcZ(2,4,ne.linkBtnConfig.getBtnText())," ")}}function ye(lt,Mt){if(1&lt&&(y.TgZ(0,"a",27),y.ALo(1,"spSanitize"),y._uU(2),y.ALo(3,"spL10nText"),y.qZA()),2&lt){const ne=y.oxw(2),De=y.MAs(9);y.Q6J("href",y.xi3(1,2,ne.getURIFileFromString(De.innerText),"url"),y.LSH),y.xp6(2),y.Oqu(y.lcZ(3,5,"SPT_COMMON_MESSAGE_DOWNLOAD_LOGS_BUTTON"))}}function de(lt,Mt){if(1&lt&&(y.TgZ(0,"div",13),y.YNc(1,X,3,4,"button",14),y.YNc(2,ie,3,3,"button",15),y.YNc(3,se,3,3,"button",16),y.YNc(4,pe,4,10,"a",17),y.YNc(5,ve,4,10,"a",18),y.YNc(6,Ce,3,6,"a",19),y.YNc(7,ye,4,7,"a",20),y.qZA()),2&lt){const ne=y.oxw(),De=y.MAs(9);y.xp6(1),y.Q6J("ngIf",ne.primaryBtnConfig),y.xp6(1),y.Q6J("ngIf",ne.secondaryBtnConfig),y.xp6(1),y.Q6J("ngIf",ne.standardBtnConfig),y.xp6(1),y.Q6J("ngIf",ne.linkBtnConfig&&ne.linkBtnConfig.getType()===ne.MESSAGE_BUTTON_TYPE.EXTERNAL_LINK),y.xp6(1),y.Q6J("ngIf",ne.linkBtnConfig&&ne.linkBtnConfig.getType()===ne.MESSAGE_BUTTON_TYPE.NAVIGATION),y.xp6(1),y.Q6J("ngIf",ne.linkBtnConfig&&ne.linkBtnConfig.getType()===ne.MESSAGE_BUTTON_TYPE.CALLBACK),y.xp6(1),y.Q6J("ngIf",ne.isDownloadLogsButtonVisible(De.innerText))}}let Ie=(()=>{class lt extends P.H{constructor(ne,De,Ye,Qe,Ke,it,Se){super(ne,De),this.changeDetectorRef=Ye,this.localStorageWithUserKey=Qe,this.messageService=Ke,this.messageComponentService=it,this.clipboardService=Se,this.IconStyle=d.ze,this.MESSAGE_BUTTON_TYPE=E.$,this.BUTTON_CSS_CLASSES="sp-btn sp-btn-link sp-truncate"}ngOnChanges(ne){ne.message&&(this.initTimer(),this.setButtonsConfig(),this.setIcon())}ngAfterViewInit(){this.changeDetectorRef.detectChanges()}close(){const{stopDisplayingThisMessageAfterClose:ne}=this.message.options;this.closeMessage(),this.optionalDetectChanges(),ne&&this.localStorageWithUserKey.setItem(this.stopDisplayingThisMessageLSKey,!0)}copy(ne){if(!ne)return;const De=ne.trim();!De.length||(this.clipboardService.copyTextToClipboard(De.trim()),this.clipboardService.showSuccessMessage())}primaryBtnClick(){this.primaryBtnConfig.getBtnClickCallback(),this.primaryBtnConfig.isCloseOnClick()&&this.close()}secondaryBtnClick(){this.secondaryBtnConfig.getBtnClickCallback(),this.secondaryBtnConfig.isCloseOnClick()&&this.close()}standardBtnClick(){this.standardBtnConfig.getBtnClickCallback(),this.standardBtnConfig.isCloseOnClick()&&this.close()}isTextNonEmpty(ne){return ne.length>0}isCopyable(){return this.message.options.copyable}isNonEmptyBody(){const ne=this.message.options.body;return""!==ne.toString()||null!==ne.getComponent()}isDownloadLogsButtonVisible(ne){return this.message.options.downloadLogsBtn&&this.isTextNonEmpty(ne)}getURIFileFromString(ne){const De=new Blob([ne],{type:"text/plain"});return URL.createObjectURL(De)}getButtonElementId(){return"sp-message-component-link-btn"}getHostClasses(){return["sp-message","sp-block","sp-content-md","sp-relative","sp-mt-0","sp-mb-5","sp-p-6","sp-border-rounded","sp-opacity-100","sp-shadow","sp-bg-gray-0","sp-dark:bg-gray-30","sp-overflow-auto"]}closeMessage(){this.messageService.deleteMessage(this.message)}optionalDetectChanges(){this.changeDetectorRef.destroyed||this.changeDetectorRef.detectChanges()}initTimer(){const ne=this.message.options.delay;ne>0&&this.performActionAfterDelay(ne,this.close.bind(this))}performActionAfterDelay(ne,De){(0,p.H)(ne).pipe(this.takeUntilDestroy()).subscribe(()=>{De()})}setButtonsConfig(){const ne=this.message.options;(ne.stopDisplayingThisMessagePrimaryBtn||ne.stopDisplayingThisMessageSecondaryBtn||ne.stopDisplayingThisMessageStandardBtn||ne.stopDisplayingThisMessageAfterClose)&&(this.stopDisplayingThisMessageLSKey=this.message.options.stopDisplayingThisMessageLSKey),this.primaryBtnConfig=this.getPrimaryBtnConfig(ne),this.secondaryBtnConfig=this.getSecondaryBtnConfig(ne),this.standardBtnConfig=this.getStandardBtnConfig(ne),this.linkBtnConfig=ne.linkBtnConfig,this.buttonColorType=this.messageComponentService.getButtonColorType(this.message)}getPrimaryBtnConfig(ne){return ne.stopDisplayingThisMessagePrimaryBtn?this.getStopDisplayingThisMessageBtnCfg(null==ne?void 0:ne.customStopDisplayingButtonLabel):ne.primaryBtnConfig}getSecondaryBtnConfig(ne){return ne.stopDisplayingThisMessageSecondaryBtn?this.getStopDisplayingThisMessageBtnCfg(null==ne?void 0:ne.customStopDisplayingButtonLabel):ne.secondaryBtnConfig}getStandardBtnConfig(ne){return ne.stopDisplayingThisMessageStandardBtn?this.getStopDisplayingThisMessageBtnCfg():ne.standardBtnConfig}getStopDisplayingThisMessageBtnCfg(ne){return(new v.q.Builder).withBtnText(null!=ne?ne:"SPT_MESSAGE_STOP_DISPLAYING_THIS_MESSAGE_BUTTON_LABEL").withBtnClickCallback(()=>{this.localStorageWithUserKey.setItem(this.stopDisplayingThisMessageLSKey,!0),this.close()}).build()}setIcon(){this.icon=new h.J(this.messageComponentService.getIconId(this.message),this.messageComponentService.getIconColor(this.message))}}return lt.\u0275fac=function(ne){return new(ne||lt)(y.Y36(y.SBq),y.Y36(y.Qsj),y.Y36(y.sBO),y.Y36(L.v),y.Y36(a.e),y.Y36(I),y.Y36(f.Y))},lt.\u0275cmp=y.Xpm({type:lt,selectors:[["sp-message"]],inputs:{message:"message"},features:[y._Bn([I]),y.qOj,y.TTD],decls:12,vars:10,consts:[[1,"sp-flex","sp-items-center"],["class","sp-mr-2",3,"name","color",4,"ngIf"],["id","sp-message-title",1,"sp-mb-0","sp-mr-8","sp-flex-auto"],["class","sp-message__copy sp-btn sp-btn-subtle !sp-p-0 sp-min-w-5 sp-h-5","role","button","tabindex","0",3,"spTooltip","click",4,"ngIf"],["id","sp-message-close-button","role","button","tabindex","0",1,"sp-message__close","sp-btn","sp-btn-subtle","!sp-p-0","sp-min-w-5","sp-h-5",3,"click"],["name","times",1,"sp-text-l",3,"type"],[1,"sp-message__content","sp-overflow-y-auto"],["content",""],[3,"config"],["class","sp-mt-4 sp-flex",4,"ngIf"],[1,"sp-mr-2",3,"name","color"],["role","button","tabindex","0",1,"sp-message__copy","sp-btn","sp-btn-subtle","!sp-p-0","sp-min-w-5","sp-h-5",3,"spTooltip","click"],["name","copy",1,"sp-text-l",3,"type"],[1,"sp-mt-4","sp-flex"],["id","sp-message-component-first-btn","sp-button","","class","sp-truncate",3,"colorType","click",4,"ngIf"],["id","sp-message-component-second-btn","sp-button","","class","sp-truncate",3,"click",4,"ngIf"],["id","sp-message-component-standard-btn","sp-button","",3,"click",4,"ngIf"],["target","_blank",3,"class","id","href",4,"ngIf"],[3,"class","id","spNavigationLink",4,"ngIf"],[3,"class","id","click",4,"ngIf"],["class","sp-btn","download","logs.txt",3,"href",4,"ngIf"],["id","sp-message-component-first-btn","sp-button","",1,"sp-truncate",3,"colorType","click"],["id","sp-message-component-second-btn","sp-button","",1,"sp-truncate",3,"click"],["id","sp-message-component-standard-btn","sp-button","",3,"click"],["target","_blank",3,"id","href"],[3,"id","spNavigationLink"],[3,"id","click"],["download","logs.txt",1,"sp-btn",3,"href"]],template:function(ne,De){if(1&ne&&(y.TgZ(0,"div",0),y.YNc(1,G,1,2,"sp-icon",1),y.TgZ(2,"h3",2),y._uU(3),y.ALo(4,"spL10nText"),y.qZA(),y.YNc(5,$,3,4,"button",3),y.TgZ(6,"button",4),y.NdJ("click",function(){return De.close()}),y._UZ(7,"sp-icon",5),y.qZA(),y.qZA(),y.TgZ(8,"div",6,7),y._UZ(10,"sp-rich-text",8),y.qZA(),y.YNc(11,de,8,7,"div",9)),2&ne){const Ye=y.MAs(9);y.ekj("sp-mb-2",De.isNonEmptyBody()),y.xp6(1),y.Q6J("ngIf",De.icon),y.xp6(2),y.hij(" ",y.lcZ(4,8,De.message.options.title)," "),y.xp6(2),y.Q6J("ngIf",De.isTextNonEmpty(Ye.innerText)&&De.isCopyable()),y.xp6(2),y.Q6J("type",De.IconStyle.REGULAR),y.xp6(3),y.Q6J("config",De.message.options.body),y.xp6(1),y.Q6J("ngIf",De.primaryBtnConfig||De.secondaryBtnConfig||De.standardBtnConfig||De.linkBtnConfig||De.isDownloadLogsButtonVisible(Ye.innerText))}},directives:[t.O5,F.o,b.E,x.i9,B.r,M.k],pipes:[w.L,K.d,k.n],styles:[".sp-message{overflow-wrap:anywhere;word-break:break-word;z-index:16000;line-height:1.25rem}.sp-message__content{max-height:128px}.sp-message__content p{margin-bottom:0}.sp-message__content a{color:inherit;text-decoration:underline}\n"],encapsulation:2,changeDetection:0}),lt})();var He=e(84106),Ve=e(6103),Ue=e(1030),xe=e(33945);const gt=[o.O,a.e];let tt=(()=>{class lt{static forRoot(){return{ngModule:lt,providers:gt}}}return lt.\u0275fac=function(ne){return new(ne||lt)},lt.\u0275mod=y.oAB({type:lt}),lt.\u0275inj=y.cJS({imports:[[t.ez,Ue.l,s.F,Ve.$,r.n,n.J,i.$,xe.Q,x.z8]]}),lt})();y.B6R(He.K,[t.sg,Ie,t.mk],[])},86718:(S,g,e)=>{"use strict";e.d(g,{v:()=>n});var t=e(85703);class n{constructor(){this.uuid=(0,t.Hu)()}equals(i){return this.uuid===i.uuid}withOptions(i){return this.options=i,this}}},68859:(S,g,e)=>{"use strict";e.d(g,{q:()=>s});var t=e(75502),n=e(85105);let s=(()=>{class i{getBtnText(){return this.btnText}getBtnClickCallback(){return this.btnClickCallback()}getHref(){return this.href}getType(){return this.type}isCloseOnClick(){return this.closeOnClick}}return i.Builder=class extends n.I{constructor(){super(...arguments),this.btnText="",this.btnClickCallback=()=>{},this.closeOnClick=!1,this.type=t.$.CALLBACK}build(){const a=new i;return a.btnText=this.btnText,a.btnClickCallback=this.btnClickCallback,a.closeOnClick=this.closeOnClick,a.href=this.href,a.type=this.type,a}withBtnText(a){return this.btnText=a,this}withBtnClickCallback(a,o=!1){return this.type=t.$.CALLBACK,this.btnClickCallback=a,this.closeOnClick=o,this}withBtnExternalLink(a){return this.type=t.$.EXTERNAL_LINK,this.href=a,this}withBtnNavigationLink(a){return this.type=t.$.NAVIGATION,this.href=a,this}withCloseOnClick(a=!0){return this.closeOnClick=a,this}},i})()},75502:(S,g,e)=>{"use strict";e.d(g,{$:()=>t});var t=(()=>{return(n=t||(t={})).CALLBACK="CALLBACK",n.EXTERNAL_LINK="EXTERNAL_LINK",n.NAVIGATION="NAVIGATION",t;var n})()},46902:(S,g,e)=>{"use strict";e.d(g,{P:()=>s});var t=e(83941),n=e(9829);let s=(()=>{class i{constructor(){this.stopDisplayingThisMessagePrimaryBtn=!1,this.stopDisplayingThisMessageSecondaryBtn=!1,this.stopDisplayingThisMessageStandardBtn=!1,this.stopDisplayingThisMessageAfterClose=!1,this.stopDisplayingThisMessageLSKey=""}withBody(a){return this.body=a,this}withPrimaryButton(a){return this.stopDisplayingThisMessagePrimaryBtn=!1,this.primaryBtnConfig=a,this}withSecondaryButton(a){return this.stopDisplayingThisMessageSecondaryBtn=!1,this.secondaryBtnConfig=a,this}withStandardButton(a){return this.stopDisplayingThisMessageStandardBtn=!1,this.standardBtnConfig=a,this}withLinkButton(a){return this.linkBtnConfig=a,this}withStopDisplayingThisMessageButtonAsPrimary(a){return this.stopDisplayingThisMessageLSKey=`stop-displaying-${a}`,this.stopDisplayingThisMessagePrimaryBtn=!0,this}withStopDisplayingThisMessageButtonAsSecondary(a,o){return this.stopDisplayingThisMessageLSKey=`stop-displaying-${a}`,this.stopDisplayingThisMessageSecondaryBtn=!0,this.customStopDisplayingButtonLabel=o,this}withStopDisplayingThisMessageButtonAsStandard(a){return this.stopDisplayingThisMessageLSKey=`stop-displaying-${a}`,this.stopDisplayingThisMessageStandardBtn=!0,this}withStopDisplayingThisMessageAfterClose(a){return this.stopDisplayingThisMessageLSKey=`stop-displaying-${a}`,this.stopDisplayingThisMessageAfterClose=!0,this}withDownloadLogsButton(a=!0){return this.downloadLogsBtn=a,this}withId(a){return this.id=a,this}withCloseable(a){return this.closeable=a,this}withCopyable(a){return this.copyable=a,this}withTitle(a){return this.title=a,this}withFadeout(a){return this.fadeout=a,this}withDelay(a){return this.delay=a,this}withDuration(a){return this.duration=a,this}withCssClass(a){return this.cssClass=a,this}withStatus(a){return this.status=a,this}withDefaultsByStatus(a){const o=this.createDefaultMessageOptions().withStatus(a);switch(a){case n.r.INFO:return o.withCssClass("sp-message--info").withTitle("Info");case n.r.SUCCESS:return o.withCssClass("sp-message--success").withDelay(i.SUCCESS_MESSAGE_DELAY).withTitle("Success!");case n.r.WARNING:return o.withCssClass("sp-message--warning").withDelay(-1).withTitle("Warning");case n.r.ERROR:return o.withCssClass("sp-message--error").withDelay(-1).withTitle("Error!").withCopyable(!0).withDownloadLogsButton();case n.r.CRITICAL:return o.withCssClass("sp-message--critical").withTitle("Critical");default:return o.withCssClass("sp-message--success").withTitle("Success")}}hasBody(){return!!this.body}createDefaultMessageOptions(){return(new i).withBody(t.H.string("")).withCloseable(!0).withCopyable(!1).withId("sp-message-bar").withTitle("").withFadeout(!1).withDelay(i.DEFAULT_MESSAGE_DELAY).withDuration(i.DEFAULT_MESSAGE_DURATION)}}return i.DEFAULT_MESSAGE_DELAY=6e3,i.DEFAULT_MESSAGE_DURATION=500,i.SUCCESS_MESSAGE_DELAY=3e3,i})()},78609:(S,g,e)=>{"use strict";e.d(g,{e:()=>f});var t=e(84046),n=e(90850),s=e(35811),i=e(83941),r=e(86718),a=e(46902),o=e(66427),d=e(9829),h=e(84106);class p{constructor(v){this.errors=[],v&&v.errorMessages&&v.errorMessages.length&&(this.errors=v.errorMessages)}getErrors(){return this.errors}}let f=(()=>{class m{constructor(E,C,T){this.componentFactoryResolver=E,this.injector=C,this.messagesStore=T,this.unsubscribe$=new n.xQ,this.observeNoMessages()}ngOnDestroy(){this.unsubscribe$.next(),this.unsubscribe$.complete(),this.destroyList()}handleError(E){new p(E).getErrors().forEach(T=>{const y=(new a.P).withTitle("SPT_COMMON_HTTP_ERROR_MESSAGE_TITLE").withBody(i.H.string(T)).withFadeout(!1);this.error(y)})}info(E){return this.addMessage(d.r.INFO,E)}success(E){return this.addMessage(d.r.SUCCESS,E)}warning(E){return this.addMessage(d.r.WARNING,E)}error(E){return this.addMessage(d.r.ERROR,E)}critical(E){this.addMessage(d.r.CRITICAL,E)}deleteMessage(E){this.messagesStore.deleteMessage(E)}errorFromResponse(E){let C=[];E&&E.errorMessages&&Array.isArray(E.errorMessages)&&(C=[...E.errorMessages]),C.length&&E.errors&&Object.keys(E.errors).forEach(T=>{C.push(E.errors[T])}),C.forEach(T=>{this.error((new a.P).withTitle("SPT_MESSAGE_VALIDATION_ERROR_MESSAGE").withBody(i.H.string(T)))})}observeNoMessages(){this.messagesStore.selectNoMessages().pipe((0,s.R)(this.unsubscribe$)).subscribe(()=>this.destroyList())}addMessage(E,C){this.messageListRef||this.createListComponent();const T=Object.assign((new a.P).withDefaultsByStatus(E),C),y=(new r.v).withOptions(T);return this.messagesStore.addMessage(y),y}createListComponent(){const E=this.componentFactoryResolver.resolveComponentFactory(h.K).create(this.injector);this.injector.get(t.z2F).attachView(E.hostView),E.changeDetectorRef.detectChanges(),document.body.appendChild(E.hostView.rootNodes[0]),this.messageListRef=E}destroyList(){this.messageListRef&&(this.injector.get(t.z2F).detachView(this.messageListRef.hostView),this.messageListRef.destroy(),this.messageListRef=null)}}return m.\u0275fac=function(E){return new(E||m)(t.LFG(t._Vd),t.LFG(t.zs3),t.LFG(o.O))},m.\u0275prov=t.Yz7({token:m,factory:m.\u0275fac}),m})()},9829:(S,g,e)=>{"use strict";e.d(g,{r:()=>t});var t=(()=>{return(n=t||(t={}))[n.INFO=0]="INFO",n[n.SUCCESS=1]="SUCCESS",n[n.WARNING=2]="WARNING",n[n.ERROR=3]="ERROR",n[n.CRITICAL=4]="CRITICAL",t;var n})()},66427:(S,g,e)=>{"use strict";e.d(g,{O:()=>r});var t=e(18840),n=e(90850),s=e(71118),i=e(84046);let r=(()=>{class a{constructor(){this.messages=[],this.messages$=new t.X(this.messages),this.noMessages$=new n.xQ}selectMessages(){return this.messages$.asObservable()}selectNoMessages(){return this.noMessages$.asObservable()}addMessage(d){this.messages=[d,...this.messages],this.publish()}deleteMessage(d){this.messages=this.messages.filter(h=>!h.equals(d)),this.publish(),!s.l.arrayHasElements(this.messages)&&this.noMessages$.next()}deleteAllMessages(){this.messages=[],this.publish()}publish(){return this.messages$.next(this.messages)}}return a.\u0275fac=function(d){return new(d||a)},a.\u0275prov=i.Yz7({token:a,factory:a.\u0275fac}),a})()},84106:(S,g,e)=>{"use strict";e.d(g,{K:()=>p});var t=e(66427),n=e(75318);const s=[(0,n.X$)("fade",[(0,n.eR)(":enter",[(0,n.oB)({opacity:0}),(0,n.jt)("{{duration}}ms ease-in-out",(0,n.oB)({opacity:1}))]),(0,n.eR)(":leave",[(0,n.oB)({opacity:1}),(0,n.jt)("{{duration}}ms ease-in-out",(0,n.oB)({opacity:0}))])])];var i=e(62546),r=e(79366),a=e(84046);const o=function(f){return{duration:f}},d=function(f){return{value:"",params:f}};function h(f,m){if(1&f&&(a.ynx(0),a._UZ(1,"sp-message",1),a.BQk()),2&f){const v=m.$implicit;a.xp6(1),a.Q6J("@.disabled",!v.options.fadeout)("@fade",a.VKq(7,d,a.VKq(5,o,v.options.duration)))("ngClass",v.options.cssClass)("message",v),a.uIk("id",v.options.id)}}let p=(()=>{class f extends i.H{constructor(v,E,C,T,y){super(v,E),this.messagesStore=C,this.localStorageWithUserKey=T,this.changeDetectorRef=y,this.messages=[]}ngOnInit(){this.observeMessages(),this.domManipulator.setHostAttribute("id","sp-messages-list")}getHostClasses(){return["sp-messages-list-container","sp-z-8","sp-fixed"]}observeMessages(){this.messagesStore.selectMessages().pipe(this.takeUntilDestroy()).subscribe(v=>{this.messages=v.filter(E=>this.isMessageVisible(E)),this.changeDetectorRef.detectChanges()})}isMessageVisible(v){const E=v.options.stopDisplayingThisMessageLSKey;return!E||!this.localStorageWithUserKey.getObject(E)}}return f.\u0275fac=function(v){return new(v||f)(a.Y36(a.SBq),a.Y36(a.Qsj),a.Y36(t.O),a.Y36(r.v),a.Y36(a.sBO))},f.\u0275cmp=a.Xpm({type:f,selectors:[["sp-message-list"]],features:[a.qOj],decls:1,vars:1,consts:[[4,"ngFor","ngForOf"],[3,"ngClass","message"]],template:function(v,E){1&v&&a.YNc(0,h,2,9,"ng-container",0),2&v&&a.Q6J("ngForOf",E.messages)},styles:[".sp-messages-list-container{right:1rem;top:132px}\n"],encapsulation:2,data:{animation:s},changeDetection:0}),f})()},3603:(S,g,e)=>{"use strict";e.d(g,{E:()=>n});var t=e(19731);class n{constructor(i){this.func=i}load(){return this.func()}asObservable(){return(0,t.p)(this.func())}}},92973:(S,g,e)=>{"use strict";e.d(g,{M:()=>i});var t=e(90850);class n{constructor(a,o){this.modalId=a,this.result=o}}var s=e(84046);let i=(()=>{class r{constructor(){this.openAction$=new t.xQ,this.closeAction$=new t.xQ}getCloseAction(){return this.closeAction$.asObservable()}close(o,d){this.closeAction$.next(new n(o,d))}confirm(o){this.openAction$.next(o)}}return r.\u0275fac=function(o){return new(o||r)},r.\u0275prov=s.Yz7({token:r,factory:r.\u0275fac}),r})()},28386:(S,g,e)=>{"use strict";e.d(g,{F:()=>n});const n=new(e(84046).OlP)("MODAL_ID_TOKEN")},37869:(S,g,e)=>{"use strict";e.d(g,{o:()=>f});var t=e(55331),n=e(41001),s=e(51545),i=e(12002),r=e(74647),a=e(73891),o=e(65993),d=e(21693),h=e(92973),p=e(84046);let f=(()=>{class m{}return m.\u0275fac=function(E){return new(E||m)},m.\u0275mod=p.oAB({type:m}),m.\u0275inj=p.cJS({providers:[d.b,h.M],imports:[[t.ez,s.F,i.K,a.Z,o.k.forRoot(),n.J,r.w]]}),m})()},21693:(S,g,e)=>{"use strict";e.d(g,{b:()=>v});var t=e(55331),n=e(84046),s=e(70822),i=e(63833),r=e(62078);class a{constructor(){this.refs={}}static empty(){return new a}add(C,T){this.refs[C]=T}get(C){return this.refs[C]}remove(C){delete this.refs[C]}}var o=e(2100),d=e(28386),h=e(3603),p=e(92973),f=e(67225);const m=new n.OlP("SP_MODAL_WINDOW_NESTED_COMPONENT_CONFIG");let v=(()=>{class E{constructor(T,y,I,P,L,F,b){this.componentFactoryResolver=y,this.modalCommunicationService=I,this.injector=P,this.rightClickDialogService=L,this.globalDropdownService=F,this.document=b,this.references=a.empty(),this.configurations=new Map,this.renderer=T.createRenderer(null,null)}open(T,y){T.getBlanket()&&this.createBlanket(T),this.rightClickDialogService.destroyDynamicComponent(),this.globalDropdownService.close();const I=this.componentFactoryResolver.resolveComponentFactory(o.VU);return this.createModalWindowComponentAndAddToView(T,I),this.addSubscriptions(T),this.createNestedComponentAndInjectToModalComponent(T,y),this.setModalZIndex(T),this.setClass(T),this.configurations.set(T.getUuid(),T),this.references.get(T.getUuid())}close(T,y){const I=T.getUuid(),P=this.references.get(I);this.configurations.has(I)&&this.configurations.delete(I),P&&(P.destroy(),this.references.remove(I)),T&&T.getBlanket()&&this.removeBlanket(T),T&&T.getOnClose()&&T.getOnClose()(y),this.applicationRef.tick()}closeAll(){this.configurations.forEach(T=>{this.close(T)})}createModalWindowComponentAndAddToView(T,y){const I=T.getViewContainerRef();let P=null;const L={provide:d.F,useValue:T.getUuid()},b=n.zs3.create([L],I?I.injector:this.injector);I?P=I.createComponent(y,null,b):(P=y.create(b),this.applicationRef.attachView(P.hostView),this.document.body.appendChild(P.location.nativeElement)),this.references.add(T.getUuid(),P),P.instance.configuration=T,this.renderer.addClass(P.location.nativeElement,"sp-modal-window"),P.changeDetectorRef.detectChanges()}createNestedComponentAndInjectToModalComponent(T,y={}){const I=T.getComponent(),P=L=>{const F=this.componentFactoryResolver.resolveComponentFactory(L),b=this.references.get(T.getUuid()).instance,x=this.createInjector(this.resolveParentInjector(T,b),y),B=b.dynamicComponentContainer.createComponent(F,void 0,x);b.nestedComponentRef=B,B.instance.configuration=y,B.changeDetectorRef.detectChanges()};I instanceof h.E?I.load().then(P):P(I)}getNativeElement(T){return this.references.get(T.getUuid()).location.nativeElement}setModalZIndex(T){this.renderer.setStyle(this.getNativeElement(T),"z-index","5000")}setClass(T){const y=T.getCssClass();y&&this.renderer.addClass(this.getNativeElement(T),y)}addSubscriptions(T){this.modalCommunicationService.getCloseAction().pipe((0,s.h)(y=>T.getUuid()===y.modalId),(0,i.q)(1)).subscribe(y=>{this.close(T,y.result)})}createInjector(T,y){return n.zs3.create({parent:T,providers:[{provide:m,useValue:y}]})}resolveParentInjector(T,y){const I=T.getInjector();if(!I)return y.dynamicComponentContainer.injector;const P=o.A$.map(L=>{const F=y.dynamicComponentContainer.injector.get(L.provide);return{provide:L.provide,useValue:F}});return n.zs3.create({providers:P,parent:I})}createBlanket(T){const y=this.document.querySelector("body"),I=this.renderer.createElement("div");I.id=this.getBlanketId(T),I.classList.add("sp-modal-window-blanket"),I.setAttribute("noprint","");const P=this.renderer.createElement("div");P.classList.add("blanket-content"),I.appendChild(P),this.renderer.appendChild(y,I),this.renderer.setStyle(y,"width",`${y.offsetWidth}px`),this.renderer.setStyle(y,"overflow","hidden")}removeBlanket(T){const y=this.document.querySelector("body"),I=this.document.querySelector(this.getBlanketSelector(T));this.renderer.setStyle(y,"overflow","inherit"),this.renderer.removeStyle(y,"width"),I&&this.renderer.removeChild(I.parentNode,I)}getBlanketSelector(T){return"#"+this.getBlanketId(T)}getBlanketId(T){return"dialog-form-blanket-"+T.getUuid()}get applicationRef(){return this.injector.get(n.z2F)}}return E.\u0275fac=function(T){return new(T||E)(n.LFG(n.FYo),n.LFG(n._Vd),n.LFG(p.M),n.LFG(n.zs3),n.LFG(r.V),n.LFG(f.P),n.LFG(t.K0))},E.\u0275prov=n.Yz7({token:E,factory:E.\u0275fac}),E})()},58425:(S,g,e)=>{"use strict";e.d(g,{D:()=>i});var t=e(84046),n=e(2100),s=e(65799);let i=(()=>{class r{constructor(o){this.modalWindowComponentRef=o,this.label="SPT_MODAL_WINDOW_CLOSE_BUTTON_LABEL",this.onClose$=new t.vpe}onMousedown(o){o.preventDefault()}close(){this.onClose$.next(!0),this.modalWindowComponentRef.close()}}return r.\u0275fac=function(o){return new(o||r)(t.Y36(n.Zh))},r.\u0275cmp=t.Xpm({type:r,selectors:[["sp-modal-window-close-button"]],inputs:{label:"label"},outputs:{onClose$:"onClose"},decls:3,vars:6,consts:[["id","sp-modal-window-close-button",1,"far","fa-times","sp-cursor-pointer","sp-text-gray-400","sp-text-xl","sp:hover:bg-blue-50",3,"mousedown","click"]],template:function(o,d){1&o&&(t.TgZ(0,"i",0),t.NdJ("mousedown",function(p){return d.onMousedown(p)})("click",function(){return d.close()}),t.ALo(1,"spL10nText"),t.ALo(2,"spL10nText"),t.qZA()),2&o&&t.uIk("aria-label",t.lcZ(1,2,d.label))("title",t.lcZ(2,4,d.label))},pipes:[s.L],encapsulation:2,changeDetection:0}),r})()},65521:(S,g,e)=>{"use strict";e.d(g,{r:()=>d});var t=e(84046),n=e(97433),s=e(34909),i=e(55331),r=e(69001);function a(h,p){if(1&h&&t._UZ(0,"sp-circle-loader",2),2&h){const f=t.oxw();t.Q6J("configuration",f.circleLoaderConfiguration)}}const o=["*"];let d=(()=>{class h{constructor(){this.onConfirm=new t.vpe}ngOnInit(){this.setCircleLoaderConfiguration()}confirm(){this.pending||this.disabled||this.onConfirm.next(!0)}setCircleLoaderConfiguration(){this.circleLoaderConfiguration=(new n.y.Builder).withStrokeColor("var(--white)").withDefaultSize(!1).build()}}return h.\u0275fac=function(f){return new(f||h)},h.\u0275cmp=t.Xpm({type:h,selectors:[["sp-modal-window-confirm-button"]],inputs:{pending:"pending",disabled:"disabled"},outputs:{onConfirm:"onConfirm"},ngContentSelectors:o,decls:3,vars:7,consts:[["sp-button","","primary","","id","sp-modal-window-confirm-button",1,"button-confirm","!sp-flex","sp-justify-start","sp-items-center",3,"disabled","secondary","click"],["class","sp-w-4 sp-h-4 sp-mr-1",3,"configuration",4,"ngIf"],[1,"sp-w-4","sp-h-4","sp-mr-1",3,"configuration"]],template:function(f,m){1&f&&(t.F$t(),t.TgZ(0,"button",0),t.NdJ("click",function(){return m.confirm()}),t.YNc(1,a,1,1,"sp-circle-loader",1),t.Hsn(2),t.qZA()),2&f&&(t.ekj("sp-pointer-events-none",m.pending)("sp-cursor-wait",m.pending),t.Q6J("disabled",m.disabled&&!m.pending)("secondary",m.pending),t.xp6(1),t.Q6J("ngIf",m.pending))},directives:[s.r,i.O5,r._],encapsulation:2,changeDetection:0}),h})()},65546:(S,g,e)=>{"use strict";e.d(g,{$:()=>i});var t=e(84046),n=e(34909);const s=["*"];let i=(()=>{class r{}return r.\u0275fac=function(o){return new(o||r)},r.\u0275cmp=t.Xpm({type:r,selectors:[["sp-modal-window-standard-button"]],inputs:{disabled:"disabled"},ngContentSelectors:s,decls:2,vars:3,consts:[["sp-button","",3,"disabled"]],template:function(o,d){1&o&&(t.F$t(),t.TgZ(0,"button",0),t.Hsn(1),t.qZA()),2&o&&(t.ekj("disabled",d.disabled),t.Q6J("disabled",d.disabled))},directives:[n.r],encapsulation:2,changeDetection:0}),r})()},86263:(S,g,e)=>{"use strict";e.d(g,{g:()=>i});var t=e(23854),n=e(85105),s=e(85703);let i=(()=>{class r{constructor(){this.uuid=(0,s.Hu)()}getBlanket(){return this.blanket}getInjector(){return this.injector}getViewContainerRef(){return this.viewContainerRef}getComponent(){return this.component}getUuid(){return this.uuid}getCssClass(){return this.cssClass}getSize(){return this.size}getOnClose(){return this.onClose}areShortcutsEnabled(){return this.shortcutsEnabled}getCloseOnBackdropClick(){return this.closeOnBackdropClick}getCloseIconEnabled(){return this.closeIconEnabled}getCloseIconId(){return this.closeIconId}isCreateAnotherBtnEnabled(){return this.createAnotherBtnEnabled}}return r.Builder=class extends n.I{constructor(o){super(),this.blanket=!0,this.size=t.e.L,this.shortcutsEnabled=!0,this.closeOnBackdropClick=!1,this.closeIconEnabled=!1,this.component=o}build(){const o=new r;return o.component=this.component,o.blanket=this.blanket,o.injector=this.injector,o.width=this.width,o.viewContainerRef=this.viewContainerRef,o.cssClass=this.cssClass,o.size=this.size,o.onClose=this.onClose,o.shortcutsEnabled=this.shortcutsEnabled,o.closeOnBackdropClick=this.closeOnBackdropClick,o.closeIconEnabled=this.closeIconEnabled,o.closeIconId=this.closeIconId,o.createAnotherBtnEnabled=this.createAnotherBtnEnabled,o}withBlanket(o){return this.blanket=o,this}withInjector(o){return this.injector=o,this}withViewContainerRef(o){return this.viewContainerRef=o,this}withCssClass(o){return this.cssClass=o,this}withSize(o){return this.size=o,this}withOnClose(o){return this.onClose=o,this}withShortcuts(o){return this.shortcutsEnabled=o,this}withCloseOnBackdropClick(o=!0){return this.closeOnBackdropClick=o,this}withCloseIconEnabled(o=!0){return this.closeIconEnabled=o,this}withCloseIconId(o){return this.closeIconId=o,this}withCreateAnother(o){return this.createAnotherBtnEnabled=o,this}},r})()},23854:(S,g,e)=>{"use strict";e.d(g,{e:()=>t});var t=(()=>{return(n=t||(t={})).M="md",n.L="lg",n.XL="xl",t;var n})()},2100:(S,g,e)=>{"use strict";e.d(g,{Zh:()=>T,A$:()=>y,VU:()=>I});var t=e(55331),n=e(84046),s=e(86495),i=e(55688),r=e(93051),a=e(82613),d=(e(86263),e(28386)),h=e(85703),p=e(92973);const f=["dynamicComponentContainer"],m=["modalBackdrop"],v=["modalWindow"];function E(P,L){if(1&P){const F=n.EpF();n.TgZ(0,"i",7),n.NdJ("click",function(){return n.CHM(F),n.oxw().close()}),n.qZA()}if(2&P){const F=n.oxw();n.uIk("id",F.configuration.getCloseIconId())}}function C(P,L){}const T=new n.OlP("ModalWindowComponentRef"),y=[{provide:T,useExisting:(0,n.Gpc)(()=>I)}];let I=(()=>{class P{constructor(F,b,x,B,M){this.modalCommunicationService=F,this.shortcutService=b,this.changeDetectorRef=x,this.document=B,this.modalId=M,this.modalWindowIn=!0,this.setConfirmAction(()=>{});const w=this.document.activeElement;w&&w.blur&&w.blur()}ngOnInit(){this.modalWindowSizeCssClass=`sp-content-${this.configuration.getSize()}`,this.configuration.areShortcutsEnabled()&&this.initializeShortcuts()}ngOnDestroy(){this.shortcutService.removeShortcutGroup(this.modalGroup)}setConfirmAction(F){this.confirmAction=F}close(F){this.modalCommunicationService.close(this.modalId,F)}onBackdropClick(F){const b=F.target;this.configuration.getCloseOnBackdropClick()&&b.id===this.modalBackdrop.nativeElement.id&&this.close()}changeModalWindowSize(F){this.modalWindowSizeCssClass=`sp-content-${F}`,this.changeDetectorRef.detectChanges()}initializeShortcuts(){this.modalGroup=this.shortcutService.createGroup("Modal shortcuts",{position:r.N.FORCE_TO_TOP}).notShown(),this.shortcutContainer=this.shortcutService.createContainer((0,h.Hu)(),this.modalGroup).add(new i.z(s.s.ESCAPE,()=>this.close())).add(new i.z(s.s.ENTER,()=>this.confirmAction())).notShown()}}return P.\u0275fac=function(F){return new(F||P)(n.Y36(p.M),n.Y36(a.L),n.Y36(n.sBO),n.Y36(t.K0),n.Y36(d.F))},P.\u0275cmp=n.Xpm({type:P,selectors:[["sp-modal-window"]],viewQuery:function(F,b){if(1&F&&(n.Gf(f,7,n.s_b),n.Gf(m,7),n.Gf(v,7)),2&F){let x;n.iGM(x=n.CRH())&&(b.dynamicComponentContainer=x.first),n.iGM(x=n.CRH())&&(b.modalBackdrop=x.first),n.iGM(x=n.CRH())&&(b.modalWindow=x.first)}},hostVars:2,hostBindings:function(F,b){2&F&&n.ekj("sp-modal-window-modal-in",b.modalWindowIn)},inputs:{configuration:"configuration"},features:[n._Bn(y)],decls:8,vars:3,consts:[["id","sp-modal-backdrop",1,"sp-modal-backdrop",3,"click"],["modalBackdrop",""],["id","modal-window","role","dialog","tabindex","-1","noprint",""],["modalWindow",""],["id","modal-content",1,"sp-modal-content","sp-relative"],["class","fa fa-times sp-absolute sp-top-0 sp-right-0 sp-mt-5 sp-mr-6 sp-cursor-pointer sp-text-xl sp-text-gray-800 sp-z-1",3,"click",4,"ngIf"],["dynamicComponentContainer",""],[1,"fa","fa-times","sp-absolute","sp-top-0","sp-right-0","sp-mt-5","sp-mr-6","sp-cursor-pointer","sp-text-xl","sp-text-gray-800","sp-z-1",3,"click"]],template:function(F,b){1&F&&(n.TgZ(0,"div",0,1),n.NdJ("click",function(B){return b.onBackdropClick(B)}),n.TgZ(2,"div",2,3),n.TgZ(4,"div",4),n.YNc(5,E,1,1,"i",5),n.YNc(6,C,0,0,"ng-template",null,6,n.W1O),n.qZA(),n.qZA(),n.qZA()),2&F&&(n.xp6(2),n.Tol(b.modalWindowSizeCssClass),n.xp6(3),n.Q6J("ngIf",b.configuration.getCloseIconEnabled()))},directives:[t.O5],styles:[".sp-modal-window-modal-in{animation:modalIn;animation-duration:.2s}@keyframes modalIn{0%{transform:scale(0)}to{transform:scale(1)}}\n"],encapsulation:2}),P})()},68714:(S,g,e)=>{"use strict";e.d(g,{S:()=>s});var t=e(27609),n=e(84046);let s=(()=>{class i extends t.V{constructor(){super()}}return i.\u0275fac=function(a){return new(a||i)},i.\u0275prov=n.Yz7({token:i,factory:i.\u0275fac}),i})()},27445:(S,g,e)=>{"use strict";e.d(g,{z:()=>p});var t=e(55331),n=e(5644),s=e(68890),i=e(4252),r=e(68714),a=e(26566),o=e(73380),d=e(41001),h=e(84046);let p=(()=>{class f{static forRoot(){return{ngModule:f,providers:[r.S,o.j,s.Hm]}}}return f.\u0275fac=function(v){return new(v||f)},f.\u0275mod=h.oAB({type:f}),f.\u0275inj=h.cJS({imports:[[t.ez,n.u.forRoot(),i.R.forRoot(),a.n,d.J]]}),f})();h.B6R(s.T7,[s.i9],[])},36603:(S,g,e)=>{"use strict";e.d(g,{h:()=>s});var t=e(85105),n=e(95900);let s=(()=>{class i{constructor(){}getRichText(){return this.richText}getColor(){return this.color}getGravity(){return this.gravity}getIsShowOnlyOnOverflow(){return this.isShowOnlyOnOverflow}getInitialCoordinates(){return this.initialCoordinates}}return i.Builder=class extends t.I{constructor(){super(...arguments),this.color="charcoal",this.gravity=n.X.NORTH,this.isShowOnlyOnOverflow=!1}build(){const a=new i;return a.richText=this.richText,a.color=this.color,a.gravity=this.gravity,a.isShowOnlyOnOverflow=this.isShowOnlyOnOverflow,a.initialCoordinates=this.initialCoordinates,a}withRichText(a){return this.richText=a,this}withColor(a){return this.color=a,this}withGravity(a){return this.gravity=a,this}withIsShowOnlyOnOverflow(a){return this.isShowOnlyOnOverflow=a,this}withInitialCoordinates(a){return this.initialCoordinates=a,this}},i})()},79299:(S,g,e)=>{"use strict";e.d(g,{g:()=>t});class t{constructor(s,i){this.x=s,this.y=i}getX(){return this.x}getY(){return this.y}}},68890:(S,g,e)=>{"use strict";e.d(g,{Sz:()=>E.S,CZ:()=>F,fd:()=>L,KZ:()=>b,i9:()=>de,z8:()=>He.z,T7:()=>f,hZ:()=>a.h,Hm:()=>m,jy:()=>v.j});var t=e(84046),n=e(62546);new t.OlP("TOOLTIP_CONTENT"),new t.OlP("TOOLTIP_CONTENT_NUMBER_OF_LINES");var a=e(36603),o=e(55331),d=e(17314),h=e(71726),p=e(79299);let f=(()=>{class Ve extends n.H{constructor(xe,gt,tt,lt,Mt){super(xe,gt),this.changeDetectorRef=tt,this.window=lt,this.document=Mt,this.isVisible=!1,this.isFirst=!0}init(xe){this.setConfiguration(xe),this.configuration.getInitialCoordinates()&&(this.setInitialHostPosition(),this.onFirstMove()),this.observeMouseMove(),this.changeDetectorRef.detectChanges()}setConfiguration(xe){this.configuration=xe,this.changeDetectorRef.detectChanges()}getHostClasses(){return["sp-absolute","sp-block","sp-w-8","sp-h-8","sp-pointer-events-none","sp-z-9"]}showTooltip(){this.isVisible=!0}setInitialHostPosition(){const xe=this.configuration.getInitialCoordinates(),gt=this.getCenteredCoordinates(xe.getX(),xe.getY());this.moveHost(gt)}observeMouseMove(){this.domManipulator.listen(this.window,"mousemove").pipe((0,h.U)(xe=>this.getCenteredCoordinates(xe.clientX,xe.clientY)),this.takeUntilDestroy()).subscribe(xe=>{this.moveHost(xe),this.isFirst&&(this.onFirstMove(),this.changeDetectorRef.detectChanges())})}onFirstMove(){this.showTooltip(),this.isFirst=!1}moveHost(xe){this.domManipulator.addHostStyle("transform",`translate(${xe.getX()}px, ${xe.getY()}px)`)}getCenteredCoordinates(xe,gt){return new p.g(this.getMouseCenterX(xe),this.getMouseCenterY(gt))}getMouseCenterX(xe){return xe-this.elementRef.nativeElement.offsetWidth/2}getMouseCenterY(xe){return xe-this.elementRef.nativeElement.offsetHeight/2}}return Ve.\u0275fac=function(xe){return new(xe||Ve)(t.Y36(t.SBq),t.Y36(t.Qsj),t.Y36(t.sBO),t.Y36(d.m),t.Y36(o.K0))},Ve.\u0275cmp=t.Xpm({type:Ve,selectors:[["sp-tooltip-mouse"]],features:[t.qOj],decls:1,vars:6,consts:[[1,"sp-tooltip-mouse__trigger","sp-block","sp-w-full","sp-h-full",3,"spTooltip","spTooltipColor","spTooltipGravity","spTooltipOnOverflow","spTooltipFollowMouse","spTooltipAlwaysVisible"]],template:function(xe,gt){1&xe&&t._UZ(0,"span",0),2&xe&&t.Q6J("spTooltip",gt.configuration.getRichText())("spTooltipColor",gt.configuration.getColor())("spTooltipGravity",gt.configuration.getGravity())("spTooltipOnOverflow",gt.configuration.getIsShowOnlyOnOverflow())("spTooltipFollowMouse",!0)("spTooltipAlwaysVisible",gt.isVisible)},encapsulation:2,changeDetection:0}),Ve})(),m=(()=>{class Ve{constructor(xe,gt,tt,lt){this.injector=xe,this.componentFactoryResolver=gt,this.rendererFactory=tt,this.document=lt,this.renderer=this.rendererFactory.createRenderer(null,null)}create(xe){this.componentComponentRef?this.componentComponentRef.instance.setConfiguration(xe):(this.createComponent(),this.insertComponentInDocument(),this.componentComponentRef.instance.init(xe))}destroy(){this.componentComponentRef&&this.removeComponent()}createComponent(){const xe=this.componentFactoryResolver.resolveComponentFactory(f);this.componentComponentRef=xe.create(this.injector)}insertComponentInDocument(){this.renderer.insertBefore(this.document.body,this.componentComponentRef.location.nativeElement,this.document.body.firstChild)}removeComponent(){this.componentComponentRef.destroy(),this.componentComponentRef.location.nativeElement.remove(),this.componentComponentRef=null}}return Ve.\u0275fac=function(xe){return new(xe||Ve)(t.LFG(t.zs3),t.LFG(t._Vd),t.LFG(t.FYo),t.LFG(o.K0))},Ve.\u0275prov=t.Yz7({token:Ve,factory:Ve.\u0275fac}),Ve})();var v=e(73380),E=e(68714),C=e(19327),T=(()=>{return(Ve=T||(T={})).TOP="top",Ve.TOP_LEFT="top-left",Ve.TOP_RIGHT="top-right",Ve.BOTTOM="bottom",Ve.BOTTOM_LEFT="bottom-left",Ve.BOTTOM_RIGHT="bottom-right",Ve.RIGHT="right",Ve.LEFT="left",T;var Ve})(),y=e(37752);const I=["arrow"],P=["content"],L=new t.OlP("TOOLTIP_TEXT_TOKEN"),F=new t.OlP("TOOLTIP_COLOR_TOKEN");let b=(()=>{class Ve extends n.H{constructor(xe,gt,tt,lt,Mt){super(xe,gt),this.changeDetectorRef=tt,this.text$=lt,this.color$=Mt,this.arrowDirection=T.BOTTOM,this.nativeElement=xe.nativeElement}ngOnInit(){this.setHostId(),this.setArrowDirectionClass(),this.observeTextChanges(),this.observeColorChanges()}setArrowDirection(xe){this.arrowDirection=xe,this.setArrowDirectionClass(),this.changeDetectorRef.detectChanges()}getHostClasses(){return["sp-tooltip","sp-absolute","sp-flex","sp-justify-center","sp-items-center","sp-pointer-events-none"]}setHostId(){this.domManipulator.setHostAttribute("id","sp-tooltip")}setArrowDirectionClass(){this.arrowDirectionClass=`${Ve.ARROW_DIRECTION_CLASS_PREFIX}${this.arrowDirection}`}observeTextChanges(){this.text$.pipe(this.takeUntilDestroy()).subscribe(xe=>{this.richText=xe,this.changeDetectorRef.detectChanges()})}observeColorChanges(){this.color$.pipe(this.takeUntilDestroy()).subscribe(xe=>{this.color=xe;const gt=this.color?C.B[this.color.toUpperCase()]:C.B.GRAY;this.setColors(gt)})}setColors(xe){this.setStyles(xe.backgroundStyle,xe.backgroundStyle,xe.colorStyle)}setStyles(xe,gt,tt){const lt=this.nativeElement,Mt=lt.querySelector(".sp-tooltip__content");this.domManipulator.addStyle(lt,"border-color",gt),this.domManipulator.addStyle(Mt,"background-color",xe),this.domManipulator.addStyle(Mt,"color",tt)}}return Ve.ARROW_DIRECTION_CLASS_PREFIX="sp-tooltip__arrow--",Ve.\u0275fac=function(xe){return new(xe||Ve)(t.Y36(t.SBq),t.Y36(t.Qsj),t.Y36(t.sBO),t.Y36(L),t.Y36(F))},Ve.\u0275cmp=t.Xpm({type:Ve,selectors:[["sp-tooltip"]],viewQuery:function(xe,gt){if(1&xe&&(t.Gf(I,5,t.SBq),t.Gf(P,5,t.SBq)),2&xe){let tt;t.iGM(tt=t.CRH())&&(gt.arrowElement=tt.first),t.iGM(tt=t.CRH())&&(gt.contentElement=tt.first)}},features:[t.qOj],decls:4,vars:2,consts:[[1,"sp-tooltip__arrow","sp-absolute","sp-w-0","sp-h-0",3,"ngClass"],["arrow",""],["id","sp-tooltip-content",1,"sp-tooltip__content","sp-m-0","sp-py-1","sp-px-2","sp-text-s","sp-text-center",3,"config"],["content",""]],template:function(xe,gt){1&xe&&(t._UZ(0,"div",0,1),t._UZ(2,"sp-rich-text",2,3)),2&xe&&(t.Q6J("ngClass",gt.arrowDirectionClass),t.xp6(2),t.Q6J("config",gt.richText))},directives:[o.mk,y.E],styles:[".sp-tooltip{z-index:14000}.sp-tooltip__arrow{border-width:6px;border-style:solid;border-color:inherit}.sp-tooltip__arrow--top,.sp-tooltip__arrow--bottom{border-left-color:transparent;border-right-color:transparent}.sp-tooltip__arrow--left,.sp-tooltip__arrow--right{border-top-color:transparent;border-bottom-color:transparent}.sp-tooltip__arrow--bottom-left,.sp-tooltip__arrow--top-left,.sp-tooltip__arrow--top-right,.sp-tooltip__arrow--bottom-right{border-width:16px 8px 0;border-right-color:transparent;border-bottom-color:transparent;border-left-color:transparent}.sp-tooltip__arrow--top{border-top:0;bottom:100%}.sp-tooltip__arrow--right{border-right:0;left:100%}.sp-tooltip__arrow--bottom{border-bottom:0;top:100%}.sp-tooltip__arrow--left{border-left:0;right:100%}.sp-tooltip__arrow--bottom-left{bottom:0;left:0;transform:translate(-50%,50%) rotate(45deg)}.sp-tooltip__arrow--top-left{top:0;left:0;transform:translate(-50%,-50%) rotate(135deg)}.sp-tooltip__arrow--top-right{top:0;right:0;transform:translate(50%,-50%) rotate(-135deg)}.sp-tooltip__arrow--bottom-right{right:0;bottom:0;transform:translate(50%,50%) rotate(-45deg)}.sp-tooltip__content{max-width:320px;line-height:18px;border-radius:var(--border-radius-m);word-wrap:break-word}\n"],encapsulation:2,changeDetection:0}),Ve})();var x=e(90850),B=e(97809),M=e(4683),w=e(73197),K=e(70822),k=e(63833),G=e(35811),$=e(98254),X=e(96105),ie=e(71118),se=e(95900),pe=e(64026),ve=e(52265),ye=(e(83941),e(17199));class de extends n.H{constructor(Ue,xe,gt,tt,lt,Mt,ne,De,Ye,Qe){super(Ue,lt),this.parentChangeDetectorRef=xe,this.injector=gt,this.changeDetectorRef=tt,this.innerRenderer=lt,this.ngZone=Mt,this.positionCalculator=ne,this.componentFactoryResolver=De,this.activeTooltipColoredStorageService=Ye,this.document=Qe,this.enabled=!0,this.color="charcoal",this.gravity=se.X.NORTH,this.showOnlyOnOverflow=!1,this.followMouse=!1,this.alwaysVisible=!1,this.textInputChanged$=new x.xQ,this.color$=new B.t(1),this.text$=new B.t(1),this.destroyTooltip$=new x.xQ,this.destroyListeners$=new x.xQ}ngOnChanges(Ue){Ue.gravity&&!Ue.gravity.firstChange&&this.hideTooltip(),(Ue.enabled||Ue.richText)&&(this.setNewTooltipProperties(),this.textInputChanged$.next(this.richText),this.enabled&&this.richText?this.observeMouseEvents():this.unsubscribeMouseEvents()),this.alwaysVisible&&(this.showTooltip(),this.setTooltipPosition(),this.unsubscribeMouseEvents(),this.observeMouseEvents())}forceShowTooltip(){this.showTooltip()}forceHideTooltip(){this.hideTooltip()}finalize(){this.hideTooltip()}setText(Ue){this.richText=Ue,this.setNewTooltipProperties()}setNewTooltipProperties(){this.color$.next(this.color),this.text$.next(this.richText)}observeMouseEvents(){this.alwaysVisible?this.observeMouseMove():this.observeMouseEnter(),this.observeMouseClick(),this.selectHideAllTooltips()}unsubscribeMouseEvents(){this.destroyListeners$.next()}isEnabled(){return this.enabled}selectTextInputChanged(){return this.textInputChanged$.asObservable()}showTooltip(Ue){this.tooltipComponentRef||(0,M.aj)([this.color$,this.text$]).pipe((0,K.h)(([xe,gt])=>!!xe&&!!gt&&"function"==typeof gt.isEmpty&&!gt.isEmpty()),(0,k.q)(1),(0,G.R)(this.destroyTooltip$)).subscribe(()=>{this.createTooltipComponent(),this.setTooltipPosition(Ue),this.setTooltipPosition()})}hideTooltip(){this.tooltipComponentRef&&(this.destroyTooltip$.next(),this.tooltipComponentRef.destroy(),this.tooltipComponentRef.instance.nativeElement.remove(),this.tooltipComponentRef=null)}convertGravityToArrowDirectionClass(Ue){if(!de.GRAVITY_TO_ARROW_DIRECTION_MAP.has(Ue))throw new Error("Unknown gravity");return de.GRAVITY_TO_ARROW_DIRECTION_MAP.get(Ue)}calculateElementsPosition(Ue,xe){const gt=this.elementRef.nativeElement,tt=this.tooltipComponentRef.instance.nativeElement,lt=this.positionCalculator.calculateNewElementsPosition(ve.i.default().withLinkedElements({element:tt,anchor:gt}).withGravity(this.gravity).withAlignment(Ue).withMargin(this.getTooltipArrowSize()));return this.addArrowClass(lt),this.isTooltipGravityDiagonal()||(this.followMouse&&xe?this.adjustPositionToMouse(tt,lt,xe):this.centerTooltipArrowRelativeToAnchorElem(gt.getBoundingClientRect(),lt)),lt}hideAllTooltips(){this.activeTooltipColoredStorageService.set()}selectHideAllTooltips(){this.activeTooltipColoredStorageService.select().pipe((0,K.h)(()=>!!this.tooltipComponentRef&&!this.alwaysVisible),(0,G.R)(this.destroyListeners$),this.takeUntilDestroy()).subscribe(()=>{this.hideTooltip()})}adjustPositionToMouse(Ue,xe,gt){const tt=Ue.getBoundingClientRect();xe.left=gt.clientX-tt.width/2;const lt=this.getArrowElement().getBoundingClientRect();this.setTooltipArrowLeft(gt.clientX-xe.left-lt.width/2)}centerTooltipArrowRelativeToAnchorElem(Ue,xe){let gt;const tt=this.getArrowElement().getBoundingClientRect(),lt=xe.gravity;lt===se.X.NORTH||lt===se.X.SOUTH?(gt=Ue.left+Ue.width/2-tt.width/2+window.pageXOffset-xe.left,this.setTooltipArrowLeft(gt)):(gt=Ue.top+Ue.height/2-tt.height/2+window.pageYOffset-xe.top,this.setTooltipArrowTop(gt))}setTooltipArrowLeft(Ue){this.domManipulator.addStyle(this.getArrowElement(),"left",this.convertToPx(Ue))}setTooltipArrowTop(Ue){this.domManipulator.addStyle(this.getArrowElement(),"top",this.convertToPx(Ue))}observeMouseEnter(){(0,w.R)(this.elementRef.nativeElement,"mouseenter").pipe((0,K.h)(()=>!this.showOnlyOnOverflow||this.isHostElementHorizontallyOverflown()),(0,G.R)(this.destroyListeners$),this.takeUntilDestroy()).subscribe(Ue=>{this.destroyTooltip$.next(),this.hideAllTooltips(),this.showTooltip(Ue),this.observeMouseLeave(),this.followMouse&&this.observeMouseMove()})}observeMouseClick(){(0,w.R)(this.elementRef.nativeElement,"click").pipe((0,G.R)(this.destroyListeners$),this.takeUntilDestroy()).subscribe(()=>{this.hideTooltip()})}observeMouseMove(){(0,w.R)(document,"mousemove").pipe((0,$.e)(20),(0,G.R)(this.destroyTooltip$),this.takeUntilDestroy()).subscribe(Ue=>{this.setTooltipPosition(Ue)})}observeMouseLeave(){(0,w.R)(this.elementRef.nativeElement,"mouseleave").pipe((0,G.R)(this.destroyTooltip$),this.takeUntilDestroy()).subscribe(()=>{this.hideTooltip(),this.changeDetectorRef.detectChanges()})}createTooltipComponent(){const Ue=t.zs3.create({parent:this.injector,providers:[{provide:L,useValue:this.text$.pipe((0,X.x)(),this.takeUntilDestroy())},{provide:F,useValue:this.color$.pipe((0,X.x)())}]}),xe=this.componentFactoryResolver.resolveComponentFactory(b);this.tooltipComponentRef=xe.create(Ue),this.tooltipComponentRef.changeDetectorRef.detectChanges(),this.innerRenderer.insertBefore(this.document.body,this.tooltipComponentRef.location.nativeElement,this.document.body.firstChild)}setTooltipPosition(Ue){const xe=this.tooltipComponentRef.instance.nativeElement,gt=this.calculateElementsPosition(pe.e.MIDDLE,Ue);this.domManipulator.addStyle(xe,"top",this.convertToPx(gt.top)),this.domManipulator.addStyle(xe,"left",this.convertToPx(gt.left))}getArrowElement(){return this.tooltipComponentRef.instance.arrowElement.nativeElement}addArrowClass(Ue){const xe=this.convertGravityToArrowDirectionClass(Ue.gravity);this.tooltipComponentRef.instance.setArrowDirection(xe)}getTooltipArrowSize(){return this.getBorderWidthValue()+2}getBorderWidthValue(){const Ue=this.getArrowElement(),xe=getComputedStyle(Ue);return[xe.borderTopWidth,xe.borderLeftWidth,xe.borderBottomWidth,xe.borderRightWidth].map(gt=>ie.l.pixelToNumber(gt)).find(gt=>!!gt)}isHostElementHorizontallyOverflown(){const Ue=this.elementRef.nativeElement,xe=window.getComputedStyle(Ue).overflowX;return!(!xe||"visible"===xe)&&Ue.scrollWidth>Ue.clientWidth}convertToPx(Ue){return`${Ue}px`}isTooltipGravityDiagonal(){return this.gravity===se.X.SOUTH_EAST||this.gravity===se.X.SOUTH_WEST||this.gravity===se.X.NORTH_EAST||this.gravity===se.X.NORTH_WEST}}de.GRAVITY_TO_ARROW_DIRECTION_MAP=new Map([[se.X.NORTH,T.BOTTOM],[se.X.NORTH_EAST,T.BOTTOM_LEFT],[se.X.EAST,T.LEFT],[se.X.SOUTH_EAST,T.TOP_LEFT],[se.X.SOUTH,T.TOP],[se.X.SOUTH_WEST,T.TOP_RIGHT],[se.X.WEST,T.RIGHT],[se.X.NORTH_WEST,T.BOTTOM_RIGHT]]),de.\u0275fac=function(Ue){return new(Ue||de)(t.Y36(t.SBq),t.Y36(t.sBO,4),t.Y36(t.zs3),t.Y36(t.sBO),t.Y36(t.Qsj),t.Y36(t.R0b),t.Y36(ye.o),t.Y36(t._Vd),t.Y36(E.S),t.Y36(o.K0))},de.\u0275dir=t.lG2({type:de,selectors:[["","spTooltip",""]],inputs:{enabled:["spTooltipEnabled","enabled"],richText:["spTooltip","richText"],color:["spTooltipColor","color"],gravity:["spTooltipGravity","gravity"],showOnlyOnOverflow:["spTooltipOnOverflow","showOnlyOnOverflow"],followMouse:["spTooltipFollowMouse","followMouse"],alwaysVisible:["spTooltipAlwaysVisible","alwaysVisible"]},exportAs:["spTooltipColored"],features:[t.qOj,t.TTD]}),e(10193);var He=e(27445)},10193:(S,g,e)=>{"use strict";e.d(g,{P:()=>i});var t=e(68890),n=e(62546),s=e(84046);let i=(()=>{class r extends n.H{constructor(o,d,h,p,f){super(o,d),this.tooltipReadonlyTextStorage=h,this.changeDetectorRef=p,this.tooltipColoredDirective=f,this.isReadonlyActive=!1,this.selectTooltipTextChanges()}ngOnInit(){this.selectReadonlyText()}selectReadonlyText(){this.tooltipReadonlyTextStorage.select().subscribe(o=>{this.isReadonlyActive=o.isPresent(),this.canActivateTooltip(o)?this.activateTooltip():this.canDeactivateTooltip(o)&&this.deactivateTooltip(),this.currentText=o.orElse(this.defaultText),this.updateTooltipText()})}canActivateTooltip(o){return!this.isTooltipActive()&&this.isReadonlyActive&&o.isPresent()}canDeactivateTooltip(o){return!this.isTooltipActive()&&!this.isReadonlyActive&&!o.isPresent()}isTooltipActive(){return this.tooltipColoredDirective.isEnabled()&&this.defaultText}selectTooltipTextChanges(){this.tooltipColoredDirective.selectTextInputChanged().pipe(this.takeUntilDestroy()).subscribe(o=>{this.defaultText=o,this.isReadonlyActive&&this.updateTooltipText()})}activateTooltip(){this.tooltipColoredDirective.observeMouseEvents()}deactivateTooltip(){this.tooltipColoredDirective.unsubscribeMouseEvents()}updateTooltipText(){this.tooltipColoredDirective.setText(this.currentText)}}return r.\u0275fac=function(o){return new(o||r)(s.Y36(s.SBq),s.Y36(s.Qsj),s.Y36(t.jy),s.Y36(s.sBO),s.Y36(t.i9,2))},r.\u0275dir=s.lG2({type:r,selectors:[["","spTooltip","","spTooltipReadonly",""]],inputs:{spTooltipReadonly:"spTooltipReadonly"},features:[s.qOj]}),r})()},73380:(S,g,e)=>{"use strict";e.d(g,{j:()=>i});var t=e(27609),n=e(66795),s=e(84046);let i=(()=>{class r extends t.V{constructor(){super(n.bq.empty())}}return r.\u0275fac=function(o){return new(o||r)},r.\u0275prov=s.Yz7({token:r,factory:r.\u0275fac}),r})()},83161:(S,g,e)=>{"use strict";e.d(g,{fd:()=>r,V1:()=>a});var t=e(84046),n=e(9933),s=e(83950);const i=new t.OlP("DISABLE_TOUR_TOKEN"),r="disable-tours";let a=(()=>{class o{constructor(h,p,f){this.localStorage=h,this.environmentService=p,this.tourDisabled=f,this.enabledViaTechConfig=this.environmentService.isOnboardingTourEnabled()}isEnabledViaTechConfig(){return this.enabledViaTechConfig}enableFromTechConfig(){this.enabledViaTechConfig=!0}disableFromTechConfig(){this.enabledViaTechConfig=!1}isDisabled(){return this.isDisabledInLs()||!this.enabledViaTechConfig||this.tourDisabled}isDisabledInLs(){return Boolean(this.localStorage.getItem(r))}}return o.\u0275fac=function(h){return new(h||o)(t.LFG(n.m),t.LFG(s.L),t.LFG(i,8))},o.\u0275prov=t.Yz7({token:o,factory:o.\u0275fac}),o})()},6810:(S,g,e)=>{"use strict";e.d(g,{O:()=>t});class t{constructor(s,i,r,a){this.step=s,this.index=i,this.isFirst=r,this.isLast=a}}},26298:(S,g,e)=>{"use strict";e.d(g,{u:()=>r});class t{constructor(o,d){this.mainShowed=o,this.lastVersionShowed=d}static default(){return new t(!1,-1)}}var n=e(9933),s=e(84046),i=e(83950);let r=(()=>{class a{constructor(d,h){this.localStorage=d,this.environmentService=h}setTourLocation(d){this.tourLocationId=d}getTourSettings(){return this.localStorage.getObject(this.getTourKey())||this.setTourSettings(t.default()),this.localStorage.getObject(this.getTourKey())}setTourSettings(d){this.localStorage.setObject(this.getTourKey(),d)}getTourKey(){return`tour-user-${this.environmentService.getLoggedInUser().userKey}-visited-${this.tourLocationId}`}}return a.\u0275fac=function(d){return new(d||a)(s.LFG(n.m),s.LFG(i.L))},a.\u0275prov=s.Yz7({token:a,factory:a.\u0275fac}),a})()},92273:(S,g,e)=>{"use strict";e.d(g,{w:()=>s});var t=e(2010),n=e(6810);class s{constructor(r,a,o,d){this.step=r,this.index=a,this.isFirst=o,this.isLast=d}static default(){return new s(t.V.default(),-1,!1,!1)}static toDomain(r){return new n.O(t.V.toDomain(r.step),r.index,r.isFirst,r.isLast)}static fromDomain(r){return new s(t.V.fromDomain(r.step),r.index,r.isFirst,r.isLast)}}},2010:(S,g,e)=>{"use strict";e.d(g,{V:()=>n});class t{constructor(i,r){this.description=i,this.selector=r}}class n{constructor(i,r){this.description=i,this.selector=r}static default(){return new n("","")}static fromRaw(i){return new n(i.description,i.selector)}static fromRawArray(i){const r=[];return i.forEach(a=>{r.push(n.fromRaw(a))}),r}static toDomain(i){return new t(i.description,i.selector)}static toDomainArray(i){const r=[];return i.forEach(a=>{r.push(n.toDomain(a))}),r}static fromDomain(i){return new n(i.description,i.selector)}}},70699:(S,g,e)=>{"use strict";e.d(g,{K:()=>a});class t{constructor(d,h,p){this.title=d,this.description=h,this.picture=p}}class n{constructor(d,h,p){this.title=d,this.description=h,this.picture=p}static default(){return new n("","","")}static fromRaw(d){return d?new n(d.title,d.description,d.pictureUrl):null}static toDomain(d){return d?new t(d.title,d.description,d.picture):null}}var s=e(2010),i=e(6810);class r{constructor(d,h){this.introDialog=d,this.steps=h,this.lastPossibleIndex=this.steps.length-1}getNextStep(d){let h=d.index+1;return h>this.lastPossibleIndex&&(h=this.lastPossibleIndex),this.resolveCurrentStep(h)}getPreviousStep(d){let h=d.index-1;return h<0&&(h=0),this.resolveCurrentStep(h)}resolveCurrentStep(d){return 0===this.lastPossibleIndex?new i.O(this.steps[0],d,!0,!0):0===d?new i.O(this.steps[0],d,!0,!1):new i.O(this.steps[d],d,!1,d===this.lastPossibleIndex)}}class a{constructor(d,h){this.introDialog=d,this.steps=h}static default(){return new a(null,[])}static fromRaw(d){return new a(n.fromRaw(d.introDialog),s.V.fromRawArray(d.steps))}static toDomain(d){return new r(n.toDomain(d.introDialog),s.V.toDomainArray(d.steps))}}},67842:(S,g,e)=>{"use strict";e.d(g,{MF:()=>n,SJ:()=>s,Ys:()=>i,sC:()=>r,E$:()=>a,E9:()=>o,TD:()=>d});const t="[TOUR]",n={FetchTestTourActionSuccess:`${t}FetchTestTourActionSuccess`,FetchTourAction:`${t}FetchTourAction`,FetchTourActionSuccess:`${t}FetchTourActionSuccess`,StepAction:`${t}StepAction`,CloseTourAction:`${t}CloseTourAction`,CloseTourActionSuccess:`${t}CloseTourActionSuccess`};class s{constructor(p){this.tour=p,this.type=n.FetchTestTourActionSuccess}}class i{constructor(p){this.tour=p,this.type=n.FetchTourAction}}class r{constructor(p){this.tour=p,this.type=n.FetchTourActionSuccess}}class a{constructor(p){this.currentStep=p,this.type=n.StepAction}}class o{constructor(p){this.postponed=p,this.type=n.CloseTourAction}}class d{constructor(){this.type=n.CloseTourActionSuccess}}},11041:(S,g,e)=>{"use strict";e.d(g,{E:()=>h});var t=e(94713),n=e(88945),s=e(67842),i=e(92273),r=e(70699),a=e(84046),o=e(25468),d=e(897);let h=(()=>{class p{constructor(m,v){this.store=m,this.tourQueryService=v}startTestTour(m){const v=r.K.fromRaw(m);this.store.dispatch(new s.SJ(v))}fetch(m){this.store.dispatch(new s.Ys(m))}nextStep(){this.getTourAndCurrentStep().subscribe(m=>{const v=m[0].getNextStep(m[1]),E=i.w.fromDomain(v);this.store.dispatch(new s.E$(E))})}previousStep(){this.getTourAndCurrentStep().subscribe(m=>{const v=m[0].getPreviousStep(m[1]),E=i.w.fromDomain(v);this.store.dispatch(new s.E$(E))})}closeTour(m){this.store.dispatch(new s.E9(m))}getTourAndCurrentStep(){return(0,t.$R)(this.tourQueryService.selectTour(),this.tourQueryService.selectCurrentStep().pipe((0,n.P)()))}}return p.\u0275fac=function(m){return new(m||p)(a.LFG(o.yh),a.LFG(d.s))},p.\u0275prov=a.Yz7({token:p,factory:p.\u0275fac}),p})()},897:(S,g,e)=>{"use strict";e.d(g,{_:()=>a,s:()=>o});var t=e(25468),n=e(71726),s=e(70699),i=e(92273),r=e(84046);const a="TOUR";let o=(()=>{class d{constructor(p){this.store=p,this.getFeature=(0,t.ZF)(a),this.getState=(0,t.P1)(this.getFeature,f=>f),this.getTour=(0,t.P1)(this.getState,f=>f.tour),this.getCurrentStep=(0,t.P1)(this.getState,f=>f.currentStep)}selectTour(){return this.store.pipe((0,t.Ys)(this.getTour)).pipe((0,n.U)(p=>s.K.toDomain(p)))}selectCurrentStep(){return this.store.pipe((0,t.Ys)(this.getCurrentStep)).pipe((0,n.U)(p=>i.w.toDomain(p)))}}return d.\u0275fac=function(p){return new(p||d)(r.LFG(t.yh))},d.\u0275prov=r.Yz7({token:d,factory:d.\u0275fac}),d})()},77882:(S,g,e)=>{"use strict";e.d(g,{e:()=>s});var t=e(90850),n=e(84046);let s=(()=>{class i{constructor(){this.closeTour$=new t.xQ}close(a){this.closeTour$.next(a)}onClose(){return this.closeTour$.asObservable()}}return i.\u0275fac=function(a){return new(a||i)},i.\u0275prov=n.Yz7({token:i,factory:i.\u0275fac}),i})()},83799:(S,g,e)=>{"use strict";e.d(g,{X:()=>o});var t=e(55331),n=e(90850),s=e(70822),i=e(84046),r=e(77882),a=e(897);let o=(()=>{class d{constructor(p,f,m){this.DOCUMENT=p,this.tourClosingController=f,this.tourQueryService=m,this.tourLoaded=new n.xQ,this.tourLoadStarted=new n.xQ,this.INSPECTION_INTERVAL=1500,this.MAX_INSPECTIONS=5,this.WARN_MESSAGE="The tour was closed at the end of the waiting time because the page lacks all necessary DOM elements.",this.subscribeForTour()}onTourLoaded(){return this.tourLoaded.asObservable()}onTourLoadStarted(){return this.tourLoadStarted.asObservable()}subscribeForTour(){this.tourQueryService.selectTour().pipe((0,s.h)(p=>!!p.introDialog||!!p.steps.length)).subscribe(p=>{this.tourLoadStarted.next(),this.load(p)})}load(p){let f=0;const m=window.setInterval(()=>{f+=1,this.tryLoad(p,m,f)},this.INSPECTION_INTERVAL)}tryLoad(p,f,m){!0===this.waitForTourElementsAppearingOnThePage(p.steps,m===this.MAX_INSPECTIONS-1)?(this.tourLoaded.next(p),clearInterval(f)):m===this.MAX_INSPECTIONS&&(console.warn(this.WARN_MESSAGE),this.tourClosingController.close(!0),clearInterval(f))}waitForTourElementsAppearingOnThePage(p,f){let m=0;return p.forEach(v=>{void 0!==this.DOCUMENT.querySelectorAll(v.selector)[0]?m++:f&&console.warn("[TOUR] Selector not found: "+v.selector)}),m===p.length}}return d.\u0275fac=function(p){return new(p||d)(i.LFG(t.K0),i.LFG(r.e),i.LFG(a.s))},d.\u0275prov=i.Yz7({token:d,factory:d.\u0275fac}),d})()},59155:(S,g,e)=>{"use strict";e.d(g,{Q:()=>C});var t=e(35811),n=e(70822),s=e(90850),i=e(11041),r=e(26298),a=e(83161),o=e(95631),d=e(13133),h=e(36985),p=e(69926),f=e(84046),m=e(897),v=e(77882),E=e(83799);let C=(()=>{class T{constructor(I,P,L,F,b,x,B,M,w,K){this.tourRepository=I,this.tourCommandDispatcher=P,this.tourClosingController=L,this.tourLoadingController=F,this.tourPageCoverletHandler=b,this.tourStepTemplateHandler=x,this.tourIntroDialogHandler=B,this.tourShortcutsManager=M,this.tourStorage=w,this.tourDisableService=K,this.closed$=new s.xQ,this.onDestroy$=new s.xQ}ngOnDestroy(){this.destroy(!0)}watchTour(I,P){this.tourStorage.setTourLocation(P),!this.tourDisableService.isDisabled()&&(this.tourClosingController.onClose().pipe((0,t.R)(this.onDestroy$)).subscribe(L=>{this.close(L)}),this.tourLoadingController.onTourLoaded().pipe((0,n.h)(()=>!this.tourDisableService.isDisabled()),(0,t.R)(this.onDestroy$)).subscribe(L=>{this.start(L)}),this.tourCommandDispatcher.fetch(I))}destroy(I){this.onDestroy$.next(),this.closed$.next(),I&&(this.onDestroy$.complete(),this.closed$.complete())}start(I){this.tourShortcutsManager.init(),this.closed$=new s.xQ,this.subscribeForStep(),I.introDialog?(this.tourPageCoverletHandler.cover(),this.tourIntroDialogHandler.open(I.introDialog)):this.tourCommandDispatcher.nextStep()}close(I){this.tourStepTemplateHandler.turnOff(),this.tourPageCoverletHandler.uncover(),this.tourShortcutsManager.terminate(),this.tourCommandDispatcher.closeTour(I),this.closed$.next(),this.closed$.complete()}subscribeForStep(){this.tourRepository.selectCurrentStep().pipe((0,t.R)(this.closed$),(0,n.h)(I=>I.index>=0)).subscribe(I=>{this.tourIntroDialogHandler.turnOff(),this.tourPageCoverletHandler.cover(),this.tourStepTemplateHandler.next(I)})}}return T.\u0275fac=function(I){return new(I||T)(f.LFG(m.s),f.LFG(i.E),f.LFG(v.e),f.LFG(E.X),f.LFG(d.h),f.LFG(o.r),f.LFG(h.V),f.LFG(p.N),f.LFG(r.u),f.LFG(a.V1))},T.\u0275prov=f.Yz7({token:T,factory:T.\u0275fac}),T})()},56316:(S,g,e)=>{"use strict";e.d(g,{E:()=>E});var t=e(2100),n=e(11041),s=e(13133),i=e(62546),r=e(84046),a=e(77882),o=e(897),d=e(55331),h=e(65546),p=e(65521),f=e(65799);function m(C,T){if(1&C){const y=r.EpF();r.ynx(0),r.TgZ(1,"sp-modal-window-standard-button",8),r.NdJ("click",function(){return r.CHM(y),r.oxw().skipTour()}),r._uU(2),r.ALo(3,"spL10nText"),r.qZA(),r.TgZ(4,"sp-modal-window-confirm-button",9),r.NdJ("onConfirm",function(P){return r.CHM(y),r.oxw().showSteps(P)}),r._uU(5),r.ALo(6,"spL10nText"),r.qZA(),r.BQk()}2&C&&(r.xp6(2),r.hij(" ",r.lcZ(3,2,"SPT_COMMON_TOUR_BUTTON_SKIP")," "),r.xp6(3),r.hij(" ",r.lcZ(6,4,"SPT_COMMON_TOUR_BUTTON_EXPLORE")," "))}function v(C,T){if(1&C){const y=r.EpF();r.TgZ(0,"sp-modal-window-confirm-button",10),r.NdJ("click",function(){return r.CHM(y),r.oxw().skipTour()}),r._uU(1),r.ALo(2,"spL10nText"),r.qZA()}2&C&&(r.xp6(1),r.hij(" ",r.lcZ(2,1,"SPT_COMMON_TOUR_BUTTON_GET_STARTED")," "))}let E=(()=>{class C extends i.H{constructor(y,I,P,L,F,b,x,B){super(y,I),this.changeDetectorRef=P,this.tourPageCoverletHandler=L,this.tourCommandDispatcher=F,this.tourClosingController=b,this.tourQueryService=x,this.modalWindowComponentRef=B}ngOnInit(){this.observeTour()}finalize(){this.modalWindowComponentRef.close(),this.tourPageCoverletHandler.uncover()}getHostClasses(){return["sp-text-center","sp-w-full"]}showSteps(y){this.modalWindowComponentRef.close(),y&&this.tourCommandDispatcher.nextStep()}skipTour(){this.modalWindowComponentRef.close(),this.tourClosingController.close(!1)}observeTour(){this.tourQueryService.selectTour().pipe(this.takeUntilDestroy()).subscribe(y=>{this.tourStepsExist=!!y.steps.length,this.changeDetectorRef.detectChanges()})}}return C.\u0275fac=function(y){return new(y||C)(r.Y36(r.SBq),r.Y36(r.Qsj),r.Y36(r.sBO),r.Y36(s.h),r.Y36(n.E),r.Y36(a.e),r.Y36(o.s),r.Y36(t.Zh))},C.\u0275cmp=r.Xpm({type:C,selectors:[["sp-tour-intro-dialog"]],features:[r.qOj],decls:13,vars:9,consts:[[1,"sp-modal-header","!sp-justify-center","sp-w-full"],[1,"sp-modal-title"],[1,"sp-modal-body","sp-flex-col"],[1,"sp-tour-intro-dialog__picture","sp-mx-auto"],[1,"sp-mx-auto","sp-pt-5","sp-text-center"],[1,"sp-modal-footer","sp-gap-2","!sp-justify-center"],[4,"ngIf","ngIfElse"],["getStartedButton",""],[1,"sp-close-tour","sp-ml-3",3,"click"],[3,"onConfirm"],[1,"sp-close-tour",3,"click"]],template:function(y,I){if(1&y&&(r.TgZ(0,"div",0),r.TgZ(1,"h2",1),r._uU(2),r.ALo(3,"spL10nText"),r.qZA(),r.qZA(),r.TgZ(4,"div",2),r._UZ(5,"img",3),r.TgZ(6,"div",4),r._uU(7),r.ALo(8,"spL10nText"),r.qZA(),r.qZA(),r.TgZ(9,"div",5),r.YNc(10,m,7,6,"ng-container",6),r.YNc(11,v,3,3,"ng-template",null,7,r.W1O),r.qZA()),2&y){const P=r.MAs(12);r.xp6(2),r.Oqu(r.lcZ(3,5,I.configuration.title)),r.xp6(3),r.uIk("src",I.configuration.picture,r.LSH),r.xp6(2),r.hij(" ",r.lcZ(8,7,I.configuration.description)," "),r.xp6(3),r.Q6J("ngIf",I.tourStepsExist)("ngIfElse",P)}},directives:[d.O5,h.$,p.r],pipes:[f.L],encapsulation:2,changeDetection:0}),C})()},36985:(S,g,e)=>{"use strict";e.d(g,{V:()=>a});var t=e(21693),n=e(86263),s=e(56316),i=e(23854),r=e(84046);let a=(()=>{class o{constructor(h){this.modalWindowService=h}open(h){this.createModalWindowConfig(),this.modalWindowService.open(this.modalWindowConfiguration,h)}turnOff(){this.modalWindowConfiguration&&this.modalWindowService.close(this.modalWindowConfiguration)}createModalWindowConfig(){this.modalWindowConfiguration=new n.g.Builder(s.E).withSize(i.e.M).build()}}return o.\u0275fac=function(h){return new(h||o)(r.LFG(t.b))},o.\u0275prov=r.Yz7({token:o,factory:o.\u0275fac}),o})()},67372:(S,g,e)=>{"use strict";e.d(g,{A:()=>o});var t=e(17314),n=e(73197),s=e(62126),i=e(62546),r=e(84046);const a=["canvasElement"];let o=(()=>{class d extends i.H{constructor(p,f,m,v){super(p,f),this.ngZone=m,this.window=v}init(){this.setContext(),this.setCanvasSize(),this.setCanvasBackground(),this.listenForWindowResize()}highlightArea(p){this.setCanvasSize(),this.setCanvasBackground(),this.setHighlightedElement(p),this.drawHighlightedArea()}getHostClasses(){return["sp-tour-page-coverlet","sp-fixed","sp-top-0","sp-left-0","sp-wh-100","sp-z-4"]}listenForWindowResize(){this.ngZone.runOutsideAngular(()=>{(0,n.R)(this.window,"resize").pipe((0,s.b)(d.WINDOW_RESIZE_DEBOUNCE_TIME),this.takeUntilDestroy()).subscribe(()=>{this.setCanvasSize(),this.setCanvasBackground(),this.highlightedElement&&this.drawHighlightedArea()})})}setContext(){this.ctx=this.canvasElement.nativeElement.getContext("2d")}setCanvasSize(){const p=this.canvasElement.nativeElement;this.updateCanvasSizeValues(),p.width=this.canvasWidth,p.height=this.canvasHeight}updateCanvasSizeValues(){this.canvasWidth=this.window.innerWidth,this.canvasHeight=this.window.innerHeight}setCanvasBackground(){this.ctx.beginPath(),this.ctx.fillStyle="rgba(0, 0, 0, .5)",this.ctx.fillRect(0,0,this.canvasWidth,this.canvasHeight),this.ctx.closePath()}setHighlightedElement(p){this.highlightedElement=p}drawHighlightedArea(){const p=this.highlightedElement.getBoundingClientRect(),f={x:p.x,y:p.y},m=p.width,v=p.height;this.drawTransparentRect(f,m,v),this.drawBorderedRect(f,m,v)}drawTransparentRect(p,f,m){this.ctx.beginPath(),this.ctx.clearRect(p.x,p.y,f,m),this.ctx.closePath()}drawBorderedRect(p,f,m){this.drawRoundedRect(p,f,m),this.ctx.strokeStyle="#5243aa",this.ctx.lineWidth=d.BORDER_SIZE,this.ctx.stroke()}drawRoundedRect(p,f,m){const v=p.x,E=p.y,C=this.getLeftTopCoordinates(v,E),T=this.getLeftBottomCoordinates(v,E,m),y=this.getRightTopCoordinates(v,E,f),I=this.getRightBottomCoordinates(v,E,f,m);this.ctx.beginPath(),this.moveToStartOfHighlightedElement(C),this.drawTopBorderOfHighlightedElement(y),this.drawRightBorderOfHighlightedElement(I),this.drawBottomBorderOfHighlightedElement(T),this.drawLeftBorderOfHighlightedElement(C),this.ctx.closePath()}moveToStartOfHighlightedElement(p){this.ctx.moveTo(p.x+d.RADIUS,p.y)}drawTopBorderOfHighlightedElement(p){this.ctx.lineTo(p.x-d.RADIUS,p.y),this.ctx.quadraticCurveTo(p.x,p.y,p.x,p.y+d.RADIUS)}drawRightBorderOfHighlightedElement(p){this.ctx.lineTo(p.x,p.y-d.RADIUS),this.ctx.quadraticCurveTo(p.x,p.y,p.x-d.RADIUS,p.y)}drawBottomBorderOfHighlightedElement(p){this.ctx.lineTo(p.x+d.RADIUS,p.y),this.ctx.quadraticCurveTo(p.x,p.y,p.x,p.y-d.RADIUS)}drawLeftBorderOfHighlightedElement(p){this.ctx.lineTo(p.x,p.y+d.RADIUS),this.ctx.quadraticCurveTo(p.x,p.y,p.x+d.RADIUS,p.y)}getRightTopCoordinates(p,f,m){return{x:p+m+d.HIGHLIGHTED_GAP,y:f-d.HIGHLIGHTED_GAP}}getRightBottomCoordinates(p,f,m,v){return{x:p+m+d.HIGHLIGHTED_GAP,y:f+v+d.HIGHLIGHTED_GAP}}getLeftBottomCoordinates(p,f,m){return{x:p-d.HIGHLIGHTED_GAP,y:f+m+d.HIGHLIGHTED_GAP}}getLeftTopCoordinates(p,f){return{x:p-d.HIGHLIGHTED_GAP,y:f-d.HIGHLIGHTED_GAP}}}return d.RADIUS=5,d.HIGHLIGHTED_GAP=1,d.BORDER_SIZE=2,d.WINDOW_RESIZE_DEBOUNCE_TIME=300,d.\u0275fac=function(p){return new(p||d)(r.Y36(r.SBq),r.Y36(r.Qsj),r.Y36(r.R0b),r.Y36(t.m))},d.\u0275cmp=r.Xpm({type:d,selectors:[["sp-tour-page-coverlet"]],viewQuery:function(p,f){if(1&p&&r.Gf(a,7),2&p){let m;r.iGM(m=r.CRH())&&(f.canvasElement=m.first)}},features:[r.qOj],decls:2,vars:0,consts:[["canvasElement",""]],template:function(p,f){1&p&&r._UZ(0,"canvas",null,0)},encapsulation:2,changeDetection:0}),d})()},13133:(S,g,e)=>{"use strict";e.d(g,{h:()=>i});var t=e(55331),n=e(67372),s=e(84046);let i=(()=>{class r{constructor(o,d,h,p){this.componentFactoryResolver=o,this.injector=d,this.applicationRef=h,this.document=p}cover(){this.pageCoverletComponentRef||(this.createPageCoverlet(),this.document.body.appendChild(this.pageCoverletComponentRef.location.nativeElement),this.pageCoverletComponentRef.instance.init())}uncover(){this.pageCoverletComponentRef&&(this.pageCoverletComponentRef.location.nativeElement.remove(),this.pageCoverletComponentRef.destroy(),this.pageCoverletComponentRef=null)}highlightArea(o){this.pageCoverletComponentRef&&this.pageCoverletComponentRef.instance.highlightArea(o)}createPageCoverlet(){const o=this.componentFactoryResolver.resolveComponentFactory(n.A);this.pageCoverletComponentRef=o.create(this.injector),this.applicationRef.attachView(this.pageCoverletComponentRef.hostView)}}return r.\u0275fac=function(o){return new(o||r)(s.LFG(s._Vd),s.LFG(s.zs3),s.LFG(s.z2F),s.LFG(t.K0))},r.\u0275prov=s.Yz7({token:r,factory:r.\u0275fac}),r})()},49521:(S,g,e)=>{"use strict";e.d(g,{H:()=>t});var t=(()=>{return(n=t||(t={})).SKIP="Tour escape",n.NAVIGATION="Tour steps navigation",t;var n})()},69926:(S,g,e)=>{"use strict";e.d(g,{N:()=>v});var t=e(90850),n=e(35811),s=e(70822),i=e(86495),r=e(55688),a=e(93051),o=e(82613),d=e(11041),h=e(49521),p=e(84046),f=e(77882),m=e(897);let v=(()=>{class E{constructor(T,y,I,P){this.shortcutsService=T,this.tourClosingController=y,this.tourCommandDispatcher=I,this.tourRepository=P,this.destroy$=new t.xQ,this.shortcutContainers=[]}init(){this.destroy$=new t.xQ,this.subscribeForStep(),this.shortcutContainers=[],this.skipGroup=this.shortcutsService.createGroup(h.H.SKIP,{position:a.N.FORCE_TO_TOP}),this.navigationGroup=this.shortcutsService.createGroup(h.H.NAVIGATION,{position:a.N.FORCE_TO_TOP}),this.addShortcutsForNextStep(),this.addShortcutsForPreviousStep(),this.addShortcutsForSkipTour(),this.shortcutsService.setGroupActivityStatus(h.H.SKIP,!0)}terminate(){this.shortcutsService.removeShortcutGroup(this.skipGroup),this.shortcutsService.removeShortcutGroup(this.navigationGroup),this.shortcutContainers.forEach(T=>T.removeAllShortcuts()),this.destroy$.next(),this.destroy$.complete()}subscribeForStep(){this.tourRepository.selectCurrentStep().pipe((0,n.R)(this.destroy$),(0,s.h)(T=>T.index>=0)).subscribe(T=>{this.shortcutsService.setGroupActivityStatus(h.H.NAVIGATION,!0),this.currentStep=T})}addShortcutsForNextStep(){this.shortcutContainers.push(this.shortcutsService.createContainer("Next step",this.navigationGroup).add(new r.z(i.s.ARROW_RIGHT,()=>{this.goNextStepViaShortcut()})).add(new r.z(i.s.N,()=>{this.goNextStepViaShortcut()})))}addShortcutsForPreviousStep(){this.shortcutContainers.push(this.shortcutsService.createContainer("Previous step",this.navigationGroup).add(new r.z(i.s.ARROW_LEFT,()=>{this.goPreviousStepViaShortcut()})).add(new r.z(i.s.B,()=>{this.goPreviousStepViaShortcut()})))}addShortcutsForSkipTour(){this.shortcutContainers.push(this.shortcutsService.createContainer("Skip tour",this.skipGroup).add(new r.z(i.s.ESCAPE,()=>{this.tourClosingController.close(!1)})).add(new r.z(i.s.S,()=>{this.tourClosingController.close(!1)})))}goNextStepViaShortcut(){this.currentStep.isLast||this.tourCommandDispatcher.nextStep()}goPreviousStepViaShortcut(){this.currentStep.isFirst||this.tourCommandDispatcher.previousStep()}}return E.\u0275fac=function(T){return new(T||E)(p.LFG(o.L),p.LFG(f.e),p.LFG(d.E),p.LFG(m.s))},E.\u0275prov=p.Yz7({token:E,factory:E.\u0275fac}),E})()},94848:(S,g,e)=>{"use strict";e.d(g,{R:()=>m});var t=e(11041),n=e(62546),s=e(84046),i=e(77882),r=e(55331),a=e(34909),o=e(65799);function d(v,E){if(1&v){const C=s.EpF();s.TgZ(0,"button",6),s.NdJ("click",function(){return s.CHM(C),s.oxw().previous()}),s._uU(1),s.ALo(2,"spL10nText"),s.qZA()}if(2&v){const C=s.oxw();s.Q6J("disabled",C.firstStep),s.xp6(1),s.hij(" ",s.lcZ(2,2,"SPT_COMMON_TOUR_STEP_BUTTON_BACK")," ")}}function h(v,E){if(1&v){const C=s.EpF();s.TgZ(0,"button",7),s.NdJ("click",function(){return s.CHM(C),s.oxw().next()}),s._uU(1),s.ALo(2,"spL10nText"),s.qZA()}2&v&&(s.xp6(1),s.hij(" ",s.lcZ(2,1,"SPT_COMMON_TOUR_STEP_BUTTON_NEXT")," "))}function p(v,E){if(1&v){const C=s.EpF();s.TgZ(0,"button",8),s.NdJ("click",function(){return s.CHM(C),s.oxw().close()}),s._uU(1),s.ALo(2,"spL10nText"),s.qZA()}2&v&&(s.xp6(1),s.hij(" ",s.lcZ(2,1,"SPT_COMMON_TOUR_STEP_BUTTON_SKIP")," "))}function f(v,E){if(1&v){const C=s.EpF();s.TgZ(0,"button",9),s.NdJ("click",function(){return s.CHM(C),s.oxw().close()}),s._uU(1),s.ALo(2,"spL10nText"),s.qZA()}2&v&&(s.xp6(1),s.hij(" ",s.lcZ(2,1,"SPT_COMMON_TOUR_STEP_BUTTON_GET_STARTED")," "))}let m=(()=>{class v extends n.H{constructor(C,T,y,I){super(C,T),this.tourCommandDispatcher=y,this.tourClosingController=I}ngOnInit(){this.firstStep=this.data.currentStep.isFirst,this.lastStep=this.data.currentStep.isLast}getHostClasses(){return["sp-flex","sp-flex-col"]}next(){this.tourCommandDispatcher.nextStep()}previous(){this.tourCommandDispatcher.previousStep()}close(){this.tourClosingController.close(!1)}}return v.\u0275fac=function(C){return new(C||v)(s.Y36(s.SBq),s.Y36(s.Qsj),s.Y36(t.E),s.Y36(i.e))},v.\u0275cmp=s.Xpm({type:v,selectors:[["sp-tour-step-template"]],inputs:{data:"data"},features:[s.qOj],decls:8,vars:7,consts:[[1,"sp-tour-step-template__description","sp-m-2"],[1,"sp-flex","sp-my-1","sp-mx-2"],["sp-button","","class","previous-button",3,"disabled","click",4,"ngIf"],["sp-button","","primary","","class","next-button",3,"click",4,"ngIf"],["sp-button","","link","","class","sp-close-tour",3,"click",4,"ngIf"],["sp-button","","primary","","class","sp-close-tour",3,"click",4,"ngIf"],["sp-button","",1,"previous-button",3,"disabled","click"],["sp-button","","primary","",1,"next-button",3,"click"],["sp-button","","link","",1,"sp-close-tour",3,"click"],["sp-button","","primary","",1,"sp-close-tour",3,"click"]],template:function(C,T){1&C&&(s.TgZ(0,"div",0),s._uU(1),s.ALo(2,"spL10nText"),s.qZA(),s.TgZ(3,"div",1),s.YNc(4,d,3,4,"button",2),s.YNc(5,h,3,3,"button",3),s.YNc(6,p,3,3,"button",4),s.YNc(7,f,3,3,"button",5),s.qZA()),2&C&&(s.xp6(1),s.hij(" ",s.lcZ(2,5,T.data.currentStep.step.description),"\n"),s.xp6(3),s.Q6J("ngIf",!T.firstStep),s.xp6(1),s.Q6J("ngIf",!T.lastStep),s.xp6(1),s.Q6J("ngIf",!T.lastStep),s.xp6(1),s.Q6J("ngIf",T.lastStep))},directives:[r.O5,a.r],pipes:[o.L],styles:[".sp-tour-step-template{width:350px}.sp-tour-step-template__description{width:330px}\n"],encapsulation:2,changeDetection:0}),v})()},95631:(S,g,e)=>{"use strict";e.d(g,{r:()=>f});var t=e(55331),n=e(73620),s=e(76013),i=e(6083),r=e(74383),a=e(47258),o=e(13133),d=e(94848),h=e(84046),p=e(14176);let f=(()=>{class m{constructor(E,C,T,y,I){this.tourPageCoverletHandler=E,this.inlineDialogManager=C,this.inlineDialogService=T,this.rendererFactory=y,this.document=I,this.renderer=this.rendererFactory.createRenderer(null,null)}next(E){let C;this.closeInlineDialog(),C=this.getHighlightedElement(E.step.selector),this.tourPageCoverletHandler.highlightArea(C),this.inlineDialog=this.inlineDialogService.createInlineDialog(this.renderer,this.createInlineDialogConfig(E),C),this.inlineDialog.openInlineDialog({})}turnOff(){this.closeInlineDialog()}createInlineDialogConfig(E){return new s.U(d.R,{currentStep:E},r.e.CLICK.toString(),null,i.x.HORIZONTAL_BOTTOM,n.a.ELEMENT).withCloseDialogWhenClickOutside(!1)}closeInlineDialog(){this.inlineDialog&&this.inlineDialogManager.destroy()}getHighlightedElement(E){return this.document.querySelector(E)}}return m.\u0275fac=function(E){return new(E||m)(h.LFG(o.h),h.LFG(p.V),h.LFG(a.O),h.LFG(h.FYo),h.LFG(t.K0))},m.\u0275prov=h.Yz7({token:m,factory:m.\u0275fac}),m})()},76821:(S,g,e)=>{"use strict";e.d(g,{A:()=>d});var t=e(55331),n=e(5644),s=e(68890),i=e(95486),r=e(26566),a=e(84046);const o=[i.y];let d=(()=>{class h{static forRoot(){return{ngModule:h,providers:o}}}return h.\u0275fac=function(f){return new(f||h)},h.\u0275mod=a.oAB({type:h}),h.\u0275inj=a.cJS({imports:[[t.ez,n.u.forRoot(),s.z8,r.n]]}),h})()},40209:(S,g,e)=>{"use strict";e.d(g,{G:()=>i});class t{constructor(a,o,d,h){this.events=a,this.gravity=o,this.tooltipGravity=d,this.zIndex=h}}var n=e(8904),s=e(95900);class i{static default(){return(new i).withEvents([]).withGravity(n.m.SOUTH_EAST).withTooltipGravity(s.X.EAST)}withEvents(a){return this.events=a,this}withGravity(a){return this.validationDotGravity=a,this}withTooltipGravity(a){return this.tooltipGravity=a,this}withZIndex(a){return this.zIndex=a,this}build(){return new t(this.events,this.validationDotGravity,this.tooltipGravity,this.zIndex)}}},8904:(S,g,e)=>{"use strict";e.d(g,{m:()=>t});var t=(()=>{return(n=t||(t={}))[n.NORTH_EAST=0]="NORTH_EAST",n[n.NORTH_WEST=1]="NORTH_WEST",n[n.SOUTH_EAST=2]="SOUTH_EAST",n[n.SOUTH_WEST=3]="SOUTH_WEST",t;var n})()},95486:(S,g,e)=>{"use strict";e.d(g,{y:()=>y});var t=e(19327),n=e(40209),s=e(8904),i=e(98223),r=e(68890),a=e(95900),o=e(84046),d=e(94944);let h=(()=>{class I{constructor(L,F){this.elementRef=L,this.l10nTextService=F,this.validationDotMessages=[],this.tooltipColoredGravity=a.X.EAST,this.tooltipColoredColor=t.B.RED.colorName}showTooltip(){this.getValidationDotMessages()&&this.tooltip.forceShowTooltip()}hideTooltip(){this.tooltip.forceHideTooltip()}getValidationDotMessages(){return 2===this.validationDotMessages.length?this.l10nTextService.translate(this.validationDotMessages[0],this.validationDotMessages[1]):this.validationDotMessages.join(" ")}getValidationDotElementRef(){return this.elementRef}}return I.\u0275fac=function(L){return new(L||I)(o.Y36(o.SBq),o.Y36(i.e))},I.\u0275cmp=o.Xpm({type:I,selectors:[["sp-validation-dot"]],viewQuery:function(L,F){if(1&L&&o.Gf(r.i9,7),2&L){let b;o.iGM(b=o.CRH())&&(F.tooltip=b.first)}},decls:2,vars:8,consts:[["id","sp-validation-dot",1,"fas","fa-exclamation-circle","sp-violation-validation-dot","sp-animation__pulse-up",3,"spTooltipEnabled","spTooltip","spTooltipColor","spTooltipGravity"]],template:function(L,F){1&L&&(o._UZ(0,"i",0),o.ALo(1,"spRichTextString")),2&L&&(o.ekj("sp-violation-validation-dot--warning",F.warning),o.Q6J("spTooltipEnabled",!1)("spTooltip",o.lcZ(1,6,F.getValidationDotMessages()))("spTooltipColor",F.tooltipColoredColor)("spTooltipGravity",F.tooltipColoredGravity))},directives:[r.i9],pipes:[d.C],styles:[":host{z-index:10;position:absolute}.sp-violation-validation-dot{visibility:hidden;display:none;color:var(--danger)}.sp-violation-validation-dot--warning{color:var(--yellow-primary)}.sp-validation-dot-visible{position:absolute;visibility:visible;z-index:10;cursor:pointer}.sp-validation-dot-visible .sp-violation-validation-dot{visibility:visible;display:flex;width:16px;height:16px;font-size:16px;border:0 solid var(--white);background:var(--color-bg);border-radius:8px;justify-content:center}.sp-marked .sp-form-control{border-color:var(--danger)}\n"],encapsulation:2,changeDetection:0}),I})();var p=e(71118),f=e(62628),m=e(64026),v=e(52265),E=e(85703),C=e(17199),T=e(45927);let y=(()=>{class I extends f.b{constructor(L,F,b){super(),this.positionCalculator=L,this.componentOutlet=F,this.validationDotSize=16,this.validationDotRefs=new Map,this.renderer=b.createRenderer(null,null)}finalize(){this.validationDotRefs.clear()}create(L,F=[],b=n.G.default().build(),x=!0,B=(0,E.Hu)()){this.clearRefWhenAlreadyExists(B);const M=this.componentOutlet.createComponent(h),w=M.instance;return w.validationDotMessages=F,w.tooltipColoredGravity=b.tooltipGravity,w.tooltipColoredColor=x?t.B.RED.colorName:t.B.YELLOW.colorName,w.warning=!x,this.validationDotRefs.set(B,M),M.changeDetectorRef.detectChanges(),this.setTheValidationDot(M,L,b.gravity,b.zIndex),this.attachMarkedClassToAnchor(M,L,!x),F.length>0&&M.instance.showTooltip(),M}attachMarkedClassToAnchor(L,F,b){const x=b?"sp-marked-warning":"sp-marked";this.renderer.addClass(F.nativeElement,x),L.onDestroy(()=>{this.renderer.removeClass(F.nativeElement,x)})}setTheValidationDot(L,F,b,x){const B=L.location.nativeElement,M=F.nativeElement,w=M.getBoundingClientRect(),K=this.calculateElementsPosition(M,B,m.e.TOP),k=w.height,G=w.width;let $,X;if(b===s.m.SOUTH_EAST)$=K.top+k-this.validationDotSize/2,X=K.left-this.validationDotSize/2;else if(b===s.m.SOUTH_WEST)$=K.top+k-this.validationDotSize/2,X=K.left-G-this.validationDotSize/2;else if(b===s.m.NORTH_EAST)$=K.top-this.validationDotSize/2,X=K.left-this.validationDotSize/2;else{if(b!==s.m.NORTH_WEST)throw new Error("Unknown ValidationDotGravity");$=K.top-this.validationDotSize/2,X=K.left-G-this.validationDotSize/2}this.renderer.setStyle(B,"top",p.l.numberToPxString($)),this.renderer.setStyle(B,"left",p.l.numberToPxString(X)),this.renderer.setStyle(B,"visibility","hidden"),this.renderer.addClass(B,"sp-validation-dot-visible"),p.l.isDefined(x)&&this.renderer.setStyle(B,"z-index",x)}calculateElementsPosition(L,F,b){return this.positionCalculator.calculateNewElementsPosition(v.i.default().withLinkedElements({element:F,anchor:L}).withGravity(a.X.EAST).withAlignment(b))}clearRefWhenAlreadyExists(L){this.validationDotRefs.has(L)&&this.validationDotRefs.get(L).destroy()}}return I.\u0275fac=function(L){return new(L||I)(o.LFG(C.o),o.LFG(T.r),o.LFG(o.FYo))},I.\u0275prov=o.Yz7({token:I,factory:I.\u0275fac}),I})()},25878:(S,g,e)=>{"use strict";e.d(g,{F:()=>s});var t=e(9933),n=e(84046);let s=(()=>{class i{constructor(a){this.localStorage=a}setFeatureFlagButtonAsVisible(){this.localStorage.setItem(i.LS_FEATURE_FLAG_BUTTON_VISIBILITY_KEY,"true")}getFeatureFlagButtonVisibility(){return Boolean(this.localStorage.getItem(i.LS_FEATURE_FLAG_BUTTON_VISIBILITY_KEY))}}return i.LS_FEATURE_FLAG_BUTTON_VISIBILITY_KEY="feature-flag-button-visible",i.\u0275fac=function(a){return new(a||i)(n.LFG(t.m))},i.\u0275prov=n.Yz7({token:i,factory:i.\u0275fac}),i})()},54052:(S,g,e)=>{"use strict";e.d(g,{o:()=>p});var t=e(55331),n=e(41001),s=e(51545),i=e(37869),r=e(89621),a=e(68890),o=e(62203),d=e(25878),h=e(84046);let p=(()=>{class f{}return f.\u0275fac=function(v){return new(v||f)},f.\u0275mod=h.oAB({type:f}),f.\u0275inj=h.cJS({providers:[r.Q,d.F],imports:[[t.ez,i.o,s.F,n.J,a.z8,o.V]]}),f})()},89621:(S,g,e)=>{"use strict";e.d(g,{Q:()=>ve});var t=e(86495),n=e(55688),s=e(82613),i=e(86263),r=e(21693),a=e(20823),o=e(17314),d=e(62546),h=e(2100),p=e(35811),f=e(84605),m=e(71726),v=e(45635),E=e(63833),C=e(83941),T=e(68890),y=e(36603),I=e(69300),P=e(90850),L=e(79299),F=e(25878),b=e(84046),x=e(83950),B=e(34909),M=e(55331),w=e(65799);const K=["systemInfoDialogImage"];function k(Ce,ye){if(1&Ce){const de=b.EpF();b.TgZ(0,"button",9),b.NdJ("click",function(){return b.CHM(de),b.oxw().showFeatureFlagModal()}),b._uU(1," Manage feature flags "),b.qZA()}}const G=function(Ce){return{systemBuildDate:Ce}},$=function(Ce){return{systemDatabaseModelVersion:Ce}};class X extends d.H{constructor(ye,de,Ie,He,Ve,Ue,xe,gt,tt,lt){super(ye,de),this.applicationInfoStorage=Ie,this.environmentService=He,this.tooltipMouseService=Ve,this.featureFlagModalService=Ue,this.systemInfoDialogLocalStorageService=xe,this.changeDetectorRef=gt,this.modalWindowComponentRef=tt,this.window=lt,this.isFeatureFlagButtonVisible=!1,this.restOfImageClicks=X.VISIBLE_COUNT_OF_LAST_IMAGE_CLICKS,this.imageMouseClickDisabled$=new P.xQ,this.imageMouseEventsDisabled$=new P.xQ,this.domManipulator.setHostAttribute("id","sp-system-info-dialog")}ngOnInit(){this.setFeatureFlagButtonVisibility(),this.setApplicationInfoData()}ngAfterViewInit(){this.isFeatureFlagButtonVisible||(this.observeImageMouseEnter(),this.observeImageMouseLeave())}showReleaseNotes(){const ye=this.environmentService.getPluginName();this.window.open(this.environmentService.getHelpURL(`app/${ye}/release-notes`))}aboutUs(){this.window.open("https://softwareplant.com","_blank")}showFeatureFlagModal(){this.modalWindowComponentRef.close(),this.featureFlagModalService.create()}getHostClasses(){return["sp-system-info-dialog","sp-relative","sp-pb-5","sp-text-center","sp-grid","sp-w-full","sp-justify-items-center"]}observeImageMouseEnter(){this.domManipulator.listen(this.systemInfoDialogImageRef.nativeElement,"mouseenter").pipe((0,p.R)(this.imageMouseEventsDisabled$),this.takeUntilDestroy()).subscribe(()=>{this.observeImageClicks()})}observeImageMouseLeave(){this.domManipulator.listen(this.systemInfoDialogImageRef.nativeElement,"mouseleave").pipe((0,p.R)(this.imageMouseEventsDisabled$),this.takeUntilDestroy()).subscribe(()=>{this.tooltipMouseService.destroy(),this.resetRestOfImageClicks(),this.removeMouseClickEvent()})}observeImageClicks(){this.domManipulator.listen(this.systemInfoDialogImageRef.nativeElement,"click").pipe((0,f.T)(X.COUNT_OF_FIRST_IMAGE_CLICKS),(0,m.U)(ye=>(this.decreaseRestOfImageClicks(),this.getTooltipMouseConfiguration(ye))),(0,v.b)(ye=>this.tooltipMouseService.create(ye)),(0,f.T)(X.COUNT_OF_LAST_IMAGE_CLICKS),(0,E.q)(1),(0,p.R)(this.imageMouseClickDisabled$),(0,p.R)(this.imageMouseEventsDisabled$),this.takeUntilDestroy()).subscribe(()=>{this.tooltipMouseService.destroy(),this.showFeatureFlagButton(),this.removeAllImageEvents(),this.changeDetectorRef.detectChanges()})}setApplicationInfoData(){const ye=this.applicationInfoStorage.get();this.systemDisplayName=ye.systemDisplayName,this.systemVersion=ye.systemVersion,this.systemBuildDate=ye.buildDate,this.systemCommitId=ye.commitId,this.systemDatabaseModelVersion=ye.systemDatabaseModelVersion}getTooltipText(){return C.H.string(`Click ${this.restOfImageClicks} more times to manage feature flags`)}decreaseRestOfImageClicks(){this.restOfImageClicks--}setFeatureFlagButtonVisibility(){this.isFeatureFlagButtonVisible=this.systemInfoDialogLocalStorageService.getFeatureFlagButtonVisibility()}showFeatureFlagButton(){this.systemInfoDialogLocalStorageService.setFeatureFlagButtonAsVisible(),this.isFeatureFlagButtonVisible=!0}resetRestOfImageClicks(){this.restOfImageClicks=X.VISIBLE_COUNT_OF_LAST_IMAGE_CLICKS}removeMouseClickEvent(){this.imageMouseClickDisabled$.next()}removeAllImageEvents(){this.imageMouseEventsDisabled$.next()}getTooltipMouseConfiguration(ye){return(new y.h.Builder).withRichText(this.getTooltipText()).withInitialCoordinates(new L.g(ye.clientX,ye.clientY)).build()}}X.COUNT_OF_FIRST_IMAGE_CLICKS=5,X.COUNT_OF_LAST_IMAGE_CLICKS=4,X.VISIBLE_COUNT_OF_LAST_IMAGE_CLICKS=X.COUNT_OF_LAST_IMAGE_CLICKS+1,X.\u0275fac=function(ye){return new(ye||X)(b.Y36(b.SBq),b.Y36(b.Qsj),b.Y36(a.d),b.Y36(x.L),b.Y36(T.Hm),b.Y36(I.q),b.Y36(F.F),b.Y36(b.sBO),b.Y36(h.Zh),b.Y36(o.m))},X.\u0275cmp=b.Xpm({type:X,selectors:[["sp-system-info-dialog"]],viewQuery:function(ye,de){if(1&ye&&b.Gf(K,5),2&ye){let Ie;b.iGM(Ie=b.CRH())&&(de.systemInfoDialogImageRef=Ie.first)}},features:[b._Bn([r.b]),b.qOj],decls:20,vars:22,consts:[["src","app/common/assets/images/system-info-dialog-image.svg","alt","System info","id","sp-system-info-dialog-image",1,"sp-system-info-dialog__image","sp-w-full","sp-block"],["systemInfoDialogImage",""],["id","sp-system-info-dialog-system-name-and-version",1,"sp-mb-2","sp-mt-4"],["id","sp-system-info-dialog-release-date",1,"sp-mb-0"],["id","sp-system-info-dialog-system-commit-id",1,"sp-text-s","sp-text-gray-200","sp-mb-0"],["id","sp-system-info-dialog-database-schema-version",1,"sp-text-s","sp-text-gray-200","sp-mb-6"],["sp-button","","id","sp-system-info-dialog-about-btn",3,"click"],["sp-button","","id","sp-system-info-dialog-whats-new-btn",3,"click"],["sp-button","","id","sp-system-info-dialog-manage-feature-flags",3,"click",4,"ngIf"],["sp-button","","id","sp-system-info-dialog-manage-feature-flags",3,"click"]],template:function(ye,de){1&ye&&(b._UZ(0,"img",0,1),b.TgZ(2,"h2",2),b._uU(3),b.qZA(),b.TgZ(4,"p",3),b._uU(5),b.ALo(6,"spL10nText"),b.qZA(),b.TgZ(7,"p",4),b._uU(8),b.qZA(),b.TgZ(9,"p",5),b._uU(10),b.ALo(11,"spL10nText"),b.qZA(),b.TgZ(12,"div"),b.TgZ(13,"button",6),b.NdJ("click",function(){return de.aboutUs()}),b._uU(14),b.ALo(15,"spL10nText"),b.qZA(),b.TgZ(16,"button",7),b.NdJ("click",function(){return de.showReleaseNotes()}),b._uU(17),b.ALo(18,"spL10nText"),b.qZA(),b.YNc(19,k,2,0,"button",8),b.qZA()),2&ye&&(b.xp6(3),b.AsE(" ",de.systemDisplayName," ",de.systemVersion,"\n"),b.xp6(2),b.hij(" ",b.xi3(6,8,"SPT_SYSTEM_INFO_DIALOG_RELEASE",b.VKq(18,G,de.systemBuildDate)),"\n"),b.xp6(3),b.hij(" ",de.systemCommitId,"\n"),b.xp6(2),b.hij(" ",b.xi3(11,11,"SPT_SYSTEM_INFO_DIALOG_DATABASE_SCHEMA_VERSION",b.VKq(20,$,de.systemDatabaseModelVersion)),"\n"),b.xp6(4),b.hij(" ",b.lcZ(15,14,"SPT_SYSTEM_INFO_DIALOG_ABOUT")," "),b.xp6(3),b.hij(" ",b.lcZ(18,16,"SPT_SYSTEM_INFO_DIALOG_WHATS_NEW")," "),b.xp6(2),b.Q6J("ngIf",de.isFeatureFlagButtonVisible))},directives:[B.r,M.O5],pipes:[w.L],styles:[".sp-system-info-dialog__image{height:300px}\n"],encapsulation:2,changeDetection:0});var ie=e(62628),se=e(23854),pe=e(92973);let ve=(()=>{class Ce extends ie.b{constructor(de,Ie,He){super(),this.modalWindowService=de,this.shortcutsService=Ie,this.modalCommunicationService=He}initializeSystemInfoDialogShortcut(de){this.container=this.shortcutsService.createContainer("Open System-Info Dialog",de).add(new n.z(t.s.I,()=>{this.create()}).withModifier(t.s.SHIFT).withDisplayAliasKey(t.s.I))}create(){if(!this.container)return void console.warn("SystemInfoDialog - container doesn't exist");this.container.toggle(!1),this.systemInfoModalConfiguration=new i.g.Builder(X).withCloseIconEnabled(!0).withCloseIconId("sp-system-info-dialog-close-button").withSize(se.e.L).build(),this.modalWindowService.open(this.systemInfoModalConfiguration,this.container);const de=this.modalCommunicationService.getCloseAction().pipe(this.takeUntilDestroy()).subscribe(()=>{this.modalWindowService.close(this.systemInfoModalConfiguration),this.container.toggle(!0),de.unsubscribe()})}}return Ce.\u0275fac=function(de){return new(de||Ce)(b.LFG(r.b),b.LFG(s.L),b.LFG(pe.M))},Ce.\u0275prov=b.Yz7({token:Ce,factory:Ce.\u0275fac}),Ce})()},38179:(S,g,e)=>{"use strict";e.d(g,{z:()=>t});class t{constructor(){this.handlers=new Map}addHandler(s,i){return this.handlers.set(s,i),this}handle(s){Object.keys(s).forEach(i=>{const r=this.handlers.get(i);r&&r(s[i])})}clear(){this.handlers.clear()}}},4502:(S,g,e)=>{"use strict";e.d(g,{F:()=>t});class t{constructor(s){this.value=s}static empty(){return new t(void 0)}static from(s){return new t(s)}get(){if(this.isPresent())return this.value;throw new Error("Optional error. Check if present before calling get.")}isPresent(){return null!=this.value}map(s){return this.isPresent()?new t(s(this.value)):new t(null)}orElse(s){return this.isPresent()?this.value:s}ifPresent(s){this.isPresent()&&s(this.get())}ifPresentOrElse(s,i){this.isPresent()?s(this.get()):i()}}},28635:(S,g,e)=>{"use strict";e.d(g,{o:()=>t});class t{static isOpera(){return-1!==(navigator.userAgent.indexOf("Opera")||navigator.userAgent.indexOf("OPR"))}static isFirefox(){return-1!==navigator.userAgent.indexOf("Firefox")}static isSafari(){return-1!==navigator.userAgent.indexOf("Safari")}static isIE(){return-1!==navigator.userAgent.indexOf("MSIE")||!!document.documentMode}static isEdge(){return!t.isIE()&&!!window.StyleMedia}static isChrome(){return-1!==navigator.userAgent.indexOf("Chrome")}}},77286:(S,g,e)=>{"use strict";e.d(g,{u:()=>a});var t=e(97809),n=e(53339),s=e(71726),i=e(70822),r=e(4502);function a(){return(d,h,p)=>{const f=p.value;return p.value=function(...m){const v=m.map(y=>JSON.stringify(y)).join();return o.of(d.constructor.name+h,v||"memoizeDefaultParamsKey",()=>f.apply(this,m))},p}}class o{constructor(){this.queryToData=new Map,this.queryResolved$=new t.t(1),this.pendingQueries=new Map}static of(h,p,f){return o.INSTANCES.has(h)||o.INSTANCES.set(h,new o),this.getExistingInstance(h).get(p,f)}static getExistingInstance(h){return o.INSTANCES.get(h)}get(h,p){return this.queryToData.has(h)?this.returnResolvedQuery(h):(this.isQueryPending(h)||(this.pendingQueries.set(h,!0),this.resolveCallback(p,h)),this.returnQueryAfterResolution(h))}resolveCallback(h,p){h().subscribe(f=>{this.cacheQueryResolution(p,f)})}returnResolvedQuery(h){return(0,n.of)(this.queryToData.get(h))}cacheQueryResolution(h,p){this.pendingQueries.delete(h),this.queryToData.set(h,p),this.queryResolved$.next()}isQueryPending(h){return this.pendingQueries.has(h)}returnQueryAfterResolution(h){return this.queryResolved$.pipe((0,s.U)(()=>this.queryToData.get(h)),(0,i.h)(p=>new r.F(p).isPresent()))}}o.INSTANCES=new Map},20773:(S,g,e)=>{"use strict";e.d(g,{x:()=>t});class t{}},18924:(S,g,e)=>{"use strict";e.d(g,{n:()=>t});class t{constructor(s,i){this.userKey=s,this.displayName=i}}},65389:(S,g,e)=>{"use strict";e.d(g,{Qr:()=>ve});var t=e(55331),n=e(90850),s=e(35811),i=e(9234),r=e(806),a=e(26009),o=e(56678),d=e(50476),h=e(5047),p=e(65552),f=e(8688),m=e(42599);class v{}class E{}var C=e(78042),T=e(32271),y=e(84046);let I=(()=>{class Ce extends v{constructor(de){super(),this.enabled=!1,this.unsubscribe$=new n.xQ,de.pipe((0,T.n)(()=>!this.enabled),(0,s.R)(this.unsubscribe$)).subscribe(Ie=>{this.enabled&&this.logCommand(Ie)})}ngOnDestroy(){this.unsubscribe$.next(),this.unsubscribe$.complete()}start(){this.enabled=!0}stop(){this.enabled=!1}logCommand(de){console.log(de)}}return Ce.\u0275fac=function(de){return new(de||Ce)(y.LFG(o.M))},Ce.\u0275prov=y.Yz7({token:Ce,factory:Ce.\u0275fac}),Ce})();const L=new y.OlP("SP - COMMAND_LOGGER_ENABLED"),F=new y.OlP("SP - EVENT_LOGGER_ENABLED");let b=(()=>{class Ce extends E{constructor(de){super(),this.enabled=!1,this.unsubscribe$=new n.xQ,de.pipe((0,T.n)(()=>!this.enabled),(0,s.R)(this.unsubscribe$)).subscribe(Ie=>{this.enabled&&this.logEvent(Ie)})}ngOnDestroy(){this.unsubscribe$.next(),this.unsubscribe$.complete()}start(){this.enabled=!0}stop(){this.enabled=!1}logEvent(de){console.log(de)}}return Ce.\u0275fac=function(de){return new(de||Ce)(y.LFG(h.N))},Ce.\u0275prov=y.Yz7({token:Ce,factory:Ce.\u0275fac}),Ce})();var x=e(9933);let B=(()=>{class Ce{constructor(){this.singletonHandlers=new Map,this.multiHandlers=new Map}static removeDuplicatedInstances(de){return de.filter((Ie,He,Ve)=>Ve.map(xe=>xe.constructor).indexOf(Ie.constructor)===He)}registerHandler(de){const Ie=de.getHandlerType();if(this.singletonHandlers.has(Ie)){const He=Ce.removeDuplicatedInstances([...this.singletonHandlers.get(Ie),de]);this.singletonHandlers.set(Ie,He)}else this.singletonHandlers.set(Ie,[de])}registerMultiHandler(de){const Ie=de.getHandlerType();this.multiHandlers.has(Ie)?this.multiHandlers.set(Ie,[...this.multiHandlers.get(Ie),de]):this.multiHandlers.set(Ie,[de])}unregisterHandler(de){const Ie=de.getHandlerType();if(this.singletonHandlers.has(Ie)){let He=this.singletonHandlers.get(Ie);He=He.filter(Ve=>Ve.getHandlerType()!==de.getHandlerType()),this.singletonHandlers.set(Ie,He)}}unregisterMultiHandler(de){const Ie=de.getHandlerType();if(this.multiHandlers.has(Ie)){let He=this.multiHandlers.get(Ie);He=He.filter(Ve=>Ve!==de),this.multiHandlers.set(Ie,He)}}getHandlers(de){return[...this.singletonHandlers.get(de.getType())||[],...this.multiHandlers.get(de.getType())||[]]}}return Ce.\u0275fac=function(de){return new(de||Ce)},Ce.\u0275prov=y.Yz7({token:Ce,factory:Ce.\u0275fac}),Ce})(),M=(()=>{class Ce extends B{}return Ce.\u0275fac=function(){let ye;return function(Ie){return(ye||(ye=y.n5z(Ce)))(Ie||Ce)}}(),Ce.\u0275prov=y.Yz7({token:Ce,factory:Ce.\u0275fac}),Ce})(),w=(()=>{class Ce extends B{}return Ce.\u0275fac=function(){let ye;return function(Ie){return(ye||(ye=y.n5z(Ce)))(Ie||Ce)}}(),Ce.\u0275prov=y.Yz7({token:Ce,factory:Ce.\u0275fac}),Ce})();var K=e(54490),k=e(23134),G=e(85215);const $="cqrsLoggersEnabled",ie=[{provide:i.b,useExisting:r.A},M,o.M,r.A,a.h,w,h.N,p.M,f.p,K.t,m.s],se=(Ce,ye,de)=>{const Ie=JSON.parse(de.getItem($));return(Ce||Ie)&&ye.start(),ye},pe=(Ce,ye,de)=>{const Ie=JSON.parse(de.getItem($));return(Ce||Ie)&&ye.start(),ye};let ve=(()=>{class Ce{constructor(de,Ie,He,Ve,Ue,xe,gt,tt,lt){this.commandHandlerRepository=He,this.eventHandlerRepository=Ve,this.commandBus=Ue,this.eventBus=xe,this.commandLogger=gt,this.eventLogger=tt,this.localStorage=lt,this.unsubscribe$=new n.xQ,this.setCqrsLoggers(),this.registerCommandHandlers(de||[]),this.registerEventHandlers(Ie||[]),this.subscribeForCommands(),this.subscribeEvents()}static withConfig(de={loggers:!1}){return{ngModule:Ce,providers:[{provide:L,useValue:de.loggers},{provide:F,useValue:de.loggers},{provide:v,useFactory:se,deps:[L,I,x.m]},{provide:E,useFactory:pe,deps:[F,b,x.m]},I,b,x.m,...ie]}}ngOnDestroy(){this.unsubscribe$.next(),this.unsubscribe$.complete(),this.setLoggers(!1,!1)}registerEventHandlers(de){for(const Ie of de)this.eventHandlerRepository.registerHandler(Ie)}registerCommandHandlers(de){for(const Ie of de)this.commandHandlerRepository.registerHandler(Ie)}saveLoggerSettingsInLS(de){this.localStorage.setItem($,de)}subscribeForCommands(){this.commandBus.pipe((0,s.R)(this.unsubscribe$)).subscribe(de=>this.processCommand(de))}processCommand(de){const Ie=this.commandHandlerRepository.getHandlers(de);for(const He of Ie)try{if(!k.N.production){const Ve=de.getId();G.Eo.getInstance().set(He.containerId,de,Ve?Ve.toString():void 0)}He.executeCommand(de)}catch(Ve){throw console.error(`Error [${Ve}] occurred while executing ${He.constructor.name} for command: ${de.getType().name}`),Ve}}subscribeEvents(){this.eventBus.pipe((0,s.R)(this.unsubscribe$)).subscribe(de=>this.processEvent(de))}processEvent(de){const Ie=this.eventHandlerRepository.getHandlers(de);for(const He of Ie)try{if(!k.N.production){const Ve=de.getCommandId();G.Eo.getInstance().set(He.containerId,de,Ve?Ve.toString():void 0)}He.execute(de)}catch(Ve){throw console.error(`Error [${Ve}] occurred while executing ${He.constructor.name} for event: ${de.getType().name}`),Ve}}setLoggers(de,Ie=!0){de?(this.commandLogger.start(),this.eventLogger.start()):(this.commandLogger.stop(),this.eventLogger.stop()),Ie&&this.saveLoggerSettingsInLS(de),console.log(`%cLoggers ${de?"start":"stop"}!`,"background: #222; color: #bada55; border-radius: 3px; padding: 3px 5px;")}setCqrsLoggers(){window.cqrsLogger={turnOnLoggers:()=>this.setLoggers(!0),turnOffLoggers:()=>this.setLoggers(!1)}}}return Ce.\u0275fac=function(de){return new(de||Ce)(y.LFG(d.b,8),y.LFG(C.H,8),y.LFG(M),y.LFG(w),y.LFG(o.M),y.LFG(h.N),y.LFG(v),y.LFG(E),y.LFG(x.m))},Ce.\u0275mod=y.oAB({type:Ce}),Ce.\u0275inj=y.cJS({imports:[[t.ez]]}),Ce})()},95281:(S,g,e)=>{"use strict";e.d(g,{Y:()=>n});var t=e(90344);class n extends t.h{setId(i){this.id=i}}},25344:(S,g,e)=>{"use strict";e.d(g,{g:()=>n});var t=e(94062);class n extends t._{compare(i,r){return i.equals(r)}}},95296:(S,g,e)=>{"use strict";e.d(g,{X:()=>n});var t=e(46396);class n{constructor(){this.guid=(0,t.Hu)()}static get type(){return this.prototype.constructor}getType(){return this.constructor}equalsByType(i){return this.constructor===i.constructor}equals(i){return this.constructor===i.constructor&&this.guid===i.guid}toString(){return this.constructor.name}}},40644:(S,g,e)=>{"use strict";e.d(g,{R:()=>n});var t=e(62628);class n extends t.b{}},17658:(S,g,e)=>{"use strict";e.d(g,{Z:()=>n});var t=e(37207);class n{constructor(i,r=t.g){this.aggregateId=i,this.sharedState=new t.g.Builder(r,i.toString()).build()}getId(){return this.aggregateId}getShareState(){return this.sharedState}emit(i){this.sharedState.emit(i)}clearEvents(){this.sharedState.clearEvents()}getEvents(){return this.sharedState.getEvents()}getEmitter(){return this.sharedState.getEmitter()}}},26197:(S,g,e)=>{"use strict";e.d(g,{t:()=>t});class t{constructor(){this.events=[]}clearEvents(){this.events=[]}getEvents(){return this.events}emit(s){Array.isArray(s)?this.events.push(...s):this.events.push(s)}emitAsOneOfAKind(s){Array.isArray(s)?s.forEach(i=>this.emitAsOneOfAKind(i)):(this.removeSimilarTypes(s),this.emit(s))}removeSimilarTypes(s){this.events=this.events.filter(i=>!i.equalsByType(s))}}},38620:(S,g,e)=>{"use strict";e.d(g,{Z:()=>t});class t{constructor(s){this.aggregateEventsDispatcher=s}use(s,i){const r=this.getById(s.getAggregateId());r.clearEvents(),i(r);const a=[...r.getEvents()];this.save(r),this.aggregateEventsDispatcher.dispatch(a,s)}}},19461:(S,g,e)=>{"use strict";e.d(g,{m:()=>s});var t=e(95296);class n{constructor(r){this.uid=r}toString(){return this.uid}equals(r){return this.toString()===r.toString()}}class s extends t.X{constructor(r){super(),this.aggregateId=r,this.id=new n(this.guid)}getId(){return this.id}getAggregateId(){return this.aggregateId}}},56678:(S,g,e)=>{"use strict";e.d(g,{M:()=>r});var t=e(32731),n=e(90850),s=e(9234),i=e(84046);let r=(()=>{class a extends t.y{constructor(d){super(),this.onDestroy$=new n.xQ,d&&(this.source=d)}ngOnDestroy(){this.onDestroy$.next(),this.onDestroy$.complete()}lift(d){const h=new a;return h.source=this,h.operator=d,h}}return a.\u0275fac=function(d){return new(d||a)(i.LFG(s.b))},a.\u0275prov=i.Yz7({token:a,factory:a.\u0275fac}),a})()},26009:(S,g,e)=>{"use strict";e.d(g,{h:()=>s});var t=e(84046),n=e(806);let s=(()=>{class i{constructor(a){this.commandStream=a}dispatch(a){this.commandStream.next(a)}dispatchAsync(a){setTimeout(()=>this.dispatch(a))}}return i.\u0275fac=function(a){return new(a||i)(t.LFG(n.A))},i.\u0275prov=t.Yz7({token:i,factory:i.\u0275fac}),i})()},16804:(S,g,e)=>{"use strict";e.d(g,{W:()=>a});var t=e(49820),n=e(63833),s=e(40644),i=e(23134),r=e(85215);class a extends s.R{constructor(d,h,p){super(),this.commandType=d,this.domainEvent=h,this.eventDispatcher=p,i.N.production||(this.containerId=r.Eo.getInstance().connect(this.constructor.name,r.PK.COMMAND_HANDLER))}getHandlerType(){return this.commandType}executeCommand(d){const h=this.execute(d);(0,t.b)(h)?h.pipe((0,n.q)(1)).subscribe(()=>{this.dispatchEvent(d)}):this.domainEvent&&this.eventDispatcher&&this.dispatchEvent(d)}dispatchEvent(d){const h=new this.domainEvent(d.getId(),d.getAggregateId());this.eventDispatcher.dispatch(h)}}},50476:(S,g,e)=>{"use strict";e.d(g,{b:()=>n,p:()=>s});const n=new(e(84046).OlP)("COMMAND_HANDLERS");function s(i){return{provide:n,useClass:i,multi:!0}}},806:(S,g,e)=>{"use strict";e.d(g,{A:()=>s});var t=e(90850),n=e(84046);let s=(()=>{class i extends t.xQ{next(a){super.next(a)}ngOnDestroy(){this.complete()}}return i.\u0275fac=function(){let r;return function(o){return(r||(r=n.n5z(i)))(o||i)}}(),i.\u0275prov=n.Yz7({token:i,factory:i.\u0275fac}),i})()},9234:(S,g,e)=>{"use strict";e.d(g,{b:()=>n});const n=new(e(84046).OlP)("FILTERED_COMMAND_STREAM")},37207:(S,g,e)=>{"use strict";e.d(g,{g:()=>i});var t=e(85105);class n{constructor(){}static clear(a){n.singletons.delete(a)}}n.Builder=class extends t.I{constructor(a,o){super(),this.singleton=a,this.context=o}build(){let a=n.singletons.get(this.context);return a||(a=new this.singleton,n.singletons.set(this.context,a)),a}},n.singletons=new Map;var s=e(26197);class i extends n{constructor(){super(...arguments),this.emitter=new s.t}emit(a){this.emitter.emit(a)}emitAsOneOfAKind(a){this.emitter.emitAsOneOfAKind(a)}clearEvents(){this.emitter.clearEvents()}getEvents(){return this.emitter.getEvents()}getEmitter(){return this.emitter}}},66453:(S,g,e)=>{"use strict";e.d(g,{i:()=>n});var t=e(95296);class n extends t.X{constructor(i){super(),this.aggregateId=i}getId(){return this.aggregateId}}},54490:(S,g,e)=>{"use strict";e.d(g,{t:()=>s});var t=e(84046),n=e(8688);let s=(()=>{class i{constructor(a){this.dispatcher=a}dispatch(a,o){a.forEach(d=>{d.toDomainEvents(o.getId()).forEach(p=>{this.dispatcher.dispatch(p)})})}}return i.\u0275fac=function(a){return new(a||i)(t.LFG(n.p))},i.\u0275prov=t.Yz7({token:i,factory:i.\u0275fac}),i})()},81871:(S,g,e)=>{"use strict";e.d(g,{n:()=>s});var t=e(95296);class n{constructor(r){this.uid=r}toString(){return this.uid}equals(r){return this.toString()===r.toString()}}class s extends t.X{constructor(r,a){super(),this.commandId=r,this.aggregateId=a,this.id=new n(this.guid)}getId(){return this.id}getCommandId(){return this.commandId}getAggregateId(){return this.aggregateId}}},5047:(S,g,e)=>{"use strict";e.d(g,{N:()=>o});var t=e(32731),n=e(90850),s=e(70822),i=e(35811),r=e(84046),a=e(65552);let o=(()=>{class d extends t.y{constructor(p){super(),this.onDestroy$=new n.xQ,p&&(this.source=p)}ngOnDestroy(){this.onDestroy$.next(),this.onDestroy$.complete()}lift(p){const f=new d;return f.source=this,f.operator=p,f}ofEventHandler(...p){return this.pipe((0,s.h)(f=>p.some(m=>m.forEvent(f))),(0,i.R)(this.onDestroy$))}}return d.\u0275fac=function(p){return new(p||d)(r.LFG(a.M))},d.\u0275prov=r.Yz7({token:d,factory:d.\u0275fac}),d})()},8688:(S,g,e)=>{"use strict";e.d(g,{p:()=>s});var t=e(84046),n=e(65552);let s=(()=>{class i{constructor(a){this.eventStream=a}dispatch(a){this.eventStream.next(a)}}return i.\u0275fac=function(a){return new(a||i)(t.LFG(n.M))},i.\u0275prov=t.Yz7({token:i,factory:i.\u0275fac}),i})()},51257:(S,g,e)=>{"use strict";e.d(g,{b:()=>r});var t=e(19461),n=e(40644),s=e(23134),i=e(85215);class r extends n.R{constructor(o){super(),this.eventType=o,s.N.production||(this.containerId=i.Eo.getInstance().connect(this.constructor.name,i.PK.EVENT_HANDLER))}getHandlerType(){return this.eventType}forEvent(o){return this.getHandlerType()===o.constructor||this.getHandlerType()===t.m.type}}},78042:(S,g,e)=>{"use strict";e.d(g,{H:()=>n,u:()=>s});const n=new(e(84046).OlP)("EVENT_HANDLERS");function s(i){return{provide:n,useClass:i,multi:!0}}},42599:(S,g,e)=>{"use strict";e.d(g,{s:()=>a});var t=e(90850),n=e(53339),s=e(70822),i=e(63833),r=e(84046);let a=(()=>{class o{constructor(){this.domainEvents=[],this.domainEvents$=new t.xQ}next(h){this.domainEvents.push(h),this.domainEvents$.next(h)}selectEvent(h){return this.domainEvents$.pipe((0,s.h)(p=>p.getType()===h))}findEventByType(h,p){const f=this.getEvents();return f.reverse().slice(0,p||f.length).find(m=>m.getType()===h)}waitForEvent(h,p){const f=this.findEventByType(h,p);return f?(0,n.of)(f):this.waitForNextEventOccurrence(h)}waitForNextEventOccurrence(h){return this.selectEvent(h).pipe((0,i.q)(1))}waitForEventEmittedForCommand(h,p){return this.selectEvent(p).pipe((0,s.h)(f=>f.getCommandId().equals(h)),(0,i.q)(1))}getEvents(){return this.domainEvents}}return o.\u0275fac=function(h){return new(h||o)},o.\u0275prov=r.Yz7({token:o,factory:o.\u0275fac}),o})()},65552:(S,g,e)=>{"use strict";e.d(g,{M:()=>i});var t=e(90850),n=e(84046),s=e(42599);let i=(()=>{class r extends t.xQ{constructor(o){super(),this.eventStore=o}next(o){super.next(o),this.eventStore.next(o)}}return r.\u0275fac=function(o){return new(o||r)(n.LFG(s.s))},r.\u0275prov=n.Yz7({token:r,factory:r.\u0275fac}),r})()},94062:(S,g,e)=>{"use strict";e.d(g,{_:()=>f});var t=e(97809),n=e(90850),s=e(53339),i=e(38009),r=e(70822),a=e(71726),o=e(96105),d=e(23134),h=e(85215),p=e(84046);let f=(()=>{class m{constructor(){this.map=new Map,this.changes$=new t.t(1),this.lastChangedKey$=new n.xQ,d.N.production||(this.containerId=h.Eo.getInstance().connect(this.constructor.name,h.PK.REPOSITORY_SERVICE))}ngOnDestroy(){this.changes$.complete()}set(E,C){E=this.getKey(E)||E,this.map.set(E,C),d.N.production||h.Eo.getInstance().set(this.containerId,this.map),this.lastChangedKey$.next(E),this.changes$.next(E)}get(E,C){return(E=this.getKey(E))?this.map.get(E):C}select(E){const C=this.map.get(this.getKey(E)),T=(0,s.of)(C).pipe((0,r.h)(I=>!!I)),y=this.changes$.pipe((0,r.h)(I=>this.compare(E,I)),(0,a.U)(I=>this.map.get(I)));return(0,i.T)(T,y).pipe((0,o.x)())}clear(E){this.set(E,null)}changes(){return this.lastChangedKey$.asObservable()}has(E){return void 0!==this.map.get(this.getKey(E))}getKey(E){return Array.from(this.map.keys()).find(T=>this.compare(T,E))}}return m.\u0275fac=function(E){return new(E||m)},m.\u0275prov=p.Yz7({token:m,factory:m.\u0275fac}),m})()},46396:(S,g,e)=>{"use strict";function t(){const h=new Array(16);let p=0;for(let f=0;f<16;f++)0==(3&f)&&(p=4294967296*Math.random()),h[f]=p>>>((3&f)<<3)&255;return h}e.d(g,{Y:()=>a,Hu:()=>d});const s=function(){const h=window.crypto||window.msCrypto;if(h&&h.getRandomValues)try{return function(){const f=new Uint8Array(16);return h.getRandomValues(f),f}}catch(p){}return t}(),r=new class{constructor(){this.byteToHex=[],this.hexToByte={};for(let p=0;p<256;p++)this.byteToHex[p]=(p+256).toString(16).substr(1),this.hexToByte[this.byteToHex[p]]=p}};function a(){const h=s();return h[6]=15&h[6]|64,h[8]=63&h[8]|128,h}function d(){return function(h,p=0){let f=p;const m=r.byteToHex;return m[h[f++]]+m[h[f++]]+m[h[f++]]+m[h[f++]]+"-"+m[h[f++]]+m[h[f++]]+"-"+m[h[f++]]+m[h[f++]]+"-"+m[h[f++]]+m[h[f++]]+"-"+m[h[f++]]+m[h[f++]]+m[h[f++]]+m[h[f++]]+m[h[f++]]+m[h[f++]]}(a())}},59838:(S,g,e)=>{"use strict";e.d(g,{g:()=>t});class t{constructor(){this.state={}}set(s){this.state[s.getId().toString()]=s}get(s){const i=s.toString();return this.state[i]}getAll(){return Object.keys(this.state).map(s=>this.state[s])}deleteById(s){delete this.state[s.toString()]}}},32687:(S,g,e)=>{"use strict";e.d(g,{f:()=>t});class t{constructor(s){this.stateStore=s}save(s){this.saveValue(s)}deleteById(s){this.stateStore.deleteById(s)}getById(s){return this.getValue(s)}saveValue(s){this.stateStore.set(s)}getValue(s){return this.stateStore.get(s)||null}}},9351:(S,g,e)=>{"use strict";e.d(g,{p:()=>i});var t=e(64996),n=e(83662);class i{constructor(a){this.date=a,this.ONE_SECOND=1e3,this.SECONDS_IN_HOUR=3600,this.SECONDS_IN_MINUTE=60,this.HOURS_IN_DAY=24}static formatSimpleDateToDate(a,o,d){return t.ou.fromISO(a).setLocale(d).toFormat(o)}static validateDateFormat(a,o){const d=i.formatSimpleDateToDate(i.SIMPLE_DATE_EXAMPLE,a,o);return t.ou.fromFormat(d,a).toLocaleString()===i.INVALID_DATETIME_FORMAT_TEXT}static formatTimestamp(a,o,d,h){return t.ou.fromMillis(a).setZone(d).setLocale(h).toFormat(o)}static validateTimestamp(a,o,d,h){return i.formatTimestamp(a,o,d,h)===i.INVALID_DATETIME_FORMAT_TEXT}static validateDateTimeFormat(a,o,d){const h=t.ou.fromMillis(i.MILISECOND_DATE_EXAMPLE).setZone(o).setLocale(d).toFormat(a);return t.ou.fromFormat(h,a).toLocaleString()===i.INVALID_DATETIME_FORMAT_TEXT}static createSPDateFromMilliseconds(a){return new i(n(a).toDate())}static createSPDateFromFormat(a,o){return new i(o?n.utc(a,o).toDate():n.utc(a).toDate())}static createSPDateFromDay(a,o,d){const h=n().year(o).isoWeek(d).day(a);return new i(h.toDate())}static min(a){const o=a.map(d=>n.utc(d));return n.min(o).toDate()}static max(a){const o=a.map(d=>n.utc(d));return n.max(o).toDate()}static isToday(a){return new i(new Date).isSameDay(new i(a))}static isTomorrow(a){return new i(new Date).addDays(1).isSameDay(new i(a))}static isLeapYear(a){return a%4==0&&a%100!=0||a%400==0}static getISOWeeks(a){const d=new Date(Date.UTC(a,0,1)).getUTCDay(),h=i.isLeapYear(a);return 4===d||h&&3===d?53:52}static validateUTCDate(a){const o=i.createUTCDate(a.getUTCFullYear(),a.getUTCMonth(),a.getUTCDate());a.getTime()!==o.getTime()&&console.error("Invalid date. Dates should have time equal to 0:00 in UTC.")}static getISOWeeksInYear(a){return n.utc(`${a}-01-01`).isoWeeksInYear()}static getUTCTodayDate(){const a=new Date;return i.createUTCDate(a.getFullYear(),a.getMonth(),a.getDate())}static simpleDateFromUTCDate(a){return i.formatUTCDate(a,"YYYY-MM-DD")}static isUTCToday(a){return i.simpleDateFromUTCDate(a)===i.simpleDateFromUTCDate(i.getUTCTodayDate())}static formatDate(a,o){return n(a).format(o)}static formatUTCDate(a,o){const d=new Date(a.getUTCFullYear(),a.getUTCMonth(),a.getUTCDate());return n(d).format(o)}static convertUTCDateToDate(a){return a?new Date(a.getUTCFullYear(),a.getUTCMonth(),a.getUTCDate()):null}static convertDateToUTCDate(a){return a?i.createUTCDate(a.getFullYear(),a.getMonth(),a.getDate()):null}static addDaysInUTC(a,o){const d=new Date(a);return d.setUTCDate(d.getUTCDate()+o),d}static addYearsInUTC(a,o){const d=new Date(a);return d.setUTCFullYear(d.getUTCFullYear()+o),d}static subtractYearsInUTC(a,o){const d=new Date(a);return d.setUTCFullYear(d.getUTCFullYear()-o),d}static createUTCDate(a,o,d){return new Date([a,o+1<10?`0${o+1}`:o+1,d<10?`0${d}`:d].join("-"))}static addFromToday(a){return t.ou.now().plus(a.getDurationObjectUnits()).toJSDate()}static subtractFromToday(a){return t.ou.now().minus(a.getDurationObjectUnits()).toJSDate()}static convertUTCDateToString(a){return new Date(a.getUTCFullYear(),a.getUTCMonth(),a.getUTCDate()).toDateString()}static createUTCDateFromString(a){return 8!==a.split("-").join("").length&&console.error("Invalid string provided. Format should be YYYY-MM-DD"),new Date(a)}static withLeadingZero(a){return a.toString().padStart(2,"0")}static isAfter(a,o){return this.validateUTCDate(a),this.validateUTCDate(o),a>o}static isSameOrAfter(a,o){return n(a).isSameOrAfter(o)}static isBefore(a,o){return n(a).isBefore(o,"days")}static isSameOrBefore(a,o){return n(a).isSameOrBefore(o)}static getEarliest(a){if(0===a.length)throw new Error("Empty list provided");let o=a[0];for(let d=1;d<a.length;d++)i.isBefore(a[d],o)&&(o=a[d]);return o}static getLatest(a){if(0===a.length)throw new Error("Empty list provided");let o=a[0];for(let d=1;d<a.length;d++)i.isAfter(a[d],o)&&(o=a[d]);return o}static isBetween(a,o,d){return n(a).isBetween(o,d)}static isSameDay(a,o){return n.utc(a).isSame(o,"day")}static getWeekOfYear(a){return this.validateUTCDate(a),n.utc(a).isoWeek()}static setWeekOfYear(a,o){return this.validateUTCDate(a),n.utc(a).isoWeek(o).toDate()}static startOfISOWeek(a){return this.validateUTCDate(a),n.utc(a).startOf("isoWeek").toDate()}static utcEndOfISOWeek(a){return this.validateUTCDate(a),n.utc(a).endOf("isoWeek").toDate()}static setFullYear(a,o){return n.utc(a).year(o).toDate()}static getDaysBetween(a,o){return n.utc(o).diff(n.utc(a),"days")}static getCurrentTimezone(){const a=(new Date).getTimezoneOffset()/-60,o=` UTC${a<0?a:"+"+a}`;return Intl.DateTimeFormat().resolvedOptions().timeZone+o}static getInfinitePastDate(){return new Date(-i.MAX_DATE_IN_UTC)}static getInfiniteFutureDate(){return new Date(i.MAX_DATE_IN_UTC)}getNativeDate(){return new Date(this.date)}getNativeUtcDate(){return new Date(Date.UTC(this.date.getFullYear(),this.date.getMonth(),this.date.getDate(),this.date.getHours(),this.date.getMinutes(),this.date.getSeconds(),this.date.getMilliseconds()))}getDaysBetween(a){return n(a.date).diff(n(this.date),"days")}addDays(a){const o=new Date(this.date);return o.setDate(o.getDate()+a),new i(o)}addYears(a){const o=new Date(this.date);return o.setFullYear(o.getFullYear()+a),new i(o)}subtractDays(a){const o=new Date(this.date);return o.setDate(o.getDate()-a),new i(o)}subtractYears(a){const o=new Date(this.date);return o.setFullYear(o.getFullYear()-a),new i(o)}startOfDay(){const a=n(this.date).startOf("day").toDate();return new i(a)}getStringMonth(){return this.format("MMMM")}getShortStringMonth(){return this.format("MMM")}isLastDayOfMonth(){return 1===new Date(this.date.getTime()+this.ONE_SECOND*this.SECONDS_IN_HOUR*this.HOURS_IN_DAY).getDate()}isFirstDayOfMonth(){return 1===this.getDate()}isFirstDayOfYear(){return 1===this.date.getDate()&&0===this.date.getMonth()}isLastDayOfYear(){return 31===this.date.getDate()&&11===this.date.getMonth()}isDayFirstOfMonth(){return 1===this.date.getDate()}getTime(){return this.date.getTime()}getFullYear(){return this.date.getFullYear()}getMonth(){return this.date.getMonth()}getDate(){return this.date.getDate()}getPrettyDate(){return`${this.date.getFullYear()} ${this.getStringMonth()} ${this.date.getDate()}`}getDay(){return this.date.getDay()}getUTCDay(){return this.date.getUTCDay()}format(a){return i.formatDate(this.date,a)}formatUTC(a){return i.formatUTCDate(this.date,a)}getTimezoneOffset(){return this.date.getTimezoneOffset()}getTimeWithTimeZoneOffsetMillis(){const a=this.getTimezoneOffset()*this.SECONDS_IN_MINUTE*this.ONE_SECOND;return this.getTime()+a}isAfter(a){return this.date>a.date}isBefore(a){return this.date<a.date}isSame(a){return this.date.getTime()===a.date.getTime()}isSameDay(a){return n.utc(this.date).isSame(a.date,"day")}isBetween(a,o,d=!1){const h=n(a.getNativeDate()),p=n(o.getNativeDate());return n(this.date).isBetween(h,p,null,d?"[]":"()")}getDayOfWeek(){return n(this.date).isoWeekday()}getDayOfYear(){return n(this.date).dayOfYear()}getWeekOfYear(){return this.getWeek(this.date.getTime())}getWeek(a){const o=new Date(a);o.setHours(0,0,0,0),o.setDate(o.getDate()+3-(o.getDay()+6)%7);const d=new Date(o.getFullYear(),0,4);return 1+Math.round(((o.getTime()-d.getTime())/864e5-3+(d.getDay()+6)%7)/7)}startOf(a){return n(this.date).startOf(a).toDate()}endOf(a){return n(this.date).endOf(a).toDate()}daysInMonth(){return n(this.date).daysInMonth()}}i.INVALID_DATETIME_FORMAT_TEXT="Invalid DateTime",i.SIMPLE_DATE_EXAMPLE=i.simpleDateFromUTCDate(new Date),i.MILISECOND_DATE_EXAMPLE=(new Date).getTime(),i.MAX_DATE_IN_UTC=864e13},42333:(S,g,e)=>{"use strict";e.d(g,{M:()=>t});class t{static create(...s){return(i,r)=>{let a=`${i}_`+t.getItemPropertyValue(r,s[0]);for(let o=1;o<s.length;o++)a+=t.getItemPropertyValue(r,s[o]);return a}}static getItemPropertyValue(s,i){const r=i.split(".");if(1===r.length)return s[i];let a=s;for(const o of r)a=a[o];return a}}},34044:(S,g,e)=>{"use strict";e.d(g,{p:()=>s});var t=e(90850),n=e(84046);let s=(()=>{class i{constructor(){this.logs$=new t.xQ}select(){return this.logs$.asObservable()}sendLogs(a){this.logs$.next(a)}}return i.\u0275fac=function(a){return new(a||i)},i.\u0275prov=n.Yz7({token:i,factory:i.\u0275fac}),i})()},16703:(S,g,e)=>{"use strict";e.d(g,{f:()=>d});var t=e(63833),n=e(83941),s=e(46902),i=e(78609),r=e(84046),a=e(34044),o=e(25605);let d=(()=>{class h{constructor(f,m,v){this.errorLogStore=f,this.logResource=m,this.messageService=v,this.WARNING_MESSAGE_DELAY=6e3,this.SUCCESS_MESSAGE_DELAY=3e3,this.errorLogStore.select().subscribe(()=>{this.logResource.upload().pipe((0,t.q)(1)).subscribe(E=>{console.log("data",E),this.messageService&&(E?this.messageService.success(this.createSuccessMessage()):this.messageService.warning(this.createSendLogsFailedMessage()))})})}createSendLogsFailedMessage(){return(new s.P).withTitle("Sending logs failed").withBody(n.H.string("Can't establish a connection to server. Please download support zip and send via email.")).withDelay(this.WARNING_MESSAGE_DELAY)}createSuccessMessage(){return(new s.P).withTitle("Success").withBody(n.H.string("Thank you for sending feedback.")).withDelay(this.SUCCESS_MESSAGE_DELAY)}}return h.\u0275fac=function(f){return new(f||h)(r.LFG(a.p),r.LFG(o.W),r.LFG(i.e,8))},h.\u0275prov=r.Yz7({token:h,factory:h.\u0275fac}),h})()},78605:(S,g,e)=>{"use strict";e.d(g,{J:()=>r});var t=e(41001),n=e(51545),s=e(82366),i=e(84046);let r=(()=>{class a{}return a.\u0275fac=function(d){return new(d||a)},a.\u0275mod=i.oAB({type:a}),a.\u0275inj=i.cJS({imports:[[t.J,n.F,s.QX]]}),a})()},21642:(S,g,e)=>{"use strict";e.d(g,{U:()=>t});class t{constructor(s){var i,r,a,o,d,h;this.name="HttpErrorResponse",this.ok=!1,this.headers=null!==(i=s.headers)&&void 0!==i?i:{},this.status=null!==(r=s.status)&&void 0!==r?r:null,this.statusText=null!==(a=s.statusText)&&void 0!==a?a:null,this.url=null!==(o=s.url)&&void 0!==o?o:null,this.error=null!==(d=s.error)&&void 0!==d?d:null,this.message=null!==(h=s.message)&&void 0!==h?h:null}}},15709:(S,g,e)=>{"use strict";e.d(g,{O:()=>t});var t=(()=>{return(n=t||(t={})).ARRAY_BUFFER="arraybuffer",n.BLOB="blob",n.DOCUMENT="document",n.JSON="json",n.TEXT="text",n.STREAM="stream",t;var n})()},683:(S,g,e)=>{"use strict";e.d(g,{o:()=>t});var t=(()=>{return(n=t||(t={}))[n.REQUEST_BLOCKED=0]="REQUEST_BLOCKED",n[n.OK=200]="OK",n[n.BAD_REQUEST=400]="BAD_REQUEST",n[n.UNAUTHORIZED=401]="UNAUTHORIZED",n[n.FORBIDDEN=403]="FORBIDDEN",n[n.NOT_FOUND=404]="NOT_FOUND",n[n.NOT_ACCEPTABLE=406]="NOT_ACCEPTABLE",n[n.CONFLICT=409]="CONFLICT",n[n.MISDIRECTED_REQUEST=421]="MISDIRECTED_REQUEST",n[n.UNPROCESSABLE_ENTITY=422]="UNPROCESSABLE_ENTITY",n[n.UPGRADE_REQUIRED=426]="UPGRADE_REQUIRED",n[n.TENANT_UNAVAILABLE=480]="TENANT_UNAVAILABLE",n[n.INTERNAL_SERVER_ERROR=500]="INTERNAL_SERVER_ERROR",n[n.BAD_GATEWAY=502]="BAD_GATEWAY",n[n.SERVICE_UNAVAILABLE=503]="SERVICE_UNAVAILABLE",n[n.GATEWAY_TIMEOUT=504]="GATEWAY_TIMEOUT",n[n.GROUPING_NOT_POSSIBLE=432]="GROUPING_NOT_POSSIBLE",t;var n})()},25605:(S,g,e)=>{"use strict";e.d(g,{W:()=>r});var t=e(83155),n=e(84046),s=e(11531),i=e(83950);let r=(()=>{class a extends t.a{constructor(d,h){super(d),this.environmentService=h}upload(){return this.get("upload")}getRestUrl(d){return this.environmentService.getRestBaseUrl()+a.REST_URL+d}}return a.REST_URL="system/core/diagnostic/",a.\u0275fac=function(d){return new(d||a)(n.LFG(s.O),n.LFG(i.L))},a.\u0275prov=n.Yz7({token:a,factory:a.\u0275fac}),a})()},61472:(S,g,e)=>{"use strict";e.d(g,{C:()=>n});var t=e(84046);let n=(()=>{class s{}return s.\u0275fac=function(r){return new(r||s)},s.\u0275prov=t.Yz7({token:s,factory:s.\u0275fac}),s})()},41383:(S,g,e)=>{"use strict";e.d(g,{B:()=>n});var t=e(84046);let n=(()=>{class s{}return s.\u0275fac=function(r){return new(r||s)},s.\u0275prov=t.Yz7({token:s,factory:s.\u0275fac}),s})()},83980:(S,g,e)=>{"use strict";e.d(g,{k:()=>G});var t=e(11531),n=e(98274),s=e(56385),i=e(63833),r=e(71726),a=e(70822),o=e(97809),d=e(90850),h=e(69989),p=e(25934),f=e(45635),m=e(35811),v=e(32731),E=e(10794),C=e.n(E),T=e(21642),y=e(35752);class I{static request(X,ie){const se=Object.assign(Object.assign({},ie),{method:X});return new v.y(pe=>{const ve=C().CancelToken.source();return C().request(Object.assign(Object.assign({},se),{cancelToken:ve.token})).then(Ce=>{pe.next(Ce),pe.complete()}).catch(Ce=>{var ye,de,Ie,He,Ve;const Ue=new T.U({error:null===(ye=Ce.response)||void 0===ye?void 0:ye.data,headers:null===(de=Ce.response)||void 0===de?void 0:de.headers,status:null===(Ie=Ce.response)||void 0===Ie?void 0:Ie.status,statusText:null===(He=Ce.response)||void 0===He?void 0:He.statusText,url:null===(Ve=Ce.response)||void 0===Ve?void 0:Ve.config.url,message:Ce.message});pe.error(Ue)}),()=>{ve.cancel()}})}static get(X,ie,se){const pe=Object.assign(Object.assign({},se),{url:X,data:ie});return I.request(y.w.GET,pe)}static post(X,ie,se){const pe=Object.assign(Object.assign({},se),{url:X,data:ie});return I.request(y.w.POST,pe)}static put(X,ie,se){const pe=Object.assign(Object.assign({},se),{url:X,data:ie});return I.request(y.w.PUT,pe)}static delete(X,ie){const se=Object.assign(Object.assign({},ie),{url:X});return I.request(y.w.DELETE,se)}static postMultipart(X,ie,se){return I.requestMultipart(y.w.POST,X,ie,se)}static putMultipart(X,ie,se){return I.requestMultipart(y.w.PUT,X,ie,se)}static requestMultipart(X,ie,se,pe){const ve=new FormData;for(const ye in se)ve.append(ye,se[ye]);const Ce=Object.assign(Object.assign({},pe),{method:X});return new v.y(ye=>{const de=C().CancelToken.source();return C().put(ie,ve,Object.assign(Object.assign({},Ce),{cancelToken:de.token})).then(Ie=>{ye.next(Ie),ye.complete()}).catch(Ie=>{ye.error(Ie)}),()=>{de.cancel()}})}}class P{constructor(X,ie,se){this.baseUrlService=X,this.queryParamSupplier=ie,this.headerSupplier=se,this.authToken$=new o.t(1),this.refreshToken$=new o.t(1),this.destroy$=new d.xQ}destroy(){this.destroy$.next(),this.destroy$.complete()}selectAuthToken$(){return this.authToken$.asObservable().pipe((0,a.h)(X=>!!X))}onRefreshToken$(){return this.refreshToken$.asObservable().pipe((0,a.h)(X=>!!X))}setAuthToken(X){this.authToken$.next(X)}refresh$(){return this.onRefreshToken$().pipe((0,i.q)(1),(0,n.w)(X=>{const ie=this.baseUrlService.getRestBaseUrl()+"system/reauth";return I.get(ie,{},{headers:{Authorization:X,"Content-Type":"application/json"}}).pipe((0,s.K)(pe=>(console.info("Refresh Token has expired."),this.clearTokens(),(0,h._)(pe))),(0,p.j)("data"),(0,f.b)(pe=>{this.setAuthToken(pe.authentication)}),(0,r.U)(()=>{}))}))}authorize(){const X=this.queryParamSupplier.getQueryParams(),ie=Object.assign(Object.assign({},this.headerSupplier.getHeaders()),{"Content-Type":"application/json"}),se=this.baseUrlService.getRestBaseUrl()+"system/auth"+X;I.get(se,{},{headers:ie}).pipe((0,m.R)(this.destroy$)).subscribe({next:ve=>{this.sign(ve.data.authentication,ve.data.refresh)}})}clearAuthToken(){this.authToken$.next(void 0)}clearRefreshToken(){this.refreshToken$.next(void 0)}clearTokens(){this.clearAuthToken(),this.clearRefreshToken()}sign(X,ie){this.setAuthToken(X),this.refreshToken$.next(ie)}}var L=e(683),F=e(87983),b=e(70162);class x{constructor(X,ie,se,pe){this.data=X,this.status=ie,this.statusText=se,this.headers=pe}}var B=e(11403),M=e(84046),w=e(20773),K=e(41383),k=e(61472);let G=(()=>{class $ extends t.O{constructor(ie,se,pe,ve=[],Ce){super(),this.axiosHttpInterceptors=ve,this.axiosSessionExpiredService=Ce,null===this.axiosHttpInterceptors&&(this.axiosHttpInterceptors=[]),(ye=>{const de=new P(ie,se,pe);function Ie(Ve,Ue){return de.selectAuthToken$().pipe((0,n.w)(xe=>ye.request$(Ve,xe,Ue).pipe((0,s.K)(gt=>function(Ve){return Ve.status===L.o.UNAUTHORIZED?de.refresh$().pipe((0,s.K)(Ue=>(Ce&&Ce.resolveShowSessionExpiredModal(),(0,h._)(Ue))),(0,r.U)(()=>({})),(0,a.h)(()=>!1)):(0,h._)(Ve)}(gt)))),(0,i.q)(1))}de.authorize(),ye.get=(Ve,Ue,xe)=>Ie(y.w.GET,{url:Ve,params:Ue,paramsSerializer:this.serializeParams,headers:null==xe?void 0:xe.headers,responseType:null==xe?void 0:xe.responseType}),ye.getFile=(Ve,Ue,xe)=>{var gt;return Ie(y.w.GET,{url:Ve,params:Ue,paramsSerializer:this.serializeParams,headers:null==xe?void 0:xe.headers,responseType:null!==(gt=null==xe?void 0:xe.responseType)&&void 0!==gt?gt:"blob"})},ye.post=(Ve,Ue,xe)=>Ie(y.w.POST,{url:Ve,data:Ue,headers:null==xe?void 0:xe.headers,responseType:null==xe?void 0:xe.responseType}),ye.put=(Ve,Ue,xe)=>Ie(y.w.PUT,{url:Ve,data:Ue,headers:null==xe?void 0:xe.headers,responseType:null==xe?void 0:xe.responseType}),ye.delete=(Ve,Ue)=>Ie(y.w.DELETE,{url:Ve,headers:null==Ue?void 0:Ue.headers,responseType:null==Ue?void 0:Ue.responseType}),ye.postMultipart=(Ve,Ue,xe)=>Ie(y.w.POST,{url:Ve,data:this.prepareFormData(Ue),headers:null==xe?void 0:xe.headers,responseType:null==xe?void 0:xe.responseType}),ye.putMultipart=(Ve,Ue,xe)=>Ie(y.w.PUT,{url:Ve,data:this.prepareFormData(Ue),headers:null==xe?void 0:xe.headers,responseType:null==xe?void 0:xe.responseType})})(this)}get(ie,se,pe){return this.request$(y.w.GET,"",{url:ie,params:se,paramsSerializer:this.serializeParams,headers:null==pe?void 0:pe.headers,responseType:null==pe?void 0:pe.responseType})}getFile(ie,se,pe){var ve;return this.request$(y.w.GET,"",{url:ie,params:se,paramsSerializer:this.serializeParams,headers:null==pe?void 0:pe.headers,responseType:null!==(ve=null==pe?void 0:pe.responseType)&&void 0!==ve?ve:"blob"})}post(ie,se,pe){return this.request$(y.w.POST,"",{url:ie,data:se,headers:null==pe?void 0:pe.headers,responseType:null==pe?void 0:pe.responseType})}put(ie,se,pe){return this.request$(y.w.PUT,"",{url:ie,data:se,headers:null==pe?void 0:pe.headers,responseType:null==pe?void 0:pe.responseType})}delete(ie,se){return this.request$(y.w.DELETE,"",{url:ie,headers:null==se?void 0:se.headers,responseType:null==se?void 0:se.responseType})}postMultipart(ie,se,pe){return this.request$(y.w.POST,"",{url:ie,data:this.prepareFormData(se),headers:null==pe?void 0:pe.headers,responseType:null==pe?void 0:pe.responseType})}putMultipart(ie,se,pe){return this.request$(y.w.PUT,"",{url:ie,data:this.prepareFormData(se),headers:null==pe?void 0:pe.headers,responseType:null==pe?void 0:pe.responseType})}generateConfig(ie,se){const pe=Object.assign(Object.assign({},se),{headers:Object.assign({},se.headers)});return ie&&(pe.headers.authorization=ie),pe}request$(ie,se,pe){let Ce=this.generateConfig(se,pe);this.axiosHttpInterceptors.forEach(de=>{Ce=de.interceptRequest(Ce)});let ye=I.request(ie,Ce);return this.axiosHttpInterceptors.forEach(de=>{ye=de.interceptResponse(ye,this)}),ye.pipe((0,r.U)(de=>new x(de.data,de.status,de.statusText,de.headers)))}prepareFormData(ie){const se=new FormData;for(const pe in ie)se.append(pe,ie[pe]);return se}serializeParams(ie){let se="";for(const pe in ie)if(se&&(se+="&"),Array.isArray(ie[pe])){const ve=[...ie[pe]];let Ce="";ve.forEach((ye,de)=>{Ce+=`${pe}=${ye}`,ve[de+1]&&(Ce+="&")}),se+=Ce}else(0,b.isNil)(ie[pe])?se+="":se+=`${pe}=${ie[pe]}`;return se}}return $.\u0275fac=function(ie){return new(ie||$)(M.LFG(w.x),M.LFG(K.B),M.LFG(k.C),M.LFG(F.S,8),M.LFG(B.m,8))},$.\u0275prov=M.Yz7({token:$,factory:$.\u0275fac}),$})()},11403:(S,g,e)=>{"use strict";e.d(g,{m:()=>f});var t=e(86263),n=e(62546),s=e(84046),i=e(14102),r=e(83063),a=e(34909),o=e(65799);let d=(()=>{class m extends n.H{constructor(E,C,T){super(C,E),this.reloadService=T}reload(){this.reloadService.execute()}getHostClasses(){return["sp-block","sp-w-full"]}}return m.\u0275fac=function(E){return new(E||m)(s.Y36(s.Qsj),s.Y36(s.SBq),s.Y36(i.f))},m.\u0275cmp=s.Xpm({type:m,selectors:[["sp-session-expired-modal"]],features:[s.qOj],decls:12,vars:9,consts:[[1,"sp-modal-header","!sp-justify-start"],["name","do-not-enter",1,"sp-mr-2"],[1,"sp-modal-title"],[1,"sp-modal-content-center"],[1,"sp-modal-footer"],["sp-button","","primary","",3,"click"]],template:function(E,C){1&E&&(s.TgZ(0,"div",0),s._UZ(1,"sp-icon",1),s.TgZ(2,"div",2),s._uU(3),s.ALo(4,"spL10nText"),s.qZA(),s.qZA(),s.TgZ(5,"div",3),s._uU(6),s.ALo(7,"spL10nText"),s.qZA(),s.TgZ(8,"div",4),s.TgZ(9,"button",5),s.NdJ("click",function(){return C.reload()}),s._uU(10),s.ALo(11,"spL10nText"),s.qZA(),s.qZA()),2&E&&(s.xp6(3),s.Oqu(s.lcZ(4,3,"SPT_SESSION_EXPIRED_MODAL_HEADER")),s.xp6(3),s.hij(" ",s.lcZ(7,5,"SPT_SESSION_EXPIRED_MODAL_CONTENT"),"\n"),s.xp6(4),s.hij(" ",s.lcZ(11,7,"SPT_SESSION_EXPIRED_MODAL_BUTTON")," "))},directives:[r.o,a.r],pipes:[o.L],encapsulation:2,changeDetection:0}),m})();var h=e(21693),p=e(23854);let f=(()=>{class m{constructor(E){this.modalWindowService=E}resolveShowSessionExpiredModal(){this.modalWindowService&&this.modalWindowService.open(new t.g.Builder(d).withSize(p.e.M).build())}}return m.\u0275fac=function(E){return new(E||m)(s.LFG(h.b,8))},m.\u0275prov=s.Yz7({token:m,factory:m.\u0275fac}),m})()},76312:(S,g,e)=>{"use strict";e.d(g,{g:()=>t});class t{interceptRequest(s){return s}}},87983:(S,g,e)=>{"use strict";e.d(g,{S:()=>n});const n=new(e(84046).OlP)("AXIOS_INTERCEPTORS_TOKEN")},93723:(S,g,e)=>{"use strict";e.d(g,{I:()=>r});var t=e(83155),n=e(84046),s=e(11531),i=e(83950);let r=(()=>{class a extends t.a{constructor(d,h){super(d),this.environmentService=h}getStatus(d){return this.get(d)}getRestUrl(d){return`${this.environmentService.getRestBaseUrl()}job/status/${d}`}}return a.\u0275fac=function(d){return new(d||a)(n.LFG(s.O),n.LFG(i.L))},a.\u0275prov=n.Yz7({token:a,factory:a.\u0275fac}),a})()},90578:(S,g,e)=>{"use strict";e.d(g,{m:()=>n});var t=e(85703);class n{constructor(i,r){this.type=i,this.requestedCommandId=r,this.commandId=(0,t.Hu)()}getId(){return this.commandId}getData(){return this.data}getType(){return this.type}setData(i){this.data=i}equals(i){return this.commandId===i.commandId}equalsByType(i){return i===this.getType()}isRequestedBy(i){return!!this.requestedCommandId&&this.requestedCommandId===i.getId()}}},22521:(S,g,e)=>{"use strict";e.d(g,{F:()=>d});var t=e(94713),n=e(53339),s=e(69989),i=e(70822),r=e(63833),a=e(98274),o=e(90578);class d{waitForCommands(p){const f=[];return p.forEach(m=>{f.push(this.waitForResponseCommand(m))}),(0,t.$R)(...f)}waitForCommandByType(p){return this.getCommandsStream().pipe((0,i.h)(f=>f.equalsByType(p)),(0,r.q)(1))}selectForCommandByType(p){return this.getCommandsStream().pipe((0,i.h)(f=>f.equalsByType(p)))}waitForCommand(p){return this.getCommandsStream().pipe((0,i.h)(f=>f.equals(p)),(0,r.q)(1))}waitForResponseCommand(p){return this.getCommandsStream().pipe((0,i.h)(f=>f instanceof o.m&&f.isRequestedBy(p)),(0,a.w)(f=>f.isSuccessful()?(0,n.of)(f):(0,s._)(f)),(0,r.q)(1))}}},28909:(S,g,e)=>{"use strict";e.d(g,{U:()=>t});class t{}},12861:(S,g,e)=>{"use strict";e.d(g,{h:()=>n});var t=e(90578);class n extends t.m{constructor(i,r){super(i,r)}isSuccessful(){return!1}}},76094:(S,g,e)=>{"use strict";e.d(g,{F:()=>n});var t=e(90578);class n extends t.m{constructor(i,r){super(i,r)}isSuccessful(){return!0}}},404:(S,g,e)=>{"use strict";function t(n){return s=>s.map(n)}e.d(g,{$:()=>t})},91078:(S,g,e)=>{"use strict";e.d(g,{B:()=>E});var t=e(32731),n=e(90850),s=e(53488);class i extends n.xQ{constructor(){super(...arguments),this.value=null,this.hasNext=!1,this.hasCompleted=!1}_subscribe(T){return this.hasError?(T.error(this.thrownError),s.w.EMPTY):this.hasCompleted&&this.hasNext?(T.next(this.value),T.complete(),s.w.EMPTY):super._subscribe(T)}next(T){this.hasCompleted||(this.value=T,this.hasNext=!0)}error(T){this.hasCompleted||super.error(T)}complete(){this.hasCompleted=!0,this.hasNext&&super.next(this.value),super.complete()}}var r=e(71726),a=e(23564),o=e(18533),d=e(44711);function h(C,T,y){if(T){if(!(0,d.K)(T))return(...I)=>h(C,y)(...I).pipe((0,r.U)(P=>(0,o.k)(P)?T(...P):T(P)));y=T}return function(...I){const P=this;let L;const F={context:P,subject:L,callbackFunc:C,scheduler:y};return new t.y(b=>{if(y)return y.schedule(p,0,{args:I,subscriber:b,params:F});if(!L){L=new i;const x=(...B)=>{L.next(B.length<=1?B[0]:B),L.complete()};try{C.apply(P,[...I,x])}catch(B){(0,a._)(L)?L.error(B):console.warn(B)}}return L.subscribe(b)})}}function p(C){const{args:y,subscriber:I,params:P}=C,{callbackFunc:L,context:F,scheduler:b}=P;let{subject:x}=P;if(!x){x=P.subject=new i;const B=(...M)=>{this.add(b.schedule(f,0,{value:M.length<=1?M[0]:M,subject:x}))};try{L.apply(F,[...y,B])}catch(M){x.error(M)}}this.add(x.subscribe(I))}function f(C){const{value:T,subject:y}=C;y.next(T),y.complete()}var v=e(35811);function E(C){return T=>T.pipe((0,v.R)(h(C.onDestroy).call(C)))}},6103:(S,g,e)=>{"use strict";e.d(g,{$:()=>i});var t=e(9933),n=e(79366),s=e(84046);let i=(()=>{class r{}return r.\u0275fac=function(o){return new(o||r)},r.\u0275mod=s.oAB({type:r}),r.\u0275inj=s.cJS({providers:[t.m,n.v]}),r})()},79366:(S,g,e)=>{"use strict";e.d(g,{v:()=>i});var t=e(9933),n=e(84046),s=e(83950);let i=(()=>{class r{constructor(o,d){this.localStorage=o,this.environmentService=d}setItem(o,d){this.localStorage.setItem(this.getFinalKey(o),d)}setObject(o,d){this.localStorage.setObject(this.getFinalKey(o),d)}getItem(o){return this.localStorage.getItem(this.getFinalKey(o))}getItemConvertedToBoolean(o){return this.localStorage.convertStringToBoolean(this.getItem(o))}getObject(o){return this.localStorage.getObject(this.getFinalKey(o))}removeItem(o){this.localStorage.remove(this.getFinalKey(o))}hasItem(o){return this.localStorage.hasItem(this.getFinalKey(o))}getFinalKey(o){return`${this.environmentService.getLoggedInUser().userKey}-${o}`}}return r.\u0275fac=function(o){return new(o||r)(n.LFG(t.m),n.LFG(s.L))},r.\u0275prov=n.Yz7({token:r,factory:r.\u0275fac}),r})()},86562:(S,g,e)=>{"use strict";e.d(g,{x:()=>a});var t=e(59548),n=e(17314),s=e(84046);let i=(()=>{class o{constructor(h){this.window=h,void 0===h.spFallbackSessionStorage&&(h.spFallbackSessionStorage={})}clear(){window.spFallbackSessionStorage={}}getItem(h){return h in window.spFallbackSessionStorage?window.spFallbackSessionStorage[h]:null}key(h){return Object.keys(window.spFallbackSessionStorage)[h]||null}removeItem(h){delete window.spFallbackSessionStorage[h]}setItem(h,p){window.spFallbackSessionStorage[h]=p||""}}return o.\u0275fac=function(h){return new(h||o)(s.LFG(n.m))},o.\u0275prov=s.Yz7({token:o,factory:o.\u0275fac}),o})(),a=(()=>{class o extends t.x{constructor(){super(function(){let o;try{o=window.localStorage}catch(d){o=new i(window),console.warn("Session storage is not supported, using FallbackSessionStorage instead")}return o}())}getErrorMessage(){return"Session storage is not supported"}}return o.\u0275fac=function(h){return new(h||o)},o.\u0275prov=s.Yz7({token:o,factory:o.\u0275fac}),o})()},62475:(S,g,e)=>{"use strict";e.d(g,{o:()=>i});var t=e(55331),n=e(86562),s=e(84046);let i=(()=>{class r{}return r.\u0275fac=function(o){return new(o||r)},r.\u0275mod=s.oAB({type:r}),r.\u0275inj=s.cJS({providers:[n.x],imports:[[t.ez]]}),r})()},25082:(S,g,e)=>{"use strict";e.d(g,{n:()=>s});var t=e(84046),n=e(3944);let s=(()=>{class i{constructor(a){this.sanitizer=a}transform(a,o){switch(o){case"html":return this.sanitizer.bypassSecurityTrustHtml(a);case"style":return this.sanitizer.bypassSecurityTrustStyle(a);case"script":return this.sanitizer.bypassSecurityTrustScript(a);case"url":return this.sanitizer.bypassSecurityTrustUrl(a);case"resourceUrl":return this.sanitizer.bypassSecurityTrustResourceUrl(a);default:throw new Error(`Unable to bypass security for invalid type: ${o}`)}}}return i.\u0275fac=function(a){return new(a||i)(t.Y36(n.H7,16))},i.\u0275pipe=t.Yjl({name:"spSanitize",type:i,pure:!0}),i})()},1030:(S,g,e)=>{"use strict";e.d(g,{l:()=>i});var t=e(55331),n=e(25082),s=e(84046);let i=(()=>{class r{}return r.\u0275fac=function(o){return new(o||r)},r.\u0275mod=s.oAB({type:r}),r.\u0275inj=s.cJS({providers:[n.n],imports:[[t.ez]]}),r})()},53623:(S,g,e)=>{"use strict";e.d(g,{W:()=>n});var t=e(84046);let n=(()=>{class s{transform(r,a=25,o="..."){if(0===a)return r;const d=r.substr(0,a)+o;return r.length>a?d:r}}return s.\u0275fac=function(r){return new(r||s)},s.\u0275pipe=t.Yjl({name:"truncate",type:s,pure:!0}),s})()},73275:(S,g,e)=>{"use strict";e.d(g,{k:()=>s});var t=e(55331),n=e(84046);let s=(()=>{class i{}return i.\u0275fac=function(a){return new(a||i)},i.\u0275mod=n.oAB({type:i}),i.\u0275inj=n.cJS({imports:[[t.ez]]}),i})()},17199:(S,g,e)=>{"use strict";e.d(g,{o:()=>f});var t=e(95900),n=e(84046),s=e(46210),i=e(10845),r=e(25115),a=e(98019),o=e(70962),d=e(86869),h=e(4722),p=e(18073);let f=(()=>{class m{constructor(E,C,T,y,I,P,L,F){this.positionGravityNorthCalculator=E,this.positionGravityNorthEastCalculator=C,this.positionGravityEastCalculator=T,this.positionGravitySouthEastCalculator=y,this.positionGravitySouthCalculator=I,this.positionGravitySouthWestCalculator=P,this.positionGravityWestCalculator=L,this.positionGravityNorthWestCalculator=F}calculateNewElementsPosition(E){const C={anchor:E.linkedElements.anchor.getBoundingClientRect(),element:E.linkedElements.element.getBoundingClientRect()},T={linkedElementRects:C,margin:E.margin};switch(E.gravity){case t.X.NORTH:return this.positionGravityNorthCalculator.calculate(T,C,E);case t.X.NORTH_EAST:return this.positionGravityNorthEastCalculator.calculate(T,C,E);case t.X.EAST:return this.positionGravityEastCalculator.calculate(T,C,E);case t.X.SOUTH_EAST:return this.positionGravitySouthEastCalculator.calculate(T,C,E);case t.X.SOUTH:return this.positionGravitySouthCalculator.calculate(T,C,E);case t.X.SOUTH_WEST:return this.positionGravitySouthWestCalculator.calculate(T,C,E);case t.X.WEST:return this.positionGravityWestCalculator.calculate(T,C,E);case t.X.NORTH_WEST:return this.positionGravityNorthWestCalculator.calculate(T,C,E);default:return this.getDefaultPosition(E)}}getDefaultPosition(E){return{top:0,left:0,gravity:E.gravity}}}return m.\u0275fac=function(E){return new(E||m)(n.LFG(s.t),n.LFG(i.g),n.LFG(r.I),n.LFG(a.s),n.LFG(o.$),n.LFG(d.Z),n.LFG(h.O),n.LFG(p.I))},m.\u0275prov=n.Yz7({token:m,factory:m.\u0275fac}),m})()},4252:(S,g,e)=>{"use strict";e.d(g,{R:()=>C});var t=e(17199),n=e(78136),s=e(91698),i=e(34878),r=e(46709),a=e(46210),o=e(10845),d=e(25115),h=e(98019),p=e(70962),f=e(86869),m=e(4722),v=e(18073),E=e(84046);let C=(()=>{class T{static forRoot(){return{ngModule:T,providers:[t.o,i.g,a.t,o.g,d.I,h.s,p.$,f.Z,m.O,v.I,r.J,n.S,s.P]}}}return T.\u0275fac=function(I){return new(I||T)},T.\u0275mod=E.oAB({type:T}),T.\u0275inj=E.cJS({}),T})()},52265:(S,g,e)=>{"use strict";e.d(g,{i:()=>s});var t=e(95900),n=e(64026);class s{constructor(){}static default(){return(new s).withGravity(t.X.NORTH).withAlignment(n.e.MIDDLE).withMargin(0)}withLinkedElements(r){return this.linkedElements=r,this}withGravity(r){return this.gravity=r,this}withAlignment(r){return this.alignment=r,this}withMargin(r){return this.margin=r,this}}},34878:(S,g,e)=>{"use strict";e.d(g,{g:()=>n});var t=e(84046);let n=(()=>{class s{calculatePositionAboveAnchor(r,a){return{top:r.anchor.top+window.pageYOffset-r.element.height-a}}calculatePositionBelowAnchor(r,a){return{top:r.anchor.bottom+window.pageYOffset+a}}calculatePositionRightFromAnchor(r,a){return{left:r.anchor.left+r.anchor.width+window.pageXOffset+a}}calculatePositionLeftFromAnchor(r,a){return{left:r.anchor.left-r.element.width+window.pageXOffset-a}}}return s.\u0275fac=function(r){return new(r||s)},s.\u0275prov=t.Yz7({token:s,factory:s.\u0275fac}),s})()},91698:(S,g,e)=>{"use strict";e.d(g,{P:()=>n});var t=e(84046);let n=(()=>{class s{alignTop(r){return{top:r.anchor.top+window.pageYOffset}}alignRight(r){return{left:r.anchor.right-r.element.width+window.pageXOffset}}alignBottom(r){return{top:r.anchor.bottom+window.pageYOffset-r.element.height}}alignLeft(r){return{left:r.anchor.left+window.pageXOffset}}alignVerticalMiddle(r){const a=this.getHalfHeightOfTheElem(r.anchor),o=this.getHalfHeightOfTheElem(r.element);let d=r.anchor.top+a-o;d<0&&(d=0);const h=this.getDocumentHeight();return d+r.element.height>h&&(d=h-r.element.height),{top:d+window.pageYOffset}}alignHorizontalMiddle(r){const a=this.getHalfWidthOfTheElem(r.anchor),o=this.getHalfWidthOfTheElem(r.element);let d=r.anchor.left+a-o;d<0&&(d=0);const h=this.getDocumentWidth();return d+r.element.width>h&&(d=h-r.element.width),{left:d+window.pageXOffset}}getDocumentWidth(){return document.documentElement.clientWidth||document.body.clientWidth}getDocumentHeight(){return document.documentElement.clientHeight||document.body.clientHeight}getHalfWidthOfTheElem(r){return r.width/2}getHalfHeightOfTheElem(r){return r.height/2}}return s.\u0275fac=function(r){return new(r||s)},s.\u0275prov=t.Yz7({token:s,factory:s.\u0275fac}),s})()},46709:(S,g,e)=>{"use strict";e.d(g,{J:()=>r});var t=e(64026),n=e(84046),s=e(78136),i=e(91698);let r=(()=>{class a{constructor(d,h){this.elementFitChecker=d,this.elementAligner=h}alignVerticallyRelativeToAnchor(d,h,p){const f={linkedElementRects:d,margin:h};switch(p){case t.e.TOP:return this.shouldBeAlignedTop(f)?this.elementAligner.alignTop(d):this.elementAligner.alignBottom(d);case t.e.BOTTOM:return this.shouldBeAlignedToBottom(f)?this.elementAligner.alignBottom(d):this.elementAligner.alignTop(d);case t.e.MIDDLE:return this.elementAligner.alignVerticalMiddle(d);default:throw new Error("Alignment not supported")}}alignHorizontallyRelativeToAnchor(d,h,p){const f={linkedElementRects:d,margin:h};switch(p){case t.e.LEFT:return this.shouldBeAlignedToLeft(f)?this.elementAligner.alignLeft(d):this.elementAligner.alignRight(d);case t.e.RIGHT:return this.shouldBeAlignedToRight(f)?this.elementAligner.alignRight(d):this.elementAligner.alignLeft(d);case t.e.MIDDLE:return this.elementAligner.alignHorizontalMiddle(d);default:throw new Error("Alignment not supported")}}shouldBeAlignedTop(d){const h=this.elementFitChecker.checkBottomFit(d),p=this.elementFitChecker.checkTopFit(d);return h||!h&&!p}shouldBeAlignedToBottom(d){const h=this.elementFitChecker.checkBottomFit(d),p=this.elementFitChecker.checkTopFit(d);return p||!h&&!p}shouldBeAlignedToLeft(d){const h=this.elementFitChecker.checkLeftFit(d),p=this.elementFitChecker.checkRightFit(d,!1);return p||!h&&!p}shouldBeAlignedToRight(d){const h=this.elementFitChecker.checkLeftFit(d),p=this.elementFitChecker.checkRightFit(d,!0);return h||!h&&!p}}return a.\u0275fac=function(d){return new(d||a)(n.LFG(s.S),n.LFG(i.P))},a.\u0275prov=n.Yz7({token:a,factory:a.\u0275fac}),a})()},64026:(S,g,e)=>{"use strict";e.d(g,{e:()=>t});var t=(()=>{return(n=t||(t={}))[n.TOP=0]="TOP",n[n.RIGHT=1]="RIGHT",n[n.BOTTOM=2]="BOTTOM",n[n.LEFT=3]="LEFT",n[n.MIDDLE=4]="MIDDLE",t;var n})()},78136:(S,g,e)=>{"use strict";e.d(g,{S:()=>n});var t=e(84046);let n=(()=>{class s{checkTopFit(r){return r.linkedElementRects.anchor.top-r.margin-r.linkedElementRects.element.height>=0}checkBottomFit(r){return r.linkedElementRects.anchor.bottom+r.linkedElementRects.element.height+r.margin<=window.innerHeight}checkLeftFit(r){return r.linkedElementRects.anchor.left-r.margin-r.linkedElementRects.element.width>=0}checkRightFit(r,a){let o=r.linkedElementRects.anchor.left+r.margin+r.linkedElementRects.element.width;return a&&(o+=r.linkedElementRects.anchor.width),o<=window.innerWidth}}return s.\u0275fac=function(r){return new(r||s)},s.\u0275prov=t.Yz7({token:s,factory:s.\u0275fac}),s})()},25115:(S,g,e)=>{"use strict";e.d(g,{I:()=>a});var t=e(95900),n=e(84046),s=e(78136),i=e(46709),r=e(34878);let a=(()=>{class o{constructor(h,p,f){this.elementFitChecker=h,this.elementAlignerRelativeToAnchor=p,this.positionRelativeToAnchorCalculator=f}calculate(h,p,f){const m=this.elementFitChecker.checkRightFit(h,!0),v=this.elementFitChecker.checkLeftFit(h),E=this.elementAlignerRelativeToAnchor.alignVerticallyRelativeToAnchor(p,f.margin,f.alignment).top;let C,T;return!m&&v?(T=t.X.WEST,C=this.positionRelativeToAnchorCalculator.calculatePositionLeftFromAnchor(p,f.margin).left):(T=t.X.EAST,C=this.positionRelativeToAnchorCalculator.calculatePositionRightFromAnchor(p,f.margin).left),{top:E,left:C,gravity:T}}}return o.\u0275fac=function(h){return new(h||o)(n.LFG(s.S),n.LFG(i.J),n.LFG(r.g))},o.\u0275prov=n.Yz7({token:o,factory:o.\u0275fac}),o})()},46210:(S,g,e)=>{"use strict";e.d(g,{t:()=>a});var t=e(95900),n=e(84046),s=e(78136),i=e(46709),r=e(34878);let a=(()=>{class o{constructor(h,p,f){this.elementFitChecker=h,this.elementAlignerRelativeToAnchor=p,this.positionRelativeToAnchorCalculator=f}calculate(h,p,f){const m=this.elementFitChecker.checkTopFit(h),v=this.elementFitChecker.checkBottomFit(h),E=this.elementAlignerRelativeToAnchor.alignHorizontallyRelativeToAnchor(p,f.margin,f.alignment).left;let C,T;return!m&&v?(T=t.X.SOUTH,C=this.positionRelativeToAnchorCalculator.calculatePositionBelowAnchor(p,f.margin).top):(T=t.X.NORTH,C=this.positionRelativeToAnchorCalculator.calculatePositionAboveAnchor(p,f.margin).top),{top:C,left:E,gravity:T}}}return o.\u0275fac=function(h){return new(h||o)(n.LFG(s.S),n.LFG(i.J),n.LFG(r.g))},o.\u0275prov=n.Yz7({token:o,factory:o.\u0275fac}),o})()},10845:(S,g,e)=>{"use strict";e.d(g,{g:()=>r});var t=e(95900),n=e(84046),s=e(78136),i=e(34878);let r=(()=>{class a{constructor(d,h){this.elementFitChecker=d,this.positionRelativeToAnchorCalculator=h}calculate(d,h,p){const f=this.elementFitChecker.checkTopFit(d),m=this.elementFitChecker.checkRightFit(d,!0);let v,E,C;return v=f?this.positionRelativeToAnchorCalculator.calculatePositionAboveAnchor(h,p.margin).top:this.positionRelativeToAnchorCalculator.calculatePositionBelowAnchor(h,p.margin).top,E=m?this.positionRelativeToAnchorCalculator.calculatePositionRightFromAnchor(h,p.margin).left:this.positionRelativeToAnchorCalculator.calculatePositionLeftFromAnchor(h,p.margin).left,C=f&&m?t.X.NORTH_EAST:f&&!m?t.X.NORTH_WEST:!f&&m?t.X.SOUTH_WEST:t.X.SOUTH_EAST,{top:v,left:E,gravity:C}}}return a.\u0275fac=function(d){return new(d||a)(n.LFG(s.S),n.LFG(i.g))},a.\u0275prov=n.Yz7({token:a,factory:a.\u0275fac}),a})()},18073:(S,g,e)=>{"use strict";e.d(g,{I:()=>r});var t=e(95900),n=e(84046),s=e(78136),i=e(34878);let r=(()=>{class a{constructor(d,h){this.elementFitChecker=d,this.positionRelativeToAnchorCalculator=h}calculate(d,h,p){const f=this.elementFitChecker.checkTopFit(d),m=this.elementFitChecker.checkLeftFit(d);let v,E,C;return v=f?this.positionRelativeToAnchorCalculator.calculatePositionAboveAnchor(h,p.margin).top:this.positionRelativeToAnchorCalculator.calculatePositionBelowAnchor(h,p.margin).top,E=m?this.positionRelativeToAnchorCalculator.calculatePositionLeftFromAnchor(h,p.margin).left:this.positionRelativeToAnchorCalculator.calculatePositionRightFromAnchor(h,p.margin).left,C=f&&m?t.X.NORTH_WEST:f&&!m?t.X.NORTH_EAST:!f&&m?t.X.SOUTH_WEST:t.X.SOUTH_EAST,{top:v,left:E,gravity:C}}}return a.\u0275fac=function(d){return new(d||a)(n.LFG(s.S),n.LFG(i.g))},a.\u0275prov=n.Yz7({token:a,factory:a.\u0275fac}),a})()},70962:(S,g,e)=>{"use strict";e.d(g,{$:()=>a});var t=e(95900),n=e(84046),s=e(78136),i=e(46709),r=e(34878);let a=(()=>{class o{constructor(h,p,f){this.elementFitChecker=h,this.elementAlignerRelativeToAnchor=p,this.positionRelativeToAnchorCalculator=f}calculate(h,p,f){const m=this.elementFitChecker.checkBottomFit(h),v=this.elementFitChecker.checkTopFit(h),E=this.elementAlignerRelativeToAnchor.alignHorizontallyRelativeToAnchor(p,f.margin,f.alignment).left;let C,T;return!m&&v?(T=t.X.NORTH,C=this.positionRelativeToAnchorCalculator.calculatePositionAboveAnchor(p,f.margin).top):(T=t.X.SOUTH,C=this.positionRelativeToAnchorCalculator.calculatePositionBelowAnchor(p,f.margin).top),{top:C,left:E,gravity:T}}}return o.\u0275fac=function(h){return new(h||o)(n.LFG(s.S),n.LFG(i.J),n.LFG(r.g))},o.\u0275prov=n.Yz7({token:o,factory:o.\u0275fac}),o})()},98019:(S,g,e)=>{"use strict";e.d(g,{s:()=>r});var t=e(95900),n=e(84046),s=e(78136),i=e(34878);let r=(()=>{class a{constructor(d,h){this.elementFitChecker=d,this.positionRelativeToAnchorCalculator=h}calculate(d,h,p){const f=this.elementFitChecker.checkBottomFit(d),m=this.elementFitChecker.checkRightFit(d,!0);let v,E,C;return v=f?this.positionRelativeToAnchorCalculator.calculatePositionBelowAnchor(h,p.margin).top:this.positionRelativeToAnchorCalculator.calculatePositionAboveAnchor(h,p.margin).top,E=m?this.positionRelativeToAnchorCalculator.calculatePositionRightFromAnchor(h,p.margin).left:this.positionRelativeToAnchorCalculator.calculatePositionLeftFromAnchor(h,p.margin).left,C=f&&m?t.X.SOUTH_EAST:f&&!m?t.X.SOUTH_WEST:!f&&m?t.X.NORTH_EAST:t.X.NORTH_WEST,{top:v,left:E,gravity:C}}}return a.\u0275fac=function(d){return new(d||a)(n.LFG(s.S),n.LFG(i.g))},a.\u0275prov=n.Yz7({token:a,factory:a.\u0275fac}),a})()},86869:(S,g,e)=>{"use strict";e.d(g,{Z:()=>r});var t=e(95900),n=e(84046),s=e(78136),i=e(34878);let r=(()=>{class a{constructor(d,h){this.elementFitChecker=d,this.positionRelativeToAnchorCalculator=h}calculate(d,h,p){const f=this.elementFitChecker.checkBottomFit(d),m=this.elementFitChecker.checkLeftFit(d);let v,E,C;return v=f?this.positionRelativeToAnchorCalculator.calculatePositionBelowAnchor(h,p.margin).top:this.positionRelativeToAnchorCalculator.calculatePositionAboveAnchor(h,p.margin).top,E=m?this.positionRelativeToAnchorCalculator.calculatePositionLeftFromAnchor(h,p.margin).left:this.positionRelativeToAnchorCalculator.calculatePositionRightFromAnchor(h,p.margin).left,C=f&&m?t.X.SOUTH_WEST:f&&!m?t.X.SOUTH_EAST:!f&&m?t.X.NORTH_WEST:t.X.NORTH_EAST,{top:v,left:E,gravity:C}}}return a.\u0275fac=function(d){return new(d||a)(n.LFG(s.S),n.LFG(i.g))},a.\u0275prov=n.Yz7({token:a,factory:a.\u0275fac}),a})()},4722:(S,g,e)=>{"use strict";e.d(g,{O:()=>a});var t=e(95900),n=e(84046),s=e(78136),i=e(46709),r=e(34878);let a=(()=>{class o{constructor(h,p,f){this.elementFitChecker=h,this.elementAlignerRelativeToAnchor=p,this.positionRelativeToAnchorCalculator=f}calculate(h,p,f){const m=this.elementFitChecker.checkLeftFit(h),v=this.elementFitChecker.checkRightFit(h,!0),E=this.elementAlignerRelativeToAnchor.alignVerticallyRelativeToAnchor(p,f.margin,f.alignment).top;let C,T;return!m&&v?(T=t.X.EAST,C=this.positionRelativeToAnchorCalculator.calculatePositionRightFromAnchor(p,f.margin).left):(T=t.X.WEST,C=this.positionRelativeToAnchorCalculator.calculatePositionLeftFromAnchor(p,f.margin).left),{top:E,left:C,gravity:T}}}return o.\u0275fac=function(h){return new(h||o)(n.LFG(s.S),n.LFG(i.J),n.LFG(r.g))},o.\u0275prov=n.Yz7({token:o,factory:o.\u0275fac}),o})()},35741:(S,g,e)=>{"use strict";e.d(g,{X:()=>d});var t=e(49549),n=e(90850),s=e(70822),i=e(71726),r=e(18709);class a{constructor(f,m,v){this.transportType=f,this.negotiationSuccess=m,this.negotiationTime=v}}var o=(()=>{return(p=o||(o={})).META_CONNECT_CHANNEL="/meta/connect",p.META_HANDSHAKE_CHANNEL="/meta/handshake",p.SERVICE_SYSTEM_MESSAGE="/service/system/message",p.SERVICE_SYSTEM_SUBSCRIBE="/service/system/subscribe",p.SERVICE_SYSTEM_UNSUBSCRIBE="/service/system/unsubscribe",o;var p})();class d{constructor(f,m){this.environmentService=f,this.statisticsResource=m,this.connected=!1,this.enabled=!1,this.systemMessages$=null,this.operationsQueue=new Array}init(){this.enabled=this.environmentService.isActiveUsersLiveSyncEnabled()||this.environmentService.isBoardLiveSyncGloballyEnabled()||this.environmentService.isMarkerLiveSyncEnabled(),this.enabled&&(this.initAdditionalData(),this.initConfiguration(),this.initStatistics())}subscribeContext(f){return this.assertIsEnabled(),this.publishJoinMessage(f),this.getPushMessageSubject().pipe((0,s.h)(m=>m.data.context.toString()===f.toString()),(0,i.U)(m=>({data:{payload:JSON.parse(m.data.eventData)}})))}unsubscribeContext(f){this.assertIsEnabled(),this.connected&&this.bayeuxClient().publish(o.SERVICE_SYSTEM_UNSUBSCRIBE,{context:f.toString()})}disconnect(){this.assertIsEnabled(),this.bayeuxClient().disconnect(()=>{})}sendStatisticsAfterDelay(f){return this.assertIsEnabled(),(0,t.H)(f).pipe((0,i.U)(()=>this.getStatisticsDTO()),(0,r.VS)(m=>this.statisticsResource.postStatistics(m)))}getStatisticsDTO(){return this.statistics.toDTO()}configureTransports(){}connectionClosed(){}connectionEstablished(){this.bayeuxClient().batch(()=>{this.flushOperationsQueue()})}connectionBroken(){}initConfiguration(){this.configuration={url:this.environmentService.getPushServerUrl(),logLevel:"info"}}initAdditionalData(){this.additionalData={sessionToken:this.environmentService.getSessionToken()}}initStatistics(){this.statistics=new h}assertIsEnabled(){if(!this.enabled)throw new Error("Push notifications are not enabled")}metaConnect(f){if(this.bayeuxClient().isDisconnected())return this.connected=!1,void this.connectionClosed();const m=this.connected;this.connected=!0===f.successful,!m&&this.connected?this.connectionEstablished():m&&!this.connected&&this.connectionBroken()}metaHandshake(f){if(f.successful){const m=this.bayeuxClient().getTransport().getType();this.statistics.collectTransportType(m),this.statistics.collectNegotiationSuccess(!0),this.statistics.negotiationTimerStop(),this.bayeuxClient().batch(()=>{this.bayeuxClient().subscribe(o.SERVICE_SYSTEM_MESSAGE,v=>this.systemMessageReceived(v),this.additionalData)})}else this.statistics.collectNegotiationSuccess(!1)}systemMessageReceived(f){this.systemMessages$.next({data:f.data})}getPushMessageSubject(){return null===this.systemMessages$&&(this.systemMessages$=new n.xQ,this.initInternalClient()),this.systemMessages$}initInternalClient(){this.bayeuxClient().configure(this.configuration),this.configureTransports(),this.bayeuxClient().addListener(o.META_CONNECT_CHANNEL,f=>this.metaConnect(f)),this.bayeuxClient().addListener(o.META_HANDSHAKE_CHANNEL,f=>this.metaHandshake(f)),this.statistics.negotiationTimerStart(),this.bayeuxClient().handshake(this.additionalData)}enqueueOperation(f){this.connected?f():this.operationsQueue.push(f)}flushOperationsQueue(){for(;this.operationsQueue.length>0;)this.operationsQueue.shift()()}publishJoinMessage(f){this.enqueueOperation(()=>{this.bayeuxClient().publish(o.SERVICE_SYSTEM_SUBSCRIBE,{context:f.toString()})})}}class h{collectNegotiationSuccess(f){this.negotiationSuccess=f}collectTransportType(f){this.transport=f}negotiationTimerStart(){this.negotiationTimeStart=performance.now()}negotiationTimerStop(){this.negotiationTimeStop=performance.now(),this.negotiationTime=this.negotiationTimeStop-this.negotiationTimeStart}toDTO(){return new a(this.transport,this.negotiationSuccess,this.negotiationTime)}}},37865:(S,g,e)=>{"use strict";e.d(g,{E:()=>n});class n{}},81410:(S,g,e)=>{"use strict";e.d(g,{F:()=>r});var t=e(83155),n=e(84046),s=e(11531),i=e(83950);let r=(()=>{class a extends t.a{constructor(d,h){super(d),this.environmentService=h}postStatistics(d){return this.post("system/pushServer/metrics",d)}getRestUrl(d){return this.environmentService.getRestBaseUrl()+d}}return a.\u0275fac=function(d){return new(d||a)(n.LFG(s.O),n.LFG(i.L))},a.\u0275prov=n.Yz7({token:a,factory:a.\u0275fac}),a})()},31689:(S,g,e)=>{"use strict";e.d(g,{J:()=>t});let t=(()=>{class n{constructor(i,r){this.attributes=i,this.serialized=r}static parse(i){if(null===i||0===i.length)throw new Error("PushContext cannot be empty");const r={};return i.split("/").map(a=>a.split(":")).forEach(a=>{r[a[0]]=a[1]}),new n(r,i)}static forFeature(i){return n.createWith(n.FEATURE_FIELD,i)}static createWith(i,r){const a={};return a[i]=r,new n(a,`${i}:${r}`)}with(i,r){const a=Object.assign({},this.attributes);return a[i]=r,new n(a,this.serialized+`/${i}:${r}`)}attribute(i){return this.attributes[i]}getFeature(){return this.attributes[n.FEATURE_FIELD]||""}isEqualTo(i){return this.serialized===i.serialized}toString(){return this.serialized}}return n.FEATURE_FIELD="feature",n})()},89787:(S,g,e)=>{"use strict";e.d(g,{w:()=>t});class t{constructor(s){Object.assign(this,s)}}},2520:(S,g,e)=>{"use strict";e.d(g,{r:()=>i});var t=e(85498),n=e(25642),s=e(84046);let i=(()=>{class r{static forRoot(o){return{ngModule:r,providers:[n.y,{provide:t.D,useClass:o}]}}}return r.\u0275fac=function(o){return new(o||r)},r.\u0275mod=s.oAB({type:r}),r.\u0275inj=s.cJS({}),r})()},6834:(S,g,e)=>{"use strict";e.d(g,{o:()=>t});class t{}},85498:(S,g,e)=>{"use strict";e.d(g,{D:()=>h});var t=e(85105),n=(()=>{return(p=n||(n={})).SEPARATOR="/",p.SEARCH="?",n;var p})();class s{constructor(f){this.stringPattern=f,this.pathParamsKeys=this.getPathParamsKeysFromString(f)}getStringPattern(){return this.stringPattern}getPathParamsKeys(){return this.pathParamsKeys}convertToPath(f){return this.stringPattern.split(n.SEPARATOR).map(m=>this.convertToSegment(m,f)).join(n.SEPARATOR)}convertToSegment(f,m){if(f.match(/{\S+}/)){const v=f.replace(/{|}/g,""),E=m.find(C=>C.getName()===v).getValue();if(!E)throw new Error("Cannot find path parameter with name "+v+".");return E}return f}getPathParamsKeysFromString(f){const m=this.trimPrecedingSeparator(f).split(n.SEPARATOR).filter(v=>v.match(/{\S+}/)).map(v=>v.replace(/{|}/g,""));if(this.hasPathParamsKeysDuplicates(m))throw new Error("Path parameters keys cannot be duplicated.");return m}hasPathParamsKeysDuplicates(f){const m=Array.from(new Set(f));return f.length!==m.length}trimPrecedingSeparator(f){return f.charAt(0)===n.SEPARATOR?f.substr(1):f}}class i{constructor(f,m){this.name=f,this.value=m}getName(){return this.name}getValue(){return this.value}toString(){return this.name+"="+this.value}}class r{constructor(f,m){this.name=f,this.value=m}getName(){return this.name}getValue(){return this.value}toString(){return this.name+"="+this.value}}class o{constructor(f){this.value=f.split(",")}isMultivalue(){return this.value.length>1}getValue(){return this.value.toString()}getValues(){return this.value}toString(){return this.value.toString()}}let d=(()=>{class p{constructor(m){this.pathContextString=this.normalizePath(m),this.path=this.normalizePath(m.split(n.SEARCH)[0]),this.queryParams=p.getQueryParamsFromPath(m)}static getQueryParamsFromPath(m){const v=m.split(n.SEARCH),E=v.length>1?v[1]:"";return E&&E.length?E.split("&").map(C=>{const T=C.split("="),y=T[0],I=new o(T[1]);return new r(y,I)}):[]}getQueryParams(){return this.queryParams}getQueryParamsKeys(){return this.queryParams.map(m=>m.getName())}getQueryParamValueByKey(m){const v=this.queryParams.find(E=>E.getName()===m);if(!v)throw new Error("No query parameter with key "+m+" was found.");return v.getValue().toString()}getPath(){return this.path}toString(){return this.pathContextString}normalizePath(m){return m.startsWith(n.SEPARATOR)?m:n.SEPARATOR+m}}return p.Builder=class extends t.I{constructor(){super(),this.path="",this.pathParams=[],this.queryParams=[]}build(){return new p(this.buildPathContextString())}withPath(m,v){if(this.pathContainsQueryParameters(m))throw new Error("Query parameters are prohibited in path.");return this.path=m,v&&this.withPathPattern(v),this}withPathParam(m,v){return this.validateParameter(m,v,"Path parameter"),this.pathParamKeyExists(m)?this.pathParams.map(E=>E.getName()===m?new i(E.getName(),v):E):this.pathParams.push(new i(m,v)),this}withQueryParam(m,v){if(this.validateParameter(m,v,"Query parameter"),this.queryParamKeyExists(m)){let E=this.extendQueryParamValue(m,v);this.queryParams=E}else this.queryParams.push(new r(m,new o(v)));return this}pathContainsQueryParameters(m){return m.indexOf(n.SEARCH)>=0}extendQueryParamValue(m,v){return this.queryParams.map(E=>{if(E.getName()===m){let T=E.getValue().getValues().concat(v);return new r(E.getName(),new o(T.toString()))}return E})}withPathPattern(m){return this.pathPattern=new s(m),this}validateParameter(m,v,E){if(!m)throw new Error(E+" key cannot be empty.");if(!v)throw new Error(E+" value cannot be empty.")}queryParamKeyExists(m){return!!this.queryParams.find(v=>v.getName()===m)}pathParamKeyExists(m){return!!this.pathParams.find(v=>v.getName()===m)}buildPathContextString(){let m=this.path,v="";if(this.pathPattern){if(!this.pathParams)throw new Error("Cannot convert pattern to path without path parameters.");m=this.pathPattern.convertToPath(this.pathParams)}return this.queryParams.length&&(v=n.SEARCH+this.queryParamsToString(this.queryParams)),v?m+v:m}queryParamsToString(m){return m.map(v=>v.toString()).reduce((v,E)=>v+"&"+E,"").substr(1)}},p})();class h{constructor(f,m){this.pathContextSubject$=f,this.changeListenerDisabledStorage=m}onPathContextChange(f){const m=(new d.Builder).withPath(f).build();this.changeListenerDisabledStorage.get()||this.pathContextSubject$.next(m)}}},25642:(S,g,e)=>{"use strict";e.d(g,{y:()=>s});var t=e(27609),n=e(84046);let s=(()=>{class i extends t.V{constructor(){super(!1)}}return i.\u0275fac=function(a){return new(a||i)},i.\u0275prov=n.Yz7({token:i,factory:i.\u0275fac}),i})()},73877:(S,g,e)=>{"use strict";e.d(g,{Z:()=>t});class t{constructor(){this.fetching=!1,this.fetched=!1}}},61754:(S,g,e)=>{"use strict";e.d(g,{S:()=>t});class t{constructor(s,i){this.type=s,this.payload=i}}},67559:(S,g,e)=>{"use strict";e.d(g,{N:()=>i});var t=e(71118);class n{filter(a,o,d){const h=a.copyWithoutChildren(),p=o.filterChain;return h.setChildren(this.filterChildren(a.getChildren(),o,d)),this.isFilterException(h.getId(),d)?h:!p.match(h)&&h.isLeaf()?null:(!h.isLeaf()&&!p.match(h)&&h.setMatchingFilter(!1),h)}filterChildren(a,o,d){const h=[];for(let p=0;p<a.length;p++){const f=a[p],m=o.filterChain;let v;o.deepFilter&&!f.isLeaf()&&(v=this.filterChildren(f.getChildren(),o,d));const E=f.copyWithoutChildren();E.setChildren(v),this.isFilterException(E.getId(),d)||m.match(E)?h.push(E):!E.isLeaf()&&!m.match(E)&&(E.setMatchingFilter(!1),h.push(E))}return h}isFilterException(a,o){return!!o&&o.has(a)}}class s{flatten(a,o){const d=[];if(!a)return d;d.push(a);const h=o?a.getChildren():a.getExpandedChildren();return h.length>0&&h.forEach(p=>this.recursiveFlat(p,d,a,o)),d}reverseFlatten(a){return a.filter(o=>o.getParent().isRoot())}recursiveFlat(a,o,d,h){a.setParent(d),o.push(a);const p=h?a.getChildren():a.getExpandedChildren();p.length>0&&p.forEach(f=>this.recursiveFlat(f,o,a,h))}}class i{constructor(a,o,d,h,p=!0){this.data=null,this.parent=null,this.children=[],this.expanded=!0,this.matchingFilter=!0,this.data=a,this.setChildren(o),null!=d&&(this.expanded=d),this.id=h,this.setMatchingFilter(p)}isRoot(){return null===this.parent}isParent(){return this.children.length>0}isLeaf(){return 0===this.children.length}getParent(){return this.parent}getChild(a){const o=this.getChildren();return o.length>a?o[a]:null}getExpandedChildren(){return this.isCollapsed()?[]:this.children}getChildren(){return this.children}getId(){return this.id}getChildPosition(a){return this.getChildren().indexOf(a)}getData(){return this.data}isMatchingFilter(){return this.matchingFilter}setId(a){this.id=a}setParent(a){this.parent=a}setExpanded(a){this.expanded=a}addChild(a,o){a.setParent(this),t.l.isDefined(o)?this.children.splice(o,0,a):this.children.push(a)}removeChild(a){const o=this.getChildren();o.length&&o[a]&&this.children.splice(a,1)}replaceChild(a,o){const d=this.getChildren();d.length&&d[a]&&d.splice(a,1,o)}addChildren(...a){a.forEach(o=>this.addChild(o))}isExpanded(){return this.expanded}isCollapsed(){return!this.expanded}areAllAncestorsExpanded(){let a=this;for(;!a.isRoot();){if(a.getParent().isCollapsed())return!1;a=a.getParent()}return!0}expand(){this.expanded=!0}collapse(){this.expanded=!1}expandAll(){this.traverse(a=>{a.getData()&&a.expand()})}collapseAll(){this.traverse(a=>{a.getData()&&a.collapse()})}expandNodeAndAllAncestors(){let a=this,o=null;for(;a.isCollapsed()&&(o=a),a.expand(),!a.isRoot();)a=a.getParent();return o}toFlat(a=!1){return(new s).flatten(this,a)}filter(a,o){return(new n).filter(this,a,o)}sort(a,o=!0){const d=this.copyWithoutChildren(),h=[...this.getChildren()];return d.setChildren(h),this.recuSortNode(d,a,o)}reverseToFlat(a){return(new s).reverseFlatten(a)}setData(a){this.data=a}setChildren(a=[]){if(null!=a)if(a[0]instanceof i){const o=a;o.forEach(d=>{d.setParent(this)}),this.children=o}else this.children=a.map(o=>this.createNode(o))}findNode(a){const o=this.getChildren();for(let d=0;d<o.length;d++){const h=o[d];if(a(h))return h;{const p=this.recuFindNode(h,a);if(p)return p}}return null}findNodes(a){const o=this.getChildren(),d=[];for(let h=0;h<o.length;h++){const p=o[h],f=p.getChildren();f.length&&this.recuFindNodes(f,a,d),a(p)&&d.push(p)}return d}convertData(a){const o=this.getChildren(),d=this.getData(),h=this.createNode(a(d)),p=[];return o.forEach(f=>{const m=f.getChildren(),v=f.getData(),E=this.createNode(a(v)),C=this.convertChildrenData(m,a);E.setChildren(C),p.push(E)}),h.setChildren(p),h}getTotalCount(){let a=0;return this.traverse(()=>a++),a}removeItems(a,o){if(this.isRoot())for(let d=0;d<a.length;d++){const h=a[d],p=this.findNode(v=>!o(v,h)),f=p.getParent();let m=f.getChildren().filter(v=>o(v,h));p.getChildren()&&p.getChildren().length&&(m=[...m,...p.getChildren()]),f.children=m,f.children.forEach(v=>v.setParent(f))}else console.warn("This operation is allowed only on Root object context")}canMoveUp(){return this.getParent()&&this.getParent().getChildren()[0].getId()!==this.getId()}canMoveDown(){const a=this.getParent();if(!a)return!1;const o=a.getChildren();return o[o.length-1].getId()!==this.getId()}canMoveRight(){return this.getParent()&&this.getParent().getChildren()[0].getId()!==this.getId()}canMoveLeft(){return!!this.getParent()&&!!this.getParent().getData()}setMatchingFilter(a){this.matchingFilter=a}copyWithoutChildren(){const a=new i(this.getData(),null,this.isExpanded(),this.getId(),this.isMatchingFilter());return a.setParent(this.getParent()),a}createNode(a){const o=new i(a);return o.setParent(this),o}traverse(a){a(this),this.getChildren().forEach(d=>{d.traverse(a)})}traverseChildren(a){this.getChildren().forEach(d=>{a(d),d.traverseChildren(a)})}convertChildrenData(a,o){return a.map(d=>{const h=d.getData(),p=this.createNode(o(h)),f=d.getChildren(),m=this.convertChildrenData(f,o);return p.setChildren(m),p})}recuSortNode(a,o,d){const h=a.getChildren(),p=a.copyWithoutChildren();return d&&h.forEach(f=>{f.recuSortNode(f,o,d)}),p.setChildren(h.sort(o)),p}recuFindNode(a,o){const d=a.getChildren();for(let h=0;h<d.length;h++){const p=d[h];if(o(p))return p;{const f=this.recuFindNode(p,o);if(f)return f}}}recuFindNodes(a,o,d){for(let h=0;h<a.length;h++){const p=a[h],f=p.getChildren();f.length&&this.recuFindNodes(f,o,d),o(p)&&d.push(p)}}}},85703:(S,g,e)=>{"use strict";function t(){const h=new Array(16);let p=0;for(let f=0;f<16;f++)0==(3&f)&&(p=4294967296*Math.random()),h[f]=p>>>((3&f)<<3)&255;return h}e.d(g,{Y:()=>a,Mc:()=>o,Hu:()=>d});const s=function(){const h=window.crypto||window.msCrypto;if(h&&h.getRandomValues)try{return function(){const f=new Uint8Array(16);return h.getRandomValues(f),f}}catch(p){}return t}(),r=new class{constructor(){this.byteToHex=[],this.hexToByte={};for(let p=0;p<256;p++)this.byteToHex[p]=(p+256).toString(16).substr(1),this.hexToByte[this.byteToHex[p]]=p}};function a(){const h=s();return h[6]=15&h[6]|64,h[8]=63&h[8]|128,h}function o(h,p=0){let f=p;const m=r.byteToHex;return"sp-"+m[h[f++]]+m[h[f++]]+m[h[f++]]+m[h[f++]]+"-"+m[h[f++]]+m[h[f++]]+"-"+m[h[f++]]+m[h[f++]]+"-"+m[h[f++]]+m[h[f++]]+"-"+m[h[f++]]+m[h[f++]]+m[h[f++]]+m[h[f++]]+m[h[f++]]+m[h[f++]]}function d(){return o(a())}},88857:(S,g,e)=>{"use strict";e.d(g,{K:()=>n});var t=e(17686);class n{constructor(){this.ua=window.navigator.userAgent,this.browserName=this.setBrowserName()}isChrome(){return/Chrome/.test(this.ua)&&/Google Inc/.test(navigator.vendor)}isEdge(){return this.ua.indexOf("Edge/")>0}isFirefox(){return this.ua.toLowerCase().indexOf("firefox")>-1}isIE(){return this.ua.indexOf("Trident/")>0}isSafari(){return this.ua.toLowerCase().indexOf("safari")>-1}isWebkit(){return!(this.isIE()||this.isEdge()||this.isFirefox())}isMacOS(){return this.ua.toLowerCase().indexOf("mac")>-1}getUserAgent(){return this.ua}getTestAll(){return{isChrome:this.isChrome(),isEdge:this.isEdge(),isFirefox:this.isFirefox(),isIE:this.isIE(),isSafari:this.isSafari()}}getBrowserName(){return this.browserName}setBrowserName(){let i="";return!!this.isChrome()&&(i=t.M.CHROME)||!!this.isEdge()&&(i=t.M.EDGE)||!!this.isFirefox()&&(i=t.M.FIREFOX)||!!this.isIE()&&(i=t.M.IE)||!!this.isSafari()&&(i=t.M.SAFARI)||""===i&&(i="unrecognized"),i}}},17686:(S,g,e)=>{"use strict";e.d(g,{M:()=>t});var t=(()=>{return(n=t||(t={})).CHROME="chrome",n.EDGE="edge",n.FIREFOX="firefox",n.IE="ie",n.SAFARI="safari",t;var n})()},14247:(S,g,e)=>{"use strict";e.d(g,{I:()=>t});class t{static dashedWithoutSpaceId(s){return s?s.replace(/@|\s/g,"-"):s}}},47285:(S,g,e)=>{"use strict";e.d(g,{$:()=>n});var t=e(62628);class n extends t.b{isTrue(i){return"true"===i}}},53991:(S,g,e)=>{"use strict";e.d(g,{v:()=>t});let t=(()=>{class n{}return n.READ="permissionREAD",n.EDIT="permissionEDIT",n.ADMIN="permissionADMIN",n.CREATOR="hasRightsToCreate",n.PROJECT_CREATE_RIGHTS="hasRightsToCreateProject",n.GANTT_MANAGER="hasGanttManagerPermission",n.PLUGIN_ADMIN="hasPluginAdministratorPermission",n.PLUGIN_RESOURCE_ADMIN="hasPluginResourceAdministratorPermission",n.HOST_PLATFORM_ADMIN="isHostPlatformAdmin",n.LICENCE_VALID="isLicenseValid",n.HAS_PLUGIN_USER_PERMISSION="hasPluginUserPermission",n})()},21548:(S,g,e)=>{"use strict";e.d(g,{w:()=>n});var t=e(84046);let n=(()=>{class s{}return s.\u0275fac=function(r){return new(r||s)},s.\u0275prov=t.Yz7({token:s,factory:s.\u0275fac}),s})()},12624:(S,g,e)=>{"use strict";e.d(g,{E:()=>s});var t=e(84046),n=e(33444);let s=(()=>{class i{constructor(a){this.goToMethodSupplier=a}init(){this.goToMethodSupplier.setGoTo(this.goToMethod.bind(this))}}return i.\u0275fac=function(a){return new(a||i)(t.LFG(n.q))},i.\u0275prov=t.Yz7({token:i,factory:i.\u0275fac}),i})()},20834:(S,g,e)=>{"use strict";e.d(g,{$:()=>t});class t{}}}]);