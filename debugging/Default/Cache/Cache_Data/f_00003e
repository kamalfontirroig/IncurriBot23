"use strict";(self.webpackChunkppm=self.webpackChunkppm||[]).push([[1261],{75368:(A,O,e)=>{e.d(O,{m:()=>l});var t=e(18840),i=e(62546),d=e(84046);let T=(()=>{class h extends i.H{constructor(v,E){super(v,E),this.activeStatus$=new t.X(!1)}observeActiveStatus(){return this.activeStatus$.asObservable()}setActive(){this.activeStatus$.next(!0)}setInactive(){this.activeStatus$.next(!1)}}return h.\u0275fac=function(v){return new(v||h)(d.Y36(d.SBq),d.Y36(d.Qsj))},h.\u0275dir=d.lG2({type:h,features:[d.qOj]}),h})(),l=(()=>{class h extends T{}return h.\u0275fac=function(){let a;return function(E){return(a||(a=d.n5z(h)))(E||h)}}(),h.\u0275dir=d.lG2({type:h,features:[d.qOj]}),h})()},6875:(A,O,e)=>{e.d(O,{B:()=>i});const i=new(e(84046).OlP)("Quick Filters Default Effect")},77021:(A,O,e)=>{e.d(O,{D:()=>i});var t=e(66648);class i{constructor(T=t.u.OR){this.operatorType=T}static default(){return new i}}},48574:(A,O,e)=>{e.d(O,{L:()=>t});var t=(()=>{return(i=t||(t={})).SELECT_QUICK_FILTER="SELECT_QUICK_FILTER",i.SET_QUICK_FILTER_FAVOURITE="SET_QUICK_FILTER_FAVOURITE",i.CHANGE_QUICK_FILTER_OPERATOR="CHANGE_QUICK_FILTER_OPERATOR",t;var i})()},61823:(A,O,e)=>{e.d(O,{b:()=>j});var t=e(84046),i=e(98223),d=e(70822),T=e(84605),l=e(83941),h=e(14650),a=e(83372),v=e(75368),E=e(65756),C=e(62543),g=e(83451),s=e(77021),c=e(66648),x=e(95900),P=e(42333),b=e(9933),M=e(55331),S=e(34909),u=e(68890),B=e(57142),f=e(97265),w=e(18217);function $(U,y){if(1&U){const r=t.EpF();t.TgZ(0,"sp-toggle-button",5),t.NdJ("clicked",function(_){const H=t.CHM(r).$implicit;return t.oxw().toggleQuickFilterButton(_,H)}),t.ALo(1,"spRichTextI18n"),t._uU(2),t.qZA()}if(2&U){const r=y.$implicit,n=t.oxw();t.Q6J("checked",r.selected)("spTooltip",t.lcZ(1,4,r.description))("spTooltipGravity",n.gravity.WEST),t.xp6(2),t.hij(" ",r.text," ")}}function k(U,y){if(1&U){const r=t.EpF();t.TgZ(0,"sp-select",6),t.NdJ("selectedOptionsChanged",function(_){return t.CHM(r),t.oxw().updateFilters(_)})("selectedOptionChanged",function(_){return t.CHM(r),t.oxw().enableChange(_)})("favouriteChange",function(_){return t.CHM(r),t.oxw().favouriteChange(_)}),t.qZA()}if(2&U){const r=t.oxw();t.Q6J("configuration",r.filtersSelectConfiguration)("options",r.filterOptions)("selectedOptions",r.selectedFiltersOptions)}}function W(U,y){if(1&U&&(t.TgZ(0,"div",7),t._UZ(1,"sp-select",8),t.qZA()),2&U){const r=t.oxw();t.xp6(1),t.Q6J("configuration",r.filtersFetchingSelectConfiguration)}}const D="sp-favourite-quick-filters";let j=(()=>{class U extends v.m{constructor(r,n,_,K,H,Y,G,N){super(r,n),this.changeDetectorRef=_,this.localStorage=K,this.quickFiltersService=H,this.httpQuickFiltersResource=Y,this.repository=G,this.l10nTextService=N,this.clearAvailable=!1,this.onFilterChange=new t.vpe,this.filterOptions=[],this.selectedFiltersOptions=[],this.favouriteQuickFilters=[],this.filtersSelectConfiguration=new a.w,this.filtersFetchingSelectConfiguration=new a.w,this.boxQuickFilterOperator=new s.D(c.u.OR),this.OptionTrackByFn=P.M.create("id","value"),this.gravity={WEST:x.X.WEST},this.favouriteFilterChanges=!1}ngOnInit(){this.domManipulator.setHostAttribute("id","sp-quick-filters"),this.quickFiltersService.fetch(),this.createFiltersSelectConfiguration(),this.createFetchingFiltersSelectConfiguration(),this.observeBoxQuickFilterOperator(),this.observeSelectedFiltersNumberChange(),this.observeOperatorChangeSuccess(),this.observeForQuickFilters()}toggleQuickFilterButton(r,n){const _=this.filterOptions.find(K=>K.value===n.value);void 0!==_&&(_.selected=r,this.enableChange(_),this.updateFilters())}favouriteChange(r){r.favourite?this.favouriteQuickFilters.push(r):this.favouriteQuickFilters=this.favouriteQuickFilters.filter(n=>n.value!==r.value),this.favouriteFilterChanges=!0,this.quickFiltersService.toggleFavourite(r),this.favouriteQuickFilters.sort((n,_)=>n.text.toString().localeCompare(_.text.toString())),this.setQuickFiltersToLocalStorage(),this.changeDetectorRef.detectChanges()}enableChange(r){this.quickFiltersService.enable(r),this.changeDetectorRef.detectChanges()}updateFilters(r=this.filterOptions){this.selectedFiltersOptions=r.filter(n=>n.selected),this.favouriteQuickFilters=r.filter(n=>n.favourite),this.setQuickFiltersFromLocalStorage(),this.changeDetectorRef.detectChanges()}onOperatorChange(){this.changeOperator(this.boxQuickFilterOperator.operatorType===c.u.OR?c.u.AND:c.u.OR)}clear(){this.quickFiltersService.clear()}getHostClasses(){return["sp-flex","sp-justify-end"]}createFiltersSelectConfiguration(){this.filtersSelectConfiguration.withMultiSelect().withSelectButtonPlaceholder(this.l10nTextService.translate("SPT_COMMON_SELECT_QUICK_FILTERS")).withShortButtonPlaceholder(this.l10nTextService.translate("SPT_COMMON_SELECT_SHORT_QUICK_FILTERS")).withSelectInputPlaceholder(this.l10nTextService.translate("SPT_COMMON_QUICK_FILTERS_SEARCHBAR_PLACEHOLDER")).withPrefixForId("sp-quick-filters").withSearchFieldAvailable().withFavouriteOptions(),this.clearAvailable&&this.filtersSelectConfiguration.withClearingButton()}createFetchingFiltersSelectConfiguration(){this.filtersFetchingSelectConfiguration.withSelectButtonPlaceholder(this.l10nTextService.translate("SPT_COMMON_QUICK_FILTERS_LOADER"))}initFilterOptions(r){this.filterOptions=r.map(_=>new h.W(_.id,l.H.string(_.name),l.H.string(_.name),_.isEnabled,_.isFavourite).withDescription(_.description)),this.setQuickFiltersFromLocalStorage(),this.selectedFiltersOptions=this.filterOptions.filter(_=>_.selected),this.onFilterChange.emit(this.selectedFiltersOptions),this.selectedFiltersOptions.length?this.setActive():this.setInactive();const n=this.selectedFiltersOptions.map(_=>_.value);this.quickFiltersService.setFiltersSelection(n,this.favouriteFilterChanges),this.favouriteFilterChanges=!1,this.filtersFetched=!0,this.changeDetectorRef.detectChanges()}observeSelectedFiltersNumberChange(){this.quickFiltersService.observeSelectedFiltersCount().pipe((0,d.h)(r=>0===r),this.takeUntilDestroy()).subscribe(()=>{this.selectedFiltersOptions=[],this.filterOptions.forEach(r=>r.selected=!1),this.changeDetectorRef.detectChanges(),this.setQuickFiltersFromLocalStorage()})}setQuickFiltersFromLocalStorage(){const r=this.getQuickFiltersFromLocalStorage();r&&this.filterOptions.forEach(n=>{r.some(_=>_.value===n.value)&&(n.favourite=!0)}),this.favouriteQuickFilters=this.filterOptions.filter(n=>n.favourite),this.favouriteQuickFilters.sort((n,_)=>n.text.toString().localeCompare(_.text.toString()))}getQuickFiltersFromLocalStorage(){return this.localStorage.getObject(D)}setQuickFiltersToLocalStorage(){this.localStorage.setObject(D,this.favouriteQuickFilters)}observeBoxQuickFilterOperator(){this.httpQuickFiltersResource.getQuickFilterOperator().pipe(this.takeUntilDestroy()).subscribe(r=>{this.boxQuickFilterOperator=r,this.quickFiltersService.setSelectedOperator(r),this.changeDetectorRef.detectChanges()})}changeOperator(r){this.quickFiltersService.changeOperator(new s.D(r))}observeOperatorChangeSuccess(){this.repository.selectOperator().pipe((0,T.T)(1),this.takeUntilDestroy()).subscribe(r=>{this.boxQuickFilterOperator=r,this.quickFiltersService.setFiltersOperator(r),this.changeDetectorRef.detectChanges()})}observeForQuickFilters(){this.repository.selectQuickFilters().pipe(this.takeUntilDestroy()).subscribe(r=>{this.initFilterOptions(r)})}}return U.\u0275fac=function(r){return new(r||U)(t.Y36(t.SBq),t.Y36(t.Qsj),t.Y36(t.sBO),t.Y36(b.m),t.Y36(C.T),t.Y36(g.z),t.Y36(E.s),t.Y36(i.e))},U.\u0275cmp=t.Xpm({type:U,selectors:[["sp-quick-filters"]],inputs:{clearAvailable:"clearAvailable"},outputs:{onFilterChange:"onFilterChange"},features:[t.qOj],decls:7,vars:8,consts:[[1,"sp-quick-filter-buttons"],["subtle","","class","sp-quick-filter-button",3,"checked","spTooltip","spTooltipGravity","clicked",4,"ngFor","ngForOf","ngForTrackBy"],["class","sp-quick-filters-select","id","sp-quick-filters-select",3,"configuration","options","selectedOptions","selectedOptionsChanged","selectedOptionChanged","favouriteChange",4,"ngIf"],["class","sp-fetching-quick-filters-wrapper",4,"ngIf"],["sp-button","","id","sp-quick-filters-operator",1,"sp-quick-filters-operator",3,"spTooltip","click"],["subtle","",1,"sp-quick-filter-button",3,"checked","spTooltip","spTooltipGravity","clicked"],["id","sp-quick-filters-select",1,"sp-quick-filters-select",3,"configuration","options","selectedOptions","selectedOptionsChanged","selectedOptionChanged","favouriteChange"],[1,"sp-fetching-quick-filters-wrapper"],[1,"sp-quick-filters-select","sp-fetching-quick-filters",3,"configuration"]],template:function(r,n){1&r&&(t.TgZ(0,"div",0),t.YNc(1,$,3,6,"sp-toggle-button",1),t.qZA(),t.YNc(2,k,1,3,"sp-select",2),t.YNc(3,W,2,1,"div",3),t.TgZ(4,"button",4),t.NdJ("click",function(){return n.onOperatorChange()}),t.ALo(5,"spRichTextI18n"),t._uU(6),t.qZA()),2&r&&(t.xp6(1),t.Q6J("ngForOf",n.favouriteQuickFilters)("ngForTrackBy",n.OptionTrackByFn),t.xp6(1),t.Q6J("ngIf",n.filtersFetched),t.xp6(1),t.Q6J("ngIf",!n.filtersFetched),t.xp6(1),t.Q6J("spTooltip",t.lcZ(5,6,"SPT_COMMON_LOGICAL_OPERATOR_TOOLTIP")),t.xp6(2),t.hij(" ",n.boxQuickFilterOperator.operatorType,"\n"))},directives:[M.sg,M.O5,S.r,u.i9,B.d,f.Hr],pipes:[w.d],styles:["[_nghost-%COMP%]{width:100%}.sp-quick-filter-buttons[_ngcontent-%COMP%]{display:flex;flex-direction:row-reverse;flex-wrap:wrap;height:32px;overflow:hidden}.sp-quick-filter-buttons[_ngcontent-%COMP%]     button{max-width:160px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.sp-quick-filter-buttons[_ngcontent-%COMP%]     button:focus{outline:none}.sp-quick-filter-buttons[_ngcontent-%COMP%]   .sp-quick-filter-button[_ngcontent-%COMP%]{padding:0 10px 0 0}.sp-fetching-quick-filters-wrapper[_ngcontent-%COMP%]{cursor:not-allowed;width:100%;max-width:300px;padding-right:10px}.sp-fetching-quick-filters-wrapper[_ngcontent-%COMP%]   .sp-quick-filters-select.sp-fetching-quick-filters[_ngcontent-%COMP%]{animation:pulse 1s infinite ease-in-out;pointer-events:none}.sp-fetching-quick-filters-wrapper[_ngcontent-%COMP%]   .sp-quick-filters-select.sp-fetching-quick-filters[_ngcontent-%COMP%]     .sp-select-wrapper   .sp-select-button-wrapper   .sp-select-button{background-color:#f5f5f5}sp-select.sp-select[_ngcontent-%COMP%]{width:100%;max-width:300px;min-width:150px}.sp-quick-filters-select[_ngcontent-%COMP%]     .sp-select-wrapper{max-width:300px}.quick-filter-counter[_ngcontent-%COMP%]{font-size:.75rem;position:relative;align-items:center;justify-content:center;display:flex;width:15px;height:15px;margin-left:-19px;top:-10px;left:3px;background:#f79232;border-radius:100%;color:var(--white);cursor:default;border:2px solid var(--white);z-index:100}.quick-filter-counter[_ngcontent-%COMP%]   .sp-filters-number[_ngcontent-%COMP%]{display:flex}.quick-filter-counter[_ngcontent-%COMP%]   .sp-filters-clear[_ngcontent-%COMP%]{display:none}.quick-filter-counter[_ngcontent-%COMP%]:hover{background:#3572b0;animation:changeToCross .2s forwards;transition:all .2s ease-in-out;cursor:pointer}.quick-filter-counter[_ngcontent-%COMP%]:hover   .sp-filters-number[_ngcontent-%COMP%]{display:none}.quick-filter-counter[_ngcontent-%COMP%]:hover   .sp-filters-clear[_ngcontent-%COMP%]{display:flex}.sp-quick-filters-select[_ngcontent-%COMP%]     .sp-select-button{border-top-right-radius:0;border-bottom-right-radius:0}.sp-quick-filters-operator[_ngcontent-%COMP%]{font-size:.75rem;border-top-left-radius:0;border-bottom-left-radius:0;padding-left:4px;padding-right:4px;margin-left:1px;min-width:32px;line-height:11px;font-weight:bold}@keyframes changeToCross{0%{transform:scale(1)}to{transform:scale(1.3)}}@keyframes pulse{0%{opacity:1}50%{opacity:.5}to{opacity:1}}"],changeDetection:0}),U})()},1261:(A,O,e)=>{e.d(O,{E:()=>N});var t=e(55331),i=e(43786),d=e(25468),T=e(41001),l=e(51545),h=e(84974),a=e(83451),v=e(90850),E=e(62543),C=e(28718),g=e(48574),s=e(84046);let c=(()=>{class o extends E.T{constructor(F){super(F),this.selectedFiltersCountChanged$=new v.xQ}changeOperator(F){this.crossModuleFiltersCommandDispatcher.updateOperator(F)}clear(){this.setFiltersSelection([]),this.selectedFiltersCountChanged$.next(0),this.crossModuleFiltersCommandDispatcher.clear()}enable(F){this.crossModuleFiltersCommandDispatcher.toggleEnabled(F)}observeSelectedFiltersCount(){return this.selectedFiltersCountChanged$}setFiltersOperator(F){this.selectedOperator=F,this.operator$.next(this.selectedOperator),this.selectedFilterIds.length>1&&this.filtersSelectionChanged$.next(g.L.CHANGE_QUICK_FILTER_OPERATOR)}updateFilterText(F,L){}toggleFavourite(F){this.crossModuleFiltersCommandDispatcher.toggleFavourite(F)}}return o.\u0275fac=function(F){return new(F||o)(s.LFG(C.J))},o.\u0275prov=s.Yz7({token:o,factory:o.\u0275fac}),o})();var x=e(6875),P=e(53339),b=e(70822),M=e(25934),S=e(98274),u=e(71726),B=e(56385),f=e(55256),w=function(o,R,F,L){var I,Q=arguments.length,p=Q<3?R:null===L?L=Object.getOwnPropertyDescriptor(R,F):L;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)p=Reflect.decorate(o,R,F,L);else for(var m=o.length-1;m>=0;m--)(I=o[m])&&(p=(Q<3?I(p):Q>3?I(R,F,p):I(R,F))||p);return Q>3&&p&&Object.defineProperty(R,F,p),p},$=function(o,R){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(o,R)};class k{constructor(R,F,L,Q){this.actions$=R,this.store$=F,this.crossModuleQuickFiltersResource=L,this.isCrossModule=Q,this.fetchQuickFilters$=this.actions$.pipe((0,i.l4)(f.LK.FETCH_QUICK_FILTERS),(0,b.h)(()=>this.isCrossModule),(0,M.j)("payload"),(0,S.w)(()=>this.crossModuleQuickFiltersResource.getAllFilters().pipe((0,u.U)(p=>new f.Ly(p)),(0,B.K)(p=>(0,P.of)(new f.Q2({type:"error",text:p})))))),this.updateQuickFilters$=this.actions$.pipe((0,i.l4)(f.LK.UPDATE_QUICK_FILTERS),(0,b.h)(()=>this.isCrossModule),(0,M.j)("payload"),(0,S.w)(p=>{const I=p.value;return(p.selected?this.crossModuleQuickFiltersResource.enable(I):this.crossModuleQuickFiltersResource.disable(I)).pipe((0,u.U)(()=>new f.CN(I)),(0,B.K)(z=>(0,P.of)(new f.OJ({type:"error",text:z}))))})),this.updateQuickFiltersOperator$=this.actions$.pipe((0,i.l4)(f.LK.UPDATE_QUICK_FILTERS_OPERATOR),(0,b.h)(()=>this.isCrossModule),(0,M.j)("payload"),(0,S.w)(p=>this.crossModuleQuickFiltersResource.setQuickFilterOperator(p).pipe((0,u.U)(()=>new f.xD(p)),(0,B.K)(I=>(0,P.of)(new f.C8({type:"error",text:I})))))),this.updateFavouriteQuickFilters$=this.actions$.pipe((0,i.l4)(f.LK.UPDATE_FAVOURITE_QUICK_FILTERS),(0,b.h)(()=>this.isCrossModule),(0,M.j)("payload"),(0,S.w)(p=>{const I=p.value;return(p.favourite?this.crossModuleQuickFiltersResource.toggleFavourite(I):this.crossModuleQuickFiltersResource.toggleUnFavourite(I)).pipe((0,u.U)(()=>new f._d(I)),(0,B.K)(z=>(0,P.of)(new f.Uc({type:"error",text:z}))))})),this.clearQuickFilters$=this.actions$.pipe((0,i.l4)(f.LK.CLEAR_QUICK_FILTERS),(0,S.w)(()=>this.crossModuleQuickFiltersResource.clearQuickFilters().pipe((0,u.U)(()=>new f.k1),(0,B.K)(p=>(0,P.of)(new f.tF({type:"error",test:p}))))))}}k.\u0275fac=function(R){return new(R||k)(s.LFG(i.eX),s.LFG(d.yh),s.LFG(a.z),s.LFG(x.B,8))},k.\u0275prov=s.Yz7({token:k,factory:k.\u0275fac}),w([(0,i.Qm)(),$("design:type",Object)],k.prototype,"fetchQuickFilters$",void 0),w([(0,i.Qm)(),$("design:type",Object)],k.prototype,"updateQuickFilters$",void 0),w([(0,i.Qm)(),$("design:type",Object)],k.prototype,"updateQuickFiltersOperator$",void 0),w([(0,i.Qm)(),$("design:type",Object)],k.prototype,"updateFavouriteQuickFilters$",void 0),w([(0,i.Qm)(),$("design:type",Object)],k.prototype,"clearQuickFilters$",void 0);var W=e(73877);class D extends W.Z{constructor(){super(...arguments),this.quickFilters=[],this.operator=null}}const j=new D;function U(o=j,R){switch(R.type){case f.LK.FETCH_QUICK_FILTERS:return Object.assign(new D,o,{fetching:!0});case f.LK.FETCH_QUICK_FILTERS_SUCCESS:{const Q=R.payload;return Object.assign(new D,o,{quickFilters:Q,fetching:!1,fetched:!0})}case f.LK.FETCH_QUICK_FILTERS_FAILURE:return L();case f.LK.UPDATE_QUICK_FILTERS_SUCCESS:{const Q=R.payload,p=o.quickFilters.map(m=>m.clone()),I=p.find(m=>m.id===Q);return I.isEnabled=!I.isEnabled,Object.assign(new D,o,{quickFilters:p,fetching:!1,fetched:!0})}case f.LK.UPDATE_QUICK_FILTERS_OPERATOR_SUCCESS:{const Q=R.payload;return Object.assign(new D,o,{operator:Q})}case f.LK.UPDATE_QUICK_FILTERS_FAILURE:return L();case f.LK.UPDATE_FAVOURITE_QUICK_FILTERS_SUCCESS:{const Q=R.payload,p=o.quickFilters.map(m=>m.clone()),I=p.find(m=>m.id===Q);return I.isFavourite=!I.isFavourite,Object.assign(new D,o,{quickFilters:p,fetching:!1,fetched:!0})}case f.LK.UPDATE_FAVOURITE_QUICK_FILTERS_FAILURE:return L();case f.LK.CLEAR_QUICK_FILTERS_SUCCESS:{const Q=o.quickFilters.map(p=>p.clone());return Q.forEach(p=>p.isEnabled=!1),Object.assign(new D,o,{quickFilters:Q,fetching:!1,fetched:!0})}case f.LK.CLEAR_QUICK_FILTERS_FAILURE:return L();default:return o}function L(){return Object.assign(new D,o,{fetching:!1,fetched:!1})}}var y=e(65756);let r=(()=>{class o{constructor(F){this.quickFiltersRepository=F}getSelectedQuickFilters(){return this.quickFiltersRepository.selectSelectedQuickFilters().pipe((0,u.U)(F=>F.map(L=>L.id)))}getQuickFiltersOperator(){return this.quickFiltersRepository.selectOperator()}}return o.\u0275fac=function(F){return new(F||o)(s.LFG(y.s))},o.\u0275prov=s.Yz7({token:o,factory:o.\u0275fac}),o})();e(61823);var _=e(68890),K=e(26566),H=e(18597);const G=[C.J,y.s,a.z,{provide:H.D,useExisting:a.z},r];let N=(()=>{class o{static forRoot(F=!1,L=c){return{ngModule:o,providers:[{provide:x.B,useValue:F},{provide:E.T,useClass:L},...G]}}}return o.\u0275fac=function(F){return new(F||o)},o.\u0275mod=s.oAB({type:o}),o.\u0275inj=s.cJS({imports:[[T.J,l.F,t.ez,h.A.forRoot(),_.z8,d.Aw.forFeature(y._,U),i.sQ.forFeature([k]),K.n]]}),o})()},66648:(A,O,e)=>{e.d(O,{u:()=>t});var t=(()=>{return(i=t||(t={})).AND="AND",i.OR="OR",t;var i})()},18597:(A,O,e)=>{e.d(O,{D:()=>T});var t=e(83155),i=e(84046),d=e(11531);let T=(()=>{class l extends t.a{constructor(a){super(a)}}return l.\u0275fac=function(a){return new(a||l)(i.LFG(d.O))},l.\u0275prov=i.Yz7({token:l,factory:l.\u0275fac}),l})()},62543:(A,O,e)=>{e.d(O,{T:()=>a});var t=e(90850),i=e(28718),d=e(48574),T=e(62628),l=e(96105),h=e(84046);let a=(()=>{class v extends T.b{constructor(C){super(),this.crossModuleFiltersCommandDispatcher=C,this.filtersSelectionChanged$=new t.xQ,this.selectedFiltersIds$=new t.xQ,this.operator$=new t.xQ}fetch(){this.crossModuleFiltersCommandDispatcher.fetch()}observeSelectedFilters(){return this.filtersSelectionChanged$.asObservable()}selectOperatorChanges(){return this.operator$.asObservable()}selectSelectedFiltersIds(){return this.selectedFiltersIds$.pipe((0,l.x)((C,g)=>{for(const s of g)if(-1===C.indexOf(s))return!1;return C.length===g.length}))}setSelectedOperator(C){this.selectedOperator=C,this.operator$.next(this.selectedOperator)}setFiltersSelection(C,g=!1){this.selectedFilterIds=C,this.filtersSelectionChanged$.next(g?d.L.SET_QUICK_FILTER_FAVOURITE:d.L.SELECT_QUICK_FILTER),this.selectedFiltersIds$.next(C)}getSelectedFilterIds(C){return C.filter(g=>g.selected).map(g=>g.value)}}return v.\u0275fac=function(C){return new(C||v)(h.LFG(i.J))},v.\u0275prov=h.Yz7({token:v,factory:v.\u0275fac}),v})()},83451:(A,O,e)=>{e.d(O,{z:()=>C});var t=e(71726),i=e(77021),d=e(18597);class T{constructor(){}static fromRaw(s){const c=new T;return c.name=s.name,c.id=s.id,c.rank=s.rank,c.isEnabled=s.isEnabled,c.isFavourite=s.isFavourite,c.description=s.description,c}static fromRaws(s){return s&&s.map(c=>this.fromRaw(c))}withId(s){return this.id=s,this}withName(s){return this.name=s,this}withRank(s){return this.rank=s,this}withEnabled(s){return this.isEnabled=s,this}withFavourite(s){return this.isFavourite=s,this}withDescription(s){return this.description=s,this}clone(){return(new T).withId(this.id).withName(this.name).withRank(this.rank).withFavourite(this.isFavourite).withEnabled(this.isEnabled).withDescription(this.description)}}var l=e(65531),h=e(84046),a=e(83950),v=e(25673),E=e(11531);let C=(()=>{class g extends d.D{constructor(c,x,P){super(P),this.environmentService=c,this.boxHierarchyService=x}getAllFilters(){return this.get("/user").pipe((0,t.U)(c=>T.fromRaws(c)))}enable(c){return this.put(`/enable/${c}`).pipe((0,l.E)("HttpQuickFiltersResource"))}disable(c){return this.put(`/disable/${c}`).pipe((0,l.E)("HttpQuickFiltersResource"))}toggleFavourite(c){return this.put(`/favourite/${c}`).pipe((0,l.E)("HttpQuickFiltersResource"))}toggleUnFavourite(c){return this.put(`/unfavourite/${c}`).pipe((0,l.E)("HttpQuickFiltersResource"))}getQuickFilterOperator(){return this.get("/operator").pipe((0,t.U)(c=>new i.D(c.operator)))}setQuickFilterOperator(c){return this.post("/operator",{operator:c.operatorType}).pipe((0,l.E)("HttpQuickFiltersResource"))}clearQuickFilters(){return this.delete("/clear").pipe((0,l.E)("HttpQuickFiltersResource"))}getRestUrl(c){return this.environmentService.getRestBaseUrl()+"ppm/box/"+this.boxHierarchyService.getContextBoxId().toString()+"/task/quick-filter"+c}}return g.\u0275fac=function(c){return new(c||g)(h.LFG(a.L),h.LFG(v.T),h.LFG(E.O))},g.\u0275prov=h.Yz7({token:g,factory:g.\u0275fac}),g})()},55256:(A,O,e)=>{e.d(O,{LK:()=>i,So:()=>d,Ly:()=>T,Q2:()=>l,AC:()=>h,CN:()=>a,OJ:()=>v,Qx:()=>E,xD:()=>C,C8:()=>g,o6:()=>s,_d:()=>c,Uc:()=>x,Xv:()=>P,k1:()=>b,tF:()=>M});const t="[QuickFilters]",i={FETCH_QUICK_FILTERS:`${t}FETCH_QUICK_FILTERS`,FETCH_QUICK_FILTERS_SUCCESS:`${t}FETCH_QUICK_FILTERS_SUCCESS`,FETCH_QUICK_FILTERS_FAILURE:`${t}FETCH_QUICK_FILTERS_FAILURE`,UPDATE_QUICK_FILTERS:`${t}UPDATE_QUICK_FILTERS`,UPDATE_QUICK_FILTERS_SUCCESS:`${t}UPDATE_QUICK_FILTERS_SUCCESS`,UPDATE_QUICK_FILTERS_FAILURE:`${t}UPDATE_QUICK_FILTERS_FAILURE`,UPDATE_QUICK_FILTERS_OPERATOR:`${t}UPDATE_QUICK_FILTERS_OPERATOR`,UPDATE_QUICK_FILTERS_OPERATOR_SUCCESS:`${t}UPDATE_QUICK_FILTERS_OPERATOR_SUCCESS`,UPDATE_QUICK_FILTERS_OPERATOR_FAILURE:`${t}UPDATE_QUICK_FILTERS_OPERATOR_FAILURE`,UPDATE_FAVOURITE_QUICK_FILTERS:`${t}UPDATE_FAVOURITE_QUICK_FILTERS`,UPDATE_FAVOURITE_QUICK_FILTERS_SUCCESS:`${t}UPDATE_FAVOURITE_QUICK_FILTERS_SUCCESS`,UPDATE_FAVOURITE_QUICK_FILTERS_FAILURE:`${t}UPDATE_FAVOURITE_QUICK_FILTERS_FAILURE`,CLEAR_QUICK_FILTERS:`${t}CLEAR_QUICK_FILTERS`,CLEAR_QUICK_FILTERS_SUCCESS:`${t}CLEAR_QUICK_FILTERS_SUCCESS`,CLEAR_QUICK_FILTERS_FAILURE:`${t}CLEAR_QUICK_FILTERS_FAILURE`};class d{constructor(u){this.payload=u,this.type=i.FETCH_QUICK_FILTERS}}class T{constructor(u){this.payload=u,this.type=i.FETCH_QUICK_FILTERS_SUCCESS}}class l{constructor(u){this.payload=u,this.type=i.FETCH_QUICK_FILTERS_FAILURE}}class h{constructor(u){this.payload=u,this.type=i.UPDATE_QUICK_FILTERS}}class a{constructor(u){this.payload=u,this.type=i.UPDATE_QUICK_FILTERS_SUCCESS}}class v{constructor(u){this.payload=u,this.type=i.UPDATE_QUICK_FILTERS_FAILURE}}class E{constructor(u){this.payload=u,this.type=i.UPDATE_QUICK_FILTERS_OPERATOR}}class C{constructor(u){this.payload=u,this.type=i.UPDATE_QUICK_FILTERS_OPERATOR_SUCCESS}}class g{constructor(u){this.payload=u,this.type=i.UPDATE_QUICK_FILTERS_OPERATOR_FAILURE}}class s{constructor(u){this.payload=u,this.type=i.UPDATE_FAVOURITE_QUICK_FILTERS}}class c{constructor(u){this.payload=u,this.type=i.UPDATE_FAVOURITE_QUICK_FILTERS_SUCCESS}}class x{constructor(u){this.payload=u,this.type=i.UPDATE_FAVOURITE_QUICK_FILTERS_FAILURE}}class P{constructor(){this.type=i.CLEAR_QUICK_FILTERS}}class b{constructor(){this.type=i.CLEAR_QUICK_FILTERS_SUCCESS}}class M{constructor(u){this.payload=u,this.type=i.CLEAR_QUICK_FILTERS_FAILURE}}},28718:(A,O,e)=>{e.d(O,{J:()=>T});var t=e(55256),i=e(84046),d=e(25468);let T=(()=>{class l{constructor(a){this.store=a}fetch(){this.store.dispatch(new t.So)}clear(){this.store.dispatch(new t.Xv)}toggleEnabled(a){this.store.dispatch(new t.AC(a))}updateOperator(a){this.store.dispatch(new t.Qx(a))}toggleFavourite(a){this.store.dispatch(new t.o6(a))}}return l.\u0275fac=function(a){return new(a||l)(i.LFG(d.yh))},l.\u0275prov=i.Yz7({token:l,factory:l.\u0275fac}),l})()},65756:(A,O,e)=>{e.d(O,{_:()=>d,s:()=>v});var t=e(25468),i=e(84046);const d="QUICK_FILTERS",T=(0,t.ZF)(d),l=(0,t.P1)(T,E=>E.quickFilters),h=(0,t.P1)(l,E=>E.filter(C=>!0===C.isEnabled)),a=(0,t.P1)(T,E=>E.operator);let v=(()=>{class E{constructor(g){this.store=g}selectQuickFilters(){return this.store.pipe((0,t.Ys)(l))}selectSelectedQuickFilters(){return this.store.pipe((0,t.Ys)(h))}selectOperator(){return this.store.pipe((0,t.Ys)(a))}}return E.\u0275fac=function(g){return new(g||E)(i.LFG(t.yh))},E.\u0275prov=i.Yz7({token:E,factory:E.\u0275fac}),E})()}}]);