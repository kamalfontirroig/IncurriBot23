(self.webpackChunkppm=self.webpackChunkppm||[]).push([[565],{9661:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{FT:()=>StoreDevtoolsModule});var _angular_core__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(94846),_ngrx_store__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(25050),rxjs__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(75738),rxjs__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(52792),rxjs__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__(6812),rxjs__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__(63491),rxjs__WEBPACK_IMPORTED_MODULE_18__=__webpack_require__(5531),rxjs__WEBPACK_IMPORTED_MODULE_19__=__webpack_require__(88566),rxjs_operators__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(58521),rxjs_operators__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(42028),rxjs_operators__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(68387),rxjs_operators__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(99039),rxjs_operators__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(50823),rxjs_operators__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(93077),rxjs_operators__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(59120),rxjs_operators__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__(90540),rxjs_operators__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__(99721),rxjs_operators__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__(70802),rxjs_operators__WEBPACK_IMPORTED_MODULE_16__=__webpack_require__(50),rxjs_operators__WEBPACK_IMPORTED_MODULE_17__=__webpack_require__(73320),rxjs_operators__WEBPACK_IMPORTED_MODULE_20__=__webpack_require__(94116),rxjs_operators__WEBPACK_IMPORTED_MODULE_21__=__webpack_require__(40562);class StoreDevtoolsConfig{constructor(){this.maxAge=!1}}const STORE_DEVTOOLS_CONFIG=new _angular_core__WEBPACK_IMPORTED_MODULE_0__.OlP("@ngrx/store-devtools Options"),INITIAL_OPTIONS=new _angular_core__WEBPACK_IMPORTED_MODULE_0__.OlP("@ngrx/store-devtools Initial Config");function noMonitor(){return null}const DEFAULT_NAME="NgRx Store DevTools";function createConfig(e){const t={maxAge:!1,monitor:noMonitor,actionSanitizer:void 0,stateSanitizer:void 0,name:DEFAULT_NAME,serialize:!1,logOnly:!1,autoPause:!1,features:{pause:!0,lock:!0,persist:!0,export:!0,import:"custom",jump:!0,skip:!0,reorder:!0,dispatch:!0,test:!0}},r="function"==typeof e?e():e,i=Object.assign({},t,{features:r.features||!!r.logOnly&&{pause:!0,export:!0,test:!0}||t.features},r);if(i.maxAge&&i.maxAge<2)throw new Error(`Devtools 'maxAge' cannot be less than 2, got ${i.maxAge}`);return i}const PERFORM_ACTION="PERFORM_ACTION",REFRESH="REFRESH",RESET="RESET",ROLLBACK="ROLLBACK",COMMIT="COMMIT",SWEEP="SWEEP",TOGGLE_ACTION="TOGGLE_ACTION",SET_ACTIONS_ACTIVE="SET_ACTIONS_ACTIVE",JUMP_TO_STATE="JUMP_TO_STATE",JUMP_TO_ACTION="JUMP_TO_ACTION",IMPORT_STATE="IMPORT_STATE",LOCK_CHANGES="LOCK_CHANGES",PAUSE_RECORDING="PAUSE_RECORDING";class PerformAction{constructor(e,t){if(this.action=e,this.timestamp=t,this.type=PERFORM_ACTION,void 0===e.type)throw new Error('Actions may not have an undefined "type" property. Have you misspelled a constant?')}}class Refresh{constructor(){this.type=REFRESH}}class Reset{constructor(e){this.timestamp=e,this.type=RESET}}class Rollback{constructor(e){this.timestamp=e,this.type=ROLLBACK}}class Commit{constructor(e){this.timestamp=e,this.type=COMMIT}}class Sweep{constructor(){this.type=SWEEP}}class ToggleAction{constructor(e){this.id=e,this.type=TOGGLE_ACTION}}class SetActionsActive{constructor(e,t,r=!0){this.start=e,this.end=t,this.active=r,this.type=SET_ACTIONS_ACTIVE}}class JumpToState{constructor(e){this.index=e,this.type=JUMP_TO_STATE}}class JumpToAction{constructor(e){this.actionId=e,this.type=JUMP_TO_ACTION}}class ImportState{constructor(e){this.nextLiftedState=e,this.type=IMPORT_STATE}}class LockChanges{constructor(e){this.status=e,this.type=LOCK_CHANGES}}class PauseRecording{constructor(e){this.status=e,this.type=PAUSE_RECORDING}}let DevtoolsDispatcher=(()=>{class e extends _ngrx_store__WEBPACK_IMPORTED_MODULE_1__.UO{}return e.\u0275fac=function(){let t;return function(r){return(t||(t=_angular_core__WEBPACK_IMPORTED_MODULE_0__.n5z(e)))(r||e)}}(),e.\u0275prov=_angular_core__WEBPACK_IMPORTED_MODULE_0__.Yz7({token:e,factory:e.\u0275fac}),e})();function difference(e,t){return e.filter(e=>t.indexOf(e)<0)}function unliftState(e){const{computedStates:t,currentStateIndex:r}=e;if(r>=t.length){const{state:e}=t[t.length-1];return e}const{state:i}=t[r];return i}function unliftAction(e){return e.actionsById[e.nextActionId-1]}function liftAction(e){return new PerformAction(e,+Date.now())}function sanitizeActions(e,t){return Object.keys(t).reduce((r,i)=>{const n=Number(i);return r[n]=sanitizeAction(e,t[n],n),r},{})}function sanitizeAction(e,t,r){return Object.assign(Object.assign({},t),{action:e(t.action,r)})}function sanitizeStates(e,t){return t.map((t,r)=>({state:sanitizeState(e,t.state,r),error:t.error}))}function sanitizeState(e,t,r){return e(t,r)}function shouldFilterActions(e){return e.predicate||e.actionsSafelist||e.actionsBlocklist}function filterLiftedState(e,t,r,i){const n=[],o={},s=[];return e.stagedActionIds.forEach((a,_)=>{const c=e.actionsById[a];c&&(_&&isActionFiltered(e.computedStates[_],c,t,r,i)||(o[a]=c,n.push(a),s.push(e.computedStates[_])))}),Object.assign(Object.assign({},e),{stagedActionIds:n,actionsById:o,computedStates:s})}function isActionFiltered(e,t,r,i,n){const o=r&&!r(e,t.action),s=i&&!t.action.type.match(i.map(e=>escapeRegExp(e)).join("|")),a=n&&t.action.type.match(n.map(e=>escapeRegExp(e)).join("|"));return o||s||a}function escapeRegExp(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}const ExtensionActionTypes={START:"START",DISPATCH:"DISPATCH",STOP:"STOP",ACTION:"ACTION"},REDUX_DEVTOOLS_EXTENSION=new _angular_core__WEBPACK_IMPORTED_MODULE_0__.OlP("@ngrx/store-devtools Redux Devtools Extension");let DevtoolsExtension=(()=>{class DevtoolsExtension{constructor(e,t,r){this.config=t,this.dispatcher=r,this.devtoolsExtension=e,this.createActionStreams()}notify(e,t){if(this.devtoolsExtension)if(e.type===PERFORM_ACTION){if(t.isLocked||t.isPaused)return;const r=unliftState(t);if(shouldFilterActions(this.config)&&isActionFiltered(r,e,this.config.predicate,this.config.actionsSafelist,this.config.actionsBlocklist))return;const i=this.config.stateSanitizer?sanitizeState(this.config.stateSanitizer,r,t.currentStateIndex):r,n=this.config.actionSanitizer?sanitizeAction(this.config.actionSanitizer,e,t.nextActionId):e;this.sendToReduxDevtools(()=>this.extensionConnection.send(n,i))}else{const e=Object.assign(Object.assign({},t),{stagedActionIds:t.stagedActionIds,actionsById:this.config.actionSanitizer?sanitizeActions(this.config.actionSanitizer,t.actionsById):t.actionsById,computedStates:this.config.stateSanitizer?sanitizeStates(this.config.stateSanitizer,t.computedStates):t.computedStates});this.sendToReduxDevtools(()=>this.devtoolsExtension.send(null,e,this.getExtensionConfig(this.config)))}}createChangesObservable(){return this.devtoolsExtension?new rxjs__WEBPACK_IMPORTED_MODULE_3__.y(e=>{const t=this.devtoolsExtension.connect(this.getExtensionConfig(this.config));return this.extensionConnection=t,t.init(),t.subscribe(t=>e.next(t)),t.unsubscribe}):rxjs__WEBPACK_IMPORTED_MODULE_2__.E}createActionStreams(){const e=this.createChangesObservable().pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_4__.B)()),t=e.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_5__.h)(e=>e.type===ExtensionActionTypes.START)),r=e.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_5__.h)(e=>e.type===ExtensionActionTypes.STOP)),i=e.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_5__.h)(e=>e.type===ExtensionActionTypes.DISPATCH),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_6__.U)(e=>this.unwrapAction(e.payload)),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_7__.b)(e=>e.type===IMPORT_STATE?this.dispatcher.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_5__.h)(e=>e.type===_ngrx_store__WEBPACK_IMPORTED_MODULE_1__.wb),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_8__.V)(1e3),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_9__.b)(1e3),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_6__.U)(()=>e),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_10__.K)(()=>(0,rxjs__WEBPACK_IMPORTED_MODULE_11__.of)(e)),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_12__.q)(1)):(0,rxjs__WEBPACK_IMPORTED_MODULE_11__.of)(e))),n=e.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_5__.h)(e=>e.type===ExtensionActionTypes.ACTION),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_6__.U)(e=>this.unwrapAction(e.payload))).pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_13__.R)(r)),o=i.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_13__.R)(r));this.start$=t.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_13__.R)(r)),this.actions$=this.start$.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_14__.w)(()=>n)),this.liftedActions$=this.start$.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_14__.w)(()=>o))}unwrapAction(action){return"string"==typeof action?eval(`(${action})`):action}getExtensionConfig(e){var t;const r={name:e.name,features:e.features,serialize:e.serialize,autoPause:null!==(t=e.autoPause)&&void 0!==t&&t};return!1!==e.maxAge&&(r.maxAge=e.maxAge),r}sendToReduxDevtools(e){try{e()}catch(t){console.warn("@ngrx/store-devtools: something went wrong inside the redux devtools",t)}}}return DevtoolsExtension.\u0275fac=function(e){return new(e||DevtoolsExtension)(_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(REDUX_DEVTOOLS_EXTENSION),_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(STORE_DEVTOOLS_CONFIG),_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(DevtoolsDispatcher))},DevtoolsExtension.\u0275prov=_angular_core__WEBPACK_IMPORTED_MODULE_0__.Yz7({token:DevtoolsExtension,factory:DevtoolsExtension.\u0275fac}),DevtoolsExtension})();const INIT_ACTION={type:_ngrx_store__WEBPACK_IMPORTED_MODULE_1__.qg},RECOMPUTE="@ngrx/store-devtools/recompute",RECOMPUTE_ACTION={type:RECOMPUTE};function computeNextEntry(e,t,r,i,n){if(i)return{state:r,error:"Interrupted by an error up the chain"};let o,s=r;try{s=e(r,t)}catch(a){o=a.toString(),n.handleError(a)}return{state:s,error:o}}function recomputeStates(e,t,r,i,n,o,s,a,_){if(t>=e.length&&e.length===o.length)return e;const c=e.slice(0,t),l=o.length-(_?1:0);for(let u=t;u<l;u++){const e=o[u],t=n[e].action,_=c[u-1],l=_?_.state:i,h=_?_.error:void 0,d=s.indexOf(e)>-1?_:computeNextEntry(r,t,l,h,a);c.push(d)}return _&&c.push(e[e.length-1]),c}function liftInitialState(e,t){return{monitorState:t(void 0,{}),nextActionId:1,actionsById:{0:liftAction(INIT_ACTION)},stagedActionIds:[0],skippedActionIds:[],committedState:e,currentStateIndex:0,computedStates:[],isLocked:!1,isPaused:!1}}function liftReducerWith(e,t,r,i,n={}){return o=>(s,a)=>{let{monitorState:_,actionsById:c,nextActionId:l,stagedActionIds:u,skippedActionIds:h,committedState:d,currentStateIndex:g,computedStates:E,isLocked:p,isPaused:v}=s||t;function T(e){let t=e,r=u.slice(1,t+1);for(let i=0;i<r.length;i++){if(E[i+1].error){t=i,r=u.slice(1,t+1);break}delete c[r[i]]}h=h.filter(e=>-1===r.indexOf(e)),u=[0,...u.slice(t+1)],d=E[t].state,E=E.slice(t),g=g>t?g-t:0}function f(){c={0:liftAction(INIT_ACTION)},l=1,u=[0],h=[],d=E[g].state,g=0,E=[]}s||(c=Object.create(c));let O=0;switch(a.type){case LOCK_CHANGES:p=a.status,O=1/0;break;case PAUSE_RECORDING:v=a.status,v?(u=[...u,l],c[l]=new PerformAction({type:"@ngrx/devtools/pause"},+Date.now()),l++,O=u.length-1,E=E.concat(E[E.length-1]),g===u.length-2&&g++,O=1/0):f();break;case RESET:c={0:liftAction(INIT_ACTION)},l=1,u=[0],h=[],d=e,g=0,E=[];break;case COMMIT:f();break;case ROLLBACK:c={0:liftAction(INIT_ACTION)},l=1,u=[0],h=[],g=0,E=[];break;case TOGGLE_ACTION:{const{id:e}=a,t=h.indexOf(e);h=-1===t?[e,...h]:h.filter(t=>t!==e),O=u.indexOf(e);break}case SET_ACTIONS_ACTIVE:{const{start:e,end:t,active:r}=a,i=[];for(let n=e;n<t;n++)i.push(n);h=r?difference(h,i):[...h,...i],O=u.indexOf(e);break}case JUMP_TO_STATE:g=a.index,O=1/0;break;case JUMP_TO_ACTION:{const e=u.indexOf(a.actionId);-1!==e&&(g=e),O=1/0;break}case SWEEP:u=difference(u,h),h=[],g=Math.min(g,u.length-1);break;case PERFORM_ACTION:{if(p)return s||t;if(v||s&&isActionFiltered(s.computedStates[g],a,n.predicate,n.actionsSafelist,n.actionsBlocklist)){const e=E[E.length-1];E=[...E.slice(0,-1),computeNextEntry(o,a.action,e.state,e.error,r)],O=1/0;break}n.maxAge&&u.length===n.maxAge&&T(1),g===u.length-1&&g++;const e=l++;c[e]=a,u=[...u,e],O=u.length-1;break}case IMPORT_STATE:({monitorState:_,actionsById:c,nextActionId:l,stagedActionIds:u,skippedActionIds:h,committedState:d,currentStateIndex:g,computedStates:E,isLocked:p,isPaused:v}=a.nextLiftedState);break;case _ngrx_store__WEBPACK_IMPORTED_MODULE_1__.qg:O=0,n.maxAge&&u.length>n.maxAge&&(E=recomputeStates(E,O,o,d,c,u,h,r,v),T(u.length-n.maxAge),O=1/0);break;case _ngrx_store__WEBPACK_IMPORTED_MODULE_1__.wb:if(E.filter(e=>e.error).length>0)O=0,n.maxAge&&u.length>n.maxAge&&(E=recomputeStates(E,O,o,d,c,u,h,r,v),T(u.length-n.maxAge),O=1/0);else{if(!v&&!p){g===u.length-1&&g++;const e=l++;c[e]=new PerformAction(a,+Date.now()),u=[...u,e],O=u.length-1,E=recomputeStates(E,O,o,d,c,u,h,r,v)}E=E.map(e=>Object.assign(Object.assign({},e),{state:o(e.state,RECOMPUTE_ACTION)})),g=u.length-1,n.maxAge&&u.length>n.maxAge&&T(u.length-n.maxAge),O=1/0}break;default:O=1/0}return E=recomputeStates(E,O,o,d,c,u,h,r,v),_=i(_,a),{monitorState:_,actionsById:c,nextActionId:l,stagedActionIds:u,skippedActionIds:h,committedState:d,currentStateIndex:g,computedStates:E,isLocked:p,isPaused:v}}}let StoreDevtools=(()=>{class e{constructor(e,t,r,i,n,o,s,a){const _=liftInitialState(s,a.monitor),c=liftReducerWith(s,_,o,a.monitor,a),l=(0,rxjs__WEBPACK_IMPORTED_MODULE_15__.T)((0,rxjs__WEBPACK_IMPORTED_MODULE_15__.T)(t.asObservable().pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_16__.T)(1)),i.actions$).pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_6__.U)(liftAction)),e,i.liftedActions$).pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_17__.QV)(rxjs__WEBPACK_IMPORTED_MODULE_18__.N)),u=r.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_6__.U)(c)),h=new rxjs__WEBPACK_IMPORTED_MODULE_19__.t(1),d=l.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_20__.M)(u),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_21__.R)(({state:e},[t,r])=>{let n=r(e,t);return t.type!==PERFORM_ACTION&&shouldFilterActions(a)&&(n=filterLiftedState(n,a.predicate,a.actionsSafelist,a.actionsBlocklist)),i.notify(t,n),{state:n,action:t}},{state:_,action:null})).subscribe(({state:e,action:t})=>{h.next(e),t.type===PERFORM_ACTION&&n.next(t.action)}),g=i.start$.subscribe(()=>{this.refresh()}),E=h.asObservable(),p=E.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_6__.U)(unliftState));this.extensionStartSubscription=g,this.stateSubscription=d,this.dispatcher=e,this.liftedState=E,this.state=p}dispatch(e){this.dispatcher.next(e)}next(e){this.dispatcher.next(e)}error(e){}complete(){}performAction(e){this.dispatch(new PerformAction(e,+Date.now()))}refresh(){this.dispatch(new Refresh)}reset(){this.dispatch(new Reset(+Date.now()))}rollback(){this.dispatch(new Rollback(+Date.now()))}commit(){this.dispatch(new Commit(+Date.now()))}sweep(){this.dispatch(new Sweep)}toggleAction(e){this.dispatch(new ToggleAction(e))}jumpToAction(e){this.dispatch(new JumpToAction(e))}jumpToState(e){this.dispatch(new JumpToState(e))}importState(e){this.dispatch(new ImportState(e))}lockChanges(e){this.dispatch(new LockChanges(e))}pauseRecording(e){this.dispatch(new PauseRecording(e))}}return e.\u0275fac=function(t){return new(t||e)(_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(DevtoolsDispatcher),_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(_ngrx_store__WEBPACK_IMPORTED_MODULE_1__.UO),_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(_ngrx_store__WEBPACK_IMPORTED_MODULE_1__.n$),_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(DevtoolsExtension),_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(_ngrx_store__WEBPACK_IMPORTED_MODULE_1__.Y$),_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(_angular_core__WEBPACK_IMPORTED_MODULE_0__.qLn),_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(_ngrx_store__WEBPACK_IMPORTED_MODULE_1__.Y6),_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(STORE_DEVTOOLS_CONFIG))},e.\u0275prov=_angular_core__WEBPACK_IMPORTED_MODULE_0__.Yz7({token:e,factory:e.\u0275fac}),e})();const IS_EXTENSION_OR_MONITOR_PRESENT=new _angular_core__WEBPACK_IMPORTED_MODULE_0__.OlP("@ngrx/store-devtools Is Devtools Extension or Monitor Present");function createIsExtensionOrMonitorPresent(e,t){return Boolean(e)||t.monitor!==noMonitor}function createReduxDevtoolsExtension(){const e="__REDUX_DEVTOOLS_EXTENSION__";return"object"==typeof window&&void 0!==window[e]?window[e]:null}function createStateObservable(e){return e.state}let StoreDevtoolsModule=(()=>{class e{static instrument(t={}){return{ngModule:e,providers:[DevtoolsExtension,DevtoolsDispatcher,StoreDevtools,{provide:INITIAL_OPTIONS,useValue:t},{provide:IS_EXTENSION_OR_MONITOR_PRESENT,deps:[REDUX_DEVTOOLS_EXTENSION,STORE_DEVTOOLS_CONFIG],useFactory:createIsExtensionOrMonitorPresent},{provide:REDUX_DEVTOOLS_EXTENSION,useFactory:createReduxDevtoolsExtension},{provide:STORE_DEVTOOLS_CONFIG,deps:[INITIAL_OPTIONS],useFactory:createConfig},{provide:_ngrx_store__WEBPACK_IMPORTED_MODULE_1__.FR,deps:[StoreDevtools],useFactory:createStateObservable},{provide:_ngrx_store__WEBPACK_IMPORTED_MODULE_1__.mK,useExisting:DevtoolsDispatcher}]}}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=_angular_core__WEBPACK_IMPORTED_MODULE_0__.oAB({type:e}),e.\u0275inj=_angular_core__WEBPACK_IMPORTED_MODULE_0__.cJS({}),e})()},50823:(e,t,r)=>{"use strict";r.d(t,{V:()=>l});var i=r(46146);const n=(()=>{function e(){return Error.call(this),this.message="Timeout has occurred",this.name="TimeoutError",this}return e.prototype=Object.create(Error.prototype),e})();var o=r(997),s=r(89220);class a{constructor(e,t,r,i){this.waitFor=e,this.absoluteTimeout=t,this.withObservable=r,this.scheduler=i}call(e,t){return t.subscribe(new _(e,this.absoluteTimeout,this.waitFor,this.withObservable,this.scheduler))}}class _ extends s.Ds{constructor(e,t,r,i,n){super(e),this.absoluteTimeout=t,this.waitFor=r,this.withObservable=i,this.scheduler=n,this.scheduleTimeout()}static dispatchTimeout(e){const{withObservable:t}=e;e._unsubscribeAndRecycle(),e.add((0,s.ft)(t,new s.IY(e)))}scheduleTimeout(){const{action:e}=this;e?this.action=e.schedule(this,this.waitFor):this.add(this.action=this.scheduler.schedule(_.dispatchTimeout,this.waitFor,this))}_next(e){this.absoluteTimeout||this.scheduleTimeout(),super._next(e)}_unsubscribe(){this.action=void 0,this.scheduler=null,this.withObservable=null}}var c=r(91783);function l(e,t=i.P){return function(e,t,r=i.P){return i=>{let n=(0,o.J)(e),s=n?+e-r.now():Math.abs(e);return i.lift(new a(s,n,t,r))}}(e,(0,c._)(new n),t)}},61511:(e,t,r)=>{"use strict";r.d(t,{s:()=>i});class i{}},42422:(e,t,r)=>{"use strict";r.d(t,{y:()=>o});var i=r(61511),n=r(94846);let o=(()=>{class e extends i.s{constructor(){super(...arguments),this.EXPORT_IFRAME_URL="exportediframeurl",this.EXPORT_QUERY_PARAMETERS="queryparam"}prepareExportData(e){const t=this.getParametersUrl();return e[this.EXPORT_QUERY_PARAMETERS]=e[this.EXPORT_QUERY_PARAMETERS]?e[this.EXPORT_QUERY_PARAMETERS]+"&"+t:"?"+t,e[this.EXPORT_IFRAME_URL]=encodeURIComponent(window.location.href.split("?")[0]),e}getParametersUrl(){return`applicationBaseUrl=${document.querySelector(".sp-page").getAttribute("applicationbaseurl")}`}}return e.\u0275fac=function(){let t;return function(r){return(t||(t=n.n5z(e)))(r||e)}}(),e.\u0275prov=n.Yz7({token:e,factory:e.\u0275fac}),e})()},51403:(e,t,r)=>{"use strict";r.d(t,{q:()=>m});var i=r(4335),n=r(29686),o=r(44840),s=r(89932),a=r(98647),_=r(21613),c=r(91778),l=r(47320),u=r(91126),h=r(6812),d=r(8210),g=r(90540),E=r(94846),p=r(4562),v=r(36713),T=r(26484),f=r(91216);const O=["formComponent"];function P(e,t){if(1&e&&E._UZ(0,"sp-form-field",7),2&e){const e=t.$implicit,r=E.oxw();E.Q6J("id",e)("label",e)("type",r.FormFieldType.SWIPER)("value",r.flagsMap.get(e))("name",e)}}let A=(()=>{class e extends s.H{constructor(e,t,r,i){super(e,t),this.featureFlagService=r,this.changeDetectionRef=i,this.FormFieldType=a.E,this.flags=[],this.flagsMap=new Map}ngOnInit(){this.domManipulator.setHostAttribute("id","sp-feature-flag-modal")}ngAfterViewInit(){this.observeAllFeatureFlags()}getHostClasses(){return["sp-display-block","sp-w-full","sp-py-4"]}observeAllFeatureFlags(){this.featureFlagService.selectAllFeatureFlags().pipe(this.takeUntilDestroy()).subscribe(e=>{this.flagsMap=e,this.flags=Array.from(this.flagsMap.keys()),this.changeDetectionRef.detectChanges(),this.form.rebuild(),this.observeAllFieldsChanges()})}observeAllFieldsChanges(){const e=this.flags.map(e=>(0,u.aj)([(0,h.of)(e),this.form.getField(e).valueChanges()]));(0,d.S3)(...e).pipe((0,g.q)(1),this.takeUntilDestroy()).subscribe(([e,t])=>{this.toggleFlag(e,t[e])})}toggleFlag(e,t){t?this.featureFlagService.enable(e):this.featureFlagService.disable(e)}}return e.\u0275fac=function(t){return new(t||e)(E.Y36(E.SBq),E.Y36(E.Qsj),E.Y36(_.Q),E.Y36(E.sBO))},e.\u0275cmp=E.Xpm({type:e,selectors:[["sp-feature-flag-modal"]],viewQuery:function(e,t){if(1&e&&E.Gf(O,7),2&e){let e;E.iGM(e=E.CRH())&&(t.form=e.first)}},features:[E._Bn([{provide:c.y,useValue:{}}]),E.qOj],decls:13,vars:10,consts:[[1,"sp-mb-4"],[1,"sp-mb-3"],[1,"sp-display-block","sp-mb-2"],["formComponent",""],[3,"id","label","type","value","name",4,"ngFor","ngForOf"],[1,"sp-mb-0","sp-text-info"],["iconId","font-awesome-info-circle",1,"sp-display-inline"],[3,"id","label","type","value","name"]],template:function(e,t){1&e&&(E.TgZ(0,"h2",0),E._uU(1),E.ALo(2,"spL10nText"),E.qZA(),E.TgZ(3,"p",1),E._uU(4),E.ALo(5,"spL10nText"),E.qZA(),E.TgZ(6,"sp-form",2,3),E.YNc(8,P,1,5,"sp-form-field",4),E.qZA(),E.TgZ(9,"p",5),E._UZ(10,"sp-icon",6),E._uU(11),E.ALo(12,"spL10nText"),E.qZA()),2&e&&(E.xp6(1),E.hij(" ",E.lcZ(2,4,"SPT_UTIL_FEATURE_FLAG_MODAL_TITLE"),"\n"),E.xp6(3),E.hij(" ",E.lcZ(5,6,"SPT_UTIL_FEATURE_FLAG_MODAL_DESCRIPTION"),"\n"),E.xp6(4),E.Q6J("ngForOf",t.flags),E.xp6(3),E.hij(" ",E.lcZ(12,8,"SPT_UTIL_FEATURE_FLAG_MODAL_TIP"),"\n"))},directives:[l.Ur,p.sg,v.o,T.u],pipes:[f.L],encapsulation:2,changeDetection:0}),e})(),m=(()=>{class e{constructor(e){this.modalWindowService=e}create(){const e=this.getModalConfiguration();this.modalWindowService.open(e)}getModalConfiguration(){return new n.g.Builder(A).withCloseIconEnabled(!0).withCloseIconId("sp-feature-flag-modal-close-button").withSize(o.e.L).build()}}return e.\u0275fac=function(t){return new(t||e)(E.LFG(i.b))},e.\u0275prov=E.Yz7({token:e,factory:e.\u0275fac}),e})()},68476:(e,t,r)=>{"use strict";r.d(t,{N:()=>n});var i=r(94846);let n=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=i.Yz7({token:e,factory:e.\u0275fac}),e})()},28981:(e,t,r)=>{"use strict";r.d(t,{V:()=>S});var i=r(94846),n=r(88985),o=r(10977),s=r(9994),a=function(e,t,r,i){var n,o=arguments.length,s=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,r):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,r,i);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(s=(o<3?n(s):o>3?n(t,r,s):n(t,r))||s);return o>3&&s&&Object.defineProperty(t,r,s),s},_=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};class c extends n.M{getClassName(){return"FeatureFlagDTO"}}a([(0,o.XV)(),_("design:type",String)],c.prototype,"name",void 0),a([(0,s.si)(),_("design:type",Boolean)],c.prototype,"enabled",void 0);var l=r(29979),u=r(98786),h=r(7090),d=r(75689);let g=(()=>{class e extends l.a{constructor(e,t){super(e),this.environmentService=t}fetchAll(){return this.get("").pipe((0,u.J)(c))}enable(e){return this.post(`${e}/enable`,{},this.getHeaders())}disable(e){return this.post(`${e}/disable`,{},this.getHeaders())}getRestUrl(e){return`${this.environmentService.getRestBaseUrl()}system/tenant/featureflags/${e}`}getHeaders(){return{Authorization:`FeatureFlagAuthToken ${e.AUTH_TOKEN}`}}}return e.AUTH_TOKEN="xndZVaJETCfIZHvU9rOXHEYwbGTLkLd1",e.\u0275fac=function(t){return new(t||e)(i.LFG(h.O),i.LFG(d.L))},e.\u0275prov=i.Yz7({token:e,factory:e.\u0275fac}),e})();var E=r(21613),p=r(45499),v=r(33867),T=r(51403),f=r(72086),O=r(4562),P=r(68476);let A=(()=>{class e extends P.N{constructor(e){super(),this.httpResource=e}fetchAll(){return this.httpResource.fetchAll().pipe((0,u.J)(c))}enable(e){return this.httpResource.enable(e)}disable(e){return this.httpResource.disable(e)}}return e.\u0275fac=function(t){return new(t||e)(i.LFG(g))},e.\u0275prov=i.Yz7({token:e,factory:e.\u0275fac}),e})();var m=r(3970),D=r(63649);let S=(()=>{class e{static forRoot(){return{ngModule:e,providers:[E.Q,g,T.q,D.a,{provide:P.N,useClass:A},{provide:i.ip1,useFactory:e=>()=>e.init(),deps:[E.Q],multi:!0}]}}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=i.oAB({type:e}),e.\u0275inj=i.cJS({imports:[[O.ez,p.v.forRoot(),v.J,f.Q,m.I]]}),e})()},21613:(e,t,r)=>{"use strict";r.d(t,{Q:()=>l});var i=r(88566),n=r(90540),o=r(68387),s=r(73309),a=r(94846),_=r(68476),c=r(63649);let l=(()=>{class e extends s.b{constructor(e,t){super(),this.resource=e,this.converter=t,this.featureFlagMap$=new i.t(1),this.featureFlags=new Map}enable(e){this.resource.enable(e).pipe((0,n.q)(1),this.takeUntilDestroy()).subscribe(()=>{this.featureFlags.set(e,!0),this.featureFlagMap$.next(this.featureFlags)})}disable(e){this.resource.disable(e).pipe((0,n.q)(1),this.takeUntilDestroy()).subscribe(()=>{this.featureFlags.set(e,!1),this.featureFlagMap$.next(this.featureFlags)})}selectAllFeatureFlags(){return this.featureFlagMap$}isFeatureEnabled(e){return this.selectAllFeatureFlags().pipe((0,o.U)(t=>!!t.get(e)))}isFeatureEnabledNow(e){return this.featureFlags.get(e)}init(){return this.resource.fetchAll().pipe((0,o.U)(e=>this.converter.fromArrayDTO(e)),(0,n.q)(1),(0,o.U)(e=>e.reduce((e,t)=>e.set(t.getName(),t.isEnabled()),new Map))).subscribe(e=>{this.featureFlags=e,this.featureFlagMap$.next(e)})}}return e.\u0275fac=function(t){return new(t||e)(a.LFG(_.N),a.LFG(c.a))},e.\u0275prov=a.Yz7({token:e,factory:e.\u0275fac}),e})()},63649:(e,t,r)=>{"use strict";r.d(t,{a:()=>o});class i{constructor(e,t){this.name=e,this.enabled=t}getName(){return this.name}isEnabled(){return this.enabled}}var n=r(94846);let o=(()=>{class e{fromArrayDTO(e){return e.map(e=>this.fromDTO(e))}fromDTO(e){return new i(e.name,e.enabled)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=n.Yz7({token:e,factory:e.\u0275fac}),e})()},88651:(e,t,r)=>{"use strict";r.d(t,{r:()=>i});var i=(()=>(function(e){e.OVERVIEW="o",e.GANTT="g",e.SCOPE="s",e.BOARD="b",e.ROADMAP="r",e.RESOURCES="re",e.RISKS="ri",e.CALENDAR="c",e.REPORTS="rp",e.TEAMS="t",e.CONFIGURATION="settings"}(i||(i={})),i))()},96505:(e,t,r)=>{"use strict";r.d(t,{M:()=>i});class i{openOverviewInNewTab(e,t){console.error("Function not implemented",{boxId:e,path:t})}}},3970:(e,t,r)=>{"use strict";r.d(t,{I:()=>s});var i=r(4562),n=r(86995),o=r(94846);let s=(()=>{class e{static forRoot(){return{ngModule:e,providers:[n.Y]}}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=o.oAB({type:e}),e.\u0275inj=o.cJS({imports:[[i.ez]]}),e})()},84055:(e,t,r)=>{"use strict";r.d(t,{$:()=>s});var i=r(94846),n=r(71402);const o=["*"];let s=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=i.Xpm({type:e,selectors:[["sp-modal-window-standard-button"]],inputs:{disabled:"disabled"},ngContentSelectors:o,decls:2,vars:3,consts:[["sp-button","",3,"disabled"]],template:function(e,t){1&e&&(i.F$t(),i.TgZ(0,"button",0),i.Hsn(1),i.qZA()),2&e&&(i.ekj("disabled",t.disabled),i.Q6J("disabled",t.disabled))},directives:[n.r],encapsulation:2,changeDetection:0}),e})()},92518:(e,t,r)=>{"use strict";r.d(t,{hb:()=>s,V1:()=>a});var i=r(94846),n=r(81106),o=r(75689);const s=new i.OlP("DISABLE_TOUR_TOKEN");let a=(()=>{class e{constructor(e,t,r){this.localStorage=e,this.environmentService=t,this.tourDisabled=r,this.enabledViaTechConfig=this.environmentService.isOnboardingTourEnabled()}isEnabledViaTechConfig(){return this.enabledViaTechConfig}enableFromTechConfig(){this.enabledViaTechConfig=!0}disableFromTechConfig(){this.enabledViaTechConfig=!1}isDisabled(){return this.isDisabledInLs()||!this.enabledViaTechConfig||this.tourDisabled}isDisabledInLs(){return Boolean(this.localStorage.getItem("disable-tours"))}}return e.\u0275fac=function(t){return new(t||e)(i.LFG(n.m),i.LFG(o.L),i.LFG(s,8))},e.\u0275prov=i.Yz7({token:e,factory:e.\u0275fac}),e})()},45610:(e,t,r)=>{"use strict";r.d(t,{Y:()=>a});var i=r(4562),n=r(25635),o=r(3810),s=r(94846);let a=(()=>{class e extends n.x{constructor(e){super(),this.document=e,this.uiPlatformWindow=(0,o.h)(e)}setHashParam(e,t){const r=super.getHashParams();r[e]=t,this.document.defaultView.location.hash=super.toHashString(r),this.uiPlatformWindow.location.hash=super.toHashString(r)}getHashParams(){const e=this.uiPlatformWindow.location.hash.replace(/^#\/|^#/,"");return super.toParamsMap(e)}}return e.\u0275fac=function(t){return new(t||e)(s.LFG(i.K0))},e.\u0275prov=s.Yz7({token:e,factory:e.\u0275fac}),e})()},25635:(e,t,r)=>{"use strict";r.d(t,{x:()=>n});var i=r(47359);class n{getHashParam(e){return this.getHashParams()[e]}setHashParam(e,t){const r=this.getHashParams();r[e]=t,window.location.hash=this.toHashString(r)}getUrl(){return window.location.origin+window.location.pathname}getHashParams(){const e=window.location.hash.replace(/^#\/|^#/,"");return this.toParamsMap(e)}toHashString(e){return"#/"+this.createParamsString(e)}toParamsMap(e){const t={};return i.isEmpty(e)||e.split("&").forEach(e=>{const r=e.split("=");t[r[0]]=r[1]}),t}createParamsString(e){const t=[];return i.forEach(e,(e,r)=>{t.push(r+"="+e)}),t.join("&")}}},80549:(e,t,r)=>{"use strict";r.d(t,{v:()=>i});const i="page"},78454:(e,t,r)=>{"use strict";r.d(t,{E:()=>c});var i=r(88651),n=r(96505),o=r(80549),s=r(94846),a=r(75689),_=r(99544);let c=(()=>{class e extends n.M{constructor(e,t){super(),this.environmentService=e,this.jiraServerParentWindowNavigator=t}goToGantt(e){const t=this.getBoxModuleRouterUrl(i.r.GANTT,e);return{eventPreventDefault:!0,href:t,navigation:()=>this.jiraServerParentWindowNavigator.navigateTo(t)}}goToRoadmap(e){const t=this.getBoxModuleRouterUrl(i.r.ROADMAP,e);return{eventPreventDefault:!0,href:t,navigation:()=>this.jiraServerParentWindowNavigator.navigateTo(t)}}goToBoard(e){const t=this.getBoxModuleRouterUrl(i.r.BOARD,e);return{eventPreventDefault:!0,href:t,navigation:()=>this.jiraServerParentWindowNavigator.navigateTo(t)}}goToBoardCapacityPlanning(e){const t=this.getBoxModuleRouterUrl(`${i.r.BOARD}/capacity-planning'`,e);return{eventPreventDefault:!0,href:t,navigation:()=>this.jiraServerParentWindowNavigator.navigateTo(t)}}goToWbsConfiguration(e){const t=this.environmentService.getProgramModuleUrl("admin/wbsConfiguration",e);return{eventPreventDefault:!0,href:t,navigation:()=>this.jiraServerParentWindowNavigator.navigateTo(t)}}goToIssueDetails(e){return this.environmentService.getBaseURL()+"/plugins/servlet/"+this.environmentService.getRestBaseUrlParam()+"/issue-details.html"}goToResources(e){const t=this.getBoxModuleRouterUrl(i.r.RESOURCES,e);return{eventPreventDefault:!0,href:t,navigation:()=>this.jiraServerParentWindowNavigator.navigateTo(t)}}goToRisk(e){const t=this.getBoxModuleRouterUrl(i.r.RISKS,e);return{eventPreventDefault:!0,href:t,navigation:()=>this.jiraServerParentWindowNavigator.navigateTo(t)}}goToReports(e){const t=this.getBoxModuleRouterUrl(i.r.REPORTS,e);return{eventPreventDefault:!0,href:t,navigation:()=>this.jiraServerParentWindowNavigator.navigateTo(t)}}goToTeams(e){const t=this.getBoxModuleRouterUrl(i.r.TEAMS,e);return{eventPreventDefault:!0,href:t,navigation:()=>this.jiraServerParentWindowNavigator.navigateTo(t)}}goToScope(e){const t=this.getBoxModuleRouterUrl(i.r.SCOPE,e);return{eventPreventDefault:!0,href:t,navigation:()=>this.jiraServerParentWindowNavigator.navigateTo(t)}}goToBoxConfiguration(e){const t=this.getBoxModuleRouterUrl(i.r.CONFIGURATION,e);return{eventPreventDefault:!0,href:t,navigation:()=>this.jiraServerParentWindowNavigator.navigateTo(t)}}goToBoxSecurityConfiguration(e){const t=this.getBoxModuleRouterUrl(`${i.r.CONFIGURATION}/security`,e);return{eventPreventDefault:!0,href:t,navigation:()=>this.jiraServerParentWindowNavigator.navigateTo(t)}}goToScopeDefinition(e){const t=this.getBoxModuleRouterUrl(`${i.r.CONFIGURATION}/tasks/scope-definition`,e);return{eventPreventDefault:!0,href:t,navigation:()=>this.jiraServerParentWindowNavigator.navigateTo(t)}}goToOverview(e,t){const r=this.getBoxModuleRouterUrl(t?`${i.r.OVERVIEW}/${t}`:i.r.OVERVIEW,e);return{eventPreventDefault:!0,href:r,navigation:()=>this.jiraServerParentWindowNavigator.navigateTo(r)}}goToIssuePage(e){return`${this.environmentService.getBaseURL()}/browse/${e}`}goToAdministration(){const e=this.environmentService.getServletUrl()+"/#/administration";return{eventPreventDefault:!0,href:e,navigation:()=>this.jiraServerParentWindowNavigator.navigateTo(e)}}goToUserProfile(){const e=this.environmentService.getServletUrl()+"/#/userprofile";return{eventPreventDefault:!0,href:e,navigation:()=>this.jiraServerParentWindowNavigator.navigateTo(e)}}goToUserProfileAbsences(){const e=this.environmentService.getServletUrl()+"/#/userprofile/absences";return{eventPreventDefault:!0,href:e,navigation:()=>this.jiraServerParentWindowNavigator.navigateTo(e)}}goToTechnicalConfiguration(){const e=this.environmentService.getServletUrl()+"/admin/global-configuration.html";return{eventPreventDefault:!0,href:e,navigation:()=>this.jiraServerParentWindowNavigator.navigateTo(e)}}goToTechnicalConfigurationToolConnections(){const e=this.environmentService.getServletUrl()+"/admin/global-configuration.html?page=tools";return{eventPreventDefault:!0,href:e,navigation:()=>this.jiraServerParentWindowNavigator.navigateTo(e)}}goToAdministrationResourceManager(){const e=`${this.environmentService.getServletUrl()}/administration.html?${o.v}=/resourcemanager`;return{eventPreventDefault:!0,href:e,navigation:()=>this.jiraServerParentWindowNavigator.navigateTo(e)}}goToAdministrationWorkloadPlans(){const e=`${this.environmentService.getServletUrl()}/administration.html?${o.v}=/workloadplan`;return{eventPreventDefault:!0,href:e,navigation:()=>this.jiraServerParentWindowNavigator.navigateTo(e)}}goToAdministrationHolidayPlans(){const e=`${this.environmentService.getServletUrl()}/administration.html?${o.v}=/holidayplan`;return{eventPreventDefault:!0,href:e,navigation:()=>this.jiraServerParentWindowNavigator.navigateTo(e)}}goToAdministrationSkills(){const e=`${this.environmentService.getServletUrl()}/administration.html?${o.v}=/skills`;return{eventPreventDefault:!0,href:e,navigation:()=>this.jiraServerParentWindowNavigator.navigateTo(e)}}goToAdministrationStoryPointVelocity(){const e=`${this.environmentService.getServletUrl()}/administration.html?${o.v}=/storypoint`;return{eventPreventDefault:!0,href:e,navigation:()=>this.jiraServerParentWindowNavigator.navigateTo(e)}}goToTaskTemplates(e){const t=this.getBoxModuleRouterUrl(`${i.r.CONFIGURATION}/tasks/task-templates`,e);return{eventPreventDefault:!0,href:t,navigation:()=>this.jiraServerParentWindowNavigator.navigateTo(t)}}goToScopeColumnViewConfiguration(e){const t=this.getBoxModuleRouterUrl(`${i.r.CONFIGURATION}/scope/column-views`,e);return{eventPreventDefault:!0,href:t,navigation:()=>this.jiraServerParentWindowNavigator.navigateTo(t)}}goToGanttColumnViewConfiguration(e){const t=this.getBoxModuleRouterUrl(`${i.r.CONFIGURATION}/gantt/column-views`,e);return{eventPreventDefault:!0,href:t,navigation:()=>this.jiraServerParentWindowNavigator.navigateTo(t)}}goToTaskCardLayoutConfiguration(e){const t=this.getBoxModuleRouterUrl(`${i.r.CONFIGURATION}/board/card-views`,e);return{eventPreventDefault:!0,href:t,navigation:()=>this.jiraServerParentWindowNavigator.navigateTo(t)}}goToRiskCardLayoutConfiguration(e){const t=this.getBoxModuleRouterUrl(`${i.r.CONFIGURATION}/risk/card-views`,e);return{eventPreventDefault:!0,href:t,navigation:()=>this.jiraServerParentWindowNavigator.navigateTo(t)}}goToWbsWidgetConfiguration(e){const t=`${this.environmentService.getServletUrl()}/#/global-configuration/widgets/wbs-widget`;return{eventPreventDefault:!0,href:t,navigation:()=>this.jiraServerParentWindowNavigator.navigateTo(t)}}goToSkillWidgetConfiguration(e){const t=`${this.environmentService.getServletUrl()}/#/global-configuration/widgets/skill-widget`;return{eventPreventDefault:!0,href:t,navigation:()=>this.jiraServerParentWindowNavigator.navigateTo(t)}}goToSecurityManager(){const e=`${this.environmentService.getServletUrl()}/#/administration/security/globalroleassignment`;return{eventPreventDefault:!0,href:e,navigation:()=>this.jiraServerParentWindowNavigator.navigateTo(e)}}goToAppManagement(){return{eventPreventDefault:!0,href:"",navigation:()=>window.open(`${this.environmentService.getParam("main-extplatform-base-url")}/plugins/servlet/upm#manage/\n\t\t\t\t${this.environmentService.getParam("pluginKey")}`)}}goToCalendar(e){const t=this.getBoxModuleRouterUrl(i.r.CALENDAR,e);return{eventPreventDefault:!0,href:t,navigation:()=>this.jiraServerParentWindowNavigator.navigateTo(t)}}getBoxModuleRouterUrl(e,t){return`${this.environmentService.getServletUrl()}/#box/${t}/${e}`}getProgramModuleWithQueryRouterUrl(e,t,r){const i=r?"&"+o.v+"="+r:"";return this.environmentService.getProgramModuleUrl(e,t)+i}}return e.\u0275fac=function(t){return new(t||e)(s.LFG(a.L),s.LFG(_.p))},e.\u0275prov=s.Yz7({token:e,factory:e.\u0275fac}),e})()},99544:(e,t,r)=>{"use strict";r.d(t,{p:()=>s});var i=r(4562),n=r(3810),o=r(94846);let s=(()=>{class e{constructor(e){this.document=e,this.uiPlatformWindow=(0,n.h)(e)}navigateTo(e){this.uiPlatformWindow.postMessage({type:"REDIRECT_PARENT_WINDOW",url:e},"*")}}return e.\u0275fac=function(t){return new(t||e)(o.LFG(i.K0))},e.\u0275prov=o.Yz7({token:e,factory:e.\u0275fac}),e})()},46576:(e,t,r)=>{"use strict";r.d(t,{f:()=>a});var i=r(52792),n=r(33680),o=r(4562),s=r(94846);let a=(()=>{class e{constructor(e,t,r){this.rendererFactory=e,this.window=t,this.document=r,this.renderer=this.rendererFactory.createRenderer(null,null)}load(){return new i.y(t=>{const r=this.renderer.createElement("script");r.src=e.ISSUE_COLLECTOR_URL,r.onload=()=>{t.next(),t.complete()},this.renderer.appendChild(this.document.body,r)})}}return e.ISSUE_COLLECTOR_URL="https://jira.softwareplant.com/s/c0065398cf08b27e311d39dafa98bb35-T/xdt0f8/805000/3e63071b7f797853c758c4183775e392/3.1.0/_/download/batch/com.atlassian.jira.collector.plugin.jira-issue-collector-plugin:issuecollector-embededjs/com.atlassian.jira.collector.plugin.jira-issue-collector-plugin:issuecollector-embededjs.js?locale=en-US&collectorId=e1137671",e.\u0275fac=function(t){return new(t||e)(s.LFG(s.FYo),s.LFG(n.m),s.LFG(o.K0))},e.\u0275prov=s.Yz7({token:e,factory:e.\u0275fac}),e})()},2322:(e,t,r)=>{"use strict";r.d(t,{j:()=>u});var i=r(70802),n=r(68387),o=r(15609);let s=(()=>{class e{}return e.READ="permissionREAD",e.EDIT="permissionEDIT",e.ADMIN="permissionADMIN",e.CREATOR="hasRightsToCreate",e.PROJECT_CREATE_RIGHTS="hasRightsToCreateProject",e.GANTT_MANAGER="hasGanttManagerPermission",e.PLUGIN_ADMIN="hasPluginAdministratorPermission",e.HOST_PLATFORM_ADMIN="isHostPlatformAdmin",e.LICENCE_VALID="isLicenseValid",e.HAS_PLUGIN_USER_PERMISSION="hasPluginUserPermission",e})();var a=r(94846),_=r(75689),c=r(24793),l=r(52911);let u=(()=>{class e extends o.${constructor(e,t,r){super(),this.environmentService=e,this.boxHierarchyService=t,this.boxSecurityResolver=r}isReadOnly(){if(!this.isLicenseValid())return!0;if(this.isEdit())return!1;const e=this.getContextBoxSecurity();return!!e&&this.boxSecurityResolver.isReadOnly(e)}selectReadOnlyPermissions(){return this.boxHierarchyService.selectContextBoxId().pipe((0,i.w)(e=>this.boxHierarchyService.selectBox(e).pipe((0,n.U)(e=>{if(!e)return!0;const t=e.getSecurity();return!this.isLicenseValid()||!this.checkEditPermissions(t)&&this.boxSecurityResolver.isReadOnly(t)}))),this.takeUntilDestroy())}isEdit(){const e=this.getContextBoxSecurity();return this.checkEditPermissions(e)}isAdmin(){const e=this.getContextBoxSecurity();return!!e&&e.isBoxAdmin}isPluginUser(){return this.isTrue(this.environmentService.getParam(s.HAS_PLUGIN_USER_PERMISSION))}isHostPlatformAdmin(){return this.isTrue(this.environmentService.getParam(s.HOST_PLATFORM_ADMIN))}isPluginAdmin(){return this.isTrue(this.environmentService.getParam(s.PLUGIN_ADMIN))}isCreator(){const e=this.getContextBoxSecurity();return!!e&&this.boxSecurityResolver.canCreate(e)}isLicenseValid(){return this.isTrue(this.environmentService.getParam(s.LICENCE_VALID))}hasRightsToCreateProject(){return this.isTrue(this.environmentService.getParam(s.PROJECT_CREATE_RIGHTS))}disable(e){e&&e.length>0&&jQuery.each(e,function(e,t){jQuery(t).attr("disabled","disabled")})}checkEdit(e){const t=jQuery(e.target);this.isEdit()||"true"===t.attr("aria-disabled")||(t.attr("aria-disabled","true"),t.addClass("disabled"))}checkPermissions(){this.isEdit()||jQuery('[data-sp-permission="EDIT"]').attr("aria-disabled","true")}listen(){jQuery("body").on("DOMSubtreeModified",'[data-sp-permission="EDIT"]',function(e){this.checkEdit(e)}),jQuery("body").on("DOMSubtreeModified",'[data-sp-permission="ADMIN"]',function(e){const t=jQuery(e.target);this.isAdmin()||"true"===t.attr("aria-disabled")||t.attr("aria-disabled","true")})}noPermissionTooltipText(){return"You have no permission to perform this action"}getContextBoxSecurity(){const e=this.boxHierarchyService.getContextBoxId(),t=this.boxHierarchyService.getBoxById(e);return t?t.getSecurity():null}checkEditPermissions(e){return!!e&&(this.boxSecurityResolver.canEdit(e)||this.checkBoxEditorPermissions(e)||this.isPluginAdmin())}checkBoxEditorPermissions(e){return!!e&&e.isBoxEditor}}return e.\u0275fac=function(t){return new(t||e)(a.LFG(_.L),a.LFG(c.T,8),a.LFG(l.h,8))},e.\u0275prov=a.Yz7({token:e,factory:e.\u0275fac}),e})()}}]);