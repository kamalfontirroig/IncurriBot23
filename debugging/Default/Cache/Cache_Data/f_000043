"use strict";(self.webpackChunkppm=self.webpackChunkppm||[]).push([[296],{47176:($,O,t)=>{t.d(O,{N:()=>h});var o=t(85105);let h=(()=>{class c{getResolver(){return this.resolver}getInterval(){return this.interval}}return c.Builder=class extends o.I{constructor(){super(...arguments),this.interval=1e3}build(){let r=new c;return r.resolver=this.resolver,r.interval=this.interval,r}withResolver(r){return this.resolver=r,this}withInterval(r){return this.interval=r,this}},c})()},28109:($,O,t)=>{t.d(O,{T:()=>p});var o=t(53339),h=t(79906),c=t(18709),v=t(59024),r=t(55005);class p{constructor(f){this.liveSyncService=f}startSync(f){const _=f.getResolver(),C=f.getInterval(),e=(0,o.of)(null).pipe((0,c.zg)(()=>(0,h.D)(_.resolve()))),T=(new v.Y.Builder).build(),E=(new r.T.Builder).withCustomInterval(C).withDisabledOnBrowserTabSwitch().withReadyForNextCallback(e).withDisabledOnUserIdle(T).build();this.liveSyncService.startSync(E)}stopSync(){this.liveSyncService.stopSync()}destroySync(){this.liveSyncService.destroySync()}}},85873:($,O,t)=>{t.d(O,{$:()=>be});var o=t(55331),h=t(92945),v=(t(49996),t(82055)),r=t(54419),p=t(77062),g=t(79272),f=t(94679),_=t(92585),C=t(55283),e=t(41001),T=t(6401),E=t(57335),M=t(84046);let I=(()=>{class X{}return X.\u0275fac=function(Ce){return new(Ce||X)},X.\u0275mod=M.oAB({type:X}),X.\u0275inj=M.cJS({providers:[E.E],imports:[[o.ez,p.q,f.C,v.Y,g.k,r.O,_.g,C.w,T.s,e.J]]}),X})();var F=t(95241),W=t(84997),Q=t(95068),K=t(86875),q=t(51545),Z=t(51805);let D=(()=>{class X{}return X.\u0275fac=function(Ce){return new(Ce||X)},X.\u0275mod=M.oAB({type:X}),X.\u0275inj=M.cJS({imports:[[o.ez,q.F,Z.$,e.J]]}),X})();var L=t(4909),R=t(77535),b=t(30455),V=t(95995),J=t(75195),ee=t(37219),re=t(21937),ne=t(85046),de=t(92944),he=t(68890),me=t(34367),ge=t(19156),ue=t(46363),Ee=t(45778),Se=t(18655),Te=t(47285);let le=(()=>{class X extends Se.o{constructor(Ce,De){super(),this.permissionService=Ce,this.boxApplicationPermissionService=De}isEditable(){return this.boxApplicationPermissionService?this.boxApplicationPermissionService.isEdit():this.permissionService.isEdit()}}return X.\u0275fac=function(Ce){return new(Ce||X)(M.LFG(Te.$),M.LFG(ue.W,8))},X.\u0275prov=M.Yz7({token:X,factory:X.\u0275fac}),X})();t(7503);let be=(()=>{class X{}return X.\u0275fac=function(Ce){return new(Ce||X)},X.\u0275mod=M.oAB({type:X}),X.\u0275inj=M.cJS({providers:[{provide:b.J,useValue:b.J.default()},L.p,R.N,K.h,Q.H,ue.W,Ee.E,{provide:Se.o,useClass:le}],imports:[[o.ez,f.C.forRoot(),ee.K.forRoot(),me.E.forRoot(),V.x.forRoot(),ge.I.forRoot(),re.lK.forRoot(),J.N.forRoot(),h.Bz,I,de.$,he.z8,F.z,D,ne.x,W.z]]}),X})()},49996:($,O,t)=>{t.d(O,{J:()=>xo});var o=t(52591),h=t(6248),c=t(92945),v=t(73241),r=t(68725);const p=[r.u,v.RJ,v.Yw];var g=t(4562),f=t(70822),_=t(17176),C=t(62628),e=t(84046),T=t(15843);let E=(()=>{class l extends C.b{constructor(i,m,H){super(),this.router=i,this.applicationFeaturesStorage=m,this.boxApplicationHeaderVisibilityStorage=H}init(){this.applicationFeaturesStorage.getFeatures().getApplicationContext()!==_.Z.GLOBAL&&(this.toggleHeaderVisibility(this.router.url),this.observeRoutesRecognizedEvent())}observeRoutesRecognizedEvent(){this.router.events.pipe((0,f.h)(i=>i instanceof c.R9),this.takeUntilDestroy()).subscribe(i=>this.toggleHeaderVisibility(i.urlAfterRedirects))}toggleHeaderVisibility(i){const m=!p.some(H=>i.toLowerCase().includes(H));this.boxApplicationHeaderVisibilityStorage.set(m)}}return l.\u0275fac=function(i){return new(i||l)(e.LFG(c.F0),e.LFG(T.x),e.LFG(g.Z))},l.\u0275prov=e.Yz7({token:l,factory:l.\u0275fac}),l})();var M=t(42441),I=t(47176),F=t(28109),W=t(71726),Q=t(30455),K=t(61631);class q{constructor(S){this.boxAggregateId=S.get(Q.J),this.boxHierarchyCommandService=S.get(K.Z)}resolve(){return this.boxHierarchyCommandService.syncAsync(this.boxAggregateId).pipe((0,W.U)(()=>{})).toPromise()}}var Z=t(71118),D=t(32517);let L=(()=>{class l{constructor(i,m){this.injector=i,this.boxSyncService=new F.T(m)}runSync(){this.boxSyncService.startSync(this.createConfig())}destroy(){this.boxSyncService.destroySync()}createConfig(){const m=Z.l.convertMinutesToMs(5);return(new I.N.Builder).withInterval(m).withResolver(new q(this.injector)).build()}}return l.\u0275fac=function(i){return new(i||l)(e.LFG(e.zs3),e.LFG(D.v))},l.\u0275prov=e.Yz7({token:l,factory:l.\u0275fac}),l})();var R=t(27609),b=(()=>{return(l=b||(b={}))[l.ACTIVATE=0]="ACTIVATE",l[l.DEACTIVATE=1]="DEACTIVATE",b;var l})();let V=(()=>{class l extends R.V{constructor(){super()}}return l.\u0275fac=function(i){return new(i||l)},l.\u0275prov=e.Yz7({token:l,factory:l.\u0275fac}),l})();var J=t(8817),ee=t(91342),re=t(45778),ne=t(96105),de=t(66795),he=t(68890),me=t(98223),ge=(()=>{return(l=ge||(ge={})).READONLY="READONLY",l.SYNC="SYNC",ge;var l})();class ue{constructor(S,i,m){this.target=S,this.text=i,this.active=m}getText(){return this.text}isSameTarget(S){return S===this.target}isActive(){return this.active}setActive(S){this.active=S}}var Ee=t(90850),Se=t(83941),Te=t(30713);class le extends C.b{constructor(S,i,m,H){super(),this.scopeSyncRepository=S,this.tooltipReadonlyTextStorage=i,this.boxApplicationReadonlyModeStorage=m,this.l10nTextService=H,this.currentTargetChange$=new Ee.xQ}init(){this.selectCurrentTarget(),this.selectReadonlyTarget(),this.selectSyncTarget()}selectCurrentTarget(){this.currentTargetChange$.pipe(this.mapFirstActiveTargetFromQueue(),this.convertTextFromTarget(),(0,ne.x)(),this.takeUntilDestroy()).subscribe(S=>{this.tooltipReadonlyTextStorage.set(S?de.bq.ofNullable(Se.H.string(S)):de.bq.empty())})}selectReadonlyTarget(){this.boxApplicationReadonlyModeStorage.select().pipe(this.takeUntilDestroy()).subscribe(S=>{this.updateCurrentTarget(ge.READONLY,S)})}selectSyncTarget(){this.scopeSyncRepository.selectStatus().pipe(this.takeUntilDestroy()).subscribe(S=>{this.updateCurrentTarget(ge.SYNC,S===h.g.SYNCING)})}updateCurrentTarget(S,i){this.getTargetEntityByKey(S).setActive(i),this.currentTargetChange$.next()}getTargetEntityByKey(S){return le.TARGET_QUEUE.find(i=>i.isSameTarget(S))}mapFirstActiveTargetFromQueue(){return S=>S.pipe((0,W.U)(()=>{const i=le.TARGET_QUEUE.find(m=>m.isActive());return de.bq.ofNullable(i)}))}convertTextFromTarget(){return S=>S.pipe((0,W.U)(i=>{let m;return i.ifPresent(H=>{m=this.getTranslatedValue(H.getText())}),m}))}getTranslatedValue(S){return this.l10nTextService.translate(S)}}le.TARGET_QUEUE=[new ue(ge.SYNC,"SPT_TOOLTIP_MODE_SYNC_TARGET",!1),new ue(ge.READONLY,"SPT_TOOLTIP_MODE_READONLY_TARGET",!1)],le.\u0275fac=function(S){return new(S||le)(e.LFG(Te.T),e.LFG(he.jy),e.LFG(re.E),e.LFG(me.e))},le.\u0275prov=e.Yz7({token:le,factory:le.\u0275fac});const Be=[M.D,L,le,ee.N,J.h,V,E,g.Z];var Ie=t(95068),be=t(86875),X=t(11206),_e=t(2100),Ce=t(73455),De=t(26463),xe=t(65799);let Ge=(()=>{class l{constructor(i,m){this.navigationLinkService=i,this.modalWindowComponentRef=m}ngOnInit(){this.OVERVIEW_HOME_LINK=this.navigationLinkService.goToOverview(X.A.ROOT_ID.toString())}closeModal(){this.modalWindowComponentRef.close()}}return l.\u0275fac=function(i){return new(i||l)(e.Y36(Ce.M),e.Y36(_e.Zh))},l.\u0275cmp=e.Xpm({type:l,selectors:[["sp-context-box-removed-modal"]],hostAttrs:[1,"sp-flex","sp-flex-col","sp-justify-center","sp-items-center"],decls:65,vars:10,consts:[["width","137","height","120","viewBox","0 0 137 120","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M70.9087 120C102.885 120 128.808 94.0894 128.808 62.127C128.808 30.1647 102.885 4.25409 70.9087 4.25409C38.932 4.25409 13.0098 30.1647 13.0098 62.127C13.0098 94.0894 38.932 120 70.9087 120Z","fill","#F4F5F7"],["d","M79.635 70.724C79.635 70.724 81.3854 63.6312 82.6474 63.2421L83.7185 65.6707C83.7185 65.6707 89.26 64.5034 92.7583 66.9765C92.7583 66.9765 94.8981 64.694 96.3559 64.4982C97.1166 68.2716 97.2805 72.141 96.8419 75.9652C95.5774 87.1397 90.0674 97.1588 77.0763 99.5114C65.9434 101.528 53.5816 97.1547 47.5542 87.6307C47.5542 87.6307 45.9867 85.2934 46.8723 84.2357C48.163 82.6819 57.4693 89.2889 59.7057 88.7066C59.7057 88.7066 49.7384 82.789 51.1884 79.9111C52.5888 77.1247 54.8618 80.6632 58.7834 82.6819C60.0897 83.3478 61.7174 84.0895 62.9401 84.2175C64.8303 84.4417 66.7467 84.2557 68.5583 83.6721C70.37 83.0884 72.0344 82.1209 73.4378 80.8356C77.9707 76.8165 79.635 70.724 79.635 70.724Z","fill","#0D2D63"],["d","M73.997 82.6769C73.997 82.6769 67.5803 75.2916 69.1348 73.6385C70.6894 71.9855 74.1903 77.0335 77.0094 78.1564L73.997 82.6769Z","fill","#0D2D63"],["d","M80.2959 81.7104C80.2959 79.5507 78.9112 77.5033 77.1921 76.1114C76.2216 77.9241 74.9198 79.5388 73.3541 80.8721C71.9617 82.1497 70.3114 83.1138 68.5144 83.6995C66.7174 84.2851 64.8157 84.4787 62.9375 84.267C64.4006 86.8576 67.5488 88.6517 71.2013 88.6517C76.2463 88.6387 80.2959 85.9358 80.2959 81.7104Z","fill","#2579F6"],["d","M80.3352 85.3719C80.3352 85.3719 75.9094 78.3914 76.4345 77.3077C76.9597 76.2239 82.7937 83.4838 82.7937 83.4838L80.3352 85.3719Z","fill","#0D2D63"],["d","M83.1255 85.6643C83.1255 85.6643 74.3784 77.5009 75.4469 76.0436C76.5155 74.5864 78.7519 77.5008 82.2529 80.0288C85.7538 82.5567 86.117 82.2694 86.117 82.2694C86.2179 82.6722 86.2256 83.0927 86.1394 83.499C86.0533 83.9052 85.8757 84.2865 85.62 84.6138C85.3644 84.9411 85.0374 85.2058 84.664 85.3879C84.2906 85.5699 83.8806 85.6645 83.4652 85.6643H83.1255Z","fill","#2579F6"],["d","M89.8113 71.1131C90.0897 71.1131 90.3155 70.8792 90.3155 70.5908C90.3155 70.3023 90.0897 70.0685 89.8113 70.0685C89.5328 70.0685 89.307 70.3023 89.307 70.5908C89.307 70.8792 89.5328 71.1131 89.8113 71.1131Z","fill","#2579F6"],["d","M83.196 69.8936C83.4745 69.8936 83.7003 69.6598 83.7003 69.3713C83.7003 69.0828 83.4745 68.849 83.196 68.849C82.9175 68.849 82.6918 69.0828 82.6918 69.3713C82.6918 69.6598 82.9175 69.8936 83.196 69.8936Z","fill","#2579F6"],["d","M85.7487 70.7762L85.4874 70.1468C85.4722 70.1153 85.4662 70.0802 85.4702 70.0454C85.4741 70.0107 85.4878 69.9778 85.5096 69.9505C85.5315 69.9231 85.5606 69.9026 85.5937 69.8911C85.6267 69.8796 85.6623 69.8778 85.6964 69.8857L86.5847 70.0763C86.6204 70.083 86.6534 70.1002 86.6793 70.1256C86.7052 70.1511 86.7229 70.1837 86.7302 70.2193C86.7375 70.2549 86.734 70.2918 86.7202 70.3254C86.7064 70.359 86.6829 70.3878 86.6526 70.408L86.0204 70.8493C85.9983 70.8643 85.9732 70.8744 85.9469 70.8789C85.9205 70.8833 85.8935 70.882 85.8677 70.8751C85.8419 70.8682 85.8179 70.8557 85.7974 70.8387C85.7768 70.8216 85.7602 70.8003 85.7487 70.7762Z","fill","#FF5630"],["fill-rule","evenodd","clip-rule","evenodd","d","M89.0641 54.758C81.3807 54.758 75.1522 60.9838 75.1522 68.6636C75.1522 76.3434 81.3807 82.5692 89.0641 82.5692C96.7475 82.5692 102.976 76.3434 102.976 68.6636C102.976 60.9838 96.7475 54.758 89.0641 54.758ZM74.9423 68.6636C74.9423 60.8677 81.2649 54.548 89.0641 54.548C96.8633 54.548 103.186 60.8677 103.186 68.6636C103.186 76.4594 96.8633 82.7791 89.0641 82.7791C81.2649 82.7791 74.9423 76.4594 74.9423 68.6636Z","fill","#2579F6"],["d","M80.6068 59.0638C80.6068 59.0638 84.066 55.6689 85.3828 57.0582C86.8302 58.5807 79.823 60.3748 79.2404 60.7769C78.6578 61.1791 80.6068 59.0638 80.6068 59.0638Z","fill","#2579F6"],["d","M94.4932 79.4855C94.4932 79.4855 96.2828 79.2688 98.1796 77.4825C98.6447 77.0438 97.2782 79.906 95.5304 80.0026C93.7825 80.0992 94.4932 79.4855 94.4932 79.4855Z","fill","#2579F6"],["d","M93.9994 68.1255L95.6506 66.3994V69.6794L93.9994 68.1255Z","fill","#2579F6"],["d","M81.9315 66.3395L82.441 64.7361L82.8564 65.987L81.9315 66.3395Z","fill","#2579F6"],["d","M66.9402 97.6902C66.9402 97.6902 54.8723 100.38 48.2205 92.2192C41.5687 84.0583 45.0671 75.1166 44.8711 73.9388C44.6752 72.7611 43.1206 73.2598 42.4413 74.9129C41.7621 76.566 40.4009 85.2126 45.3571 92.4098C50.3133 99.607 57.8011 101.252 62.274 100.767C66.7468 100.281 71.7997 98.2413 71.7997 98.2413L66.9402 97.6902Z","fill","#0D2D63"],["d","M47.4366 85.8836C47.6372 85.8836 47.7998 85.7211 47.7998 85.5206C47.7998 85.3201 47.6372 85.1576 47.4366 85.1576C47.2361 85.1576 47.0735 85.3201 47.0735 85.5206C47.0735 85.7211 47.2361 85.8836 47.4366 85.8836Z","fill","#2579F6"],["d","M48.3616 86.2466C48.5621 86.2466 48.7247 86.0841 48.7247 85.8836C48.7247 85.6832 48.5621 85.5206 48.3616 85.5206C48.161 85.5206 47.9984 85.6832 47.9984 85.8836C47.9984 86.0841 48.161 86.2466 48.3616 86.2466Z","fill","#2579F6"],["d","M48.163 85.3692C48.3635 85.3692 48.5261 85.2067 48.5261 85.0062C48.5261 84.8058 48.3635 84.6432 48.163 84.6432C47.9624 84.6432 47.7998 84.8058 47.7998 85.0062C47.7998 85.2067 47.9624 85.3692 48.163 85.3692Z","fill","#2579F6"],["d","M52.3929 80.7809C52.5935 80.7809 52.7561 80.6184 52.7561 80.4179C52.7561 80.2175 52.5935 80.0549 52.3929 80.0549C52.1924 80.0549 52.0298 80.2175 52.0298 80.4179C52.0298 80.6184 52.1924 80.7809 52.3929 80.7809Z","fill","#2579F6"],["d","M53.3177 81.1437C53.5183 81.1437 53.6809 80.9812 53.6809 80.7807C53.6809 80.5802 53.5183 80.4177 53.3177 80.4177C53.1172 80.4177 52.9546 80.5802 52.9546 80.7807C52.9546 80.9812 53.1172 81.1437 53.3177 81.1437Z","fill","#2579F6"],["d","M53.1218 80.269C53.3224 80.269 53.485 80.1064 53.485 79.906C53.485 79.7055 53.3224 79.543 53.1218 79.543C52.9213 79.543 52.7587 79.7055 52.7587 79.906C52.7587 80.1064 52.9213 80.269 53.1218 80.269Z","fill","#2579F6"],["d","M69.8192 75.1713C70.0198 75.1713 70.1824 75.0088 70.1824 74.8083C70.1824 74.6078 70.0198 74.4453 69.8192 74.4453C69.6186 74.4453 69.4561 74.6078 69.4561 74.8083C69.4561 75.0088 69.6186 75.1713 69.8192 75.1713Z","fill","#2579F6"],["d","M70.7441 75.5343C70.9447 75.5343 71.1073 75.3718 71.1073 75.1714C71.1073 74.9709 70.9447 74.8083 70.7441 74.8083C70.5436 74.8083 70.381 74.9709 70.381 75.1714C70.381 75.3718 70.5436 75.5343 70.7441 75.5343Z","fill","#2579F6"],["d","M70.5455 74.657C70.7461 74.657 70.9087 74.4944 70.9087 74.294C70.9087 74.0935 70.7461 73.931 70.5455 73.931C70.345 73.931 70.1824 74.0935 70.1824 74.294C70.1824 74.4944 70.345 74.657 70.5455 74.657Z","fill","#2579F6"],["d","M39.6902 57.139C54.6851 57.139 66.8409 44.9887 66.8409 30.0005C66.8409 15.0124 54.6851 2.86206 39.6902 2.86206C24.6953 2.86206 12.5396 15.0124 12.5396 30.0005C12.5396 44.9887 24.6953 57.139 39.6902 57.139Z","fill","#DFE1E6"],["d","M66.6449 26.9113C66.0186 33.581 62.9465 39.7835 58.0198 44.3251C53.0931 48.8667 46.66 51.4265 39.9585 51.5117C33.2571 51.597 26.7608 49.2017 21.7201 44.7869C16.6794 40.3721 13.4503 34.2497 12.6545 27.5981C12.5813 28.4208 12.5395 29.2538 12.5395 30.0947C12.5299 33.7988 13.279 37.4657 14.7407 40.8695C16.2024 44.2733 18.3457 47.3419 21.0387 49.8865C23.7316 52.4311 26.9172 54.3977 30.3993 55.6653C33.8813 56.9328 37.5861 57.4744 41.2855 57.2567C44.9849 57.0391 48.6005 56.0667 51.9097 54.3996C55.219 52.7325 58.1517 50.4059 60.5274 47.5631C62.9032 44.7203 64.6715 41.4215 65.7236 37.8698C66.7756 34.3181 67.0892 30.5887 66.6449 26.9113Z","fill","#2579F6"],["fill-rule","evenodd","clip-rule","evenodd","d","M73.6951 9.0527C70.6302 10.0339 66.4135 11.7743 61.4144 14.1134L61.3255 13.9233C66.3276 11.5827 70.5537 9.83799 73.6311 8.85276C75.169 8.36042 76.4253 8.05599 77.3503 7.96316C77.8125 7.91679 78.1984 7.92249 78.498 7.98751C78.7971 8.05241 79.0254 8.18015 79.146 8.39063C79.2478 8.56811 79.2595 8.78244 79.2031 9.01888C79.1468 9.25469 79.0208 9.5214 78.8344 9.81532C78.4615 10.4034 77.8331 11.1209 76.9794 11.9484C75.2707 13.6047 72.6415 15.7188 69.293 18.1459C62.5948 23.0009 53.0063 29.1164 42.1145 35.3382C31.2228 41.56 21.0868 46.7195 13.5034 50.0276C9.71237 51.6814 6.55591 52.8739 4.26055 53.5046C3.11372 53.8197 2.17598 53.9962 1.47907 54.0179C1.13075 54.0287 0.836561 54.0012 0.604286 53.9291C0.371381 53.8569 0.192322 53.7371 0.0905494 53.5585C-0.0321001 53.3437 -0.0238548 53.0762 0.0773958 52.7786C0.178884 52.4804 0.3788 52.136 0.665419 51.7508C1.23919 50.9797 2.17635 50.0241 3.42893 48.9165C5.9354 46.7003 9.7214 43.8614 14.4374 40.6522L14.5555 40.8258C9.84237 44.033 6.06475 46.8662 3.568 49.0738C2.31897 50.1782 1.39462 51.1225 0.833846 51.8761C0.553194 52.2533 0.367581 52.5775 0.276142 52.8463C0.184464 53.1157 0.192383 53.3135 0.272867 53.4545L0.272917 53.4545C0.339995 53.5723 0.465697 53.6664 0.666458 53.7286C0.867887 53.7911 1.13632 53.8185 1.47254 53.8081C2.14468 53.7872 3.06362 53.6157 4.20493 53.3021C6.48588 52.6754 9.63162 51.4875 13.4195 49.8352C20.994 46.531 31.1231 41.3752 42.0104 35.1559C52.8977 28.9366 62.4795 22.8252 69.1698 17.9759C72.5155 15.5509 75.1352 13.4436 76.8332 11.7976C77.6829 10.9741 78.2974 10.2702 78.6571 9.70289C78.8371 9.41911 78.95 9.17458 78.9989 8.97013C79.0475 8.76631 79.0306 8.61136 78.9639 8.49505C78.8847 8.3569 78.723 8.25116 78.4535 8.19267C78.1845 8.13429 77.8233 8.12669 77.3713 8.17205C76.4682 8.26268 75.2284 8.56183 73.6951 9.0527Z","fill","#0D2D63"],["d","M124.384 64.8377C129.266 64.8377 133.223 60.8823 133.223 56.0031C133.223 51.1239 129.266 47.1685 124.384 47.1685C119.503 47.1685 115.546 51.1239 115.546 56.0031C115.546 60.8823 119.503 64.8377 124.384 64.8377Z","fill","#2579F6"],["fill-rule","evenodd","clip-rule","evenodd","d","M112.401 47.3478C112.319 47.355 112.285 47.3788 112.27 47.3981L112.27 47.3982C112.258 47.4146 112.247 47.4444 112.254 47.501C112.261 47.5583 112.284 47.6339 112.33 47.7289C112.42 47.9187 112.588 48.1646 112.83 48.4616C113.312 49.0543 114.076 49.832 115.065 50.7415C117.042 52.5597 119.908 54.8952 123.198 57.3158C126.488 59.7365 129.568 61.7836 131.889 63.1359C133.05 63.8124 134.018 64.3131 134.726 64.6001C135.081 64.7439 135.365 64.8317 135.573 64.8628C135.677 64.8784 135.756 64.8788 135.813 64.8683C135.868 64.858 135.893 64.839 135.905 64.8228L135.905 64.8224C135.919 64.8035 135.932 64.7651 135.916 64.6869C135.9 64.6092 135.859 64.5077 135.788 64.3817C135.646 64.1305 135.397 63.8041 135.05 63.4127C134.357 62.6314 133.286 61.6072 131.932 60.4333L132.069 60.2746C133.427 61.451 134.506 62.4821 135.207 63.2735C135.558 63.6685 135.817 64.0079 135.97 64.2784C136.047 64.4132 136.1 64.5366 136.122 64.6449C136.144 64.7524 136.138 64.8608 136.075 64.9469C136.021 65.0199 135.94 65.0582 135.851 65.0747C135.763 65.0911 135.658 65.0878 135.542 65.0705C135.31 65.0357 135.008 64.9407 134.647 64.7947C133.925 64.5021 132.947 63.9955 131.783 63.3173C129.454 61.9601 126.367 59.9085 123.073 57.4849C119.779 55.0612 116.907 52.7209 114.923 50.8961C113.931 49.9841 113.159 49.1985 112.667 48.5942C112.421 48.2927 112.242 48.0316 112.14 47.8195C112.09 47.7136 112.056 47.6144 112.045 47.5251C112.035 47.435 112.048 47.346 112.102 47.2733L112.186 47.3357L112.102 47.2734C112.166 47.1856 112.271 47.1484 112.383 47.1386C112.495 47.1287 112.632 47.1446 112.788 47.18C113.1 47.2511 113.513 47.4066 114.009 47.6343C115.003 48.0905 116.35 48.8452 117.927 49.8268L117.816 50.005C116.242 49.0253 114.904 48.2759 113.922 47.8251C113.43 47.5994 113.032 47.4509 112.741 47.3848C112.595 47.3516 112.483 47.3406 112.401 47.3478Z","fill","#0D2D63"],["d","M81.3803 21.0224C84.1784 18.1263 98.5637 3.52549 107.577 0C105.031 1.53908 102.587 3.24186 100.262 5.0976C94.5141 9.62329 86.7885 16.5881 82.5481 22.0409C82.4758 22.131 82.3843 22.204 82.2804 22.2547C82.1765 22.3053 82.0626 22.3324 81.947 22.3339C81.8314 22.3354 81.7169 22.3113 81.6117 22.2633C81.5065 22.2154 81.4132 22.1448 81.3385 22.0565C81.2185 21.9085 81.1565 21.7219 81.1642 21.5316C81.1719 21.3412 81.2487 21.1602 81.3803 21.0224Z","fill","#2579F6"],["d","M23.2069 76.3571C24.5474 76.3571 25.6341 75.2709 25.6341 73.931C25.6341 72.5911 24.5474 71.5049 23.2069 71.5049C21.8665 71.5049 20.7798 72.5911 20.7798 73.931C20.7798 75.2709 21.8665 76.3571 23.2069 76.3571Z","fill","#0D2D63"],["d","M102.72 100.691C103.474 100.691 104.084 100.08 104.084 99.3275C104.084 98.5747 103.474 97.9644 102.72 97.9644C101.967 97.9644 101.357 98.5747 101.357 99.3275C101.357 100.08 101.967 100.691 102.72 100.691Z","fill","#0D2D63"],["d","M117.866 76.8975C118.619 76.8975 119.23 76.2871 119.23 75.5343C119.23 74.7814 118.619 74.1711 117.866 74.1711C117.113 74.1711 116.502 74.7814 116.502 75.5343C116.502 76.2871 117.113 76.8975 117.866 76.8975Z","fill","#DFE1E6"],["d","M108.944 44.8024C109.697 44.8024 110.307 44.1921 110.307 43.4392C110.307 42.6864 109.697 42.076 108.944 42.076C108.19 42.076 107.58 42.6864 107.58 43.4392C107.58 44.1921 108.19 44.8024 108.944 44.8024Z","fill","#DFE1E6"],["d","M38.9535 67.0809C39.7067 67.0809 40.3173 66.4706 40.3173 65.7177C40.3173 64.9649 39.7067 64.3546 38.9535 64.3546C38.2003 64.3546 37.5897 64.9649 37.5897 65.7177C37.5897 66.4706 38.2003 67.0809 38.9535 67.0809Z","fill","#DFE1E6"],["d","M34.1409 96.5985C34.8941 96.5985 35.5047 95.9882 35.5047 95.2353C35.5047 94.4825 34.8941 93.8721 34.1409 93.8721C33.3877 93.8721 32.7771 94.4825 32.7771 95.2353C32.7771 95.9882 33.3877 96.5985 34.1409 96.5985Z","fill","#DFE1E6"],["d","M76.3926 111.732C77.1458 111.732 77.7564 111.122 77.7564 110.369C77.7564 109.616 77.1458 109.006 76.3926 109.006C75.6394 109.006 75.0288 109.616 75.0288 110.369C75.0288 111.122 75.6394 111.732 76.3926 111.732Z","fill","#DFE1E6"],["d","M60.6854 76.78C61.7749 76.78 62.658 75.8972 62.658 74.8083C62.658 73.7194 61.7749 72.8367 60.6854 72.8367C59.596 72.8367 58.7129 73.7194 58.7129 74.8083C58.7129 75.8972 59.596 76.78 60.6854 76.78Z","fill","#DFE1E6"],["d","M47.0709 117.83C48.5888 117.83 49.8194 116.6 49.8194 115.083C49.8194 113.565 48.5888 112.335 47.0709 112.335C45.5529 112.335 44.3224 113.565 44.3224 115.083C44.3224 116.6 45.5529 117.83 47.0709 117.83Z","fill","#DFE1E6"],["d","M94.3494 40.8852C97.3565 40.8852 99.7942 38.4486 99.7942 35.4429C99.7942 32.4372 97.3565 30.0005 94.3494 30.0005C91.3424 30.0005 88.9047 32.4372 88.9047 35.4429C88.9047 38.4486 91.3424 40.8852 94.3494 40.8852Z","fill","#DFE1E6"],["d","M64.3744 66.2688C67.3815 66.2688 69.8192 63.8322 69.8192 60.8265C69.8192 57.8208 67.3815 55.3842 64.3744 55.3842C61.3674 55.3842 58.9297 57.8208 58.9297 60.8265C58.9297 63.8322 61.3674 66.2688 64.3744 66.2688Z","fill","#2579F6"],["d","M59.1205 59.7192C59.2867 61.3581 59.8275 62.9369 60.7011 64.3337C60.756 64.4225 60.9206 64.3676 60.8788 64.2579L60.8056 64.0595C60.7638 63.942 60.5731 63.9916 60.6175 64.1117L60.6907 64.3102L60.871 64.2344C60.0181 62.8672 59.4907 61.3224 59.3295 59.7192C59.3295 59.5938 59.1205 59.5938 59.1335 59.7192H59.1205Z","fill","#0D2D63"],["d","M60.0192 58.1158C60.067 59.8406 60.4541 61.539 61.1583 63.1142C61.2106 63.2291 61.3804 63.1299 61.3282 63.0176C60.6385 61.4768 60.2569 59.8161 60.2047 58.1289C60.2009 58.1057 60.189 58.0846 60.171 58.0693C60.1531 58.0541 60.1303 58.0457 60.1068 58.0457C60.0832 58.0457 60.0604 58.0541 60.0425 58.0693C60.0245 58.0846 60.0126 58.1057 60.0088 58.1289L60.0192 58.1158Z","fill","#0D2D63"],["d","M60.7795 64.9055C62.2974 61.5547 64.9423 58.8416 68.2543 57.2383C68.3693 57.1834 68.27 57.0137 68.155 57.0685C64.814 58.6891 62.1449 61.4263 60.6097 64.8063C60.5575 64.9212 60.7273 65.0204 60.7795 64.9055Z","fill","#0D2D63"],["d","M62.5249 61.466C62.078 59.9903 61.9972 58.4281 62.2897 56.9142C62.3133 56.7915 62.1252 56.7392 62.1016 56.862C61.8 58.4101 61.8807 60.0084 62.3368 61.5183C62.3437 61.5432 62.3603 61.5643 62.3828 61.5771C62.4053 61.5898 62.432 61.5931 62.457 61.5862C62.4819 61.5792 62.5031 61.5627 62.5158 61.5402C62.5285 61.5176 62.5318 61.491 62.5249 61.466Z","fill","#0D2D63"],["d","M63.6064 60.5732C63.3907 59.1544 63.4798 57.706 63.8677 56.3243C63.8746 56.2994 63.8714 56.2727 63.8586 56.2502C63.8459 56.2277 63.8247 56.2111 63.7998 56.2042C63.7748 56.1973 63.7481 56.2005 63.7256 56.2133C63.7031 56.226 63.6865 56.2471 63.6796 56.2721C63.2813 57.6877 63.1922 59.1724 63.4183 60.6254C63.4366 60.7482 63.6273 60.6959 63.6064 60.5732Z","fill","#0D2D63"],["d","M64.6346 59.593C64.5619 58.3371 64.7959 57.0823 65.3165 55.937C65.3687 55.8221 65.1989 55.7228 65.1467 55.8377C64.6136 57.0146 64.3742 58.3033 64.4491 59.593C64.4491 59.7184 64.6529 59.7184 64.645 59.593H64.6346Z","fill","#0D2D63"],["d","M65.6331 58.7356L66.2235 56.4061C66.2279 56.3818 66.223 56.3566 66.2097 56.3357C66.1965 56.3147 66.1759 56.2995 66.152 56.293C66.1281 56.2864 66.1027 56.289 66.0806 56.3003C66.0585 56.3116 66.0415 56.3307 66.0328 56.3539L65.4423 58.6833C65.438 58.7077 65.4429 58.7329 65.4561 58.7538C65.4694 58.7747 65.4899 58.79 65.5138 58.7965C65.5377 58.8031 65.5632 58.8005 65.5853 58.7892C65.6074 58.7779 65.6244 58.7588 65.6331 58.7356Z","fill","#0D2D63"],["d","M61.5424 65.3968C63.216 62.791 65.4613 60.6003 68.108 58.9908C68.1268 58.976 68.1397 58.9549 68.1442 58.9313C68.1487 58.9078 68.1445 58.8834 68.1324 58.8627C68.1203 58.842 68.1011 58.8264 68.0783 58.8187C68.0556 58.8111 68.0308 58.8119 68.0087 58.8211C65.3347 60.45 63.0656 62.6645 61.3726 65.2975C61.3046 65.4046 61.4744 65.5039 61.5424 65.3968Z","fill","#0D2D63"],["d","M62.948 65.514C63.9931 63.5031 65.8768 62.1661 67.69 60.9073C67.7945 60.8368 67.69 60.6671 67.5907 60.7402C65.7618 62.0146 63.8285 63.3752 62.7782 65.4174C62.7207 65.527 62.8905 65.6263 62.948 65.514Z","fill","#0D2D63"],["d","M64.3171 65.7675C65.1845 64.104 66.7756 63.0203 68.1968 61.8686C68.2935 61.7903 68.155 61.6519 68.0584 61.7302C66.6214 62.8923 65.0225 63.9891 64.1394 65.6683C64.0819 65.7806 64.2517 65.8798 64.3092 65.7675H64.3171Z","fill","#0D2D63"],["d","M65.9133 65.616C66.5432 64.7416 67.264 63.9362 68.0635 63.2135C68.1576 63.1299 68.0191 62.9915 67.9251 63.0751C67.113 63.8091 66.3817 64.6276 65.7435 65.5168C65.6703 65.6186 65.8402 65.7153 65.9133 65.616Z","fill","#0D2D63"],["d","M69.5423 58.5964C70.0962 58.2673 70.7023 57.8834 71.0158 57.2906C71.3293 56.6978 71.1856 56.1259 70.9401 55.554C70.7756 55.2323 70.6502 54.8922 70.5664 54.5407C70.5318 54.3148 70.5478 54.0839 70.6133 53.8649C70.6788 53.6458 70.7922 53.4441 70.9453 53.2742C71.5174 52.5978 72.3875 52.3732 73.2078 52.1565C73.9772 51.9848 74.7069 51.6684 75.358 51.2242C75.9198 50.8089 76.5494 50.2187 76.6252 49.4823C76.7689 48.1087 74.9374 47.5368 73.8976 47.9781C73.375 48.2001 72.7506 48.8425 73.2052 49.4223C73.537 49.8453 74.2999 49.5345 74.0909 48.9914C74.0465 48.8738 73.8584 48.9261 73.9028 49.0436C73.9225 49.1068 73.9209 49.1748 73.8982 49.2371C73.8756 49.2993 73.8332 49.3524 73.7774 49.3883C73.7217 49.4241 73.6558 49.4407 73.5897 49.4356C73.5236 49.4304 73.4611 49.4037 73.4116 49.3596C73.3482 49.2974 73.3012 49.2205 73.2748 49.1357C73.2483 49.051 73.2433 48.961 73.2601 48.8738C73.3306 48.5004 73.7278 48.2445 74.0622 48.1243C74.3446 48.0245 74.6459 47.9897 74.9436 48.0227C75.2413 48.0557 75.5277 48.1556 75.7813 48.315C77.3489 49.3335 75.6872 50.8951 74.6187 51.4488C73.5501 52.0024 72.2098 51.9972 71.2222 52.7545C70.8393 53.0261 70.5536 53.4133 70.4071 53.8591C70.3049 54.3286 70.3695 54.8189 70.59 55.2458C70.8512 55.8622 71.1935 56.4967 70.8669 57.1601C70.5795 57.7372 69.9786 58.108 69.443 58.4266C69.4241 58.4414 69.4113 58.4626 69.4068 58.4861C69.4023 58.5097 69.4065 58.5341 69.4186 58.5548C69.4307 58.5755 69.4499 58.5911 69.4726 58.5987C69.4954 58.6064 69.5201 58.6055 69.5423 58.5964Z","fill","#0D2D63"],["d","M80.3587 26.0338C81.8203 26.0338 83.0053 24.8494 83.0053 23.3883C83.0053 21.9273 81.8203 20.7429 80.3587 20.7429C78.897 20.7429 77.712 21.9273 77.712 23.3883C77.712 24.8494 78.897 26.0338 80.3587 26.0338Z","fill","#0D2D63"],[1,"sp-mt-8","sp-text-center","sp-text-container"],[1,"sp-font-medium"],[1,"sp-mt-4","sp-btn","sp-btn-primary",3,"spNavigationLink","clicked"]],template:function(i,m){1&i&&(e.O4$(),e.TgZ(0,"svg",0),e._UZ(1,"path",1),e._UZ(2,"path",2),e._UZ(3,"path",3),e._UZ(4,"path",4),e._UZ(5,"path",5),e._UZ(6,"path",6),e._UZ(7,"path",7),e._UZ(8,"path",8),e._UZ(9,"path",9),e._UZ(10,"path",10),e._UZ(11,"path",11),e._UZ(12,"path",12),e._UZ(13,"path",13),e._UZ(14,"path",14),e._UZ(15,"path",15),e._UZ(16,"path",16),e._UZ(17,"path",17),e._UZ(18,"path",18),e._UZ(19,"path",19),e._UZ(20,"path",20),e._UZ(21,"path",21),e._UZ(22,"path",22),e._UZ(23,"path",23),e._UZ(24,"path",24),e._UZ(25,"path",25),e._UZ(26,"path",26),e._UZ(27,"path",27),e._UZ(28,"path",28),e._UZ(29,"path",29),e._UZ(30,"path",30),e._UZ(31,"path",31),e._UZ(32,"path",32),e._UZ(33,"path",33),e._UZ(34,"path",34),e._UZ(35,"path",35),e._UZ(36,"path",36),e._UZ(37,"path",37),e._UZ(38,"path",38),e._UZ(39,"path",39),e._UZ(40,"path",40),e._UZ(41,"path",41),e._UZ(42,"path",42),e._UZ(43,"path",43),e._UZ(44,"path",44),e._UZ(45,"path",45),e._UZ(46,"path",46),e._UZ(47,"path",47),e._UZ(48,"path",48),e._UZ(49,"path",49),e._UZ(50,"path",50),e._UZ(51,"path",51),e._UZ(52,"path",52),e._UZ(53,"path",53),e._UZ(54,"path",54),e.qZA(),e.kcU(),e.TgZ(55,"div",55),e.TgZ(56,"h2",56),e._uU(57),e.ALo(58,"spL10nText"),e.qZA(),e.TgZ(59,"h4"),e._uU(60),e.ALo(61,"spL10nText"),e.qZA(),e.qZA(),e.TgZ(62,"a",57),e.NdJ("clicked",function(){return m.closeModal()}),e._uU(63),e.ALo(64,"spL10nText"),e.qZA()),2&i&&(e.xp6(57),e.Oqu(e.lcZ(58,4,"SPT_CONTEXT_BOX_REMOVED_MODAL_TITLE")),e.xp6(3),e.Oqu(e.lcZ(61,6,"SPT_CONTEXT_BOX_REMOVED_MODAL_TEXT")),e.xp6(2),e.Q6J("spNavigationLink",m.OVERVIEW_HOME_LINK),e.xp6(1),e.Oqu(e.lcZ(64,8,"SPT_CONTEXT_BOX_REMOVED_MODAL_GO_HOME_BTN_TEXT")))},directives:[De.k],pipes:[xe.L],styles:["[_nghost-%COMP%]{padding:48px}[_nghost-%COMP%]   .sp-text-container[_ngcontent-%COMP%]{width:464px}"],changeDetection:0}),l})();var Ke=t(88378),P=t(77535),N=t(67890),A=t(79906),U=t(4683),Y=t(98274),z=t(84605),se=t(87156),ae=t(86263),G=t(21693),k=t(62546),x=t(4909),j=t(70508),te=t(25673),oe=t(8228),ce=t(55331),Re=t(63833),Ye=t(83950);function Me(l,S){if(1&l&&(e.TgZ(0,"a",2),e._uU(1),e.ALo(2,"spL10nText"),e.qZA()),2&l){const i=e.oxw();e.uIk("href",i.documentationLink,e.LSH),e.xp6(1),e.hij(" ",e.lcZ(2,2,"SPT_BOX_APPLICATION_CONTEXT_BANNER_READ_MORE")," ")}}const et=function(l,S){return{appName:l,extCatalogName:S}};let tt=(()=>{class l extends k.H{constructor(i,m,H,ie,pe,fe,Oe){super(i,m),this.changeDetectorRef=H,this.environmentService=ie,this.applicationFeaturesStorage=pe,this.boxAggregateCommandService=fe,this.boxAggregateService=Oe,this.documentationLink=this.environmentService.getHelpURL("ppm/box/extcatalog-entry")}ngOnInit(){this.observeExtCatalogName()}observeExtCatalogName(){this.boxAggregateCommandService.fetchExtCatalogName().pipe((0,f.h)(i=>i instanceof N.zv),(0,W.U)(i=>i.extCatalogName),(0,Re.q)(1),this.takeUntilDestroy()).subscribe(i=>{this.appName=this.applicationFeaturesStorage.getFeatures().getSystemPlatform().getName(),this.extCatalogName=i,this.changeDetectorRef.detectChanges()})}}return l.\u0275fac=function(i){return new(i||l)(e.Y36(e.SBq),e.Y36(e.Qsj),e.Y36(e.sBO),e.Y36(Ye.L),e.Y36(T.x),e.Y36(N.NL),e.Y36(N.tn))},l.\u0275cmp=e.Xpm({type:l,selectors:[["sp-banner-message"]],features:[e.qOj],decls:4,vars:8,consts:[[1,"sp-m-0"],["class","sp-text-secondary","target","_blank",4,"ngIf"],["target","_blank",1,"sp-text-secondary"]],template:function(i,m){1&i&&(e.TgZ(0,"p",0),e._uU(1),e.ALo(2,"spL10nText"),e.YNc(3,Me,3,4,"a",1),e.qZA()),2&i&&(e.xp6(1),e.hij(" ",e.xi3(2,2,"SPT_BOX_APPLICATION_CONTEXT_BANNER_MESSAGE",e.WLB(5,et,m.appName,m.extCatalogName))," "),e.xp6(2),e.Q6J("ngIf",m.documentationLink))},directives:[ce.O5],pipes:[xe.L],encapsulation:2,changeDetection:0}),l})();var ot=t(57335);class Ae{static create(S,i,m){const ie=i.get(e._Vd).resolveComponentFactory(S),pe=m.createComponent(ie,void 0,i);return pe.changeDetectorRef.detectChanges(),pe.location.nativeElement.classList.add("sp-flex","sp-w-full"),pe}}var ve=t(88004),$e=t(18982),Qe=t(49549),ye=t(35811),Je=t(68071),ze=t(88129),At=t(67225),Tt=t(92463),ut=t(53531),Mt=t(5242),yt=t(96951),Le=t(25137),pt=t(4437);let Ot=(()=>{class l{}return l.\u0275fac=function(i){return new(i||l)},l.\u0275cmp=e.Xpm({type:l,selectors:[["sp-box-area-sync-dropdown-item"]],decls:2,vars:3,consts:[["iconName","tools",3,"text"]],template:function(i,m){1&i&&(e._UZ(0,"sp-circle-dropdown-item",0),e.ALo(1,"spL10nText")),2&i&&e.Q6J("text",e.lcZ(1,1,"SPT_COMMON_USER_SETTINGS_FIELD_SYNC_CONFIGURATION"))},directives:[pt.V],pipes:[xe.L],encapsulation:2,changeDetection:0}),l})();var mt=t(69085);class we{constructor(S){this.items=S,this.header="",this.divider=!1,this.type=mt.H.DEFAULT}}class Dt{constructor(S,i,m=[],H=(()=>!0),ie=(()=>!0),pe="",fe="",Oe=null,He=null,ct=null,dt=""){this.label=S,this.onClick=i,this.children=m,this.isEnabled=H,this.isVisible=ie,this.tooltip=pe,this.id=fe,this.confirmDialog=Oe,this.suffixIcon=He,this.suffixIconURL=ct,this.suffixHomeURL=dt,this.checked=!1}}var Rt=t(5453),Bt=t(901),Pe=t(72569),It=t(2196),bt=t(7752),Lt=t(73620),Ve=t(76013),je=t(6083),wt=t(74383),Pt=t(47258),it=t(95900),Vt=t(17314),ht=t(40999);function Ut(l,S){if(1&l&&(e.TgZ(0,"a",1),e._UZ(1,"img",2),e.TgZ(2,"span"),e._uU(3),e.qZA(),e.qZA()),2&l){const i=S.$implicit;e.uIk("href",i.profileLink,e.LSH),e.xp6(1),e.Q6J("src",i.urlIcon,e.LSH),e.xp6(2),e.hij(" ",i.fullName," ")}}let Ue=(()=>{class l extends k.H{constructor(i,m,H,ie){super(i,m),this.activeUserListService=H,this.changeDetectorRef=ie,this.restActiveUsers=[]}ngOnInit(){this.selectActiveUsers()}getHostClasses(){return["sp-active-user-list-dialog","sp-block","sp-overflow-y-auto","sp-text-base"]}selectActiveUsers(){this.activeUserListService.subscribeActiveUsers().pipe(this.takeUntilDestroy()).subscribe(i=>{this.restActiveUsers=i.slice(vt.MAX_VISIBLE_USERS_WITHOUT_CURRENT),this.changeDetectorRef.detectChanges()})}}return l.\u0275fac=function(i){return new(i||l)(e.Y36(e.SBq),e.Y36(e.Qsj),e.Y36(ht.W),e.Y36(e.sBO))},l.\u0275cmp=e.Xpm({type:l,selectors:[["sp-box-active-user-list-dialog"]],features:[e.qOj],decls:1,vars:1,consts:[["target","_blank","class","sp-flex sp-items-center sp-cursor-pointer sp-text-blue-400 sp-truncate sp-mb-1",4,"ngFor","ngForOf"],["target","_blank",1,"sp-flex","sp-items-center","sp-cursor-pointer","sp-text-blue-400","sp-truncate","sp-mb-1"],[1,"sp-w-4","sp-h-4","sp-mr-1","sp-circle",3,"src"]],template:function(i,m){1&i&&e.YNc(0,Ut,4,3,"a",0),2&i&&e.Q6J("ngForOf",m.restActiveUsers)},directives:[ce.sg],styles:[".sp-box-active-user-list-dialog{width:200px;height:200px}\n"],encapsulation:2,changeDetection:0}),l})();var Ft=t(3306),Wt=t(27818),Ct=t(94944);function Nt(l,S){if(1&l&&(e.TgZ(0,"span",3),e._uU(1),e.qZA()),2&l){const i=e.oxw(2);e.Q6J("spInlineDialogConfiguration",i.inlineDialogConfiguration),e.xp6(1),e.hij(" +",i.getMissingUsersCount(i.activeUsers.length)," ")}}const Ht=function(l){return[l]};function Zt(l,S){if(1&l&&(e.TgZ(0,"a",4),e._UZ(1,"img",5),e.ALo(2,"spRichTextString"),e.qZA()),2&l){const i=S.$implicit,m=S.index,H=e.oxw(2);e.Q6J("ngClass",e.VKq(7,Ht,H.getTransformCircleClass(m))),e.uIk("href",i.profileLink,e.LSH),e.xp6(1),e.Q6J("src",i.urlIcon,e.LSH)("spTooltip",e.lcZ(2,5,i.fullName))("spTooltipGravity",H.TooltipGravity.SOUTH)}}function Gt(l,S){if(1&l&&(e.ynx(0),e.YNc(1,Nt,2,2,"span",1),e.YNc(2,Zt,3,9,"a",2),e.ALo(3,"slice"),e.BQk()),2&l){const i=e.oxw();e.xp6(1),e.Q6J("ngIf",i.activeUsers.length>i.MAX_VISIBLE_USERS_WITHOUT_CURRENT),e.xp6(1),e.Q6J("ngForOf",e.Dn7(3,2,i.activeUsers,0,i.MAX_VISIBLE_USERS_WITHOUT_CURRENT))}}let vt=(()=>{class l extends k.H{constructor(i,m,H,ie,pe,fe,Oe,He){super(i,m),this.boxActiveUserListService=H,this.inlineDialogService=ie,this.changeDetectorRef=pe,this.environmentService=fe,this.boxActiveUsersLiveSyncAvailabilityService=Oe,this.window=He,this.TooltipGravity=it.X,this.MAX_VISIBLE_USERS_WITHOUT_CURRENT=l.MAX_VISIBLE_USERS_WITHOUT_CURRENT,this.activeUsers=[],this.liveSyncEnabled=!1}ngOnInit(){this.setLiveSyncEnabled(),this.liveSyncEnabled&&(this.initializeInlineDialog(),this.selectActiveUsersListSubscription(),this.selectBeforeUnload())}finalize(){!this.liveSyncEnabled||this.boxActiveUserListService.unsubscribeActiveUsers()}getHostClasses(){return["sp-active-user-list","sp-flex","sp-items-center"]}getMissingUsersCount(i){return Math.min(i-l.MAX_VISIBLE_USERS_WITHOUT_CURRENT,l.MAX_USER_COUNT)}getTransformCircleClass(i){return"sp-active-user-list__item--transform-"+(Math.min(this.activeUsers.length,this.MAX_VISIBLE_USERS_WITHOUT_CURRENT)-i)}setLiveSyncEnabled(){this.liveSyncEnabled=this.boxActiveUsersLiveSyncAvailabilityService.isActiveUsersLiveSyncAvailable()}selectBeforeUnload(){this.domManipulator.listen(this.window,"beforeunload").pipe(this.takeUntilDestroy()).subscribe(()=>{!this.liveSyncEnabled||this.boxActiveUserListService.disconnect()})}selectActiveUsersListSubscription(){this.boxActiveUserListService.subscribeActiveUsers().pipe(this.takeUntilDestroy()).subscribe(m=>{const H=this.getLoggedInUserIndex(m);m.splice(H,1),this.activeUsers=m,this.changeDetectorRef.detectChanges()})}initializeInlineDialog(){this.inlineDialogConfiguration=new Ve.U(Ue,{},wt.e.CLICK,null,je.x.HORIZONTAL_BOTTOM,Lt.a.ELEMENT_WITH_MOUSE_X)}getLoggedInUserIndex(i){const m=this.environmentService.getLoggedInUser();return i.findIndex(H=>H.name===m.displayName)}}return l.MAX_VISIBLE_USERS_WITHOUT_CURRENT=3,l.MAX_USER_COUNT=99,l.\u0275fac=function(i){return new(i||l)(e.Y36(e.SBq),e.Y36(e.Qsj),e.Y36(ht.W),e.Y36(Pt.O),e.Y36(e.sBO),e.Y36(Ye.L),e.Y36(Ft.b),e.Y36(Vt.m))},l.\u0275cmp=e.Xpm({type:l,selectors:[["sp-box-active-user-list"]],features:[e.qOj],decls:1,vars:1,consts:[[4,"ngIf"],["spInlineDialog","","class","sp-active-user-list__more sp-active-user-list__item sp-active-user-list__item--transform-4 sp-circle sp-text-center sp-bg-gray-20 sp-dark:bg-gray-20 sp-p-0",3,"spInlineDialogConfiguration",4,"ngIf"],["class","sp-active-user-list__item sp-relative sp-block sp-circle sp-overflow-hidden sp-cursor-pointer sp-border-1","target","_blank",3,"ngClass",4,"ngFor","ngForOf"],["spInlineDialog","",1,"sp-active-user-list__more","sp-active-user-list__item","sp-active-user-list__item--transform-4","sp-circle","sp-text-center","sp-bg-gray-20","sp-dark:bg-gray-20","sp-p-0",3,"spInlineDialogConfiguration"],["target","_blank",1,"sp-active-user-list__item","sp-relative","sp-block","sp-circle","sp-overflow-hidden","sp-cursor-pointer","sp-border-1",3,"ngClass"],[1,"sp-w-full","sp-h-full",3,"src","spTooltip","spTooltipGravity"]],template:function(i,m){1&i&&e.YNc(0,Gt,4,6,"ng-container",0),2&i&&e.Q6J("ngIf",m.liveSyncEnabled)},directives:[ce.O5,ce.sg,Wt.Z,ce.mk,he.i9],pipes:[ce.OU,Ct.C],styles:[".sp-active-user-list__item{width:26px;height:26px}.sp-active-user-list__item--transform-1{transform:translate(5px);z-index:3}.sp-active-user-list__item--transform-2{transform:translate(10px);z-index:2}.sp-active-user-list__item--transform-3{transform:translate(15px);z-index:1}.sp-active-user-list__item--transform-4{transform:translate(20px);z-index:0}.sp-active-user-list__item:hover{z-index:200}.sp-active-user-list__more{font-size:.625rem;line-height:24px}\n"],encapsulation:2,changeDetection:0}),l})();var Kt=t(97809),nt=t(85670);let jt=(()=>{class l{constructor(i){this.boxHierarchyService=i}selectBoxModules(){return this.boxHierarchyService.selectContextBox().pipe((0,W.U)(i=>i.getModules()))}}return l.\u0275fac=function(i){return new(i||l)(e.LFG(te.T))},l.\u0275prov=e.Yz7({token:l,factory:l.\u0275fac}),l})();var ft=t(45963);let rt=(()=>{class l{constructor(i,m){this.boxHierarchyService=m,this.boxLinksMapper=new ft.i(i)}getBoxModuleName(i){return i.getName()}getBoxModuleNavigationLink(i){const m=this.boxHierarchyService.getContextBoxId().toString();return this.boxLinksMapper.getModuleNavigationLink(i.getType(),m)}getBoxModuleIconClass(i){return this.boxLinksMapper.getModuleIconClass(i.getType())}}return l.\u0275fac=function(i){return new(i||l)(e.LFG(Ce.M),e.LFG(te.T))},l.\u0275prov=e.Yz7({token:l,factory:l.\u0275fac}),l})();var Yt=t(52744),io=t(85739),$t=t(11657),Qt=t(30828),Jt=t(55472),s=t(44864),n=t(62419);const u=function(l){return[l]};let d=(()=>{class l extends k.H{constructor(i,m,H){super(m,H),this.boxModuleDropdownItemService=i,this.Gravity=it.X,this.classBoxModuleDropdownItem=!0}getHostClasses(){return["sp-flex"]}ngOnChanges(i){i.boxModule&&i.boxModule.currentValue&&this.setProperties()}setProperties(){this.boxModuleIconClass=this.boxModuleDropdownItemService.getBoxModuleIconClass(this.boxModule),this.boxModuleName=this.boxModuleDropdownItemService.getBoxModuleName(this.boxModule)}}return l.\u0275fac=function(i){return new(i||l)(e.Y36(rt),e.Y36(e.SBq),e.Y36(e.Qsj))},l.\u0275cmp=e.Xpm({type:l,selectors:[["sp-box-module-dropdown-item"]],hostVars:2,hostBindings:function(i,m){2&i&&e.ekj("sp-box-module-dropdown-item",m.classBoxModuleDropdownItem)},inputs:{boxModule:"boxModule"},features:[e.qOj,e.TTD],decls:4,vars:8,consts:[[1,"sp-box-module-dropdown-item__icon","sp-text-center","sp-mr-1",3,"ngClass"],[1,"sp-box-module-picker__name","sp-truncate",3,"spTooltip","spTooltipOnOverflow"]],template:function(i,m){1&i&&(e._UZ(0,"i",0),e.TgZ(1,"div",1),e.ALo(2,"spRichTextString"),e._uU(3),e.qZA()),2&i&&(e.Q6J("ngClass",e.VKq(6,u,m.boxModuleIconClass)),e.xp6(1),e.Q6J("spTooltip",e.lcZ(2,4,m.boxModuleName))("spTooltipOnOverflow",!0),e.xp6(2),e.hij(" ",m.boxModuleName,"\n"))},directives:[ce.mk,he.i9],pipes:[Ct.C],styles:[".sp-box-module-dropdown-item{place-items:center}.sp-box-module-dropdown-item__icon{width:18px}\n"],encapsulation:2,changeDetection:0}),l})();var y=t(18217),B=function(l,S){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(l,S)};function w(l,S){if(1&l&&e._UZ(0,"sp-box-module-dropdown-item",15),2&l){const i=e.oxw(2);e.Q6J("boxModule",i.activeModule)}}function Xe(l,S){1&l&&(e.TgZ(0,"div",16),e._uU(1,"Inactive box module"),e.qZA())}function gt(l,S){if(1&l){const i=e.EpF();e.TgZ(0,"sp-dropdown-item"),e.TgZ(1,"a",13),e.NdJ("clicked",function(){return e.CHM(i),e.oxw(),e.MAs(1).close()}),e._UZ(2,"sp-box-module-dropdown-item",14),e.qZA(),e.qZA()}if(2&l){const i=S.$implicit,m=e.oxw(2);e.xp6(1),e.Q6J("spNavigationLink",m.getBoxModuleNavigationLink(i))("id",m.composeIdentifier(i)),e.xp6(1),e.ekj("sp-text-primary",i.getType()===m.boxModuleType),e.Q6J("boxModule",i)}}function _t(l,S){if(1&l){const i=e.EpF();e.TgZ(0,"sp-dropdown",2,3),e.TgZ(2,"div",4),e.ALo(3,"spRichTextI18n"),e.TgZ(4,"div",5),e.YNc(5,w,1,1,"sp-box-module-dropdown-item",6),e.YNc(6,Xe,2,0,"ng-template",null,7,e.W1O),e._UZ(8,"span",8),e._UZ(9,"div",9),e.qZA(),e.qZA(),e.TgZ(10,"sp-dropdown-menu-group",10),e.YNc(11,gt,3,5,"sp-dropdown-item",11),e.qZA(),e.TgZ(12,"sp-dropdown-menu-group",10),e.TgZ(13,"sp-dropdown-item",12),e.TgZ(14,"a",13),e.NdJ("clicked",function(){return e.CHM(i),e.MAs(1).close()}),e._UZ(15,"sp-box-module-dropdown-item",14),e.qZA(),e.qZA(),e.qZA(),e.qZA()}if(2&l){const i=e.MAs(7),m=e.oxw();e.xp6(2),e.Q6J("spTooltipGravity",m.gravity.WEST)("spTooltip",e.lcZ(3,14,"SPT_BOX_MODULE_PICKER_SWITCH_MODULE")),e.xp6(3),e.Q6J("ngIf",m.activeModule)("ngIfElse",i),e.xp6(5),e.Q6J("type",m.dropdownItemType.LINK),e.xp6(1),e.Q6J("ngForOf",m.boxModules),e.xp6(1),e.Q6J("type",m.dropdownItemType.LINK),e.xp6(1),e.Q6J("disabled",m.isConfigurationUnavailable)("tooltip",m.configurationUnavailabilityReason),e.xp6(1),e.Q6J("spNavigationLink",m.getBoxModuleNavigationLink(m.configurationModule))("id",m.composeIdentifier(m.configurationModule)),e.xp6(1),e.ekj("sp-text-primary",m.configurationModule.getType()===m.boxModuleType),e.Q6J("boxModule",m.configurationModule)}}function Fe(l,S){1&l&&(e.TgZ(0,"div",17),e._UZ(1,"div",18),e.qZA())}class We extends k.H{constructor(S,i,m,H,ie,pe,fe){super(S,i),this.changeDetectorRef=m,this.boxModuleDropdownItemService=H,this.boxHierarchyService=ie,this.boxConfigurationModuleAvailabilityResolver=pe,this.boxSecurityResolver=fe,this.gravity=it.X,this.dropdownItemType=mt.H,this.boxModuleType$=new Kt.t(1)}composeIdentifier(S){return io.V.get("sp-box-module-picker-dropdown-item-",ve._[S.getType()])}ngOnChanges(S){S.boxModuleType&&this.setBoxModuleType()}ngOnInit(){this.init()}getBoxModuleNavigationLink(S){return this.boxModuleDropdownItemService.getBoxModuleNavigationLink(S)}setBoxModuleType(){this.boxModuleType$.next(this.boxModuleType)}init(){(0,U.aj)([this.boxModuleType$,this.boxHierarchyService.selectContextBox()]).pipe((0,f.h)(([S,i])=>!!i),this.takeUntilDestroy()).subscribe(([S,i])=>{this.setConfigurationAvailability(i),this.setBoxModules(i.getModules()),this.changeDetectorRef.detectChanges()})}setConfigurationAvailability(S){this.isConfigurationUnavailable=!this.boxSecurityResolver.isModuleTypeConfigurationAvailable(S),this.configurationUnavailabilityReason=this.boxConfigurationModuleAvailabilityResolver.determineUnavailabilityReason(S)}setBoxModules(S){this.boxModules=S.filter(i=>i.isActive()),this.activeModule=nt.z.findByType(S,this.boxModuleType),this.configurationModule=nt.z.findByType(this.boxModules,ve._.CONFIGURATION),this.boxModules=this.boxModules.filter(i=>i.getType()!==ve._.CONFIGURATION)}}We.\u0275fac=function(S){return new(S||We)(e.Y36(e.SBq),e.Y36(e.Qsj),e.Y36(e.sBO),e.Y36(rt),e.Y36(te.T),e.Y36($t.g),e.Y36(Qt.h))},We.\u0275cmp=e.Xpm({type:We,selectors:[["sp-box-module-picker"]],inputs:{boxModuleType:"boxModuleType"},features:[e._Bn([rt,jt]),e.qOj,e.TTD],decls:3,vars:2,consts:[["id","sp-box-module-picker","class","sp-box-module-picker__dropdown","customMenuClass","sp-box-module-picker__dropdown-menu",4,"ngIf","ngIfElse"],["loader",""],["id","sp-box-module-picker","customMenuClass","sp-box-module-picker__dropdown-menu",1,"sp-box-module-picker__dropdown"],["dropdown",""],["sp-dropdown-open-trigger","",1,"sp-box-module-picker__button","sp-btn","!sp-flex","sp-items-center","sp-bg-transparent","sp-relative",3,"spTooltipGravity","spTooltip"],[1,"sp-flex","sp-items-center","sp-relative"],["class","sp-mr-1",3,"boxModule",4,"ngIf","ngIfElse"],["activeModuleNotFound",""],[1,"sp-box-module-picker__chevron","fa","fa-chevron-down"],[1,"sp-box-module-picker__underline","sp-border-rounded","sp-absolute","sp-block"],["divider","",3,"type"],[4,"ngFor","ngForOf"],[3,"disabled","tooltip"],[3,"spNavigationLink","id","clicked"],[3,"boxModule"],[1,"sp-mr-1",3,"boxModule"],[1,"sp-mr-1","sp-inline-block"],[1,"sp-box-module-picker__loader","loading","sp-relative","sp-overflow-hidden","sp-border-rounded","sp-bg-gray-30"],[1,"loading__loader","sp-w-full","sp-h-full"]],template:function(S,i){if(1&S&&(e.YNc(0,_t,16,16,"sp-dropdown",0),e.YNc(1,Fe,2,0,"ng-template",null,1,e.W1O)),2&S){const m=e.MAs(2);e.Q6J("ngIf",i.boxModules)("ngIfElse",m)}},directives:[ce.O5,Jt.J,he.i9,s.Y,ce.sg,n.N,De.k,d],pipes:[y.d],styles:[".sp-box-module-picker__underline{height:2px;width:100%;transition:transform .25s linear;transform:scaleX(0);transform-origin:left;background:var(--color-link);bottom:-10px;left:0}.sp-box-module-picker__button:hover{color:var(--color-font);background:var(--gray-20)}.sp-box-module-picker__button .sp-box-module-picker__name{font-size:var(--font-size-xl);max-width:264px;line-height:1.25}.sp-box-module-picker__dropdown.sp-dropdown--is-opened .sp-box-module-picker__button{color:var(--color-link);background:transparent}.sp-box-module-picker__dropdown.sp-dropdown--is-opened .sp-box-module-picker__button:hover{background:var(--gray-20);color:var(--color-link)}.sp-box-module-picker__dropdown.sp-dropdown--is-opened .sp-box-module-picker__button:active{color:var(--color-link)!important;background-color:transparent!important}.sp-box-module-picker__dropdown.sp-dropdown--is-opened .sp-box-module-picker__underline{transform:scaleX(1)}.sp-box-module-picker__dropdown-menu{max-width:400px}.sp-box-module-picker__loader{width:86px;height:24px}\n"],encapsulation:2,changeDetection:0}),function(l,S,i,m){var pe,H=arguments.length,ie=H<3?S:null===m?m=Object.getOwnPropertyDescriptor(S,i):m;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)ie=Reflect.decorate(l,S,i,m);else for(var fe=l.length-1;fe>=0;fe--)(pe=l[fe])&&(ie=(H<3?pe(ie):H>3?pe(S,i,ie):pe(S,i))||ie);H>3&&ie&&Object.defineProperty(S,i,ie)}([(0,Yt.P)(),B("design:type",Function),B("design:paramtypes",[nt.z]),B("design:returntype",String)],We.prototype,"composeIdentifier",null);var zt=t(32874),st=t(23854),Ze=t(67224),xt=t(34909),at=t(15068),ke=t(37752);function Et(l,S){if(1&l&&e._UZ(0,"sp-rich-text",11),2&l){const i=e.oxw();e.Q6J("config",i.message)}}function lt(l,S){1&l&&(e.TgZ(0,"div"),e._UZ(1,"i",12),e.qZA())}function qe(l,S){if(1&l&&e._UZ(0,"input",13),2&l){const i=e.oxw();e.Q6J("value",i.shareableLink)}}function St(l,S){1&l&&(e.ynx(0),e._uU(1),e.ALo(2,"spL10nText"),e.BQk()),2&l&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"SPT_SHAREABLE_MODAL_COPY_BUTTON")," "))}function Xt(l,S){1&l&&(e.ynx(0),e._UZ(1,"i",14),e._uU(2),e.ALo(3,"spL10nText"),e.BQk()),2&l&&(e.xp6(2),e.hij(" ",e.lcZ(3,1,"SPT_SHAREABLE_MODAL_COPIED_BUTTON")," "))}let Ne=(()=>{class l extends k.H{constructor(i,m,H,ie,pe){super(i,m),this.linksService=H,this.changeDetectorRef=ie,this.modalWindowComponentRef=pe,this.shareableLink="",this.buttonSuccess=!1,this.buttonPrimary=!0}ngOnInit(){this.observeShareableLink(),this.observeMessages()}linkCopied(){this.buttonSuccess=!0,this.buttonPrimary=!1,this.changeDetectorRef.detectChanges(),(0,Qe.H)(l.BUTTON_TRANSITION_TIME).pipe(this.takeUntilDestroy()).subscribe(()=>{this.buttonSuccess=!1,this.buttonPrimary=!0,this.changeDetectorRef.detectChanges()})}observeShareableLink(){this.linksService.selectShareableLink$().pipe(this.takeUntilDestroy()).subscribe(i=>{this.shareableLink=i,this.changeDetectorRef.detectChanges()})}observeMessages(){this.linksService.getMessages$().pipe(this.takeUntilDestroy()).subscribe(i=>{this.message=i,this.changeDetectorRef.detectChanges()})}}return l.BUTTON_TRANSITION_TIME=2e3,l.\u0275fac=function(i){return new(i||l)(e.Y36(e.SBq),e.Y36(e.Qsj),e.Y36(Ze.e),e.Y36(e.sBO),e.Y36(_e.Zh))},l.\u0275cmp=e.Xpm({type:l,selectors:[["sp-shareable-links-modal"]],features:[e.qOj],decls:24,vars:21,consts:[[1,"sp-modal-header","sp-w-full","sp-flex","sp-items-center","sp-justify-between"],[1,"sp-modal-title"],[1,"fas","fa-share-alt","sp-mr-2"],[1,"sp-modal-body","sp-flex-col"],["class","sp-my-4",3,"config",4,"ngIf"],[4,"ngIf"],["type","text","class","sp-form-control","readonly","",3,"value",4,"ngIf"],[1,"sp-modal-footer"],[1,"sp-w-full","sp-gap-2","sp-flex","sp-justify-between"],["href","https://wiki.softwareplant.com/display/DLP/Share+view","target","_blank"],["sp-button","",3,"primary","success","spClipboard","spClipboardShowMessage","click"],[1,"sp-my-4",3,"config"],[1,"fas","fa-spin","fa-spinner-third"],["type","text","readonly","",1,"sp-form-control",3,"value"],[1,"fas","fa-check","sp-mr-2"]],template:function(i,m){1&i&&(e.TgZ(0,"div",0),e.TgZ(1,"h2",1),e._UZ(2,"i",2),e._uU(3),e.ALo(4,"spL10nText"),e.qZA(),e.qZA(),e.TgZ(5,"div",3),e.TgZ(6,"p"),e._uU(7),e.ALo(8,"spL10nText"),e.qZA(),e.YNc(9,Et,1,1,"sp-rich-text",4),e.TgZ(10,"div"),e.TgZ(11,"label"),e._uU(12),e.ALo(13,"spL10nText"),e.qZA(),e.YNc(14,lt,2,0,"div",5),e.YNc(15,qe,1,1,"input",6),e.qZA(),e.qZA(),e.TgZ(16,"div",7),e.TgZ(17,"div",8),e.TgZ(18,"a",9),e._uU(19),e.ALo(20,"spL10nText"),e.qZA(),e.TgZ(21,"button",10),e.NdJ("click",function(){return m.linkCopied()}),e.YNc(22,St,3,3,"ng-container",5),e.YNc(23,Xt,4,3,"ng-container",5),e.qZA(),e.qZA(),e.qZA()),2&i&&(e.xp6(3),e.hij(" ",e.lcZ(4,13,"SPT_SHAREABLE_MODAL_HEADER")," "),e.xp6(4),e.hij(" ",e.lcZ(8,15,"SPT_SHAREABLE_MODAL_DESCRIPTION")," "),e.xp6(2),e.Q6J("ngIf",m.message),e.xp6(3),e.Oqu(e.lcZ(13,17,"SPT_SHAREABLE_MODAL_URL")),e.xp6(2),e.Q6J("ngIf",!m.shareableLink),e.xp6(1),e.Q6J("ngIf",m.shareableLink),e.xp6(4),e.hij(" ",e.lcZ(20,19,"SPT_SHAREABLE_MODAL_GET_HELP_BUTTON")," "),e.xp6(2),e.Q6J("primary",m.buttonPrimary)("success",m.buttonSuccess)("spClipboard",m.shareableLink)("spClipboardShowMessage",!1),e.xp6(1),e.Q6J("ngIf",m.buttonPrimary),e.xp6(1),e.Q6J("ngIf",m.buttonSuccess))},directives:[ce.O5,xt.r,at.y,ke.E],pipes:[xe.L],encapsulation:2,changeDetection:0}),l})();var no=t(11989),ro=t(89920);let so=(()=>{class l extends k.H{constructor(i,m,H,ie){super(i,m),this.modalWindowService=H,this.linksModalOpenedNotifier=ie}openModal(){this.linksModalOpenedNotifier.set(),this.modalWindowService.open(new ae.g.Builder(Ne).withSize(st.e.L).withCloseIconEnabled(!0).build())}getButtonId(){return this.boxModuleName?`sp-share-btn-${this.boxModuleName}`:"sp-share-btn"}}return l.\u0275fac=function(i){return new(i||l)(e.Y36(e.SBq),e.Y36(e.Qsj),e.Y36(G.b),e.Y36(no.X))},l.\u0275cmp=e.Xpm({type:l,selectors:[["sp-shareable-links-button"]],inputs:{boxModuleName:"boxModuleName"},features:[e.qOj],decls:2,vars:4,consts:[["iconName","share-alt",3,"id","spTooltip","click"]],template:function(i,m){1&i&&(e.TgZ(0,"sp-circle-icon-button",0),e.NdJ("click",function(){return m.openModal()}),e.ALo(1,"spRichTextI18n"),e.qZA()),2&i&&e.Q6J("id",m.getButtonId())("spTooltip",e.lcZ(1,2,"SPT_SHAREABLE_BUTTON_TOOLTIP"))},directives:[ro.M,he.i9],pipes:[y.d],encapsulation:2,changeDetection:0}),l})();function ao(l,S){1&l&&e._UZ(0,"sp-box-active-user-list",5)}function lo(l,S){if(1&l&&e._UZ(0,"sp-box-module-picker",6),2&l){const i=e.oxw();e.Q6J("boxModuleType",i.boxModuleType)}}function co(l,S){if(1&l&&e._UZ(0,"sp-shareable-links-button",7),2&l){const i=e.oxw();e.Q6J("boxModuleName",i.getModuleName())}}let uo=(()=>{class l extends k.H{constructor(i,m,H,ie,pe,fe,Oe,He){super(i,m),this.applicationFeaturesStorage=H,this.taskConfigModalManager=ie,this.boxHierarchyService=pe,this.boxAggregateCommandService=fe,this.changeDetectorRef=Oe,this.featureFlagFacade=He,this.userSettingsDropdownLoading=!1,this.modulePickerVisible=!1,this.isActiveUserListVisible=!1,this.isHiddenBehindFeatureFlag=!0,this.shareButtonVisible=[ve._.GANTT,ve._.CALENDAR,ve._.BOARD,ve._.SCOPE,ve._.OVERVIEW,ve._.TEAMS,ve._.RESOURCES,ve._.ROADMAP,ve._.RISK]}ngOnInit(){this.observeIsHiddenBehindFeatureFlag(),this.setActiveUserListVisibility(),this.isHiddenBehindFeatureFlag||this.observeDropdownConfig(),this.observeModulePickerVisibility()}observeDropdownConfig(){this.boxHierarchyService.selectContextBoxId().pipe((0,Y.w)(i=>this.boxAggregateCommandService.extTaskCatalogBased(i)),(0,f.h)(i=>i instanceof Le.U),(0,W.U)(i=>i.extTaskCatalogBased),(0,Re.q)(1),this.takeUntilDestroy()).subscribe(i=>{this.setDropdownGroupConfig(i),this.setUserSettingsDropdownLoading(!1)}),this.setUserSettingsDropdownLoading(!0)}isShareButtonVisible(){return this.applicationFeaturesStorage.getFeatures().areShareableLinksAvailable()&&this.shareButtonVisible.includes(this.boxModuleType)}getModuleName(){return Z.l.isDefined(this.boxModuleType)?ve._[this.boxModuleType].toLowerCase():""}getHostClasses(){return["sp-flex"]}observeModulePickerVisibility(){this.boxHierarchyService.selectContextBox().pipe(this.takeUntilDestroy()).subscribe(i=>{this.modulePickerVisible=null!==i,this.changeDetectorRef.detectChanges()})}observeIsHiddenBehindFeatureFlag(){this.featureFlagFacade.isFeatureEnabled$(Pe.P.TASK_CONFIGURATION_FEATURE_FLAG).pipe(this.takeUntilDestroy()).subscribe(i=>this.isHiddenBehindFeatureFlag=!i)}setUserSettingsDropdownLoading(i){this.userSettingsDropdownLoading=i,this.changeDetectorRef.detectChanges()}setDropdownGroupConfig(i){if(this.fieldSyncDropdownConfig=[],i.isMatchingBox()&&i.isExtCatalogAdmin()){const m=new Dt(Se.H.component(Ot),()=>this.openFieldSyncConfigurationModal(i));this.fieldSyncDropdownConfig=[new we([m])]}}openFieldSyncConfigurationModal(i){this.taskConfigModalManager.open({extPlatformId:i.getExtPlatformId(),extTaskCatalogKey:i.getExtTaskCatalogKey()})}setActiveUserListVisibility(){this.isActiveUserListVisible=this.applicationFeaturesStorage.getFeatures().withActiveUsersInHeader()}}return l.\u0275fac=function(i){return new(i||l)(e.Y36(e.SBq),e.Y36(e.Qsj),e.Y36(T.x),e.Y36(Rt.q),e.Y36(te.T),e.Y36(It.N),e.Y36(e.sBO),e.Y36(Bt.u))},l.\u0275cmp=e.Xpm({type:l,selectors:[["sp-box-area-user-preferences-group"]],inputs:{boxModuleType:"boxModuleType"},features:[e.qOj],decls:5,vars:5,consts:[["class","sp-mr-2",4,"ngIf"],["spStatsCollector","sp-header-box-module-tabs",3,"boxModuleType",4,"ngIf"],["class","sp-ml-2",3,"boxModuleName",4,"ngIf"],[1,"sp-border-element"],[3,"dropdownGroupsConfig","userSettingsDropdownLoading","userSettingsDropdownChangeState"],[1,"sp-mr-2"],["spStatsCollector","sp-header-box-module-tabs",3,"boxModuleType"],[1,"sp-ml-2",3,"boxModuleName"]],template:function(i,m){1&i&&(e.YNc(0,ao,1,0,"sp-box-active-user-list",0),e.YNc(1,lo,1,1,"sp-box-module-picker",1),e.YNc(2,co,1,1,"sp-shareable-links-button",2),e._UZ(3,"div",3),e.TgZ(4,"sp-user-preferences-group",4),e.NdJ("userSettingsDropdownChangeState",function(){return!m.isHiddenBehindFeatureFlag&&m.observeDropdownConfig()}),e.qZA()),2&i&&(e.Q6J("ngIf",m.isActiveUserListVisible),e.xp6(1),e.Q6J("ngIf",m.modulePickerVisible&&void 0!==m.boxModuleType),e.xp6(1),e.Q6J("ngIf",m.isShareButtonVisible()),e.xp6(2),e.Q6J("dropdownGroupsConfig",m.fieldSyncDropdownConfig)("userSettingsDropdownLoading",m.userSettingsDropdownLoading))},directives:[ce.O5,bt.Z,vt,We,zt.a,so],encapsulation:2,changeDetection:0}),l})();var po=t(13282);const mo=["mainHeaderContainer"],ho=["subHeaderContainer"],Co=["subHeaderRef"];function vo(l,S){if(1&l){const i=e.EpF();e.TgZ(0,"sp-banner",15),e.NdJ("close",function(){return e.CHM(i),e.oxw().onContextBannerClose()}),e.qZA()}if(2&l){const i=e.oxw();e.Q6J("isClosable",!0)("message",i.bannerMessageComponent)}}function fo(l,S){1&l&&(e.TgZ(0,"div",16),e.TgZ(1,"div",17),e.TgZ(2,"div",18),e._UZ(3,"div",19),e.qZA(),e.qZA(),e.TgZ(4,"div",20),e.TgZ(5,"div",18),e._UZ(6,"div",19),e.qZA(),e.qZA(),e.qZA())}const kt=Je.f.default().build();let go=(()=>{class l extends k.H{constructor(i,m,H,ie,pe,fe,Oe,He,ct,dt,qt,eo,to,oo){super(i,m),this.changeDetectorRef=H,this.moduleTypeStorage=ie,this.boxApplicationRouterOutletStorageService=pe,this.boxApplicationSubHeaderVisibilityStorage=fe,this.applicationFeaturesStorage=Oe,this.boxHierarchyService=He,this.navigationLinkService=ct,this.barLoaderService=dt,this.l10nTextService=qt,this.localStorageService=eo,this.globalDropdownService=to,this.selectBoxService=oo,this.moduleType=ve._.OVERVIEW,this.subHeaderLoaderVisible=!0,this.subHeaderVisible=!0,this.headerGridConfig=kt,this.bannerMessageComponent=Se.H.component(tt),this.SUB_HEADER_ANIMATION_CLASS_NAME="sp-box-application__header-sub-header-row--animation-visible",this.subHeaderVisibilityDestroy$=new Ee.xQ}ngOnInit(){this.determineBannerVisibility(),this.initProductLogo(),this.observeModuleType(),this.observeRouterOutletEvents()}finalize(){this.destroySubHeaderVisibilityListener(!0)}onContextBannerClose(){this.localStorageService.setVisibility(!1),this.bannerVisible=!1,this.changeDetectorRef.detectChanges()}getHostClasses(){return["sp-box-application__header"]}initProductLogo(){if(this.isGlobalContext())return;const i=this.applicationFeaturesStorage.getFeatures(),m=i.getBreadcrumbAppEnvironment();let H;H=i.isBreadcrumbHomeBlankNavigationAvailable()?()=>window.open(this.navigationLinkService.goToHome().href,"_blank").focus():this.navigationLinkService.goToHome().navigation,this.headerSemiBreadcrumbConfiguration=(new ze.Q.Builder).withAppLogo(m.getLogo(),this.getAppTooltipText(),H).build()}observeModuleType(){this.moduleTypeStorage.select().pipe(this.takeUntilDestroy()).subscribe(i=>{this.moduleType=i,this.changeDetectorRef.detectChanges()})}observeRouterOutletEvents(){this.boxApplicationRouterOutletStorageService.select().pipe((0,ne.x)((i,m)=>i.eventType===m.eventType&&i.component===m.component),this.takeUntilDestroy()).subscribe(i=>{this.resolveRouterOutletEvents(i),this.globalDropdownService.close(),this.selectBoxService.closeDropdown($e.n.SELECT_BOX_ID)})}isGlobalContext(){return this.applicationFeaturesStorage.getFeatures().getApplicationContext()===_.Z.GLOBAL}getAppTooltipText(){const i=this.applicationFeaturesStorage.getFeatures().getSystemPlatform().getName();return this.applicationFeaturesStorage.getFeatures().isBreadcrumbHomeBlankNavigationAvailable()?this.l10nTextService.translate("SPT_BOX_APPLICATION_APP_LOGO_TOOLTIP_BLANK",{appName:i}):this.l10nTextService.translate("SPT_BOX_APPLICATION_APP_LOGO_TOOLTIP")}resolveRouterOutletEvents(i){i.eventType===b.ACTIVATE&&this.resolveActivateEvent(i.component),i.eventType===b.DEACTIVATE&&this.resolveDeactivateEvent(),this.changeDetectorRef.detectChanges()}resolveActivateEvent(i){if(!i.getModuleType)return this.restoreDefaultSettings(),void this.toggleSubHeaderWithAnimationVisibility(!1);this.createDynamicPartsOfHeader(i),i.getHeaderGridConfig&&(this.headerGridConfig=i.getHeaderGridConfig())}resolveDeactivateEvent(){this.toggleSubHeaderWithAnimationVisibility(!0),this.headerGridConfig=kt,this.destroySubHeaderVisibilityListener(),this.subHeaderContainer.clear(),this.mainHeaderContainer.clear()}createDynamicPartsOfHeader(i){if(i.getHeaderCustomContent){const m=i.getHeaderCustomContent();this.insertMainHeaderContent(m),i.getModuleGuards&&i.getModuleGuards().length?this.observeSubHeaderVisibility(m):this.insertSubheaderContent(m)}else this.toggleSubHeaderWithAnimationVisibility(!1)}observeSubHeaderVisibility(i){this.boxApplicationSubHeaderVisibilityStorage.select().pipe((0,ne.x)(),(0,ye.R)(this.subHeaderVisibilityDestroy$),this.takeUntilDestroy()).subscribe(m=>{m?(this.insertSubheaderContent(i),this.changeDetectorRef.detectChanges()):(this.toggleSubHeaderAnimation(!0),this.hideSubHeaderWithDelay())})}insertMainHeaderContent(i){i.getMainHeaderNextToBoxSwitcherComponent&&Ae.create(i.getMainHeaderNextToBoxSwitcherComponent(),i.getInjector(),this.mainHeaderContainer)}insertSubheaderContent(i){i.getSubHeaderComponent&&Ae.create(i.getSubHeaderComponent(),i.getInjector(),this.subHeaderContainer),this.subHeaderLoaderVisible=!1,this.subHeaderVisible=!0}restoreDefaultSettings(){this.headerGridConfig=kt,this.moduleTypeStorage.set(null),this.barLoaderService.complete()}toggleSubHeaderWithAnimationVisibility(i){this.subHeaderLoaderVisible=i,this.subHeaderVisible=i}toggleSubHeaderAnimation(i){i?this.domManipulator.addClass(this.subHeaderRef.nativeElement,this.SUB_HEADER_ANIMATION_CLASS_NAME):this.domManipulator.removeClass(this.subHeaderRef.nativeElement,this.SUB_HEADER_ANIMATION_CLASS_NAME)}hideSubHeaderWithDelay(){(0,Qe.H)(450).pipe((0,Re.q)(1),this.takeUntilDestroy()).subscribe(()=>{this.toggleSubHeaderWithAnimationVisibility(!1),this.toggleSubHeaderAnimation(!1),this.changeDetectorRef.detectChanges()})}destroySubHeaderVisibilityListener(i=!1){this.subHeaderVisibilityDestroy$.next(),i&&this.subHeaderVisibilityDestroy$.complete()}determineBannerVisibility(){this.bannerVisible=!this.isGlobalContext()&&this.localStorageService.getVisibility()}}return l.\u0275fac=function(i){return new(i||l)(e.Y36(e.SBq),e.Y36(e.Qsj),e.Y36(e.sBO),e.Y36(P.N),e.Y36(V),e.Y36(J.h),e.Y36(T.x),e.Y36(te.T),e.Y36(Ce.M),e.Y36(x.p),e.Y36(me.e),e.Y36(ot.E),e.Y36(At.P),e.Y36(Tt.e))},l.\u0275cmp=e.Xpm({type:l,selectors:[["sp-box-application-header"]],viewQuery:function(i,m){if(1&i&&(e.Gf(mo,7,e.s_b),e.Gf(ho,7,e.s_b),e.Gf(Co,7,e.SBq)),2&i){let H;e.iGM(H=e.CRH())&&(m.mainHeaderContainer=H.first),e.iGM(H=e.CRH())&&(m.subHeaderContainer=H.first),e.iGM(H=e.CRH())&&(m.subHeaderRef=H.first)}},features:[e.qOj],decls:18,vars:9,consts:[[3,"isClosable","message","close",4,"ngIf"],[3,"configuration"],[1,"sp-header-grid-cell-left"],[1,"sp-w-full",3,"config"],[1,"sp-overflow-hidden"],[3,"moduleType","syncBoxesOnDropdownOpen"],["sp-next-to-select-box","",1,"sp-box-application__header-custom-content-wrapper","sp-flex","sp-items-end","sp-ml-2","sp-h-full"],[1,"sp-w-full","sp-h-full"],["mainHeaderContainer",""],[1,"sp-header-grid-cell-right","sp-flex","sp-justify-end","sp-items-center"],[3,"boxModuleType"],[1,"sp-box-application__header-sub-header-row"],["subHeaderRef",""],["subHeaderContainer",""],["class","header-placeholder__bottom sp-border-bottom-default-1 sp-flex sp-py-2 sp-sp-items-center",4,"ngIf"],[3,"isClosable","message","close"],[1,"header-placeholder__bottom","sp-border-bottom-default-1","sp-flex","sp-py-2","sp-sp-items-center"],[1,"header-placeholder__item","sp-overflow-hidden","header-placeholder__bottom--long","sp-mr-2"],[1,"loading","sp-flex","sp-items-center","sp-w-full","sp-h-full","sp-overflow-hidden"],[1,"loading__loader"],[1,"header-placeholder__item","sp-overflow-hidden","header-placeholder__bottom--short"]],template:function(i,m){1&i&&(e.YNc(0,vo,1,2,"sp-banner",0),e.TgZ(1,"sp-header-grid",1),e.TgZ(2,"sp-header-grid-row"),e.TgZ(3,"div",2),e.TgZ(4,"sp-header-semi-breadcrumb",3),e.TgZ(5,"div",4),e.TgZ(6,"sp-box-switcher",5),e.TgZ(7,"div",6),e.TgZ(8,"div",7),e.GkF(9,null,8),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(11,"div",9),e._UZ(12,"sp-box-area-user-preferences-group",10),e.qZA(),e.qZA(),e.TgZ(13,"sp-header-grid-row",11,12),e.GkF(15,null,13),e.YNc(17,fo,7,0,"div",14),e.qZA(),e.qZA()),2&i&&(e.Q6J("ngIf",m.bannerVisible),e.xp6(1),e.Q6J("configuration",m.headerGridConfig),e.xp6(3),e.Q6J("config",m.headerSemiBreadcrumbConfiguration),e.xp6(2),e.Q6J("moduleType",m.moduleType)("syncBoxesOnDropdownOpen",!0),e.xp6(6),e.Q6J("boxModuleType",m.moduleType),e.xp6(1),e.ekj("sp-hidden",!m.subHeaderVisible),e.xp6(4),e.Q6J("ngIf",m.subHeaderLoaderVisible))},directives:[ce.O5,ut.v,Mt.x,yt.Z,$e.n,uo,po.S],encapsulation:2,changeDetection:0}),l})();function _o(l,S){1&l&&e._UZ(0,"sp-box-application-header")}let xo=(()=>{class l extends k.H{constructor(i,m,H,ie,pe,fe,Oe,He,ct,dt,qt,eo,to,oo,Eo,So,Ao,To,Mo,yo,Oo,Do,Ro,Bo,Io,bo,Lo,wo,Po){super(i,m),this.dateFormatsResource=H,this.router=ie,this.activatedRoute=pe,this.changeDetectorRef=fe,this.barLoaderService=Oe,this.shortcutsService=He,this.moduleTypeStorage=ct,this.boxAggregateCommandService=dt,this.boxAggregateService=qt,this.boxAggregateEventService=eo,this.boxHierarchyCommandService=to,this.boxHierarchyService=oo,this.boxesIntervalSyncService=Eo,this.modalWindowService=So,this.boxApplicationWarningsCheckerService=Ao,this.tooltipModeService=To,this.boxRouteSynchronisationService=Mo,this.activeProgramBoxResource=yo,this.boxApplicationRouterOutletStorageService=Oo,this.boxApplicationHeaderVisibilityManager=Do,this.archivedBoxesLoadModeLocalStorageService=Ro,this.boxApplicationHeaderVisibilityStorage=Bo,this.applicationFeaturesStorage=Io,this.boxApplicationMatchingBoxRedirectService=bo,this.scopeSyncRepository=Lo,this.readonlyModeStorage=wo,this.applicationInitStorage=Po,this.headerVisible=!0,this.boxModuleLoaded$=new Ee.xQ}ngOnInit(){this.init(),this.boxAggregateCommandService.loadBoxTypeHierarchy(),this.observeHeaderVisibility(),this.observeContextBoxChanged(),this.observeSyncProgressStatus(),this.observeContextBoxRemovedEvent(),this.observeEveryNonInitialBoxModuleLoad(),this.observeArchivedBoxesLoadModeAndPersistToLS(),this.resolveReadonlyMode()}ngAfterViewInit(){this.setApplicationInitialized()}finalize(){this.shortcutsService.destroy(),this.boxesIntervalSyncService.destroy()}getHostClasses(){return["sp-box-application"]}onRouterOutletActivate(i){i.getModuleType?this.moduleTypeStorage.set(i.getModuleType()):(this.moduleTypeStorage.set(null),this.barLoaderService.complete()),this.boxApplicationRouterOutletStorageService.set({eventType:b.ACTIVATE,component:i}),this.boxModuleLoaded$.next()}onRouterOutletDeactivate(){this.boxApplicationRouterOutletStorageService.set({eventType:b.DEACTIVATE})}setApplicationInitialized(){this.applicationInitStorage.set(!0)}init(){this.boxApplicationWarningsCheckerService.init(),this.boxesIntervalSyncService.runSync(),this.shortcutsService.init(),this.tooltipModeService.init(),this.boxRouteSynchronisationService.init(),this.boxApplicationHeaderVisibilityManager.init()}observeHeaderVisibility(){this.boxApplicationHeaderVisibilityStorage.select().pipe((0,ne.x)(),this.takeUntilDestroy()).subscribe(i=>{this.headerVisible=i,this.changeDetectorRef.detectChanges()})}observeContextBoxChanged(){this.boxHierarchyService.selectContextBoxId().pipe((0,Y.w)(i=>(0,A.D)(this.activeProgramBoxResource.setActiveProgram(i))),this.takeUntilDestroy()).subscribe(()=>this.boxApplicationWarningsCheckerService.updateWarnings())}observeSyncProgressStatus(){this.scopeSyncRepository.selectStatus().pipe(this.takeUntilDestroy()).subscribe(i=>{i===h.g.COMPLETE&&this.boxApplicationWarningsCheckerService.updateWarnings()})}observeContextBoxRemovedEvent(){this.boxAggregateEventService.selectContextBoxRemovedEvent().pipe(this.takeUntilDestroy()).subscribe(()=>{if(this.applicationFeaturesStorage.getFeatures().getApplicationContext()===_.Z.EXT_CATALOG)return void this.redirect();const m=new ae.g.Builder(Ge).withShortcuts(!1).withCloseOnBackdropClick(!1).build();this.modalWindowService.open(m)})}observeEveryNonInitialBoxModuleLoad(){this.boxModuleLoaded$.pipe((0,z.T)(1),this.takeUntilDestroy()).subscribe(()=>this.boxHierarchyCommandService.sync())}observeArchivedBoxesLoadModeAndPersistToLS(){this.boxAggregateService.selectLoadModeForArchivedBoxes().pipe(this.takeUntilDestroy()).subscribe(i=>this.archivedBoxesLoadModeLocalStorageService.set(i))}resolveReadonlyMode(){(0,U.aj)([this.scopeSyncRepository.selectStatus(),this.boxHierarchyService.selectContextBox()]).pipe((0,W.U)(([i,m])=>i===h.g.SYNCING||(null==m?void 0:m.isArchived())||(null==m?void 0:m.getStatus())===N.NZ.CLOSED),this.takeUntilDestroy()).subscribe(i=>{this.readonlyModeStorage.set(i)})}redirect(){this.boxHierarchyService.getBoxWithHierarchyById(X.A.ROOT_ID).map(i=>i.getChildren()).filter(i=>i.length>0).ifPresentOrElse(i=>{const m=this.boxHierarchyService.getContextBoxId(),H=i.filter(ie=>!ie.getData().getId().equals(m));this.boxApplicationMatchingBoxRedirectService.redirect(H,this.activatedRoute)},()=>{this.router.navigate([r.u],{relativeTo:this.activatedRoute,skipLocationChange:!0})})}}return l.\u0275fac=function(i){return new(i||l)(e.Y36(e.SBq),e.Y36(e.Qsj),e.Y36(se.H,8),e.Y36(c.F0),e.Y36(c.gz),e.Y36(e.sBO),e.Y36(x.p),e.Y36(be.h),e.Y36(P.N),e.Y36(N.NL),e.Y36(N.tn),e.Y36(j.R),e.Y36(K.Z),e.Y36(te.T),e.Y36(L),e.Y36(G.b),e.Y36(M.D),e.Y36(le),e.Y36(ee.N),e.Y36(oe.T),e.Y36(V),e.Y36(E),e.Y36(Ke.r),e.Y36(g.Z),e.Y36(T.x),e.Y36(Ie.H),e.Y36(Te.T),e.Y36(re.E),e.Y36(o.x))},l.\u0275cmp=e.Xpm({type:l,selectors:[["sp-box-application-root-component"]],features:[e._Bn(Be),e.qOj],decls:3,vars:1,consts:[[4,"ngIf"],[1,"sp-box-application__content","sp-relative"],[3,"activate","deactivate"]],template:function(i,m){1&i&&(e.YNc(0,_o,1,0,"sp-box-application-header",0),e.TgZ(1,"div",1),e.TgZ(2,"router-outlet",2),e.NdJ("activate",function(ie){return m.onRouterOutletActivate(ie)})("deactivate",function(){return m.onRouterOutletDeactivate()}),e.qZA(),e.qZA()),2&i&&e.Q6J("ngIf",m.headerVisible)},directives:[ce.O5,c.lC,go],styles:[".simple-column,.sp-box-application__content,.sp-box-application{display:flex;flex-direction:column;flex:1 0 auto;min-height:100%}.sp-box-application__content,.sp-box-application{background:var(--color-bg)}.sp-box-application__header-custom-content-wrapper{max-width:320px}.sp-box-application__header-sub-header-row--animation-visible{animation-name:sub-header-visibility;animation-duration:.5s}@keyframes sub-header-visibility{0%{height:48px}to{height:0}}\n"],encapsulation:2,changeDetection:0}),l})()},57335:($,O,t)=>{t.d(O,{E:()=>c});var o=t(63596),h=t(84046);let c=(()=>{class v extends o.y{constructor(){super(...arguments),this.LS_KEY="box-application-context-message-banner-visible"}setVisibility(p){super.setItem(this.LS_KEY,p.toString())}getVisibility(){return"false"!==super.getItem(this.LS_KEY)}}return v.\u0275fac=function(){let r;return function(g){return(r||(r=h.n5z(v)))(g||v)}}(),v.\u0275prov=h.Yz7({token:v,factory:v.\u0275fac}),v})()},95241:($,O,t)=>{t.d(O,{z:()=>r});var o=t(55331),c=(t(81949),t(84046));let r=(()=>{class p{}return p.\u0275fac=function(f){return new(f||p)},p.\u0275mod=c.oAB({type:p}),p.\u0275inj=c.cJS({imports:[[o.ez]]}),p})()},75685:($,O,t)=>{t.d(O,{x:()=>h});const h=new(t(84046).OlP)("BOX_APP_SECURITY_COMPONENT_TOKEN")},81949:($,O,t)=>{t.d(O,{F:()=>e});var o=t(75685),h=t(53339),c=t(4683),v=t(56385),r=t(71726),p=t(96105),g=t(62546),f=t(84046),_=t(4909),C=t(8817);let e=(()=>{class T extends g.H{constructor(M,I,F,W,Q,K,q,Z,D){super(M,I),this.templateRef=F,this.viewContainerRef=W,this.injector=Q,this.componentFactoryResolver=K,this.boxApplicationBarLoaderService=q,this.boxApplicationSubHeaderVisibilityStorage=Z,this.component=D}ngOnInit(){this.observeComponentGuards()}observeComponentGuards(){const M=this.getComponentGuards();if(!M.length)return this.showOriginalContent();const I=M.map(F=>F.canActivate().pipe((0,v.K)(()=>(0,h.of)(!1)),(0,r.U)(W=>W),(0,p.x)()));(0,c.aj)(I).pipe(this.takeUntilDestroy()).subscribe(F=>{this.showContentBasingOnGuards(F,M)})}getComponentGuards(){return(this.component.getModuleGuards&&this.component.getModuleGuards()||[]).map(I=>this.injector.get(I))}showContentBasingOnGuards(M,I){const F=M.findIndex(W=>!W);F!==this.lastLockedGuardIndex&&(F<0?this.showOriginalContent():this.showLockedGuardComponent(I[F]),this.lastLockedGuardIndex=F)}showLockedGuardComponent(M){this.boxApplicationBarLoaderService.complete(),this.insertComponent(M.lockedGuardComponent()),this.boxApplicationSubHeaderVisibilityStorage.set(!M.showSubHeaderOnActivateFail||M.showSubHeaderOnActivateFail())}showOriginalContent(){this.viewContainerRef.clear(),this.viewContainerRef.createEmbeddedView(this.templateRef).detectChanges(),this.boxApplicationSubHeaderVisibilityStorage.set(!0),this.component.guardsChecked&&this.component.guardsChecked(!0)}insertComponent(M){this.viewContainerRef.clear();const I=this.componentFactoryResolver.resolveComponentFactory(M);this.viewContainerRef.createComponent(I).changeDetectorRef.detectChanges(),this.component.guardsChecked&&this.component.guardsChecked(!1)}}return T.\u0275fac=function(M){return new(M||T)(f.Y36(f.SBq),f.Y36(f.Qsj),f.Y36(f.Rgc),f.Y36(f.s_b),f.Y36(f.zs3),f.Y36(f._Vd),f.Y36(_.p),f.Y36(C.h),f.Y36(o.x))},T.\u0275dir=f.lG2({type:T,selectors:[["","spBoxApplicationVisibilityGuard",""]],features:[f.qOj]}),T})()},21822:($,O,t)=>{t.d(O,{W:()=>T});var o=t(95068),h=t(11206),c=t(45963),v=t(71726),r=t(17176),p=t(68725),g=t(355),f=t(84046),_=t(92945),C=t(25673),e=t(15843);let T=(()=>{class E{constructor(I,F,W,Q,K){this.router=I,this.boxHierarchyService=F,this.applicationFeaturesStorage=W,this.boxLinksMapper=Q,this.boxApplicationMatchingBoxRedirect=K}static isMatchingBox(I){return I.isAvailable()}canActivate(I,F){return this.applicationFeaturesStorage.getFeatures().getApplicationContext()===r.Z.GLOBAL||this.boxHierarchyService.selectContextBox().pipe((0,v.U)(Q=>{if(Q&&!Q.getId().isRoot()&&E.isMatchingBox(Q))return!0;const K=(0,g.L)(I,F);return this.buildUrlTree(K)}))}buildUrlTree(I){return this.boxHierarchyService.getBoxWithHierarchyById(h.A.ROOT_ID).map(F=>F.getChildren()).filter(F=>F.length>0).map(F=>{const W=this.boxApplicationMatchingBoxRedirect.determineRedirectLink(F);return this.router.createUrlTree([I+W])}).orElseGet(()=>this.router.createUrlTree([I,p.u]))}}return E.\u0275fac=function(I){return new(I||E)(f.LFG(_.F0),f.LFG(C.T),f.LFG(e.x),f.LFG(c.i),f.LFG(o.H))},E.\u0275prov=f.Yz7({token:E,factory:E.\u0275fac}),E})()},73241:($,O,t)=>{t.d(O,{P_:()=>g,mT:()=>f,RJ:()=>_,Yw:()=>C,MF:()=>e});var o=t(98993),h=t(71814),c=t(61199),v=t(25930),r=t(13785),p=t(67297);const g="inactive-module",f="is-not-accessible",_="cannot-create-box",C="no-permission-to-create-box",e=[new r.D.Builder(g).withComponent(h._).build(),new r.D.Builder(`${f}/:${p.E.MODULE_TYPE}`).withComponent(c.w).build(),new r.D.Builder(_).withComponent(o.F).build(),new r.D.Builder(C).withComponent(v.A).build()]},84997:($,O,t)=>{t.d(O,{z:()=>W});var o=t(55331),h=t(41001),c=t(21822),v=t(56656),p=(t(98993),t(68910)),_=(t(71814),t(61199),t(27839)),e=(t(25930),t(71650)),T=t(54195),E=t(82055),M=t(84046);const F=[p.x,_.S,c.W,v.d];let W=(()=>{class Q{}return Q.\u0275fac=function(q){return new(q||Q)},Q.\u0275mod=M.oAB({type:Q}),Q.\u0275inj=M.cJS({providers:[...F],imports:[[o.ez,T.H,e.l,h.J,E.Y]]}),Q})()},56656:($,O,t)=>{t.d(O,{d:()=>C});var o=t(355),h=t(73241),c=t(47722),v=t(67890),r=t(99186),p=t(4683),g=t(71726),f=t(84046),_=t(92945);let C=(()=>{class e{constructor(E,M,I){this.router=E,this.boxAggregateCommandService=M,this.boxAggregateService=I}canActivate(E,M){const I=this.boxAggregateService.getRequestSpecification().getExtCatalogKey();return(0,p.aj)([this.boxAggregateCommandService.checkPermissionToCreateMatchingBox(I),this.boxAggregateService.selectBoxTypes()]).pipe((0,g.U)(([F,W])=>{const Q=(0,o.L)(E,M);return F instanceof v.vT&&!F.hasPermissionToCreateMatchingBox||F instanceof v.A3?this.router.createUrlTree([`${Q}/${h.Yw}`]):!!this.filter(W).length||this.router.createUrlTree([`${Q}/${h.RJ}`])}))}filter(E){const M=E.find(I=>I.getId().equals(c.n.ROOT_TYPE_ID));return E.filter(I=>(0,r.lH)(I,M)).filter(I=>(0,r.NU)(I)).filter(I=>(0,r.Kd)(I,v.C3.OWN)).filter(I=>(0,r.S)(I,new v.pN(v.pN.OVERLAPPING_ALLOWED_ID))).filter(I=>(0,r.Me)(I))}}return e.\u0275fac=function(E){return new(E||e)(f.LFG(_.F0),f.LFG(v.NL),f.LFG(v.tn))},e.\u0275prov=f.Yz7({token:e,factory:e.\u0275fac}),e})()},98993:($,O,t)=>{t.d(O,{F:()=>f});var o=t(77717),h=t(62226),c=t(84046),v=t(83950),r=t(97486),p=t(32874),g=t(65799);let f=(()=>{class _{constructor(e){this.environmentService=e,this.description="SPT_BOX_APPLICATION_NEW_BOX_CANNOT_BE_CREATED_SPLASH_SCREEN_DESCRIPTION",this.title="SPT_BOX_APPLICATION_NEW_BOX_CANNOT_BE_CREATED_SPLASH_SCREEN_TITLE",this.img="app/common/assets/images/cannot-create-matching-box.svg",this.btnConfig=new o.k("SPT_BOX_APPLICATION_NEW_BOX_CANNOT_BE_CREATED_SPLASH_SCREEN_BTN_TEXT",()=>{window.open(this.documentationLink,"_blank").focus()},h.x.CALLBACK),this.documentationLink=e.getHelpURL("ppm/box/extcatalog-entry")}}return _.\u0275fac=function(e){return new(e||_)(c.Y36(v.L))},_.\u0275cmp=c.Xpm({type:_,selectors:[["sp-box-application-matching-box-cannot-be-created"]],decls:3,vars:6,consts:[["spStatsCollector","sp-app-splash-screen-box-cannot-be-created",3,"screenTitle","img","btnConfig"]],template:function(e,T){1&e&&(c.TgZ(0,"sp-application-splash-screen",0),c._uU(1),c.ALo(2,"spL10nText"),c.qZA()),2&e&&(c.Q6J("screenTitle",T.title)("img",T.img)("btnConfig",T.btnConfig),c.xp6(1),c.hij(" ",c.lcZ(2,4,T.description),"\n"))},directives:[r.b,p.a],pipes:[g.L],encapsulation:2,changeDetection:0}),_})()},25930:($,O,t)=>{t.d(O,{A:()=>r});var o=t(84046),h=t(97486),c=t(32874),v=t(65799);let r=(()=>{class p{constructor(){this.description="SPT_BOX_APPLICATION_NO_PERMISSION_TO_CREATE_MATCHING_BOX_SPLASH_SCREEN_DESCRIPTION",this.title="SPT_BOX_APPLICATION_NO_PERMISSION_TO_CREATE_MATCHING_BOX_SPLASH_SCREEN_TITLE",this.img="app/common/assets/images/no-permission-to-create-matching-box.svg"}}return p.\u0275fac=function(f){return new(f||p)},p.\u0275cmp=o.Xpm({type:p,selectors:[["sp-box-application-no-permission-to-create-matching-box"]],decls:3,vars:5,consts:[["spStatsCollector","sp-app-splash-screen-no-permission",3,"screenTitle","img"]],template:function(f,_){1&f&&(o.TgZ(0,"sp-application-splash-screen",0),o._uU(1),o.ALo(2,"spL10nText"),o.qZA()),2&f&&(o.Q6J("screenTitle",_.title)("img",_.img),o.xp6(1),o.hij(" ",o.lcZ(2,3,_.description),"\n"))},directives:[h.b,c.a],pipes:[v.L],encapsulation:2,changeDetection:0}),p})()},68910:($,O,t)=>{t.d(O,{x:()=>_});var o=t(73241),h=t(3610),c=t(71726),v=t(355),r=t(84046),p=t(92945),g=t(25673),f=t(30828);let _=(()=>{class C{constructor(T,E,M){this.router=T,this.boxHierarchyService=E,this.boxSecurityResolver=M}canActivate(T,E){const M=(0,h.x)(E.url);return this.boxHierarchyService.selectContextBox().pipe((0,c.U)(I=>{if(this.boxSecurityResolver.isModuleActive(I,M))return!0;const W=`${(0,v.L)(T,E)}/${o.P_}`;return this.router.createUrlTree([W])}))}}return C.\u0275fac=function(T){return new(T||C)(r.LFG(p.F0),r.LFG(g.T),r.LFG(f.h))},C.\u0275prov=r.Yz7({token:C,factory:C.\u0275fac}),C})()},71814:($,O,t)=>{t.d(O,{_:()=>c});var o=t(84046),h=t(97486);let c=(()=>{class v{constructor(){this.message="This module is unavailable. Try with another one."}}return v.\u0275fac=function(p){return new(p||v)},v.\u0275cmp=o.Xpm({type:v,selectors:[["sp-box-application-inactive-module"]],decls:3,vars:1,template:function(p,g){1&p&&(o.TgZ(0,"sp-application-splash-screen"),o.TgZ(1,"p"),o._uU(2),o.qZA(),o.qZA()),2&p&&(o.xp6(2),o.Oqu(g.message))},directives:[h.b],encapsulation:2,changeDetection:0}),v})()},61199:($,O,t)=>{t.d(O,{w:()=>p});var o=t(67297),h=t(84046),c=t(92945),v=t(4909),r=t(3753);let p=(()=>{class g{constructor(_,C,e){this.router=_,this.activateRoute=C,e.complete()}getModuleType(){const _=this.activateRoute.snapshot.params[o.E.MODULE_TYPE];if(!_)throw new Error(`"${o.E.MODULE_TYPE}" was not present in the url`);return Number(_)}}return g.\u0275fac=function(_){return new(_||g)(h.Y36(c.F0),h.Y36(c.gz),h.Y36(v.p))},g.\u0275cmp=h.Xpm({type:g,selectors:[["sp-box-application-is-not-accessible"]],decls:1,vars:0,template:function(_,C){1&_&&h._UZ(0,"sp-box-application-no-permission")},directives:[r.b],encapsulation:2,changeDetection:0}),g})()},27839:($,O,t)=>{t.d(O,{S:()=>_});var o=t(73241),h=t(3610),c=t(71726),v=t(355),r=t(84046),p=t(92945),g=t(25673),f=t(30828);let _=(()=>{class C{constructor(T,E,M){this.router=T,this.boxHierarchyService=E,this.boxSecurityResolver=M}canActivate(T,E){const M=(0,h.x)(E.url);return this.boxHierarchyService.selectContextBoxWithHierarchy().pipe((0,c.U)(I=>{const F=!this.boxSecurityResolver.isModuleAccessible(I,M),W=(0,v.L)(T,E);return!F||this.redirectToInaccessibleModulePage(W,M)}))}redirectToInaccessibleModulePage(T,E){return this.router.createUrlTree([`${T}/${o.mT}`,E])}}return C.\u0275fac=function(T){return new(T||C)(r.LFG(p.F0),r.LFG(g.T),r.LFG(f.h))},C.\u0275prov=r.Yz7({token:C,factory:C.\u0275fac}),C})()},95068:($,O,t)=>{t.d(O,{H:()=>C});var o=t(3610),h=t(71118);function v(e){return e.map(E=>r(E)).reduce(h.l.mergeArrays).sort(function(...e){return(T,E)=>{let M=0;for(const I of e)if(M=I(T,E),0!==M)break;return M}}(g,p))[0].boxQuery}function r(e,T=0){const E=e.getData(),M=E.isAvailable()?[{boxQuery:E,depth:T,startDate:h.l.strToDate(E.getStartDate())}]:[];return e.getChildren().map(I=>r(I,T+1)).reduce(h.l.mergeArrays,M)}const p=(e,T)=>e.startDate>T.startDate?-1:e.startDate<T.startDate?1:0,g=(e,T)=>e.depth<T.depth?-1:e.depth>T.depth?1:0;var f=t(84046),_=t(92945);let C=(()=>{class e{constructor(E){this.router=E}redirect(E,M){this.router.navigate([this.determineRedirectLink(E)],{relativeTo:M,skipLocationChange:!0})}determineRedirectLink(E){const M=v(E),I=this.returnDefaultOrFirstModuleFor(M);return this.getLinkTo(I,M.getId())}getLinkTo(E,M){return`/${M}/${(0,o.L)(E.getType())}`}returnDefaultOrFirstModuleFor(E){const M=E.getModules();return M.find(I=>I.isDefault())||M[0]}}return e.\u0275fac=function(E){return new(E||e)(f.LFG(_.F0))},e.\u0275prov=f.Yz7({token:e,factory:e.\u0275fac}),e})()},86875:($,O,t)=>{t.d(O,{h:()=>T});var o=t(98223),h=t(77535),c=t(86495),v=t(55688),r=t(93051),p=t(82613),g=t(6585),f=t(89621),_=t(62628),C=t(47285),e=t(84046);let T=(()=>{class E extends _.b{constructor(I,F,W,Q,K,q){super(),this.shortcutsService=I,this.shortcutDialogCreationService=F,this.systemInfoDialogService=W,this.permissionService=Q,this.l10nTextService=K,this.boxApplicationModuleTypeStorage=q,this.SHORTCUTS_GROUP=this.shortcutsService.createGroup(g.q.HINTS_DIALOG_SHORTCUTS_GROUP_NAME,{position:r.N.FORCE_TO_BOTTOM})}init(){!this.permissionService.isLicenseValid()||(this.observeActiveModule(),this.shortcutDialogCreationService.createGroupWithContainer().add(new v.z(c.s.SLASH,I=>{this.shortcutDialogCreationService.create(I)}).withModifier(c.s.SHIFT)),this.systemInfoDialogService.initializeSystemInfoDialogShortcut(this.SHORTCUTS_GROUP))}destroy(){this.shortcutsService.removeShortcutGroup(this.SHORTCUTS_GROUP),this.shortcutsService.restoreToDefaultShortcutModalTitle()}observeActiveModule(){this.boxApplicationModuleTypeStorage.select().pipe(this.takeUntilDestroy()).subscribe(()=>this.shortcutsService.setShortcutsModalTitle(this.createShortcutsTitle()))}createShortcutsTitle(){const I=this.l10nTextService.translate("SPT_COMMON_SHORTCUTS_HEADER_TITLE").toLowerCase(),F=this.boxApplicationModuleTypeStorage.getModuleName();return F?`${F[0].toUpperCase()+F.slice(1).toLowerCase()} ${I}`:I}}return E.\u0275fac=function(I){return new(I||E)(e.LFG(p.L),e.LFG(g.q),e.LFG(f.Q),e.LFG(C.$),e.LFG(o.e),e.LFG(h.N))},E.\u0275prov=e.Yz7({token:E,factory:E.\u0275fac}),E})()},3610:($,O,t)=>{t.d(O,{L:()=>r,x:()=>p});var o=t(88004),h=t(80434),c=t(71118);const v={[h.r.OVERVIEW]:o._.OVERVIEW,[h.r.GANTT]:o._.GANTT,[h.r.SCOPE]:o._.SCOPE,[h.r.BOARD]:o._.BOARD,[h.r.OBJECTIVES]:o._.ROADMAP,[h.r.RISK]:o._.RISK,[h.r.CALENDAR]:o._.CALENDAR,[h.r.REPORTS]:o._.REPORTS,[h.r.TEAMS]:o._.TEAMS,[h.r.RESOURCES]:o._.RESOURCES,[h.r.CONFIGURATION]:o._.CONFIGURATION};function r(_){let C=h.r.OVERVIEW;for(const[e,T]of Object.entries(v))if(T===_){C=e;break}return C}function p(_){if(!_)throw Error("Path missing.");const e=function(_){const e=_.split("/").map(T=>T.split("?")[0]).find(T=>function(_){return!!c.l.enumToArray(h.r).find(C=>_===C)}(T));if(c.l.isDefined(e))return e;console.error("Unknown module name.")}(decodeURIComponent(_).toLowerCase());return v[e]}},42441:($,O,t)=>{t.d(O,{D:()=>g});var o=t(21619),h=t(63833),c=t(62628),v=t(84046),r=t(25673),p=t(8855);let g=(()=>{class f extends c.b{constructor(C,e,T){super(),this.boxHierarchyService=C,this.boxScopeDefExtPlatformService=e,this.warningService=T}updateWarnings(){this.boxScopeDefExtPlatformService.selectBoxRelatedExtPlatforms$().pipe((0,h.q)(1)).subscribe(C=>this.warningService.updateWarnings(C,this.boxHierarchyService.getContextBoxId().toString()))}init(){this.boxHierarchyService.selectContextBoxId().pipe(this.takeUntilDestroy()).subscribe(C=>{this.boxScopeDefExtPlatformService.initBoxRelatedExtPlatforms(C)})}}return f.\u0275fac=function(C){return new(C||f)(v.LFG(r.T),v.LFG(p.g),v.LFG(o.q))},f.\u0275prov=v.Yz7({token:f,factory:f.\u0275fac}),f})()},13785:($,O,t)=>{t.d(O,{D:()=>h});var o=t(85105);let h=(()=>{class c{}return c.Builder=class extends o.I{constructor(r,p="prefix"){super(),this.path=r,this.pathMatch=p}build(){return{path:this.path,component:this.component,loadChildren:this.loadChildren,redirectTo:this.redirectTo,pathMatch:this.pathMatch,canActivate:this.canActivateGuards,canActivateChild:this.canActivateChildGuards,children:this.children,runGuardsAndResolvers:"always"}}withRedirectTo(r){return this.redirectTo=r,this}withComponent(r){return this.component=r,this}withLoadChildren(r){return this.loadChildren=r,this}withCanActivateGuards(r){return this.canActivateGuards=r,this}withCanActivateChildGuards(r){return this.canActivateChildGuards=r,this}withChildren(r){return this.children=r,this}},c})()},88378:($,O,t)=>{t.d(O,{r:()=>c});var o=t(63596),h=t(84046);let c=(()=>{class v extends o.y{constructor(){super(...arguments),this.LS_KEY="archived-boxes-load-mode"}set(p){super.setItem(this.LS_KEY,p)}get(){return super.getItem(this.LS_KEY)}}return v.\u0275fac=function(){let r;return function(g){return(r||(r=h.n5z(v)))(g||v)}}(),v.\u0275prov=h.Yz7({token:v,factory:v.\u0275fac}),v})()},4562:($,O,t)=>{t.d(O,{Z:()=>c});var o=t(27609),h=t(84046);let c=(()=>{class v extends o.V{constructor(){super()}}return v.\u0275fac=function(p){return new(p||v)},v.\u0275prov=h.Yz7({token:v,factory:v.\u0275fac}),v})()},8817:($,O,t)=>{t.d(O,{h:()=>c});var o=t(90850),h=t(84046);let c=(()=>{class v{constructor(){this.storedValue$=new o.xQ}select(){return this.storedValue$.asObservable()}set(p){this.storedValue$.next(p)}}return v.\u0275fac=function(p){return new(p||v)},v.\u0275prov=h.Yz7({token:v,factory:v.\u0275fac}),v})()},68725:($,O,t)=>{t.d(O,{u:()=>o});const o="create-box-wizard"},99186:($,O,t)=>{function o(p,g){return g.getChildTypeIds().some(f=>f.equals(p.getId()))}function h(p,g=!1){return!!g||!p.isArchived()}function c(p,g){return p.getScopeType().equals(g)}function v(p,g=!1){return!!g||p.isAvailable()}function r(p,g){return p.getSequentialityId().toNumber()===g.toNumber()}t.d(O,{lH:()=>o,NU:()=>h,Kd:()=>c,Me:()=>v,S:()=>r})},49317:($,O,t)=>{t.d(O,{n:()=>v});var o=t(61327),h=t(89587),c=t(84046);let v=(()=>{class r{}return r.\u0275fac=function(g){return new(g||r)},r.\u0275mod=c.oAB({type:r}),r.\u0275inj=c.cJS({providers:[o.D],imports:[[h.f]]}),r})()},61327:($,O,t)=>{t.d(O,{D:()=>f});var o=t(90187),h=t(63833),c=t(98274),v=t(71726),r=t(84046),p=t(42738),g=t(25673);let f=(()=>{class _{constructor(e,T){this.boxTypeViewResource=e,this.boxHierarchyService=T}canBeDisplayed(e){return this.boxHierarchyService.selectContextBox().pipe((0,h.q)(1),(0,c.w)(T=>this.boxTypeViewResource.getInheritanceMode(T.getBoxType().getId(),e).pipe((0,h.q)(1),(0,v.U)(E=>!E.equals(o.b.INHERITED)))))}}return _.\u0275fac=function(e){return new(e||_)(r.LFG(p.$),r.LFG(g.T))},_.\u0275prov=r.Yz7({token:_,factory:_.\u0275fac}),_})()},45182:($,O,t)=>{t.d(O,{x:()=>o});var o=(()=>{return(h=o||(o={})).BOARD_TASK_CARD="BOARD_TASK_CARD",h.GANTT_COLUMN="GANTT_COLUMN",h.RISK_TASK_CARD="RISK_TASK_CARD",h.SCOPE_COLUMN="SCOPE_COLUMN",o;var h})()},91342:($,O,t)=>{t.d(O,{N:()=>e});var o=t(77535),h=t(62628),c=t(24977),v=t(88004),r=t(70822),p=t(98274),g=t(71726),f=t(4683),_=t(84046),C=t(25673);class e extends h.b{constructor(E,M,I){super(),this.boxHierarchyService=E,this.boxApplicationModuleTypeStorage=M,this.scopeSyncService=I}init(){this.selectContextBoxId()}selectContextBoxId(){(0,f.aj)([this.boxHierarchyService.selectContextBoxId(),this.boxApplicationModuleTypeStorage.select()]).pipe(this.convertToBoxIdIfSyncNeeded(),this.takeUntilDestroy()).subscribe(E=>{this.scopeSyncService.run(E)})}convertToBoxIdIfSyncNeeded(){return E=>E.pipe((0,r.h)(([M,I])=>this.isModuleCanBeSynced(I)),(0,p.w)(([M])=>this.scopeSyncService.checkStatus(M).pipe((0,r.h)(I=>!I.completed||I.broken),(0,g.U)(()=>M))))}isModuleCanBeSynced(E){return!e.EXCEPTION_MODULES.includes(E)}}e.EXCEPTION_MODULES=[v._.OVERVIEW,v._.REPORTS,v._.TEAMS],e.\u0275fac=function(E){return new(E||e)(_.LFG(C.T),_.LFG(o.N),_.LFG(c.h))},e.\u0275prov=_.Yz7({token:e,factory:e.\u0275fac})},92585:($,O,t)=>{t.d(O,{g:()=>e});var o=t(55331),h=t(40955),c=t(54419),v=t(82055),r=t(79272),p=t(41001),g=t(90323),f=t(30737),_=t(64363),C=t(84046);let e=(()=>{class T{}return T.\u0275fac=function(M){return new(M||T)},T.\u0275mod=C.oAB({type:T}),T.\u0275inj=C.cJS({imports:[[o.ez,h.Y,c.O,v.Y,r.k,p.J,g.H,f.$,_.h]]}),T})()},58296:($,O,t)=>{t.d(O,{T:()=>Ke});var o=t(59847),h=t(51540),c=t(67890);class v{constructor(N,A,U,Y,z,se,ae){this.flex=N,this.root=A,this.width=U,this.align=Y,this.resize=z,this.columnIndex=se,this.decoratorType=ae}}class r{constructor(N,A,U,Y){this.fieldDefinitionId=N,this.name=A,this.aggregation=U,this.properties=Y}}var p=t(53770);class g{convert(N){const A=N.aggregation===p.H.toString()?N.distribute:N.aggregation;return new r(N.taskFieldId,N.fieldName,A,this.convertProperties(N))}convertMany(N){return N.map(A=>this.convert(A))}convertProperties(N){return new v(N.flex,N.root,0,"left",!0,N.columnIndex,N.decoratorType)}}class f{constructor(N,A,U,Y){this.applyToExistingView=N,this.entityViewContextId=A,this.entityViewContextType=U,this.entityViewFieldRequests=Y}}var _=t(84046);let C=(()=>{class P{constructor(A){this.boxEntityViewFieldRequestsConverter=A}convert(A,U){const Y=U.columns;return new f(!U.saveToOrigin,A.toString(),c.$0.create().toString(),this.boxEntityViewFieldRequestsConverter.convertMany(Y))}}return P.\u0275fac=function(A){return new(A||P)(_.LFG(g))},P.\u0275prov=_.Yz7({token:P,factory:P.\u0275fac}),P})();class e{constructor(N,A,U,Y,z){this.startingPosition=N,this.endingPosition=A,this.applyToExistingView=U,this.entityViewContextId=Y,this.entityViewContextType=z}}let T=(()=>{class P{convert(A,U){return new e(U.startingPosition,U.endingPosition,!U.saveToOrigin,A.toString(),c.$0.create().toString())}}return P.\u0275fac=function(A){return new(A||P)},P.\u0275prov=_.Yz7({token:P,factory:P.\u0275fac}),P})();var E=t(47789),M=t(17542),I=t(77816),F=t(40813),W=t(60903),Q=t(85847),K=function(P,N,A,U){var se,Y=arguments.length,z=Y<3?N:null===U?U=Object.getOwnPropertyDescriptor(N,A):U;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)z=Reflect.decorate(P,N,A,U);else for(var ae=P.length-1;ae>=0;ae--)(se=P[ae])&&(z=(Y<3?se(z):Y>3?se(N,A,z):se(N,A))||z);return Y>3&&z&&Object.defineProperty(N,A,z),z},q=function(P,N){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(P,N)};class Z extends M.M{getClassName(){return"BoxColumnPersonalViewDTO"}}K([(0,Q.D)(()=>E.x),(0,I.Yl)(),(0,F.j)({each:!0}),q("design:type",Array)],Z.prototype,"views",void 0),K([(0,W.qA)(),q("design:type",Number)],Z.prototype,"selectedViewId",void 0),K([(0,I.Yl)(),q("design:type",Array)],Z.prototype,"favouriteViewIds",void 0);var D=t(83155),L=t(2421),R=t(65531),b=t(11531),V=t(83950);let J=(()=>{class P extends D.a{constructor(A,U){super(A),this.environmentService=U}addColumnInColumnView(A,U,Y){return this.post(`${A}/view/${U}/columns`,Y).pipe((0,L.W)(E.x))}addColumnView(A,U){return this.post(`${A}/view`,U).pipe((0,L.W)(E.x))}deleteColumnInColumnView(A,U,Y,z,se){return this.delete(`${A}/view/${U}/columns/${Y.toString()}/column/${z}?saveToOrigin=${se}`).pipe((0,L.W)(E.x))}getViewsByBoxId(A,U){return this.get(`${A}/view-type/${U}/views`).pipe((0,L.W)(Z))}reorderColumnViewFields(A,U,Y){return this.post(`${A}/view/${U}/columns/reorder`,Y).pipe((0,L.W)(E.x))}updateColumnInColumnView(A,U,Y){return this.put(`${A}/view/${U}/columns`,Y).pipe((0,L.W)(E.x))}reorderColumnViews(A,U){return this.post(`${A}/reorder`,U).pipe((0,R.E)("HttpBoxColumnViewResource"))}getRestUrl(A){return`${this.environmentService.getRestBaseUrl()}ppm/boxarea-task/view/column/box/${A}`}}return P.\u0275fac=function(A){return new(A||P)(_.LFG(b.O),_.LFG(V.L))},P.\u0275prov=_.Yz7({token:P,factory:P.\u0275fac}),P})();var ee=t(62983),re=t(12827),ne=t(71726),de=t(34420),he=t(88791);let me=(()=>{class P{constructor(A){this.boxColumnViewConverter=A}fromDto(A){return new de.O(this.boxColumnViewConverter.fromDtoArray(A.views),A.selectedViewId,A.favouriteViewIds)}}return P.\u0275fac=function(A){return new(A||P)(_.LFG(he.t))},P.\u0275prov=_.Yz7({token:P,factory:P.\u0275fac}),P})();var ge=t(98499);let ue=(()=>{class P{convert(A){return new ge.G(A.id,A.name,A.description,A.prv,{},this.convertToFieldConfigs(A.fieldConfigs),A.inheritedFromEntityViewContextId,A.inheritedFromEntityViewContextType,A.inEditMode)}convertToFieldConfig(A){return{aggregation:A.aggregation,availableAggregations:void 0,configuration:A.configuration,distribute:A.distribute,distributes:A.distributes,customField:!1,dataType:A.dataType,label:A.label,taskFieldId:A.fieldDefinitionId,name:A.name,aggregations:A.aggregations,extPlatformId:void 0,isGlobal:!0,isSortable:A.isSortable,isGroupable:!0,getClassName:()=>"FieldConfigDTO",isEditable:A.isEditable}}convertToFieldConfigs(A){return A.map(U=>this.convertToFieldConfig(U))}}return P.\u0275fac=function(A){return new(A||P)},P.\u0275prov=_.Yz7({token:P,factory:P.\u0275fac}),P})(),Ee=(()=>{class P{constructor(A){this.entityViewConverter=A}convert(A){return new de.O(this.convertMany(A.views),A.selectedViewId,[])}convertMany(A){return A.map(U=>this.entityViewConverter.convert(U))}}return P.\u0275fac=function(A){return new(A||P)(_.LFG(ue))},P.\u0275prov=_.Yz7({token:P,factory:P.\u0275fac}),P})();var Se=t(66706),Te=t(86684),le=t(67174),Be=t(18e3);let Ie=(()=>{class P{constructor(A,U,Y,z,se,ae,G,k,x,j,te,oe){this.httpBoxColumnViewResource=A,this.httpEntityViewColumnResource=U,this.boxColumnPersonalViewConverter=Y,this.entityPersonalViewConverter=z,this.columnViewModuleCode=se,this.boxColumnViewConverter=ae,this.entityViewConverter=G,this.entityViewFieldRequestConverter=k,this.reorderColumnsRequestDTOConverter=x,this.updateColumnViewFieldsRequestDTOConverter=j,this.boxReorderEntityViewColumnsRequestConverter=te,this.addColumnViewFieldsRequestDTOConverter=oe}getViewsByBoxId$(A,U){const Y=this.columnViewModuleCode.getCode();return(0,re.t)(Y)?this.httpEntityViewColumnResource.getViewsByBoxId$(c.$0.create().toString(),A.toString(),Y).pipe((0,ne.U)(z=>this.entityPersonalViewConverter.convert(z))):this.httpBoxColumnViewResource.getViewsByBoxId(A.toString(),U).pipe((0,ne.U)(z=>this.boxColumnPersonalViewConverter.fromDto(z)))}addEntityViewField$(A,U,Y){const z=this.columnViewModuleCode.getCode();if((0,re.t)(z))return this.httpEntityViewColumnResource.addEntityViewField$(U,this.entityViewFieldRequestConverter.convert(A,Y)).pipe((0,ne.U)(ae=>this.entityViewConverter.convert(ae)));const se=this.addColumnViewFieldsRequestDTOConverter.fromAddColumnViewRequest(Y);return this.httpBoxColumnViewResource.addColumnInColumnView(A.toString(),U,se).pipe((0,ne.U)(ae=>this.boxColumnViewConverter.fromDto(ae)))}updateColumnInColumnView$(A,U,Y){const z=this.columnViewModuleCode.getCode();if((0,re.t)(z))return this.httpEntityViewColumnResource.updateEntityViewField$(U,this.entityViewFieldRequestConverter.convert(A,Y)).pipe((0,ne.U)(ae=>this.entityViewConverter.convert(ae)));const se=this.updateColumnViewFieldsRequestDTOConverter.fromUpdateColumnViewFieldsRequest(Y);return this.httpBoxColumnViewResource.updateColumnInColumnView(A.toString(),U,se).pipe((0,ne.U)(ae=>this.boxColumnViewConverter.fromDto(ae)))}reorderEntityViewField$(A,U,Y){const z=this.columnViewModuleCode.getCode();if((0,re.t)(z))return this.httpEntityViewColumnResource.reorderEntityViewField$(U,this.boxReorderEntityViewColumnsRequestConverter.convert(A,Y)).pipe((0,ne.U)(ae=>this.entityViewConverter.convert(ae)));const se=this.reorderColumnsRequestDTOConverter.fromReorderColumnsRequest(Y);return this.httpBoxColumnViewResource.reorderColumnViewFields(A.toString(),U,se).pipe((0,ne.U)(ae=>this.boxColumnViewConverter.fromDto(ae)))}deleteEntityViewField$(A,U,Y,z,se){const ae=this.columnViewModuleCode.getCode();return(0,re.t)(ae)?this.httpEntityViewColumnResource.deleteEntityViewField$(U,!se,c.$0.create().toString(),A.toString(),Y.toString(),z).pipe((0,ne.U)(G=>this.entityViewConverter.convert(G))):this.httpBoxColumnViewResource.deleteColumnInColumnView(A.toString(),U,Y,z,se).pipe((0,ne.U)(G=>this.boxColumnViewConverter.fromDto(G)))}}return P.\u0275fac=function(A){return new(A||P)(_.LFG(J),_.LFG(ee.X),_.LFG(me),_.LFG(Ee),_.LFG(Se.L),_.LFG(he.t),_.LFG(ue),_.LFG(C),_.LFG(Te.L),_.LFG(le.L),_.LFG(T),_.LFG(Be.u))},P.\u0275prov=_.Yz7({token:P,factory:P.\u0275fac}),P})();var be=t(48485),X=t(40951);let _e=(()=>{class P extends h.x{constructor(A,U,Y,z){super(),this.httpBoxColumnViewResource=A,this.boxColumnViewConverter=U,this.addViewRequestDTOConverter=Y,this.adapterBoxColumnViewResource=z}addColumnInColumnView(A,U,Y){return this.adapterBoxColumnViewResource.addEntityViewField$(A,U,Y)}addColumnView(A,U){const Y=this.addViewRequestDTOConverter.fromAddViewRequest(U);return this.httpBoxColumnViewResource.addColumnView(A.toString(),Y).pipe((0,ne.U)(z=>this.boxColumnViewConverter.fromDto(z)))}deleteColumnInColumnView(A,U,Y,z,se){return this.adapterBoxColumnViewResource.deleteEntityViewField$(A,U,Y,z,se)}getViewsByBoxId(A,U){return this.adapterBoxColumnViewResource.getViewsByBoxId$(A,U)}reorderColumnViewFields(A,U,Y){return this.adapterBoxColumnViewResource.reorderEntityViewField$(A,U,Y)}updateColumnInColumnView(A,U,Y){return this.adapterBoxColumnViewResource.updateColumnInColumnView$(A,U,Y)}reorderColumnViews(A,U){return this.httpBoxColumnViewResource.reorderColumnViews(A.toString(),be.K.toDTO(U))}}return P.\u0275fac=function(A){return new(A||P)(_.LFG(J),_.LFG(he.t),_.LFG(X.K),_.LFG(Ie))},P.\u0275prov=_.Yz7({token:P,factory:P.\u0275fac}),P})();var Ce=t(54779),De=t(96263),xe=t(21367),Ge=t(19283);let Ke=(()=>{class P{}return P.\u0275fac=function(A){return new(A||P)},P.\u0275mod=_.oAB({type:P}),P.\u0275inj=_.cJS({providers:[{provide:h.x,useClass:_e},{provide:Ce.j,useClass:De.B},J,me,xe.I,Be.u,X.K,Ge.V,Te.L,le.L,Ie,Ee,ue,C,T,g],imports:[[o.Q]]}),P})()},40946:($,O,t)=>{t.d(O,{U:()=>Q});var o=t(2859),h=t(80358),c=t(53824),v=t(12701),r=t(12827),p=t(53436),g=t(55757),f=t(53339),_=t(98274),C=t(71726),e=t(63833),T=t(32271),E=t(84046),M=t(66706),I=t(51540),F=t(74965),W=t(25673);let Q=(()=>{class K extends v.X{constructor(Z,D,L,R,b,V,J,ee){super(),this.columnViewModuleCode=Z,this.availableFieldsStorage=D,this.boxColumnViewResource=L,this.boxViewResource=R,this.columnViewAggregateConverter=b,this.extPlatformRepository=V,this.fetchResponseToColumnViewConverter=J,this.boxHierarchyService=ee}addColumnInView(Z,D){return this.getBoxId().pipe((0,_.w)(L=>this.boxColumnViewResource.addColumnInColumnView(L,Z,D)),(0,_.w)(L=>this.columnViewAggregateConverter.afterUpdate(L)))}addView(Z){return this.getBoxId().pipe((0,_.w)(D=>this.boxColumnViewResource.addColumnView(D,Z)),(0,C.U)(D=>this.columnViewAggregateConverter.fromView(D)))}deleteColumnInView(Z,D,L,R){return this.getBoxId().pipe((0,_.w)(b=>this.boxColumnViewResource.deleteColumnInColumnView(b,Z,D,L,R)),(0,_.w)(b=>this.columnViewAggregateConverter.afterUpdate(b)))}deleteView(Z){return this.getBoxId().pipe((0,_.w)(D=>this.boxViewResource.delete(D,Z)))}fetchViews(){return this.getBoxId().pipe((0,_.w)(Z=>(0,g.D)([this.boxColumnViewResource.getViewsByBoxId(Z,this.getViewType()).pipe((0,e.q)(1)),this.availableFieldsStorage.select().pipe((0,e.q)(1)),this.extPlatformRepository.select().pipe((0,T.n)(D=>!D||!D.length),(0,e.q)(1))])),(0,C.U)(([Z,D,L])=>this.fetchResponseToColumnViewConverter.convertMany(Z,D,L)))}getTaskPreview(Z,D){return this.getBoxId().pipe((0,_.w)(L=>this.boxViewResource.getTaskPreview(L,Z,D,this.getViewType())))}markAsFavourite(Z){return this.getBoxId().pipe((0,_.w)(D=>this.boxViewResource.markViewFavourite(D,Z,this.getViewType())))}reorderViewFields(Z,D){return this.getBoxId().pipe((0,_.w)(L=>this.boxColumnViewResource.reorderColumnViewFields(L,Z,D)),(0,_.w)(L=>this.columnViewAggregateConverter.afterUpdate(L)))}restoreToOrigin(Z){return this.getBoxId().pipe((0,_.w)(D=>this.boxViewResource.restoreToOrigin(D,Z)))}saveAsNew(Z,D){return this.getBoxId().pipe((0,_.w)(L=>this.boxViewResource.saveAsNew(L,Z,D)),(0,_.w)(L=>this.columnViewAggregateConverter.afterUpdate(L)))}saveToOrigin(Z){return this.getBoxId().pipe((0,_.w)(D=>this.boxViewResource.saveToOrigin(D,Z)))}selectView(Z){return(0,r.t)(this.columnViewModuleCode.getCode())?(0,f.of)(void 0):this.getBoxId().pipe((0,_.w)(D=>this.boxViewResource.selectView(D,Z,this.getViewType())))}unmarkFromFavourite(Z){return this.getBoxId().pipe((0,_.w)(D=>this.boxViewResource.unmarkViewFavourite(D,Z,this.getViewType())))}updateColumnInView(Z,D){return this.getBoxId().pipe((0,_.w)(L=>this.boxColumnViewResource.updateColumnInColumnView(L,Z,D)),(0,_.w)(L=>this.columnViewAggregateConverter.afterUpdate(L)))}updateView(Z,D){return this.getBoxId().pipe((0,_.w)(L=>this.boxViewResource.update(L,Z,D)),(0,_.w)(L=>this.columnViewAggregateConverter.afterUpdate(L)))}getBoxId(){return(0,f.of)(this.boxHierarchyService.getContextBoxId())}getViewType(){return`${this.columnViewModuleCode.getCode()}_COLUMN`}}return K.\u0275fac=function(Z){return new(Z||K)(E.LFG(M.L),E.LFG(h.h),E.LFG(I.x),E.LFG(F.T),E.LFG(c.F),E.LFG(o.G),E.LFG(p.M),E.LFG(W.T))},K.\u0275prov=E.Yz7({token:K,factory:K.\u0275fac}),K})()},64362:($,O,t)=>{t.d(O,{l:()=>Jt});var o=t(55331),h=t(70335),c=t(43786),v=t(25468),r=t(86392),p=t(71726),g=t(98274),f=t(53339),_=t(5706),C=t(84046);class E{constructor(n,u){this.actions$=n,this.changeSelectedColumnViewHandler=u,this.changeSelected$=this.actions$.pipe((0,c.l4)("ChangeSelectedColumnViewCommand"),(0,p.U)(d=>d.payload),(0,g.w)(d=>this.changeSelectedColumnViewHandler.execute(d).pipe((0,g.w)(()=>(0,f.of)(null)))))}}E.\u0275fac=function(n){return new(n||E)(C.LFG(c.eX),C.LFG(_.h))},E.\u0275prov=C.Yz7({token:E,factory:E.\u0275fac}),function(s,n,u,d){var B,y=arguments.length,a=y<3?n:null===d?d=Object.getOwnPropertyDescriptor(n,u):d;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(s,n,u,d);else for(var w=s.length-1;w>=0;w--)(B=s[w])&&(a=(y<3?B(a):y>3?B(n,u,a):B(n,u))||a);y>3&&a&&Object.defineProperty(n,u,a)}([(0,c.Qm)({dispatch:!1}),function(s,n){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata("design:type",Object)}()],E.prototype,"changeSelected$",void 0);var M=t(73877);class I extends M.Z{constructor(){super(...arguments),this.entities={}}}var F=t(70162);const W=new I;function q(s,n){return Object.assign(new I,s,{entities:n})}function Z(s){const n={};return Object.keys(s).forEach(u=>n[u]=Object.assign(Object.assign({},s[u]),{selected:!1})),n}function L(s,n){return s&&!!Object.keys(s).length&&s[n.id]&&!!Object.keys(s[n.id]).length&&s[n.id].selected}var R=t(13364);class J{constructor(n,u){this.actions$=n,this.createColumnViewHandler=u,this.createColumnView$=this.actions$.pipe((0,c.l4)("CreateColumnViewCommand"),(0,p.U)(d=>d.payload),(0,g.w)(d=>this.createColumnViewHandler.execute(d).pipe((0,g.w)(()=>(0,f.of)(null)))))}}J.\u0275fac=function(n){return new(n||J)(C.LFG(c.eX),C.LFG(R.x))},J.\u0275prov=C.Yz7({token:J,factory:J.\u0275fac}),function(s,n,u,d){var B,y=arguments.length,a=y<3?n:null===d?d=Object.getOwnPropertyDescriptor(n,u):d;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(s,n,u,d);else for(var w=s.length-1;w>=0;w--)(B=s[w])&&(a=(y<3?B(a):y>3?B(n,u,a):B(n,u))||a);y>3&&a&&Object.defineProperty(n,u,a)}([(0,c.Qm)({dispatch:!1}),function(s,n){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata("design:type",Object)}()],J.prototype,"createColumnView$",void 0);var ee=t(49469);class de{constructor(n,u){this.actions$=n,this.deleteColumnViewHandler=u,this.createColumnView$=this.actions$.pipe((0,c.l4)("DeleteColumnViewCommand"),(0,p.U)(d=>d.payload),(0,g.w)(d=>this.deleteColumnViewHandler.execute(d).pipe((0,g.w)(()=>(0,f.of)(null)))))}}de.\u0275fac=function(n){return new(n||de)(C.LFG(c.eX),C.LFG(ee.a))},de.\u0275prov=C.Yz7({token:de,factory:de.\u0275fac}),function(s,n,u,d){var B,y=arguments.length,a=y<3?n:null===d?d=Object.getOwnPropertyDescriptor(n,u):d;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(s,n,u,d);else for(var w=s.length-1;w>=0;w--)(B=s[w])&&(a=(y<3?B(a):y>3?B(n,u,a):B(n,u))||a);y>3&&a&&Object.defineProperty(n,u,a)}([(0,c.Qm)({dispatch:!1}),function(s,n){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata("design:type",Object)}()],de.prototype,"createColumnView$",void 0);var he=t(27042);class ue{constructor(n,u){this.actions$=n,this.addColumnViewToFavouritesHandler=u,this.addColumnViewToFavourite$=this.actions$.pipe((0,c.l4)("AddColumnViewToFavouritesCommand"),(0,p.U)(d=>d.payload),(0,g.w)(d=>this.addColumnViewToFavouritesHandler.execute(d).pipe((0,g.w)(()=>(0,f.of)(null)))))}}ue.\u0275fac=function(n){return new(n||ue)(C.LFG(c.eX),C.LFG(he.A))},ue.\u0275prov=C.Yz7({token:ue,factory:ue.\u0275fac}),function(s,n,u,d){var B,y=arguments.length,a=y<3?n:null===d?d=Object.getOwnPropertyDescriptor(n,u):d;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(s,n,u,d);else for(var w=s.length-1;w>=0;w--)(B=s[w])&&(a=(y<3?B(a):y>3?B(n,u,a):B(n,u))||a);y>3&&a&&Object.defineProperty(n,u,a)}([(0,c.Qm)({dispatch:!1}),function(s,n){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata("design:type",Object)}()],ue.prototype,"addColumnViewToFavourite$",void 0);var Ee=t(17897);class le{constructor(n,u){this.actions$=n,this.removeColumnViewFromFavouritesHandler=u,this.removeColumnViewToFavourite$=this.actions$.pipe((0,c.l4)("RemoveColumnViewFromFavouritesCommand"),(0,p.U)(d=>d.payload),(0,g.w)(d=>this.removeColumnViewFromFavouritesHandler.execute(d).pipe((0,g.w)(()=>(0,f.of)(null)))))}}le.\u0275fac=function(n){return new(n||le)(C.LFG(c.eX),C.LFG(Ee.u))},le.\u0275prov=C.Yz7({token:le,factory:le.\u0275fac}),function(s,n,u,d){var B,y=arguments.length,a=y<3?n:null===d?d=Object.getOwnPropertyDescriptor(n,u):d;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(s,n,u,d);else for(var w=s.length-1;w>=0;w--)(B=s[w])&&(a=(y<3?B(a):y>3?B(n,u,a):B(n,u))||a);y>3&&a&&Object.defineProperty(n,u,a)}([(0,c.Qm)({dispatch:!1}),function(s,n){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata("design:type",Object)}()],le.prototype,"removeColumnViewToFavourite$",void 0);var Be=t(46627);class X{constructor(n,u){this.actions$=n,this.fetchAllColumnViewsHandler=u,this.fetchAll$=this.actions$.pipe((0,c.l4)("FetchAllColumnViewsCommand"),(0,p.U)(d=>d.payload),(0,g.w)(d=>this.fetchAllColumnViewsHandler.execute(d).pipe((0,g.w)(()=>(0,f.of)(null)))))}}X.\u0275fac=function(n){return new(n||X)(C.LFG(c.eX),C.LFG(Be.j))},X.\u0275prov=C.Yz7({token:X,factory:X.\u0275fac}),function(s,n,u,d){var B,y=arguments.length,a=y<3?n:null===d?d=Object.getOwnPropertyDescriptor(n,u):d;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(s,n,u,d);else for(var w=s.length-1;w>=0;w--)(B=s[w])&&(a=(y<3?B(a):y>3?B(n,u,a):B(n,u))||a);y>3&&a&&Object.defineProperty(n,u,a)}([(0,c.Qm)({dispatch:!1}),function(s,n){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata("design:type",Object)}()],X.prototype,"fetchAll$",void 0);var _e=t(74851);class xe{constructor(n,u){this.actions$=n,this.saveAsNewColumnViewHandler=u,this.saveAsNewColumnView$=this.actions$.pipe((0,c.l4)("SaveAsNewColumnViewCommand"),(0,p.U)(d=>d.payload),(0,g.w)(d=>this.saveAsNewColumnViewHandler.execute(d).pipe((0,g.w)(()=>(0,f.of)(null)))))}}xe.\u0275fac=function(n){return new(n||xe)(C.LFG(c.eX),C.LFG(_e.I))},xe.\u0275prov=C.Yz7({token:xe,factory:xe.\u0275fac}),function(s,n,u,d){var B,y=arguments.length,a=y<3?n:null===d?d=Object.getOwnPropertyDescriptor(n,u):d;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(s,n,u,d);else for(var w=s.length-1;w>=0;w--)(B=s[w])&&(a=(y<3?B(a):y>3?B(n,u,a):B(n,u))||a);y>3&&a&&Object.defineProperty(n,u,a)}([(0,c.Qm)({dispatch:!1}),function(s,n){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata("design:type",Object)}()],xe.prototype,"saveAsNewColumnView$",void 0);var Ge=t(66558);class N{constructor(n,u){this.actions$=n,this.updateColumnViewHandler=u,this.updateColumnView$=this.actions$.pipe((0,c.l4)("UpdateColumnViewCommand"),(0,p.U)(d=>d.payload),(0,g.w)(d=>this.updateColumnViewHandler.execute(d).pipe((0,g.w)(()=>(0,f.of)(null)))))}}N.\u0275fac=function(n){return new(n||N)(C.LFG(c.eX),C.LFG(Ge.w))},N.\u0275prov=C.Yz7({token:N,factory:N.\u0275fac}),function(s,n,u,d){var B,y=arguments.length,a=y<3?n:null===d?d=Object.getOwnPropertyDescriptor(n,u):d;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(s,n,u,d);else for(var w=s.length-1;w>=0;w--)(B=s[w])&&(a=(y<3?B(a):y>3?B(n,u,a):B(n,u))||a);y>3&&a&&Object.defineProperty(n,u,a)}([(0,c.Qm)({dispatch:!1}),function(s,n){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata("design:type",Object)}()],N.prototype,"updateColumnView$",void 0);var A=t(79219);class z{constructor(n,u){this.actions$=n,this.addFieldConfigToWorkingAreaHandler=u,this.fetchAll$=this.actions$.pipe((0,c.l4)("AddFieldConfigToWorkingAreaCommand"),(0,p.U)(d=>d.payload),(0,g.w)(d=>this.addFieldConfigToWorkingAreaHandler.execute(d).pipe((0,g.w)(()=>(0,f.of)(null)))))}}z.\u0275fac=function(n){return new(n||z)(C.LFG(c.eX),C.LFG(A.f))},z.\u0275prov=C.Yz7({token:z,factory:z.\u0275fac}),function(s,n,u,d){var B,y=arguments.length,a=y<3?n:null===d?d=Object.getOwnPropertyDescriptor(n,u):d;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(s,n,u,d);else for(var w=s.length-1;w>=0;w--)(B=s[w])&&(a=(y<3?B(a):y>3?B(n,u,a):B(n,u))||a);y>3&&a&&Object.defineProperty(n,u,a)}([(0,c.Qm)({dispatch:!1}),function(s,n){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata("design:type",Object)}()],z.prototype,"fetchAll$",void 0);var se=t(50027);class k{constructor(n,u){this.actions$=n,this.changeFieldConfigTreeRootInWorkingAreaHandler=u,this.fetchAll$=this.actions$.pipe((0,c.l4)("ChangeFieldConfigTreeRootInWorkingAreaCommand"),(0,p.U)(d=>d.payload),(0,g.w)(d=>this.changeFieldConfigTreeRootInWorkingAreaHandler.execute(d).pipe((0,g.w)(()=>(0,f.of)(null)))))}}k.\u0275fac=function(n){return new(n||k)(C.LFG(c.eX),C.LFG(se.G))},k.\u0275prov=C.Yz7({token:k,factory:k.\u0275fac}),function(s,n,u,d){var B,y=arguments.length,a=y<3?n:null===d?d=Object.getOwnPropertyDescriptor(n,u):d;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(s,n,u,d);else for(var w=s.length-1;w>=0;w--)(B=s[w])&&(a=(y<3?B(a):y>3?B(n,u,a):B(n,u))||a);y>3&&a&&Object.defineProperty(n,u,a)}([(0,c.Qm)({dispatch:!1}),function(s,n){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata("design:type",Object)}()],k.prototype,"fetchAll$",void 0);var x=t(14537);class oe{constructor(n,u){this.actions$=n,this.changeAggregationInWorkingAreaHandler=u,this.fetchAll$=this.actions$.pipe((0,c.l4)("ChangeAggregationInWorkingAreaCommand"),(0,p.U)(d=>d.payload),(0,g.w)(d=>this.changeAggregationInWorkingAreaHandler.execute(d).pipe((0,g.w)(()=>(0,f.of)(null)))))}}oe.\u0275fac=function(n){return new(n||oe)(C.LFG(c.eX),C.LFG(x.Y))},oe.\u0275prov=C.Yz7({token:oe,factory:oe.\u0275fac}),function(s,n,u,d){var B,y=arguments.length,a=y<3?n:null===d?d=Object.getOwnPropertyDescriptor(n,u):d;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(s,n,u,d);else for(var w=s.length-1;w>=0;w--)(B=s[w])&&(a=(y<3?B(a):y>3?B(n,u,a):B(n,u))||a);y>3&&a&&Object.defineProperty(n,u,a)}([(0,c.Qm)({dispatch:!1}),function(s,n){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata("design:type",Object)}()],oe.prototype,"fetchAll$",void 0);var ce=t(56459);class Me{constructor(n,u){this.actions$=n,this.changeAggregationInWorkingAreaHandler=u,this.fetchAll$=this.actions$.pipe((0,c.l4)("ChangeDisplayInWorkingAreaCommand"),(0,p.U)(d=>d.payload),(0,g.w)(d=>this.changeAggregationInWorkingAreaHandler.execute(d).pipe((0,g.w)(()=>(0,f.of)(null)))))}}Me.\u0275fac=function(n){return new(n||Me)(C.LFG(c.eX),C.LFG(ce.C))},Me.\u0275prov=C.Yz7({token:Me,factory:Me.\u0275fac}),function(s,n,u,d){var B,y=arguments.length,a=y<3?n:null===d?d=Object.getOwnPropertyDescriptor(n,u):d;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(s,n,u,d);else for(var w=s.length-1;w>=0;w--)(B=s[w])&&(a=(y<3?B(a):y>3?B(n,u,a):B(n,u))||a);y>3&&a&&Object.defineProperty(n,u,a)}([(0,c.Qm)({dispatch:!1}),function(s,n){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata("design:type",Object)}()],Me.prototype,"fetchAll$",void 0);var et=t(56182);class Ae{constructor(n,u){this.actions$=n,this.changeDistributeInWorkingAreaHandler=u,this.changeDistribute$=this.actions$.pipe((0,c.l4)("ChangeDistributeInWorkingAreaCommand"),(0,p.U)(d=>d.payload),(0,g.w)(d=>this.changeDistributeInWorkingAreaHandler.execute(d).pipe((0,g.w)(()=>(0,f.of)(null)))))}}Ae.\u0275fac=function(n){return new(n||Ae)(C.LFG(c.eX),C.LFG(et.H))},Ae.\u0275prov=C.Yz7({token:Ae,factory:Ae.\u0275fac}),function(s,n,u,d){var B,y=arguments.length,a=y<3?n:null===d?d=Object.getOwnPropertyDescriptor(n,u):d;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(s,n,u,d);else for(var w=s.length-1;w>=0;w--)(B=s[w])&&(a=(y<3?B(a):y>3?B(n,u,a):B(n,u))||a);y>3&&a&&Object.defineProperty(n,u,a)}([(0,c.Qm)({dispatch:!1}),function(s,n){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata("design:type",Object)}()],Ae.prototype,"changeDistribute$",void 0);var ve=t(49319);class ye{constructor(n,u){this.actions$=n,this.changeFlexWorkingAreaHandler=u,this.reorderWorkingArea$=this.actions$.pipe((0,c.l4)("ChangeFieldConfigFlexStyleInWorkingAreaCommand"),(0,p.U)(d=>d.payload),(0,g.w)(d=>this.changeFlexWorkingAreaHandler.execute(d).pipe((0,g.w)(()=>(0,f.of)(null)))))}}ye.\u0275fac=function(n){return new(n||ye)(C.LFG(c.eX),C.LFG(ve.W))},ye.\u0275prov=C.Yz7({token:ye,factory:ye.\u0275fac}),function(s,n,u,d){var B,y=arguments.length,a=y<3?n:null===d?d=Object.getOwnPropertyDescriptor(n,u):d;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(s,n,u,d);else for(var w=s.length-1;w>=0;w--)(B=s[w])&&(a=(y<3?B(a):y>3?B(n,u,a):B(n,u))||a);y>3&&a&&Object.defineProperty(n,u,a)}([(0,c.Qm)({dispatch:!1}),function(s,n){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata("design:type",Object)}()],ye.prototype,"reorderWorkingArea$",void 0);var Je=t(45635),ze=t(71079),At=t(72106),Tt=t(599),ut=t(12701);class Le{constructor(n,u,d,y){this.actions$=n,this.columnViewCommandService=u,this.commitWorkingAreaMessenger=d,this.taskColumnViewResource=y,this.fetchAll$=this.actions$.pipe((0,c.l4)("CommitWorkingAreaChangesCommand"),(0,p.U)(a=>a.payload),(0,g.w)(a=>this.taskColumnViewResource.saveToOrigin(a.payload).pipe((0,Je.b)(w=>this.mergeResponse=w),(0,g.w)(()=>(this.commitWorkingAreaMessenger.showSuccessfulCommitMessage(),this.columnViewCommandService.fetchAll())),(0,g.w)(()=>(this.columnViewCommandService.changeSelected(this.mergeResponse.current,!1),this.mergeResponse=null,(0,f.of)(new Tt.Ec)))))),this.mergeResponse=null}}Le.\u0275fac=function(n){return new(n||Le)(C.LFG(c.eX),C.LFG(ze.J),C.LFG(At.v),C.LFG(ut.X))},Le.\u0275prov=C.Yz7({token:Le,factory:Le.\u0275fac}),function(s,n,u,d){var B,y=arguments.length,a=y<3?n:null===d?d=Object.getOwnPropertyDescriptor(n,u):d;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(s,n,u,d);else for(var w=s.length-1;w>=0;w--)(B=s[w])&&(a=(y<3?B(a):y>3?B(n,u,a):B(n,u))||a);y>3&&a&&Object.defineProperty(n,u,a)}([(0,c.Qm)(),function(s,n){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata("design:type",Object)}()],Le.prototype,"fetchAll$",void 0);var pt=t(49999);class we{constructor(n,u,d,y){this.actions$=n,this.columnViewCommandService=u,this.taskColumnViewResource=d,this.discardNotifier=y,this.fetchAll$=this.actions$.pipe((0,c.l4)("DiscardChangesFromWorkingAreaCommand"),(0,p.U)(a=>a.payload),(0,g.w)(a=>{const w=a.payload.select;return this.taskColumnViewResource.restoreToOrigin(a.payload.columnViewId).pipe((0,Je.b)(Xe=>this.revertResponse=Xe),(0,g.w)(()=>this.columnViewCommandService.fetchAll()),(0,g.w)(()=>(this.columnViewCommandService.changeSelected(this.revertResponse.current,w),this.revertResponse=null,this.discardNotifier.set(),(0,f.of)(null))))})),this.revertResponse=null}}we.\u0275fac=function(n){return new(n||we)(C.LFG(c.eX),C.LFG(ze.J),C.LFG(ut.X),C.LFG(pt.a))},we.\u0275prov=C.Yz7({token:we,factory:we.\u0275fac}),function(s,n,u,d){var B,y=arguments.length,a=y<3?n:null===d?d=Object.getOwnPropertyDescriptor(n,u):d;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(s,n,u,d);else for(var w=s.length-1;w>=0;w--)(B=s[w])&&(a=(y<3?B(a):y>3?B(n,u,a):B(n,u))||a);y>3&&a&&Object.defineProperty(n,u,a)}([(0,c.Qm)({dispatch:!1}),function(s,n){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata("design:type",Object)}()],we.prototype,"fetchAll$",void 0);var Dt=t(510);class Pe{constructor(n,u){this.actions$=n,this.removeFieldConfigToWorkingAreaHandler=u,this.fetchAll$=this.actions$.pipe((0,c.l4)("RemoveFieldConfigFromWorkingAreaCommand"),(0,p.U)(d=>d.payload),(0,g.w)(d=>this.removeFieldConfigToWorkingAreaHandler.execute(d).pipe((0,g.w)(()=>(0,f.of)(null)))))}}Pe.\u0275fac=function(n){return new(n||Pe)(C.LFG(c.eX),C.LFG(Dt.J))},Pe.\u0275prov=C.Yz7({token:Pe,factory:Pe.\u0275fac}),function(s,n,u,d){var B,y=arguments.length,a=y<3?n:null===d?d=Object.getOwnPropertyDescriptor(n,u):d;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(s,n,u,d);else for(var w=s.length-1;w>=0;w--)(B=s[w])&&(a=(y<3?B(a):y>3?B(n,u,a):B(n,u))||a);y>3&&a&&Object.defineProperty(n,u,a)}([(0,c.Qm)({dispatch:!1}),function(s,n){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata("design:type",Object)}()],Pe.prototype,"fetchAll$",void 0);var It=t(58399);class Ve{constructor(n,u){this.actions$=n,this.reorderWorkingAreaHandler=u,this.reorderWorkingArea$=this.actions$.pipe((0,c.l4)("ReorderFieldConfigInWorkingAreaCommand"),(0,p.U)(d=>d.payload),(0,g.w)(d=>this.reorderWorkingAreaHandler.execute(d).pipe((0,g.w)(()=>(0,f.of)(null)))))}}Ve.\u0275fac=function(n){return new(n||Ve)(C.LFG(c.eX),C.LFG(It.q))},Ve.\u0275prov=C.Yz7({token:Ve,factory:Ve.\u0275fac}),function(s,n,u,d){var B,y=arguments.length,a=y<3?n:null===d?d=Object.getOwnPropertyDescriptor(n,u):d;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(s,n,u,d);else for(var w=s.length-1;w>=0;w--)(B=s[w])&&(a=(y<3?B(a):y>3?B(n,u,a):B(n,u))||a);y>3&&a&&Object.defineProperty(n,u,a)}([(0,c.Qm)({dispatch:!1}),function(s,n){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata("design:type",Object)}()],Ve.prototype,"reorderWorkingArea$",void 0);class je extends M.Z{constructor(){super(...arguments),this.entities={}}}const wt=new je;var Vt=t(17257);class Ue{constructor(n,u){this.actions$=n,this.fetchAllAvailableFieldConfigHandler=u,this.fetchAll$=this.actions$.pipe((0,c.l4)("FetchAllAvailableFieldConfigsCommand"),(0,p.U)(d=>d.payload),(0,g.w)(()=>this.fetchAllAvailableFieldConfigHandler.execute().pipe((0,g.w)(()=>(0,f.of)(null)))))}}Ue.\u0275fac=function(n){return new(n||Ue)(C.LFG(c.eX),C.LFG(Vt.Z))},Ue.\u0275prov=C.Yz7({token:Ue,factory:Ue.\u0275fac}),function(s,n,u,d){var B,y=arguments.length,a=y<3?n:null===d?d=Object.getOwnPropertyDescriptor(n,u):d;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(s,n,u,d);else for(var w=s.length-1;w>=0;w--)(B=s[w])&&(a=(y<3?B(a):y>3?B(n,u,a):B(n,u))||a);y>3&&a&&Object.defineProperty(n,u,a)}([(0,c.Qm)({dispatch:!1}),function(s,n){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata("design:type",Object)}()],Ue.prototype,"fetchAll$",void 0),t(24298);var Wt=t(28579),Ct=t(19537),Nt=t(51545),Ht=t(79047),Zt=t(62807),Gt=t(28722),vt=t(92944),Kt=t(37869),nt=t(68890),jt=t(31890),ft=t(88324),rt=t(8858);const Yt=[Wt.X,rt.f,h.UX,Ct.Z.forRoot(),Zt.nv.forRoot(),Gt.v.forRoot(),o.ez,Nt.F,nt.z8,r.D,Ht.C,Kt.o,vt.$,jt.z.forRoot(ft.F.REST|ft.F.STORE),c.sQ.forFeature([X,J,xe,N,de,E,Ue,ue,le,Le,oe,Me,Ae,Ve,ye,z,Pe,k,we])],$t={columnViews:function(s=W,n){switch(n.type){case"TruncateColumnViewCommand":return Object.assign(new I,{fetching:!1,fetched:!1,entities:{}});case"FetchAllColumnViewsCommand":return Object.assign(new I,s,{fetching:!0});case"FetchAllColumnViewsSuccessCommand":const u={};[...n.payload.data].forEach(Ne=>{u[Ne.id]=Object.assign(Object.assign({},Ne),{selected:Ne.selected||L(s.entities,Ne)})});const y={entities:u,fetching:!1,fetched:!0};return Object.assign(new I,s,y);case"FetchAllColumnViewsFailureCommand":return Object.assign(new I,s,{fetching:!1});case"CreateColumnViewSuccessCommand":const a=n.payload.data,B=Object.assign({},s.entities);return B[a.id]=a,q(s,B);case"DeleteColumnViewSuccessCommand":const w=n.payload.data,Xe=Object.assign({},s.entities);return delete Xe[w],q(s,Xe);case"UpdateColumnViewSuccessCommand":const gt=n.payload.data,_t=gt.id;let Fe=Object.assign({},s.entities);delete Fe[_t],Fe=Z(Fe);const We=F.cloneDeep(gt);return We.selected=!0,Fe[_t]=We,Fe=function(s){const n={},u=Object.values(s).filter(d=>d.inEditMode);return Object.keys(s).forEach(d=>{const y=s[d];u.some(B=>B.name===y.name&&B.id!==y.id)||(n[d]=Object.assign({},y))}),n}(Fe),q(s,Fe);case"ChangeFieldConfigTreeRootInWorkingAreaCommand":const zt=n.payload.data.fieldConfigId,st=n.payload.data.columnViewId;let Ze=Object.assign({},s.entities);const xt=Ze[st].fieldConfigs;return xt.forEach(Ne=>{Ne.setTreeRoot(Ne.id===zt)}),Ze=Z(Ze),Ze[st]=Object.assign({},Ze[st],{fieldConfigs:xt,selected:!0}),q(s,Ze);case"AddColumnViewToFavouritesSuccessCommand":const at=n.payload.data,ke=Object.assign({},s.entities),Et=Object.assign({},ke[at]);return Et.favourite=!0,delete ke[at],ke[at]=Et,q(s,ke);case"RemoveColumnViewFromFavouritesSuccessCommand":const lt=n.payload.data,qe=Object.assign({},s.entities),St=Object.assign({},qe[lt]);return St.favourite=!1,delete qe[lt],qe[lt]=St,q(s,qe);case"ChangeSelectedColumnViewSuccessCommand":return function(s,n){const u=Object.assign({},s.entities),d=Object.keys(u).map(a=>u[a]).map(a=>a.selected?Object.assign({},a,{selected:!1}):a),y={};return d.forEach(a=>{y[a.id]=a}),y[n]=Object.assign({},y[n],{selected:!0}),Object.assign({},s,{entities:y})}(s,n.payload.payload);default:return s}},availableFieldConfigs:function(s=wt,n){switch(n.type){case"FetchAllAvailableFieldConfigsCommand":return Object.assign(new je,s,{fetching:!0});case"FetchAllAvailableFieldConfigsSuccessCommand":const u={};[...n.payload.data].forEach(a=>{u[function(s){return`${s.extPlatformId}-${s.taskFieldId}-${s.id}-${s.name}`}(a)]=a});const y={entities:u,fetching:!1,fetched:!0};return Object.assign(new je,s,y);case"FetchAllAvailableFieldConfigsFailureCommand":return Object.assign(new je,s,{fetching:!1});case"TruncateFieldConfigsCommand":return Object.assign(new je,s,{entities:{},fetching:!1,fetched:!1});default:return s}}};let Jt=(()=>{class s{}return s.\u0275fac=function(u){return new(u||s)},s.\u0275mod=C.oAB({type:s}),s.\u0275inj=C.cJS({providers:[pt.a],imports:[[...Yt,v.Aw.forFeature("ColumnView",$t)]]}),s})()},72254:($,O,t)=>{t.d(O,{d:()=>he});var o=t(55331),h=t(86392),c=t(82055),v=t(41001),r=t(49317),p=t(28693),g=t(80065),f=t(59999),_=t(12701),C=t(8154),e=t(8650),T=t(19993),E=t(52583),I=(t(76996),t(51545)),F=t(51805),W=t(78492),Q=t(28722),K=t(65993),q=t(37869),Z=t(68890),D=t(8164),L=t(66134),R=t(48002),b=t(26566),V=t(84046);const re=[o.ez,r.n,I.F,K.k.forRoot(),h.D,q.o,Q.v.forRoot(),p.z,F.$,Z.z8],ne=[T.w],de=[E.D];let he=(()=>{class me{static forBox(ue,Ee,Se){return{ngModule:me,providers:[{provide:_.X,useClass:ue},{provide:f.u,useClass:Ee},{provide:C.E,useClass:Se},{provide:L.u,useClass:R.c}]}}static forChild(ue){return{ngModule:me,providers:[...de,{provide:e.X,useClass:ue}]}}}return me.exports=ne,me.\u0275fac=function(ue){return new(ue||me)},me.\u0275mod=V.oAB({type:me}),me.\u0275inj=V.cJS({providers:de,imports:[[re,c.Y,W.f,g.X,D.X,v.J,b.n]]}),me})()},26687:($,O,t)=>{t.d(O,{h:()=>o});var o=(()=>{return(h=o||(o={})).OWN="OWN",h.INHERITED="INHERITED",h.OWN_AND_INHERITED="OWN_AND_INHERITED",o;var h})()},49999:($,O,t)=>{t.d(O,{a:()=>c});var o=t(27609),h=t(84046);let c=(()=>{class v extends o.V{constructor(){super()}}return v.\u0275fac=function(p){return new(p||v)},v.\u0275prov=h.Yz7({token:v,factory:v.\u0275fac}),v})()},19993:($,O,t)=>{t.d(O,{w:()=>ae});var o=t(84046),h=t(88004),c=t(61327),v=t(45182),r=t(11206),p=t(91303),g=t(71079),f=t(95442),_=t(59458),C=t(26687),e=t(53002);let T=(()=>{class G{getAvailableColumnViews(x,j){return this.swapActualWithDuplicated(x,j).filter(oe=>!!this.isActualColumnView(oe,j)||!this.isDuplicatedColumnView(oe,j))}isActualColumnView(x,j){return x.name===j.name&&x.id===j.id}isDuplicatedColumnView(x,j){return x.name===j.name&&x.id!==j.id}swapActualWithDuplicated(x,j){let te=-1,oe=-1;if(x.forEach((ce,Re)=>{this.isActualColumnView(ce,j)&&(te=Re),this.isDuplicatedColumnView(ce,j)&&(oe=Re)}),-1!==te&&-1!==oe){const ce=x[te];x[te]=x[oe],x[oe]=ce}return x}}return G.\u0275fac=function(x){return new(x||G)},G.\u0275prov=o.Yz7({token:G,factory:G.\u0275fac}),G})();var E=t(76996),M=t(98274),I=t(63833),F=t(71726),W=t(70822),Q=t(69085),K=t(86263),q=t(21693),Z=t(95900),D=t(46363),L=t(62546),R=t(66706),b=t(81785),V=t(38768),J=t(52583),ee=t(25673),re=t(55331),ne=t(55472),de=t(34909),he=t(68890),me=t(44864),ge=t(62419),ue=t(32874),Ee=t(38651),Se=t(55117),Te=t(26463),le=t(94944),Be=t(65799),Ie=t(18217);function be(G,k){1&G&&(o.TgZ(0,"span",12),o._uU(1,"*"),o.qZA())}function X(G,k){if(1&G&&(o.TgZ(0,"sp-dropdown-item"),o._uU(1),o.qZA()),2&G){const x=o.oxw(3);o.xp6(1),o.Oqu(x.actualColumnView.name)}}function _e(G,k){if(1&G){const x=o.EpF();o.TgZ(0,"sp-dropdown-item",20),o.NdJ("itemClick",function(){o.CHM(x);const te=o.oxw(4);return te.saveAs(te.actualColumnView)}),o.ALo(1,"spL10nText"),o._uU(2),o.ALo(3,"spL10nText"),o.qZA()}if(2&G){const x=o.oxw(4);o.Q6J("id",x.composeIdentifier("column-view-save-as"))("disabled",x.isSaveAsButtonDisabled())("tooltip",o.lcZ(1,4,x.getSaveAsButtonDisabledTooltip())),o.xp6(2),o.hij(" ",o.lcZ(3,6,"SPT_COLUMNVIEWS_SELECTOR_CURRENT_VIEW_OPTION_SAVE_AS")," ")}}function Ce(G,k){if(1&G){const x=o.EpF();o.TgZ(0,"sp-dropdown",16),o.TgZ(1,"sp-dropdown-item",17),o._uU(2),o.qZA(),o.TgZ(3,"sp-dropdown-menu-group"),o.YNc(4,_e,4,8,"sp-dropdown-item",18),o.TgZ(5,"sp-dropdown-item",19),o.NdJ("itemClick",function(){o.CHM(x);const te=o.oxw(3);return te.restore(te.actualColumnView)}),o._uU(6),o.ALo(7,"spL10nText"),o.qZA(),o.qZA(),o.qZA()}if(2&G){const x=o.oxw(3);o.Q6J("id",x.composeIdentifier("column-view-current-view")),o.xp6(1),o.Q6J("id",x.composeIdentifier("column-view-current-view-trigger")),o.xp6(1),o.hij(" ",x.actualColumnView.name," "),o.xp6(2),o.Q6J("ngIf",x.isAdmin),o.xp6(1),o.Q6J("id",x.composeIdentifier("column-view-save-restore"))("disabled",x.isRestoreButtonDisabled()),o.xp6(1),o.hij(" ",o.lcZ(7,7,"SPT_COLUMNVIEWS_SELECTOR_CURRENT_VIEW_OPTION_RESTORE")," ")}}function De(G,k){if(1&G&&(o.TgZ(0,"sp-dropdown-menu-group",13),o.ALo(1,"spL10nText"),o.YNc(2,X,2,1,"sp-dropdown-item",14),o.YNc(3,Ce,8,9,"ng-template",null,15,o.W1O),o.qZA()),2&G){const x=o.MAs(4),j=o.oxw(2);o.Q6J("header",o.lcZ(1,4,j.currentColumnViewMenuGroupHeader))("isWarning",j.actualColumnView.changed),o.xp6(2),o.Q6J("ngIf",!j.configuration.modificationEnabled)("ngIfElse",x)}}function xe(G,k){if(1&G){const x=o.EpF();o.TgZ(0,"sp-dropdown-item",23),o.NdJ("itemClick",function(){const oe=o.CHM(x).$implicit;return o.oxw(3).setActual(oe)}),o.TgZ(1,"div",24),o.TgZ(2,"span",25),o._uU(3),o.qZA(),o._UZ(4,"sp-column-view-inheritance-indicator",26),o.TgZ(5,"i",27),o.NdJ("click",function(){const oe=o.CHM(x).$implicit;return o.oxw(3).removeFromFavourites(oe.id)}),o.qZA(),o.qZA(),o.qZA()}if(2&G){const x=k.$implicit,j=o.oxw(3);o.Q6J("id",j.composeIdentifier("column-view-"+j.composeColumnViewIdentifier(x.name))),o.xp6(2),o.uIk("text",x.name),o.xp6(1),o.Oqu(x.name),o.xp6(1),o.Q6J("inheritedBoxQuery",j.getBoxQuery(x))("isInherited",j.getViewInherited(x))}}function Ge(G,k){if(1&G&&(o.TgZ(0,"sp-dropdown-menu-group",21),o.ALo(1,"spL10nText"),o.YNc(2,xe,6,5,"sp-dropdown-item",22),o.qZA()),2&G){const x=o.oxw(2);o.Q6J("scroll",!0)("header",o.lcZ(1,3,"SPT_COLUMNVIEWS_SELECTOR_HEADER_FAVOURITES")),o.xp6(2),o.Q6J("ngForOf",x.favouriteColumnViews)}}function Ke(G,k){if(1&G){const x=o.EpF();o.TgZ(0,"sp-dropdown-item",23),o.NdJ("itemClick",function(){const oe=o.CHM(x).$implicit;return o.oxw(3).setActual(oe)}),o.TgZ(1,"div",24),o.TgZ(2,"span",25),o._uU(3),o.qZA(),o._UZ(4,"sp-column-view-inheritance-indicator",29),o.TgZ(5,"i",30),o.NdJ("click",function(){const oe=o.CHM(x).$implicit;return o.oxw(3).addToFavourites(oe.id)}),o.qZA(),o.qZA(),o.qZA()}if(2&G){const x=k.$implicit,j=o.oxw(3);o.Q6J("id",j.composeIdentifier("column-view-"+j.composeColumnViewIdentifier(x.name))),o.xp6(3),o.Oqu(x.name),o.xp6(1),o.Q6J("inheritedBoxQuery",j.getBoxQuery(x))("isInherited",j.getViewInherited(x))}}function P(G,k){if(1&G&&(o.TgZ(0,"sp-dropdown-menu-group",28),o.ALo(1,"spL10nText"),o.YNc(2,Ke,6,4,"sp-dropdown-item",22),o.qZA()),2&G){const x=o.oxw(2);o.Q6J("header",o.lcZ(1,4,"SPT_COLUMNVIEWS_SELECTOR_HEADER_AVAILABLE"))("scroll",!0)("contentContainerId","sp-column-view-available-scrollable-box"),o.xp6(2),o.Q6J("ngForOf",x.availableColumnViews)}}function N(G,k){if(1&G&&(o.TgZ(0,"a",35),o._uU(1),o.ALo(2,"spL10nText"),o.qZA()),2&G){const x=o.oxw(3);o.Q6J("spNavigationLink",x.configuration.url),o.xp6(1),o.Oqu(o.lcZ(2,2,"SPT_COLUMNVIEWS_SELECTOR_OPTION_MANAGE_COLUMN_VIEWS"))}}function A(G,k){1&G&&(o.TgZ(0,"span",36),o._uU(1),o.ALo(2,"spL10nText"),o.qZA()),2&G&&(o.xp6(1),o.Oqu(o.lcZ(2,1,"SPT_COLUMNVIEWS_SELECTOR_OPTION_MANAGE_COLUMN_VIEWS")))}function U(G,k){if(1&G&&(o.TgZ(0,"sp-dropdown-menu-group",31),o.TgZ(1,"sp-dropdown-item",32),o.ALo(2,"spRichTextI18n"),o.YNc(3,N,3,4,"a",33),o.YNc(4,A,3,3,"ng-template",null,34,o.W1O),o.qZA(),o.qZA()),2&G){const x=o.MAs(5),j=o.oxw(2);o.xp6(1),o.Q6J("id",j.composeIdentifier("column-view-manage-column-views"))("disabled",!!j.configuration.manageColumnViewDisabledDescription)("spTooltipEnabled",!!j.configuration.manageColumnViewDisabledDescription)("selectedType",j.DROPDOWN_ITEM_TYPE.LINK)("spTooltip",o.lcZ(2,7,j.configuration.manageColumnViewDisabledDescription)),o.xp6(2),o.Q6J("ngIf",!j.configuration.manageColumnViewDisabledDescription)("ngIfElse",x)}}function Y(G,k){if(1&G){const x=o.EpF();o.TgZ(0,"div",37),o.ALo(1,"spRichTextI18n"),o.TgZ(2,"button",38),o.NdJ("click",function(){o.CHM(x);const te=o.oxw(2);return te.save(te.actualColumnView)}),o._UZ(3,"i",39),o.qZA(),o.qZA()}if(2&G){const x=o.oxw(2);o.Q6J("spTooltip",o.lcZ(1,4,x.getSaveButtonTooltip()))("spTooltipGravity",x.gravity.EAST),o.xp6(2),o.Q6J("id",x.composeIdentifier("column-view-save"))("disabled",x.isSaveButtonDisabled())}}function z(G,k){if(1&G){const x=o.EpF();o.ynx(0),o.TgZ(1,"sp-dropdown",1),o.NdJ("openStateChanged",function(te){return o.CHM(x),o.oxw().changeOpenState(te)}),o.TgZ(2,"button",2),o.ALo(3,"spRichTextString"),o.ALo(4,"spL10nText"),o._UZ(5,"i",3),o.TgZ(6,"span",4),o._uU(7),o.YNc(8,be,2,0,"span",5),o.qZA(),o._UZ(9,"i",6),o.qZA(),o.YNc(10,De,5,6,"sp-dropdown-menu-group",7),o.YNc(11,Ge,3,5,"sp-dropdown-menu-group",8),o.YNc(12,P,3,6,"sp-dropdown-menu-group",9),o.YNc(13,U,6,9,"sp-dropdown-menu-group",10),o.qZA(),o.YNc(14,Y,4,6,"div",11),o.BQk()}if(2&G){const x=o.oxw();o.xp6(1),o.Q6J("disabled",x.emptyScope)("id",x.composeIdentifier("column-view-selector")),o.xp6(1),o.ekj("sp-column-view-selector-btn",x.isSaveButtonVisible()),o.Q6J("spTooltip",o.lcZ(3,14,o.lcZ(4,16,"SPT_COLUMNVIEWS_SELECTOR_CURRENT_VIEW_TOOLTIP")+" "+x.actualColumnView.name))("disabled",x.emptyScope),o.uIk("id",x.composeIdentifier("column-views-dropdown-btn")),o.xp6(5),o.hij(" ",x.actualColumnView.name," "),o.xp6(1),o.Q6J("ngIf",x.actualColumnView.changed),o.xp6(2),o.Q6J("ngIf",x.isOpen),o.xp6(1),o.Q6J("ngIf",x.favouriteColumnViews&&x.favouriteColumnViews.length>0&&x.isOpen),o.xp6(1),o.Q6J("ngIf",x.availableColumnViews&&x.availableColumnViews.length>0&&x.isOpen),o.xp6(1),o.Q6J("ngIf",x.configuration.url&&x.isAdmin&&x.isColumnViewManagerVisible&&x.isOpen),o.xp6(1),o.Q6J("ngIf",x.isAdmin&&x.isSaveButtonVisible())}}const se="SPT_COLUMNVIEWS_SELECTOR_HEADER";let ae=(()=>{class G extends L.H{constructor(x,j,te,oe,ce,Re,Ye,Me,et,tt,ot,Ae,ve,$e,Qe,ye,Je,ze){super(x,j),this.moduleCode=te,this.columnViewModuleCode=oe,this.boxInheritanceVisibilityService=ce,this.changeDetector=Re,this.injector=Ye,this.columnViewCommandService=Me,this.columnViewQueryService=et,this.columnViewQueryRepository=tt,this.columnViewSelectorPresenterService=ot,this.fieldConfigCommandService=Ae,this.boxPermissionService=ve,this.modalWindowService=$e,this.columnViewSaveAsDialogCommunicationService=Qe,this.columnViewCommandRepository=ye,this.columnViewInitCommandService=Je,this.boxHierarchyService=ze,this.emptyScope=!1,this.configuration=new e.p,this.idPrefix="",this.columnViewInitialized=!1,this.columnViewChanged=new o.vpe,this.columnViewSaved=new o.vpe,this.columnViewDiscarded=new o.vpe,this.DROPDOWN_ITEM_TYPE=Q.H,this.gravity=Z.X,this.isColumnViewManagerVisible=!1,this.currentColumnViewMenuGroupHeader=se,this.INHERITANCE_MODE=C.h,this.columnViewModuleCode.setCode(te)}ngOnInit(){this.isAdmin=this.boxPermissionService.isAdmin(),this.selectActualColumnView(),this.selectAvailableColumnViews(),this.selectFavouriteColumnViews(),this.columnViewInitialized||this.initColumnView(),this.initModalWindowConfiguration(),this.observeModalWindowEmittedValue(),this.selectIsColumnViewMangerVisible(),this.setInheritanceMode()}finalize(){this.columnViewCommandService.truncate(),this.fieldConfigCommandService.truncate()}getHostClasses(){return["sp-flex","sp-flex-nowrap"]}setActual(x){this.columnViewCommandService.changeSelected(x.id).pipe(this.takeUntilDestroy()).subscribe(()=>{this.columnViewChanged.emit(x),this.changeDetector.detectChanges()})}addToFavourites(x){this.columnViewCommandService.addToFavourites(x),this.changeDetector.detectChanges()}removeFromFavourites(x){this.columnViewCommandService.removeFromFavourites(x),this.changeDetector.detectChanges()}save(x){!this.actualColumnView.changed||this.columnViewSaved.emit(x)}isSaveButtonVisible(){return this.actualColumnView.changed}isSaveButtonDisabled(){return!!(this.emptyScope||!this.actualColumnView.changed||this.hasInheritedScope||this.hasOwnAndInheritedScope&&this.getViewInherited(this.actualColumnView))||!(this.hasOwnAndInheritedScope&&!this.getViewInherited(this.actualColumnView))&&void 0}getSaveButtonTooltip(){return this.hasInheritedScope||this.hasOwnAndInheritedScope&&this.getViewInherited(this.actualColumnView)?"SPT_COLUMNVIEWS_SELECTOR_CURRENT_VIEW_SAVE_DISABLED_TOOLTIP":this.actualColumnView.changed?"SPT_COLUMNVIEWS_SELECTOR_CURRENT_VIEW_SAVE_BTN":""}saveAs(x){this.modalWindowService.open(this.modalWindowConfiguration,x)}isSaveAsButtonDisabled(){if(this.hasInheritedScope)return!0}getSaveAsButtonDisabledTooltip(){return this.actualColumnView.changed&&this.hasInheritedScope?"SPT_COLUMNVIEWS_SELECTOR_CURRENT_VIEW_SAVE_DISABLED_TOOLTIP":""}restore(x){!this.actualColumnView.changed||this.columnViewDiscarded.emit(x)}isRestoreButtonDisabled(){return!this.actualColumnView.changed}composeIdentifier(x){return`${this.idPrefix}-${x.replace("'","")}`}composeColumnViewIdentifier(x){return x.replace(/\s+/g,"-").toLowerCase()}changeOpenState(x){this.isOpen=x,this.changeDetector.detectChanges()}initColumnView(){this.columnViewInitCommandService.initColumnView()}getBoxQuery(x){const j=new r.A(x.inheritedFromRefId);return this.boxHierarchyService.getBoxById(j)}getViewInherited(x){return!!this.getBoxQuery(x)&&x.inheritedFromRefId!==this.boxHierarchyService.getContextBoxId().toString()}setInheritanceMode(){this.hasInheritedScope=this.configuration.columnViewInheritanceMode===this.INHERITANCE_MODE.INHERITED,this.hasOwnScope=this.configuration.columnViewInheritanceMode===this.INHERITANCE_MODE.OWN,this.hasOwnAndInheritedScope=this.configuration.columnViewInheritanceMode===this.INHERITANCE_MODE.OWN_AND_INHERITED}initModalWindowConfiguration(){this.modalWindowConfiguration=new K.g.Builder(E.q).withBlanket(!0).withInjector(this.injector).build()}observeModalWindowEmittedValue(){let x;this.columnViewSaveAsDialogCommunicationService.observeEmittedValue().pipe((0,M.w)(j=>this.columnViewQueryRepository.selectAll().pipe((0,I.q)(1),(0,F.U)(te=>(x=te.find(oe=>oe.id===j.columnViewIdToDiscard),te.find(oe=>oe.id===j.columnViewIdToSelect))))),(0,W.h)(Boolean),this.takeUntilDestroy()).subscribe(j=>{this.setActual(j)}),this.columnViewCommandRepository.waitForChangeSelectedColumnView().pipe(this.takeUntilDestroy()).subscribe(()=>{x&&this.restore(x),x=null})}selectActualColumnView(){this.columnViewQueryService.selectActual().pipe(this.takeUntilDestroy()).subscribe(x=>{this.actualColumnView=x,this.columnViewChanged.emit(this.actualColumnView),this.currentColumnViewMenuGroupHeader=this.actualColumnView&&this.actualColumnView.changed?"SPT_COLUMNVIEWS_SELECTOR_CURRENT_COLUMN_HEADER":se,this.changeDetector.detectChanges()})}selectAvailableColumnViews(){this.columnViewQueryService.selectAllAvailable().pipe((0,W.h)(()=>!!this.actualColumnView),this.takeUntilDestroy()).subscribe(x=>{this.availableColumnViews=this.columnViewSelectorPresenterService.getAvailableColumnViews(x,this.actualColumnView),this.changeDetector.detectChanges()})}selectFavouriteColumnViews(){this.columnViewQueryService.selectAllFavourites().pipe(this.takeUntilDestroy()).subscribe(x=>{this.favouriteColumnViews=x,this.changeDetector.detectChanges()})}selectIsColumnViewMangerVisible(){const x=h._[this.moduleCode.toUpperCase()]===h._.GANTT,j=h._[this.moduleCode.toUpperCase()]===h._.SCOPE;(x||j)&&this.boxInheritanceVisibilityService.canBeDisplayed(x?v.x.GANTT_COLUMN:v.x.SCOPE_COLUMN).pipe(this.takeUntilDestroy()).subscribe(oe=>{this.isColumnViewManagerVisible=oe,this.changeDetector.detectChanges()})}}return G.\u0275fac=function(x){return new(x||G)(o.Y36(o.SBq),o.Y36(o.Qsj),o.$8M("attr-module-code"),o.Y36(R.L),o.Y36(c.D),o.Y36(o.sBO),o.Y36(o.zs3),o.Y36(g.J),o.Y36(b.X),o.Y36(V.s),o.Y36(T),o.Y36(_.B),o.Y36(D.W),o.Y36(q.b),o.Y36(J.D),o.Y36(p.M),o.Y36(f.i),o.Y36(ee.T))},G.\u0275cmp=o.Xpm({type:G,selectors:[["sp-column-view-selector"]],inputs:{emptyScope:"emptyScope",configuration:"configuration",idPrefix:"idPrefix",columnViewInitialized:"columnViewInitialized"},outputs:{columnViewChanged:"columnViewChanged",columnViewSaved:"columnViewSaved",columnViewDiscarded:"columnViewDiscarded"},features:[o._Bn([T]),o.qOj],decls:1,vars:1,consts:[[4,"ngIf"],["customMenuClass","sp-column-view-selector-dropdown",1,"sp-w-32","xl:sp-w-full",3,"disabled","id","openStateChanged"],["sp-button","","sp-dropdown-open-trigger","",1,"sp-dropdown-btn",3,"spTooltip","disabled"],[1,"far","fa-columns","sp-mr-1"],[1,"sp-mr-1"],["id","column-view-modified-dot","class","modified-dot",4,"ngIf"],[1,"fas","fa-chevron-down"],["divider","",3,"header","isWarning",4,"ngIf"],["spStatsCollector","sp-column-view-favourites-column-views","divider","",3,"scroll","header",4,"ngIf"],["id","sp-column-view-available-column-views","divider","",3,"header","scroll","contentContainerId",4,"ngIf"],["class","sp-manage-column-views",4,"ngIf"],["class","sp-inline-block",3,"spTooltip","spTooltipGravity",4,"ngIf"],["id","column-view-modified-dot",1,"modified-dot"],["divider","",3,"header","isWarning"],[4,"ngIf","ngIfElse"],["columnViewModification",""],[3,"id"],["sp-dropdown-open-trigger","",3,"id"],[3,"id","disabled","tooltip","itemClick",4,"ngIf"],[3,"id","disabled","itemClick"],[3,"id","disabled","tooltip","itemClick"],["spStatsCollector","sp-column-view-favourites-column-views","divider","",3,"scroll","header"],[3,"id","itemClick",4,"ngFor","ngForOf"],[3,"id","itemClick"],[1,"sp-flex","sp-items-center"],[1,"sp-dropdown-item-text","sp-truncate"],["id","sp-favourite-column-view-inheritance-indicator",1,"sp-dropdown-item-inheritance-icon",3,"inheritedBoxQuery","isInherited"],["spClickStopPropagation","","spStatsCollector","unmark-from-favourites-column-view-icon",1,"sp-column-view-available-icon","sp-ml-auto","fas","fa-star","sp-cursor-pointer","sp-text-warning",3,"click"],["id","sp-column-view-available-column-views","divider","",3,"header","scroll","contentContainerId"],["id","sp-available-column-view-inheritance-indicator",1,"sp-dropdown-item-inheritance-icon",3,"inheritedBoxQuery","isInherited"],["spClickStopPropagation","","spStatsCollector","mark-as-favourite-column-view-icon",1,"sp-column-view-available-icon","sp-ml-auto","fas","fa-star","sp-cursor-pointer","sp-text-gray-70",3,"click"],[1,"sp-manage-column-views"],[3,"id","disabled","spTooltipEnabled","selectedType","spTooltip"],[3,"spNavigationLink",4,"ngIf","ngIfElse"],["navigationLinkDisabled",""],[3,"spNavigationLink"],[1,"sp-px-2"],[1,"sp-inline-block",3,"spTooltip","spTooltipGravity"],["sp-button","",1,"sp-column-view-selector-save-btn",3,"id","disabled","click"],[1,"fas","fa-save"]],template:function(x,j){1&x&&o.YNc(0,z,15,18,"ng-container",0),2&x&&o.Q6J("ngIf",j.actualColumnView)},directives:[re.O5,ne.J,de.r,he.i9,me.Y,ge.N,ue.a,re.sg,Ee.b,Se.E,Te.k],pipes:[le.C,Be.L,Ie.d],styles:["@media (min-width: 1280px){.xl\\:sp-inherit{display:inherit}}sp-column-view-selector .modified-dot{color:var(--red-400);padding-right:4px}sp-column-view-selector button.sp-dropdown-btn{display:flex;align-items:center;max-width:250px;width:100%}sp-column-view-selector button.sp-dropdown-btn span{line-height:16px;text-overflow:ellipsis;white-space:nowrap;overflow:hidden}sp-column-view-selector .sp-column-view-selector-save-btn{margin-left:1px;border-bottom-left-radius:0;border-top-left-radius:0}sp-column-view-selector .sp-column-view-selector-btn{border-bottom-right-radius:0;border-top-right-radius:0}.sp-column-view-selector-dropdown sp-dropdown-menu-group.sp-manage-column-views a{text-decoration:none}.sp-column-view-selector-dropdown .sp-dropdown-item__ng-content{display:inline-flex;overflow:hidden;text-overflow:ellipsis}.sp-column-view-selector-dropdown .sp-dropdown-item .sp-dropdown-item-inheritance-icon{flex:0 0 24px;width:24px}\n"],encapsulation:2,changeDetection:0}),G})()},53002:($,O,t)=>{t.d(O,{p:()=>o});class o{constructor(){this.modificationEnabled=!1}withUrl(c){return this.url=c,this}withModificationEnabled(c){return this.modificationEnabled=c,this}withManageColumnViewsDisabled(c){return this.manageColumnViewDisabledDescription=c,this}withColumnViewInheritanceMode(c){return this.columnViewInheritanceMode=c,this}}},52583:($,O,t)=>{t.d(O,{D:()=>c});var o=t(90850),h=t(84046);let c=(()=>{class v{constructor(){this.emittedValue=new o.xQ}setEmittedValue(p){this.emittedValue.next(p)}observeEmittedValue(){return this.emittedValue.asObservable()}}return v.\u0275fac=function(p){return new(p||v)},v.\u0275prov=h.Yz7({token:v,factory:v.\u0275fac}),v})()},76996:($,O,t)=>{t.d(O,{q:()=>D});var o=t(98223),h=t(13503),c=t(71079),v=t(43234),r=t(84046);let p=(()=>{class L extends v.y{constructor(b){super(),this.columnViewCommandService=b}submit(b){return this.columnViewCommandService.saveAsNew(b.columnViewId,b.name,b.description,b.origin.value===h.T.PRIVATE?h.T.PRIVATE:h.T.PUBLIC)}}return L.\u0275fac=function(b){return new(b||L)(r.LFG(c.J))},L.\u0275prov=r.Yz7({token:L,factory:L.\u0275fac}),L})();var g=t(83941),f=t(14650),_=t(83372),C=t(7321),e=t(66319),T=t(19446),E=t(2100),M=t(94200),I=t(34322),F=t(62546),W=t(52583),Q=t(29893),K=t(38663),q=t(65521),Z=t(65799);let D=(()=>{class L extends F.H{constructor(b,V,J,ee,re,ne){super(b,V),this.changeDetectorRef=J,this.columnViewSaveAsDialogCommunicationService=ee,this.l10nTextService=re,this.modalWindowComponent=ne,this.formErrorStrategy=e.k.ERROR_LIST,this.formFieldType={NONE:C.E.NONE,TEXT:C.E.TEXT,SELECT:C.E.SELECT,TEXT_AREA:C.E.TEXT_AREA},this.selectConfig={config:new _.w,options:[{value:h.T.PUBLIC,text:g.H.i18n("SPT_COLUMNVIEWS_SAVE_CURRENT_VIEW_AS_FORM_LABEL_VISIBILITY_OPTION_PUBLIC")},{value:h.T.PRIVATE,text:g.H.i18n("SPT_COLUMNVIEWS_SAVE_CURRENT_VIEW_AS_FORM_LABEL_VISIBILITY_OPTION_PRIVATE")}]},this.nameValidators=[M.Q.validateRequiredField(),I.Z.validateMaxLength(T.Oh)],this.descriptionValidators=[I.Z.validateMaxLength(T.c3)],this.buttonDisabled=!1,this.cancelButtonDisabled=!1}getHostClasses(){return["sp-block","sp-w-full"]}ngOnInit(){this.setFormsValue(),this.initializeConfirmActionShortcut()}save(){this.buttonDisabled=!0,this.cancelButtonDisabled=!0,this.formRef.submitWithStatus().pipe(this.takeUntilDestroy()).subscribe(b=>{this.closeModalAndEmitValue(b.payload)})}onStatusChanged(b){this.buttonDisabled=!b,this.changeDetectorRef.detectChanges()}setFormsValue(){const b=this.configuration.origin.charAt(0).toUpperCase()+this.configuration.origin.slice(1).toLowerCase();this.name=this.getNameWithCopySuffix(),this.originSelectedOption=new f.W(this.configuration.origin,g.H.string(b)),this.columnViewId=this.configuration.id}closeModalAndEmitValue(b){this.columnViewSaveAsDialogCommunicationService.setEmittedValue({columnViewIdToSelect:b,columnViewIdToDiscard:this.configuration.id}),this.modalWindowComponent.close()}initializeConfirmActionShortcut(){this.modalWindowComponent.setConfirmAction(()=>{this.buttonDisabled||this.save()})}getNameWithCopySuffix(){return`${this.configuration.name} - ${this.l10nTextService.translate("SPT_COLUMNVIEWS_SAVE_AS_COPY")}`}}return L.\u0275fac=function(b){return new(b||L)(r.Y36(r.SBq),r.Y36(r.Qsj),r.Y36(r.sBO),r.Y36(W.D),r.Y36(o.e),r.Y36(E.Zh))},L.\u0275cmp=r.Xpm({type:L,selectors:[["sp-column-view-save-as-dialog"]],viewQuery:function(b,V){if(1&b&&r.Gf(T.Ur,7),2&b){let J;r.iGM(J=r.CRH())&&(V.formRef=J.first)}},hostAttrs:["id","sp-column-view-save-as-dialog"],inputs:{configuration:"configuration"},features:[r._Bn([{provide:v.y,useClass:p}]),r.qOj],decls:20,vars:36,consts:[[1,"sp-modal-header"],[1,"sp-modal-title"],[1,"add-dialog-content"],[3,"strategy","validStatusChange"],["id","sp-column-view-save-as-dialog-data-name","name","name",3,"label","type","value","validators","clearable"],["id","sp-column-view-save-as-dialog-data-visibility","name","origin",3,"label","type","config","value","clearable"],["id","sp-column-view-save-as-dialog-data-description","name","description",3,"label","type","value","validators","clearable"],[3,"type","name","value"],[1,"sp-modal-footer","sp-gap-2"],[3,"disabled"],[3,"disabled","onConfirm"]],template:function(b,V){1&b&&(r.TgZ(0,"div",0),r.TgZ(1,"h2",1),r._uU(2),r.ALo(3,"spL10nText"),r.qZA(),r.qZA(),r.TgZ(4,"div",2),r.TgZ(5,"sp-form",3),r.NdJ("validStatusChange",function(ee){return V.onStatusChanged(ee)}),r._UZ(6,"sp-form-field",4),r.ALo(7,"spL10nText"),r._UZ(8,"sp-form-field",5),r.ALo(9,"spL10nText"),r._UZ(10,"sp-form-field",6),r.ALo(11,"spL10nText"),r._UZ(12,"sp-form-field",7),r.qZA(),r.qZA(),r.TgZ(13,"div",8),r.TgZ(14,"sp-modal-window-cancel-button",9),r._uU(15),r.ALo(16,"spL10nText"),r.qZA(),r.TgZ(17,"sp-modal-window-confirm-button",10),r.NdJ("onConfirm",function(){return V.save()}),r._uU(18),r.ALo(19,"spL10nText"),r.qZA(),r.qZA()),2&b&&(r.xp6(2),r.hij(" ",r.lcZ(3,24,"SPT_COLUMNVIEWS_SAVE_CURRENT_VIEW_AS_FORM_HEADER")," "),r.xp6(3),r.Q6J("strategy",V.formErrorStrategy),r.xp6(1),r.Q6J("label",r.lcZ(7,26,"SPT_COLUMNVIEWS_SAVE_CURRENT_VIEW_AS_FORM_LABEL_NAME"))("type",V.formFieldType.TEXT)("value",V.name)("validators",V.nameValidators)("clearable",!1),r.xp6(2),r.Q6J("label",r.lcZ(9,28,"SPT_COLUMNVIEWS_SAVE_CURRENT_VIEW_AS_FORM_LABEL_VISIBILITY"))("type",V.formFieldType.SELECT)("config",V.selectConfig)("value",V.originSelectedOption)("clearable",!1),r.xp6(2),r.Q6J("label",r.lcZ(11,30,"SPT_COLUMNVIEWS_SAVE_CURRENT_VIEW_AS_FORM_LABEL_DESCRIPTION"))("type",V.formFieldType.TEXT_AREA)("value",V.configuration.description)("validators",V.descriptionValidators)("clearable",!1),r.xp6(2),r.Q6J("type",V.formFieldType.NONE)("name","columnViewId")("value",V.columnViewId),r.xp6(2),r.Q6J("disabled",V.cancelButtonDisabled),r.xp6(1),r.hij(" ",r.lcZ(16,32,"SPT_COLUMNVIEWS_SAVE_CURRENT_VIEW_AS_FORM_BUTTON_CANCEL")," "),r.xp6(2),r.Q6J("disabled",V.buttonDisabled),r.xp6(1),r.hij(" ",r.lcZ(19,34,"SPT_COLUMNVIEWS_SAVE_CURRENT_VIEW_AS_FORM_BUTTON_SAVE")," "))},directives:[T.Ur,Q.u,K.l,q.r],pipes:[Z.L],encapsulation:2,changeDetection:0}),L})()},13282:($,O,t)=>{t.d(O,{S:()=>e});var o=t(84046),h=t(40303),c=t(83941),v=t(55331),r=t(37752),p=t(34909);function g(T,E){if(1&T&&o._UZ(0,"sp-rich-text",4),2&T){const M=o.oxw();o.Q6J("config",M.message)}}function f(T,E){if(1&T&&o._uU(0),2&T){const M=o.oxw();o.hij(" ",M.message," ")}}function _(T,E){if(1&T){const M=o.EpF();o.TgZ(0,"button",5),o.NdJ("click",function(){return o.CHM(M),o.oxw().closeBtnClicked()}),o._UZ(1,"i",6),o.qZA()}}const C={[h.$.INFO]:{background:"sp-bg-purple-subtle",icon:"fa-info-circle sp-fg-info"},[h.$.SUCCESS]:{background:"sp-bg-lime-green-subtle",icon:"fa-check-circle sp-fg-success"},[h.$.WARNING]:{background:"sp-bg-yellow-subtle",icon:"fa-exclamation-triangle sp-fg-warning"},[h.$.ERROR]:{background:"sp-bg-bright-pink-subtle",icon:"fa-exclamation-triangle sp-fg-error"},[h.$.CRITICAL]:{background:"sp-bg-gray-20 sp-dark:bg-gray-20 sp-dark:bg-gray-subtle",icon:"fa-do-not-enter sp-fg-critical"}};let e=(()=>{class T{constructor(){this.type=h.$.INFO,this.message="",this.isClosable=!1,this.close=new o.vpe}ngOnChanges(M){this.styles=C[this.type]}isMessageInstanceofRichText(){return this.message instanceof c.H}closeBtnClicked(){this.close.emit()}}return T.\u0275fac=function(M){return new(M||T)},T.\u0275cmp=o.Xpm({type:T,selectors:[["sp-banner"]],inputs:{type:"type",message:"message",isClosable:"isClosable"},outputs:{close:"close"},features:[o.TTD],decls:7,vars:9,consts:[[1,"sp-text-secondary"],[3,"config",4,"ngIf","ngIfElse"],["messageAsString",""],["sp-button","","class","sp-banner__close-btn sp-ml-auto sp-btn-icon-32 sp-btn-subtle",3,"click",4,"ngIf"],[3,"config"],["sp-button","",1,"sp-banner__close-btn","sp-ml-auto","sp-btn-icon-32","sp-btn-subtle",3,"click"],[1,"fa","fa-times"]],template:function(M,I){if(1&M&&(o.TgZ(0,"div"),o._UZ(1,"i"),o.TgZ(2,"span",0),o.YNc(3,g,1,1,"sp-rich-text",1),o.YNc(4,f,1,1,"ng-template",null,2,o.W1O),o.qZA(),o.YNc(6,_,2,0,"button",3),o.qZA()),2&M){const F=o.MAs(5);o.Gre("sp-banner__wrapper sp-flex sp-items-center sp-w-full sp-min-h-8 sp-border-rounded ",I.styles.background,""),o.xp6(1),o.Gre("sp-banner__type-icon sp-pl-3 sp-pr-2 fas sp-text-l ",I.styles.icon,""),o.xp6(2),o.Q6J("ngIf",I.isMessageInstanceofRichText())("ngIfElse",F),o.xp6(3),o.Q6J("ngIf",I.isClosable)}},directives:[v.O5,r.E,p.r],encapsulation:2,changeDetection:0}),T})()},6401:($,O,t)=>{t.d(O,{s:()=>r});var o=t(55331),h=t(51545),c=t(26566),v=t(84046);let r=(()=>{class p{}return p.\u0275fac=function(f){return new(f||p)},p.\u0275mod=v.oAB({type:p}),p.\u0275inj=v.cJS({imports:[[o.ez,c.n,h.F]]}),p})()},40303:($,O,t)=>{t.d(O,{$:()=>o});var o=(()=>{return(h=o||(o={})).INFO="INFO",h.SUCCESS="SUCCESS",h.WARNING="WARNING",h.ERROR="ERROR",h.CRITICAL="CRITICAL",o;var h})()},95783:($,O,t)=>{t.d(O,{m:()=>E});var o=t(55331),h=t(73197),c=t(38009),v=t(19335),r=t(53339),p=t(98254),g=t(43349),f=t(71726),_=t(18709),C=t(54561),e=t(96105),T=t(84046);let E=(()=>{class M{constructor(F){this.document=F}selectUserIdle(F){const W=F.getDocumentEvents().map(q=>(0,h.R)("DOCUMENT"===q.source?this.document:this.document.defaultView,q.eventName,{capture:!0,passive:!1})),Q=(0,c.T)(...W).pipe((0,p.e)(0,v.Z),(0,g.O)(null),(0,f.U)(()=>!1)),K=(0,c.T)(...W).pipe((0,p.e)(0,v.Z),(0,_.zg)(()=>(0,r.of)(!0).pipe((0,C.g)(F.getInactivityTime()))));return(0,c.T)(Q,K).pipe((0,e.x)())}}return M.\u0275fac=function(F){return new(F||M)(T.LFG(o.K0))},M.\u0275prov=T.Yz7({token:M,factory:M.\u0275fac}),M})()},59024:($,O,t)=>{t.d(O,{Y:()=>c});const o=[{source:"DOCUMENT",eventName:"keypress"},{source:"DOCUMENT",eventName:"keydown"},{source:"DOCUMENT",eventName:"click"},{source:"DOCUMENT",eventName:"contextmenu"},{source:"DOCUMENT",eventName:"mousemove"},{source:"DOCUMENT",eventName:"scroll"},{source:"DOCUMENT",eventName:"touchmove"},{source:"DOCUMENT",eventName:"touchstart"},{source:"WINDOW",eventName:"resize"}];var h=t(85105);let c=(()=>{class v{getDocumentEvents(){return this.documentEvents}getInactivityTime(){return this.inactivityTime}}return v.Builder=class extends h.I{constructor(){super(...arguments),this.documentEvents=o,this.inactivityTime=18e5}build(){let p=new v;return p.inactivityTime=this.inactivityTime,p.documentEvents=this.documentEvents,p}withCustomInactivityTime(p){return this.inactivityTime=p,this}withCustomDocumentEvents(p){return this.documentEvents=p,this}},v})()},37219:($,O,t)=>{t.d(O,{K:()=>e});var o=t(55331),h=t(41001),c=t(54052),v=t(51545),r=t(97425),p=t(6585),g=t(37869),f=t(51805),_=t(84046);const C=[p.q];let e=(()=>{class T{static forRoot(){return{ngModule:T,providers:C}}}return T.\u0275fac=function(M){return new(M||T)},T.\u0275mod=_.oAB({type:T}),T.\u0275inj=_.cJS({imports:[[o.ez,g.o,v.F,c.o,r.o.forRoot(),h.J,f.$]]}),T})()},31890:($,O,t)=>{t.d(O,{z:()=>F});var o=t(55331),h=t(69989),c=t(71726),v=t(70822),r=t(56385),p=t(22521),g=t(90578),f=t(84046),_=t(43786);let C=(()=>{class W extends p.F{constructor(K){super(),this.actions$=K}getCommandsStream(){return this.actions$.pipe((0,c.U)(K=>K.payload),(0,v.h)(K=>K instanceof g.m),(0,r.K)(K=>(0,h._)(K)))}}return W.\u0275fac=function(K){return new(K||W)(f.LFG(_.eX))},W.\u0275prov=f.Yz7({token:W,factory:W.\u0275fac}),W})();var e=t(88324);const E=[],M=[],I=[{provide:p.F,useClass:C}];let F=(()=>{class W{static forRoot(K=e.F.NONE){return{ngModule:W,providers:[...E,...K&e.F.REST?M:[],...K&e.F.STORE?I:[]]}}}return W.\u0275fac=function(K){return new(K||W)},W.\u0275mod=f.oAB({type:W}),W.\u0275inj=f.cJS({imports:[[o.ez]]}),W})()},88324:($,O,t)=>{t.d(O,{F:()=>o});var o=(()=>{return(h=o||(o={}))[h.NONE=0]="NONE",h[h.STORE=1]="STORE",h[h.REST=2]="REST",o;var h})()},34367:($,O,t)=>{t.d(O,{E:()=>g});var o=t(32517),h=t(31383),c=t(95783),v=t(84046);let r=(()=>{class f{static forRoot(){return{ngModule:f,providers:[c.m]}}}return f.\u0275fac=function(C){return new(C||f)},f.\u0275mod=v.oAB({type:f}),f.\u0275inj=v.cJS({}),f})();const p=[o.v,h.o];let g=(()=>{class f{static forRoot(){return{ngModule:f,providers:[...p]}}}return f.\u0275fac=function(C){return new(C||f)},f.\u0275mod=v.oAB({type:f}),f.\u0275inj=v.cJS({imports:[[r.forRoot()]]}),f})()},32517:($,O,t)=>{t.d(O,{v:()=>I});var o=t(55331),h=t(90850),c=t(73197),v=t(83194),r=t(43349),p=t(71726),g=t(52802),f=t(70822),_=t(88246),C=t(35811),e=t(62628),T=t(84046),E=t(31383),M=t(95783);let I=(()=>{class F extends e.b{constructor(Q,K,q,Z){super(),this.liveSyncSwitcher=Q,this.userIdleService=K,this.document=q,this.ngZone=Z,this.stopSync$=new h.xQ,this.tabHidden$=(0,c.R)(this.document,"visibilitychange").pipe((0,r.O)(!1),(0,p.U)(()=>this.document.hidden))}startSync(Q){this.stopSync(),this.ngZone.runOutsideAngular(()=>{(0,v.F)(Q.getInterval()).pipe((0,g.M)(this.liveSyncSwitcher.selectSyncMode(),this.tabHidden$,this.userIdleService.selectUserIdle(Q.getUserIdleConfig()),Q.getAdditionalFilter$()),(0,f.h)(([K,q,Z,D,L])=>this.syncModeEnabled(Q,q,Z,D,L)),(0,_.z)(()=>(Q.getLiveSyncCallback()(),Q.getReadyForNextCallback())),(0,C.R)(this.stopSync$)).subscribe(()=>{})})}stopSync(){this.stopSync$.next()}destroySync(){this.stopSync(),super.ngOnDestroy()}syncModeEnabled(Q,K,q,Z,D){let L=K&&D;return Q.getDisabledOnBrowserTabSwitch()&&(L=L&&!q),Q.getUserIdleConfig()&&(L=L&&!Z),L}}return F.\u0275fac=function(Q){return new(Q||F)(T.LFG(E.o),T.LFG(M.m),T.LFG(o.K0),T.LFG(T.R0b))},F.\u0275prov=T.Yz7({token:F,factory:F.\u0275fac}),F})()},31383:($,O,t)=>{t.d(O,{o:()=>v});var o=t(55331),h=t(18840),c=t(84046);let v=(()=>{class r{constructor(g){this.document=g,this.syncMode$=new h.X(!0),this.setSyncModes()}ngOnDestroy(){this.setSyncMode(!1),this.syncMode$.complete()}selectSyncMode(){return this.syncMode$.asObservable()}setSyncMode(g){this.syncMode$.next(g)}setSyncModes(){this.document.defaultView.sync={turnOnSync:()=>this.setSyncMode(!0),turnOffSync:()=>this.setSyncMode(!1)}}}return r.\u0275fac=function(g){return new(g||r)(c.LFG(o.K0))},r.\u0275prov=c.Yz7({token:r,factory:r.\u0275fac}),r})()},55005:($,O,t)=>{t.d(O,{T:()=>c});var o=t(53339),h=t(85105);let c=(()=>{class v{getInterval(){return this.interval}getUserIdleConfig(){return this.userIdleConfig}getDisabledOnBrowserTabSwitch(){return this.disabledOnBrowserTabSwitch}getLiveSyncCallback(){return this.liveSyncCallback}getReadyForNextCallback(){return this.readyForNextCallback$}getAdditionalFilter$(){return this.additionalFilter$}}return v.Builder=class extends h.I{constructor(){super(...arguments),this.interval=1e3,this.disabledOnBrowserTabSwitch=!1,this.liveSyncCallback=()=>{},this.readyForNextCallback$=(0,o.of)(null),this.additionalFilter$=(0,o.of)(!0)}build(){let p=new v;return p.interval=this.interval,p.userIdleConfig=this.userIdleConfig,p.disabledOnBrowserTabSwitch=this.disabledOnBrowserTabSwitch,p.liveSyncCallback=this.liveSyncCallback,p.readyForNextCallback$=this.readyForNextCallback$,p.additionalFilter$=this.additionalFilter$,p}withCustomInterval(p){return this.interval=p,this}withDisabledOnBrowserTabSwitch(){return this.disabledOnBrowserTabSwitch=!0,this}withDisabledOnUserIdle(p){return this.userIdleConfig=p,this}withLiveSyncCallback(p){return this.liveSyncCallback=p,this}withReadyForNextCallback(p){return this.readyForNextCallback$=p,this}withAdditionalFilter(p){return this.additionalFilter$=p,this}},v})()},63596:($,O,t)=>{t.d(O,{y:()=>v});var o=t(83950),h=t(9933),c=t(84046);let v=(()=>{class r{constructor(g){this.injector=g,this.environmentService=this.injector.get(o.L),this.localStorage=this.injector.get(h.m)}setItem(g,f){this.localStorage.setItem(this.createKeyWith(g),f)}getItem(g){return this.localStorage.getItem(this.createKeyWith(g))}createKeyWith(g){return`${g}-user-${this.environmentService.getLoggedInUser().userKey}`}}return r.\u0275fac=function(g){return new(g||r)(c.LFG(c.zs3))},r.\u0275prov=c.Yz7({token:r,factory:r.\u0275fac}),r})()},19156:($,O,t)=>{t.d(O,{I:()=>Z});var o=t(92945),h=t(73197),c=t(83194),v=t(18709),r=t(71726),p=t(63833),g=t(35811),f=t(65530),_=t(50906);class e{constructor(L,R){this.count=L,this.source=R}call(L,R){return R.subscribe(new T(L,this.count,this.source))}}class T extends f.L{constructor(L,R,b){super(L),this.count=R,this.source=b}complete(){if(!this.isStopped){const{source:L,count:R}=this;if(0===R)return super.complete();R>-1&&(this.count=R-1),L.subscribe(this._unsubscribeAndRecycle())}}}var E=t(84046);const M=[];let I=(()=>{class D{constructor(R){this.router=R,this.trees=M}static containsQueryParams(R,b){const V=Object.keys(b).length<=Object.keys(R).length,J=Object.keys(b).every(ee=>b[ee]===R[ee]);return V&&J}static containsTree(R,b){const V=D.containsQueryParams(b.queryParams,R.queryParams),J=D.containsSegmentGroup(b.root,R.root,R.root.segments);return V&&J}static containsSegmentGroup(R,b,V){return R.segments.length>V.length?D.containsSegmentGroupWhenContainerSegmentsGreaterThanContaineePaths(R,b,V):R.segments.length===V.length?D.containsSegmentGroupWhenContainerSegmentsAndContaineePathsAreEqual(R,b,V):D.containsSegmentGroupDefault(R,b,V)}static containsSegmentGroupWhenContainerSegmentsGreaterThanContaineePaths(R,b,V){const J=R.segments.slice(0,V.length);return!!D.equalPath(J,V)&&!b.hasChildren()}static containsSegmentGroupWhenContainerSegmentsAndContaineePathsAreEqual(R,b,V){return!!D.equalPath(R.segments,V)&&(!b.hasChildren()||Object.keys(b.children).some(J=>!!R.children[J]&&D.containsSegmentGroup(R.children[J],b.children[J],b.children[J].segments)))}static containsSegmentGroupDefault(R,b,V){const J=V.slice(0,R.segments.length),ee=V.slice(R.segments.length);return!(!D.equalPath(R.segments,J)||!R.children[o.eC])&&D.containsSegmentGroup(R.children[o.eC],b,ee)}static equalPath(R,b){if(R.length!==b.length)return!1;for(let V=0;V<R.length;V++){const J=R[V],ee=b[V],re=J.path===ee.path,ne=J.path.startsWith(":")||ee.path.startsWith(":");if(!re&&!ne)return!1}return!0}add(R){this.trees.push(R)}remove(R){this.trees.splice(this.trees.indexOf(R),1)}shouldPrefetch(R){const b=this.router.parseUrl(R);return this.trees.some(D.containsTree.bind(null,b))}}return D.\u0275fac=function(R){return new(R||D)(E.LFG(o.F0))},D.\u0275prov=E.Yz7({token:D,factory:D.\u0275fac}),D})();const Q="undefined"!=typeof window?window.requestIdleCallback||(D=>{const L=Date.now();return setTimeout(()=>{D({didTimeout:!1,timeRemaining:()=>Math.max(0,50-(Date.now()-L))})},1)}):()=>{};let K=(()=>{class D{constructor(R,b){this.loader=R,this.queue=b,this.linkSubscription=new Map}register(R,b){this.linkSubscription.set(R,[this.getOnHoverSubscription(R),b])}unregister(R){const[b=null]=this.linkSubscription.get(R)||[];null!==b&&!b.closed&&(b.unsubscribe(),this.linkSubscription.delete(R))}getOnHoverSubscription(R){return(0,h.R)(R,"mouseenter").pipe((0,v.zg)(b=>(0,c.F)(D.COUNT_AS_HOVER_AFTER_DURATION_IN_MS).pipe((0,r.U)(()=>b))),(0,p.q)(1),(0,g.R)((0,h.R)(R,"mouseleave")),function(D=-1){return L=>0===D?(0,_.c)():L.lift(new e(D<0?-1:D-1,L))}()).subscribe(b=>{const[V=null,J=null]=this.linkSubscription.get(b.target)||[];if(null!==J){const ee=J();this.queue.add(ee),Q(()=>{this.loader.preload().subscribe(()=>{}),this.queue.remove(ee)})}null!==V&&!V.closed&&V.unsubscribe()})}}return D.COUNT_AS_HOVER_AFTER_DURATION_IN_MS=200,D.\u0275fac=function(R){return new(R||D)(E.LFG(o.aU),E.LFG(I))},D.\u0275prov=E.Yz7({token:D,factory:D.\u0275fac}),D})(),q=(()=>{class D{constructor(R,b){this.queue=R,this.router=b,this.loading=new Set}static isPrimaryRoute(R){return R.outlet===o.eC||!R.outlet}static findPath(R,b){const V=D.getParentRoutes(R,b);let J="",ee=b;for(;ee;)J=D.isPrimaryRoute(ee)?`/${ee.path}${J}`:`/(${ee.outlet}:${ee.path}${J})`,ee=V.get(ee);return J}static getParentRoutes(R,b){const V=[...R],J=new Map,ee=new Set;for(;V.length;){const re=V.shift();if(ee.add(re),re===b)break;let ne=re.children||[];const de=re._loadedConfig;de&&de.routes&&(ne=ne.concat(de.routes)),ne.forEach(he=>{ee.has(he)||(J.set(he,re),V.push(he))})}return J}preload(R,b){if(!this.isAlreadyLoadingOrLoaded(R)&&!this.isOnSlowNetworkOrSaveDataEnabled()&&!this.isPreventPreloadingEnabled(R)){const V=D.findPath(this.router.config,R);if(this.queue.shouldPrefetch(V))return this.loading.add(R),b()}return _.E}isAlreadyLoadingOrLoaded(R){return this.loading.has(R)}isOnSlowNetworkOrSaveDataEnabled(){const R="undefined"!=typeof window?navigator.connection:void 0;return!!R&&((R.effectiveType||"").includes("2g")||R.saveData)}isPreventPreloadingEnabled(R){return!!R.data&&!1===R.data.preload}}return D.\u0275fac=function(R){return new(R||D)(E.LFG(I),E.LFG(o.F0))},D.\u0275prov=E.Yz7({token:D,factory:D.\u0275fac}),D})(),Z=(()=>{class D{static forRoot(){return{ngModule:D,providers:[K,I,q]}}}return D.\u0275fac=function(R){return new(R||D)},D.\u0275mod=E.oAB({type:D}),D.\u0275inj=E.cJS({imports:[[o.Bz]]}),D})()}}]);