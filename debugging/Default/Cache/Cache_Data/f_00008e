(self.webpackChunkppm=self.webpackChunkppm||[]).push([[283],{54812:(e,t,i)=>{"use strict";i.d(t,{p:()=>o});var s=i(4040),r=i(46146);const n={leading:!0,trailing:!1};function o(e,t=r.P,i=n){return s=>s.lift(new a(e,t,i.leading,i.trailing))}class a{constructor(e,t,i,s){this.duration=e,this.scheduler=t,this.leading=i,this.trailing=s}call(e,t){return t.subscribe(new l(e,this.duration,this.scheduler,this.leading,this.trailing))}}class l extends s.L{constructor(e,t,i,s,r){super(e),this.duration=t,this.scheduler=i,this.leading=s,this.trailing=r,this._hasTrailingValue=!1,this._trailingValue=null}_next(e){this.throttled?this.trailing&&(this._trailingValue=e,this._hasTrailingValue=!0):(this.add(this.throttled=this.scheduler.schedule(d,this.duration,{subscriber:this})),this.leading?this.destination.next(e):this.trailing&&(this._trailingValue=e,this._hasTrailingValue=!0))}_complete(){this._hasTrailingValue?(this.destination.next(this._trailingValue),this.destination.complete()):this.destination.complete()}clearThrottle(){const e=this.throttled;e&&(this.trailing&&this._hasTrailingValue&&(this.destination.next(this._trailingValue),this._trailingValue=null,this._hasTrailingValue=!1),e.unsubscribe(),this.remove(e),this.throttled=null)}}function d(e){const{subscriber:t}=e;t.clearThrottle()}},9004:(e,t,i)=>{"use strict";i.d(t,{u:()=>n});var s=i(94846),r=i(75689);let n=(()=>{class e{constructor(e){this.envService=e}getRestUrl(e){const t=this.getScopeTypeAsString(),i=this.getContextId();return this.envService.getRestBaseUrl()+`app/bigtemplate/${t}/${i}/templates${e}`}getRestBaseUrl(){return this.envService.getRestBaseUrl()}getHelpURL(e){return this.envService.getHelpURL(e)}getConfigUrl(){return this.getRestBaseUrl()+"app/bigtemplate/"+this.getScopeTypeAsString()+"/config"}getFileUrl(e){return this.getRestBaseUrl()+`app/bigtemplate/global/0/templates/${e.id}/file`}}return e.\u0275fac=function(t){return new(t||e)(s.LFG(r.L))},e.\u0275prov=s.Yz7({token:e,factory:e.\u0275fac}),e})()},28404:(e,t,i)=>{"use strict";i.d(t,{p:()=>s});var s=(()=>(function(e){e[e.JIRA_GLOBAL=0]="JIRA_GLOBAL",e[e.JIRA_PROJECT=1]="JIRA_PROJECT",e[e.JIRA_PROGRAM=2]="JIRA_PROGRAM"}(s||(s={})),s))()},90124:(e,t,i)=>{"use strict";i.d(t,{n:()=>d});var s=i(27388),r=i(98647),n=i(4082),o=i(73316);class a extends o.${static fileMaxSize(e){return t=>t.value&&t.value.size>e?{maxSize:"SPT_COMMON_VALIDATOR_FILE_MAX_SIZE",maxSizeParams:{maxSize:e},valid:!1}:null}static fileMinSize(e){return t=>t.value&&t.value.size<e?{minSize:"SPT_COMMON_VALIDATOR_FILE_MIN_SIZE",valid:!1}:null}static fileNameMinLength(e){return t=>t.value&&t.value.name.length<e?{fileNameMinLength:"SPT_COMMON_VALIDATOR_FILE_NAME_MIN_LENGTH",fileNameMinLengthParams:{fileNameMinLength:e},valid:!1}:null}}var l=i(94846);let d=(()=>{class e{getContextTypeField(e,t){return{controlName:"type",label:"Module visibility",type:r.E.SELECT,config:{config:e,options:t},validators:[s.kI.required]}}getNameField(){return{controlName:"name",label:"Template name",type:r.E.TEXT,validators:[s.kI.required,n.Z.validateMaxLength(e.INPUT_MAX_LENGTH),s.kI.pattern("^\\S+.*\\S+$")]}}getDescriptionField(){return{controlName:"description",label:"Description",type:r.E.TEXT,validators:[n.Z.validateMaxLength(e.INPUT_MAX_LENGTH),s.kI.pattern("^\\S+.*\\S+$")]}}getFileField(e,t){return{controlName:"fileName",label:"File to upload",type:r.E.FILE,config:{accept:e},validators:[s.kI.required,a.fileNameMinLength(1),a.fileMinSize(1),a.fileMaxSize(t)]}}getIsGlobalField(){return{controlName:"isGlobal",type:r.E.CHECKBOX,description:"Set as global template"}}}return e.INPUT_MAX_LENGTH=255,e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=l.Yz7({token:e,factory:e.\u0275fac}),e})()},92406:(e,t,i)=>{"use strict";i.d(t,{j:()=>p});var s=i(68387),r=i(32159);class n{constructor(e,t,i,s,r,n,o,a,l,d,c,p,u){this.id=e,this.name=t,this.description=i,this.lastModifyTs=s,this.fileName=r,this.valid=n,this.traversalType=o,this.imageBase64=a,this.isGlobal=l,this.templateType=d,this.contextType=c,this.isGlobalDefault=p,this.isPreInstalled=u}static fromRaw(e){return new n(e.id,e.name,this.getDescriptionFromRaw(e.description),e.lastModifyTs,e.fileName,e.valid,e.traversalType,e.imageBase64,e.isEnabled,e.templateType,r.j.fromString(e.contextType),e.isGlobalDefault,e.internal)}static fromRawArray(e){const t=[];return e.forEach(e=>{t.push(this.fromRaw(e))}),t}static compareName(e,t){const i=e.name.toLowerCase(),s=t.name.toLowerCase();return i<s?-1:i>s?1:0}static templateCompare(e,t){return e.valid&&!t.valid?1:!e.valid&&t.valid?-1:n.compareName(e,t)}static getDescriptionFromRaw(e){return e||""}equals(e){return this.id===e.id}isDeleteDisabled(){return!1}isEditDisabled(){return!1}}var o=i(28404),a=i(29979),l=i(94846),d=i(7090),c=i(9004);let p=(()=>{class e extends a.a{constructor(e,t){super(e),this.environmentService=t,this.NO_TRAVERSAL_TYPE="NONE"}addTemplate(e,t,i,r,n){const o={};return o.name=e,o.description=t,o.fileName=i,o.isFileToUpdate=!0,o.traversalType=this.NO_TRAVERSAL_TYPE,o.contextType=r,o.isEnabled=n,this.postMultipart("",o).pipe((0,s.U)(e=>""+e))}updateTemplate(e){return e.traversalType=this.NO_TRAVERSAL_TYPE,this.putMultipart("/"+e.id,e)}deleteTemplate(e){return e.traversalType=this.NO_TRAVERSAL_TYPE,this.environmentService.getScopeType()===o.p.JIRA_GLOBAL?this.delete("/"+e.id):this.putMultipart("/"+e.id,e)}getTemplate(e){return this.get("/"+e).pipe((0,s.U)(e=>n.fromRaw(e)))}getTemplates(){return this.get("").pipe((0,s.U)(e=>{const t=[];for(const i of e)t.push(n.fromRaw(i));return t.sort(this.sortByContextType)}))}getExcludedTemplates(){return this.get("/excluded").pipe((0,s.U)(e=>{const t=[];for(const i of e)t.push(n.fromRaw(i));return t}))}loadDefaultTemplates(){return this.post("/initialize")}getRestUrl(e){return this.environmentService.getRestUrl(e)}sortByContextType(e,t){const i=e.contextType.getDisplayName(),s=t.contextType.getDisplayName();return i>s?1:i<s?-1:0}}return e.\u0275fac=function(t){return new(t||e)(l.LFG(d.O),l.LFG(c.u))},e.\u0275prov=l.Yz7({token:e,factory:e.\u0275fac}),e})()},43482:(e,t,i)=>{"use strict";i.d(t,{E:()=>m});var s=i(88566),r=i(52792),n=i(68387),o=i(32159),a=(()=>(function(e){e.WORD=".doc,.docx",e.EXCEL=".xls,.xlsx",e.CSV=".csv",e.MSPROJECT=".mpp"}(a||(a={})),a))(),l=i(56469),d=i(12465),c=i(28517);class p{constructor(e){this.raw=e,this.config=e}getAvailableContextTypeOptions(){const e=this.getContextTypes(),t=[];return e.forEach(e=>{t.push(new d.W(e.getTypeAsString(),l.H.string(e.displayName)))}),t.sort(this.sortByContextTypeName)}getContextTypes(){const e=[];return this.config.hasOwnProperty("contextTypeConfigs")&&this.config.contextTypeConfigs.forEach(function(t){e.push(o.j.fromString(t.contextType))}),e}getAllFileExtensions(){return Object.keys(a).map(e=>a[e]).join(",")}getFileExtensions(){const e=this.getAllFileExtensions();return function(t){if(!t)return e;const i=/\.([^.]+)$/g.exec(t.toLowerCase());switch(i&&i[1]?i[1]:""){case"doc":case"docx":return a.WORD;case"xls":case"xlsx":return a.EXCEL;case"csv":return a.CSV;case"mpp":return a.MSPROJECT;default:return e}}}getMaxFileSize(){return this.config.hasOwnProperty("maxFileSize")?this.config.maxFileSize:p.DEFAULT_MAX_FILE_SIZE_IN_BYTES}getContextTypeFieldConfig(){return(new c.w).withValueMapper(e=>e.value.type).withTextMapper(e=>l.H.string(e.text.displayName))}sortByContextTypeName(e,t){return e.text>t.text?1:e.text<t.text?-1:0}}p.ONE_BYTE=1024,p.MAX_FILE_SIZE_IN_MEGA_BYTES=20,p.DEFAULT_MAX_FILE_SIZE_IN_BYTES=p.MAX_FILE_SIZE_IN_MEGA_BYTES*p.ONE_BYTE*p.ONE_BYTE;var u=i(94846),h=i(7090),g=i(9004),f=i(92406);let m=(()=>{class e{constructor(e,t,i){this.httpService=e,this.environmentService=t,this.templateResource=i,this.crudConfig$=new s.t(1)}loadDefaultTemplates(){return new r.y(e=>{this.templateResource.loadDefaultTemplates().subscribe(t=>{e.next(t),e.complete()},t=>{e.error(t)})})}getFileUrl(e){return this.environmentService.getFileUrl(e)}getConfig(){const e=this.environmentService.getConfigUrl();return this.httpService.get(e).pipe((0,n.U)(e=>new p(e)))}getExcludedTemplates(){return this.templateResource.getExcludedTemplates()}observeCrudConfig(){return this.crudConfig$.asObservable()}setCrudConfig(e){this.crudConfig$.next(e)}}return e.\u0275fac=function(t){return new(t||e)(u.LFG(h.O),u.LFG(g.u),u.LFG(f.j))},e.\u0275prov=u.Yz7({token:e,factory:e.\u0275fac}),e})()},48478:(e,t,i)=>{"use strict";i.d(t,{J:()=>I});var s=i(28404),r=i(65973),n=(()=>(function(e){e.WORD="WORD",e.EXCEL="EXCEL",e.CSV="CSV",e.MSPROJECT="MSPROJECT"}(n||(n={})),n))(),o=i(6812),a=i(75738),l=i(70802),d=i(59120),c=i(25705),p=i(12500),u=i(56469),h=i(72988),g=i(77565),f=i(5821),m=i(49518),T=i(94846),E=i(92406),v=i(9004);let I=(()=>{class e extends p.g{constructor(e,t,i){super(),this.templateResource=e,this.environmentService=t,this.messageService=i}getItems(){return this.templateResource.getTemplates()}createItem(e){return this.templateResource.addTemplate(e.name,e.description,e.fileName,e.type.value,this.parseIsGlobal(e,this.environmentService.getScopeType())).pipe((0,l.w)(e=>this.templateResource.getTemplate(e)),(0,d.K)(e=>{let t=(new h.P).withDefaultsByStatus(m.r.ERROR);return e.status===f.o.FORBIDDEN?t=t.withBody(u.H.string("You don't have permission to upload a template.")):e.status===f.o.BAD_REQUEST&&(t=t.withBody(u.H.string(e.error.errorMessages.join(", ")))),this.messageService.error(t),(0,o.of)()}),(0,c.b)(()=>{this.messageService.success((new h.P).withTitle("Success").withBody(u.H.string("Template created successfully.")))}))}updateItem(e,t){const i=this.mergeTemplateWithFormFields(e,t);return this.isContextTypeSetAndIsUndefined(t.contextType)?(this.messageService.warning((new h.P).withTitle("Warning").withBody(u.H.string("Please select template type."))),a.E):this.isTemplateNameSetAndIsEmpty(t.name)?(this.messageService.warning((new h.P).withTitle("Warning").withBody(u.H.string("Template name is required."))),a.E):this.isUploadedFileExtensionIncorrect(i)?a.E:e.valid||i.isFileToUpdate?this.templateResource.updateTemplate(i).pipe((0,l.w)(()=>this.templateResource.getTemplate(e.id)),(0,d.K)(e=>(this.messageService.error((new h.P).withTitle("Error").withBody(u.H.string(e.message))),a.E))):(this.messageService.warning((new h.P).withTitle("Warning").withBody(u.H.string("Template is corrupted, please upload new file"))),a.E)}removeItem(e){const t=this.mergeTemplateWithFormFields(e,{isGlobal:!1});return this.templateResource.deleteTemplate(t).pipe((0,d.K)(e=>{let t;return t=e.status===f.o.FORBIDDEN?(new h.P).withTitle("Error!").withBody(u.H.string("You don't have permission to remove a template.")):(new h.P).withDefaultsByStatus(m.r.ERROR),this.messageService.error(t),(0,o.of)()}),(0,c.b)(()=>{this.messageService.success((new h.P).withTitle("Done").withBody(u.H.string("Template was deleted.")))}))}isFileToUpdate(e){return null!==e&&"object"==typeof e}mergeTemplateWithFormFields(e,t){const i="object"==typeof e.contextType?e.contextType.getTypeAsString():e.contextType,s={id:e.id,name:e.name,description:e.description,fileName:e.fileName,isEnabled:e.isGlobal,templateType:e.templateType,contextType:i};return t.hasOwnProperty("contextType")&&(s.contextType=this.mapContextTypeToString(t.contextType.value)),t.hasOwnProperty("name")&&(s.name=t.name),t.hasOwnProperty("description")&&(s.description=t.description),t.hasOwnProperty("fileName")?(s.fileName=t.fileName,s.isFileToUpdate=this.isFileToUpdate(t.fileName)):s.isFileToUpdate=!1,t.hasOwnProperty("isGlobalDefault")?s.isEnabled=t.isGlobalDefault:t.hasOwnProperty("isGlobal")&&(s.isEnabled=t.isGlobal),s}mapContextTypeToString(e){let t;return t=Number.isInteger(e)?r.z[e]:e,"Widget"===t?r.z[r.z.PROJECT]:t}isContextTypeSetAndIsUndefined(e){return e&&e.value===r.z.UNDEFINED}isTemplateNameSetAndIsEmpty(e){return e&&0===e.length}isUploadedFileExtensionIncorrect(e){if(!1===e.isFileToUpdate)return!1;const t=/\.([^.]+)$/g.exec(e.fileName.name.toLowerCase()),i=t&&t[1]?t[1]:"",s=e.templateType;switch(s){case n.WORD:return this.checkExtension(i,["doc","docx"]);case n.EXCEL:return this.checkExtension(i,["xls","xlsx"]);case n.CSV:return this.checkExtension(i,["csv"]);case n.MSPROJECT:return this.checkExtension(i,["mpp"]);default:throw new TypeError(`TemplateType ${s} extension checking isn't handled yet`)}}checkExtension(e,t){const i=-1===t.indexOf(e);return i&&this.messageService.warning((new h.P).withTitle("Warning").withBody(u.H.string(`Can not change export template. Available extensions: ${t.join(", ").toLocaleUpperCase()}.`))),i}parseIsGlobal(e,t){return t!==s.p.JIRA_GLOBAL||!!e.isGlobal&&e.isGlobal}}return e.\u0275fac=function(t){return new(t||e)(T.LFG(E.j),T.LFG(v.u),T.LFG(g.e))},e.\u0275prov=T.Yz7({token:e,factory:e.\u0275fac}),e})()},12283:(e,t,i)=>{"use strict";i.d(t,{q:()=>ke});var s=i(4562),r=i(27388),n=i(90124),o=i(92406),a=i(43482),l=i(48478),d=i(78268),c=i(20358),p=i(99721),u=i(94846);let h=(()=>{class e extends c.Y{constructor(e){super(),this.templateService=e,this.accessors={contextType:["displayName","displayName"]},this.unsubscribe$=new d.xQ,this.setCrudConfig()}getFieldConfig(e,t){const i=t.formField.name;return"contextType"===i?{config:this.getCrudConfig().getContextTypeFieldConfig(),options:this.getCrudConfig().getAvailableContextTypeOptions()}:"fileName"===i?{accept:this.getCrudConfig().getFileExtensions()}:void 0}destroy(){this.unsubscribe$.next(),this.unsubscribe$.complete()}setCrudConfig(){this.templateService.observeCrudConfig().pipe((0,p.R)(this.unsubscribe$)).subscribe(e=>{this.crudConfig=e})}getCrudConfig(){return this.crudConfig}}return e.\u0275fac=function(t){return new(t||e)(u.LFG(a.E))},e.\u0275prov=u.Yz7({token:e,factory:e.\u0275fac}),e})();var g=i(58500),f=i(61145),m=i(88442),T=i(41585),E=i(54035),v=i(4520),I=i(85502),y=i(12500),C=i(29979),x=i(75689),D=i(24793),b=i(7090);let w=(()=>{class e extends C.a{constructor(e,t,i){super(i),this.environmentService=e,this.boxHierarchyService=t}updateDates(e){return this.post("updateDates",e)}getRestUrl(e){return this.environmentService.getRestBaseUrl()+"ppm/boxmodule/gantt/"+this.boxHierarchyService.getContextBoxId().toString()+"/config/"+e}}return e.\u0275fac=function(t){return new(t||e)(u.LFG(x.L),u.LFG(D.T),u.LFG(b.O))},e.\u0275prov=u.Yz7({token:e,factory:e.\u0275fac}),e})();var S=i(18687),A=i(25050),R=i(33867),_=i(68387),N=(()=>(function(e){e.AND="AND",e.OR="OR"}(N||(N={})),N))();class L{constructor(e=N.OR){this.operatorType=e}static default(){return new L}}let O=(()=>{class e extends C.a{constructor(e){super(e)}}return e.\u0275fac=function(t){return new(t||e)(u.LFG(b.O))},e.\u0275prov=u.Yz7({token:e,factory:e.\u0275fac}),e})();class F{constructor(){}static fromRaw(e){const t=new F;return t.name=e.name,t.id=e.id,t.rank=e.rank,t.isEnabled=e.isEnabled,t.isFavourite=e.isFavourite,t.description=e.description,t}static fromRaws(e){return e&&e.map(e=>this.fromRaw(e))}withId(e){return this.id=e,this}withName(e){return this.name=e,this}withRank(e){return this.rank=e,this}withEnabled(e){return this.isEnabled=e,this}withFavourite(e){return this.isFavourite=e,this}withDescription(e){return this.description=e,this}clone(){return(new F).withId(this.id).withName(this.name).withRank(this.rank).withFavourite(this.isFavourite).withEnabled(this.isEnabled).withDescription(this.description)}}let M=(()=>{class e extends O{constructor(e,t,i){super(i),this.environmentService=e,this.boxHierarchyService=t}getAllFilters(){return this.get("/user").pipe((0,_.U)(e=>F.fromRaws(e)))}enable(e){return this.put(`/enable/${e}`)}disable(e){return this.put(`/disable/${e}`)}toggleFavourite(e){return this.put(`/favourite/${e}`)}toggleUnFavourite(e){return this.put(`/unfavourite/${e}`)}getQuickFilterOperator(){return this.get("/operator").pipe((0,_.U)(e=>new L(e.operator)))}setQuickFilterOperator(e){return this.post("/operator",{operator:e.operatorType})}clearQuickFilters(){return this.delete("/clear")}getRestUrl(e){return this.environmentService.getRestBaseUrl()+"ppm/box/"+this.boxHierarchyService.getContextBoxId().toString()+"/task/quick-filter"+e}}return e.\u0275fac=function(t){return new(t||e)(u.LFG(x.L),u.LFG(D.T),u.LFG(b.O))},e.\u0275prov=u.Yz7({token:e,factory:e.\u0275fac}),e})();const U="[QuickFilters]",k={FETCH_QUICK_FILTERS:`${U}FETCH_QUICK_FILTERS`,FETCH_QUICK_FILTERS_SUCCESS:`${U}FETCH_QUICK_FILTERS_SUCCESS`,FETCH_QUICK_FILTERS_FAILURE:`${U}FETCH_QUICK_FILTERS_FAILURE`,UPDATE_QUICK_FILTERS:`${U}UPDATE_QUICK_FILTERS`,UPDATE_QUICK_FILTERS_SUCCESS:`${U}UPDATE_QUICK_FILTERS_SUCCESS`,UPDATE_QUICK_FILTERS_FAILURE:`${U}UPDATE_QUICK_FILTERS_FAILURE`,UPDATE_QUICK_FILTERS_OPERATOR:`${U}UPDATE_QUICK_FILTERS_OPERATOR`,UPDATE_QUICK_FILTERS_OPERATOR_SUCCESS:`${U}UPDATE_QUICK_FILTERS_OPERATOR_SUCCESS`,UPDATE_QUICK_FILTERS_OPERATOR_FAILURE:`${U}UPDATE_QUICK_FILTERS_OPERATOR_FAILURE`,UPDATE_FAVOURITE_QUICK_FILTERS:`${U}UPDATE_FAVOURITE_QUICK_FILTERS`,UPDATE_FAVOURITE_QUICK_FILTERS_SUCCESS:`${U}UPDATE_FAVOURITE_QUICK_FILTERS_SUCCESS`,UPDATE_FAVOURITE_QUICK_FILTERS_FAILURE:`${U}UPDATE_FAVOURITE_QUICK_FILTERS_FAILURE`,CLEAR_QUICK_FILTERS:`${U}CLEAR_QUICK_FILTERS`,CLEAR_QUICK_FILTERS_SUCCESS:`${U}CLEAR_QUICK_FILTERS_SUCCESS`,CLEAR_QUICK_FILTERS_FAILURE:`${U}CLEAR_QUICK_FILTERS_FAILURE`};class B{constructor(e){this.payload=e,this.type=k.FETCH_QUICK_FILTERS}}class V{constructor(e){this.payload=e,this.type=k.FETCH_QUICK_FILTERS_SUCCESS}}class G{constructor(e){this.payload=e,this.type=k.FETCH_QUICK_FILTERS_FAILURE}}class P{constructor(e){this.payload=e,this.type=k.UPDATE_QUICK_FILTERS}}class Y{constructor(e){this.payload=e,this.type=k.UPDATE_QUICK_FILTERS_SUCCESS}}class Z{constructor(e){this.payload=e,this.type=k.UPDATE_QUICK_FILTERS_FAILURE}}class z{constructor(e){this.payload=e,this.type=k.UPDATE_QUICK_FILTERS_OPERATOR}}class J{constructor(e){this.payload=e,this.type=k.UPDATE_QUICK_FILTERS_OPERATOR_SUCCESS}}class H{constructor(e){this.payload=e,this.type=k.UPDATE_QUICK_FILTERS_OPERATOR_FAILURE}}class q{constructor(e){this.payload=e,this.type=k.UPDATE_FAVOURITE_QUICK_FILTERS}}class Q{constructor(e){this.payload=e,this.type=k.UPDATE_FAVOURITE_QUICK_FILTERS_SUCCESS}}class ${constructor(e){this.payload=e,this.type=k.UPDATE_FAVOURITE_QUICK_FILTERS_FAILURE}}class j{constructor(){this.type=k.CLEAR_QUICK_FILTERS}}class W{constructor(){this.type=k.CLEAR_QUICK_FILTERS_SUCCESS}}class K{constructor(e){this.payload=e,this.type=k.CLEAR_QUICK_FILTERS_FAILURE}}let X=(()=>{class e{constructor(e){this.store=e}fetch(){this.store.dispatch(new B)}clear(){this.store.dispatch(new j)}toggleEnabled(e){this.store.dispatch(new P(e))}updateOperator(e){this.store.dispatch(new z(e))}toggleFavourite(e){this.store.dispatch(new q(e))}}return e.\u0275fac=function(t){return new(t||e)(u.LFG(A.yh))},e.\u0275prov=u.Yz7({token:e,factory:e.\u0275fac}),e})();var ee=(()=>(function(e){e.SELECT_QUICK_FILTER="SELECT_QUICK_FILTER",e.SET_QUICK_FILTER_FAVOURITE="SET_QUICK_FILTER_FAVOURITE",e.CHANGE_QUICK_FILTER_OPERATOR="CHANGE_QUICK_FILTER_OPERATOR"}(ee||(ee={})),ee))(),te=i(73309),ie=i(30159);let se=(()=>{class e extends te.b{constructor(e){super(),this.crossModuleFiltersCommandDispatcher=e,this.filtersSelectionChanged$=new d.xQ,this.selectedFiltersIds$=new d.xQ,this.operator$=new d.xQ}fetch(){this.crossModuleFiltersCommandDispatcher.fetch()}observeSelectedFilters(){return this.filtersSelectionChanged$.asObservable()}selectOperatorChanges(){return this.operator$.asObservable()}selectSelectedFiltersIds(){return this.selectedFiltersIds$.pipe((0,ie.x)((e,t)=>{for(const i of t)if(-1===e.indexOf(i))return!1;return e.length===t.length}))}setSelectedOperator(e){this.selectedOperator=e,this.operator$.next(this.selectedOperator)}setFiltersSelection(e,t=!1){this.selectedFilterIds=e,this.filtersSelectionChanged$.next(t?ee.SET_QUICK_FILTER_FAVOURITE:ee.SELECT_QUICK_FILTER),this.selectedFiltersIds$.next(e)}getSelectedFilterIds(e){return e.filter(e=>e.selected).map(e=>e.value)}}return e.\u0275fac=function(t){return new(t||e)(u.LFG(X))},e.\u0275prov=u.Yz7({token:e,factory:e.\u0275fac}),e})(),re=(()=>{class e extends se{constructor(e,t){super(e),this.filtersResource=t,this.selectedFiltersCountChanged$=new d.xQ}changeOperator(e){this.crossModuleFiltersCommandDispatcher.updateOperator(e)}clear(){this.setFiltersSelection([]),this.selectedFiltersCountChanged$.next(0),this.crossModuleFiltersCommandDispatcher.clear()}enable(e){this.crossModuleFiltersCommandDispatcher.toggleEnabled(e)}observeSelectedFiltersCount(){return this.selectedFiltersCountChanged$}setFiltersOperator(e){this.selectedOperator=e,this.operator$.next(this.selectedOperator),this.selectedFilterIds.length>1&&this.filtersSelectionChanged$.next(ee.CHANGE_QUICK_FILTER_OPERATOR)}updateDateFilters(e){return this.filtersResource.updateDates(e).pipe(this.takeUntilDestroy())}updateFilterText(e,t){}toggleFavourite(e){this.crossModuleFiltersCommandDispatcher.toggleFavourite(e)}}return e.\u0275fac=function(t){return new(t||e)(u.LFG(X),u.LFG(w))},e.\u0275prov=u.Yz7({token:e,factory:e.\u0275fac}),e})();const ne=new u.OlP("Quick Filters Default Effect");var oe=i(6812),ae=i(42028),le=i(56200),de=i(70802),ce=i(59120),pe=function(e,t,i,s){var r,n=arguments.length,o=n<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,i,s);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(o=(n<3?r(o):n>3?r(t,i,o):r(t,i))||o);return n>3&&o&&Object.defineProperty(t,i,o),o},ue=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};class he{constructor(e,t,i,s){this.actions$=e,this.store$=t,this.crossModuleQuickFiltersResource=i,this.isCrossModule=s,this.fetchQuickFilters$=this.actions$.pipe((0,S.l4)(k.FETCH_QUICK_FILTERS),(0,ae.h)(()=>this.isCrossModule),(0,le.j)("payload"),(0,de.w)(()=>this.crossModuleQuickFiltersResource.getAllFilters().pipe((0,_.U)(e=>new V(e)),(0,ce.K)(e=>(0,oe.of)(new G({type:"error",text:e})))))),this.updateQuickFilters$=this.actions$.pipe((0,S.l4)(k.UPDATE_QUICK_FILTERS),(0,ae.h)(()=>this.isCrossModule),(0,le.j)("payload"),(0,de.w)(e=>{const t=e.value;return(e.selected?this.crossModuleQuickFiltersResource.enable(t):this.crossModuleQuickFiltersResource.disable(t)).pipe((0,_.U)(()=>new Y(t)),(0,ce.K)(e=>(0,oe.of)(new Z({type:"error",text:e}))))})),this.updateQuickFiltersOperator$=this.actions$.pipe((0,S.l4)(k.UPDATE_QUICK_FILTERS_OPERATOR),(0,ae.h)(()=>this.isCrossModule),(0,le.j)("payload"),(0,de.w)(e=>this.crossModuleQuickFiltersResource.setQuickFilterOperator(e).pipe((0,_.U)(()=>new J(e)),(0,ce.K)(e=>(0,oe.of)(new H({type:"error",text:e})))))),this.updateFavouriteQuickFilters$=this.actions$.pipe((0,S.l4)(k.UPDATE_FAVOURITE_QUICK_FILTERS),(0,ae.h)(()=>this.isCrossModule),(0,le.j)("payload"),(0,de.w)(e=>{const t=e.value;return(e.favourite?this.crossModuleQuickFiltersResource.toggleFavourite(t):this.crossModuleQuickFiltersResource.toggleUnFavourite(t)).pipe((0,_.U)(()=>new Q(t)),(0,ce.K)(e=>(0,oe.of)(new $({type:"error",text:e}))))})),this.clearQuickFilters$=this.actions$.pipe((0,S.l4)(k.CLEAR_QUICK_FILTERS),(0,de.w)(()=>this.crossModuleQuickFiltersResource.clearQuickFilters().pipe((0,_.U)(()=>new W),(0,ce.K)(e=>(0,oe.of)(new K({type:"error",test:e}))))))}}he.\u0275fac=function(e){return new(e||he)(u.LFG(S.eX),u.LFG(A.yh),u.LFG(M),u.LFG(ne,8))},he.\u0275prov=u.Yz7({token:he,factory:he.\u0275fac}),pe([(0,S.Qm)(),ue("design:type",Object)],he.prototype,"fetchQuickFilters$",void 0),pe([(0,S.Qm)(),ue("design:type",Object)],he.prototype,"updateQuickFilters$",void 0),pe([(0,S.Qm)(),ue("design:type",Object)],he.prototype,"updateQuickFiltersOperator$",void 0),pe([(0,S.Qm)(),ue("design:type",Object)],he.prototype,"updateFavouriteQuickFilters$",void 0),pe([(0,S.Qm)(),ue("design:type",Object)],he.prototype,"clearQuickFilters$",void 0);var ge=i(23850);class fe extends ge.Z{constructor(){super(...arguments),this.quickFilters=[],this.operator=null}}const me=new fe;function Te(e=me,t){switch(t.type){case k.FETCH_QUICK_FILTERS:return Object.assign(new fe,e,{fetching:!0});case k.FETCH_QUICK_FILTERS_SUCCESS:{const i=t.payload;return Object.assign(new fe,e,{quickFilters:i,fetching:!1,fetched:!0})}case k.FETCH_QUICK_FILTERS_FAILURE:return i();case k.UPDATE_QUICK_FILTERS_SUCCESS:{const i=t.payload,s=e.quickFilters.map(e=>e.clone()),r=s.find(e=>e.id===i);return r.isEnabled=!r.isEnabled,Object.assign(new fe,e,{quickFilters:s,fetching:!1,fetched:!0})}case k.UPDATE_QUICK_FILTERS_OPERATOR_SUCCESS:{const i=t.payload;return Object.assign(new fe,e,{operator:i})}case k.UPDATE_QUICK_FILTERS_FAILURE:return i();case k.UPDATE_FAVOURITE_QUICK_FILTERS_SUCCESS:{const i=t.payload,s=e.quickFilters.map(e=>e.clone()),r=s.find(e=>e.id===i);return r.isFavourite=!r.isFavourite,Object.assign(new fe,e,{quickFilters:s,fetching:!1,fetched:!0})}case k.UPDATE_FAVOURITE_QUICK_FILTERS_FAILURE:return i();case k.CLEAR_QUICK_FILTERS_SUCCESS:{const t=e.quickFilters.map(e=>e.clone());return t.forEach(e=>e.isEnabled=!1),Object.assign(new fe,e,{quickFilters:t,fetching:!1,fetched:!0})}case k.CLEAR_QUICK_FILTERS_FAILURE:return i();default:return e}function i(){return Object.assign(new fe,e,{fetching:!1,fetched:!1})}}const Ee="QUICK_FILTERS",ve=(0,A.ZF)(Ee),Ie=(0,A.P1)(ve,e=>e.quickFilters),ye=(0,A.P1)(Ie,e=>e.filter(e=>!0===e.isEnabled)),Ce=(0,A.P1)(ve,e=>e.operator);let xe=(()=>{class e{constructor(e){this.store=e}selectQuickFilters(){return this.store.pipe((0,A.Ys)(Ie))}selectSelectedQuickFilters(){return this.store.pipe((0,A.Ys)(ye))}selectOperator(){return this.store.pipe((0,A.Ys)(Ce))}}return e.\u0275fac=function(t){return new(t||e)(u.LFG(A.yh))},e.\u0275prov=u.Yz7({token:e,factory:e.\u0275fac}),e})(),De=(()=>{class e{constructor(e){this.quickFiltersRepository=e}getSelectedQuickFilters(){return this.quickFiltersRepository.selectSelectedQuickFilters().pipe((0,_.U)(e=>e.map(e=>e.id)))}getQuickFiltersOperator(){return this.quickFiltersRepository.selectOperator()}}return e.\u0275fac=function(t){return new(t||e)(u.LFG(xe))},e.\u0275prov=u.Yz7({token:e,factory:e.\u0275fac}),e})();i(6709),i(50),i(56469),i(12465),i(28517),i(86279),i(89932),i(59887),i(26790),i(81106),i(71402);var be=i(35959);i(32558),i(1680),i(81802);var we=i(77393);const Se=[w,X,xe,M,{provide:O,useExisting:M},De];let Ae=(()=>{class e{static forRoot(t=!1,i=re){return{ngModule:e,providers:[{provide:ne,useValue:t},{provide:se,useClass:i},...Se]}}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=u.oAB({type:e}),e.\u0275inj=u.cJS({imports:[[R.J,f.F,s.ez,v.A.forRoot(),be.z8,A.Aw.forFeature(Ee,Te),S.sQ.forFeature([he]),we.n]]}),e})();var Re=i(97677),_e=i(81533),Ne=i(29342),Le=i(4335),Oe=i(29170),Fe=i(15050),Me=i(73978),Ue=i(52369);i(21447);let ke=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=u.oAB({type:e}),e.\u0275inj=u.cJS({providers:[{provide:y.g,useClass:l.J},{provide:Oe.x,useClass:Fe.$},{provide:c.Y,useClass:h},Ue.T,n.n,l.J,Le.b,w,a.E,o.j],imports:[[s.ez,r.u5,f.F,Ne.o,_e.K,Ae.forRoot(),Re.k.forRoot(),v.A,be.z8.forRoot(),I.Z,E.C,T.K,g.x.forRoot(),m.l,Me.l,we.n]]}),e})()},65973:(e,t,i)=>{"use strict";i.d(t,{z:()=>s});var s=(()=>(function(e){e[e.PROJECT=0]="PROJECT",e[e.TASK_TYPE=1]="TASK_TYPE",e[e.GANTT=2]="GANTT",e[e.ROADMAP=3]="ROADMAP",e[e.RESOURCE=4]="RESOURCE",e[e.RISK=5]="RISK",e[e.UNDEFINED=6]="UNDEFINED",e[e.BOARD=7]="BOARD"}(s||(s={})),s))()},32159:(e,t,i)=>{"use strict";i.d(t,{j:()=>r});var s=i(65973);class r{constructor(e,t){this.type=e,this.displayName=t}static fromString(e){switch(e&&(e=e.toUpperCase()),e){case"PROJECT":return new r(s.z.PROJECT,"Widget");case"RESOURCE":return new r(s.z.RESOURCE,"Resource");case"RISK":return new r(s.z.RISK,"Risk");case"GANTT":return new r(s.z.GANTT,"Gantt");case"ROADMAP":return new r(s.z.ROADMAP,"Roadmap");case"BOARD":return new r(s.z.BOARD,"Board");default:return new r(s.z.UNDEFINED,"undefined")}}getType(){return this.type}getTypeAsString(){return s.z[this.type]}getDisplayName(){return this.displayName}}},84167:(e,t,i)=>{"use strict";i.d(t,{$:()=>r});var s=i(14930);class r{constructor(e,t,i,s){this.id=e,this.isActive=t,this.data=i,this.uri=s}static fromUnassigned(e){return new r(s.b.fromCompoundId(e),!0,{},"")}static fromDTO(e){return e?new r(s.b.fromCompoundId(e.id),e.isActive,e.data,e.uri):r.EMPTY}getId(){return this.id.getInternal()}getExtPlatformId(){return this.id.getExtPlatformId()}getExtUserKey(){return this.id.getExtUserKey()}getAvatarUrlLarge(){return this.data[r.avatarUrlLarge]}getAvatarUrlNormal(){return this.data[r.avatarUrlNormal]}getAvatarUrlSmall(){return this.data[r.avatarUrlSmall]}getDisplayName(){return this.data[r.displayName]}getEmail(){return this.data[r.email]}getName(){return this.data[r.userName]}getProperty(e){return this.data?this.data[e]:null}}r.unassigneKey="unassigned",r.unassigneName="unassigned",r.unassigneAvatar="http://www.gravatar.com/avatar/59235f35e4763abb0b547bd093562f6e?d=mm&s=48",r.email="email",r.avatarUrlNormal="avatar_url_normal",r.avatarUrlSmall="avatar_url_small",r.avatarUrlLarge="avatar_url_large",r.displayName="displayName",r.userName="name",r.EMPTY_ID="emptyId",r.EMPTY=new r(s.b.fromCompoundId(r.EMPTY_ID),!1,{})},63128:(e,t,i)=>{"use strict";i.d(t,{z:()=>s});class s{constructor(e,t,i,s,r){this.moduleType=e,this.active=t,this.moduleName=i,this.defaultModule=s,this.icon=r}static findByType(e,t){return e.find(e=>e.getType()===t)}isActive(){return this.active}isDefault(){return this.defaultModule}getType(){return this.moduleType}getName(){return this.moduleName}getIcon(){return this.icon}}},70438:(e,t,i)=>{"use strict";i.d(t,{N:()=>s});class s{}},11623:(e,t,i)=>{"use strict";i.d(t,{R:()=>s});class s{}},58081:(e,t,i)=>{"use strict";i.d(t,{J:()=>r});var s=i(19719);let r=(()=>{class e extends s.Y{constructor(e){super(e)}static default(){return new e(e.DEFAULT_ID)}}return e.DEFAULT_ID="box-core",e})()},97369:(e,t,i)=>{"use strict";i.d(t,{K:()=>s});var s=(()=>(function(e){e.NAME="name",e.STATUS="status",e.START_DATE="startDate",e.END_DATE="endDate",e.DESCRIPTION="description",e.ICON="icon",e.LEADER="leader",e.TYPE="type",e.ID="id"}(s||(s={})),s))()},19142:(e,t,i)=>{"use strict";i.d(t,{Z:()=>s});class s{}},71567:(e,t,i)=>{"use strict";i.d(t,{I:()=>n});var s=i(29787),r=i(54738);class n{constructor(e,t){this.startDate=e,this.endDate=t}static convertToDate(e){return new Date(e)}static convertToUTCDateFromDate(e){return s.R.toUTCDate(e)}static convertToDateFormat(e,t="DD/MM/YYYY"){const i=n.convertToDate(e),o=s.R.toUTCDate(i);return new r.p(o).format(t)}setStartDate(e){this.startDate=e}setEndDate(e){this.endDate=e}getStartDate(){return this.startDate}getEndDate(){return this.endDate}getUtcStartDate(){return this.startDate?n.convertToUTCDateFromDate(this.startDate):null}getUtcEndDate(){return this.endDate?n.convertToUTCDateFromDate(this.endDate):null}}},31125:(e,t,i)=>{"use strict";i.d(t,{x:()=>r});var s=i(33237);class r{constructor(){this.storedValue=new Map}has(e){return this.storedValue.has(e.toString())}get(e){return this.storedValue.get(e.toString())}keys(){return Array.from(this.storedValue.keys()).map(e=>new s.A(e))}set(e,t){this.storedValue.set(e.toString(),t)}delete(e){this.storedValue.delete(e.toString())}clear(){this.storedValue.clear()}}},42288:(e,t,i)=>{"use strict";i.d(t,{C:()=>s});class s{constructor(e){this.type=e}static of(e){switch(e){case"NONE":return this.NONE;case"OWN":return this.OWN;case"SUB":return this.SUB;default:return this.NONE}}getType(){return this.type}equals(e){return this.type===e.getType()}}s.NONE=new s("NONE"),s.OWN=new s("OWN"),s.SUB=new s("SUB")},73096:(e,t,i)=>{"use strict";i.d(t,{D:()=>n});var s=i(29690),r=i(5566);class n extends s.O{}n.DEFAULT=new s.O("font-awesome-box-open",r.B.VIOLET)},50433:(e,t,i)=>{"use strict";i.d(t,{C3:()=>s.C,c9:()=>o.c,hf:()=>r,pN:()=>n});var s=i(42288);class r{constructor(e){this.prefix=e}toString(){return this.prefix}}r.regExp=new RegExp("^[a-zA-Z]+$"),r.errorMessage="SPT_ADMIN_BOX_TYPES_PREFIX_ERROR_MESSAGE",i(73096);let n=(()=>{class e{constructor(e){this.id=e}get overlappingAllowedId(){return e.OVERLAPPING_ALLOWED_ID}get sequentialId(){return e.SEQUENTIAL_ID}toNumber(){return this.id}isOverlappingAllowed(){return this.id===e.OVERLAPPING_ALLOWED_ID}isSequential(){return this.id===e.SEQUENTIAL_ID}}return e.OVERLAPPING_ALLOWED_ID=1,e.SEQUENTIAL_ID=2,e})();var o=i(20993)},20993:(e,t,i)=>{"use strict";i.d(t,{c:()=>s});class s{constructor(e){this.id=e,this.MANUAL_ID=1,this.AUTO_TOP_DOWN_ID=2,this.AUTO_BOTTOM_UP_ID=3,this.AUTO_SCOPE_BASED_ID=4}toNumber(){return this.id}isManual(){return this.id===this.MANUAL_ID}isAutoTopDown(){return this.id===this.AUTO_TOP_DOWN_ID}isAutoBottomUp(){return this.id===this.AUTO_BOTTOM_UP_ID}isAutoScopeBased(){return this.id===this.AUTO_SCOPE_BASED_ID}}},8792:(e,t,i)=>{"use strict";i.d(t,{a:()=>r});var s=i(25078);class r extends s.n{constructor(e,t,i){super(e,t),this.error=i}getError(){return this.error}}},55765:(e,t,i)=>{"use strict";i.d(t,{o:()=>r});var s=i(25078);class r extends s.n{}},14270:(e,t,i)=>{"use strict";i.d(t,{w:()=>r});var s=i(8792);class r extends s.a{}},10198:(e,t,i)=>{"use strict";i.d(t,{t:()=>r});var s=i(55765);class r extends s.o{constructor(e,t,i){super(e,t),this.addedBoxId=i}}},37471:(e,t,i)=>{"use strict";i.d(t,{y:()=>r});var s=i(8792);class r extends s.a{}},93601:(e,t,i)=>{"use strict";i.d(t,{v:()=>r});var s=i(55765);class r extends s.o{constructor(e,t){super(e,t)}}},28857:(e,t,i)=>{"use strict";i.d(t,{g:()=>r});var s=i(55765);class r extends s.o{}},41270:(e,t,i)=>{"use strict";i.d(t,{S:()=>r});var s=i(55765);class r extends s.o{}},97852:(e,t,i)=>{"use strict";i.d(t,{P:()=>r});var s=i(55765);class r extends s.o{}},18817:(e,t,i)=>{"use strict";i.d(t,{q:()=>r});var s=i(55765);class r extends s.o{constructor(e,t,i){super(e,t),this.boxId=i}}},39695:(e,t,i)=>{"use strict";i.d(t,{j:()=>r});var s=i(55765);class r extends s.o{}},49117:(e,t,i)=>{"use strict";i.d(t,{z:()=>r});var s=i(8792);class r extends s.a{}},67868:(e,t,i)=>{"use strict";i.d(t,{J:()=>r});var s=i(55765);class r extends s.o{}},18790:(e,t,i)=>{"use strict";i.d(t,{g:()=>r});var s=i(8792);class r extends s.a{}},3488:(e,t,i)=>{"use strict";i.d(t,{J:()=>r});var s=i(55765);class r extends s.o{}},69666:(e,t,i)=>{"use strict";i.d(t,{B:()=>r});var s=i(55765);class r extends s.o{}},59245:(e,t,i)=>{"use strict";i.d(t,{e:()=>r});var s=i(55765);class r extends s.o{}},39012:(e,t,i)=>{"use strict";i.d(t,{w:()=>r});var s=i(55765);class r extends s.o{}},17177:(e,t,i)=>{"use strict";i.d(t,{V:()=>r});var s=i(8792);class r extends s.a{}},70611:(e,t,i)=>{"use strict";i.d(t,{U:()=>r});var s=i(55765);class r extends s.o{constructor(e,t,i){super(e,t),this.extTaskCatalogBased=i}}},2141:(e,t,i)=>{"use strict";i.d(t,{m:()=>r});var s=i(55765);class r extends s.o{constructor(e,t,i,s){super(e,t),this.hierarchyObserverId=i,this.filterSettings=s}}},12187:(e,t,i)=>{"use strict";i.d(t,{Fq:()=>n.F,eI:()=>o.e,Pr:()=>c,A7:()=>d,mi:()=>u,pL:()=>p,A3:()=>l,vT:()=>a,I_:()=>h,zv:()=>g});var s=i(8792),r=i(55765),n=(i(14270),i(10198),i(37471),i(93601),i(28857),i(41270),i(97852),i(18817),i(39695),i(49117),i(67868),i(18790),i(3488),i(69666),i(59245),i(39012),i(17177),i(70611),i(2141),i(38413)),o=i(85726);i(66400),i(96011),i(68562),i(33958),i(4856),i(66467);class a extends r.o{constructor(e,t,i){super(e,t),this.hasPermissionToCreateMatchingBox=i}}class l extends s.a{}class d extends r.o{}class c extends s.a{}class p extends r.o{}class u extends s.a{}class h extends s.a{}class g extends r.o{constructor(e,t,i){super(e,t),this.extCatalogName=i}}},38413:(e,t,i)=>{"use strict";i.d(t,{F:()=>r});var s=i(8792);class r extends s.a{}},85726:(e,t,i)=>{"use strict";i.d(t,{e:()=>r});var s=i(55765);class r extends s.o{}},66400:(e,t,i)=>{"use strict";i.d(t,{z:()=>r});var s=i(55765);class r extends s.o{}},96011:(e,t,i)=>{"use strict";i.d(t,{p:()=>r});var s=i(55765);class r extends s.o{}},68562:(e,t,i)=>{"use strict";i.d(t,{X:()=>r});var s=i(25078);class r extends s.n{constructor(e,t,i,s){super(e,t),this.hierarchyObserverId=i,this.sortingOptions=s}}},33958:(e,t,i)=>{"use strict";i.d(t,{q:()=>n,$:()=>o});var s=i(8792),r=i(55765);class n extends r.o{constructor(e,t,i){super(t,i),this.idsOfModifiedBoxes=e}}class o extends s.a{}},4856:(e,t,i)=>{"use strict";i.d(t,{Q:()=>r});var s=i(8792);class r extends s.a{}},66467:(e,t,i)=>{"use strict";i.d(t,{W:()=>r});var s=i(55765);class r extends s.o{constructor(e,t,i){super(e,t),this.updatedBoxes=i}}},87518:(e,t,i)=>{"use strict";i.d(t,{_V:()=>s}),i(77325);var s=(()=>(function(e){e.INCLUDE_ARCHIVED_BOXES="INCLUDE_ARCHIVED_BOXES",e.EXCLUDE_ARCHIVED_BOXES="EXCLUDE_ARCHIVED_BOXES"}(s||(s={})),s))()},77325:(e,t,i)=>{"use strict";i.d(t,{P:()=>r});var s=i(14429);class r{setExtCatalogId(e){this.extTaskCatalogKey=e}setArchivedBoxesLoadMode(e){this.archivedBoxesLoadMode=e}setExtTaskId(e){this.extTaskId=e}getExtCatalogKey(){return this.extTaskCatalogKey}getArchivedBoxesLoadMode(){return this.archivedBoxesLoadMode}getExtTaskId(){return s.bq.ofNullable(this.extTaskId)}}},45944:(e,t,i)=>{"use strict";i.d(t,{A:()=>s});var s=(()=>(function(e){e[e.ASCENDING=0]="ASCENDING",e[e.DESCENDING=1]="DESCENDING"}(s||(s={})),s))()},58500:(e,t,i)=>{"use strict";i.d(t,{x:()=>Zn});var s=i(4562),r=i(8323),n=i(94846);let o=(()=>{class e extends r.V{constructor(){super(!1)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=n.Yz7({token:e,factory:e.\u0275fac}),e})();var a=i(70438),l=i(19142),d=i(58081),c=i(33237),p=i(12187),u=i(14270),h=i(10198),g=i(37471),f=i(93601),m=i(17177),T=i(70611),E=i(4856),v=i(66467),I=i(83165);class y extends I.m{constructor(e,t,i){super(e),this.boxAggregateId=e,this.loadMode=t,this.adjustHierarchy=i}}class C extends I.m{constructor(e,t){super(e),this.boxAggregateId=e,this.addBox=t}}class x extends I.m{constructor(e,t){super(e),this.boxAggregateId=e,this.boxTypeId=t}}class D extends I.m{constructor(e){super(e),this.boxAggregateId=e}}class b extends I.m{constructor(e,t){super(e),this.boxAggregateId=e,this.boxId=t}}class w extends I.m{constructor(e,t){super(e),this.boxAggregateId=e,this.changeBoxesParentDTO=t}}class S extends I.m{constructor(e,t,i){super(e),this.boxAggregateId=e,this.boxId=t,this.boxStatus=i}}class A extends I.m{constructor(e,t){super(e),this.boxAggregateId=e,this.extTaskCatalogKey=t}}class R extends I.m{constructor(e,t){super(e),this.boxAggregateId=e,this.boxId=t}}class _ extends I.m{constructor(e,t){super(e),this.boxAggregateId=e,this.boxId=t}}var N=i(49117);class L extends N.z{}var O=i(67868);class F extends O.J{constructor(e,t,i){super(e,t),this.boxId=i}}class M extends I.m{constructor(e,t){super(e),this.boxAggregateId=e,this.box=t}}var U=i(18790);class k extends U.g{}var B=i(3488);class V extends B.J{constructor(e,t,i){super(e,t),this.boxId=i}}class G extends I.m{constructor(e,t){super(e),this.boxAggregateId=e,this.editBoxDTO=t}}class P extends I.m{constructor(e){super(e),this.boxAggregateId=e}}class Y extends I.m{constructor(e,t){super(e),this.boxAggregateId=e,this.boxId=t}}class Z extends I.m{constructor(e,t){super(e),this.boxAggregateId=e,this.boxId=t}}class z extends I.m{constructor(e,t,i){super(e),this.boxAggregateId=e,this.boxId=t,this.period=i}}class J extends I.m{constructor(e,t,i){super(e),this.boxAggregateId=e,this.boxId=t,this.period=i}}class H extends I.m{constructor(e,t){super(e),this.boxAggregateId=e,this.boxId=t}}class q extends I.m{constructor(e,t){super(e),this.boxAggregateId=e,this.boxId=t}}class Q extends I.m{constructor(e,t,i){super(e),this.boxAggregateId=e,this.boxId=t,this.modules=i}}class $ extends I.m{constructor(e,t){super(e),this.boxAggregateId=e,this.boxId=t}}class j extends I.m{constructor(e){super(e),this.boxAggregateId=e}}class W extends I.m{constructor(e,t){super(e),this.boxAggregateId=e,this.boxId=t}}class K extends I.m{constructor(e,t){super(e),this.boxAggregateId=e,this.requestSpecification=t}}var X=i(8210),ee=i(59122),te=i(4535);let ie=(()=>{class e extends a.N{constructor(e,t){super(),this.commandDispatcher=e,this.eventStore=t}init(e=d.J.default()){this.commandDispatcher.dispatch(new j(e))}load(e=d.J.default(),t=c.A.ROOT_ID){this.commandDispatcher.dispatch(new W(e,t))}loadAsync(e=d.J.default(),t=c.A.ROOT_ID){const i=new W(e,t);return this.handleAsyncEvent(i,p.eI.type,p.Fq.type)}loadBoxTypeHierarchy(e=d.J.default(),t=c.A.ROOT_ID){this.commandDispatcher.dispatch(new $(e,t))}setRequestSpecification(e,t=d.J.default()){this.commandDispatcher.dispatch(new K(t,e))}addAsync(e,t=d.J.default()){const i=new C(t,e);return this.handleAsyncEvent(i,h.t.type,u.w.type)}addMatchingBoxAsync(e,t=d.J.default()){const i=new x(t,e);return this.handleAsyncEvent(i,h.t.type,u.w.type)}duplicateAsync(e,t=d.J.default()){const i=new M(t,e);return this.handleAsyncEvent(i,V.type,k.type)}deleteAsync(e,t=d.J.default()){const i=new _(t,e);return this.handleAsyncEvent(i,F.type,L.type)}archiveAsync(e,t=d.J.default()){const i=new b(t,e);return this.handleAsyncEvent(i,p.A7.type,p.Pr.type)}restoreAsync(e,t=d.J.default()){const i=new H(t,e);return this.handleAsyncEvent(i,p.pL.type,p.mi.type)}editAsync(e,t=d.J.default()){const i=new G(t,e);return this.handleAsyncEvent(i,v.W.type,E.Q.type)}markAsFavourite(e,t=d.J.default()){this.commandDispatcher.dispatch(new Z(t,e))}markAsFavouriteAsync(e,t=d.J.default()){const i=new Z(t,e);return this.handleAsyncEvent(i,v.W.type,E.Q.type)}unmarkFavourite(e,t=d.J.default()){this.commandDispatcher.dispatch(new q(t,e))}unmarkFavouriteAsync(e,t=d.J.default()){const i=new q(t,e);return this.handleAsyncEvent(i,v.W.type,E.Q.type)}setContextBox(e,t=d.J.default()){this.commandDispatcher.dispatch(new R(t,e))}resizeAsync(e,t,i=d.J.default()){const s=new J(i,e,t);return this.handleAsyncEvent(s,v.W.type,E.Q.type)}moveAsync(e,t,i=d.J.default()){const s=new z(i,e,t);return this.handleAsyncEvent(s,v.W.type,E.Q.type)}changeStatus(e,t,i=d.J.default()){this.commandDispatcher.dispatch(new S(i,e,t))}changeBoxesParentAsync(e,t=d.J.default()){const i=new w(t,e);return this.handleAsyncEvent(i,v.W.type,E.Q.type)}extTaskCatalogBased(e,t=d.J.default()){const i=new Y(t,e);return this.handleAsyncEvent(i,T.U.type,m.V.type)}checkPermissionToCreateMatchingBox(e,t=d.J.default()){const i=new A(t,e);return this.handleAsyncEvent(i,p.vT.type,p.A3.type)}updateBoxModules(e,t,i=d.J.default()){const s=new Q(i,e,t);return this.handleAsyncEvent(s,v.W.type,E.Q.type)}fetchAggregationsAsync(e=d.J.default()){return this.handleAsyncEvent(new D(e),f.v.type,g.y.type)}setLoadModeForArchivedBoxes(e,t,i=d.J.default()){this.commandDispatcher.dispatch(new y(i,e,t))}fetchExtCatalogName(e=d.J.default()){const t=new P(e);return this.handleAsyncEvent(t,p.zv.type,p.I_.type)}handleAsyncEvent(e,t,i){const s=e.getId();return this.commandDispatcher.dispatchAsync(e),(0,X.S3)(this.eventStore.waitForEventEmittedForCommand(s,t),this.eventStore.waitForEventEmittedForCommand(s,i))}}return e.\u0275fac=function(t){return new(t||e)(n.LFG(ee.h),n.LFG(te.s))},e.\u0275prov=n.Yz7({token:e,factory:e.\u0275fac}),e})();var se=i(97852),re=i(18817),ne=i(33958);class oe extends I.m{constructor(e){super(e),this.boxAggregateId=e}}class ae extends I.m{constructor(e,t){super(e),this.boxAggregateId=e,this.boxId=t}}class le extends I.m{constructor(e){super(e),this.boxAggregateId=e}}var de=i(59245);class ce extends de.e{constructor(e,t,i){super(e,t),this.expandedBoxIds=i}}class pe extends I.m{constructor(e,t){super(e),this.boxAggregateId=e,this.boxId=t}}var ue=i(39012);class he extends ue.w{constructor(e,t,i){super(e,t),this.boxId=i}}class ge extends I.m{constructor(e,t,i){super(e),this.hierarchyObserverId=t,this.filterSettings=i}}class fe extends I.m{constructor(e,t,i){super(e),this.boxAggregateId=e,this.hierarchyObserverId=t,this.sortingOptions=i}}class me extends I.m{constructor(e){super(e),this.boxAggregateId=e}}let Te=(()=>{class e extends l.Z{constructor(e,t){super(),this.commandDispatcher=e,this.eventStore=t}filter(e,t,i=d.J.default()){this.commandDispatcher.dispatch(new ge(i,e,t))}sort(e,t,i=d.J.default()){this.commandDispatcher.dispatch(new fe(i,e,t))}expand(e,t=d.J.default()){this.commandDispatcher.dispatch(new pe(t,e))}expandAsync(e,t=d.J.default()){const i=new pe(t,e),s=i.getId();return this.commandDispatcher.dispatchAsync(i),this.eventStore.waitForEventEmittedForCommand(s,he.type)}collapse(e,t=d.J.default()){this.commandDispatcher.dispatch(new ae(t,e))}collapseAsync(e,t=d.J.default()){const i=new ae(t,e),s=i.getId();return this.commandDispatcher.dispatchAsync(i),this.eventStore.waitForEventEmittedForCommand(s,re.q.type)}expandAll(e=d.J.default()){this.commandDispatcher.dispatch(new le(e))}expandAllAsync(e=d.J.default()){const t=new le(e),i=t.getId();return this.commandDispatcher.dispatchAsync(t),this.eventStore.waitForEventEmittedForCommand(i,ce.type)}collapseAll(e=d.J.default()){this.commandDispatcher.dispatch(new oe(e))}collapseAllAsync(e=d.J.default()){const t=new oe(e),i=t.getId();return this.commandDispatcher.dispatchAsync(t),this.eventStore.waitForEventEmittedForCommand(i,se.P.type)}sync(e=d.J.default()){this.commandDispatcher.dispatch(new me(e))}syncAsync(e){const t=new me(e);return this.commandDispatcher.dispatchAsync(t),this.eventStore.waitForEventEmittedForCommand(t.getId(),ne.q.type)}}return e.\u0275fac=function(t){return new(t||e)(n.LFG(ee.h),n.LFG(te.s))},e.\u0275prov=n.Yz7({token:e,factory:e.\u0275fac}),e})();var Ee=i(25078);class ve extends Ee.n{constructor(e,t,i){super(e,t),this.exceptionsList=i}}var Ie=i(38413),ye=i(56469),Ce=i(57111),xe=i(72988),De=i(77565),be=i(49518),we=i(5821),Se=i(75689),Ae=i(64883);let Re=(()=>{class e{constructor(e,t,i){this.messageService=e,this.environmentService=t,this.cqrsEventDispatcher=i}static getMessageOptions(e,t,i){return(new xe.P).withDefaultsByStatus(i).withTitle(t).withBody(ye.H.string(e))}dispatchBoxAggregateLoadedFailureEvent(e,t,i){i.status===we.o.BAD_REQUEST&&this.messageService.errorFromResponse(i.error);const s=new Ie.F(e,t,i);this.cqrsEventDispatcher.dispatch(s)}dispatchUpdatedBoxFailureEvent(e,t,i){i.status===we.o.BAD_REQUEST&&this.messageService.errorFromResponse(i.error);const s=new E.Q(e,t,i);this.cqrsEventDispatcher.dispatch(s)}showValidationExceptionMessage(t,i,s="Oops..."){const r=be.r.ERROR,n=(new Ce.q.Builder).withBtnText("Read more").withBtnClickCallback(()=>{const e=this.environmentService.getHelpURL(i);window.open(e,"_blank")}).build(),o=e.getMessageOptions(t,s,r).withLinkButton(n);this.messageService.error(o)}getValidationExceptionMessage(e,t){var i,s;const r=null===(i=e.error)||void 0===i?void 0:i.errors;return null!==(s=r&&r[t])&&void 0!==s?s:""}}return e.\u0275fac=function(t){return new(t||e)(n.LFG(De.e),n.LFG(Se.L),n.LFG(Ae.p))},e.\u0275prov=n.Yz7({token:e,factory:e.\u0275fac}),e})();var _e=(()=>(function(e){e.BOX_AREA_CREATION_VALIDATION_EXCEPTION="BoxAreaCreationValidationException",e.BOX_PARENT_CHANGE_NEW_PARENT_BOX_ARCHIVED_VALIDATION_EXCEPTION="BoxParentChangeNewParentBoxArchivedValidationException",e.BOX_AREA_PARENT_CHANGE_VALIDATION_EXCEPTION="BoxAreaParentChangeValidationException"}(_e||(_e={})),_e))(),Ne=i(90540),Le=i(40699),Oe=i(39985),Fe=i(40166),Me=i(11196),Ue=i(72357);let ke=(()=>{class e extends Ue.g{}return e.\u0275fac=function(){let t;return function(i){return(t||(t=n.n5z(e)))(i||e)}}(),e.\u0275prov=n.Yz7({token:e,factory:e.\u0275fac}),e})(),Be=(()=>{class e extends Me.f{constructor(e){super(e)}}return e.\u0275fac=function(t){return new(t||e)(n.LFG(ke))},e.\u0275prov=n.Yz7({token:e,factory:e.\u0275fac}),e})(),Ve=(()=>{class e extends Oe.Z{constructor(e,t){super(e),this.boxAggregateStore=t}getById(e){return this.boxAggregateStore.getById(e)}save(e){this.boxAggregateStore.save(e)}}return e.\u0275fac=function(t){return new(t||e)(n.LFG(Fe.t),n.LFG(Be))},e.\u0275prov=n.Yz7({token:e,factory:e.\u0275fac}),e})();class Ge{}let Pe=(()=>{class e extends Le.W{constructor(e,t,i,s,r,n){super(C.type),this.boxAggregateRepository=e,this.boxAggregateResource=t,this.environmentService=i,this.messageService=s,this.cqrsEventDispatcher=r,this.aggregateDispatcher=n}execute(e){const t=e.getAggregateId(),i=e.addBox,s=i.getParentBoxId(),r=i.getPosition(),n=this.boxAggregateRepository.getById(t);this.boxAggregateResource.add(i,n.getRequestSpecification()).pipe((0,Ne.q)(1)).subscribe(i=>{const n=i.addedBox;this.cqrsEventDispatcher.dispatch(new ve(e.getId(),t,[n.getId()])),this.boxAggregateRepository.use(e,e=>{e.addBox(n,s,r),e.updateBoxes(i.boxesToUpdate)})},i=>{const s=this.aggregateDispatcher.getValidationExceptionMessage(i,_e.BOX_AREA_CREATION_VALIDATION_EXCEPTION);i.status===we.o.BAD_REQUEST&&s&&this.aggregateDispatcher.showValidationExceptionMessage(s,"ppm/boxarea/boxarea-task/box-creation-scope-type-validation"),this.cqrsEventDispatcher.dispatch(new u.w(e.getId(),t,i))})}}return e.\u0275fac=function(t){return new(t||e)(n.LFG(Ve),n.LFG(Ge),n.LFG(Se.L),n.LFG(De.e),n.LFG(Ae.p),n.LFG(Re))},e.\u0275prov=n.Yz7({token:e,factory:e.\u0275fac}),e})(),Ye=(()=>{class e extends Le.W{constructor(e,t,i){super(x.type),this.boxAggregateRepository=e,this.boxAggregateResource=t,this.cqrsEventDispatcher=i}execute(e){const t=e.getAggregateId(),i=this.boxAggregateRepository.getById(t);this.boxAggregateResource.addMatchingBox(e.boxTypeId,i.getRequestSpecification()).pipe((0,Ne.q)(1)).subscribe(t=>{this.boxAggregateRepository.use(e,e=>{e.setEntityMap(t.boxEntityMap),e.setNodeMap(t.boxNodeMap),e.setRoot(t.root),e.addBox(t.addedBox,c.A.ROOT_ID,0)})},i=>{this.cqrsEventDispatcher.dispatch(new u.w(e.getId(),t,i))})}}return e.\u0275fac=function(t){return new(t||e)(n.LFG(Ve),n.LFG(Ge),n.LFG(Ae.p))},e.\u0275prov=n.Yz7({token:e,factory:e.\u0275fac}),e})(),Ze=(()=>{class e extends Le.W{constructor(e,t,i){super(D.type),this.boxAggregateResource=e,this.boxAggregateRepository=t,this.cqrsEventDispatcher=i}execute(e){const t=e.getAggregateId(),i=this.boxAggregateRepository.getById(t).getContextBoxId();this.boxAggregateResource.fetchAggregations(i).pipe((0,Ne.q)(1)).subscribe(t=>{this.boxAggregateRepository.use(e,e=>{e.updateAggregations(t)})},i=>{this.cqrsEventDispatcher.dispatch(new g.y(e.getId(),t,i))})}}return e.\u0275fac=function(t){return new(t||e)(n.LFG(Ge),n.LFG(Ve),n.LFG(Ae.p))},e.\u0275prov=n.Yz7({token:e,factory:e.\u0275fac}),e})();var ze=i(28857);class Je{constructor(e,t){this.boxIds=e,this.newParentId=t}}let He=(()=>{class e extends Le.W{constructor(e,t,i,s,r){super(w.type),this.boxAggregateRepository=e,this.boxAggregateResource=t,this.boxDispatcher=i,this.cqrsEventDispatcher=s,this.aggregateDispatcher=r}static getMessageTitle(){return"SPT_BOX_CORE_CANNOT_MOVE_BOX_AS_ITS_PARENT_BOX_IS_ARCHIVED_VALIDATION_MESSAGE_TITLE"}execute(t){const i=t.getAggregateId(),s=t.changeBoxesParentDTO,r=this.boxAggregateRepository.getById(i),n=this.boxAggregateRepository.getById(i),o=new Je(this.filterBoxIdsWitchParentIdsExistInArray(s.boxIds,n),s.newParentId);this.boxAggregateResource.changeBoxesParent(o,r.getRequestSpecification()).pipe((0,Ne.q)(1)).subscribe(e=>{this.boxAggregateRepository.use(t,t=>{t.changeBoxesParent(e.updatedBoxes),t.updateBoxes(e.affectedBoxes)}),this.cqrsEventDispatcher.dispatch(new ze.g(t.getId(),i))},s=>{if(s.status===we.o.BAD_REQUEST){const t=this.aggregateDispatcher.getValidationExceptionMessage(s,_e.BOX_AREA_PARENT_CHANGE_VALIDATION_EXCEPTION),i=this.aggregateDispatcher.getValidationExceptionMessage(s,_e.BOX_PARENT_CHANGE_NEW_PARENT_BOX_ARCHIVED_VALIDATION_EXCEPTION);t&&this.aggregateDispatcher.showValidationExceptionMessage(t,"ppm/boxarea/boxarea-task/parent-change-scope-type-validation",e.getMessageTitle()),i&&this.aggregateDispatcher.showValidationExceptionMessage(i,"ppm/box/archiving",e.getMessageTitle())}this.boxDispatcher.dispatchUpdatedBoxFailureEvent(t.getId(),i,s)})}filterBoxIdsWitchParentIdsExistInArray(e,t){return e.filter(i=>{const s=t.findNode(i).getParent().getData();if(!this.isBoxIdExistInArray(s,e))return!0})}isBoxIdExistInArray(e,t){return!!t.find(t=>t.toString()===e.toString())}}return e.\u0275fac=function(t){return new(t||e)(n.LFG(Ve),n.LFG(Ge),n.LFG(Re),n.LFG(Ae.p),n.LFG(Re))},e.\u0275prov=n.Yz7({token:e,factory:e.\u0275fac}),e})(),qe=(()=>{class e extends Le.W{constructor(e,t,i){super(A.type),this.boxAggregateRepository=e,this.boxAggregateResource=t,this.cqrsEventDispatcher=i}execute(e){const t=e.getAggregateId();this.boxAggregateResource.checkPermissionToCreateMatchingBox(e.extTaskCatalogKey).pipe((0,Ne.q)(1)).subscribe(i=>{this.cqrsEventDispatcher.dispatch(new p.vT(e.getId(),t,i))},i=>{this.cqrsEventDispatcher.dispatch(new p.A3(e.getId(),t,i))})}}return e.\u0275fac=function(t){return new(t||e)(n.LFG(Ve),n.LFG(Ge),n.LFG(Ae.p))},e.\u0275prov=n.Yz7({token:e,factory:e.\u0275fac}),e})(),Qe=(()=>{class e extends Le.W{constructor(e){super(oe.type),this.aggregateRepository=e}execute(e){this.aggregateRepository.use(e,e=>e.collapseAllBoxes())}}return e.\u0275fac=function(t){return new(t||e)(n.LFG(Ve))},e.\u0275prov=n.Yz7({token:e,factory:e.\u0275fac}),e})(),$e=(()=>{class e extends Le.W{constructor(e){super(ae.type),this.aggregateRepository=e}execute(e){this.aggregateRepository.use(e,t=>t.collapseBox(e.boxId))}}return e.\u0275fac=function(t){return new(t||e)(n.LFG(Ve))},e.\u0275prov=n.Yz7({token:e,factory:e.\u0275fac}),e})(),je=(()=>{class e extends Le.W{constructor(e){super(R.type),this.boxAggregateRepository=e}execute(e){this.boxAggregateRepository.use(e,t=>{t.setContextBoxId(e.boxId)})}}return e.\u0275fac=function(t){return new(t||e)(n.LFG(Ve))},e.\u0275prov=n.Yz7({token:e,factory:e.\u0275fac}),e})();var We=i(3810);let Ke=(()=>{class e{create(){const e=ye.H.i18n("SPT_BOX_NO_LONGER_EXISTS_MESSAGE_BODY");return(new xe.P).withTitle("SPT_BOX_NO_LONGER_EXISTS_MESSAGE_TITLE").withBody(e).withDelay(-1).withPrimaryButton(this.createPrimaryButtonConfig())}createPrimaryButtonConfig(){return(new Ce.q.Builder).withBtnText("SPT_BOX_NO_LONGER_EXISTS_MESSAGE_BTNS_REFRESH_PAGE").withBtnClickCallback(()=>{(0,We.h)(document).location.reload()}).build()}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=n.Yz7({token:e,factory:e.\u0275fac}),e})(),Xe=(()=>{class e extends Le.W{constructor(e,t,i,s,r){super(_.type),this.boxAggregateRepository=e,this.boxAggregateResource=t,this.cqrsEventDispatcher=i,this.messageService=s,this.boxNoLongerExistsMessageFactory=r}execute(e){const t=e.getAggregateId(),i=e.boxId,s=this.boxAggregateRepository.getById(t);this.boxAggregateResource.delete(i,s.getRequestSpecification()).pipe((0,Ne.q)(1)).subscribe(t=>{this.boxAggregateRepository.use(e,e=>{e.deleteBox(i),e.updateBoxes(t.boxesToUpdate)})},i=>{this.boxNotFoundError(i.error.errors)&&this.showBoxNoLongerExistsMessage(),this.cqrsEventDispatcher.dispatch(new L(e.getId(),t,i))})}boxNotFoundError(e){return-1!==Object.keys(e).indexOf("BOX_NOT_FOUND")}showBoxNoLongerExistsMessage(){const e=this.boxNoLongerExistsMessageFactory.create();this.messageService.info(e)}}return e.\u0275fac=function(t){return new(t||e)(n.LFG(Ve),n.LFG(Ge),n.LFG(Ae.p),n.LFG(De.e),n.LFG(Ke))},e.\u0275prov=n.Yz7({token:e,factory:e.\u0275fac}),e})(),et=(()=>{class e extends Le.W{constructor(e,t,i){super(M.type),this.boxAggregateRepository=e,this.boxAggregateResource=t,this.cqrsEventDispatcher=i}execute(e){const t=e.getAggregateId(),i=e.box,s=i.getPosition(),r=i.getParentBoxId(),n=this.boxAggregateRepository.getById(t);this.boxAggregateResource.duplicate(i,n.getRequestSpecification()).pipe((0,Ne.q)(1)).subscribe(t=>{this.boxAggregateRepository.use(e,e=>{e.duplicateBox(t.duplicatedBox,r,s),e.updateBoxes(t.boxesToUpdate)})},i=>{this.cqrsEventDispatcher.dispatch(new k(e.getId(),t,i))})}}return e.\u0275fac=function(t){return new(t||e)(n.LFG(Ve),n.LFG(Ge),n.LFG(Ae.p))},e.\u0275prov=n.Yz7({token:e,factory:e.\u0275fac}),e})();var tt=i(69666);class it extends tt.B{}class st extends Ee.n{constructor(e,t,i){super(e.getId(),t),this.command=e,this.changedBoxes=i}}let rt=(()=>{class e extends Le.W{constructor(e,t,i,s){super(G.type),this.aggregateResource=e,this.boxAggregateRepository=t,this.cqrsEventDispatcher=i,this.boxDispatcher=s}execute(e){const t=e.getAggregateId(),i=e.editBoxDTO,s=this.boxAggregateRepository.getById(t);this.aggregateResource.edit(i,s.getRequestSpecification()).pipe((0,Ne.q)(1)).subscribe(i=>{this.cqrsEventDispatcher.dispatch(new st(e,t,i)),this.cqrsEventDispatcher.dispatch(new it(e.getId(),t))},i=>{this.boxDispatcher.dispatchUpdatedBoxFailureEvent(e.getId(),t,i)})}}return e.\u0275fac=function(t){return new(t||e)(n.LFG(Ge),n.LFG(Ve),n.LFG(Ae.p),n.LFG(Re))},e.\u0275prov=n.Yz7({token:e,factory:e.\u0275fac}),e})(),nt=(()=>{class e extends Le.W{constructor(e){super(le.type),this.aggregateRepository=e}execute(e){this.aggregateRepository.use(e,e=>e.expandAllBoxes())}}return e.\u0275fac=function(t){return new(t||e)(n.LFG(Ve))},e.\u0275prov=n.Yz7({token:e,factory:e.\u0275fac}),e})(),ot=(()=>{class e extends Le.W{constructor(e){super(pe.type),this.aggregateRepository=e}execute(e){this.aggregateRepository.use(e,t=>t.expandBox(e.boxId))}}return e.\u0275fac=function(t){return new(t||e)(n.LFG(Ve))},e.\u0275prov=n.Yz7({token:e,factory:e.\u0275fac}),e})();var at=i(2141);class lt extends Ee.n{constructor(e,t,i){super(e,t),this.hierarchyObserverId=i}}let dt=(()=>{class e extends Le.W{constructor(e){super(ge.type),this.cqrsEventDispatcher=e}execute(e){const t=e.getAggregateId(),i=e.getId(),s=e.hierarchyObserverId,r=e.filterSettings;this.cqrsEventDispatcher.dispatch(new lt(i,t,s)),this.cqrsEventDispatcher.dispatch(new at.m(i,t,s,r))}}return e.\u0275fac=function(t){return new(t||e)(n.LFG(Ae.p))},e.\u0275prov=n.Yz7({token:e,factory:e.\u0275fac}),e})(),ct=(()=>{class e extends Le.W{constructor(e,t,i,s){super(Z.type),this.boxAggregateResource=e,this.boxAggregateRepository=t,this.boxDispatcher=i,this.cqrsEventDispatcher=s}execute(e){const t=e.getAggregateId(),i=e.boxId,s=this.boxAggregateRepository.getById(t);this.boxAggregateResource.markBoxAsFavourite(i,s.getRequestSpecification()).pipe((0,Ne.q)(1)).subscribe(i=>{this.cqrsEventDispatcher.dispatch(new st(e,t,i))},i=>{this.boxDispatcher.dispatchUpdatedBoxFailureEvent(e.getId(),t,i)})}}return e.\u0275fac=function(t){return new(t||e)(n.LFG(Ge),n.LFG(Ve),n.LFG(Re),n.LFG(Ae.p))},e.\u0275prov=n.Yz7({token:e,factory:e.\u0275fac}),e})();var pt=i(66400),ut=i(71567),ht=i(74477);let gt=(()=>{class e extends Le.W{constructor(e,t,i,s){super(z.type),this.boxAggregateRepository=e,this.boxAggregateResource=t,this.boxDispatcher=i,this.cqrsEventDispatcher=s}execute(e){const t=e.getAggregateId(),i=e.period,s=e.boxId,r=this.boxAggregateRepository.getById(t),n=this.calculateDateDifferenceInDays(r,i,s);this.boxAggregateResource.move(s,n,r.getRequestSpecification()).pipe((0,Ne.q)(1)).subscribe(i=>{this.cqrsEventDispatcher.dispatch(new st(e,t,i)),this.cqrsEventDispatcher.dispatch(new pt.z(e.getId(),t))},i=>{this.boxDispatcher.dispatchUpdatedBoxFailureEvent(e.getId(),t,i)})}calculateDateDifferenceInDays(e,t,i){const s=e.findEntity(i),r=s?s.getStartDate():null;return ht.l.calculateDateDifferenceInDays(t.getStartDate(),ut.I.convertToDate(r))}}return e.\u0275fac=function(t){return new(t||e)(n.LFG(Ve),n.LFG(Ge),n.LFG(Re),n.LFG(Ae.p))},e.\u0275prov=n.Yz7({token:e,factory:e.\u0275fac}),e})();var ft=i(96011);let mt=(()=>{class e extends Le.W{constructor(e,t,i,s){super(J.type),this.boxAggregateResource=e,this.boxAggregateRepository=t,this.cqrsEventDispatcher=i,this.boxDispatcher=s}execute(e){const t=e.getAggregateId(),i=this.boxAggregateRepository.getById(t);this.boxAggregateResource.resize(e.boxId,e.period,i.getRequestSpecification()).pipe((0,Ne.q)(1)).subscribe(i=>{this.cqrsEventDispatcher.dispatch(new st(e,t,i)),this.cqrsEventDispatcher.dispatch(new ft.p(e.getId(),t))},i=>{this.boxDispatcher.dispatchUpdatedBoxFailureEvent(e.getId(),t,i)})}}return e.\u0275fac=function(t){return new(t||e)(n.LFG(Ge),n.LFG(Ve),n.LFG(Ae.p),n.LFG(Re))},e.\u0275prov=n.Yz7({token:e,factory:e.\u0275fac}),e})();var Tt=i(41270);let Et=(()=>{class e extends Le.W{constructor(e,t,i,s){super(S.type),this.boxAggregateResource=e,this.boxAggregateRepository=t,this.boxDispatcher=i,this.cqrsEventDispatcher=s}execute(e){const t=e.getAggregateId(),i=e.boxId,s=this.boxAggregateRepository.getById(t);this.boxAggregateResource.changeStatus(i,e.boxStatus,s.getRequestSpecification()).pipe((0,Ne.q)(1)).subscribe(i=>{this.cqrsEventDispatcher.dispatch(new st(e,t,i)),this.cqrsEventDispatcher.dispatch(new Tt.S(e.getId(),t))},i=>{this.boxDispatcher.dispatchUpdatedBoxFailureEvent(e.getId(),t,i)})}}return e.\u0275fac=function(t){return new(t||e)(n.LFG(Ge),n.LFG(Ve),n.LFG(Re),n.LFG(Ae.p))},e.\u0275prov=n.Yz7({token:e,factory:e.\u0275fac}),e})();var vt=i(68562);let It=(()=>{class e extends Le.W{constructor(e,t,i){super(fe.type),this.boxAggregateRepository=e,this.boxAggregateResource=t,this.cqrsEventDispatcher=i}execute(e){const t=e.getAggregateId(),i=e.getId();this.cqrsEventDispatcher.dispatch(new vt.X(i,t,e.hierarchyObserverId,e.sortingOptions))}}return e.\u0275fac=function(t){return new(t||e)(n.LFG(Ve),n.LFG(Ge),n.LFG(Ae.p))},e.\u0275prov=n.Yz7({token:e,factory:e.\u0275fac}),e})(),yt=(()=>{class e extends Le.W{constructor(e,t,i){super(me.type),this.boxAggregateRepository=e,this.boxAggregateResource=t,this.cqrsEventDispatcher=i}execute(e){const t=e.boxAggregateId,i=this.boxAggregateRepository.getById(t),s=i.getRequestSpecification(),r=i.getBoxSynchronizationStamp();r&&this.boxAggregateResource.sync(r,s).pipe((0,Ne.q)(1)).subscribe(t=>{this.boxAggregateRepository.use(e,e=>{e.syncBoxes(t)})},i=>{this.cqrsEventDispatcher.dispatch(new ne.$(e.getId(),t,i))})}}return e.\u0275fac=function(t){return new(t||e)(n.LFG(Ve),n.LFG(Ge),n.LFG(Ae.p))},e.\u0275prov=n.Yz7({token:e,factory:e.\u0275fac}),e})(),Ct=(()=>{class e extends Le.W{constructor(e,t,i,s){super(q.type),this.boxAggregateResource=e,this.boxAggregateRepository=t,this.boxDispatcher=i,this.cqrsEventDispatcher=s}execute(e){const t=e.getAggregateId(),i=this.boxAggregateRepository.getById(t);this.boxAggregateResource.unmarkBoxFavourite(e.boxId,i.getRequestSpecification()).pipe((0,Ne.q)(1)).subscribe(i=>{this.cqrsEventDispatcher.dispatch(new st(e,t,i))},i=>{this.boxDispatcher.dispatchUpdatedBoxFailureEvent(e.getId(),t,i)})}}return e.\u0275fac=function(t){return new(t||e)(n.LFG(Ge),n.LFG(Ve),n.LFG(Re),n.LFG(Ae.p))},e.\u0275prov=n.Yz7({token:e,factory:e.\u0275fac}),e})(),xt=(()=>{class e extends Le.W{constructor(e,t,i,s){super(Q.type),this.boxAggregateRepository=e,this.aggregateResource=t,this.cqrsEventDispatcher=i,this.boxDispatcher=s}execute(e){const t=e.boxAggregateId,i=this.boxAggregateRepository.getById(t);this.aggregateResource.updateModules(e.boxId,e.modules,i.getRequestSpecification()).pipe((0,Ne.q)(1)).subscribe(i=>{this.cqrsEventDispatcher.dispatch(new st(e,t,i))},i=>{this.boxDispatcher.dispatchUpdatedBoxFailureEvent(e.getId(),t,i)})}}return e.\u0275fac=function(t){return new(t||e)(n.LFG(Ve),n.LFG(Ge),n.LFG(Ae.p),n.LFG(Re))},e.\u0275prov=n.Yz7({token:e,factory:e.\u0275fac}),e})(),Dt=(()=>{class e extends Le.W{constructor(e,t){super($.type),this.boxAggregateRepository=e,this.boxAggregateResource=t}execute(e){this.boxAggregateResource.loadBoxTypeHierarchy(e.boxId).pipe((0,Ne.q)(1)).subscribe(t=>{this.boxAggregateRepository.use(e,e=>{e.setPeriodModes(t.periodModes),e.setBoxTypes(t.boxTypes)})})}}return e.\u0275fac=function(t){return new(t||e)(n.LFG(Ve),n.LFG(Ge))},e.\u0275prov=n.Yz7({token:e,factory:e.\u0275fac}),e})();var bt=i(77325);function wt(e,t){return-1!==e.findIndex(t.equals,t)}var St=i(73754);class At extends Ee.n{constructor(e,t,i){super(e,t),this.loadMode=i}}class Rt extends St.i{constructor(e,t){super(e),this.boxAggregateId=e,this.loadMode=t}toDomainEvents(e){return[new At(e,this.boxAggregateId,this.loadMode)]}}class _t extends St.i{constructor(e,t){super(e),this.boxAggregateId=e,this.addedBoxId=t}toDomainEvents(e){return[new h.t(e,this.boxAggregateId,this.addedBoxId)]}}class Nt extends St.i{constructor(e){super(e),this.boxAggregateId=e}toDomainEvents(e){return[new f.v(e,this.boxAggregateId)]}}class Lt extends St.i{constructor(e){super(e),this.boxAggregateId=e}toDomainEvents(e){return[new se.P(e,this.boxAggregateId)]}}class Ot extends St.i{constructor(e,t){super(e),this.boxAggregateId=e,this.boxId=t}toDomainEvents(e){return[new re.q(e,this.boxAggregateId,this.boxId)]}}var Ft,Mt,Ut,kt=i(39695);class Bt extends St.i{constructor(e){super(e),this.boxAggregateId=e}toDomainEvents(e){return[new kt.j(e,this.boxAggregateId)]}}class Vt extends Ee.n{constructor(e,t,i){super(e,t),this.boxId=i}}class Gt extends St.i{constructor(e,t){super(e),this.boxAggregateId=e,this.boxId=t}toDomainEvents(e){return[new Vt(e,this.boxAggregateId,this.boxId)]}}class Pt extends St.i{constructor(e,t){super(e),this.boxAggregateId=e,this.boxId=t}toDomainEvents(e){return[new F(e,this.boxAggregateId,this.boxId)]}}class Yt extends St.i{constructor(e,t){super(e),this.boxAggregateId=e,this.duplicatedBoxId=t}toDomainEvents(e){return[new V(e,this.boxAggregateId,this.duplicatedBoxId)]}}class Zt extends St.i{constructor(e,t){super(e),this.boxAggregateId=e,this.expandedBoxIds=t}toDomainEvents(e){return[new ce(e,this.boxAggregateId,this.expandedBoxIds)]}}class zt extends St.i{constructor(e,t){super(e),this.boxAggregateId=e,this.boxId=t}toDomainEvents(e){return[new he(e,this.boxAggregateId,this.boxId)]}}class Jt extends Ee.n{constructor(e,t,i,s){super(e,t),this.root=i,this.boxEntityMap=s}}class Ht extends St.i{constructor(e,t,i){super(e),this.boxAggregateId=e,this.root=t,this.boxEntityMap=i}toDomainEvents(e){return[new Jt(e,this.boxAggregateId,this.root,this.boxEntityMap)]}}class qt extends St.i{constructor(e,t){super(e),this.boxAggregateId=e,this.idsOfModifiedBoxes=t}toDomainEvents(e){return[new ne.q(this.idsOfModifiedBoxes,e,this.boxAggregateId)]}}class Qt extends St.i{constructor(e,t){super(e),this.boxAggregateId=e,this.updatedBoxes=t}toDomainEvents(e){return[new v.W(e,this.boxAggregateId,this.updatedBoxes)]}}const $t=Symbol("NgMapEntries");class jt{constructor(e){this[Ft]="NgMap",this[Mt]=[];const t=e instanceof jt?Array.from(e.entries()):e;Array.isArray(t)&&t.length&&t.forEach(([e,t])=>{this.set(e,t)})}get size(){return this[$t].length}[(Ft=Symbol.toStringTag,Mt=$t,Symbol.iterator)](){return new Wt(this[$t],([e,t])=>[e,t])}has(e){return this[$t].findIndex(([t])=>t.equals(e))>-1}get(e){const t=this[$t].find(([t])=>t.equals(e));return t&&t[1]}set(e,t){if("[object Object]"!==Object.prototype.toString.call(e)||"function"!=typeof e.equals)throw new TypeError("The provided key is not an object or has no equals method.");const i=this[$t].findIndex(([t])=>t.equals(e)),s=[e,t];return this[$t]=i>-1?[...this[$t].slice(0,i),s,...this[$t].slice(i+1)]:[...this[$t],s],this}delete(e){const t=this[$t].length;return this[$t]=this[$t].filter(([t])=>!t.equals(e)),t>this[$t].length}clear(){this[$t]=[]}copy(){return new jt(Array.from(this.entries()))}filter(e){const t=Array.from(this.entries()).filter(e);return new jt(t)}map(e){const t=Array.from(this.entries()).map(e);return new jt(t)}reduce(e,t){return Array.from(this.entries()).reduce(e,t)}reduceRight(e,t){return Array.from(this.entries()).reduceRight(e,t)}some(e){return Array.from(this.entries()).some(e)}every(e){return Array.from(this.entries()).every(e)}keys(){return new Wt(this[$t],([e])=>e)}values(){return new Wt(this[$t],([e,t])=>t)}entries(){return new Wt(this[$t],e=>e)}forEach(e){this[$t].forEach(([t,i])=>e(i,t,this))}}class Wt{constructor(e,t){this.mapperFn=t,this[Ut]="NgMap Iterator",this.pointer=0,this.entries=e.slice(0)}next(){const e=this.pointer>=this.entries.length;return{value:e?void 0:this.mapperFn(this.entries[this.pointer++]),done:e}}[(Ut=Symbol.toStringTag,Symbol.iterator)](){return this}}class Kt{constructor(e){this.boxNodeMap=e,this.boxesWithMissingParent=new jt,this.boxesWithMissingChild=new jt}registerMissingChild(e,t,i){this.boxesWithMissingChild.set(t,{parentId:e,indexAtWhichToInsert:i})}registerMissingParent(e,t){this.boxesWithMissingParent.set(t,e)}reestablishRelations(){this.boxesWithMissingParent.forEach((e,t)=>{const i=this.boxNodeMap.get(t);i&&this.boxNodeMap.get(e).setParent(i)}),this.boxesWithMissingChild.forEach((e,t)=>{const i=this.boxNodeMap.get(t);i&&this.boxNodeMap.get(e.parentId).addChild(i,e.indexAtWhichToInsert)}),this.boxesWithMissingParent.clear(),this.boxesWithMissingChild.clear()}}class Xt{constructor(e,t){this.boxNodeMap=e,this.boxEntityMap=t,this.idsOfDisconnectedChildren=[]}recordChildWithoutParent(e){this.idsOfDisconnectedChildren.push(e)}removeDisconnectedChildren(){const e=[];return this.idsOfDisconnectedChildren.forEach(t=>{null===this.boxNodeMap.get(t).getParent()&&(e.push(t),this.boxNodeMap.delete(t),this.boxEntityMap.delete(t))}),this.idsOfDisconnectedChildren.splice(0),e}}var ei=i(12684);class ti{constructor(e,t){this.boxNodeMap=e,this.boxEntityMap=t,this.relationIntegrityKeeper=new Kt(e),this.trackerOfDisconnectedChildren=new Xt(e,t)}sync(e){return e.forEach(this.updateLocalBox,this),this.relationIntegrityKeeper.reestablishRelations(),this.trackerOfDisconnectedChildren.removeDisconnectedChildren()}updateLocalBox(e){const t=e.entity,i=e.parentId,s=e.childIds,r=t.getId(),n=this.retrieveExistingOrCreateNew(r);this.identifyAndDisconnectBoxesWhichAreNoLongerChildren(n,s),i&&this.setParent(n,r,i),this.setChildren(n,r,s),this.boxEntityMap.set(r,t)}retrieveExistingOrCreateNew(e){let t=this.boxNodeMap.get(e);return t||(t=new ei.N(e),t.setId(e.toString()),this.boxNodeMap.set(e,t)),t}identifyAndDisconnectBoxesWhichAreNoLongerChildren(e,t){const i=this.getChildIds(e),s=this.getIdsOfRemovedChildren(i,t);s.length&&s.forEach(this.disconnectChild,this)}getChildIds(e){return e.getChildren().map(e=>e.getData())}getIdsOfRemovedChildren(e,t){return e.filter(e=>!wt(t,e))}disconnectChild(e){this.boxNodeMap.get(e).setParent(null),this.trackerOfDisconnectedChildren.recordChildWithoutParent(e)}setParent(e,t,i){const s=this.boxNodeMap.get(i)||null;s||this.relationIntegrityKeeper.registerMissingParent(t,i),e.setParent(s)}setChildren(e,t,i){const s=[];i.forEach((e,i)=>{const r=this.boxNodeMap.get(e)||null;r?s.push(r):this.relationIntegrityKeeper.registerMissingChild(t,e,i)}),e.setChildren(s)}}class ii extends Ee.n{constructor(e,t,i){super(e,t),this.boxTypes=i}}class si extends St.i{constructor(e,t){super(e),this.boxAggregateId=e,this.dateFormat=t}toDomainEvents(e){return[new ii(e,this.boxAggregateId,this.dateFormat)]}}class ri extends Ee.n{constructor(e,t,i){super(e,t),this.dateFormat=i}}class ni extends St.i{constructor(e,t){super(e),this.boxAggregateId=e,this.dateFormat=t}toDomainEvents(e){return[new ri(e,this.boxAggregateId,this.dateFormat)]}}class oi extends Ee.n{constructor(e,t,i){super(e,t),this.periodModes=i}}class ai extends St.i{constructor(e,t){super(e),this.boxAggregateId=e,this.periodModes=t}toDomainEvents(e){return[new oi(e,this.boxAggregateId,this.periodModes)]}}class li extends Ee.n{constructor(e,t,i){super(e,t),this.requestSpecification=i}}class di extends St.i{constructor(e,t){super(e),this.boxAggregateId=e,this.requestSpecification=t}toDomainEvents(e){return[new li(e,this.boxAggregateId,this.requestSpecification)]}}var ci=i(95780);class pi extends ci.Z{constructor(e){super(e),this.id=e,this.root=new ei.N(null),this.contextBoxId=c.A.ROOT_ID,this.dateFormat=null,this.requestSpecification=new bt.P}getContextBoxId(){return this.contextBoxId}getBoxSynchronizationStamp(){return this.boxSynchronizationStamp}getBoxTypes(){return this.boxTypes}getRequestSpecification(){return this.requestSpecification}init(e){this.setBoxTypes(e.types,!1),this.setDateFormat(e.dateFormat),this.setPeriodModes(e.periodModes),this.setEntityMap(e.boxEntityMap),this.setNodeMap(e.boxNodeMap),this.setRoot(e.root),this.boxSynchronizationStamp=e.synchronizationStamp,this.boxSynchronizer=new ti(this.boxNodeMap,this.boxEntityMap)}updateBoxes(e){const t=e.map(e=>this.updateBox(e)),i=new Qt(this.getId(),t);t.length?this.dispatchCustomEventWithFirstBoxHierarchyChangedEvent(i):this.emit(i)}updateBox(e){const t=e.getId();return this.boxEntityMap.has(t)&&this.boxEntityMap.set(t,e),t}addBox(e,t,i){this.addBoxToHierarchy(e,t,i),this.dispatchCustomEventWithFirstBoxHierarchyChangedEvent(new _t(this.getId(),e.getId()))}duplicateBox(e,t,i){this.addBoxToHierarchy(e,t,i),this.dispatchCustomEventWithFirstBoxHierarchyChangedEvent(new Yt(this.getId(),e.getId()))}deleteBox(e){this.deleteBoxFromHierarchy(e),this.dispatchCustomEventWithFirstBoxHierarchyChangedEvent(new Pt(this.getId(),e))}changeBoxesParent(e){const t=e.reverse().map(e=>this.changeBoxParent(e.entity,e.parentBoxId));this.dispatchCustomEventWithFirstBoxHierarchyChangedEvent(new Qt(this.getId(),t))}changeBoxParent(e,t){const i=e.getId(),s=this.findNode(i),r=s.getParent(),n=this.findNode(t);return r.removeChild(r.getChildPosition(s)),n.addChild(s),i}updateAggregations(e){e.keys().forEach(t=>{const i=this.boxEntityMap.get(t);if(!i)return;const s=i.getFieldCollection(),r=e.get(t);s.update(r)}),this.dispatchCustomEventWithFirstBoxHierarchyChangedEvent(new Nt(this.getId()))}syncBoxes(e){this.boxSynchronizationStamp=e.synchronizationStamp;const t=e.modifiedBoxes;if(!t.length)return void this.emit(new qt(this.getId(),[]));if(wt(this.boxSynchronizer.sync(t),this.getContextBoxId()))return void this.emit(new Bt(this.getId()));const i=t.map(e=>e.entity.getId());this.dispatchCustomEventWithFirstBoxHierarchyChangedEvent(new qt(this.getId(),i))}setContextBoxId(e){this.contextBoxId=e,this.emit(new Gt(this.getId(),this.contextBoxId))}setEntityMap(e){this.boxEntityMap=e}setNodeMap(e){this.boxNodeMap=e}setRoot(e){this.root=e,this.emit(this.getBoxHierarchyChangedEvent())}setBoxTypes(e,t=!0){this.boxTypes=e;const i=new si(this.getId(),this.boxTypes);t?this.dispatchCustomEventWithFirstBoxHierarchyChangedEvent(i):this.emit(i)}setDateFormat(e){this.dateFormat=e,this.emit(new ni(this.getId(),this.dateFormat))}setPeriodModes(e){this.periodModes=e,this.emit(new ai(this.getId(),this.periodModes))}setRequest(e){this.requestSpecification=e,this.emit(new di(this.getId(),this.requestSpecification))}setLoadModeForArchivedBoxes(e){this.requestSpecification.setArchivedBoxesLoadMode(e),this.emit(new Rt(this.getId(),e))}expandBox(e){this.findNode(e).expand(),this.dispatchCustomEventWithFirstBoxHierarchyChangedEvent(new zt(this.getId(),e))}collapseBox(e){this.findNode(e).collapse(),this.dispatchCustomEventWithFirstBoxHierarchyChangedEvent(new Ot(this.getId(),e))}expandAllBoxes(){this.root.expandAll(),this.dispatchCustomEventWithFirstBoxHierarchyChangedEvent(new Zt(this.getId(),this.getAllBoxIds()))}collapseAllBoxes(){this.root.collapseAll(),this.dispatchCustomEventWithFirstBoxHierarchyChangedEvent(new Lt(this.getId()))}findEntity(e){return this.boxEntityMap.get(e)}findNode(e){return this.boxNodeMap.get(e)}findNodes(e){return e.map(this.findNode,this)}dispatchCustomEventWithFirstBoxHierarchyChangedEvent(e){const t=this.getEvents().filter(e=>e.getType()!==Ht.type);t.unshift(this.getBoxHierarchyChangedEvent()),t.push(e),this.clearEvents(),this.emit(t)}getBoxHierarchyChangedEvent(){return new Ht(this.getId(),this.root,this.boxEntityMap)}addBoxToHierarchy(e,t,i){if(!e)return;const s=e.getId(),r=new ei.N(s);r.setId(s.toString()),this.findNode(t).addChild(r,i),this.boxEntityMap.set(s,e),this.boxNodeMap.set(s,r)}deleteBoxFromHierarchy(e){const t=this.findNode(e);if(!t)return;const i=t.getParent();i.removeChild(i.getChildPosition(t)),this.boxEntityMap.delete(e),this.boxNodeMap.delete(e)}getAllBoxIds(){return Array.from(this.boxEntityMap.keys())}}class ui extends Ee.n{}let hi=(()=>{class e extends Le.W{constructor(e,t){super(j.type,ui,t),this.boxAggregateRepository=e}execute(e){const t=new pi(e.boxAggregateId);this.boxAggregateRepository.save(t)}}return e.\u0275fac=function(t){return new(t||e)(n.LFG(Ve),n.LFG(Ae.p))},e.\u0275prov=n.Yz7({token:e,factory:e.\u0275fac}),e})();var gi=i(85726);let fi=(()=>{class e extends Le.W{constructor(e,t,i,s){super(W.type),this.boxAggregateRepository=e,this.boxAggregateResource=t,this.cqrsEventDispatcher=i,this.boxAggregateDispatcher=s}execute(e){const t=e.getAggregateId(),i=this.boxAggregateRepository.getById(t);this.boxAggregateResource.loadBoxAggregate(i.getRequestSpecification(),e.boxId).pipe((0,Ne.q)(1)).subscribe(i=>{this.boxAggregateRepository.use(e,e=>{e.init(i)}),this.cqrsEventDispatcher.dispatch(new gi.e(e.getId(),t))},i=>{this.boxAggregateDispatcher.dispatchBoxAggregateLoadedFailureEvent(e.getId(),t,i)})}}return e.\u0275fac=function(t){return new(t||e)(n.LFG(Ve),n.LFG(Ge),n.LFG(Ae.p),n.LFG(Re))},e.\u0275prov=n.Yz7({token:e,factory:e.\u0275fac}),e})(),mi=(()=>{class e extends Le.W{constructor(e){super(K.type),this.boxAggregateRepository=e}execute(e){this.boxAggregateRepository.use(e,t=>{t.setRequest(e.requestSpecification)})}}return e.\u0275fac=function(t){return new(t||e)(n.LFG(Ve))},e.\u0275prov=n.Yz7({token:e,factory:e.\u0275fac}),e})();var Ti=i(48652);let Ei=(()=>{class e extends Le.W{constructor(e,t){super(Y.type),this.boxAggregateResource=e,this.cqrsEventDispatcher=t}execute(e){const t=e.getAggregateId();this.boxAggregateResource.extTaskCatalogBased(e.boxId).pipe((0,Ne.q)(1)).subscribe(i=>{this.cqrsEventDispatcher.dispatch(new T.U(e.getId(),t,i))},i=>{this.cqrsEventDispatcher.dispatch(new m.V(e.getId(),t,i))})}}return e.\u0275fac=function(t){return new(t||e)(n.LFG(Ge),n.LFG(Ae.p))},e.\u0275prov=n.Yz7({token:e,factory:e.\u0275fac}),e})();var vi=i(87518);let Ii=(()=>{class e extends Le.W{constructor(e,t,i,s){super(b.type),this.boxAggregateRepository=e,this.boxAggregateResource=t,this.cqrsEventDispatcher=i,this.boxAggregateDispatcher=s}execute(e){const t=e.getAggregateId(),i=this.boxAggregateRepository.getById(t),s=e.boxId,r=i.getRequestSpecification();this.boxAggregateResource.archive(s,r).pipe((0,Ne.q)(1)).subscribe(({boxesToModify:t})=>{this.boxAggregateRepository.use(e,e=>{t.length&&e.updateBoxes(t),r.getArchivedBoxesLoadMode()===vi._V.EXCLUDE_ARCHIVED_BOXES&&e.deleteBox(s)}),this.cqrsEventDispatcher.dispatch(new p.A7(e.getId(),e.getAggregateId()))},i=>{this.cqrsEventDispatcher.dispatch(new p.Pr(e.getId(),e.getAggregateId(),i)),this.boxAggregateDispatcher.dispatchUpdatedBoxFailureEvent(e.getId(),t,i)})}}return e.\u0275fac=function(t){return new(t||e)(n.LFG(Ve),n.LFG(Ge),n.LFG(Ae.p),n.LFG(Re))},e.\u0275prov=n.Yz7({token:e,factory:e.\u0275fac}),e})(),yi=(()=>{class e extends Le.W{constructor(e,t,i,s){super(H.type),this.boxAggregateRepository=e,this.boxAggregateResource=t,this.cqrsEventDispatcher=i,this.boxAggregateDispatcher=s}execute(e){const t=e.getAggregateId(),i=this.boxAggregateRepository.getById(t);this.boxAggregateResource.restore(e.boxId,i.getRequestSpecification()).pipe((0,Ne.q)(1)).subscribe(i=>{this.cqrsEventDispatcher.dispatch(new st(e,t,i)),this.cqrsEventDispatcher.dispatch(new p.pL(e.getId(),e.getAggregateId()))},i=>{this.cqrsEventDispatcher.dispatch(new p.mi(e.getId(),e.getAggregateId(),i)),this.boxAggregateDispatcher.dispatchUpdatedBoxFailureEvent(e.getId(),t,i)})}}return e.\u0275fac=function(t){return new(t||e)(n.LFG(Ve),n.LFG(Ge),n.LFG(Ae.p),n.LFG(Re))},e.\u0275prov=n.Yz7({token:e,factory:e.\u0275fac}),e})();var Ci=i(32958);let xi=(()=>{class e extends Le.W{constructor(e,t,i,s){super(y.type),this.boxAggregateRepository=e,this.boxAggregateResource=t,this.cqrsEventDispatcher=i,this.boxAggregateDispatcher=s}execute(e){this.boxAggregateRepository.use(e,t=>{t.setLoadModeForArchivedBoxes(e.loadMode)}),e.adjustHierarchy&&this.adjustHierarchyToMatchNewLoadMode(e)}adjustHierarchyToMatchNewLoadMode(e){const t=e.getAggregateId(),i=this.boxAggregateRepository.getById(t),s=this.boxAggregateRepository.getById(t).getContextBoxId();(0,Ci.D)([this.boxAggregateResource.loadBoxAggregate(i.getRequestSpecification(),c.A.ROOT_ID),this.boxAggregateResource.fetchAggregations(s)]).pipe((0,Ne.q)(1)).subscribe(([i,s])=>{this.boxAggregateRepository.use(e,e=>{e.init(i)}),this.boxAggregateRepository.use(e,e=>{e.updateAggregations(s)}),this.cqrsEventDispatcher.dispatch(new p.eI(e.getId(),t))},i=>{this.boxAggregateDispatcher.dispatchBoxAggregateLoadedFailureEvent(e.getId(),t,i)})}}return e.\u0275fac=function(t){return new(t||e)(n.LFG(Ve),n.LFG(Ge),n.LFG(Ae.p),n.LFG(Re))},e.\u0275prov=n.Yz7({token:e,factory:e.\u0275fac}),e})(),Di=(()=>{class e extends Le.W{constructor(e,t,i){super(P.type),this.boxAggregateResource=e,this.cqrsEventDispatcher=t,this.boxAggregateRepository=i}execute(e){const t=e.getAggregateId(),i=this.boxAggregateRepository.getById(t).getRequestSpecification().getExtCatalogKey();this.boxAggregateResource.fetchExtCatalogName(i).pipe((0,Ne.q)(1)).subscribe(i=>{this.cqrsEventDispatcher.dispatch(new p.zv(e.getId(),t,i))},i=>{this.cqrsEventDispatcher.dispatch(new p.I_(e.getId(),t,i))})}}return e.\u0275fac=function(t){return new(t||e)(n.LFG(Ge),n.LFG(Ae.p),n.LFG(Ve))},e.\u0275prov=n.Yz7({token:e,factory:e.\u0275fac}),e})();const bi=[{provide:l.Z,useClass:Te},{provide:a.N,useClass:ie},(0,Ti.p)(hi),(0,Ti.p)(fi),(0,Ti.p)(Dt),(0,Ti.p)(je),(0,Ti.p)(Ii),(0,Ti.p)(yi),(0,Ti.p)(Xe),(0,Ti.p)(mt),(0,Ti.p)(gt),(0,Ti.p)(yt),(0,Ti.p)(ct),(0,Ti.p)(Ct),(0,Ti.p)(dt),(0,Ti.p)(It),(0,Ti.p)(Pe),(0,Ti.p)(Di),(0,Ti.p)(Ye),(0,Ti.p)(et),(0,Ti.p)(Ei),(0,Ti.p)(xt),(0,Ti.p)(Et),(0,Ti.p)(qe),(0,Ti.p)(rt),(0,Ti.p)(He),(0,Ti.p)(Ze),(0,Ti.p)($e),(0,Ti.p)(Qe),(0,Ti.p)(ot),(0,Ti.p)(nt),(0,Ti.p)(mi),(0,Ti.p)(xi),Re];var wi=i(11623),Si=i(42028);let Ai=(()=>{class e extends wi.R{constructor(e){super(),this.eventStore=e}selectEditedBoxSuccessEvent(){return this.eventStore.selectEvent(it.type)}selectChangedBoxStatusSuccessEvent(){return this.eventStore.selectEvent(Tt.S.type)}selectUpdatedBoxesSuccessEvent(){return this.eventStore.selectEvent(v.W.type)}selectAddedBoxSuccessEvent(){return this.eventStore.selectEvent(h.t.type)}selectDuplicatedBoxSuccessEvent(){return this.eventStore.selectEvent(V.type)}selectDeletedBoxSuccessEvent(){return this.eventStore.selectEvent(F.type)}selectChangeBoxesParentSuccessEvent(){return this.eventStore.selectEvent(ze.g.type)}selectBoxHierarchyFilteredEvent(e){return this.eventStore.selectEvent(at.m.type).pipe((0,Si.h)(t=>t.hierarchyObserverId.equals(e)))}selectBoxHierarchySortedEvent(e){return this.eventStore.selectEvent(vt.X.type).pipe((0,Si.h)(t=>t.hierarchyObserverId.equals(e)))}selectExpandedAllBoxesEvent(){return this.eventStore.selectEvent(ce.type)}selectCollapsedAllBoxesEvent(){return this.eventStore.selectEvent(se.P.type)}selectContextBoxRemovedEvent(){return this.eventStore.selectEvent(kt.j.type)}selectBoxesSynchronizedEvent(){return this.eventStore.selectEvent(ne.q.type)}selectAggregationsUpdatedEvent(){return this.eventStore.selectEvent(f.v.type)}selectMovedBoxSuccessEvent(){return this.eventStore.selectEvent(pt.z.type)}selectResizedBoxSuccessEvent(){return this.eventStore.selectEvent(ft.p.type)}selectBoxArchivingSuccessEvent(){return this.eventStore.selectEvent(p.A7.type)}selectBoxRestoreSuccessEvent(){return this.eventStore.selectEvent(p.pL.type)}selectBoxAggregateLoadedSuccessEvent(){return this.eventStore.selectEvent(p.eI.type)}}return e.\u0275fac=function(t){return new(t||e)(n.LFG(te.s))},e.\u0275prov=n.Yz7({token:e,factory:e.\u0275fac}),e})();class Ri{}var _i=i(24793),Ni=i(69268);class Li extends Ni.g{}let Oi=(()=>{class e extends Li{}return e.\u0275fac=function(){let t;return function(i){return(t||(t=n.n5z(e)))(i||e)}}(),e.\u0275prov=n.Yz7({token:e,factory:e.\u0275fac}),e})(),Fi=(()=>{class e extends Li{}return e.\u0275fac=function(){let t;return function(i){return(t||(t=n.n5z(e)))(i||e)}}(),e.\u0275prov=n.Yz7({token:e,factory:e.\u0275fac}),e})(),Mi=(()=>{class e extends Li{}return e.\u0275fac=function(){let t;return function(i){return(t||(t=n.n5z(e)))(i||e)}}(),e.\u0275prov=n.Yz7({token:e,factory:e.\u0275fac}),e})(),Ui=(()=>{class e extends Ni.g{}return e.\u0275fac=function(){let t;return function(i){return(t||(t=n.n5z(e)))(i||e)}}(),e.\u0275prov=n.Yz7({token:e,factory:e.\u0275fac}),e})(),ki=(()=>{class e extends Li{}return e.\u0275fac=function(){let t;return function(i){return(t||(t=n.n5z(e)))(i||e)}}(),e.\u0275prov=n.Yz7({token:e,factory:e.\u0275fac}),e})(),Bi=(()=>{class e extends Ri{constructor(e,t,i,s,r){super(),this.boxDateFormatRepository=e,this.boxTypePeriodModesRepository=t,this.boxTypeRepository=i,this.boxRequestSpecificationRepository=s,this.archivedBoxesLoadModeRepository=r}selectDateFormat(e=d.J.default()){return this.boxDateFormatRepository.select(e)}selectBoxTypes(e=d.J.default()){return this.boxTypeRepository.select(e)}selectLoadModeForArchivedBoxes(e=d.J.default()){return this.archivedBoxesLoadModeRepository.select(e)}getBoxTypes(e=d.J.default()){return this.boxTypeRepository.get(e)}getDateFormat(e=d.J.default()){return this.boxDateFormatRepository.get(e)}getPeriodModes(e=d.J.default()){return this.boxTypePeriodModesRepository.get(e)}getRequestSpecification(e=d.J.default()){return this.boxRequestSpecificationRepository.get(e)}getLoadModeForArchivedBoxes(e=d.J.default()){return this.archivedBoxesLoadModeRepository.get(e)}}return e.\u0275fac=function(t){return new(t||e)(n.LFG(Mi),n.LFG(Ui),n.LFG(Fi),n.LFG(ki),n.LFG(Oi))},e.\u0275prov=n.Yz7({token:e,factory:e.\u0275fac}),e})();var Vi=i(97369),Gi=i(45944);let Pi=(()=>{class e extends Li{}return e.\u0275fac=function(){let t;return function(i){return(t||(t=n.n5z(e)))(i||e)}}(),e.\u0275prov=n.Yz7({token:e,factory:e.\u0275fac}),e})(),Yi=(()=>{class e extends Li{}return e.\u0275fac=function(){let t;return function(i){return(t||(t=n.n5z(e)))(i||e)}}(),e.\u0275prov=n.Yz7({token:e,factory:e.\u0275fac}),e})(),Zi=(()=>{class e extends Li{}return e.\u0275fac=function(){let t;return function(i){return(t||(t=n.n5z(e)))(i||e)}}(),e.\u0275prov=n.Yz7({token:e,factory:e.\u0275fac}),e})(),zi=(()=>{class e extends Li{}return e.\u0275fac=function(){let t;return function(i){return(t||(t=n.n5z(e)))(i||e)}}(),e.\u0275prov=n.Yz7({token:e,factory:e.\u0275fac}),e})();var Ji=i(82934);class Hi extends Ji._{compare(e,t){return!(!e||!t)&&e.equals(t)}getMap(){return this.map}}var qi=i(63491),Qi=i(6812);let $i=(()=>{class e extends Hi{select(e){const t=this.has(e)?this.get(e):null;return(0,qi.T)((0,Qi.of)(t),super.select(e))}}return e.\u0275fac=function(){let t;return function(i){return(t||(t=n.n5z(e)))(i||e)}}(),e.\u0275prov=n.Yz7({token:e,factory:e.\u0275fac}),e})(),ji=(()=>{class e extends Hi{}return e.\u0275fac=function(){let t;return function(i){return(t||(t=n.n5z(e)))(i||e)}}(),e.\u0275prov=n.Yz7({token:e,factory:e.\u0275fac}),e})();class Wi extends class{findNode(e,t){return t?this.getNodeId(t).equals(e)?t:t.findNode(this.criterionById(e)):null}findNodes(e,t){if(!t)return[];const i=[];return e.find(e=>e.equals(this.getNodeId(t)))&&i.push(t),i.push(...t.findNodes(this.criterionByIds(e))),i}criterionById(e){return t=>null!==t.getData()&&this.getNodeId(t).equals(e)}criterionByIds(e){return t=>null!==t.getData()&&!!e.find(e=>this.getNodeId(t).equals(e))}}{getNodeId(e){return e.getData().getId()}}var Ki=i(68387);let Xi=(()=>{class e extends Li{constructor(){super(...arguments),this.boxNodeFinder=new Wi}selectBox(e,t){return this.select(e).pipe((0,Ki.U)(e=>this.boxNodeFinder.findNode(t,e)))}getNode(e,t){return this.boxNodeFinder.findNode(t,this.get(e))}getNodes(e,t){return this.boxNodeFinder.findNodes(t,this.get(e))}}return e.\u0275fac=function(){let t;return function(i){return(t||(t=n.n5z(e)))(i||e)}}(),e.\u0275prov=n.Yz7({token:e,factory:e.\u0275fac}),e})(),es=(()=>{class e extends Hi{select(e){const t=this.has(e)?this.get(e):null;return(0,qi.T)((0,Qi.of)(t),super.select(e))}}return e.\u0275fac=function(){let t;return function(i){return(t||(t=n.n5z(e)))(i||e)}}(),e.\u0275prov=n.Yz7({token:e,factory:e.\u0275fac}),e})(),ts=(()=>{class e extends Li{}return e.\u0275fac=function(){let t;return function(i){return(t||(t=n.n5z(e)))(i||e)}}(),e.\u0275prov=n.Yz7({token:e,factory:e.\u0275fac}),e})();var is=i(91126),ss=i(70802),rs=i(30159),ns=i(59365),os=i(26164),as=i(25088),ls=i(85148);class ds{constructor(e,t,i){this.id=e,this.boxType=t,this.attributes=i}getId(){return this.id}getBoxType(){return this.boxType}getAttributes(){return this.attributes}getFieldCollection(){return this.attributes.getFieldCollection()}getName(){return this.getFieldCollection().getDataValue(os.Z.fromString(Vi.K.NAME))}getStatus(){return ls.N[this.getFieldCollection().getDataValue(os.Z.fromString(Vi.K.STATUS)).value]}getStartDate(){return this.attributes.getStartDate()}getEndDate(){return this.attributes.getEndDate()}getDataTypeStartDate(){return this.getFieldCollection().getDataValue(os.Z.fromString(Vi.K.START_DATE))}getDataTypeEndDate(){return this.getFieldCollection().getDataValue(os.Z.fromString(Vi.K.END_DATE))}getDescription(){return this.getFieldCollection().getDataValue(os.Z.fromString(Vi.K.DESCRIPTION))}isFavourite(){return this.attributes.isFavourite()}isAvailable(){return this.attributes.isAvailable()}isArchived(){return this.attributes.isArchived()}getIcon(){return this.getFieldCollection().getDataValue(os.Z.fromString(Vi.K.ICON))}getLeader(){return this.getFieldCollection().getDataValue(os.Z.fromString(Vi.K.LEADER))}getModules(){return this.attributes.getModules()}getModule(e){return this.attributes.getModule(e)}getSecurity(){return this.attributes.getSecurity()}getMinStartDate(){return this.attributes.getMinStartDate()}getMaxEndDate(){return this.attributes.getMaxEndDate()}getSequentialityId(){return this.boxType.getSequentialityId()}}let cs=(()=>{class e{fromQueryNode(e){if(!e||!e.getData())return null;const t=e.getData();return new ds(t.getId(),t.getBoxType(),t.getAttributes())}fromQueryNodes(e){return e.map(e=>this.fromQueryNode(e))}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=n.Yz7({token:e,factory:e.\u0275fac}),e})(),ps=(()=>{class e extends _i.T{constructor(e,t,i,s,r,n,o,a,l,d){super(),this.boxHierarchyRepository=e,this.boxQueryConverter=t,this.addedBoxRepository=i,this.duplicatedBoxRepository=s,this.contextBoxRepository=r,this.deletedBoxRepository=n,this.updatedBoxesRepository=o,this.filterSettingsRepository=a,this.sortingOptionsRepository=l,this.filterExceptionsRepository=d}selectRootBoxWithHierarchy(e,t=d.J.default()){return this.selectBoxWithHierarchy(c.A.ROOT_ID,e,t)}selectRootChildBoxesWithHierarchy(e,t=d.J.default()){return this.selectRootBoxWithHierarchy(e,t).pipe((0,Ki.U)(e=>e?e.getChildren():null))}selectRootBox(e,t=d.J.default()){return this.selectRootBoxWithHierarchy(e,t).pipe((0,Ki.U)(e=>this.boxQueryConverter.fromQueryNode(e)))}selectRootChildBoxes(e,t=d.J.default()){return this.selectRootChildBoxesWithHierarchy(e,t).pipe((0,Ki.U)(e=>this.boxQueryConverter.fromQueryNodes(e)))}selectContextBoxWithHierarchy(e,t=d.J.default()){return this.selectContextBoxId(t).pipe((0,ss.w)(i=>this.selectBoxWithHierarchy(i,e,t)))}selectContextBox(e,t=d.J.default()){return this.selectContextBoxId(t).pipe((0,ss.w)(i=>this.selectBox(i,e,t)))}selectContextBoxId(e=d.J.default()){return this.contextBoxRepository.select(e).pipe((0,rs.x)((e,t)=>e.equals(t)))}selectBoxWithHierarchy(e,t,i=d.J.default()){return(0,is.aj)([this.selectFilterSettings(t),this.selectSortingSettings(t)]).pipe((0,ss.w)(([s,r])=>this.boxHierarchyRepository.selectBox(i,e).pipe((0,Ki.U)(e=>this.resolveNodeFilter(s,e,t)),(0,Ki.U)(e=>this.resolveNodeSort(r,e)))))}selectBox(e,t,i=d.J.default()){return this.selectBoxWithHierarchy(e,t,i).pipe((0,Ki.U)(e=>this.boxQueryConverter.fromQueryNode(e)))}selectUpdatedBoxes(e=d.J.default()){return this.updatedBoxesRepository.select(e).pipe((0,Ki.U)(t=>this.getBoxesById(t,e)))}selectAddedBox(e=d.J.default()){return this.addedBoxRepository.select(e).pipe((0,Ki.U)(t=>this.getBoxById(t,e)))}selectDuplicatedBox(e=d.J.default()){return this.duplicatedBoxRepository.select(e).pipe((0,Ki.U)(t=>this.getBoxById(t,e)))}selectDeletedBoxId(e=d.J.default()){return this.deletedBoxRepository.select(e)}getContextBox(e=d.J.default()){return this.boxQueryConverter.fromQueryNode(this.getContextBoxWithHierarchy(e))}getContextBoxWithHierarchy(e=d.J.default()){return this.boxHierarchyRepository.getNode(e,this.getContextBoxId(e))}getContextBoxId(e=d.J.default()){return this.contextBoxRepository.get(e)||c.A.ROOT_ID}getContextBoxOverallPeriod(e=d.J.default()){const t=this.getContextBox(e);return new ut.I(ut.I.convertToDate(t.getMinStartDate()),ut.I.convertToDate(t.getMaxEndDate()))}getAddedBox(e=d.J.default()){return this.getBoxById(this.addedBoxRepository.get(e),e)}getDuplicatedBox(e=d.J.default()){return this.getBoxById(this.duplicatedBoxRepository.get(e),e)}getBoxById(e,t=d.J.default()){return this.boxQueryConverter.fromQueryNode(this.boxHierarchyRepository.getNode(t,e))}getBoxesById(e,t){return this.boxQueryConverter.fromQueryNodes(this.boxHierarchyRepository.getNodes(t,e))}getBoxWithHierarchyById(e,t=d.J.default()){return this.boxHierarchyRepository.getNode(t,e)}getBoxesWithHierarchyByIds(e,t=d.J.default()){return this.boxHierarchyRepository.getNodes(t,e)}getUpdatedBoxes(e=d.J.default()){return this.getBoxesById(this.updatedBoxesRepository.get(e)||[],e)}findNodes(e,t){return(new Wi).findNodes(e,t)}areFiltersActive(e){return!!this.filterSettingsRepository.get(e)}selectFilterSettings(e){return this.filterSettingsRepository.select(e)}selectSortingSettings(e){return this.sortingOptionsRepository.select(e)}resolveNodeFilter(e,t,i){return e?t.filter(e,this.filterExceptionsRepository.get(i)):t}resolveNodeSort(e,t){if(!e||!t)return t;const{field:i,order:s}=e,r=ns.O.getComparator(i.getDataType().dataTypeType),n=ns.O.getComparator(as.U.DATE_TIME);return t.sort((e,t)=>{const o=r.compare(e.getData().getFieldCollection().getDataValue(i.getFieldId()),t.getData().getFieldCollection().getDataValue(i.getFieldId())),a=s===Gi.A.ASCENDING?o:-o,l=n.compare(e.getData().getFieldCollection().getDataValue(os.Z.fromString(Vi.K.START_DATE)),t.getData().getFieldCollection().getDataValue(os.Z.fromString(Vi.K.START_DATE)));return 0===a?l:a})}}return e.\u0275fac=function(t){return new(t||e)(n.LFG(Xi),n.LFG(cs),n.LFG(Pi),n.LFG(zi),n.LFG(Yi),n.LFG(Zi),n.LFG(ts),n.LFG($i),n.LFG(es),n.LFG(ji))},e.\u0275prov=n.Yz7({token:e,factory:e.\u0275fac}),e})();var us=i(94619);let hs=(()=>{class e extends us.b{constructor(e){super(st.type),this.boxAggregateRepository=e}execute(e){const t=e.changedBoxes;this.boxAggregateRepository.use(e.command,e=>{e.updateBoxes(t.boxesToModify)})}}return e.\u0275fac=function(t){return new(t||e)(n.LFG(Ve))},e.\u0275prov=n.Yz7({token:e,factory:e.\u0275fac}),e})(),gs=(()=>{class e extends us.b{constructor(e){super(h.t.type),this.addedBoxRepository=e}execute(e){this.addedBoxRepository.set(e.getAggregateId(),e.addedBoxId)}}return e.\u0275fac=function(t){return new(t||e)(n.LFG(Pi))},e.\u0275prov=n.Yz7({token:e,factory:e.\u0275fac}),e})();var fs=i(35398);class ms extends fs.h{isRoot(){return this.id===ms.ROOT_TYPE_ID.id}}ms.ROOT_TYPE_ID=new ms("1");var Ts=i(63128);class Es{constructor(e,t,i,s,r,n,o,a,l,d){this.favourite=e,this.modules=t,this.available=i,this.security=s,this.fieldCollection=r,this.startDate=n,this.endDate=o,this.minStartDate=a,this.maxEndDate=l,this.archived=d}isFavourite(){return this.favourite}isAvailable(){return this.available}isArchived(){return this.archived}getFieldCollection(){return this.fieldCollection}getStartDate(){return this.startDate}getEndDate(){return this.endDate}getMinStartDate(){return this.minStartDate}getMaxEndDate(){return this.maxEndDate}getModules(){return this.modules}getModule(e){return Ts.z.findByType(this.modules,e)}getSecurity(){return this.security}}let vs=(()=>{class e{fromEntityNode(e,t,i){if(!e||!e.getData())return null;const s=t.get(e.getData()),r=e.getChildren(),n=this.fromEntityNodes(r,t,i),o=new ei.N(this.toQuery(s,i),n,e.isExpanded());o.setId(e.getId());const a=e.getParent();if(a&&a.getData()){const e=t.get(a.getData());o.setParent(new ei.N(this.toQuery(e,i)))}return o}fromEntityNodes(e,t,i){return e.map(e=>this.fromEntityNode(e,t,i))}toQuery(e,t){const{boxTypeId:i}=e.getFieldCollection().getDataValue(os.Z.fromString(Vi.K.TYPE));return new ds(e.getId(),this.getBoxType(new ms(i),t),class{static convert(e){return new Es(e.isFavourite(),e.getModules(),e.isAvailable(),e.getSecurity(),e.getFieldCollection(),e.getStartDate(),e.getEndDate(),e.getMinStartDate(),e.getMaxEndDate(),e.isArchived())}}.convert(e))}getBoxType(e,t){return e?t.find(t=>t.getId().equals(e)):null}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=n.Yz7({token:e,factory:e.\u0275fac}),e})();class Is extends class{constructor(e,t){this.getCurrentValue=e,this.updateValue=t}}{set(e,t){const i=e.toString(),s=[...this.getCurrentValue()],r=s.indexOf(i),n=-1!==r;t&&!n?s.push(i):!t&&n&&s.splice(r,1),this.updateValue(s)}expandAll(e){this.updateValue(e.map(e=>e.toString()))}collapseAll(){this.updateValue([])}get(e){return-1!==this.getCurrentValue().indexOf(e.toString())}}class ys{constructor(){this.expandStorage=this.initSubStorage(Is,"idsOfExpandedBoxes"),this.cachedSettings=null}initSubStorage(e,t){return new e(()=>this.retrieveValue(t),e=>this.updateValue(t,e))}retrieveValue(e){return this.retrieveCachedSettings()[e]}updateValue(e,t){this.updateCachedSettings(Object.assign(Object.assign({},this.retrieveCachedSettings()),{[e]:t}))}retrieveCachedSettings(){return this.cachedSettings||(this.cachedSettings=this.retrieveCurrentSettings()),this.cachedSettings}updateCachedSettings(e){this.cachedSettings=e,this.updateSettings(this.cachedSettings)}}let Cs=(()=>{class e extends us.b{constructor(e){super(se.P.type),this.boxCoreSettingsStorage=e}execute(e){this.boxCoreSettingsStorage.expandStorage.collapseAll()}}return e.\u0275fac=function(t){return new(t||e)(n.LFG(ys))},e.\u0275prov=n.Yz7({token:e,factory:e.\u0275fac}),e})(),xs=(()=>{class e extends us.b{constructor(e){super(re.q.type),this.boxCoreSettingsStorage=e}execute(e){this.boxCoreSettingsStorage.expandStorage.set(e.boxId,!1)}}return e.\u0275fac=function(t){return new(t||e)(n.LFG(ys))},e.\u0275prov=n.Yz7({token:e,factory:e.\u0275fac}),e})(),Ds=(()=>{class e extends us.b{constructor(e){super(Vt.type),this.activeBoxRepository=e}execute(e){this.activeBoxRepository.set(e.getAggregateId(),e.boxId)}}return e.\u0275fac=function(t){return new(t||e)(n.LFG(Yi))},e.\u0275prov=n.Yz7({token:e,factory:e.\u0275fac}),e})(),bs=(()=>{class e extends us.b{constructor(e){super(F.type),this.deletedBoxRepository=e}execute(e){this.deletedBoxRepository.set(e.getAggregateId(),e.boxId)}}return e.\u0275fac=function(t){return new(t||e)(n.LFG(Zi))},e.\u0275prov=n.Yz7({token:e,factory:e.\u0275fac}),e})(),ws=(()=>{class e extends us.b{constructor(e){super(V.type),this.duplicatedBoxRepository=e}execute(e){this.duplicatedBoxRepository.set(e.getAggregateId(),e.boxId)}}return e.\u0275fac=function(t){return new(t||e)(n.LFG(zi))},e.\u0275prov=n.Yz7({token:e,factory:e.\u0275fac}),e})(),Ss=(()=>{class e extends us.b{constructor(e){super(ce.type),this.boxCoreSettingsStorage=e}execute(e){this.boxCoreSettingsStorage.expandStorage.expandAll(e.expandedBoxIds)}}return e.\u0275fac=function(t){return new(t||e)(n.LFG(ys))},e.\u0275prov=n.Yz7({token:e,factory:e.\u0275fac}),e})(),As=(()=>{class e extends us.b{constructor(e){super(he.type),this.boxCoreSettingsStorage=e}execute(e){this.boxCoreSettingsStorage.expandStorage.set(e.boxId,!0)}}return e.\u0275fac=function(t){return new(t||e)(n.LFG(ys))},e.\u0275prov=n.Yz7({token:e,factory:e.\u0275fac}),e})();class Rs{constructor(){this.listOfIdsException=[]}addId(e){this.listOfIdsException.push(e)}clear(){this.listOfIdsException=[]}has(e){return this.listOfIdsException.some(t=>t===e)}}let _s=(()=>{class e extends us.b{constructor(e){super(ve.type),this.repository=e}execute(e){this.repository.getMap().forEach((t,i)=>{t||new Rs,e.exceptionsList.forEach(e=>{t.has(e.toString())||t.addId(e.toString())}),this.repository.set(i,t)})}}return e.\u0275fac=function(t){return new(t||e)(n.LFG(ji))},e.\u0275prov=n.Yz7({token:e,factory:e.\u0275fac}),e})(),Ns=(()=>{class e extends us.b{constructor(e){super(lt.type),this.repository=e}execute(e){const t=e.hierarchyObserverId,i=this.repository.get(t)||new Rs;i.clear(),this.repository.set(t,i)}}return e.\u0275fac=function(t){return new(t||e)(n.LFG(ji))},e.\u0275prov=n.Yz7({token:e,factory:e.\u0275fac}),e})();const Ls=new n.OlP("BOX_FILER_FACTORY_TOKEN");class Os{constructor(e,t){this.startDate=e,this.endDate=t}static validateStartDate(e,t){return Os.isBeforeOrEqual(Os.resetTime(e),t)}static validateEndDate(e,t){return Os.isAfterOrEqual(Os.resetTime(e),t)}static resetTime(e){const t=ht.l.convertDateToString(e);return new Date(t)}static isBeforeOrEqual(e,t){return e.getTime()<=t.getTime()}static isAfterOrEqual(e,t){return e.getTime()>=t.getTime()}match(e){const t=ut.I.convertToDate(e.getData().getStartDate()),i=ut.I.convertToDate(e.getData().getEndDate());return this.startDate&&this.endDate?Os.validateStartDate(this.startDate,i)&&Os.validateEndDate(this.endDate,t):this.startDate?Os.validateStartDate(this.startDate,i):!!this.endDate&&Os.validateEndDate(this.endDate,t)}}var Fs=i(14429);let Ms=(()=>{class e{create(e){const t=e.getStartDate(),i=e.getEndDate();return t||i?Fs.bq.of(new Os(t,i)):Fs.bq.empty()}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=n.Yz7({token:e,factory:e.\u0275fac}),e})();class Us{constructor(e){this.statuses=e}match(e){const t=e.getData().getStatus();return this.statuses.some(e=>e===t)}}let ks=(()=>{class e{create(e){const t=e.getStatuses();return t&&t.length?Fs.bq.of(new Us(t)):Fs.bq.empty()}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=n.Yz7({token:e,factory:e.\u0275fac}),e})();class Bs{constructor(e){this.text=this.prepareTextToMatch(e)}match(e){return this.isNameMatch(e)||this.isIdMatch(e)||this.isDescriptionMatch(e)}isNameMatch(e){const t=e.getData().getName().value;return t&&this.prepareTextToMatch(t).includes(this.text)}isIdMatch(e){const t=e.getData().getId();return t&&this.prepareTextToMatch(t.toString()).includes(this.text)}isDescriptionMatch(e){const t=e.getData().getDescription().value;return t&&this.prepareTextToMatch(t).includes(this.text)}prepareTextToMatch(e){return e.toLowerCase().replace(/\s/g,"")}}let Vs=(()=>{class e{create(e){const t=e.getText();return t?Fs.bq.of(new Bs(t)):Fs.bq.empty()}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=n.Yz7({token:e,factory:e.\u0275fac}),e})();class Gs{constructor(e){this.boxTypeIds=e}match(e){const t=e.getData().getBoxType().getId();return this.boxTypeIds.some(e=>e.equals(t))}}let Ps=(()=>{class e{create(e){const t=e.getBoxTypeIds();return t&&t.length?Fs.bq.of(new Gs(t)):Fs.bq.empty()}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=n.Yz7({token:e,factory:e.\u0275fac}),e})();class Ys{constructor(e=!0){this.childrenInheritFavouriteFromParents=e}static recuGetParentFavourite(e){let t=e;for(;t;){const e=t.getData().isFavourite();if(e)return e;t=t.getParent()}return!1}match(e){return!!e.getData().isFavourite()||!!this.childrenInheritFavouriteFromParents&&Ys.recuGetParentFavourite(e)}}let Zs=(()=>{class e{create(e){return e.areFavouriteBoxes()?Fs.bq.of(new Ys(e.getFavouriteBoxesFilterOptions().childrenInheritFavouriteFromParents)):Fs.bq.empty()}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=n.Yz7({token:e,factory:e.\u0275fac}),e})();class zs{constructor(e){this.userKey=zs.prepareTextToMatch(e.userKey)}static recuGetParentLeader(e){let t=e;for(;t;){const e=t.getData().getLeader();if(e)return e;t=t.getParent()}return null}static prepareTextToMatch(e){return e.trim().toLowerCase()}match(e){const t=e.getData().getLeader();return this.matchLeader(t||zs.recuGetParentLeader(e))}matchLeader(e){return!!e&&zs.prepareTextToMatch(e.id)===this.userKey}}let Js=(()=>{class e{constructor(e){this.environmentService=e}create(e){return e.areOnlyMyBoxes()?Fs.bq.of(new zs(this.environmentService.getLoggedInUser())):Fs.bq.empty()}}return e.\u0275fac=function(t){return new(t||e)(n.LFG(Se.L))},e.\u0275prov=n.Yz7({token:e,factory:e.\u0275fac}),e})();class Hs{constructor(){this.filters=[]}add(e){this.filters.push(e)}clear(){this.filters=[]}isEmpty(){return 0===this.filters.length}match(e){for(let t=0;t<this.filters.length;t++)if(!this.filters[t].match(e))return!1;return!0}}class qs{constructor(e,t=!0){this.filterChain=e,this.deepFilter=t}}let Qs=(()=>{class e extends us.b{constructor(e,t){super(at.m.type),this.repository=e,this.filterFactories=t}execute(e){const t=new Hs,i=e.filterSettings;if(this.filterFactories.forEach(e=>{e.create(i.options).ifPresent(e=>t.add(e))}),t.isEmpty())return void this.repository.set(e.hierarchyObserverId,null);const s=new qs(t,i.deepFilter);this.repository.set(e.hierarchyObserverId,s)}}return e.\u0275fac=function(t){return new(t||e)(n.LFG($i),n.LFG(Ls))},e.\u0275prov=n.Yz7({token:e,factory:e.\u0275fac}),e})(),$s=(()=>{class e extends us.b{constructor(e,t,i){super(Jt.type),this.boxQueryNodeConverter=e,this.boxHierarchyRepository=t,this.boxAggregateRepository=i}execute(e){const t=this.boxAggregateRepository.getById(e.getAggregateId()),i=e.getAggregateId(),s=this.boxQueryNodeConverter.fromEntityNode(e.root,e.boxEntityMap,t.getBoxTypes());this.boxHierarchyRepository.set(i,s)}}return e.\u0275fac=function(t){return new(t||e)(n.LFG(vs),n.LFG(Xi),n.LFG(Ve))},e.\u0275prov=n.Yz7({token:e,factory:e.\u0275fac}),e})(),js=(()=>{class e extends us.b{constructor(e){super(vt.X.type),this.repository=e}execute(e){this.repository.set(e.hierarchyObserverId,e.sortingOptions)}}return e.\u0275fac=function(t){return new(t||e)(n.LFG(es))},e.\u0275prov=n.Yz7({token:e,factory:e.\u0275fac}),e})(),Ws=(()=>{class e extends us.b{constructor(e){super(v.W.type),this.updatedBoxesRepository=e}execute(e){this.updatedBoxesRepository.set(e.getAggregateId(),e.updatedBoxes)}}return e.\u0275fac=function(t){return new(t||e)(n.LFG(ts))},e.\u0275prov=n.Yz7({token:e,factory:e.\u0275fac}),e})(),Ks=(()=>{class e extends us.b{constructor(e){super(ii.type),this.boxTypesRepository=e}execute(e){this.boxTypesRepository.set(e.getAggregateId(),e.boxTypes)}}return e.\u0275fac=function(t){return new(t||e)(n.LFG(Fi))},e.\u0275prov=n.Yz7({token:e,factory:e.\u0275fac}),e})(),Xs=(()=>{class e extends us.b{constructor(e){super(ri.type),this.boxDateFormatRepository=e}execute(e){this.boxDateFormatRepository.set(e.getAggregateId(),e.dateFormat)}}return e.\u0275fac=function(t){return new(t||e)(n.LFG(Mi))},e.\u0275prov=n.Yz7({token:e,factory:e.\u0275fac}),e})(),er=(()=>{class e extends us.b{constructor(e){super(oi.type),this.boxTypePeriodModesRepository=e}execute(e){this.boxTypePeriodModesRepository.set(e.getAggregateId(),e.periodModes)}}return e.\u0275fac=function(t){return new(t||e)(n.LFG(Ui))},e.\u0275prov=n.Yz7({token:e,factory:e.\u0275fac}),e})(),tr=(()=>{class e extends us.b{constructor(e){super(li.type),this.boxRequestSpecificationRepository=e}execute(e){this.boxRequestSpecificationRepository.set(e.getAggregateId(),e.requestSpecification)}}return e.\u0275fac=function(t){return new(t||e)(n.LFG(ki))},e.\u0275prov=n.Yz7({token:e,factory:e.\u0275fac}),e})();var ir=i(37779);let sr=(()=>{class e extends us.b{constructor(e){super(At.type),this.archivedBoxesLoadModeRepository=e}execute(e){this.archivedBoxesLoadModeRepository.set(e.getAggregateId(),e.loadMode)}}return e.\u0275fac=function(t){return new(t||e)(n.LFG(Oi))},e.\u0275prov=n.Yz7({token:e,factory:e.\u0275fac}),e})();const rr=[{provide:_i.T,useClass:ps},{provide:wi.R,useClass:Ai},{provide:Ri,useClass:Bi},Pi,(0,ir.u)(Ws),(0,ir.u)(gs),(0,ir.u)(ws),(0,ir.u)(Ds),(0,ir.u)(bs),(0,ir.u)(Ks),(0,ir.u)(Xs),(0,ir.u)(sr),(0,ir.u)(er),(0,ir.u)(hs),(0,ir.u)($s),(0,ir.u)(Qs),(0,ir.u)(js),(0,ir.u)(_s),(0,ir.u)(Ns),(0,ir.u)(As),(0,ir.u)(Ss),(0,ir.u)(xs),(0,ir.u)(Cs),(0,ir.u)(tr),nr(Ms),nr(ks),nr(Vs),nr(Ps),nr(Zs),nr(Js),ts,cs,zi,Zi,Yi,Fi,Mi,Oi,Ui,Xi,vs,$i,es,ji,ki];function nr(e){return{provide:Ls,useClass:e,multi:!0}}var or=i(69587);let ar=(()=>{class e{toDomain(e){return e?new Ts.z(or._[e.moduleType],e.isActive,e.moduleName,e.isDefault,e.iconId):null}toDomainArray(e){return e?e.map(e=>this.toDomain(e)):[]}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=n.Yz7({token:e,factory:e.\u0275fac}),e})();class lr{constructor(e,t,i,s,r){this.moduleType=e,this.isActive=t,this.moduleName=i,this.iconId=s,this.isDefault=r}}let dr=(()=>{class e{toModuleRequestArray(e){return e?e.map(e=>new lr(or._[e.getType()],e.isActive(),e.getName(),e.getIcon(),e.isDefault())):[]}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=n.Yz7({token:e,factory:e.\u0275fac}),e})();const cr=[dr,ar];var pr=i(29690),ur=i(5566);class hr{constructor(e){this.extendedColoredIconClass=e,this.DTO_SEPARATOR="@"}toString(e){return`${e.iconId}${this.DTO_SEPARATOR}${e.color.colorName}`}toDomain(e){const t=e.split(this.DTO_SEPARATOR),i=t[0];if(!i)throw new gr("Cannot retrieve icon id");const s=t[1];if(!s)throw new gr("Cannot retrieve icon color");return new this.extendedColoredIconClass(i,ur.I.getRequestedColorOrDefault(s,ur.B.BLUE))}}class gr extends Error{constructor(e){super(e),this.name=gr.name}}let fr=(()=>{class e extends hr{constructor(){super(pr.O)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=n.Yz7({token:e,factory:e.\u0275fac}),e})();var mr=i(73096);let Tr=(()=>{class e extends hr{constructor(){super(mr.D)}toStringFrom(e){const t=new mr.D(e.getIconId(),e.getColor());return this.toString(t)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=n.Yz7({token:e,factory:e.\u0275fac}),e})();var Er=i(29979),vr=i(7090);let Ir=(()=>{class e extends Er.a{constructor(e,t){super(e),this.environmentService=t,this.OVERVIEW_MODULE_END_POINT="ppm/box/overview-module"}loadBoxAggregate(e,t){return(0,Ci.D)([this.post(`boxes/${t}`,e),this.loadBoxTypeHierarchy(t)])}loadBoxTypeHierarchy(e){return this.get(`box-types/${e.toString()}`)}markAsFavourite(e,t){return this.handlePutResponse("mark-favourite",t,e)}unmarkFavourite(e,t){return this.handlePutResponse("unmark-favourite",t,e)}resize(e,t){return this.handlePutResponse("resize",t,e)}move(e,t){return this.post(`boxes/${e.toString()}/move`,t).pipe((0,Ki.U)(e=>e.updatedBoxes))}changeStatus(e,t){return this.handlePutResponse("change-status",t,e)}add(e,t){return this.post(`boxes/${e}/addBox`,t)}addMatchingBox(e,t){return this.post(`boxes/catalogKey/${e}/addBox`,t)}fetchExtCatalogName(e){return this.get(`boxes/catalogKey/${e}/catalogName`)}duplicate(e,t){return this.post(`boxes/${e}/duplicateBox`,t)}edit(e,t){return this.handlePutResponse("update",t,e)}deleteBox(e,t){return this.put(`boxes/${e}/delete`,t)}archive(e,t){return this.put(`boxes/${e}/archive`,t)}restore(e,t){return this.put(`boxes/${e}/restore`,t)}changeBoxesParent(e){return this.put("boxes/changeParent",e)}syncBoxes(e){return this.post("boxes/sync",e)}fetchAggregations(e){return this.get(`boxes/aggregations/${e}`).pipe((0,Ki.U)(e=>e.boxesAggregations))}extTaskCatalogBased(e){return this.get(`boxes/${e.toString()}/extTaskCatalogBased`)}checkPermissionToCreateMatchingBox(e){return this.get(`boxes/catalogKey/${e}/checkPermissionToCreateMatchingBox`).pipe((0,Ki.U)(e=>e.hasPermissionToCreateMatchingBox))}updateModules(e,t){return this.put(`boxes/${e}/updateModules`,t).pipe((0,Ki.U)(e=>e.updatedBoxes))}getRestUrl(e){return`${this.environmentService.getRestBaseUrl()}${this.OVERVIEW_MODULE_END_POINT}/${e}`}handlePutResponse(e,t,i){return this.put(i?`boxes/${i}/${e}`:`boxes/${e}`,t).pipe((0,Ki.U)(e=>e.updatedBoxes))}}return e.\u0275fac=function(t){return new(t||e)(n.LFG(vr.O),n.LFG(Se.L))},e.\u0275prov=n.Yz7({token:e,factory:e.\u0275fac}),e})();class yr{constructor(e,t,i,s,r,n){this.boxTypeId=e,this.name=t,this.startDate=i,this.endDate=s,this.iconId=r,this.responseSpecification=n}}var Cr=(()=>(function(e){e[e.BOX_AND_DESCENDANTS=0]="BOX_AND_DESCENDANTS",e[e.BOX_AND_CHILDREN=1]="BOX_AND_CHILDREN"}(Cr||(Cr={})),Cr))();class xr{constructor(e,t,i,s,r){this.boxLoadMode=e,this.filteringOptions=t,this.sortingOptions=i,this.firstBoxId=s,this.archivedBoxesLoadMode=r}}var Dr=(()=>(function(e){e[e.NAME=0]="NAME",e[e.ID=1]="ID",e[e.TYPE=2]="TYPE",e[e.STATUS=3]="STATUS",e[e.START_DATE=4]="START_DATE",e[e.END_DATE=5]="END_DATE",e[e.LEADER_NAME=6]="LEADER_NAME"}(Dr||(Dr={})),Dr))();class br{constructor(e,t){this.sortAttribute=e,this.sortOrder=t}}let wr=(()=>{class e{toRequest(e){var t,i;const s=null!==(i=null===(t=e.getExtCatalogKey())||void 0===t?void 0:t.toString())&&void 0!==i?i:void 0;return e.getExtTaskId().map(e=>({extTaskId:e.getId(),extTaskType:e.getType(),extPlatformId:e.getPlatformId(),catalogKey:s})).orElseGet(()=>({catalogKey:s}))}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=n.Yz7({token:e,factory:e.\u0275fac}),e})(),Sr=(()=>{class e{constructor(e){this.filteringOptionsRequestConverter=e}toRequest(e,t=c.A.ROOT_ID){var i;const s=Cr[Cr.BOX_AND_DESCENDANTS],r=this.filteringOptionsRequestConverter.toRequest(e),n=class{static toRequest(){return new br(Dr[Dr.NAME],Gi.A[Gi.A.ASCENDING])}}.toRequest();return new xr(s,r,n,null!==(i=null==t?void 0:t.toString())&&void 0!==i?i:void 0,e.getArchivedBoxesLoadMode())}}return e.\u0275fac=function(t){return new(t||e)(n.LFG(wr))},e.\u0275prov=n.Yz7({token:e,factory:e.\u0275fac}),e})();var Ar=i(54738);let Rr=(()=>{class e{constructor(e,t){this.requestSpecificationConverter=e,this.boxTypeIconConverter=t}toRequest(e,t){return new yr(e.getBoxTypeId(),e.getName(),Ar.p.simpleDateFromUTCDate(e.getStartDate()),Ar.p.simpleDateFromUTCDate(e.getEndDate()),this.boxTypeIconConverter.toString(e.getIcon()),this.requestSpecificationConverter.toRequest(t))}}return e.\u0275fac=function(t){return new(t||e)(n.LFG(Sr),n.LFG(fr))},e.\u0275prov=n.Yz7({token:e,factory:e.\u0275fac}),e})();class _r{constructor(e,t){this.boxTypeId=e,this.responseSpecification=t}}let Nr=(()=>{class e{constructor(e){this.requestSpecificationConverter=e}toRequest(e,t){return new _r(e.toString(),this.requestSpecificationConverter.toRequest(t))}}return e.\u0275fac=function(t){return new(t||e)(n.LFG(Sr))},e.\u0275prov=n.Yz7({token:e,factory:e.\u0275fac}),e})();class Lr{constructor(e,t,i){this.boxIdsToChange=e,this.newParent=t,this.responseSpecification=i}}let Or=(()=>{class e{constructor(e){this.requestSpecificationConverter=e}toRequest(e,t){const i=e.boxIds.map(e=>e.toString());return new Lr(i,e.newParentId.toString(),this.requestSpecificationConverter.toRequest(t))}}return e.\u0275fac=function(t){return new(t||e)(n.LFG(Sr))},e.\u0275prov=n.Yz7({token:e,factory:e.\u0275fac}),e})();class Fr{constructor(e,t){this.newStatus=e,this.responseSpecification=t}}let Mr=(()=>{class e{constructor(e){this.requestSpecificationConverter=e}toRequest(e,t){return new Fr(ls.N[e],this.requestSpecificationConverter.toRequest(t))}}return e.\u0275fac=function(t){return new(t||e)(n.LFG(Sr))},e.\u0275prov=n.Yz7({token:e,factory:e.\u0275fac}),e})();class Ur{constructor(e,t,i,s,r){this.name=e,this.startDate=t,this.endDate=i,this.iconId=s,this.responseSpecification=r}}let kr=(()=>{class e{constructor(e,t){this.requestSpecificationConverter=e,this.iconConverter=t}toRequest(e,t){return new Ur(e.getName(),Ar.p.simpleDateFromUTCDate(e.getStartDate()),Ar.p.simpleDateFromUTCDate(e.getEndDate()),this.iconConverter.toString(e.getIcon()),this.requestSpecificationConverter.toRequest(t))}}return e.\u0275fac=function(t){return new(t||e)(n.LFG(Sr),n.LFG(fr))},e.\u0275prov=n.Yz7({token:e,factory:e.\u0275fac}),e})();class Br{constructor(e,t,i,s,r,n,o){this.name=e,this.iconId=t,this.leaderId=i,this.description=s,this.startDate=r,this.endDate=n,this.responseSpecification=o}}let Vr=(()=>{class e{constructor(e,t){this.responseSpecificationConverter=e,this.boxIconConverter=t}toRequest(e,t){const i=this.boxIconConverter.toString(e.getIcon());return new Br(e.getName(),i,e.getLeaderId(),e.getDescription(),Ar.p.simpleDateFromUTCDate(e.getStartDate()),Ar.p.simpleDateFromUTCDate(e.getEndDate()),this.responseSpecificationConverter.toRequest(t))}}return e.\u0275fac=function(t){return new(t||e)(n.LFG(Sr),n.LFG(fr))},e.\u0275prov=n.Yz7({token:e,factory:e.\u0275fac}),e})();class Gr{constructor(e,t){this.dayCount=e,this.responseSpecification=t}}let Pr=(()=>{class e{constructor(e){this.requestSpecificationConverter=e}toRequest(e,t){return new Gr(e,this.requestSpecificationConverter.toRequest(t))}}return e.\u0275fac=function(t){return new(t||e)(n.LFG(Sr))},e.\u0275prov=n.Yz7({token:e,factory:e.\u0275fac}),e})();class Yr{constructor(e,t,i){this.startDate=e,this.endDate=t,this.responseSpecification=i}}let Zr=(()=>{class e{constructor(e){this.requestSpecificationConverter=e}toRequest(e,t){return new Yr(ht.l.convertDateToString(e.getUtcStartDate()),ht.l.convertDateToString(e.getUtcEndDate()),this.requestSpecificationConverter.toRequest(t))}}return e.\u0275fac=function(t){return new(t||e)(n.LFG(Sr))},e.\u0275prov=n.Yz7({token:e,factory:e.\u0275fac}),e})();class zr{constructor(e,t,i){this.hash=e,this.time=t,this.catalogKey=i}}let Jr=(()=>{class e{toRequest(e,t){const i=t.getExtCatalogKey()?t.getExtCatalogKey().toString():void 0;return new zr(e.hash,e.time,i)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=n.Yz7({token:e,factory:e.\u0275fac}),e})();class Hr{constructor(e,t){this.responseSpecification=e,this.modules=t}}let qr=(()=>{class e{constructor(e,t){this.boxModuleRequestConverter=e,this.requestSpecificationConverter=t}toRequest(e,t){return new Hr(this.requestSpecificationConverter.toRequest(t),this.boxModuleRequestConverter.toModuleRequestArray(e))}}return e.\u0275fac=function(t){return new(t||e)(n.LFG(dr),n.LFG(Sr))},e.\u0275prov=n.Yz7({token:e,factory:e.\u0275fac}),e})();class Qr{constructor(e,t,i,s){this.root=e,this.boxNodeMap=t,this.boxEntityMap=i,this.addedBox=s}}var $r=i(31125);class jr{constructor(e,t,i,s,r,n,o,a,l,d,c){this.id=e,this.favourite=t,this.modules=i,this.available=s,this.security=r,this.fieldCollection=n,this.startDate=o,this.endDate=a,this.minStartDate=l,this.maxEndDate=d,this.archived=c}getFieldCollection(){return this.fieldCollection}isFavourite(){return this.favourite}isAvailable(){return this.available}isArchived(){return this.archived}getId(){return this.id}getStartDate(){return this.startDate}getEndDate(){return this.endDate}getMinStartDate(){return this.minStartDate}getMaxEndDate(){return this.maxEndDate}getModules(){return this.modules}getSecurity(){return this.security}}var Wr=i(28060);class Kr{constructor(e,t,i){this.id=e,this.active=t,this.data=i}getId(){return this.id}isActive(){return this.active}getData(){return this.data}}let Xr=(()=>{class e extends fs.h{getExtPlatformId(){return+this.splitId()[0]}getExtUserKey(){return this.splitId()[1]}splitId(){return this.id.split(e.separator)}}return e.separator="@",e})(),en=(()=>{class e{toDomain(e){return e?new Kr(new Xr(e.id),e.isActive,e.data):null}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=n.Yz7({token:e,factory:e.\u0275fac}),e})();class tn{constructor(e,t,i,s){this.isBoxAdmin=e,this.isBoxEditor=t,this.isBoxViewer=i,this.isChildBoxCreator=s}}let sn=(()=>{class e{toDomain(e){return new tn(e.isBoxAdmin,e.isBoxEditor,e.isBoxViewer,e.isChildBoxCreator)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=n.Yz7({token:e,factory:e.\u0275fac}),e})(),rn=(()=>{class e{constructor(e,t,i,s){this.boxIconConverter=e,this.moduleResponseConverter=t,this.extUserResponseConverter=i,this.boxSecurityResponseConverter=s}fromResponse(e){if(!e)return null;const t=Wr.i.of(e.fields),i=new c.A(t.getDataValue(os.Z.fromString(Vi.K.ID)).key);return new jr(i,e.isFavourite,this.moduleResponseConverter.toDomainArray(e.modules),e.matchingFilter,this.boxSecurityResponseConverter.toDomain(e.security),t,e.startDate,e.endDate,e.minStartDate,e.maxEndDate,e.isArchived)}fromResponses(e){return e?e.map(e=>this.fromResponse(e)):[]}}return e.\u0275fac=function(t){return new(t||e)(n.LFG(fr),n.LFG(ar),n.LFG(en),n.LFG(sn))},e.\u0275prov=n.Yz7({token:e,factory:e.\u0275fac}),e})(),nn=(()=>{class e{constructor(e,t){this.boxCoreSettingsStorage=e,this.boxEntityConverter=t}buildRoot(e,t){if(!e)return null;const i=this.createNode(e,null,t);return i.expand(),this.buildChildren(e.children?e.children:[],i,t),i}buildChildren(e,t,i){e.forEach(e=>{const s=e.children||[],r=this.createNode(e,t,i);s.length>0&&this.buildChildren(s,r,i)})}createNode(e,t,i){const s=this.boxEntityConverter.fromResponse(e),r=s.getId(),n=new ei.N(r);return s&&n.setId(r.toString()),null!==t&&t.addChild(n),n.setExpanded(this.isExpanded(r)),i&&i(n,s),n}isExpanded(e){return!!e&&this.boxCoreSettingsStorage.expandStorage.get(e)}}return e.\u0275fac=function(t){return new(t||e)(n.LFG(ys),n.LFG(rn))},e.\u0275prov=n.Yz7({token:e,factory:e.\u0275fac}),e})(),on=(()=>{class e{constructor(e,t){this.boxAggregateEntityFactory=e,this.boxEntityConverter=t}toResponse(e){const t=new $r.x,i=new $r.x,s=this.boxAggregateEntityFactory.buildRoot(e.updatedBoxes[0],(e,s)=>{const r=e.getData();t.set(r,s),i.set(r,e)});return new Qr(s,i,t,this.boxEntityConverter.fromResponse(e.addedBox))}}return e.\u0275fac=function(t){return new(t||e)(n.LFG(nn),n.LFG(rn))},e.\u0275prov=n.Yz7({token:e,factory:e.\u0275fac}),e})();class an extends $r.x{}let ln=(()=>{class e{convert(e){const t=new an;return e&&Object.keys(e).forEach(i=>{const s=e[i].aggregations;t.set(new c.A(i),Wr.i.of(s))}),t}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=n.Yz7({token:e,factory:e.\u0275fac}),e})();class dn{constructor(e,t){this.dateFormat=e,this.dateTimeFormat=t}getDateFormatToUpperCase(){return this.dateFormat.toUpperCase()}getDateFormat(){return this.dateFormat}getDateTimeFormat(){return this.dateTimeFormat}}class cn{constructor(e,t,i,s,r,n,o){this.root=e,this.boxNodeMap=t,this.boxEntityMap=i,this.synchronizationStamp=s,this.types=r,this.dateFormat=n,this.periodModes=o}}var pn=i(50433),un=i(42288);class hn{constructor(e,t,i,s,r,n,o,a,l,d,c,p,u,h,g){this.id=e,this.prefix=t,this.name=i,this.modules=s,this.description=r,this.icon=n,this.periodModeId=o,this.available=a,this.archived=l,this.editableBoxAttributes=d,this.childTypeIds=c,this.readMoreURL=p,this.scopeType=u,this.inUse=h,this.sequentialityId=g}getChildTypeIds(){return this.childTypeIds}getEditableBoxAttributes(){return this.editableBoxAttributes}getIcon(){return this.icon}getModules(){return this.modules}getDescription(){return this.description}getPeriodModeId(){return this.periodModeId}getPrefix(){return this.prefix}getReadMoreUrl(){return this.readMoreURL}getScopeType(){return this.scopeType}getSequentialityId(){return this.sequentialityId}isArchived(){return this.archived}isAvailable(){return this.available}isInUse(){return this.inUse}getId(){return this.id}getName(){return this.name}isNoneBoxScopeType(){return this.scopeType.equals(un.C.NONE)}}let gn=(()=>{class e{constructor(e,t){this.moduleResponseConverter=e,this.iconConverter=t}toDomain(e){return new hn(new ms(e.boxTypeId),new pn.hf(e.boxIdPrefix),e.name,this.moduleResponseConverter.toDomainArray(e.modules),e.description,this.iconConverter.toDomain(e.iconId),new pn.c9(e.periodModeId),e.available,e.archived,e.editableBoxAttributes,e.childTypes.map(e=>new ms(e)),e.readMoreURL,pn.C3.of(e.scopeType),e.inUse,new pn.pN(e.sequentialityId))}toDomainArray(e){return e.map(e=>this.toDomain(e))}}return e.\u0275fac=function(t){return new(t||e)(n.LFG(ar),n.LFG(Tr))},e.\u0275prov=n.Yz7({token:e,factory:e.\u0275fac}),e})(),fn=(()=>{class e{toPeriod(e,t){const i=new ut.I;return this.isValidDate(e)&&i.setStartDate(new Date(e)),this.isValidDate(t)&&i.setEndDate(new Date(t)),i}isValidDate(e){if(!e)return!1;if(!e.match(/^\d{4}-\d{2}-\d{2}$/))return!1;const t=new Date(e).getTime();return!(!t&&0!==t)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=n.Yz7({token:e,factory:e.\u0275fac}),e})();class mn{constructor(e,t,i){this.id=e,this.name=t,this.description=i}getId(){return this.id}getName(){return this.name}getDescription(){return this.description}}var Tn=i(20993);let En=(()=>{class e{toDomain(e){return e?new mn(new Tn.c(e.id),e.name,e.description):null}toDomainArray(e){return e?e.map(e=>this.toDomain(e)):[]}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=n.Yz7({token:e,factory:e.\u0275fac}),e})(),vn=(()=>{class e{constructor(e,t,i,s){this.boxAggregateEntityFactory=e,this.boxPeriodConverter=t,this.periodModeResponseConverter=i,this.boxTypeResponseConverter=s}toDomain(e,t){const i=new $r.x,s=new $r.x,r=this.boxAggregateEntityFactory.buildRoot(e.boxHierarchy.box,(e,t)=>{const r=e.getData();i.set(r,t),s.set(r,e)}),n=e.boxHierarchy.syncStamp,o=new dn(e.dateFormat.dateFormat,e.dateFormat.dateTimeFormat),a=this.boxTypeResponseConverter.toDomainArray(t.boxTypes),l=this.periodModeResponseConverter.toDomainArray(t.periodModes);return new cn(r,s,i,n,a,o,l)}}return e.\u0275fac=function(t){return new(t||e)(n.LFG(nn),n.LFG(fn),n.LFG(En),n.LFG(gn))},e.\u0275prov=n.Yz7({token:e,factory:e.\u0275fac}),e})();class In{constructor(e,t){this.parentBoxId=e,this.entity=t}}let yn=(()=>{class e{constructor(e){this.boxEntityConverter=e}toChangedBoxes(e){return e.map(e=>new In(new c.A(e.parentId),this.boxEntityConverter.fromResponse(e)))}}return e.\u0275fac=function(t){return new(t||e)(n.LFG(rn))},e.\u0275prov=n.Yz7({token:e,factory:e.\u0275fac}),e})();class Cn{constructor(e){this.boxesToModify=e}}let xn=(()=>{class e{constructor(e){this.boxEntityConverter=e}toChangedBoxes(e){return new Cn(this.boxEntityConverter.fromResponses(e))}}return e.\u0275fac=function(t){return new(t||e)(n.LFG(rn))},e.\u0275prov=n.Yz7({token:e,factory:e.\u0275fac}),e})();class Dn{constructor(e,t,i){this.entity=e,this.childIds=t,this.parentId=i}}class bn{constructor(e,t){this.modifiedBoxes=e,this.synchronizationStamp=t}}let wn=(()=>{class e{constructor(e){this.boxEntityConverter=e}toChanges(e){const t=e.modifiedBoxes.map(e=>{const t=e.parentId;return new Dn(this.boxEntityConverter.fromResponse(e),e.children.map(e=>new c.A(e)),t?new c.A(t):void 0)});return new bn(t,e.stamp)}}return e.\u0275fac=function(t){return new(t||e)(n.LFG(rn))},e.\u0275prov=n.Yz7({token:e,factory:e.\u0275fac}),e})();class Sn{constructor(e,t){this.addedBox=e,this.boxesToUpdate=t}}class An{constructor(e,t){this.updatedBoxes=e,this.affectedBoxes=t}}class Rn{constructor(e){this.boxesToUpdate=e}}class _n{constructor(e,t){this.duplicatedBox=e,this.boxesToUpdate=t}}class Nn{constructor(e,t){this.boxTypes=e,this.periodModes=t}}class Ln{constructor(e){this.responseSpecification=e}}class On{constructor(e,t,i,s){this.extPlatformId=e,this.extTaskCatalogKey=t,this.matchingBox=i,this.isUserExtCatalogAdmin=s}getExtPlatformId(){return this.extPlatformId}getExtTaskCatalogKey(){return this.extTaskCatalogKey}isMatchingBox(){return this.matchingBox}isExtCatalogAdmin(){return this.isUserExtCatalogAdmin}}let Fn=(()=>{class e{fromResponse(e){return new On(+e.extPlatformId,e.extTaskCatalogKey,e.matchingBox,e.isUserExtCatalogAdmin)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=n.Yz7({token:e,factory:e.\u0275fac}),e})();const Mn=[vn,Ir,en,fn,En,xn,yn,wn,Rr,Nr,kr,Vr,Fn,sn,fr,wr,Sr,Zr,Pr,Mr,Or,Jr,qr,Tr,ln,on,gn,...cr,{provide:Ge,useClass:(()=>{class e extends Ge{constructor(e,t,i,s,r,n,o,a,l,d,c,p,u,h,g,f,m,T,E,v,I,y){super(),this.httpBoxResource=e,this.boxAggregateResponseConverter=t,this.boxTypeResponseConverter=i,this.periodModeResponseConverter=s,this.changedBoxesResponseConverter=r,this.requestSpecificationConverter=n,this.resizeBoxRequestConverter=o,this.moveBoxRequestConverter=a,this.changeBoxStatusRequestConverter=l,this.editBoxRequestConverter=d,this.updateBoxModulesRestRequestConverter=c,this.addBoxRequestConverter=p,this.boxEntityConverter=u,this.addMatchingBoxRequestConverter=h,this.addMatchingBoxChangesResponseConverter=g,this.duplicateBoxRequestConverter=f,this.changeParentOfBoxesRequestConverter=m,this.changedBoxesParentResponseConverter=T,this.boxSyncRestRequestConverter=E,this.syncBoxesResponseConverter=v,this.fetchBoxAggregationResponseConverter=I,this.taskCatalogBasedConverter=y}loadBoxAggregate(e,t){const i=this.requestSpecificationConverter.toRequest(e,null);return this.httpBoxResource.loadBoxAggregate(i,t.toString()).pipe((0,Ki.U)(([e,t])=>this.boxAggregateResponseConverter.toDomain(e,t)))}loadBoxTypeHierarchy(e){return this.httpBoxResource.loadBoxTypeHierarchy(e.toString()).pipe((0,Ki.U)(e=>new Nn(this.boxTypeResponseConverter.toDomainArray(e.boxTypes),this.periodModeResponseConverter.toDomainArray(e.periodModes))))}markBoxAsFavourite(e,t){const i=this.requestSpecificationConverter.toRequest(t);return this.handleChangedBoxesResponse(this.httpBoxResource.markAsFavourite(e.toString(),i))}unmarkBoxFavourite(e,t){const i=this.requestSpecificationConverter.toRequest(t);return this.handleChangedBoxesResponse(this.httpBoxResource.unmarkFavourite(e.toString(),i))}resize(e,t,i){const s=this.resizeBoxRequestConverter.toRequest(t,i);return this.handleChangedBoxesResponse(this.httpBoxResource.resize(e.toString(),s))}move(e,t,i){const s=this.moveBoxRequestConverter.toRequest(t,i);return this.handleChangedBoxesResponse(this.httpBoxResource.move(e.toString(),s))}changeStatus(e,t,i){const s=this.changeBoxStatusRequestConverter.toRequest(t,i);return this.handleChangedBoxesResponse(this.httpBoxResource.changeStatus(e.toString(),s))}add(e,t){const i=this.addBoxRequestConverter.toRequest(e,t);return this.httpBoxResource.add(e.getParentBoxId().toString(),i).pipe((0,Ki.U)(e=>new Sn(this.boxEntityConverter.fromResponse(e.addedBox),this.boxEntityConverter.fromResponses(e.updatedBoxes))))}addMatchingBox(e,t){const i=this.addMatchingBoxRequestConverter.toRequest(e,t),s=t.getExtCatalogKey();return this.httpBoxResource.addMatchingBox(s.toString(),i).pipe((0,Ki.U)(e=>this.addMatchingBoxChangesResponseConverter.toResponse(e)))}fetchExtCatalogName(e){return this.httpBoxResource.fetchExtCatalogName(e.toString()).pipe((0,Ki.U)(e=>e.catalogName))}duplicate(e,t){const i=this.duplicateBoxRequestConverter.toRequest(e,t);return this.httpBoxResource.duplicate(e.getId().toString(),i).pipe((0,Ki.U)(e=>new _n(this.boxEntityConverter.fromResponse(e.duplicatedBox),this.boxEntityConverter.fromResponses(e.updatedBoxes))))}edit(e,t){const i=this.editBoxRequestConverter.toRequest(e,t);return this.handleChangedBoxesResponse(this.httpBoxResource.edit(e.getId().toString(),i))}delete(e,t){const i=new Ln(this.requestSpecificationConverter.toRequest(t));return this.httpBoxResource.deleteBox(e.toString(),i).pipe((0,Ki.U)(e=>new Rn(this.boxEntityConverter.fromResponses(e.updatedBoxes))))}archive(e,t){const i=this.requestSpecificationConverter.toRequest(t);return this.httpBoxResource.archive(e.toString(),i).pipe((0,Ki.U)(e=>new Cn(this.boxEntityConverter.fromResponses(e.updatedBoxes))))}restore(e,t){const i=this.requestSpecificationConverter.toRequest(t);return this.httpBoxResource.restore(e.toString(),i).pipe((0,Ki.U)(e=>new Cn(this.boxEntityConverter.fromResponses(e.updatedBoxes))))}changeBoxesParent(e,t){const i=this.changeParentOfBoxesRequestConverter.toRequest(e,t);return this.httpBoxResource.changeBoxesParent(i).pipe((0,Ki.U)(e=>new An(this.changedBoxesParentResponseConverter.toChangedBoxes(e.updatedBoxes),this.boxEntityConverter.fromResponses(e.affectedBoxes))))}sync(e,t){const i=this.boxSyncRestRequestConverter.toRequest(e,t);return this.httpBoxResource.syncBoxes(i).pipe((0,Ki.U)(e=>this.syncBoxesResponseConverter.toChanges(e)))}extTaskCatalogBased(e){return this.httpBoxResource.extTaskCatalogBased(e).pipe((0,Ki.U)(e=>this.taskCatalogBasedConverter.fromResponse(e)))}checkPermissionToCreateMatchingBox(e){return this.httpBoxResource.checkPermissionToCreateMatchingBox(e.toString())}updateModules(e,t,i){const s=this.updateBoxModulesRestRequestConverter.toRequest(t,i);return this.handleChangedBoxesResponse(this.httpBoxResource.updateModules(e.toString(),s))}fetchAggregations(e){return this.httpBoxResource.fetchAggregations(e.toString()).pipe((0,Ki.U)(e=>this.fetchBoxAggregationResponseConverter.convert(e)))}handleChangedBoxesResponse(e){return e.pipe((0,Ki.U)(e=>this.changedBoxesResponseConverter.toChangedBoxes(e)))}}return e.\u0275fac=function(t){return new(t||e)(n.LFG(Ir),n.LFG(vn),n.LFG(gn),n.LFG(En),n.LFG(xn),n.LFG(Sr),n.LFG(Zr),n.LFG(Pr),n.LFG(Mr),n.LFG(Vr),n.LFG(qr),n.LFG(Rr),n.LFG(rn),n.LFG(Nr),n.LFG(on),n.LFG(kr),n.LFG(Or),n.LFG(yn),n.LFG(Jr),n.LFG(wn),n.LFG(ln),n.LFG(Fn))},e.\u0275prov=n.Yz7({token:e,factory:e.\u0275fac}),e})()}],Un=[...bi,...rr,Be,ke,Ve,nn,rn,...Mn];var kn=i(81106);let Bn=(()=>{class e extends ys{constructor(e,t){super(),this.environmentService=e,this.localStorage=t;const i=this.environmentService.getLoggedInUser().userKey;this.key=`sp-box-core-settings-of-${i}`}retrieveCurrentSettings(){return this.localStorage.getObject(this.key)||{idsOfExpandedBoxes:[]}}updateSettings(e){return this.localStorage.setObject(this.key,e)}}return e.\u0275fac=function(t){return new(t||e)(n.LFG(Se.L),n.LFG(kn.m))},e.\u0275prov=n.Yz7({token:e,factory:e.\u0275fac}),e})();var Vn=i(52911),Gn=i(23658),Pn=i(35382);const Yn=[Vn.h,Ke,{provide:ys,useClass:Bn},o,(()=>{class e{constructor(e){this.boxSecurityResolver=e}determineUnavailabilityReason(e){return this.boxSecurityResolver.canEdit(e.getSecurity())?this.boxSecurityResolver.isBoxClosed(e)?"SPT_BOX_CORE_CLOSED_BOX_TOOLTIP":null:"SPT_BOX_CORE_NO_PERMISSION_TO_BOX_TOOLTIP"}}return e.\u0275fac=function(t){return new(t||e)(n.LFG(Vn.h))},e.\u0275prov=n.Yz7({token:e,factory:e.\u0275fac}),e})()];let Zn=(()=>{class e{static forRoot(){return{ngModule:e,providers:[...Yn,...Un]}}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=n.oAB({type:e}),e.\u0275inj=n.cJS({imports:[[s.ez,Pn.Qr.withConfig({loggers:!1}),Gn.gF.forStyle(i.e(939).then(i.bind(i,47939)))]]}),e})()},53738:(e,t,i)=>{"use strict";i.d(t,{D:()=>n,E:()=>o});var s=i(94846),r=i(52667);const n=new s.OlP("DATA_TYPES");function o(e){return{provide:n,useFactory:t=>{const i=new e;return function(e,t,i){i&&e.register(t,i)}(t,e,i),i},deps:[r.v],multi:!0}}},61917:(e,t,i)=>{"use strict";i.d(t,{e:()=>ne});var s=i(64894),r=i(25088),n=i(74477);class o extends s.G{constructor(e){super(),this.attachments=e,this.dataTypeId=r.U.ATTACHMENTS}static of(e){return e&&new o(e.attachments.map(e=>a.of(e)))}clone(){return Object.freeze(o.of(n.l.deepClone(this)))}isEmpty(){var e;return!(null===(e=this.attachments)||void 0===e?void 0:e.length)}}class a{constructor(e,t,i,s){this.id=e,this.name=t,this.mimeType=i,this.url=s}static of(e){return e&&new a(e.id,e.name,e.mimeType,e.url)}}class l extends s.G{constructor(e){super(),this.value=e,this.dataTypeId=r.U.BUILTIN_COLOR}static of(e){return e&&new l(e.value)}isEmpty(){return!n.l.isDefined(this.value)}clone(){return Object.freeze(l.of(n.l.deepClone(this)))}}class d extends s.G{constructor(e,t,i){super(),this.boxTypeId=e,this.name=t,this.color=i,this.dataTypeId=r.U.BOX_TYPE_VALUE}static of(e){return e&&new d(e.boxTypeId,e.name,l.of(e.color))}clone(){return Object.freeze(d.of(n.l.deepClone(this)))}isEmpty(){var e,t;return!(null===(e=this.name)||void 0===e?void 0:e.length)&&(null===(t=this.color)||void 0===t?void 0:t.isEmpty())}}class c extends s.G{constructor(e,t){super(),this.icon=e,this.builtinColor=t,this.dataTypeId=r.U.BUILTIN_ICON}static of(e){return e&&new c(e.icon,l.of(e.builtinColor))}clone(){return Object.freeze(c.of(n.l.deepClone(this)))}isEmpty(){var e,t;return!(null===(e=this.icon)||void 0===e?void 0:e.length)&&(null===(t=this.builtinColor)||void 0===t?void 0:t.isEmpty())}}class p extends s.G{constructor(e){super(),this.value=e,this.dataTypeId=r.U.DATE}static of(e){return e&&new p(e.value)}copy(){return new p(this.value)}clone(){return Object.freeze(p.of(n.l.deepClone(this)))}isEmpty(){var e;return!this.value||!(null===(e=this.value)||void 0===e?void 0:e.length)}}class u extends s.G{constructor(e,t,i){super(),this.original=e,this.value=t,this.dateValue=i,this.dataTypeId=r.U.DATE_TIME}static of(e){return e&&new u(e.original,e.value,e.dateValue)}clone(){return Object.freeze(u.of(n.l.deepClone(this)))}isEmpty(){var e,t;return!this.original&&!(null===(e=this.value)||void 0===e?void 0:e.length)&&!(null===(t=this.dateValue)||void 0===t?void 0:t.length)}}var h=i(18321);class g extends s.G{constructor(e,t,i){super(),this.original=e,this.value=t,this.dateValue=i,this.dataTypeId=r.U.DUE_DATE}static of(e){return e&&new g(e.original,e.value,e.dateValue)}clone(){return Object.freeze(g.of(n.l.deepClone(this)))}isEmpty(){var e,t;return!n.l.isDefined(this.original)&&!(null===(e=this.value)||void 0===e?void 0:e.length)&&!(null===(t=this.dateValue)||void 0===t?void 0:t.length)}}class f extends s.G{constructor(e){super(),this.key=e}static of(e){return e&&new f(e.key)}clone(){return Object.freeze(f.of(n.l.deepClone(this)))}isEmpty(){var e;return!(null===(e=this.key)||void 0===e?void 0:e.length)}}var m=i(95225);class T extends s.G{constructor(e,t,i,s,n,o){super(),this.link=e,this.color=t,this.name=i,this.status=s,this.url=n,this.hexColor=o,this.dataTypeId=r.U.EPIC}static of(e){return e&&new T(e.link,e.color,e.name,e.status,e.url,m.a.of(e.hexColor))}clone(){return Object.freeze(T.of(n.l.deepClone(this)))}isEmpty(){var e,t,i,s,r;return!(null===(e=this.link)||void 0===e?void 0:e.length)&&!(null===(t=this.color)||void 0===t?void 0:t.length)&&!(null===(i=this.name)||void 0===i?void 0:i.length)&&(null===(s=this.status)||void 0===s?void 0:s.length)&&!(null===(r=this.url)||void 0===r?void 0:r.length)&&this.hexColor.isEmpty()}}class E extends s.G{constructor(e,t,i,s,n){super(),this.estimateFormattedPretty=e,this.estimateFormattedHours=t,this.estimateFormattedDecimalHours=i,this.numberOfDays=s,this.estimate=n,this.dataTypeId=r.U.ESTIMATION}static of(e){return e&&new E(e.estimateFormattedPretty,e.estimateFormattedHours,e.estimateFormattedDecimalHours,e.numberOfDays,e.estimate)}copy(){return new E(this.estimateFormattedPretty,this.estimateFormattedHours,this.estimateFormattedDecimalHours,this.numberOfDays,this.estimate)}clone(){return Object.freeze(E.of(n.l.deepClone(this)))}isEmpty(){var e,t,i;return!((null===(e=this.estimateFormattedPretty)||void 0===e?void 0:e.length)||(null===(t=this.estimateFormattedHours)||void 0===t?void 0:t.length)||(null===(i=this.estimateFormattedDecimalHours)||void 0===i?void 0:i.length)||n.l.isDefined(this.numberOfDays)||n.l.isDefined(this.numberOfDays))}}class v extends s.G{constructor(e,t,i){super(),this.leftColor=e,this.middleColor=t,this.rightColor=i,this.dataTypeId=r.U.EXTRA_TRAFFIC_LIGHT}static of(e){return e&&new v(e.leftColor,e.middleColor,e.rightColor)}clone(){return Object.freeze(v.of(n.l.deepClone(this)))}isEmpty(){var e,t,i;return!(null===(e=this.leftColor)||void 0===e?void 0:e.length)&&!(null===(t=this.middleColor)||void 0===t?void 0:t.length)&&!(null===(i=this.rightColor)||void 0===i?void 0:i.length)}}class I extends s.G{constructor(e,t){super(),this.iconUrl=e,this.description=t,this.dataTypeId=r.U.ICON}static of(e){return e&&new I(e.iconUrl,e.description)}clone(){return Object.freeze(I.of(n.l.deepClone(this)))}isEmpty(){var e,t;return!(null===(e=this.iconUrl)||void 0===e?void 0:e.length)&&!(null===(t=this.description)||void 0===t?void 0:t.length)}}class y extends s.G{constructor(e,t,i,s,n,o){super(),this.id=e,this.name=t,this.description=i,this.iconUrl=s,this.sequence=n,this.subTask=o,this.dataTypeId=r.U.ISSUE_TYPE}static of(e){return e&&new y(e.id,e.name,e.description,e.iconUrl,e.sequence,e.subTask)}clone(){return Object.freeze(y.of(n.l.deepClone(this)))}isEmpty(){var e,t,i,s;return!((null===(e=this.id)||void 0===e?void 0:e.length)||(null===(t=this.name)||void 0===t?void 0:t.length)||(null===(i=this.description)||void 0===i?void 0:i.length)||(null===(s=this.iconUrl)||void 0===s?void 0:s.length)||n.l.isDefined(this.sequence)||n.l.isDefined(this.subTask))}}class C extends s.G{constructor(e,t){super(),this.value=e,this.url=t,this.dataTypeId=r.U.KEY}static of(e){return e&&new C(e.value,e.url)}clone(){return Object.freeze(C.of(n.l.deepClone(this)))}isEmpty(){var e,t;return!(null===(e=this.value)||void 0===e?void 0:e.length)&&!(null===(t=this.url)||void 0===t?void 0:t.length)}}class x extends s.G{constructor(e){super(),this.labels=e,this.dataTypeId=r.U.LABELS}static of(e){return e&&new x(e.labels.map(e=>D.of(e)))}clone(){return Object.freeze(x.of(n.l.deepClone(this)))}slice(){return 0===this.labels.length?[this]:this.labels.map(e=>new x([e]))}isEmpty(){return!n.l.isDefined(this.labels)||!this.labels.length}getLength(){return n.l.isDefined(this.labels)&&this.labels.length}}class D{constructor(e,t,i){this.name=e,this.url=t,this.hexColor=i}static of(e){return e&&new D(e.name,e.url,m.a.of(e.hexColor))}}class b extends s.G{constructor(e){super(),this.value=e,this.dataTypeId=r.U.LINK}static of(e){return e&&new b(e.value)}clone(){return Object.freeze(b.of(n.l.deepClone(this)))}isEmpty(){var e;return!(null===(e=this.value)||void 0===e?void 0:e.length)}}class w extends s.G{constructor(e){super(),this.value=e,this.dataTypeId=r.U.MILESTONE}static of(e){return e&&new w(e.value)}clone(){return Object.freeze(w.of(n.l.deepClone(this)))}isEmpty(){var e;return!(null===(e=this.value)||void 0===e?void 0:e.length)}}class S extends s.G{constructor(e,t,i){super(),this.id=e,this.isActive=t,this.data=i,this.dataTypeId=r.U.USER}static of(e){return e&&new S(e.id,e.isActive,A.of(e.data))}clone(){return Object.freeze(S.of(n.l.deepClone(this)))}isEmpty(){var e;return!(null===(e=this.id)||void 0===e?void 0:e.length)&&!n.l.isDefined(this.isActive)&&!n.l.isDefined(this.data)}}class A{constructor(e,t,i,s,r,n){this.email=e,this.profile_url=t,this.displayName=i,this.avatar_url_small=s,this.avatar_url_normal=r,this.avatar_url_large=n}static of(e){return e&&new A(e.email,e.profile_url,e.displayName,e.avatar_url_small,e.avatar_url_normal,e.avatar_url_large)}}class R extends s.G{constructor(e){super(),this.users=e,this.dataTypeId=r.U.MULTI_USER}static of(e){return e&&new R(e.users.map(e=>S.of(e)))}clone(){return Object.freeze(R.of(n.l.deepClone(this)))}isEmpty(){var e;return!(null===(e=this.users)||void 0===e?void 0:e.length)}}class _ extends s.G{constructor(){super(...arguments),this.dataTypeId=r.U.NONE}static of(e){return e&&new _}clone(){return Object.freeze(_.of(n.l.deepClone(this)))}isEmpty(){return!1}}var N=i(29622);class L extends s.G{constructor(e){super(),this.number=e,this.dataTypeId=r.U.PERCENTAGE}static of(e){return e&&new L(e.number)}clone(){return Object.freeze(L.of(n.l.deepClone(this)))}isEmpty(){return!n.l.isDefined(this.number)}}class O extends s.G{constructor(e,t){super(),this.startDate=e,this.endDate=t,this.dataTypeId=r.U.PERIOD}static of(e){return e&&new O(u.of(e.startDate),u.of(e.endDate))}clone(){return Object.freeze(O.of(n.l.deepClone(this)))}isEmpty(){var e,t;return(null===(e=this.startDate)||void 0===e?void 0:e.isEmpty())&&(null===(t=this.endDate)||void 0===t?void 0:t.isEmpty())}}class F extends s.G{constructor(e){super(),this.value=e,this.dataTypeId=r.U.PERIOD_MODE}static of(e){return e&&new F(e.value)}clone(){return Object.freeze(F.of(n.l.deepClone(this)))}isEmpty(){var e;return!(null===(e=this.value)||void 0===e?void 0:e.length)}}class M extends s.G{constructor(e,t,i){super(),this.iconUrl=e,this.sequence=t,this.name=i,this.dataTypeId=r.U.PRIORITY}static of(e){return e&&new M(e.iconUrl,e.sequence,e.name)}clone(){return Object.freeze(M.of(n.l.deepClone(this)))}isEmpty(){var e,t;return!(null===(e=this.iconUrl)||void 0===e?void 0:e.length)&&!(null===(t=this.name)||void 0===t?void 0:t.length)&&!n.l.isDefined(this.sequence)}}class U extends s.G{constructor(e,t,i,s){super(),this.id=e,this.key=t,this.name=i,this.iconUrl=s,this.dataTypeId=r.U.PROJECT}static of(e){return e&&new U(e.id,e.key,e.name,e.iconUrl)}clone(){return Object.freeze(U.of(n.l.deepClone(this)))}isEmpty(){var e,t,i;return!(n.l.isDefined(this.id)||(null===(e=this.key)||void 0===e?void 0:e.length)||(null===(t=this.name)||void 0===t?void 0:t.length)||(null===(i=this.iconUrl)||void 0===i?void 0:i.length))}}class k extends s.G{constructor(e){super(),this.value=e,this.dataTypeId=r.U.RANK}static of(e){return e&&new k(e.value)}clone(){return Object.freeze(k.of(n.l.deepClone(this)))}isEmpty(){var e;return!(null===(e=this.value)||void 0===e?void 0:e.length)}}class B extends s.G{constructor(e,t,i,s){super(),this.id=e,this.sequence=t,this.value=i,this.disabled=s,this.dataTypeId=r.U.SELECT}static of(e){return e&&new B(e.id,e.sequence,e.value,e.disabled)}clone(){return Object.freeze(B.of(n.l.deepClone(this)))}isEmpty(){var e;return!(n.l.isDefined(this.id)||n.l.isDefined(this.sequence)||n.l.isDefined(this.disabled)||(null===(e=this.value)||void 0===e?void 0:e.length))}}class V extends s.G{constructor(e){super(),this.elements=e,this.dataTypeId=r.U.SIMPLIFIED_HTML}static of(e){return e&&new V(e.elements.map(e=>G.of(e)))}clone(){return Object.freeze(V.of(n.l.deepClone(this)))}isEmpty(){var e;return!(null===(e=this.elements)||void 0===e?void 0:e.length)}}class G{constructor(e,t,i){this.elementType=e,this.text=t,this.url=i}static of(e){return e&&new G(e.elementType,e.text,e.url?e.url:null)}}class P extends s.G{constructor(e){super(),this.skills=e,this.dataTypeId=r.U.SKILLS}static of(e){return e&&new P(e.skills.map(e=>Y.of(e)))}clone(){return Object.freeze(P.of(n.l.deepClone(this)))}slice(){return 0===this.skills.length?[this]:this.skills.map(e=>new P([e]))}isEmpty(){var e;return!(null===(e=this.skills)||void 0===e?void 0:e.length)}}class Y{constructor(e,t,i,s,r){this.code=e,this.color=t,this.iconId=i,this.id=s,this.name=r}static of(e){return e&&new Y(e.code,e.color,e.iconId,e.id,e.name)}}class Z extends s.G{constructor(e,t){super(),this.sprints=e,this.currentSprint=t,this.dataTypeId=r.U.SPRINTS}static of(e){return e&&new Z(e.sprints.map(e=>z.of(e)),z.of(e.currentSprint))}clone(){return Object.freeze(Z.of(n.l.deepClone(this)))}isEmpty(){var e;return!(null===(e=this.sprints)||void 0===e?void 0:e.length)&&!n.l.isDefined(this.currentSprint)}}class z{constructor(e,t,i){this.id=e,this.name=t,this.status=i}static of(e){return e&&new z(e.id,e.name,e.status)}}var J=i(99504);class H extends s.G{constructor(e){super(),this.value=e,this.dataTypeId=r.U.STRING}static of(e){return e&&new H(e.value)}copy(){return new H(this.value)}getLength(){var e;return null===(e=this.value)||void 0===e?void 0:e.length}isEmpty(){var e;return!(null===(e=this.value)||void 0===e?void 0:e.length)}clone(){return Object.freeze(H.of(n.l.deepClone(this)))}}class q extends h.Li{constructor(){super(...arguments),this.dataTypeId=r.U.SUBTASK_STATUS_CATEGORIES}static of(e){return e&&new q(e.leaf,e.percentage,e.distrb.map(e=>h.vf.of(e)))}clone(){return Object.freeze(q.of(n.l.deepClone(this)))}}class Q extends h.Li{constructor(){super(...arguments),this.dataTypeId=r.U.SUBTASK_STATUS_CATEGORIES_PERCENTAGE}static of(e){return e&&new Q(e.leaf,e.percentage,e.distrb.map(e=>h.vf.of(e)))}clone(){return Object.freeze(Q.of(n.l.deepClone(this)))}}class $ extends h.Li{constructor(){super(...arguments),this.dataTypeId=r.U.SUBTASK_STATUSES}static of(e){return e&&new $(e.leaf,e.percentage,e.distrb.map(e=>h.vf.of(e)))}clone(){return Object.freeze($.of(n.l.deepClone(this)))}}class j extends h.Li{constructor(){super(...arguments),this.dataTypeId=r.U.SUBTASK_STATUSES_PERCENTAGE}static of(e){return e&&new j(e.leaf,e.percentage,e.distrb.map(e=>h.vf.of(e)))}clone(){return Object.freeze(j.of(n.l.deepClone(this)))}}var W=i(63504),K=i(96053);class X extends s.G{constructor(e){super(),this.summary=e,this.dataTypeId=r.U.SUMMARY}static of(e){return e&&new X(e.summary)}copy(){return new X(this.summary)}getLength(){var e;return null===(e=this.summary)||void 0===e?void 0:e.length}isEmpty(){var e;return!(null===(e=this.summary)||void 0===e?void 0:e.length)}clone(){return Object.freeze(X.of(n.l.deepClone(this)))}}class ee extends s.G{constructor(e,t,i,s){super(),this.originalFormatted=e,this.remainingFormatted=t,this.loggedFormatted=i,this.percentage=s,this.dataTypeId=r.U.TIMETRACKING}static of(e){return e&&new ee(e.originalFormatted,e.remainingFormatted,e.loggedFormatted,e.percentage)}clone(){return Object.freeze(ee.of(n.l.deepClone(this)))}isEmpty(){var e,t,i;return!((null===(e=this.originalFormatted)||void 0===e?void 0:e.length)||(null===(t=this.remainingFormatted)||void 0===t?void 0:t.length)||(null===(i=this.loggedFormatted)||void 0===i?void 0:i.length)||n.l.isDefined(this.percentage))}}class te extends s.G{constructor(e){super(),this.links=e,this.dataTypeId=r.U.URL_LINKS}static of(e){return e&&new te(e.links.map(e=>ie.of(e)))}clone(){return Object.freeze(te.of(n.l.deepClone(this)))}isEmpty(){var e;return!(null===(e=this.links)||void 0===e?void 0:e.length)}}class ie{constructor(e,t,i){this.url=e,this.elementType=t,this.text=i}static of(e){return e&&new ie(e.url,e.elementType,e.text)}}var se=i(76791);class re extends h.Li{constructor(){super(...arguments),this.dataTypeId=r.U.TASK_STATUS_CATEGORIES_PERCENTAGE}static of(e){return e&&new re(e.leaf,e.percentage,e.distrb.map(e=>h.vf.of(e)))}clone(){return Object.freeze(re.of(n.l.deepClone(this)))}}class ne{static create(e){if(!e)return null;if(e.distrb&&!this.isDistributionDataTypeId(e.dataTypeId)&&e.dataTypeId!==r.U.VERSION)return h.Li.of(e);switch(e.dataTypeId){case r.U.ATTACHMENTS:return o.of(e);case r.U.BUILTIN_COLOR:return l.of(e);case r.U.DATE:return p.of(e);case r.U.DATE_TIME:return u.of(e);case r.U.DISTRIBUTION:return h.Li.of(e);case r.U.DUE_DATE:return g.of(e);case r.U.ENTITY_KEY:return f.of(e);case r.U.EPIC:return T.of(e);case r.U.ESTIMATION:return E.of(e);case r.U.EXTRA_TRAFFIC_LIGHT:return v.of(e);case r.U.HEX_COLOR:return m.a.of(e);case r.U.ICON:return I.of(e);case r.U.ISSUE_TYPE:return y.of(e);case r.U.KEY:return C.of(e);case r.U.LABELS:return x.of(e);case r.U.LINK:return b.of(e);case r.U.MILESTONE:return w.of(e);case r.U.MULTI_USER:return R.of(e);case r.U.NONE:return new _;case r.U.NUMBER:return N.z.of(e);case r.U.PERCENTAGE:return L.of(e);case r.U.PERIOD:return O.of(e);case r.U.PERIOD_MODE:return F.of(e);case r.U.PRIORITY:return M.of(e);case r.U.PROJECT:return U.of(e);case r.U.RANK:return k.of(e);case r.U.SELECT:return B.of(e);case r.U.SIMPLIFIED_HTML:return V.of(e);case r.U.SKILLS:return P.of(e);case r.U.SPRINTS:return Z.of(e);case r.U.STATUS:return J.R.of(e);case r.U.STRING:return H.of(e);case r.U.SUBTASK_STATUS_CATEGORIES:return q.of(e);case r.U.TASK_STATUS_CATEGORIES_PERCENTAGE:return re.of(e);case r.U.SUBTASK_STATUS_CATEGORIES_PERCENTAGE:return Q.of(e);case r.U.SUBTASK_STATUSES:return $.of(e);case r.U.SUBTASK_STATUSES_PERCENTAGE:return j.of(e);case r.U.SUBTASK_VERSION:return W.e.of(e);case r.U.SUBTASK_VERSION_PERCENTAGE:return K.s.of(e);case r.U.SUMMARY:return X.of(e);case r.U.TIMETRACKING:return ee.of(e);case r.U.URL_LINKS:return te.of(e);case r.U.USER:return S.of(e);case r.U.BUILTIN_ICON:return c.of(e);case r.U.BOX_TYPE_VALUE:return d.of(e);case r.U.VERSION:return e.distrb&&!e.percentage?W.e.of(e):e.distrb&&e.percentage?K.s.of(e):se.R.of(e);default:return e}}static isDistributionDataTypeId(e){return[r.U.DISTRIBUTION,r.U.SUBTASK_STATUSES_PERCENTAGE,r.U.SUBTASK_VERSION,r.U.SUBTASK_VERSION_PERCENTAGE,r.U.SUBTASK_STATUSES,r.U.SUBTASK_STATUS_CATEGORIES_PERCENTAGE,r.U.SUBTASK_STATUS_CATEGORIES,r.U.TASK_STATUS_CATEGORIES_PERCENTAGE].some(t=>e===t)}}},62710:(e,t,i)=>{"use strict";i.d(t,{w:()=>n});var s=i(52667),r=i(94846);let n=(()=>{class e{constructor(e){this.dataTypes=e}filterEntities(e,t){const i=[];return e.forEach(e=>{this.isInFilter(e,t)&&i.push(e)}),i}isInFilter(e,t){const i=e.getDataValue(t.getFieldDefinition().getFieldId()).slice(),s=t.getSelectedDataValues(),r=t.getFieldAttributeFiltersConfigs().filter(e=>this.getFilter(e.uniqueName,t).isApplicable());if(this.isFieldFilterEmpty(t,r))return!0;const n=!(s.length>0)||this.isAnyDataValueMatch(s,i),o=r.every(i=>this.getFilter(i.uniqueName,t).isEntityInFilter(e,t.getFieldDefinition(),i));return n&&o}getDataValuesMatchingSearchFilters(e,t){if(!t)return e;const i=new Map,s=t.getFieldAttributeFiltersConfigs();return e&&s?(e.forEach(e=>{s.every(i=>{const s=this.getFilter(i.uniqueName,t);return!!s&&(!s.isSearch()||s.isDataValueInFilter(e,i))})&&e.slice().forEach(e=>{i.set(e.hashCode(),e)})}),Array.from(i.values())):[]}getFilter(e,t){return this.dataTypes.get(t.getFieldDefinition().getDataType().getDataTypeType()).getFilterByName(e)}getUniqueDataValues(e,t){const i=new Map;for(const s of e){const e=s.getDataValue(t);e&&i.set(e.hashCode(),e)}return Array.from(i.values())}isFieldFilterEmpty(e,t){return 0===e.getSelectedDataValues().length&&0===t.length}isAnyDataValueMatch(e,t){const i=e.reduce((e,t)=>{const i=t.hashCode();return e.set(i,i),e},new Map);return t.some(e=>{const t=e.hashCode();return t===i.get(t)})}}return e.\u0275fac=function(t){return new(t||e)(r.LFG(s.v))},e.\u0275prov=r.Yz7({token:e,factory:e.\u0275fac}),e})()},19683:(e,t,i)=>{"use strict";i.d(t,{r:()=>o});var s=i(63474),r=i(63065),n=i(94846);let o=(()=>{class e{constructor(e){this.domainFieldsRepository=e,this.implementedActions=new Map,this.resolveImplementedFunctions()}summaryCustomAction(e,t){}assigneeCustomAction(e,t){}baselineEndDateCustomAction(e,t){}baselineStartDateCustomAction(e,t){}colorCustomAction(e,t){}durationTechnicalCustomAction(e,t){}endDateCustomAction(e,t){}iconCustomAction(e,t){}keyCustomAction(e,t){}milestoneCustomAction(e,t){}originalEstimateCustomAction(e,t){}periodModeCustomAction(e,t){}priorityCustomAction(e,t){}progressCustomAction(e,t){}remainingEstimateCustomAction(e,t){}riskConsequenceCustomAction(e,t){}riskProbabilityCustomAction(e,t){}skillsCustomAction(e,t){}startDateCustomAction(e,t){}statusCustomAction(e,t){}storyPointsCustomAction(e,t){}timeSpentCustomAction(e,t){}execute(e,t,i){const s=this.domainFieldsRepository.getName(e);if(s.isEmpty())return;const r=s.isPresent()&&this.implementedActions.get(s.orElse(null));r&&r(e,t)}isDefined(e){const t=this.domainFieldsRepository.getName(e);return!t.isEmpty()&&!!this.implementedActions.get(t.orElse(null))}resolveImplementedFunctions(){const e=Object.keys(this.__proto__);e.includes("summaryCustomAction")&&this.implementedActions.set(r.M.SUMMARY,this.summaryCustomAction.bind(this)),e.includes("assigneeCustomAction")&&this.implementedActions.set(r.M.ASSIGNEE,this.assigneeCustomAction.bind(this)),e.includes("baselineEndDateCustomAction")&&this.implementedActions.set(r.M.BASELINE_END_DATE,this.baselineEndDateCustomAction.bind(this)),e.includes("baselineStartDateCustomAction")&&this.implementedActions.set(r.M.BASELINE_START_DATE,this.baselineStartDateCustomAction.bind(this)),e.includes("colorCustomAction")&&this.implementedActions.set(r.M.COLOR,this.colorCustomAction.bind(this)),e.includes("durationTechnicalCustomAction")&&this.implementedActions.set(r.M.DURATION_TECHNICAL,this.durationTechnicalCustomAction.bind(this)),e.includes("endDateCustomAction")&&this.implementedActions.set(r.M.END_DATE,this.endDateCustomAction.bind(this)),e.includes("iconCustomAction")&&this.implementedActions.set(r.M.ICON,this.iconCustomAction.bind(this)),e.includes("keyCustomAction")&&this.implementedActions.set(r.M.KEY,this.keyCustomAction.bind(this)),e.includes("milestoneCustomAction")&&this.implementedActions.set(r.M.MILESTONE,this.milestoneCustomAction.bind(this)),e.includes("originalEstimateCustomAction")&&this.implementedActions.set(r.M.ORIGINAL_ESTIMATE,this.originalEstimateCustomAction.bind(this)),e.includes("periodModeCustomAction")&&this.implementedActions.set(r.M.PERIOD_MODE,this.periodModeCustomAction.bind(this)),e.includes("priorityCustomAction")&&this.implementedActions.set(r.M.PRIORITY,this.priorityCustomAction.bind(this)),e.includes("progressCustomAction")&&this.implementedActions.set(r.M.PROGRESS,this.progressCustomAction.bind(this)),e.includes("remainingEstimateCustomAction")&&this.implementedActions.set(r.M.REMAINING_ESTIMATE,this.remainingEstimateCustomAction.bind(this)),e.includes("riskConsequenceCustomAction")&&this.implementedActions.set(r.M.RISK_CONSEQUENCE,this.riskConsequenceCustomAction.bind(this)),e.includes("riskProbabilityCustomAction")&&this.implementedActions.set(r.M.RISK_PROBABILITY,this.riskProbabilityCustomAction.bind(this)),e.includes("skillsCustomAction")&&this.implementedActions.set(r.M.SKILLS,this.skillsCustomAction.bind(this)),e.includes("startDateCustomAction")&&this.implementedActions.set(r.M.START_DATE,this.startDateCustomAction.bind(this)),e.includes("statusCustomAction")&&this.implementedActions.set(r.M.STATUS,this.statusCustomAction.bind(this)),e.includes("storyPointsCustomAction")&&this.implementedActions.set(r.M.STORY_POINTS,this.storyPointsCustomAction.bind(this)),e.includes("timeSpentCustomAction")&&this.implementedActions.set(r.M.TIME_SPENT,this.timeSpentCustomAction.bind(this))}}return e.\u0275fac=function(t){return new(t||e)(n.LFG(s.m))},e.\u0275prov=n.Yz7({token:e,factory:e.\u0275fac}),e})()},52667:(e,t,i)=>{"use strict";i.d(t,{v:()=>o});var s=i(91783),r=i(74477),n=i(94846);let o=(()=>{class e{constructor(){this.dataTypeMap=new Map}register(e,t){this.dataTypeMap.set(t.getId(),t)}get(e){const t=this.dataTypeMap.get(e);return t||(0,s._)(`There is no dataType ${e} provided`),t}isDefined(e){return r.l.isDefined(this.dataTypeMap.get(e))}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=n.Yz7({token:e,factory:e.\u0275fac}),e})()},56636:(e,t,i)=>{"use strict";i.d(t,{X:()=>Ra});var s=i(4562),r=i(27388),n=i(53738),o=i(62710),a=i(19683),l=i(52667),d=i(33867),c=i(95123),p=i(54144),u=i(71634),h=i(46672),g=i(5566),f=i(92787),m=i(79873),T=i(94846),E=i(35959),v=i(1858);const I=function(e){return{color:e}};function y(e,t){if(1&e&&(T.TgZ(0,"div",1),T.ALo(1,"spRichTextString"),T._UZ(2,"i",2),T.TgZ(3,"span",3),T._uU(4),T.qZA(),T.qZA()),2&e){const e=T.oxw();T.Q6J("spTooltipEnabled",e.tooltipEnabled)("spTooltip",T.lcZ(1,5,e.getTooltipText())),T.xp6(2),T.Q6J("ngClass",e.dataValue.icon)("ngStyle",T.VKq(7,I,e.getColor())),T.xp6(2),T.hij(" ",e.getFormattedName()," ")}}let C=(()=>{class e extends h.D{constructor(e,t,i,s,r){super(e,t,i,s),this.renderer=e,this.elementRef=t,this.injector=i,this.fieldCustomActions=s,this.iconRepository=r,this.defaultColor=m.W.MEDIUM_GRAY}getTooltipText(){const e=this.fieldDefinition.getLabelName(),t=this.fieldDefinition.getTextValue(this.entity.getDataValue(this.fieldDefinition.getFieldId())),i=this.iconRepository.get(t).name;return t?e+`: ${i}`:e}getColor(){return g.I.getRequestedColorOrDefault(this.dataValue.builtinColor.value,this.defaultColor).backgroundStyle}getFormattedName(){var e;return this.iconRepository.get(null===(e=this.dataValue)||void 0===e?void 0:e.icon).name}}return e.\u0275fac=function(t){return new(t||e)(T.Y36(T.Qsj),T.Y36(T.SBq),T.Y36(T.zs3),T.Y36(a.r,8),T.Y36(f.T))},e.\u0275cmp=T.Xpm({type:e,selectors:[["sp-display-builtin-icon-icon-and-name"]],features:[T.qOj],decls:1,vars:1,consts:[["class","sp-w-full sp-h-full sp-overflow-hidden sp-dt-display-tooltip sp-flex sp-align-items-center",3,"spTooltipEnabled","spTooltip",4,"ngIf"],[1,"sp-w-full","sp-h-full","sp-overflow-hidden","sp-dt-display-tooltip","sp-flex","sp-align-items-center",3,"spTooltipEnabled","spTooltip"],[1,"sp-builtin-icon","sp-mr-2",3,"ngClass","ngStyle"],[1,"sp-text-wrapper"]],template:function(e,t){1&e&&T.YNc(0,y,5,9,"div",0),2&e&&T.Q6J("ngIf",void 0!==t.dataValue)},directives:[s.O5,E.i9,s.mk,s.PC],pipes:[v.C],encapsulation:2,changeDetection:0}),e})();var x=i(79223),D=i(40902);const b=function(e){return{"background-color":e}};function w(e,t){if(1&e&&(T.TgZ(0,"div",1),T.ALo(1,"spRichTextString"),T._UZ(2,"span",2),T.qZA()),2&e){const e=T.oxw();T.Q6J("spTooltipEnabled",e.tooltipEnabled)("spTooltip",T.lcZ(1,3,e.getTooltipText())),T.xp6(2),T.Q6J("ngStyle",T.VKq(5,b,e.getColor()))}}let S=(()=>{class e extends h.D{constructor(){super(...arguments),this.defaultColor=m.W.MEDIUM_GRAY}getColor(){return g.I.getRequestedColorOrDefault(this.dataValue.value,this.defaultColor).backgroundStyle}}return e.\u0275fac=function(){let t;return function(i){return(t||(t=T.n5z(e)))(i||e)}}(),e.\u0275cmp=T.Xpm({type:e,selectors:[["sp-display-builtin-color-icon"]],features:[T.qOj],decls:1,vars:1,consts:[["class","sp-w-full sp-h-full sp-overflow-hidden sp-dt-display-tooltip sp-flex sp-align-items-center",3,"spTooltipEnabled","spTooltip",4,"ngIf"],[1,"sp-w-full","sp-h-full","sp-overflow-hidden","sp-dt-display-tooltip","sp-flex","sp-align-items-center",3,"spTooltipEnabled","spTooltip"],[1,"sp-p-2","sp-circle","sp-display-block","sp-overflow-hidden",3,"ngStyle"]],template:function(e,t){1&e&&T.YNc(0,w,3,7,"div",0),2&e&&T.Q6J("ngIf",void 0!==t.dataValue)},directives:[s.O5,E.i9,s.PC],pipes:[v.C],encapsulation:2,changeDetection:0}),e})();function A(e,t){if(1&e&&(T.TgZ(0,"div",1),T.ALo(1,"spRichTextString"),T.TgZ(2,"span",2),T._uU(3),T.qZA(),T.qZA()),2&e){const e=T.oxw();T.Q6J("spTooltipEnabled",e.tooltipEnabled)("spTooltip",T.lcZ(1,3,e.getTooltipText())),T.xp6(3),T.Oqu(e.getFormattedName())}}let R=(()=>{class e extends h.D{getFormattedName(){return this.fieldDefinition.getFormattedName(this.dataValue)}}return e.\u0275fac=function(){let t;return function(i){return(t||(t=T.n5z(e)))(i||e)}}(),e.\u0275cmp=T.Xpm({type:e,selectors:[["sp-display-builtin-color-name"]],features:[T.qOj],decls:1,vars:1,consts:[["class","sp-w-full sp-h-full sp-overflow-hidden sp-dt-display-tooltip sp-flex sp-align-items-center",3,"spTooltipEnabled","spTooltip",4,"ngIf"],[1,"sp-w-full","sp-h-full","sp-overflow-hidden","sp-dt-display-tooltip","sp-flex","sp-align-items-center",3,"spTooltipEnabled","spTooltip"],[1,"sp-text-wrapper"]],template:function(e,t){1&e&&T.YNc(0,A,4,5,"div",0),2&e&&T.Q6J("ngIf",void 0!==t.dataValue)},directives:[s.O5,E.i9],pipes:[v.C],encapsulation:2,changeDetection:0}),e})();var _=i(28612);function N(e,t){if(1&e&&(T.TgZ(0,"div",1),T.ALo(1,"spRichTextString"),T.TgZ(2,"span",2),T._uU(3),T.qZA(),T.qZA()),2&e){const e=T.oxw();T.Q6J("spTooltipEnabled",e.tooltipEnabled)("spTooltip",T.lcZ(1,3,e.getTooltipText())),T.xp6(3),T.Oqu(e.dataValue.value)}}let L=(()=>{class e extends h.D{}return e.\u0275fac=function(){let t;return function(i){return(t||(t=T.n5z(e)))(i||e)}}(),e.\u0275cmp=T.Xpm({type:e,selectors:[["sp-display-due-date"]],features:[T.qOj],decls:1,vars:1,consts:[["class","sp-w-full sp-h-full sp-overflow-hidden sp-dt-display-tooltip sp-flex sp-align-items-center",3,"spTooltipEnabled","spTooltip",4,"ngIf"],[1,"sp-w-full","sp-h-full","sp-overflow-hidden","sp-dt-display-tooltip","sp-flex","sp-align-items-center",3,"spTooltipEnabled","spTooltip"],[1,"sp-text-wrapper"]],template:function(e,t){1&e&&T.YNc(0,N,4,5,"div",0),2&e&&T.Q6J("ngIf",t.dataValue)},directives:[s.O5,E.i9],pipes:[v.C],encapsulation:2,changeDetection:0}),e})();var O=i(24590),F=i(49682),M=i(51328);const U=function(e){return{"background-color":e}};function k(e,t){if(1&e&&(T.TgZ(0,"div",1),T.ALo(1,"spRichTextString"),T._UZ(2,"div",2),T.qZA()),2&e){const e=T.oxw();T.Q6J("spTooltipEnabled",e.tooltipEnabled)("spTooltip",T.lcZ(1,4,e.getTooltipText()))("ngStyle",T.VKq(6,U,e.dataValue.backgroundColor)),T.xp6(2),T.Q6J("ngStyle",T.VKq(8,U,e.dataValue.textColor))}}let B=(()=>{class e extends h.D{}return e.\u0275fac=function(){let t;return function(i){return(t||(t=T.n5z(e)))(i||e)}}(),e.\u0275cmp=T.Xpm({type:e,selectors:[["sp-display-hex-color"]],features:[T.qOj],decls:1,vars:1,consts:[["class","sp-p-1 sp-circle sp-w-full sp-h-full sp-overflow-hidden sp-dt-display-tooltip sp-flex sp-align-items-center",3,"spTooltipEnabled","spTooltip","ngStyle",4,"ngIf"],[1,"sp-p-1","sp-circle","sp-w-full","sp-h-full","sp-overflow-hidden","sp-dt-display-tooltip","sp-flex","sp-align-items-center",3,"spTooltipEnabled","spTooltip","ngStyle"],[1,"sp-p-1","sp-circle",3,"ngStyle"]],template:function(e,t){1&e&&T.YNc(0,k,3,10,"div",0),2&e&&T.Q6J("ngIf",void 0!==t.dataValue)},directives:[s.O5,E.i9,s.PC],pipes:[v.C],encapsulation:2,changeDetection:0}),e})();var V=i(74477),G=i(3688);function P(e,t){if(1&e&&(T.ynx(0),T.TgZ(1,"a",7),T._uU(2),T.qZA(),T.BQk()),2&e){const e=T.oxw().$implicit;T.xp6(1),T.s9C("href",null==e?null:e.url,T.LSH),T.xp6(1),T.hij(" ",null==e?null:e.name," ")}}function Y(e,t){if(1&e&&T._uU(0),2&e){const e=T.oxw().$implicit;T.hij(" ",null==e?null:e.name," ")}}function Z(e,t){if(1&e&&(T.ynx(0),T.TgZ(1,"sp-lozenge",4),T.YNc(2,P,3,2,"ng-container",5),T.YNc(3,Y,1,1,"ng-template",null,6,T.W1O),T.qZA(),T.BQk()),2&e){const e=t.$implicit,i=t.index,s=T.MAs(4),r=T.oxw(2);T.xp6(1),T.ekj("sp-pl-1",i>0),T.Q6J("textColor",r.getLabelTextColor(e))("backgroundColor",r.getLabelBackgroundColor(e)),T.xp6(1),T.Q6J("ngIf",e.url)("ngIfElse",s)}}function z(e,t){if(1&e&&(T.TgZ(0,"div",2),T.YNc(1,Z,5,6,"ng-container",3),T.qZA()),2&e){const e=T.oxw();T.xp6(1),T.Q6J("ngForOf",e.dataValue.labels)}}let J=(()=>{class e extends h.D{getLabelTextColor(e){var t;return null===(t=null==e?void 0:e.hexColor)||void 0===t?void 0:t.textColor}getLabelBackgroundColor(e){var t;return null===(t=null==e?void 0:e.hexColor)||void 0===t?void 0:t.backgroundColor}isLabelsAvailable(){return V.l.isDefined(this.dataValue)&&V.l.arrayHasElements(this.dataValue.labels)}}return e.\u0275fac=function(){let t;return function(i){return(t||(t=T.n5z(e)))(i||e)}}(),e.\u0275cmp=T.Xpm({type:e,selectors:[["sp-display-labels"]],features:[T.qOj],decls:3,vars:5,consts:[[1,"sp-w-full","sp-h-full","sp-overflow-hidden","sp-dt-display-tooltip","sp-flex","sp-align-items-center",3,"spTooltipEnabled","spTooltip"],["class","sp-w-full sp-h-full sp-flex sp-align-items-center",4,"ngIf"],[1,"sp-w-full","sp-h-full","sp-flex","sp-align-items-center"],[4,"ngFor","ngForOf"],[3,"textColor","backgroundColor"],[4,"ngIf","ngIfElse"],["urlNotExists",""],["target","_blank",3,"href"]],template:function(e,t){1&e&&(T.TgZ(0,"div",0),T.ALo(1,"spRichTextString"),T.YNc(2,z,2,1,"div",1),T.qZA()),2&e&&(T.Q6J("spTooltipEnabled",t.tooltipEnabled)("spTooltip",T.lcZ(1,3,t.getTooltipText())),T.xp6(2),T.Q6J("ngIf",t.isLabelsAvailable()))},directives:[E.i9,s.O5,s.sg,G.H],pipes:[v.C],encapsulation:2,changeDetection:0}),e})();var H=i(74303);function q(e,t){if(1&e&&T._UZ(0,"img",3),2&e){const e=T.oxw(2);T.Q6J("spLazyImg",e.dataValue.iconUrl)}}function Q(e,t){if(1&e&&(T.TgZ(0,"div",1),T.ALo(1,"spRichTextString"),T.YNc(2,q,1,1,"img",2),T.qZA()),2&e){const e=T.oxw();T.Q6J("spTooltipEnabled",e.tooltipEnabled)("spTooltip",T.lcZ(1,3,e.getTooltipText())),T.xp6(2),T.Q6J("ngIf",e.dataValue.iconUrl)}}let $=(()=>{class e extends h.D{}return e.\u0275fac=function(){let t;return function(i){return(t||(t=T.n5z(e)))(i||e)}}(),e.\u0275cmp=T.Xpm({type:e,selectors:[["sp-display-icon"]],features:[T.qOj],decls:1,vars:1,consts:[["class","sp-icon-wrapper sp-w-full sp-h-full sp-overflow-hidden sp-dt-display-tooltip sp-flex sp-align-items-center",3,"spTooltipEnabled","spTooltip",4,"ngIf"],[1,"sp-icon-wrapper","sp-w-full","sp-h-full","sp-overflow-hidden","sp-dt-display-tooltip","sp-flex","sp-align-items-center",3,"spTooltipEnabled","spTooltip"],["loading","lazy","class","sp-display-icon",3,"spLazyImg",4,"ngIf"],["loading","lazy",1,"sp-display-icon",3,"spLazyImg"]],template:function(e,t){1&e&&T.YNc(0,Q,3,5,"div",0),2&e&&T.Q6J("ngIf",t.dataValue)},directives:[s.O5,E.i9,H.$],pipes:[v.C],encapsulation:2,changeDetection:0}),e})();function j(e,t){if(1&e&&T._UZ(0,"img",3),2&e){const e=T.oxw(2);T.Q6J("spLazyImg",e.dataValue.iconUrl)}}function W(e,t){if(1&e&&(T.TgZ(0,"div",1),T.ALo(1,"spRichTextString"),T.YNc(2,j,1,1,"img",2),T.qZA()),2&e){const e=T.oxw();T.Q6J("spTooltipEnabled",e.tooltipEnabled)("spTooltip",T.lcZ(1,3,e.getTooltipText())),T.xp6(2),T.Q6J("ngIf",e.dataValue.iconUrl)}}let K=(()=>{class e extends h.D{}return e.\u0275fac=function(){let t;return function(i){return(t||(t=T.n5z(e)))(i||e)}}(),e.\u0275cmp=T.Xpm({type:e,selectors:[["sp-display-issue-type-icon"]],features:[T.qOj],decls:1,vars:1,consts:[["class","sp-icon-wrapper sp-w-full sp-h-full sp-overflow-hidden sp-dt-display-tooltip sp-flex sp-align-items-center",3,"spTooltipEnabled","spTooltip",4,"ngIf"],[1,"sp-icon-wrapper","sp-w-full","sp-h-full","sp-overflow-hidden","sp-dt-display-tooltip","sp-flex","sp-align-items-center",3,"spTooltipEnabled","spTooltip"],["class","sp-display-icon",3,"spLazyImg",4,"ngIf"],[1,"sp-display-icon",3,"spLazyImg"]],template:function(e,t){1&e&&T.YNc(0,W,3,5,"div",0),2&e&&T.Q6J("ngIf",t.dataValue)},directives:[s.O5,E.i9,H.$],pipes:[v.C],encapsulation:2,changeDetection:0}),e})();function X(e,t){if(1&e&&T._UZ(0,"img",4),2&e){const e=T.oxw(2);T.Q6J("spLazyImg",e.dataValue.iconUrl)}}function ee(e,t){if(1&e&&(T.TgZ(0,"div",1),T.ALo(1,"spRichTextString"),T.YNc(2,X,1,1,"img",2),T.TgZ(3,"span",3),T._uU(4),T.qZA(),T.qZA()),2&e){const e=T.oxw();T.Q6J("spTooltipEnabled",e.tooltipEnabled)("spTooltip",T.lcZ(1,4,e.getTooltipText())),T.xp6(2),T.Q6J("ngIf",e.dataValue.iconUrl),T.xp6(2),T.Oqu(e.dataValue.name)}}let te=(()=>{class e extends h.D{}return e.\u0275fac=function(){let t;return function(i){return(t||(t=T.n5z(e)))(i||e)}}(),e.\u0275cmp=T.Xpm({type:e,selectors:[["sp-display-issue-type-icon-and-name"]],features:[T.qOj],decls:1,vars:1,consts:[["class","sp-icon-wrapper sp-w-full sp-h-full sp-overflow-hidden sp-dt-display-tooltip sp-flex sp-align-items-center",3,"spTooltipEnabled","spTooltip",4,"ngIf"],[1,"sp-icon-wrapper","sp-w-full","sp-h-full","sp-overflow-hidden","sp-dt-display-tooltip","sp-flex","sp-align-items-center",3,"spTooltipEnabled","spTooltip"],["class","sp-display-icon",3,"spLazyImg",4,"ngIf"],[1,"sp-pl-2","sp-text-wrapper"],[1,"sp-display-icon",3,"spLazyImg"]],template:function(e,t){1&e&&T.YNc(0,ee,5,6,"div",0),2&e&&T.Q6J("ngIf",t.dataValue)},directives:[s.O5,E.i9,H.$],pipes:[v.C],encapsulation:2,changeDetection:0}),e})();function ie(e,t){if(1&e&&(T.TgZ(0,"div",1),T.ALo(1,"spRichTextString"),T.TgZ(2,"span",2),T._uU(3),T.qZA(),T.qZA()),2&e){const e=T.oxw();T.Q6J("spTooltipEnabled",e.tooltipEnabled)("spTooltip",T.lcZ(1,3,e.getTooltipText())),T.xp6(3),T.Oqu(e.dataValue.name)}}let se=(()=>{class e extends h.D{}return e.\u0275fac=function(){let t;return function(i){return(t||(t=T.n5z(e)))(i||e)}}(),e.\u0275cmp=T.Xpm({type:e,selectors:[["sp-display-issue-type-name"]],features:[T.qOj],decls:1,vars:1,consts:[["class","sp-w-full sp-h-full sp-overflow-hidden sp-dt-display-tooltip sp-flex sp-align-items-center",3,"spTooltipEnabled","spTooltip",4,"ngIf"],[1,"sp-w-full","sp-h-full","sp-overflow-hidden","sp-dt-display-tooltip","sp-flex","sp-align-items-center",3,"spTooltipEnabled","spTooltip"],[1,"sp-text-wrapper"]],template:function(e,t){1&e&&T.YNc(0,ie,4,5,"div",0),2&e&&T.Q6J("ngIf",t.dataValue&&t.dataValue.name)},directives:[s.O5,E.i9],pipes:[v.C],encapsulation:2,changeDetection:0}),e})();function re(e,t){if(1&e&&(T.TgZ(0,"div",1),T.ALo(1,"spRichTextString"),T._UZ(2,"div",2),T.TgZ(3,"span",3),T._uU(4),T.qZA(),T.qZA()),2&e){const e=T.oxw();T.Q6J("spTooltipEnabled",e.tooltipEnabled)("spTooltip",T.lcZ(1,3,e.getTooltipText())),T.xp6(4),T.Oqu(e.getFormattedName())}}let ne=(()=>{class e extends h.D{constructor(e,t,i,s){super(e,t,i,s),this.renderer=e,this.elementRef=t,this.injector=i,this.fieldCustomActions=s}ngOnInit(){super.ngOnInit(),this.renderer.addClass(this.elementRef.nativeElement,"sp-pl-1")}isMilestone(){return this.fieldDefinition.isMilestone(this.dataValue)}getFormattedName(){return this.fieldDefinition.getFormattedName(this.dataValue)}}return e.\u0275fac=function(t){return new(t||e)(T.Y36(T.Qsj),T.Y36(T.SBq),T.Y36(T.zs3),T.Y36(a.r,8))},e.\u0275cmp=T.Xpm({type:e,selectors:[["sp-display-milestone-icon-and-name"]],features:[T.qOj],decls:1,vars:1,consts:[["class","sp-w-full sp-h-full sp-dt-display-tooltip sp-flex sp-align-items-center",3,"spTooltipEnabled","spTooltip",4,"ngIf"],[1,"sp-w-full","sp-h-full","sp-dt-display-tooltip","sp-flex","sp-align-items-center",3,"spTooltipEnabled","spTooltip"],[1,"sp-pl-1","sp-display-milestone__icon-with-name","sp-border-rounded","sp-bg-gray-100"],[1,"sp-ml-2","sp-text-wrapper"]],template:function(e,t){1&e&&T.YNc(0,re,5,5,"div",0),2&e&&T.Q6J("ngIf",void 0!==t.dataValue&&t.isMilestone())},directives:[s.O5,E.i9],pipes:[v.C],styles:[".sp-display-milestone__icon-with-name{width:16px;height:16px;min-width:16px;min-height:16px;transform:rotate(45deg)}"],encapsulation:2,changeDetection:0}),e})();function oe(e,t){if(1&e&&(T.TgZ(0,"div",1),T.ALo(1,"spRichTextString"),T._UZ(2,"div",2),T.qZA()),2&e){const e=T.oxw();T.Q6J("spTooltipEnabled",e.tooltipEnabled)("spTooltip",T.lcZ(1,2,e.getTooltipText()))}}let ae=(()=>{class e extends h.D{ngOnInit(){super.ngOnInit(),this.renderer.addClass(this.elementRef.nativeElement,"sp-pl-1")}isMilestone(){return this.fieldDefinition.isMilestone(this.dataValue)}}return e.\u0275fac=function(){let t;return function(i){return(t||(t=T.n5z(e)))(i||e)}}(),e.\u0275cmp=T.Xpm({type:e,selectors:[["sp-display-milestone-icon"]],features:[T.qOj],decls:1,vars:1,consts:[["class","sp-w-full sp-h-full sp-dt-display-tooltip sp-flex sp-align-items-center",3,"spTooltipEnabled","spTooltip",4,"ngIf"],[1,"sp-w-full","sp-h-full","sp-dt-display-tooltip","sp-flex","sp-align-items-center",3,"spTooltipEnabled","spTooltip"],[1,"sp-pl-1","sp-display-milestone__icon","sp-border-rounded","sp-bg-gray-100"]],template:function(e,t){1&e&&T.YNc(0,oe,3,4,"div",0),2&e&&T.Q6J("ngIf",void 0!==t.dataValue&&t.isMilestone())},directives:[s.O5,E.i9],pipes:[v.C],styles:[".sp-display-milestone__icon{width:16px;height:16px;min-width:16px;min-height:16px;transform:rotate(45deg)}"],encapsulation:2,changeDetection:0}),e})(),le=(()=>{class e extends h.D{isMilestone(){return this.fieldDefinition.isMilestone(this.dataValue)}getFormattedName(){return this.fieldDefinition.getFormattedName(this.dataValue)}}return e.\u0275fac=function(){let t;return function(i){return(t||(t=T.n5z(e)))(i||e)}}(),e.\u0275cmp=T.Xpm({type:e,selectors:[["sp-display-milestone-name"]],features:[T.qOj],decls:4,vars:5,consts:[[1,"sp-w-full","sp-h-full","sp-overflow-hidden","sp-dt-display-tooltip","sp-flex","sp-align-items-center",3,"spTooltipEnabled","spTooltip"],[1,"sp-text-wrapper"]],template:function(e,t){1&e&&(T.TgZ(0,"div",0),T.ALo(1,"spRichTextString"),T.TgZ(2,"span",1),T._uU(3),T.qZA(),T.qZA()),2&e&&(T.Q6J("spTooltipEnabled",t.tooltipEnabled)("spTooltip",T.lcZ(1,3,t.getTooltipText())),T.xp6(3),T.Oqu(t.getFormattedName()))},directives:[E.i9],pipes:[v.C],encapsulation:2,changeDetection:0}),e})();function de(e,t){if(1&e&&(T.ynx(0),T.TgZ(1,"span",4),T._uU(2),T.qZA(),T.BQk()),2&e){const e=t.$implicit,i=t.index,s=T.oxw(2);T.xp6(2),T.hij(" ",s.getUserDisplayName(e,i)," ")}}function ce(e,t){if(1&e&&(T.TgZ(0,"div",1),T.ALo(1,"spRichTextString"),T.TgZ(2,"div",2),T.YNc(3,de,3,1,"ng-container",3),T.qZA(),T.qZA()),2&e){const e=T.oxw();T.Q6J("spTooltipEnabled",e.tooltipEnabled)("spTooltip",T.lcZ(1,3,e.getTooltipText())),T.xp6(3),T.Q6J("ngForOf",e.dataValue.users)}}let pe=(()=>{class e extends h.D{isDataValueAvailable(){return this.dataValue&&V.l.arrayHasElements(this.dataValue.users)}getUserDisplayName(e,t){return e.data&&e.data.displayName+(t===this.dataValue.users.length-1?"":", ")}}return e.\u0275fac=function(){let t;return function(i){return(t||(t=T.n5z(e)))(i||e)}}(),e.\u0275cmp=T.Xpm({type:e,selectors:[["sp-display-multi-user-name"]],features:[T.qOj],decls:1,vars:1,consts:[["class","sp-w-full sp-h-full sp-overflow-hidden sp-dt-display-tooltip",3,"spTooltipEnabled","spTooltip",4,"ngIf"],[1,"sp-w-full","sp-h-full","sp-overflow-hidden","sp-dt-display-tooltip",3,"spTooltipEnabled","spTooltip"],[1,"sp-w-full","sp-h-full","sp-flex","sp-align-items-center"],[4,"ngFor","ngForOf"],[1,"sp-text-wrapper"]],template:function(e,t){1&e&&T.YNc(0,ce,4,5,"div",0),2&e&&T.Q6J("ngIf",t.isDataValueAvailable())},directives:[s.O5,E.i9,s.sg],pipes:[v.C],encapsulation:2,changeDetection:0}),e})();function ue(e,t){if(1&e&&(T.TgZ(0,"div",1),T.ALo(1,"spRichTextString"),T.TgZ(2,"sp-lozenge"),T._uU(3),T.qZA(),T.qZA()),2&e){const e=T.oxw();T.Q6J("spTooltipEnabled",e.tooltipEnabled)("spTooltip",T.lcZ(1,3,e.getTooltipText())),T.xp6(3),T.hij(" ",e.dataValue.number," ")}}let he=(()=>{class e extends h.D{}return e.\u0275fac=function(){let t;return function(i){return(t||(t=T.n5z(e)))(i||e)}}(),e.\u0275cmp=T.Xpm({type:e,selectors:[["sp-display-number-lozenge"]],features:[T.qOj],decls:1,vars:1,consts:[["class","sp-w-full sp-h-full sp-overflow-hidden sp-dt-display-tooltip sp-flex sp-align-items-center",3,"spTooltipEnabled","spTooltip",4,"ngIf"],[1,"sp-w-full","sp-h-full","sp-overflow-hidden","sp-dt-display-tooltip","sp-flex","sp-align-items-center",3,"spTooltipEnabled","spTooltip"]],template:function(e,t){1&e&&T.YNc(0,ue,4,5,"div",0),2&e&&T.Q6J("ngIf",t.dataValue&&void 0!==t.dataValue.number)},directives:[s.O5,E.i9,G.H],pipes:[v.C],encapsulation:2,changeDetection:0}),e})();function ge(e,t){if(1&e&&(T.TgZ(0,"div",1),T.ALo(1,"spRichTextString"),T.TgZ(2,"span",2),T._uU(3),T.qZA(),T.qZA()),2&e){const e=T.oxw();T.Q6J("spTooltipEnabled",e.tooltipEnabled)("spTooltip",T.lcZ(1,3,e.getTooltipText())),T.xp6(3),T.Oqu(e.dataValue.number)}}let fe=(()=>{class e extends h.D{}return e.\u0275fac=function(){let t;return function(i){return(t||(t=T.n5z(e)))(i||e)}}(),e.\u0275cmp=T.Xpm({type:e,selectors:[["sp-display-number-text"]],features:[T.qOj],decls:1,vars:1,consts:[["class","sp-w-full sp-h-full sp-overflow-hidden sp-dt-display-tooltip sp-flex sp-align-items-center",3,"spTooltipEnabled","spTooltip",4,"ngIf"],[1,"sp-w-full","sp-h-full","sp-overflow-hidden","sp-dt-display-tooltip","sp-flex","sp-align-items-center",3,"spTooltipEnabled","spTooltip"],[1,"sp-text-wrapper"]],template:function(e,t){1&e&&T.YNc(0,ge,4,5,"div",0),2&e&&T.Q6J("ngIf",t.dataValue&&void 0!==t.dataValue.number)},directives:[s.O5,E.i9],pipes:[v.C],encapsulation:2,changeDetection:0}),e})();function me(e,t){if(1&e&&(T._UZ(0,"div",1),T.ALo(1,"spRichTextString")),2&e){const e=T.oxw();T.Q6J("spTooltipEnabled",e.tooltipEnabled)("spTooltip",T.lcZ(1,2,e.getTooltipText()))}}let Te=(()=>{class e extends h.D{}return e.\u0275fac=function(){let t;return function(i){return(t||(t=T.n5z(e)))(i||e)}}(),e.\u0275cmp=T.Xpm({type:e,selectors:[["sp-display-period"]],features:[T.qOj],decls:1,vars:1,consts:[["class","sp-w-full sp-h-full sp-overflow-hidden sp-dt-display-tooltip sp-flex sp-align-items-center",3,"spTooltipEnabled","spTooltip",4,"ngIf"],[1,"sp-w-full","sp-h-full","sp-overflow-hidden","sp-dt-display-tooltip","sp-flex","sp-align-items-center",3,"spTooltipEnabled","spTooltip"]],template:function(e,t){1&e&&T.YNc(0,me,2,4,"div",0),2&e&&T.Q6J("ngIf",t.dataValue)},directives:[s.O5,E.i9],pipes:[v.C],encapsulation:2,changeDetection:0}),e})();var Ee=i(77043),ve=i(36713);function Ie(e,t){if(1&e&&(T.TgZ(0,"div",1),T.ALo(1,"spRichTextString"),T._UZ(2,"sp-icon",2),T.TgZ(3,"span",3),T._uU(4),T.qZA(),T.qZA()),2&e){const e=T.oxw();T.Q6J("spTooltipEnabled",e.tooltipEnabled)("spTooltip",T.lcZ(1,5,e.getTooltipText())),T.xp6(2),T.Q6J("iconId",e.getIconClass())("color",e.iconColor),T.xp6(2),T.Oqu(e.getFormattedName())}}let ye=(()=>{class e extends h.D{constructor(){super(...arguments),this.iconColor="var(--gray-500)"}getFormattedName(){return Ee.J.getPeriodModeLabel(this.dataValue.value)}getIconClass(){return Ee.J.getPeriodModeIcon(this.dataValue.value)}}return e.\u0275fac=function(){let t;return function(i){return(t||(t=T.n5z(e)))(i||e)}}(),e.\u0275cmp=T.Xpm({type:e,selectors:[["sp-display-period-mode-icon-and-name"]],features:[T.qOj],decls:1,vars:1,consts:[["class","sp-w-full sp-h-full sp-overflow-hidden sp-dt-display-tooltip sp-flex sp-align-items-center",3,"spTooltipEnabled","spTooltip",4,"ngIf"],[1,"sp-w-full","sp-h-full","sp-overflow-hidden","sp-dt-display-tooltip","sp-flex","sp-align-items-center",3,"spTooltipEnabled","spTooltip"],[1,"sp-mr-2",3,"iconId","color"],[1,"sp-text-wrapper"]],template:function(e,t){1&e&&T.YNc(0,Ie,5,7,"div",0),2&e&&T.Q6J("ngIf",t.dataValue)},directives:[s.O5,E.i9,ve.o],pipes:[v.C],encapsulation:2,changeDetection:0}),e})();function Ce(e,t){if(1&e&&(T.TgZ(0,"div",1),T.ALo(1,"spRichTextString"),T._UZ(2,"sp-icon",2),T.qZA()),2&e){const e=T.oxw();T.Q6J("spTooltipEnabled",e.tooltipEnabled)("spTooltip",T.lcZ(1,4,e.getTooltipText())),T.xp6(2),T.Q6J("iconId",e.getIconClass())("color",e.iconColor)}}let xe=(()=>{class e extends h.D{constructor(){super(...arguments),this.iconColor="var(--gray-500)"}getIconClass(){return Ee.J.getPeriodModeIcon(this.dataValue.value)}}return e.\u0275fac=function(){let t;return function(i){return(t||(t=T.n5z(e)))(i||e)}}(),e.\u0275cmp=T.Xpm({type:e,selectors:[["sp-display-period-mode-icon"]],features:[T.qOj],decls:1,vars:1,consts:[["class","sp-w-full sp-h-full sp-overflow-hidden sp-dt-display-tooltip sp-flex sp-align-items-center",3,"spTooltipEnabled","spTooltip",4,"ngIf"],[1,"sp-w-full","sp-h-full","sp-overflow-hidden","sp-dt-display-tooltip","sp-flex","sp-align-items-center",3,"spTooltipEnabled","spTooltip"],[1,"sp-mr-2",3,"iconId","color"]],template:function(e,t){1&e&&T.YNc(0,Ce,3,6,"div",0),2&e&&T.Q6J("ngIf",t.dataValue)},directives:[s.O5,E.i9,ve.o],pipes:[v.C],encapsulation:2,changeDetection:0}),e})();function De(e,t){if(1&e&&(T.TgZ(0,"div",1),T.ALo(1,"spRichTextString"),T.TgZ(2,"span",2),T._uU(3),T.qZA(),T.qZA()),2&e){const e=T.oxw();T.Q6J("spTooltipEnabled",e.tooltipEnabled)("spTooltip",T.lcZ(1,3,e.getTooltipText())),T.xp6(3),T.Oqu(e.getFormattedName())}}let be=(()=>{class e extends h.D{getFormattedName(){return Ee.J.getPeriodModeLabel(this.dataValue.value)}}return e.\u0275fac=function(){let t;return function(i){return(t||(t=T.n5z(e)))(i||e)}}(),e.\u0275cmp=T.Xpm({type:e,selectors:[["sp-display-period-mode-name"]],features:[T.qOj],decls:1,vars:1,consts:[["class","sp-w-full sp-h-full sp-overflow-hidden sp-dt-display-tooltip sp-flex sp-align-items-center sp-text-wrapper",3,"spTooltipEnabled","spTooltip",4,"ngIf"],[1,"sp-w-full","sp-h-full","sp-overflow-hidden","sp-dt-display-tooltip","sp-flex","sp-align-items-center","sp-text-wrapper",3,"spTooltipEnabled","spTooltip"],[1,"sp-text-wrapper"]],template:function(e,t){1&e&&T.YNc(0,De,4,5,"div",0),2&e&&T.Q6J("ngIf",t.dataValue)},directives:[s.O5,E.i9],pipes:[v.C],encapsulation:2,changeDetection:0}),e})();function we(e,t){if(1&e&&T._UZ(0,"img",3),2&e){const e=T.oxw(2);T.Q6J("spLazyImg",e.dataValue.iconUrl)}}function Se(e,t){if(1&e&&(T.TgZ(0,"div",1),T.ALo(1,"spRichTextString"),T.YNc(2,we,1,1,"img",2),T.qZA()),2&e){const e=T.oxw();T.Q6J("spTooltipEnabled",e.tooltipEnabled)("spTooltip",T.lcZ(1,3,e.getTooltipText())),T.xp6(2),T.Q6J("ngIf",e.dataValue.iconUrl)}}let Ae=(()=>{class e extends h.D{}return e.\u0275fac=function(){let t;return function(i){return(t||(t=T.n5z(e)))(i||e)}}(),e.\u0275cmp=T.Xpm({type:e,selectors:[["sp-display-priority-icon"]],features:[T.qOj],decls:1,vars:1,consts:[["class","sp-icon-wrapper sp-w-full sp-h-full sp-overflow-hidden sp-dt-display-tooltip sp-flex sp-align-items-center",3,"spTooltipEnabled","spTooltip",4,"ngIf"],[1,"sp-icon-wrapper","sp-w-full","sp-h-full","sp-overflow-hidden","sp-dt-display-tooltip","sp-flex","sp-align-items-center",3,"spTooltipEnabled","spTooltip"],["class","sp-display-icon",3,"spLazyImg",4,"ngIf"],[1,"sp-display-icon",3,"spLazyImg"]],template:function(e,t){1&e&&T.YNc(0,Se,3,5,"div",0),2&e&&T.Q6J("ngIf",t.dataValue)},directives:[s.O5,E.i9,H.$],pipes:[v.C],encapsulation:2,changeDetection:0}),e})();function Re(e,t){if(1&e&&T._UZ(0,"img",4),2&e){const e=T.oxw(2);T.Q6J("spLazyImg",e.dataValue.iconUrl)}}function _e(e,t){if(1&e&&(T.TgZ(0,"span",5),T._uU(1),T.qZA()),2&e){const e=T.oxw(2);T.xp6(1),T.Oqu(e.dataValue.name)}}function Ne(e,t){if(1&e&&(T.TgZ(0,"div",1),T.ALo(1,"spRichTextString"),T.YNc(2,Re,1,1,"img",2),T.YNc(3,_e,2,1,"span",3),T.qZA()),2&e){const e=T.oxw();T.Q6J("spTooltipEnabled",e.tooltipEnabled)("spTooltip",T.lcZ(1,4,e.getTooltipText())),T.xp6(2),T.Q6J("ngIf",e.dataValue.iconUrl),T.xp6(1),T.Q6J("ngIf",e.dataValue.name)}}let Le=(()=>{class e extends h.D{}return e.\u0275fac=function(){let t;return function(i){return(t||(t=T.n5z(e)))(i||e)}}(),e.\u0275cmp=T.Xpm({type:e,selectors:[["sp-display-priority-icon-and-name"]],features:[T.qOj],decls:1,vars:1,consts:[["class","sp-icon-wrapper sp-w-full sp-h-full sp-overflow-hidden sp-dt-display-tooltip sp-flex sp-align-items-center",3,"spTooltipEnabled","spTooltip",4,"ngIf"],[1,"sp-icon-wrapper","sp-w-full","sp-h-full","sp-overflow-hidden","sp-dt-display-tooltip","sp-flex","sp-align-items-center",3,"spTooltipEnabled","spTooltip"],["class","sp-display-icon",3,"spLazyImg",4,"ngIf"],["class","sp-text-wrapper sp-pl-2",4,"ngIf"],[1,"sp-display-icon",3,"spLazyImg"],[1,"sp-text-wrapper","sp-pl-2"]],template:function(e,t){1&e&&T.YNc(0,Ne,4,6,"div",0),2&e&&T.Q6J("ngIf",t.dataValue)},directives:[s.O5,E.i9,H.$],pipes:[v.C],encapsulation:2,changeDetection:0}),e})();function Oe(e,t){if(1&e&&T._UZ(0,"img",4),2&e){const e=T.oxw(2);T.Q6J("spLazyImg",e.dataValue.iconUrl)}}function Fe(e,t){if(1&e&&(T.TgZ(0,"span",5),T._uU(1),T.qZA()),2&e){const e=T.oxw(2);T.xp6(1),T.Oqu(e.dataValue.name)}}function Me(e,t){if(1&e&&(T.TgZ(0,"div",1),T.ALo(1,"spRichTextString"),T.YNc(2,Oe,1,1,"img",2),T.YNc(3,Fe,2,1,"span",3),T.qZA()),2&e){const e=T.oxw();T.Q6J("spTooltipEnabled",e.tooltipEnabled)("spTooltip",T.lcZ(1,4,e.getTooltipText())),T.xp6(2),T.Q6J("ngIf",e.dataValue.iconUrl),T.xp6(1),T.Q6J("ngIf",e.dataValue.name)}}let Ue=(()=>{class e extends h.D{}return e.\u0275fac=function(){let t;return function(i){return(t||(t=T.n5z(e)))(i||e)}}(),e.\u0275cmp=T.Xpm({type:e,selectors:[["sp-display-project-icon-and-name"]],features:[T.qOj],decls:1,vars:1,consts:[["class","sp-w-full sp-h-full sp-overflow-hidden sp-dt-display-tooltip sp-flex sp-align-items-center",3,"spTooltipEnabled","spTooltip",4,"ngIf"],[1,"sp-w-full","sp-h-full","sp-overflow-hidden","sp-dt-display-tooltip","sp-flex","sp-align-items-center",3,"spTooltipEnabled","spTooltip"],["class","sp-display-icon sp-flex-shrink-0",3,"spLazyImg",4,"ngIf"],["class","sp-pl-2 sp-text-wrapper",4,"ngIf"],[1,"sp-display-icon","sp-flex-shrink-0",3,"spLazyImg"],[1,"sp-pl-2","sp-text-wrapper"]],template:function(e,t){1&e&&T.YNc(0,Me,4,6,"div",0),2&e&&T.Q6J("ngIf",t.dataValue)},directives:[s.O5,E.i9,H.$],pipes:[v.C],encapsulation:2,changeDetection:0}),e})();function ke(e,t){if(1&e&&(T.TgZ(0,"div",1),T.ALo(1,"spRichTextString"),T.TgZ(2,"span",2),T._uU(3),T.qZA(),T.qZA()),2&e){const e=T.oxw();T.Q6J("spTooltipEnabled",e.tooltipEnabled)("spTooltip",T.lcZ(1,3,e.getTooltipText())),T.xp6(3),T.Oqu(e.dataValue.name)}}let Be=(()=>{class e extends h.D{}return e.\u0275fac=function(){let t;return function(i){return(t||(t=T.n5z(e)))(i||e)}}(),e.\u0275cmp=T.Xpm({type:e,selectors:[["sp-display-project-name"]],features:[T.qOj],decls:1,vars:1,consts:[["class","sp-w-full sp-h-full sp-overflow-hidden sp-dt-display-tooltip sp-flex sp-align-items-center ",3,"spTooltipEnabled","spTooltip",4,"ngIf"],[1,"sp-w-full","sp-h-full","sp-overflow-hidden","sp-dt-display-tooltip","sp-flex","sp-align-items-center",3,"spTooltipEnabled","spTooltip"],[1,"sp-text-wrapper"]],template:function(e,t){1&e&&T.YNc(0,ke,4,5,"div",0),2&e&&T.Q6J("ngIf",t.dataValue)},directives:[s.O5,E.i9],pipes:[v.C],encapsulation:2,changeDetection:0}),e})();function Ve(e,t){if(1&e&&(T.TgZ(0,"div",1),T.ALo(1,"spRichTextString"),T.TgZ(2,"sp-lozenge"),T._uU(3),T.qZA(),T.qZA()),2&e){const e=T.oxw();T.Q6J("spTooltipEnabled",e.tooltipEnabled)("spTooltip",T.lcZ(1,3,e.getTooltipText())),T.xp6(3),T.hij(" ",e.dataValue.value," ")}}let Ge=(()=>{class e extends h.D{}return e.\u0275fac=function(){let t;return function(i){return(t||(t=T.n5z(e)))(i||e)}}(),e.\u0275cmp=T.Xpm({type:e,selectors:[["sp-display-select-lozenge"]],features:[T.qOj],decls:1,vars:1,consts:[["class","sp-w-full sp-h-full sp-overflow-hidden sp-dt-display-tooltip sp-flex sp-align-items-center",3,"spTooltipEnabled","spTooltip",4,"ngIf"],[1,"sp-w-full","sp-h-full","sp-overflow-hidden","sp-dt-display-tooltip","sp-flex","sp-align-items-center",3,"spTooltipEnabled","spTooltip"]],template:function(e,t){1&e&&T.YNc(0,Ve,4,5,"div",0),2&e&&T.Q6J("ngIf",t.dataValue&&t.dataValue.value)},directives:[s.O5,E.i9,G.H],pipes:[v.C],encapsulation:2,changeDetection:0}),e})();class Pe{constructor(e,t){this.styleName=e,this.styleValue=t}static fromStyleString(e){const t=e.split(":");return 2!==t.length?null:new Pe(t[0].trim(),t[1].trim())}}class Ye{constructor(e,t,i){this.isRootTagValid=e,this.textContent=t,this.styles=i}}let Ze=(()=>{class e{constructor(){this.allowedStyles={background:/^(#([0-9a-f]{3}){1,2})|([a-z]+)$/i,border:/^[0-9]+[a-z]+ [a-z]+ (#([0-9a-f]{3}){1,2})|([a-z]+)$/i,color:/^(#([0-9a-f]{3}){1,2})|([a-z]+)$/i,"font-weight":/^[a-z]+$/,padding:/^([0-9]+[a-z]+\s)*[0-9]+[a-z]+$/,display:/^[a-z\-]+$/,"text-align":/^[a-z]+$/,"min-width":/^[0-9]+[a-z]+$/,"-moz-border-radius":/^[0-9]+[a-z]+$/,"-webkit-border-radius":/^[0-9]+[a-z]+$/}}fromHtmlString(e){const t=e.match(/^<span(\sstyle="[^"]*")?>/),i=e.match(/<\/span>$/),s=!!t&&!!i;return new Ye(s,s?e.slice(t[0].length,i.index):e,s?this.retrieveValidStylesFromPrefix(t[0]):null)}retrieveValidStylesFromPrefix(e){const t={};if(!/^<span style="[^"]*">$/.test(e))return t;const i=e.replace(/^<span style="/,"").replace(/">$/,"").split(";").map(e=>Pe.fromStyleString(e)).filter(e=>!!e).filter(e=>this.isStyleEntryValid(e));for(const s of i)t[s.styleName]=s.styleValue;return t}isStyleEntryValid(e){return e.styleName in this.allowedStyles&&this.allowedStyles[e.styleName].test(e.styleValue)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=T.Yz7({token:e,factory:e.\u0275fac}),e})();function ze(e,t){if(1&e&&(T.TgZ(0,"span",4),T._uU(1),T.qZA()),2&e){const e=T.oxw(2);T.Q6J("ngStyle",e.templateData.styles),T.xp6(1),T.hij(" ",e.templateData.textContent," ")}}function Je(e,t){if(1&e&&(T.TgZ(0,"span",5),T._uU(1),T.qZA()),2&e){const e=T.oxw(2);T.xp6(1),T.Oqu(e.templateData.textContent)}}function He(e,t){if(1&e&&(T.TgZ(0,"div",1),T.ALo(1,"spRichTextString"),T.YNc(2,ze,2,2,"span",2),T.YNc(3,Je,2,1,"ng-template",null,3,T.W1O),T.qZA()),2&e){const e=T.MAs(4),t=T.oxw();T.Q6J("spTooltipEnabled",t.tooltipEnabled)("spTooltip",T.lcZ(1,4,t.getTooltipText())),T.xp6(2),T.Q6J("ngIf",t.templateData.isRootTagValid)("ngIfElse",e)}}let qe=(()=>{class e extends h.D{constructor(e,t,i,s,r){super(e,t,i,s),this.renderer=e,this.elementRef=t,this.injector=i,this.fieldCustomActions=s,this.templateDataResolver=r}ngOnChanges(e){e.dataValue&&e.dataValue.currentValue&&(this.templateData=this.templateDataResolver.fromHtmlString(this.dataValue.value))}}return e.\u0275fac=function(t){return new(t||e)(T.Y36(T.Qsj),T.Y36(T.SBq),T.Y36(T.zs3),T.Y36(a.r,8),T.Y36(Ze))},e.\u0275cmp=T.Xpm({type:e,selectors:[["sp-display-styled-text"]],features:[T.qOj,T.TTD],decls:1,vars:1,consts:[["class","sp-w-full sp-h-full sp-overflow-hidden sp-dt-display-tooltip sp-flex sp-align-items-center",3,"spTooltipEnabled","spTooltip",4,"ngIf"],[1,"sp-w-full","sp-h-full","sp-overflow-hidden","sp-dt-display-tooltip","sp-flex","sp-align-items-center",3,"spTooltipEnabled","spTooltip"],[3,"ngStyle",4,"ngIf","ngIfElse"],["rootTagNotValid",""],[3,"ngStyle"],[1,"sp-text-wrapper"]],template:function(e,t){1&e&&T.YNc(0,He,5,6,"div",0),2&e&&T.Q6J("ngIf",t.templateData)},directives:[s.O5,E.i9,s.PC],pipes:[v.C],encapsulation:2,changeDetection:0}),e})();var Qe=i(93937),$e=i(13189);function je(e,t){if(1&e&&(T.TgZ(0,"div",1),T.ALo(1,"spRichTextString"),T.TgZ(2,"span",2),T._uU(3),T.qZA(),T.qZA()),2&e){const e=T.oxw();T.Q6J("spTooltipEnabled",e.tooltipEnabled)("spTooltip",T.lcZ(1,3,e.getTooltipText())),T.xp6(3),T.Oqu(e.dataValue.value)}}let We=(()=>{class e extends h.D{}return e.\u0275fac=function(){let t;return function(i){return(t||(t=T.n5z(e)))(i||e)}}(),e.\u0275cmp=T.Xpm({type:e,selectors:[["sp-display-select-text"]],features:[T.qOj],decls:1,vars:1,consts:[["class","sp-w-full sp-h-full sp-overflow-hidden sp-dt-display-tooltip sp-flex sp-align-items-center sp-whitespace-nowrap",3,"spTooltipEnabled","spTooltip",4,"ngIf"],[1,"sp-w-full","sp-h-full","sp-overflow-hidden","sp-dt-display-tooltip","sp-flex","sp-align-items-center","sp-whitespace-nowrap",3,"spTooltipEnabled","spTooltip"],[1,"sp-text-wrapper"]],template:function(e,t){1&e&&T.YNc(0,je,4,5,"div",0),2&e&&T.Q6J("ngIf",t.dataValue&&t.dataValue.value)},directives:[s.O5,E.i9],pipes:[v.C],encapsulation:2,changeDetection:0}),e})();var Ke=i(18321),Xe=i(99504),et=i(29622);const tt=function(e){return{"sp-mr-1":e}};function it(e,t){if(1&e&&(T.ynx(0),T.TgZ(1,"sp-lozenge",5),T.ALo(2,"spRichTextString"),T._uU(3),T.qZA(),T.BQk()),2&e){const e=t.$implicit,i=t.last,s=T.oxw(3);T.xp6(1),T.Q6J("color",null==e.key?null:e.key.color)("spTooltip",T.lcZ(2,4,null==e.key?null:e.key.name))("ngClass",T.VKq(6,tt,!i)),T.xp6(2),T.hij(" ",s.getDistrbText(e)," ")}}function st(e,t){if(1&e&&(T.ynx(0),T.TgZ(1,"div",3),T.YNc(2,it,4,8,"ng-container",4),T.qZA(),T.BQk()),2&e){const e=T.oxw(2);T.xp6(2),T.Q6J("ngForOf",e.dataValue.distrb)}}function rt(e,t){if(1&e&&(T.ynx(0),T.TgZ(1,"sp-lozenge",6),T._uU(2),T.qZA(),T.BQk()),2&e){const e=T.oxw(2);T.xp6(1),T.Q6J("color",e.getColor()),T.xp6(1),T.hij(" ",e.getText()," ")}}function nt(e,t){if(1&e&&(T.TgZ(0,"div",1),T.ALo(1,"spRichTextString"),T.YNc(2,st,3,1,"ng-container",2),T.YNc(3,rt,3,2,"ng-container",2),T.qZA()),2&e){const e=T.oxw();T.Q6J("spTooltipEnabled",e.tooltipEnabled)("spTooltip",T.lcZ(1,4,e.getTooltipText())),T.xp6(2),T.Q6J("ngIf",e.dataValue&&e.hasHistogramValue()),T.xp6(1),T.Q6J("ngIf",!e.hasHistogramValue()&&e.hasValueToShow())}}let ot=(()=>{class e extends h.D{getDistrbText(e){return null==e?void 0:e.value}hasHistogramValue(){var e;return this.dataValue instanceof Ke.Li&&V.l.arrayHasElements(null===(e=this.dataValue)||void 0===e?void 0:e.distrb)}hasValueToShow(){return V.l.isDefined(this.dataValue)&&this.dataValue instanceof Xe.R?!!this.dataValue.name:V.l.isDefined(this.dataValue)&&this.dataValue instanceof et.z?!!this.dataValue.number:void 0}getColor(){return V.l.isDefined(this.dataValue)&&this.dataValue instanceof Xe.R?this.dataValue.statusCategory&&this.dataValue.statusCategory.color:""}getText(){return V.l.isDefined(this.dataValue)&&this.dataValue instanceof Xe.R?this.dataValue.name:""}}return e.\u0275fac=function(){let t;return function(i){return(t||(t=T.n5z(e)))(i||e)}}(),e.\u0275cmp=T.Xpm({type:e,selectors:[["sp-display-subtask-statuses"]],features:[T.qOj],decls:1,vars:1,consts:[["class","sp-w-full sp-h-full sp-overflow-hidden sp-dt-display-tooltip sp-flex sp-align-items-center",3,"spTooltipEnabled","spTooltip",4,"ngIf"],[1,"sp-w-full","sp-h-full","sp-overflow-hidden","sp-dt-display-tooltip","sp-flex","sp-align-items-center",3,"spTooltipEnabled","spTooltip"],[4,"ngIf"],[1,"sp-w-full","sp-h-full","sp-flex","sp-align-items-center"],[4,"ngFor","ngForOf"],[3,"color","spTooltip","ngClass"],[3,"color"]],template:function(e,t){1&e&&T.YNc(0,nt,4,6,"div",0),2&e&&T.Q6J("ngIf",t.dataValue)},directives:[s.O5,E.i9,s.sg,G.H,s.mk],pipes:[v.C],encapsulation:2,changeDetection:0}),e})();const at=function(e){return{"sp-mr-1":e}};function lt(e,t){if(1&e&&(T.ynx(0),T.TgZ(1,"sp-lozenge",5),T.ALo(2,"spRichTextString"),T._uU(3),T.qZA(),T.BQk()),2&e){const e=t.$implicit,i=t.last,s=T.oxw(3);T.xp6(1),T.Q6J("color",null==e||null==e.key?null:e.key.color)("spTooltip",T.lcZ(2,4,null==e||null==e.key?null:e.key.name))("ngClass",T.VKq(6,at,!i)),T.xp6(2),T.hij(" ",s.getDistrbText(e)," ")}}function dt(e,t){if(1&e&&(T.ynx(0),T.TgZ(1,"div",3),T.YNc(2,lt,4,8,"ng-container",4),T.qZA(),T.BQk()),2&e){const e=T.oxw(2);T.xp6(2),T.Q6J("ngForOf",e.dataValue.distrb)}}function ct(e,t){if(1&e&&(T.ynx(0),T.TgZ(1,"sp-lozenge",6),T._uU(2),T.qZA(),T.BQk()),2&e){const e=T.oxw(2);T.xp6(1),T.Q6J("color",e.getColor()),T.xp6(1),T.hij(" ",e.getText()," ")}}function pt(e,t){if(1&e&&(T.TgZ(0,"div",1),T.ALo(1,"spRichTextString"),T.YNc(2,dt,3,1,"ng-container",2),T.YNc(3,ct,3,2,"ng-container",2),T.qZA()),2&e){const e=T.oxw();T.Q6J("spTooltipEnabled",e.tooltipEnabled)("spTooltip",T.lcZ(1,4,e.getTooltipText())),T.xp6(2),T.Q6J("ngIf",e.dataValue&&e.hasHistogramValue()),T.xp6(1),T.Q6J("ngIf",e.hasValueToShow()&&!e.hasHistogramValue())}}let ut=(()=>{class e extends h.D{getDistrbText(e){return null==e?void 0:e.value}hasHistogramValue(){var e;return this.dataValue instanceof Ke.Li&&V.l.arrayHasElements(null===(e=this.dataValue)||void 0===e?void 0:e.distrb)}hasValueToShow(){return V.l.isDefined(this.dataValue)&&this.dataValue instanceof Xe.R?!!this.dataValue.name:V.l.isDefined(this.dataValue)&&this.dataValue instanceof et.z?!!this.dataValue.number:void 0}getColor(){return V.l.isDefined(this.dataValue)&&this.dataValue instanceof Xe.R?this.dataValue.statusCategory&&this.dataValue.statusCategory.color:""}getText(){return V.l.isDefined(this.dataValue)&&this.dataValue instanceof Xe.R?this.dataValue.name:""}}return e.\u0275fac=function(){let t;return function(i){return(t||(t=T.n5z(e)))(i||e)}}(),e.\u0275cmp=T.Xpm({type:e,selectors:[["sp-display-subtask-status-categories"]],features:[T.qOj],decls:1,vars:1,consts:[["class","sp-w-full sp-h-full sp-overflow-hidden sp-dt-display-tooltip sp-flex sp-align-items-center",3,"spTooltipEnabled","spTooltip",4,"ngIf"],[1,"sp-w-full","sp-h-full","sp-overflow-hidden","sp-dt-display-tooltip","sp-flex","sp-align-items-center",3,"spTooltipEnabled","spTooltip"],[4,"ngIf"],[1,"sp-w-full","sp-h-full","sp-flex","sp-align-items-center"],[4,"ngFor","ngForOf"],[3,"color","spTooltip","ngClass"],[3,"color"]],template:function(e,t){1&e&&T.YNc(0,pt,4,6,"div",0),2&e&&T.Q6J("ngIf",t.dataValue)},directives:[s.O5,E.i9,s.sg,G.H,s.mk],pipes:[v.C],encapsulation:2,changeDetection:0}),e})();const ht=function(e){return{"sp-mr-1":e}};function gt(e,t){if(1&e&&(T.ynx(0),T.TgZ(1,"sp-lozenge",5),T.ALo(2,"spRichTextString"),T._uU(3),T.qZA(),T.BQk()),2&e){const e=t.$implicit,i=t.last,s=T.oxw(3);T.xp6(1),T.Q6J("color",null==e.key?null:e.key.color)("spTooltip",T.lcZ(2,4,null==e.key?null:e.key.name))("ngClass",T.VKq(6,ht,!i)),T.xp6(2),T.hij(" ",s.getDistrbText(e)," ")}}function ft(e,t){if(1&e&&(T.ynx(0),T.TgZ(1,"div",3),T.YNc(2,gt,4,8,"ng-container",4),T.qZA(),T.BQk()),2&e){const e=T.oxw(2);T.xp6(2),T.Q6J("ngForOf",e.dataValue.distrb)}}function mt(e,t){if(1&e&&(T.ynx(0),T.TgZ(1,"sp-lozenge",6),T._uU(2),T.qZA(),T.BQk()),2&e){const e=T.oxw(2);T.xp6(1),T.Q6J("color",e.getColor()),T.xp6(1),T.hij(" ",e.getText()," ")}}function Tt(e,t){if(1&e&&(T.TgZ(0,"div",1),T.ALo(1,"spRichTextString"),T.YNc(2,ft,3,1,"ng-container",2),T.YNc(3,mt,3,2,"ng-container",2),T.qZA()),2&e){const e=T.oxw();T.Q6J("spTooltipEnabled",e.tooltipEnabled)("spTooltip",T.lcZ(1,4,e.getTooltipText())),T.xp6(2),T.Q6J("ngIf",e.dataValue&&e.hasHistogramValue()),T.xp6(1),T.Q6J("ngIf",!e.hasHistogramValue()&&e.hasValueToShow())}}let Et=(()=>{class e extends h.D{getDistrbText(e){return(null==e?void 0:e.value)+"%"}hasHistogramValue(){var e;return this.dataValue instanceof Ke.Li&&V.l.arrayHasElements(null===(e=this.dataValue)||void 0===e?void 0:e.distrb)}hasValueToShow(){return V.l.isDefined(this.dataValue)&&this.dataValue instanceof Xe.R?!!this.dataValue.name:V.l.isDefined(this.dataValue)&&this.dataValue instanceof et.z?!!this.dataValue.number:void 0}getColor(){return V.l.isDefined(this.dataValue)&&this.dataValue instanceof Xe.R?this.dataValue.statusCategory&&this.dataValue.statusCategory.color:""}getText(){return V.l.isDefined(this.dataValue)&&this.dataValue instanceof Xe.R?this.dataValue.name:""}}return e.\u0275fac=function(){let t;return function(i){return(t||(t=T.n5z(e)))(i||e)}}(),e.\u0275cmp=T.Xpm({type:e,selectors:[["sp-display-subtask-status-categories-percentage"]],features:[T.qOj],decls:1,vars:1,consts:[["class","sp-w-full sp-h-full sp-overflow-hidden sp-dt-display-tooltip sp-flex sp-align-items-center",3,"spTooltipEnabled","spTooltip",4,"ngIf"],[1,"sp-w-full","sp-h-full","sp-overflow-hidden","sp-dt-display-tooltip","sp-flex","sp-align-items-center",3,"spTooltipEnabled","spTooltip"],[4,"ngIf"],[1,"sp-w-full","sp-h-full","sp-flex","sp-align-items-center"],[4,"ngFor","ngForOf"],[3,"color","spTooltip","ngClass"],[3,"color"]],template:function(e,t){1&e&&T.YNc(0,Tt,4,6,"div",0),2&e&&T.Q6J("ngIf",t.dataValue)},directives:[s.O5,E.i9,s.sg,G.H,s.mk],pipes:[v.C],encapsulation:2,changeDetection:0}),e})();const vt=function(e){return{"sp-mr-1":e}};function It(e,t){if(1&e&&(T.ynx(0),T.TgZ(1,"sp-lozenge",5),T.ALo(2,"spRichTextString"),T._uU(3),T.qZA(),T.BQk()),2&e){const e=t.$implicit,i=t.last,s=T.oxw(3);T.xp6(1),T.Q6J("color",null==e.key?null:e.key.color)("spTooltip",T.lcZ(2,4,null==e.key?null:e.key.name))("ngClass",T.VKq(6,vt,!i)),T.xp6(2),T.hij(" ",s.getDistrbText(e)," ")}}function yt(e,t){if(1&e&&(T.ynx(0),T.TgZ(1,"div",3),T.YNc(2,It,4,8,"ng-container",4),T.qZA(),T.BQk()),2&e){const e=T.oxw(2);T.xp6(2),T.Q6J("ngForOf",e.dataValue.distrb)}}function Ct(e,t){if(1&e&&(T.ynx(0),T.TgZ(1,"sp-lozenge",6),T._uU(2),T.qZA(),T.BQk()),2&e){const e=T.oxw(2);T.xp6(1),T.Q6J("color",e.getColor()),T.xp6(1),T.hij(" ",e.getText()," ")}}function xt(e,t){if(1&e&&(T.TgZ(0,"div",1),T.ALo(1,"spRichTextString"),T.YNc(2,yt,3,1,"ng-container",2),T.YNc(3,Ct,3,2,"ng-container",2),T.qZA()),2&e){const e=T.oxw();T.Q6J("spTooltipEnabled",e.tooltipEnabled)("spTooltip",T.lcZ(1,4,e.getTooltipText())),T.xp6(2),T.Q6J("ngIf",e.dataValue&&e.hasHistogramValue()),T.xp6(1),T.Q6J("ngIf",!e.hasHistogramValue()&&e.hasValueToShow())}}let Dt=(()=>{class e extends h.D{getDistrbText(e){return(null==e?void 0:e.value)+"%"}hasHistogramValue(){var e;return this.dataValue instanceof Ke.Li&&V.l.arrayHasElements(null===(e=this.dataValue)||void 0===e?void 0:e.distrb)}hasValueToShow(){return V.l.isDefined(this.dataValue)&&this.dataValue instanceof Xe.R?!!this.dataValue.name:V.l.isDefined(this.dataValue)&&this.dataValue instanceof et.z?!!this.dataValue.number:void 0}getColor(){return V.l.isDefined(this.dataValue)&&this.dataValue instanceof Xe.R?this.dataValue.statusCategory&&this.dataValue.statusCategory.color:""}getText(){return V.l.isDefined(this.dataValue)&&this.dataValue instanceof Xe.R?this.dataValue.name:""}}return e.\u0275fac=function(){let t;return function(i){return(t||(t=T.n5z(e)))(i||e)}}(),e.\u0275cmp=T.Xpm({type:e,selectors:[["sp-display-subtask-statuses-percentage"]],features:[T.qOj],decls:1,vars:1,consts:[["class","sp-w-full sp-h-full sp-overflow-hidden sp-dt-display-tooltip sp-flex sp-align-items-center",3,"spTooltipEnabled","spTooltip",4,"ngIf"],[1,"sp-w-full","sp-h-full","sp-overflow-hidden","sp-dt-display-tooltip","sp-flex","sp-align-items-center",3,"spTooltipEnabled","spTooltip"],[4,"ngIf"],[1,"sp-w-full","sp-h-full","sp-flex","sp-align-items-center"],[4,"ngFor","ngForOf"],[3,"color","spTooltip","ngClass"],[3,"color"]],template:function(e,t){1&e&&T.YNc(0,xt,4,6,"div",0),2&e&&T.Q6J("ngIf",t.dataValue)},directives:[s.O5,E.i9,s.sg,G.H,s.mk],pipes:[v.C],encapsulation:2,changeDetection:0}),e})();var bt=i(63504),wt=i(33053);function St(e,t){if(1&e&&(T.TgZ(0,"a",7),T._uU(1),T.qZA()),2&e){const e=T.oxw().$implicit;T.s9C("href",e.url,T.LSH),T.xp6(1),T.hij(" ",e.name," ")}}function At(e,t){if(1&e&&T._uU(0),2&e){const e=T.oxw().$implicit;T.hij(" ",e.name," ")}}function Rt(e,t){if(1&e&&(T.ynx(0),T.YNc(1,St,2,2,"a",5),T.YNc(2,At,1,1,"ng-template",null,6,T.W1O),T.BQk()),2&e){const e=t.$implicit,i=T.MAs(3);T.xp6(1),T.Q6J("ngIf",e.url)("ngIfElse",i)}}function _t(e,t){if(1&e&&(T.TgZ(0,"div",3),T.YNc(1,Rt,4,2,"ng-container",4),T.qZA()),2&e){const e=T.oxw(2);T.xp6(1),T.Q6J("ngForOf",e.dataValue.list)}}function Nt(e,t){if(1&e&&(T.TgZ(0,"div",1),T.ALo(1,"spRichTextString"),T.YNc(2,_t,2,1,"div",2),T.qZA()),2&e){const e=T.oxw();T.Q6J("spTooltipEnabled",e.tooltipEnabled)("spTooltip",T.lcZ(1,3,e.getTooltipText())),T.xp6(2),T.Q6J("ngIf",e.isVersionsAvailable())}}let Lt=(()=>{class e extends h.D{isVersionsAvailable(){return V.l.isDefined(this.dataValue)&&V.l.arrayHasElements(this.dataValue.list)}}return e.\u0275fac=function(){let t;return function(i){return(t||(t=T.n5z(e)))(i||e)}}(),e.\u0275cmp=T.Xpm({type:e,selectors:[["sp-display-version"]],features:[T.qOj],decls:1,vars:1,consts:[["class","sp-w-full sp-h-full sp-overflow-hidden sp-dt-display-tooltip sp-flex sp-align-items-center",3,"spTooltipEnabled","spTooltip",4,"ngIf"],[1,"sp-w-full","sp-h-full","sp-overflow-hidden","sp-dt-display-tooltip","sp-flex","sp-align-items-center",3,"spTooltipEnabled","spTooltip"],["class","sp-w-full sp-h-full sp-flex sp-align-items-center",4,"ngIf"],[1,"sp-w-full","sp-h-full","sp-flex","sp-align-items-center"],[4,"ngFor","ngForOf"],["target","_blank",3,"href",4,"ngIf","ngIfElse"],["noLink",""],["target","_blank",3,"href"]],template:function(e,t){1&e&&T.YNc(0,Nt,3,5,"div",0),2&e&&T.Q6J("ngIf",t.dataValue)},directives:[s.O5,E.i9,s.sg],pipes:[v.C],encapsulation:2,changeDetection:0}),e})();function Ot(e,t){if(1&e&&(T.ynx(0),T.TgZ(1,"sp-label",5),T.ALo(2,"spRichTextString"),T.TgZ(3,"div",6),T._uU(4),T.qZA(),T.qZA(),T.BQk()),2&e){const e=t.$implicit;T.xp6(1),T.Q6J("spTooltip",T.lcZ(2,2,null==e?null:e.key)),T.xp6(3),T.hij(" ",null==e?null:e.value," ")}}function Ft(e,t){if(1&e&&(T.ynx(0),T.TgZ(1,"div",3),T.YNc(2,Ot,5,4,"ng-container",4),T.qZA(),T.BQk()),2&e){const e=T.oxw(2);T.xp6(2),T.Q6J("ngForOf",e.dataValue.distrb)}}function Mt(e,t){if(1&e&&(T.ynx(0),T._UZ(1,"sp-display-version",7),T.BQk()),2&e){const e=T.oxw(2);T.xp6(1),T.Q6J("dataValue",e.dataValue.item)("fieldDefinition",e.fieldDefinition)("entity",e.entity)}}function Ut(e,t){if(1&e&&(T.TgZ(0,"div",1),T.ALo(1,"spRichTextString"),T.YNc(2,Ft,3,1,"ng-container",2),T.YNc(3,Mt,2,3,"ng-container",2),T.qZA()),2&e){const e=T.oxw();T.Q6J("spTooltipEnabled",e.tooltipEnabled)("spTooltip",T.lcZ(1,4,e.getTooltipText())),T.xp6(2),T.Q6J("ngIf",e.dataValue&&e.hasHistogramValue()),T.xp6(1),T.Q6J("ngIf",e.dataValue&&!e.hasHistogramValue()&&e.hasValueToShow())}}let kt=(()=>{class e extends h.D{hasHistogramValue(){return this.dataValue instanceof bt.e&&V.l.arrayHasElements(this.dataValue.distrb)}hasValueToShow(){var e;return this.dataValue instanceof bt.e&&(null===(e=this.dataValue)||void 0===e?void 0:e.item)&&V.l.arrayHasElements(this.dataValue.item.list)}}return e.\u0275fac=function(){let t;return function(i){return(t||(t=T.n5z(e)))(i||e)}}(),e.\u0275cmp=T.Xpm({type:e,selectors:[["sp-display-subtask-version"]],features:[T.qOj],decls:1,vars:1,consts:[["class","sp-w-full sp-h-full sp-overflow-hidden sp-dt-display-tooltip sp-flex sp-align-items-center",3,"spTooltipEnabled","spTooltip",4,"ngIf"],[1,"sp-w-full","sp-h-full","sp-overflow-hidden","sp-dt-display-tooltip","sp-flex","sp-align-items-center",3,"spTooltipEnabled","spTooltip"],[4,"ngIf"],[1,"sp-w-full","sp-h-full","sp-flex","sp-align-items-center"],[4,"ngFor","ngForOf"],[1,"sp-mr-1",3,"spTooltip"],[1,"sp-font-bold"],[1,"sp-mr-1",3,"dataValue","fieldDefinition","entity"]],template:function(e,t){1&e&&T.YNc(0,Ut,4,6,"div",0),2&e&&T.Q6J("ngIf",t.dataValue)},directives:[s.O5,E.i9,s.sg,wt._,Lt],pipes:[v.C],encapsulation:2,changeDetection:0}),e})();var Bt=i(96053);function Vt(e,t){if(1&e&&(T.ynx(0),T.TgZ(1,"sp-label",5),T.ALo(2,"spRichTextString"),T.TgZ(3,"div",6),T._uU(4),T.qZA(),T.qZA(),T.BQk()),2&e){const e=t.$implicit;T.xp6(1),T.Q6J("spTooltip",T.lcZ(2,2,null==e?null:e.key)),T.xp6(3),T.hij(" ",(null==e?null:e.value)+"%"," ")}}function Gt(e,t){if(1&e&&(T.ynx(0),T.TgZ(1,"div",3),T.YNc(2,Vt,5,4,"ng-container",4),T.qZA(),T.BQk()),2&e){const e=T.oxw(2);T.xp6(2),T.Q6J("ngForOf",e.dataValue.distrb)}}function Pt(e,t){if(1&e&&(T.ynx(0),T._UZ(1,"sp-display-version",7),T.BQk()),2&e){const e=T.oxw(2);T.xp6(1),T.Q6J("dataValue",e.dataValue.item)("fieldDefinition",e.fieldDefinition)("entity",e.entity)}}function Yt(e,t){if(1&e&&(T.TgZ(0,"div",1),T.ALo(1,"spRichTextString"),T.YNc(2,Gt,3,1,"ng-container",2),T.YNc(3,Pt,2,3,"ng-container",2),T.qZA()),2&e){const e=T.oxw();T.Q6J("spTooltipEnabled",e.tooltipEnabled)("spTooltip",T.lcZ(1,4,e.getTooltipText())),T.xp6(2),T.Q6J("ngIf",e.dataValue&&e.hasHistogramValue()),T.xp6(1),T.Q6J("ngIf",e.dataValue&&!e.hasHistogramValue()&&e.hasValueToShow())}}let Zt=(()=>{class e extends h.D{hasHistogramValue(){return this.dataValue instanceof Bt.s&&V.l.arrayHasElements(this.dataValue.distrb)}hasValueToShow(){var e;return this.dataValue instanceof Bt.s&&(null===(e=this.dataValue)||void 0===e?void 0:e.item)&&V.l.arrayHasElements(this.dataValue.item.list)}}return e.\u0275fac=function(){let t;return function(i){return(t||(t=T.n5z(e)))(i||e)}}(),e.\u0275cmp=T.Xpm({type:e,selectors:[["sp-display-subtask-version-percentage"]],features:[T.qOj],decls:1,vars:1,consts:[["class","sp-w-full sp-h-full sp-overflow-hidden sp-dt-display-tooltip sp-flex sp-align-items-center",3,"spTooltipEnabled","spTooltip",4,"ngIf"],[1,"sp-w-full","sp-h-full","sp-overflow-hidden","sp-dt-display-tooltip","sp-flex","sp-align-items-center",3,"spTooltipEnabled","spTooltip"],[4,"ngIf"],[1,"sp-w-full","sp-h-full","sp-flex","sp-align-items-center"],[4,"ngFor","ngForOf"],[1,"sp-mr-1",3,"spTooltip"],[1,"sp-font-bold"],[1,"sp-mr-1",3,"dataValue","fieldDefinition","entity"]],template:function(e,t){1&e&&T.YNc(0,Yt,4,6,"div",0),2&e&&T.Q6J("ngIf",t.dataValue)},directives:[s.O5,E.i9,s.sg,wt._,Lt],pipes:[v.C],encapsulation:2,changeDetection:0}),e})();var zt=i(11194);function Jt(e,t){if(1&e&&(T.ynx(0),T.TgZ(1,"span",4),T._uU(2),T.qZA(),T.BQk()),2&e){const e=t.$implicit,i=t.last,s=T.oxw(2);T.xp6(2),T.Oqu(s.getSprintName(e,i))}}function Ht(e,t){if(1&e&&(T.TgZ(0,"div",2),T.YNc(1,Jt,3,1,"ng-container",3),T.qZA()),2&e){const e=T.oxw();T.xp6(1),T.Q6J("ngForOf",e.dataValue.sprints)}}let qt=(()=>{class e extends h.D{isSprintsAvailable(){return V.l.isDefined(this.dataValue)&&V.l.arrayHasElements(this.dataValue.sprints)}getSprintName(e,t){return(null==e?void 0:e.name)&&e.name+(t?"":", ")}}return e.\u0275fac=function(){let t;return function(i){return(t||(t=T.n5z(e)))(i||e)}}(),e.\u0275cmp=T.Xpm({type:e,selectors:[["sp-display-sprints"]],features:[T.qOj],decls:3,vars:5,consts:[[1,"sp-w-full","sp-h-full","sp-overflow-hidden","sp-dt-display-tooltip","sp-flex","sp-align-items-center",3,"spTooltipEnabled","spTooltip"],["class","sp-w-full sp-h-full sp-flex sp-align-items-center",4,"ngIf"],[1,"sp-w-full","sp-h-full","sp-flex","sp-align-items-center"],[4,"ngFor","ngForOf"],[1,"sp-text-wrapper"]],template:function(e,t){1&e&&(T.TgZ(0,"div",0),T.ALo(1,"spRichTextString"),T.YNc(2,Ht,2,1,"div",1),T.qZA()),2&e&&(T.Q6J("spTooltipEnabled",t.tooltipEnabled)("spTooltip",T.lcZ(1,3,t.getTooltipText())),T.xp6(2),T.Q6J("ngIf",t.isSprintsAvailable()))},directives:[E.i9,s.O5,s.sg],pipes:[v.C],encapsulation:2,changeDetection:0}),e})();var Qt=i(28527),$t=i(22755),jt=i(43205),Wt=i(40696),Kt=i(41316),Xt=i(71964),ei=i(48603),ti=i(54623),ii=i(74553),si=i(30898),ri=i(90605),ni=i(42270),oi=(i(83940),i(78993)),ai=i(18270);function li(e,t){if(1&e&&(T.ynx(0),T.TgZ(1,"a",3),T._uU(2),T.qZA(),T.BQk()),2&e){const e=t.$implicit,i=T.oxw(2);T.xp6(1),T.s9C("href",i.getAttachmentUrl(e),T.LSH),T.xp6(1),T.hij(" ",i.getAttachmentName(e)," ")}}function di(e,t){if(1&e&&(T.TgZ(0,"div",1),T.ALo(1,"spRichTextString"),T.YNc(2,li,3,2,"ng-container",2),T.qZA()),2&e){const e=T.oxw();T.Q6J("spTooltipEnabled",e.tooltipEnabled)("spTooltip",T.lcZ(1,3,e.getTooltipText())),T.xp6(2),T.Q6J("ngForOf",e.dataValue.attachments)}}let ci=(()=>{class e extends h.D{getAttachmentName(e){return e.name}getAttachmentUrl(e){return e.url}}return e.\u0275fac=function(){let t;return function(i){return(t||(t=T.n5z(e)))(i||e)}}(),e.\u0275cmp=T.Xpm({type:e,selectors:[["sp-display-attachments"]],features:[T.qOj],decls:1,vars:1,consts:[["class","sp-w-full sp-h-full sp-overflow-hidden sp-dt-display-tooltip sp-flex sp-align-items-center",3,"spTooltipEnabled","spTooltip",4,"ngIf"],[1,"sp-w-full","sp-h-full","sp-overflow-hidden","sp-dt-display-tooltip","sp-flex","sp-align-items-center",3,"spTooltipEnabled","spTooltip"],[4,"ngFor","ngForOf"],["target","_blank",1,"sp-pr-2","sp-text-wrapper",3,"href"]],template:function(e,t){1&e&&T.YNc(0,di,3,5,"div",0),2&e&&T.Q6J("ngIf",t.dataValue)},directives:[s.O5,E.i9,s.sg],pipes:[v.C],encapsulation:2,changeDetection:0}),e})();var pi=i(75785);function ui(e,t){if(1&e&&(T.TgZ(0,"div",4),T._UZ(1,"img",5),T.TgZ(2,"span",6),T._uU(3),T.qZA(),T.qZA()),2&e){const e=t.$implicit,i=T.oxw(2);T.xp6(1),T.Q6J("spLazyImg",i.getAvatarIcon(e)),T.xp6(2),T.hij(" ",i.getDisplayName(e)," ")}}function hi(e,t){if(1&e&&(T.TgZ(0,"div",1),T.ALo(1,"spRichTextString"),T.TgZ(2,"div",2),T.YNc(3,ui,4,2,"div",3),T.qZA(),T.qZA()),2&e){const e=T.oxw();T.Q6J("spTooltipEnabled",e.tooltipEnabled)("spTooltip",T.lcZ(1,3,e.getTooltipText())),T.xp6(3),T.Q6J("ngForOf",e.dataValue.users)}}let gi=(()=>{class e extends h.D{isDataValueAvailable(){return this.dataValue&&V.l.arrayHasElements(this.dataValue.users)}getAvatarIcon(e){var t;return e&&(null===(t=e.data)||void 0===t?void 0:t.avatar_url_normal)?e.data.avatar_url_normal:pi.V}getDisplayName(e){return e.data&&e.data.displayName}}return e.\u0275fac=function(){let t;return function(i){return(t||(t=T.n5z(e)))(i||e)}}(),e.\u0275cmp=T.Xpm({type:e,selectors:[["sp-display-multi-user-avatar-and-name"]],features:[T.qOj],decls:1,vars:1,consts:[["class","sp-display-multi-user-avatar-and-name sp-w-full sp-h-full sp-overflow-hidden sp-dt-display-tooltip sp-flex sp-align-items-center",3,"spTooltipEnabled","spTooltip",4,"ngIf"],[1,"sp-display-multi-user-avatar-and-name","sp-w-full","sp-h-full","sp-overflow-hidden","sp-dt-display-tooltip","sp-flex","sp-align-items-center",3,"spTooltipEnabled","spTooltip"],[1,"sp-w-full","sp-h-full","sp-flex","sp-align-items-center"],["class","sp-flex-inline sp-align-items-center sp-truncate sp-w-full",4,"ngFor","ngForOf"],[1,"sp-flex-inline","sp-align-items-center","sp-truncate","sp-w-full"],[1,"sp-user-avatar","sp-circle",3,"spLazyImg"],[1,"sp-text-wrapper","sp-px-1"]],template:function(e,t){1&e&&T.YNc(0,hi,4,5,"div",0),2&e&&T.Q6J("ngIf",t.isDataValueAvailable())},directives:[s.O5,E.i9,s.sg,H.$],pipes:[v.C],styles:[".sp-display-multi-user-avatar-and-name .sp-user-avatar{min-height:16px;min-width:16px;height:16px;width:16px;object-fit:cover}"],encapsulation:2,changeDetection:0}),e})();function fi(e,t){if(1&e&&(T.ynx(0),T._UZ(1,"img",4),T.BQk()),2&e){const e=t.$implicit,i=T.oxw(2);T.xp6(1),T.Q6J("spLazyImg",i.getAvatarIcon(e))}}function mi(e,t){if(1&e&&(T.TgZ(0,"div",1),T.ALo(1,"spRichTextString"),T.TgZ(2,"div",2),T.YNc(3,fi,2,1,"ng-container",3),T.qZA(),T.qZA()),2&e){const e=T.oxw();T.Q6J("spTooltipEnabled",e.tooltipEnabled)("spTooltip",T.lcZ(1,3,e.getTooltipText())),T.xp6(3),T.Q6J("ngForOf",e.dataValue.users)}}let Ti=(()=>{class e extends h.D{isDataValueAvailable(){return this.dataValue&&V.l.arrayHasElements(this.dataValue.users)}getAvatarIcon(e){var t;return e&&(null===(t=e.data)||void 0===t?void 0:t.avatar_url_normal)?e.data.avatar_url_normal:pi.V}}return e.\u0275fac=function(){let t;return function(i){return(t||(t=T.n5z(e)))(i||e)}}(),e.\u0275cmp=T.Xpm({type:e,selectors:[["sp-display-multi-user-avatar"]],features:[T.qOj],decls:1,vars:1,consts:[["class","sp-display-multi-user-avatar sp-w-full sp-h-full sp-overflow-hidden sp-dt-display-tooltip sp-flex sp-align-items-center",3,"spTooltipEnabled","spTooltip",4,"ngIf"],[1,"sp-display-multi-user-avatar","sp-w-full","sp-h-full","sp-overflow-hidden","sp-dt-display-tooltip","sp-flex","sp-align-items-center",3,"spTooltipEnabled","spTooltip"],[1,"sp-w-full","sp-h-full","sp-flex","sp-align-items-center"],[4,"ngFor","ngForOf"],[1,"sp-user-avatar","sp-circle","sp-ml-1",3,"spLazyImg"]],template:function(e,t){1&e&&T.YNc(0,mi,4,5,"div",0),2&e&&T.Q6J("ngIf",t.isDataValueAvailable())},directives:[s.O5,E.i9,s.sg,H.$],pipes:[v.C],styles:[".sp-display-multi-user-avatar .sp-user-avatar{min-height:16px;min-width:16px;height:16px;width:16px;object-fit:cover}"],encapsulation:2,changeDetection:0}),e})();var Ei=i(75689);function vi(e,t){if(1&e&&T._UZ(0,"img",6),2&e){const e=T.oxw(3);T.Q6J("spLazyImg",e.dataValue.iconUrl)}}function Ii(e,t){if(1&e&&(T.TgZ(0,"span",7),T._uU(1),T.qZA()),2&e){const e=T.oxw(3);T.xp6(1),T.Oqu(e.dataValue.name)}}function yi(e,t){if(1&e&&(T.TgZ(0,"a",3),T.YNc(1,vi,1,1,"img",4),T.YNc(2,Ii,2,1,"span",5),T.qZA()),2&e){const e=T.oxw(2);T.s9C("href",e.projectHref,T.LSH),T.xp6(1),T.Q6J("ngIf",e.dataValue.iconUrl),T.xp6(1),T.Q6J("ngIf",e.dataValue.name)}}function Ci(e,t){if(1&e&&(T.TgZ(0,"div",1),T.ALo(1,"spRichTextString"),T.YNc(2,yi,3,3,"a",2),T.qZA()),2&e){const e=T.oxw();T.Q6J("spTooltipEnabled",e.tooltipEnabled)("spTooltip",T.lcZ(1,3,e.getTooltipText())),T.xp6(2),T.Q6J("ngIf",e.projectHref)}}let xi=(()=>{class e extends h.D{constructor(e,t,i,s,r){super(e,t,i,s),this.renderer=e,this.elementRef=t,this.injector=i,this.fieldCustomActions=s,this.environmentService=r}ngOnChanges(e){e.dataValue&&e.dataValue.currentValue&&(this.projectHref=`${this.environmentService.getTaskProviderBaseUrl()}/browse/${this.dataValue.key}`)}}return e.\u0275fac=function(t){return new(t||e)(T.Y36(T.Qsj),T.Y36(T.SBq),T.Y36(T.zs3),T.Y36(a.r,8),T.Y36(Ei.L))},e.\u0275cmp=T.Xpm({type:e,selectors:[["sp-display-project-icon-and-name-with-link"]],features:[T.qOj,T.TTD],decls:1,vars:1,consts:[["class","sp-w-full sp-h-full sp-flex sp-align-items-center sp-overflow-hidden sp-dt-display-tooltip",3,"spTooltipEnabled","spTooltip",4,"ngIf"],[1,"sp-w-full","sp-h-full","sp-flex","sp-align-items-center","sp-overflow-hidden","sp-dt-display-tooltip",3,"spTooltipEnabled","spTooltip"],["target","_blank","class","sp-display-icon-link sp-flex sp-align-items-center sp-overflow-hidden",3,"href",4,"ngIf"],["target","_blank",1,"sp-display-icon-link","sp-flex","sp-align-items-center","sp-overflow-hidden",3,"href"],["class","sp-display-icon sp-flex-shrink-0",3,"spLazyImg",4,"ngIf"],["class","sp-pl-2 sp-text-wrapper",4,"ngIf"],[1,"sp-display-icon","sp-flex-shrink-0",3,"spLazyImg"],[1,"sp-pl-2","sp-text-wrapper"]],template:function(e,t){1&e&&T.YNc(0,Ci,3,5,"div",0),2&e&&T.Q6J("ngIf",t.dataValue)},directives:[s.O5,E.i9,H.$],pipes:[v.C],encapsulation:2,changeDetection:0}),e})();var Di=i(39498);function bi(e,t){if(1&e&&(T.TgZ(0,"div",1),T.ALo(1,"spRichTextString"),T.TgZ(2,"a",2),T._uU(3),T.qZA(),T.qZA()),2&e){const e=T.oxw();T.Udp("-webkit-line-clamp",1),T.Q6J("spTooltipEnabled",e.tooltipEnabled)("spTooltip",T.lcZ(1,6,e.getTooltipText())),T.xp6(2),T.Q6J("spNavigationLink",e.dataValue.value),T.xp6(1),T.hij(" ",e.dataValue.value," ")}}let wi=(()=>{class e extends h.D{}return e.\u0275fac=function(){let t;return function(i){return(t||(t=T.n5z(e)))(i||e)}}(),e.\u0275cmp=T.Xpm({type:e,selectors:[["sp-display-link"]],features:[T.qOj],decls:1,vars:1,consts:[["class","sp-w-full sp-h-full sp-overflow-hidden sp-dt-display-tooltip sp-flex sp-align-items-center sp-display-field sp-truncate",3,"-webkit-line-clamp","spTooltipEnabled","spTooltip",4,"ngIf"],[1,"sp-w-full","sp-h-full","sp-overflow-hidden","sp-dt-display-tooltip","sp-flex","sp-align-items-center","sp-display-field","sp-truncate",3,"spTooltipEnabled","spTooltip"],["target","_parent",1,"sp-text-wrapper",3,"spNavigationLink"]],template:function(e,t){1&e&&T.YNc(0,bi,4,8,"div",0),2&e&&T.Q6J("ngIf",void 0!==t.dataValue)},directives:[s.O5,E.i9,Di.k],pipes:[v.C],encapsulation:2,changeDetection:0}),e})();function Si(e,t){if(1&e&&(T.ynx(0),T.TgZ(1,"a",4),T._uU(2),T.qZA(),T.BQk()),2&e){const e=t.$implicit;T.xp6(1),T.Q6J("spNavigationLink",e.url),T.xp6(1),T.hij(" ",e.text," ")}}function Ai(e,t){if(1&e&&(T.TgZ(0,"div",1),T.ALo(1,"spRichTextString"),T.TgZ(2,"div",2),T.YNc(3,Si,3,2,"ng-container",3),T.qZA(),T.qZA()),2&e){const e=T.oxw();T.Q6J("spTooltipEnabled",e.tooltipEnabled)("spTooltip",T.lcZ(1,3,e.getTooltipText())),T.xp6(3),T.Q6J("ngForOf",e.dataValue.links)}}let Ri=(()=>{class e extends h.D{isDateValueAvailable(){return V.l.isDefined(this.dataValue)&&V.l.arrayHasElements(this.dataValue.links)}}return e.\u0275fac=function(){let t;return function(i){return(t||(t=T.n5z(e)))(i||e)}}(),e.\u0275cmp=T.Xpm({type:e,selectors:[["sp-display-url-links"]],features:[T.qOj],decls:1,vars:1,consts:[["class","sp-w-full sp-h-full sp-overflow-hidden sp-dt-display-tooltip sp-flex sp-align-items-center",3,"spTooltipEnabled","spTooltip",4,"ngIf"],[1,"sp-w-full","sp-h-full","sp-overflow-hidden","sp-dt-display-tooltip","sp-flex","sp-align-items-center",3,"spTooltipEnabled","spTooltip"],[1,"sp-w-full","sp-h-full","sp-flex","sp-align-items-center"],[4,"ngFor","ngForOf"],["href","#","target","_parent",1,"sp-link","sp-text-wrapper",3,"spNavigationLink"]],template:function(e,t){1&e&&T.YNc(0,Ai,4,5,"div",0),2&e&&T.Q6J("ngIf",t.isDateValueAvailable())},directives:[s.O5,E.i9,s.sg,Di.k],pipes:[v.C],encapsulation:2,changeDetection:0}),e})();var _i=i(22298),Ni=i(8720);function Li(e,t){if(1&e&&(T.TgZ(0,"div",1),T.ALo(1,"spRichTextString"),T.TgZ(2,"span",2),T._uU(3),T.qZA(),T.qZA()),2&e){const e=T.oxw();T.Q6J("spTooltipEnabled",e.tooltipEnabled)("spTooltip",T.lcZ(1,3,e.getTooltipText())),T.xp6(3),T.hij("",e.dataValue.number,"%")}}let Oi=(()=>{class e extends h.D{}return e.\u0275fac=function(){let t;return function(i){return(t||(t=T.n5z(e)))(i||e)}}(),e.\u0275cmp=T.Xpm({type:e,selectors:[["sp-display-percentage-text"]],features:[T.qOj],decls:1,vars:1,consts:[["class","sp-w-full sp-h-full sp-overflow-hidden sp-dt-display-tooltip sp-flex sp-align-items-center",3,"spTooltipEnabled","spTooltip",4,"ngIf"],[1,"sp-w-full","sp-h-full","sp-overflow-hidden","sp-dt-display-tooltip","sp-flex","sp-align-items-center",3,"spTooltipEnabled","spTooltip"],[1,"sp-text-wrapper"]],template:function(e,t){1&e&&T.YNc(0,Li,4,5,"div",0),2&e&&T.Q6J("ngIf",void 0!==t.dataValue)},directives:[s.O5,E.i9],pipes:[v.C],encapsulation:2,changeDetection:0}),e})();function Fi(e,t){if(1&e&&(T.TgZ(0,"div",1),T.ALo(1,"spRichTextString"),T.TgZ(2,"sp-lozenge",2),T._uU(3),T.qZA(),T.qZA()),2&e){const e=T.oxw();T.Q6J("spTooltipEnabled",e.tooltipEnabled)("spTooltip",T.lcZ(1,4,e.getTooltipText())),T.xp6(2),T.Q6J("type",e.dataValue),T.xp6(1),T.hij(" ",e.dataValue.number,"% ")}}let Mi=(()=>{class e extends h.D{}return e.\u0275fac=function(){let t;return function(i){return(t||(t=T.n5z(e)))(i||e)}}(),e.\u0275cmp=T.Xpm({type:e,selectors:[["sp-display-percentage-lozenge"]],features:[T.qOj],decls:1,vars:1,consts:[["class","sp-w-full sp-h-full sp-overflow-hidden sp-dt-display-tooltip sp-flex sp-align-items-center",3,"spTooltipEnabled","spTooltip",4,"ngIf"],[1,"sp-w-full","sp-h-full","sp-overflow-hidden","sp-dt-display-tooltip","sp-flex","sp-align-items-center",3,"spTooltipEnabled","spTooltip"],[3,"type"]],template:function(e,t){1&e&&T.YNc(0,Fi,4,6,"div",0),2&e&&T.Q6J("ngIf",void 0!==t.dataValue)},directives:[s.O5,E.i9,G.H],pipes:[v.C],encapsulation:2,changeDetection:0}),e})();var Ui=i(16989),ki=i(72289),Bi=i(22572);function Vi(e,t){if(1&e&&(T.TgZ(0,"a",4),T._uU(1),T.qZA()),2&e){const e=T.oxw(2);T.Q6J("spNavigationLink",e.href),T.xp6(1),T.hij(" ",e.value," ")}}function Gi(e,t){if(1&e&&(T.TgZ(0,"div",5),T._uU(1),T.qZA()),2&e){const e=T.oxw(2);T.xp6(1),T.hij(" ",e.value," ")}}function Pi(e,t){if(1&e&&(T.TgZ(0,"div",1),T.ALo(1,"spRichTextString"),T.YNc(2,Vi,2,2,"a",2),T.YNc(3,Gi,2,1,"ng-template",null,3,T.W1O),T.qZA()),2&e){const e=T.MAs(4),t=T.oxw();T.Q6J("spTooltipEnabled",t.tooltipEnabled)("spTooltip",T.lcZ(1,4,t.getTooltipText())),T.xp6(2),T.Q6J("ngIf",t.href)("ngIfElse",e)}}let Yi=(()=>{class e extends h.D{constructor(){super(...arguments),this.value="",this.href=""}ngOnChanges(e){e.dataValue&&e.dataValue.currentValue&&(this.setValue(),this.setHref())}setValue(){this.value=this.dataValue.value}setHref(){this.href=this.dataValue.url}}return e.\u0275fac=function(){let t;return function(i){return(t||(t=T.n5z(e)))(i||e)}}(),e.\u0275cmp=T.Xpm({type:e,selectors:[["sp-display-task-key"]],features:[T.qOj,T.TTD],decls:1,vars:1,consts:[["class","sp-w-full sp-h-full sp-overflow-hidden sp-dt-display-tooltip sp-flex sp-align-items-center",3,"spTooltipEnabled","spTooltip",4,"ngIf"],[1,"sp-w-full","sp-h-full","sp-overflow-hidden","sp-dt-display-tooltip","sp-flex","sp-align-items-center",3,"spTooltipEnabled","spTooltip"],["spRightClickIgnore","","class","sp-task_key sp-text-wrapper","target","_blank",3,"spNavigationLink",4,"ngIf","ngIfElse"],["noLink",""],["spRightClickIgnore","","target","_blank",1,"sp-task_key","sp-text-wrapper",3,"spNavigationLink"],[1,"sp-task_key","sp-text-wrapper"]],template:function(e,t){1&e&&T.YNc(0,Pi,5,6,"div",0),2&e&&T.Q6J("ngIf",t.dataValue)},directives:[s.O5,E.i9,Di.k,Bi.N],pipes:[v.C],encapsulation:2,changeDetection:0}),e})();const Zi=function(e){return{fill:e,stroke:"black"}},zi=function(e){return{fill:e,stroke:"black"}};function Ji(e,t){if(1&e&&(T.O4$(),T.TgZ(0,"svg",3),T.TgZ(1,"g",4),T._UZ(2,"rect",5),T._UZ(3,"circle",6),T._UZ(4,"circle",7),T._UZ(5,"circle",8),T.qZA(),T.qZA()),2&e){const e=T.oxw(2);T.xp6(3),T.Q6J("ngStyle",T.VKq(3,Zi,e.getLeft())),T.xp6(1),T.Q6J("ngStyle",T.VKq(5,zi,e.getMiddle())),T.xp6(1),T.Q6J("ngStyle",T.VKq(7,zi,e.getRight()))}}function Hi(e,t){if(1&e&&(T.TgZ(0,"div",1),T.ALo(1,"spRichTextString"),T.YNc(2,Ji,6,9,"svg",2),T.qZA()),2&e){const e=T.oxw();T.Q6J("spTooltipEnabled",e.tooltipEnabled)("spTooltip",T.lcZ(1,3,e.getTooltipText())),T.xp6(2),T.Q6J("ngIf",e.getLeft())}}let qi=(()=>{class e extends h.D{getLeft(){return this.dataValue.leftColor}getMiddle(){return this.dataValue.middleColor}getRight(){return this.dataValue.rightColor}}return e.\u0275fac=function(){let t;return function(i){return(t||(t=T.n5z(e)))(i||e)}}(),e.\u0275cmp=T.Xpm({type:e,selectors:[["sp-display-traffic-light"]],features:[T.qOj],decls:1,vars:1,consts:[["class","sp-w-full sp-h-full sp-overflow-hidden sp-dt-display-tooltip sp-flex sp-align-items-center",3,"spTooltipEnabled","spTooltip",4,"ngIf"],[1,"sp-w-full","sp-h-full","sp-overflow-hidden","sp-dt-display-tooltip","sp-flex","sp-align-items-center",3,"spTooltipEnabled","spTooltip"],["class","gantt_shadow_traffic_lights","xmlns","http://www.w3.org/2000/svg","version","1.1","id","svg2","height","22px","width","65px","viewBox","0 0 60 20",4,"ngIf"],["xmlns","http://www.w3.org/2000/svg","version","1.1","id","svg2","height","22px","width","65px","viewBox","0 0 60 20",1,"gantt_shadow_traffic_lights"],["id","trafficLight_customfield_11900","name","EVLIX-16-customfield_11900"],["ry","5","rx","5","y","0","x","1","height","18","width","58","id","rect3347",2,"fill","#eeeeee","fill-opacity","1","stroke","gray","stroke-width","1","stroke-opacity","1"],["r","6","cy","9","cx","14","id","left",3,"ngStyle"],["r","6","cy","9","cx","30","id","middle",3,"ngStyle"],["r","6","cy","9","cx","46","id","right",3,"ngStyle"]],template:function(e,t){1&e&&T.YNc(0,Hi,3,5,"div",0),2&e&&T.Q6J("ngIf",t.dataValue)},directives:[s.O5,E.i9,s.PC],pipes:[v.C],encapsulation:2,changeDetection:0}),e})();function Qi(e,t){if(1&e&&(T.TgZ(0,"a",8),T._uU(1),T.qZA()),2&e){const e=T.oxw().$implicit;T.s9C("href",e.url,T.LSH),T.xp6(1),T.hij(" ",e.text," ")}}function $i(e,t){if(1&e&&(T.TgZ(0,"i"),T._uU(1),T.qZA()),2&e){const e=T.oxw().$implicit;T.xp6(1),T.hij(" ",e.text," ")}}function ji(e,t){if(1&e&&(T.TgZ(0,"b"),T._uU(1),T.qZA()),2&e){const e=T.oxw().$implicit;T.xp6(1),T.hij(" ",e.text," ")}}function Wi(e,t){if(1&e&&(T.TgZ(0,"mark"),T._uU(1),T.qZA()),2&e){const e=T.oxw().$implicit;T.xp6(1),T.hij(" ",e.text," ")}}function Ki(e,t){if(1&e&&(T.TgZ(0,"small"),T._uU(1),T.qZA()),2&e){const e=T.oxw().$implicit;T.xp6(1),T.hij(" ",e.text," ")}}function Xi(e,t){if(1&e&&(T.TgZ(0,"del"),T._uU(1),T.qZA()),2&e){const e=T.oxw().$implicit;T.xp6(1),T.hij(" ",e.text," ")}}function es(e,t){if(1&e&&(T.TgZ(0,"ins"),T._uU(1),T.qZA()),2&e){const e=T.oxw().$implicit;T.xp6(1),T.hij(" ",e.text," ")}}function ts(e,t){if(1&e&&(T.TgZ(0,"sub"),T._uU(1),T.qZA()),2&e){const e=T.oxw().$implicit;T.xp6(1),T.hij(" ",e.text," ")}}function is(e,t){if(1&e&&(T.TgZ(0,"sup"),T._uU(1),T.qZA()),2&e){const e=T.oxw().$implicit;T.xp6(1),T.hij(" ",e.text," ")}}function ss(e,t){if(1&e&&(T.TgZ(0,"p",9),T._uU(1),T.qZA()),2&e){const e=T.oxw().$implicit;T.xp6(1),T.Oqu(e.text)}}function rs(e,t){1&e&&(T.ynx(0,4),T.YNc(1,Qi,2,2,"a",5),T.YNc(2,$i,2,1,"i",6),T.YNc(3,ji,2,1,"b",6),T.YNc(4,Wi,2,1,"mark",6),T.YNc(5,Ki,2,1,"small",6),T.YNc(6,Xi,2,1,"del",6),T.YNc(7,es,2,1,"ins",6),T.YNc(8,ts,2,1,"sub",6),T.YNc(9,is,2,1,"sup",6),T.YNc(10,ss,2,1,"p",7),T.BQk()),2&e&&(T.Q6J("ngSwitch",t.$implicit.elementType),T.xp6(1),T.Q6J("ngSwitchCase","LINK"),T.xp6(1),T.Q6J("ngSwitchCase","ITALIC"),T.xp6(1),T.Q6J("ngSwitchCase","STRONG"),T.xp6(1),T.Q6J("ngSwitchCase","MARKED"),T.xp6(1),T.Q6J("ngSwitchCase","SMALL"),T.xp6(1),T.Q6J("ngSwitchCase","DELETED"),T.xp6(1),T.Q6J("ngSwitchCase","INSERTED"),T.xp6(1),T.Q6J("ngSwitchCase","SUBSCRIPT"),T.xp6(1),T.Q6J("ngSwitchCase","SUPERSCRIPT"))}function ns(e,t){if(1&e&&(T.TgZ(0,"div",1),T.ALo(1,"spRichTextString"),T.TgZ(2,"div",2),T.YNc(3,rs,11,10,"ng-container",3),T.qZA(),T.qZA()),2&e){const e=T.oxw();T.Q6J("spTooltipEnabled",e.tooltipEnabled)("spTooltip",T.lcZ(1,3,e.getTooltipText())),T.xp6(3),T.Q6J("ngForOf",e.dataValue.elements)}}let os=(()=>{class e extends h.D{isDataValueAvailable(){return V.l.isDefined(this.dataValue)&&V.l.arrayHasElements(this.dataValue.elements)}}return e.\u0275fac=function(){let t;return function(i){return(t||(t=T.n5z(e)))(i||e)}}(),e.\u0275cmp=T.Xpm({type:e,selectors:[["sp-display-rich-text"]],features:[T.qOj],decls:1,vars:1,consts:[["class","sp-w-full sp-h-full sp-overflow-hidden sp-dt-display-tooltip",3,"spTooltipEnabled","spTooltip",4,"ngIf"],[1,"sp-w-full","sp-h-full","sp-overflow-hidden","sp-dt-display-tooltip",3,"spTooltipEnabled","spTooltip"],[1,"sp-w-full","sp-h-full","sp-flex","sp-align-items-center","sp-text-wrapper"],[3,"ngSwitch",4,"ngFor","ngForOf"],[3,"ngSwitch"],["target","_blank",3,"href",4,"ngSwitchCase"],[4,"ngSwitchCase"],["class","sp-m-0",4,"ngSwitchDefault"],["target","_blank",3,"href"],[1,"sp-m-0"]],template:function(e,t){1&e&&T.YNc(0,ns,4,5,"div",0),2&e&&T.Q6J("ngIf",t.isDataValueAvailable())},directives:[s.O5,E.i9,s.sg,s.RF,s.n9,s.ED],pipes:[v.C],encapsulation:2,changeDetection:0}),e})();var as=i(72086),ls=i(57592),ds=i(23658),cs=i(61829);let ps=(()=>{class e{static forRoot(){return{ngModule:e,providers:[cs.L]}}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=T.oAB({type:e}),e.\u0275inj=T.cJS({imports:[[s.ez,ls.JF,ds.gF.forStyle(i.e(973).then(i.bind(i,21973)))]]}),e})();function us(e,t){if(1&e&&(T.ynx(0),T.TgZ(1,"sp-label",5),T._UZ(2,"i",6),T._uU(3),T.qZA(),T.BQk()),2&e){const e=T.oxw().$implicit;T.xp6(1),T.Q6J("color",e.color),T.xp6(1),T.Q6J("ngClass",e.iconId),T.xp6(1),T.hij(" ",e.name," ")}}function hs(e,t){if(1&e&&(T.ynx(0),T.YNc(1,us,4,3,"ng-container",4),T.BQk()),2&e){const e=t.$implicit;T.xp6(1),T.Q6J("ngIf",e)}}function gs(e,t){if(1&e&&(T.TgZ(0,"div",1),T.ALo(1,"spRichTextString"),T.TgZ(2,"div",2),T.YNc(3,hs,2,1,"ng-container",3),T.qZA(),T.qZA()),2&e){const e=T.oxw();T.Q6J("spTooltipEnabled",e.tooltipEnabled)("spTooltip",T.lcZ(1,3,e.getTooltipText())),T.xp6(3),T.Q6J("ngForOf",e.dataValue.skills)}}let fs=(()=>{class e extends h.D{}return e.\u0275fac=function(){let t;return function(i){return(t||(t=T.n5z(e)))(i||e)}}(),e.\u0275cmp=T.Xpm({type:e,selectors:[["sp-display-skills-icon-name"]],features:[T.qOj],decls:1,vars:1,consts:[["class","sp-w-full sp-h-full sp-overflow-hidden sp-dt-display-tooltip",3,"spTooltipEnabled","spTooltip",4,"ngIf"],[1,"sp-w-full","sp-h-full","sp-overflow-hidden","sp-dt-display-tooltip",3,"spTooltipEnabled","spTooltip"],[1,"sp-w-full","sp-h-full","sp-flex","sp-align-items-center"],[4,"ngFor","ngForOf"],[4,"ngIf"],[1,"sp-pt-0","sp-truncate","sp-flex-shrink-0",3,"color"],[1,"sp-mr-1","sp-text-wrapper",3,"ngClass"]],template:function(e,t){1&e&&T.YNc(0,gs,4,5,"div",0),2&e&&T.Q6J("ngIf",t.dataValue)},directives:[s.O5,E.i9,s.sg,wt._,s.mk],pipes:[v.C],encapsulation:2,changeDetection:0}),e})();var ms=i(1836);function Ts(e,t){if(1&e&&(T.ynx(0),T.TgZ(1,"i",5),T.ALo(2,"spSanitize"),T.qZA(),T.BQk()),2&e){const e=T.oxw().$implicit,t=T.oxw(2);T.xp6(1),T.Udp("color",T.xi3(2,3,t.getColorHex(e),"style")),T.Q6J("ngClass",e.iconId)}}function Es(e,t){if(1&e&&(T.ynx(0),T.YNc(1,Ts,3,6,"ng-container",4),T.BQk()),2&e){const e=t.$implicit;T.xp6(1),T.Q6J("ngIf",e)}}function vs(e,t){if(1&e&&(T.TgZ(0,"div",1),T.ALo(1,"spRichTextString"),T.TgZ(2,"div",2),T.YNc(3,Es,2,1,"ng-container",3),T.qZA(),T.qZA()),2&e){const e=T.oxw();T.Q6J("spTooltipEnabled",e.tooltipEnabled)("spTooltip",T.lcZ(1,3,e.getTooltipText())),T.xp6(3),T.Q6J("ngForOf",e.dataValue.skills)}}let Is=(()=>{class e extends h.D{getColorHex(e){return g.I.getRequestedColorOrDefault(e.color,g.B.BLACK).backgroundStyle}}return e.\u0275fac=function(){let t;return function(i){return(t||(t=T.n5z(e)))(i||e)}}(),e.\u0275cmp=T.Xpm({type:e,selectors:[["sp-display-skills-icon"]],features:[T.qOj],decls:1,vars:1,consts:[["class","sp-w-full sp-h-full sp-overflow-hidden sp-dt-display-tooltip",3,"spTooltipEnabled","spTooltip",4,"ngIf"],[1,"sp-w-full","sp-h-full","sp-overflow-hidden","sp-dt-display-tooltip",3,"spTooltipEnabled","spTooltip"],[1,"sp-w-full","sp-h-full","sp-flex","sp-align-items-center"],[4,"ngFor","ngForOf"],[4,"ngIf"],[1,"sp-mr-1","sp-overflow-hidden",3,"ngClass"]],template:function(e,t){1&e&&T.YNc(0,vs,4,5,"div",0),2&e&&T.Q6J("ngIf",t.dataValue)},directives:[s.O5,E.i9,s.sg,s.mk],pipes:[v.C,ms.n],encapsulation:2,changeDetection:0}),e})();const ys=function(e){return{"sp-mr-1":e}};function Cs(e,t){if(1&e&&(T.ynx(0),T.TgZ(1,"span",4),T._uU(2),T.qZA(),T.BQk()),2&e){const e=t.$implicit,i=t.last,s=T.oxw(2);T.xp6(1),T.Q6J("ngClass",T.VKq(2,ys,!i)),T.xp6(1),T.hij(" ",s.getSkillName(e,i)," ")}}function xs(e,t){if(1&e&&(T.TgZ(0,"div",1),T.ALo(1,"spRichTextString"),T.TgZ(2,"div",2),T.YNc(3,Cs,3,4,"ng-container",3),T.qZA(),T.qZA()),2&e){const e=T.oxw();T.Q6J("spTooltipEnabled",e.tooltipEnabled)("spTooltip",T.lcZ(1,3,e.getTooltipText())),T.xp6(3),T.Q6J("ngForOf",e.dataValue.skills)}}let Ds=(()=>{class e extends h.D{getSkillName(e,t){return(null==e?void 0:e.name)+(t?"":", ")}}return e.\u0275fac=function(){let t;return function(i){return(t||(t=T.n5z(e)))(i||e)}}(),e.\u0275cmp=T.Xpm({type:e,selectors:[["sp-display-skills-name"]],features:[T.qOj],decls:1,vars:1,consts:[["class","sp-w-full sp-h-full sp-overflow-hidden sp-dt-display-tooltip sp-flex sp-align-items-center",3,"spTooltipEnabled","spTooltip",4,"ngIf"],[1,"sp-w-full","sp-h-full","sp-overflow-hidden","sp-dt-display-tooltip","sp-flex","sp-align-items-center",3,"spTooltipEnabled","spTooltip"],[1,"sp-w-full","sp-h-full","sp-flex","sp-align-items-center"],[4,"ngFor","ngForOf"],[1,"sp-text-wrapper",3,"ngClass"]],template:function(e,t){1&e&&T.YNc(0,xs,4,5,"div",0),2&e&&T.Q6J("ngIf",t.dataValue)},directives:[s.O5,E.i9,s.sg,s.mk],pipes:[v.C],encapsulation:2,changeDetection:0}),e})();var bs=i(54035),ws=i(29056),Ss=i(33142),As=i(26007),Rs=i(9664),_s=i(40351),Ns=i(73978),Ls=i(98019),Os=i(4505),Fs=i(54738),Ms=i(49429);const Us=function(){return{isUTC:!0}};function ks(e,t){if(1&e&&(T.TgZ(0,"div",1),T.ALo(1,"spRichTextString"),T.TgZ(2,"span",2),T._uU(3),T.ALo(4,"l10nDate"),T.qZA(),T.qZA()),2&e){const e=T.oxw();T.Q6J("spTooltipEnabled",e.tooltipEnabled)("spTooltip",T.lcZ(1,3,e.getTooltipText())),T.xp6(3),T.Oqu(T.xi3(4,5,e.date,T.DdM(8,Us)))}}let Bs=(()=>{class e extends h.D{ngOnChanges(e){e.dataValue&&e.dataValue.currentValue&&(this.date=this.dataValue.value&&Fs.p.createUTCDateFromString(this.dataValue.value))}}return e.\u0275fac=function(){let t;return function(i){return(t||(t=T.n5z(e)))(i||e)}}(),e.\u0275cmp=T.Xpm({type:e,selectors:[["sp-display-date"]],features:[T.qOj,T.TTD],decls:1,vars:1,consts:[["class","sp-w-full sp-h-full sp-overflow-hidden sp-dt-display-tooltip sp-flex sp-align-items-center",3,"spTooltipEnabled","spTooltip",4,"ngIf"],[1,"sp-w-full","sp-h-full","sp-overflow-hidden","sp-dt-display-tooltip","sp-flex","sp-align-items-center",3,"spTooltipEnabled","spTooltip"],[1,"sp-text-wrapper"]],template:function(e,t){1&e&&T.YNc(0,ks,5,9,"div",0),2&e&&T.Q6J("ngIf",t.date)},directives:[s.O5,E.i9],pipes:[v.C,Ms.i],encapsulation:2,changeDetection:0}),e})();function Vs(e,t){if(1&e&&(T.TgZ(0,"div",1),T.ALo(1,"spRichTextString"),T.TgZ(2,"span",2),T._uU(3),T.qZA(),T.qZA()),2&e){const e=T.oxw();T.Q6J("spTooltipEnabled",e.tooltipEnabled)("spTooltip",T.lcZ(1,3,e.getTooltipText())),T.xp6(3),T.Oqu(e.dataValue.value)}}i(4351);let Gs=(()=>{class e extends h.D{}return e.\u0275fac=function(){let t;return function(i){return(t||(t=T.n5z(e)))(i||e)}}(),e.\u0275cmp=T.Xpm({type:e,selectors:[["sp-display-rank"]],features:[T.qOj],decls:1,vars:1,consts:[["class","sp-w-full sp-h-full sp-overflow-hidden sp-dt-display-tooltip sp-flex sp-align-items-center",3,"spTooltipEnabled","spTooltip",4,"ngIf"],[1,"sp-w-full","sp-h-full","sp-overflow-hidden","sp-dt-display-tooltip","sp-flex","sp-align-items-center",3,"spTooltipEnabled","spTooltip"],[1,"sp-text-wrapper"]],template:function(e,t){1&e&&T.YNc(0,Vs,4,5,"div",0),2&e&&T.Q6J("ngIf",t.dataValue)},directives:[s.O5,E.i9],pipes:[v.C],encapsulation:2,changeDetection:0}),e})();var Ps=i(77393);function Ys(e,t){if(1&e&&(T.TgZ(0,"div",1),T.ALo(1,"spRichTextString"),T.TgZ(2,"sp-lozenge",2),T.TgZ(3,"a",3),T._uU(4),T.qZA(),T.qZA(),T.qZA()),2&e){const e=T.oxw();T.Q6J("spTooltipEnabled",e.tooltipEnabled)("spTooltip",T.lcZ(1,6,e.getTooltipText())),T.xp6(2),T.Q6J("textColor",null==e.dataValue||null==e.dataValue.hexColor?null:e.dataValue.hexColor.textColor)("backgroundColor",null==e.dataValue||null==e.dataValue.hexColor?null:e.dataValue.hexColor.backgroundColor),T.xp6(1),T.s9C("href",e.dataValue.url,T.LSH),T.xp6(1),T.hij(" ",e.dataValue.name," ")}}let Zs=(()=>{class e extends h.D{}return e.\u0275fac=function(){let t;return function(i){return(t||(t=T.n5z(e)))(i||e)}}(),e.\u0275cmp=T.Xpm({type:e,selectors:[["sp-display-epic"]],features:[T.qOj],decls:1,vars:1,consts:[["class","sp-w-full sp-h-full sp-overflow-hidden sp-dt-display-tooltip sp-flex sp-align-items-center",3,"spTooltipEnabled","spTooltip",4,"ngIf"],[1,"sp-w-full","sp-h-full","sp-overflow-hidden","sp-dt-display-tooltip","sp-flex","sp-align-items-center",3,"spTooltipEnabled","spTooltip"],[3,"textColor","backgroundColor"],["target","_blank",3,"href"]],template:function(e,t){1&e&&T.YNc(0,Ys,5,8,"div",0),2&e&&T.Q6J("ngIf",t.dataValue)},directives:[s.O5,E.i9,G.H],pipes:[v.C],encapsulation:2,changeDetection:0}),e})();var zs=i(16401);const Js=[ai.D,Ze];let Hs=(()=>{class e{static forRoot(){return{ngModule:e,providers:Js}}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=T.oAB({type:e}),e.\u0275inj=T.cJS({imports:[[r.u5,s.ez,bs.C,ws.$,E.z8,As.Z.forRoot(),Rs.r.forRoot(),ps.forRoot(),_s.I,d.J,Ns.l,Ss.Z,c.v,as.Q,Ps.n,ds.gF.forStyle(i.e(613).then(i.bind(i,77613)))]]}),e})();T.B6R(oi.L,[ci,p.S,S,D.o,R,C,u.o,x.Y,Bs,Os.i,_.F,L,Qe.h,$e.F,Zs,O.f,F.q,M.e,Ls.g,B,$,K,te,se,J,wi,Ri,ae,ne,le,Ti,gi,pe,he,fe,Oi,Mi,Ue,xi,Be,Ae,Le,zt.d,jt.Z,Wt.t,Kt.H,Xt.c,ei.W,ki.g,Ui.u,ti.u,ii.u,Te,xe,ye,be,Gs,qt,Qt.J,_i.V,$t.F,Yi,os,qi,Lt,fs,Ds,Is,ut,zs.L,Et,ot,Dt,kt,Zt,Ge,We,qe,si.Q,ri.V,ni.f,Ni.m],[]);var qs=i(71806),Qs=i(853),$s=i(25088),js=i(36441),Ws=i(59634),Ks=i(27115);class Xs extends Ws.p{constructor(e,t,i,s=js.J.ICON,r=!1,n="Icon"){super(n,i,t,s,r),this.dataType=e}static BUILDER(e,t=new ir){return new Ks.I(Xs,e,t)}static CUSTOM_FIELD_BUILDER(e,t=new ir){return Xs.BUILDER(Ws._,t).withFieldName(e)}getTextValue(e){return e?e.description:""}getDataType(){return this.dataType}}var er=i(94934);class tr extends er.R{constructor(){super(...arguments),this.name="description"}getName(){return this.name}compareNotNullDataValues(e,t){return this.compareStrings(e.description,t.description)}}let ir=(()=>{class e extends Qs.g{constructor(){super(...arguments),this.dataTypeId=e.ID,this.dataTypeType=$s.U.ICON,this.comparator=new tr}getFieldBuilder(e){return Xs.BUILDER(e,this)}getCustomFieldBuilder(e){return Xs.BUILDER(Ws._,this).withFieldName(e)}getAvailableDecorators(){return[js.J.ICON]}getDefaultDecorator(){return js.J.ICON}getDefaultComparator(){return this.comparator}getDisplayComponent(e){return e===js.J.ICON?$:Ni.m}}return e.ID="ICON",e})();class sr extends Ws.p{constructor(e,t,i,s=js.J.TASK_KEY,r=!1,n="Key"){super(n,i,t,s,r),this.dataType=e}static BUILDER(e,t=new or){return new Ks.I(sr,e,t)}static CUSTOM_FIELD_BUILDER(e,t=new or){return sr.BUILDER(Ws._,t).withFieldName(e)}getTextValue(e){return e?e.value:""}isGroupable(){return!1}getDataType(){return this.dataType}}var rr=i(25755);class nr extends er.R{constructor(){super(...arguments),this.name="value"}getName(){return this.name}compareNotNullDataValues(e,t){return this.compareIndexedStrings(rr.Z.parse(e.value),rr.Z.parse(t.value))}}let or=(()=>{class e extends Qs.g{constructor(){super(...arguments),this.dataTypeId=e.ID,this.dataTypeType=$s.U.KEY,this.comparator=new nr}getFieldBuilder(e){return sr.BUILDER(e,this)}getCustomFieldBuilder(e){return sr.BUILDER(Ws._,this).withFieldName(e)}getAvailableDecorators(){return[js.J.TASK_KEY]}getDefaultDecorator(){return js.J.TASK_KEY}getDefaultComparator(){return this.comparator}getDisplayComponent(e){return e===js.J.TASK_KEY?Yi:Ni.m}}return e.ID="KEY",e})();class ar extends Ws.p{constructor(e,t,i,s=js.J.MILESTONE_ICON_AND_NAME,r=!1,n="Milestone"){super(n,i,t,s,r),this.dataType=e}static BUILDER(e,t=new cr){return new Ks.I(ar,e,t)}static CUSTOM_FIELD_BUILDER(e,t=new cr){return ar.BUILDER(Ws._,t).withFieldName(e)}getTextValue(e){return e?"MILESTONE"===e.value?"on":"off":""}isMilestone(e){return"MILESTONE"===e.value}getFormattedName(e){const t=e.value.toLowerCase();return t.charAt(0).toUpperCase()+t.slice(1)}getDataType(){return this.dataType}}class lr extends er.R{constructor(){super(...arguments),this.name="value"}getName(){return this.name}compareNotNullDataValues(e,t){return this.compareStrings(e.value,t.value)}}var dr=i(5050);let cr=(()=>{class e extends Qs.g{constructor(){super(...arguments),this.dataTypeId=e.ID,this.dataTypeType=$s.U.MILESTONE,this.comparator=new lr}getFieldBuilder(e){return ar.BUILDER(e,this)}getCustomFieldBuilder(e){return ar.BUILDER(Ws._,this).withFieldName(e)}getAvailableDecorators(){return[js.J.MILESTONE_ICON_AND_NAME,js.J.MILESTONE_ICON,js.J.MILESTONE_NAME]}getDefaultDecorator(){return js.J.MILESTONE_ICON_AND_NAME}getDefaultComparator(){return this.comparator}getDisplayComponent(e){return e===js.J.MILESTONE_ICON_AND_NAME?ne:e===js.J.MILESTONE_ICON?ae:e===js.J.MILESTONE_NAME?le:Ni.m}getEditComponent(){return dr.L}}return e.ID="MILESTONE",e})();var pr=i(7049),ur=i(2259);class hr extends Ws.p{constructor(e,t,i,s=js.J.TEXT,r=!1,n="Number"){super(n,i,t,s,r),this.dataType=e}static BUILDER(e,t=new fr){return new Ks.I(hr,e,t)}static CUSTOM_FIELD_BUILDER(e,t=new fr){return hr.BUILDER(Ws._,t).withFieldName(e)}aggregated(e=ur.P.NONE){return this.aggregation=e,e!==ur.P.MIN&&e!==ur.P.MAX&&e!==ur.P.SUM&&e!==ur.P.SUM_NO_PARENT&&e!==ur.P.AVG&&e!==ur.P.AVG_NO_PARENT||(this.editable=!1),this}getTextValue(e){return e?`${e.number}`:""}getDataType(){return this.dataType}}class gr extends er.R{constructor(){super(...arguments),this.name="number"}getName(){return this.name}compareNotNullDataValues(e,t){return this.compareNumbers(e.number,t.number)}}let fr=(()=>{class e extends Qs.g{constructor(){super(...arguments),this.dataTypeId=e.ID,this.dataTypeType=$s.U.NUMBER,this.validators=[],this.comparator=new gr}getFieldBuilder(e){return hr.BUILDER(e,this)}getCustomFieldBuilder(e){return hr.BUILDER(Ws._,this).withFieldName(e)}getAvailableDecorators(){return[js.J.LOZENGE,js.J.TEXT]}getDefaultDecorator(){return js.J.TEXT}getDefaultComparator(){return this.comparator}getDisplayComponent(e){return e===js.J.LOZENGE?he:e===js.J.TEXT?fe:Ni.m}getEditComponent(){return pr.a}}return e.ID="NUMBER",e})();class mr extends Ws.p{constructor(e,t,i,s=js.J.PERIOD_MODE_ICON_AND_NAME,r=!1,n="Period mode"){super(n,i,t,s,r),this.dataType=e}static BUILDER(e,t=new vr){return new Ks.I(mr,e,t)}static CUSTOM_FIELD_BUILDER(e,t=new vr){return mr.BUILDER(Ws._,t).withFieldName(e)}getTextValue(e){return e?Ee.J.getPeriodModeLabel(e.value):""}getDataType(){return this.dataType}}class Tr extends er.R{constructor(){super(...arguments),this.name="value"}getName(){return this.name}compareNotNullDataValues(e,t){return this.compareStrings(e.value,t.value)}}var Er=i(43259);let vr=(()=>{class e extends Qs.g{constructor(){super(...arguments),this.dataTypeId=e.ID,this.dataTypeType=$s.U.PERIOD_MODE,this.comparator=new Tr}getFieldBuilder(e){return mr.BUILDER(e,this)}getCustomFieldBuilder(e){return mr.BUILDER(Ws._,this).withFieldName(e)}getAvailableDecorators(){return[js.J.PERIOD_MODE_ICON_AND_NAME,js.J.PERIOD_MODE_ICON,js.J.PERIOD_MODE_NAME]}getDefaultDecorator(){return js.J.PERIOD_MODE_ICON_AND_NAME}getDefaultComparator(){return this.comparator}getDisplayComponent(e){return e===js.J.PERIOD_MODE_ICON_AND_NAME?ye:e===js.J.PERIOD_MODE_ICON?xe:e===js.J.PERIOD_MODE_NAME?be:Ni.m}getEditComponent(){return Er.f}}return e.ID="PERIOD_MODE",e})();class Ir extends Ws.p{constructor(e,t,i,s=js.J.SKILLS_ICON_NAME,r=!1,n="Skills"){super(n,i,t,s,r),this.dataType=e}static BUILDER(e,t=new Cr){return new Ks.I(Ir,e,t)}static CUSTOM_FIELD_BUILDER(e,t=new Cr){return Ir.BUILDER(Ws._,t).withFieldName(e)}getTextValue(e){return e&&e.skills.length?e.skills.map(e=>e?e.code:"").join(" "):""}getDataType(){return this.dataType}}class yr extends er.R{constructor(){super(...arguments),this.name="skill names"}getName(){return this.name}compareNotNullDataValues(e,t){const i=e.skills.map(e=>e.name),s=t.skills.map(e=>e.name);return this.compareStringLists(i,s)}}let Cr=(()=>{class e extends Qs.g{constructor(){super(...arguments),this.dataTypeId=e.ID,this.dataTypeType=$s.U.SKILLS,this.comparator=new yr}getFieldBuilder(e){return Ir.BUILDER(e,this)}getCustomFieldBuilder(e){return Ir.BUILDER(Ws._,this).withFieldName(e)}getAvailableDecorators(){return[js.J.SKILLS_ICON_NAME,js.J.SKILLS_ICON,js.J.SKILLS_NAME]}getDefaultDecorator(){return js.J.SKILLS_ICON_NAME}getDefaultComparator(){return this.comparator}getDisplayComponent(e){return e===js.J.SKILLS_ICON_NAME?fs:e===js.J.SKILLS_ICON?Is:e===js.J.SKILLS_NAME?Ds:Ni.m}}return e.ID="SKILLS",e})();var xr=i(3505),Dr=i(91087),br=i(12954),wr=i(63474);class Sr extends Ws.p{constructor(e,t,i,s=js.J.DATE,r=!1,n="Date"){super(n,i,t,s,r),this.dataType=e}static BUILDER(e,t=new _r){return new Ks.I(Sr,e,t)}static CUSTOM_FIELD_BUILDER(e,t=new _r){return Sr.BUILDER(Ws._,t).withFieldName(e)}aggregated(e=ur.P.NONE){return this.aggregation=e,e!==ur.P.MIN&&e!==ur.P.MAX||(this.editable=!1),this}getTextValue(e){return e&&e.value?Fs.p.formatUTCDate(Fs.p.createUTCDateFromString(e.value),"DD/MMM/YY"):""}getDataType(){return this.dataType}getValueForEdit(e){return e.value}}class Ar extends er.R{constructor(){super(...arguments),this.name="date"}getName(){return this.name}compareNotNullDataValues(e,t){const i=Fs.p.createUTCDateFromString(e.value),s=Fs.p.createUTCDateFromString(t.value);return this.compareNumbers(i.getTime(),s.getTime())}}var Rr=i(8822);let _r=(()=>{class e extends Qs.g{constructor(){super(...arguments),this.dataTypeId=e.ID,this.dataTypeType=$s.U.DATE,this.comparator=new Ar}getFieldBuilder(e){return Sr.BUILDER(e,this)}getCustomFieldBuilder(e){return Sr.BUILDER(Ws._,this).withFieldName(e)}getAvailableDecorators(){return[js.J.DATE]}getDefaultDecorator(){return js.J.DATE}getDefaultComparator(){return this.comparator}getDisplayComponent(e){return e===js.J.DATE?Bs:Ni.m}getEditComponent(){return Rr.V}}return e.ID="DATE",e})(),Nr=(()=>{class e{constructor(e,t){this.domainFieldsRepository=e,this.dataTypes=t}createSummaryField(){return this.dataTypes.get(Dr.A.ID).getFieldBuilder(this.domainFieldsRepository.getSummaryId()).withEditable(!0)}createKeyField(){return this.dataTypes.get(or.ID).getFieldBuilder(this.domainFieldsRepository.getKeyId()).withEditable(!0)}createStatusField(){return this.dataTypes.get(xr.C.ID).getFieldBuilder(this.domainFieldsRepository.getStatusId()).withEditable(!0)}createStartDateField(){return this.dataTypes.get(_r.ID).getFieldBuilder(this.domainFieldsRepository.getStartDateId()).withEditable(!0)}createEndDateField(){return this.dataTypes.get(_r.ID).getFieldBuilder(this.domainFieldsRepository.getEndDateId()).withEditable(!0)}createBaselineStartDateField(){return this.dataTypes.get(qs.G.ID).getFieldBuilder(this.domainFieldsRepository.getBaselineStartDateId()).withEditable(!0)}createBaselineEndDateField(){return this.dataTypes.get(qs.G.ID).getFieldBuilder(this.domainFieldsRepository.getBaselineEndDateId()).withEditable(!0)}createProgressField(){return this.dataTypes.get(fr.ID).getFieldBuilder(this.domainFieldsRepository.getProgressId()).withEditable(!0)}createMilestoneField(){return this.dataTypes.get(cr.ID).getFieldBuilder(this.domainFieldsRepository.getMilestoneId()).withEditable(!0)}createPeriodModeField(){return this.dataTypes.get(vr.ID).getFieldBuilder(this.domainFieldsRepository.getPeriodModeId()).withEditable(!0)}createAssigneeField(){return this.dataTypes.get(br.a.ID).getFieldBuilder(this.domainFieldsRepository.getAssigneeId()).withEditable(!0)}createDurationField(){return this.dataTypes.get(fr.ID).getFieldBuilder(this.domainFieldsRepository.getDurationId()).withEditable(!0)}createSkillsField(){return this.dataTypes.get(Cr.ID).getFieldBuilder(this.domainFieldsRepository.getSkillsId()).withEditable(!0)}createIconField(){return this.dataTypes.get(ir.ID).getFieldBuilder(this.domainFieldsRepository.getIconId()).withEditable(!0)}}return e.\u0275fac=function(t){return new(t||e)(T.LFG(wr.m),T.LFG(l.v))},e.\u0275prov=T.Yz7({token:e,factory:e.\u0275fac}),e})();var Lr=i(29979);class Or{constructor(e,t){if(this.suggestedValue=e,this.score=t,t>1)throw Error("Score cannot be higher than 1")}static fromRaw(e){return new Or(e.suggestedValue,e.score)}static fromRawArray(e){return e.map(e=>Or.fromRaw(e))}}var Fr=i(68387),Mr=i(7090);let Ur=(()=>{class e extends Lr.a{constructor(e,t){super(e),this.environmentService=t}isSuggestionAvailable(e){return this.get(`/availability/${e}`)}getSuggestions(e,t){return this.get(`/task/${e}/suggest/${t}`).pipe((0,Fr.U)(e=>Or.fromRawArray(e.suggestionsWithScore)))}getRestUrl(e){return`${this.environmentService.getRestBaseUrl()}ppm/task-field-suggestion${e}`}}return e.\u0275fac=function(t){return new(t||e)(T.LFG(Mr.O),T.LFG(Ei.L))},e.\u0275prov=T.Yz7({token:e,factory:e.\u0275fac}),e})(),kr=(()=>{class e{constructor(e){this.dataSuggestionResource=e}isSuggestionAvailable(e){return this.dataSuggestionResource.isSuggestionAvailable(e)}getSuggestions(e,t){return this.dataSuggestionResource.getSuggestions(e,t)}}return e.\u0275fac=function(t){return new(t||e)(T.LFG(Ur))},e.\u0275prov=T.Yz7({token:e,factory:e.\u0275fac}),e})();var Br=i(81533),Vr=i(41585);const Gr=[kr,Ur];let Pr=(()=>{class e{static forRoot(){return{ngModule:e,providers:Gr}}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=T.oAB({type:e}),e.\u0275inj=T.cJS({imports:[[s.ez,Br.K.forRoot(),E.z8,Vr.K,d.J,Ps.n]]}),e})();var Yr=i(7585),Zr=(i(34930),i(38625),i(18217),i(9794),i(36377),i(73711)),zr=(i(82723),i(54093),i(4106)),Jr=i(18155),Hr=i(57748),qr=i(60014),Qr=i(4520),$r=i(45329),jr=i(46690);const Wr=[Zr.d,Jr.O,zr.Z,$r.a];let Kr=(()=>{class e{static forRoot(){return{ngModule:e,providers:Wr}}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=T.oAB({type:e}),e.\u0275inj=T.cJS({imports:[[r.UX,r.u5,s.ez,bs.C,ws.$,E.z8,As.Z.forRoot(),Rs.r.forRoot(),jr.$,Hr.o,Pr,Qr.A,qr.I.forRoot(),as.Q,d.J]]}),e})();var Xr=i(42653);let en=(()=>{class e{constructor(e){this.fieldValueChangeSubject=e}select(){return this.fieldValueChangeSubject.asObservable()}}return e.\u0275fac=function(t){return new(t||e)(T.LFG(Xr.N))},e.\u0275prov=T.Yz7({token:e,factory:e.\u0275fac}),e})();var tn=i(29830);let sn=(()=>{class e{constructor(e){this.fieldValueErrorSubject=e}select(){return this.fieldValueErrorSubject.asObservable()}}return e.\u0275fac=function(t){return new(t||e)(T.LFG(tn.R))},e.\u0275prov=T.Yz7({token:e,factory:e.\u0275fac}),e})();class rn extends Ws.p{constructor(e,t,i,s=js.J.ATTACHMENTS,r=!1,n="Attachments"){super(n,i,t,s,r),this.dataType=e}static BUILDER(e,t=new on){return new Ks.I(rn,e,t)}static CUSTOM_FIELD_BUILDER(e,t=new on){return rn.BUILDER(Ws._,t).withFieldName(e)}getTextValue(e){return e?e.attachments.map(e=>e.name).join("; "):""}isGroupable(){return!1}getDataType(){return this.dataType}}class nn extends er.R{constructor(){super(...arguments),this.name="attachment names"}getName(){return this.name}compareNotNullDataValues(e,t){const i=e.attachments.map(e=>e.name),s=t.attachments.map(e=>e.name);return this.compareStringLists(i,s)}}let on=(()=>{class e extends Qs.g{constructor(){super(...arguments),this.dataTypeId=e.ID,this.dataTypeType=$s.U.ATTACHMENTS,this.validators=[],this.comparator=new nn}getFieldBuilder(e){return rn.BUILDER(e,this)}getCustomFieldBuilder(e){return rn.BUILDER(Ws._,this).withFieldName(e)}getAvailableDecorators(){return[js.J.ATTACHMENTS]}getDefaultDecorator(){return js.J.ATTACHMENTS}getDefaultComparator(){return this.comparator}getDisplayComponent(e){return e===js.J.ATTACHMENTS?ci:Ni.m}}return e.ID="ATTACHMENTS",e})();var an=i(13092);class ln extends Ws.p{constructor(e,t,i,s=js.J.BUILTIN_COLOR_ICON_AND_NAME,r=!1,n="Built-in Color"){super(n,i,t,s,r),this.dataType=e}static BUILDER(e,t=new yn){return new Ks.I(ln,e,t)}static CUSTOM_FIELD_BUILDER(e,t=new yn){return ln.BUILDER(Ws._,t).withFieldName(e)}getTextValue(e){return e?this.getFormattedName(e):""}getFormattedName(e){const t=e.value.toLowerCase().replace("_"," ");return t.charAt(0).toUpperCase()+t.slice(1)}getDataType(){return this.dataType}}class dn extends er.R{constructor(){super(...arguments),this.name="value"}getName(){return this.name}compareNotNullDataValues(e,t){return this.compareStrings(e.value,t.value)}}var cn=i(39637),pn=i(18183);class un extends pn.Z{constructor(e=[]){super(),this.icons=e,this.uniqueName="icons"}isEmpty(){return!V.l.arrayHasElements(this.icons)}}var hn=i(44430);function gn(e,t){1&e&&T._UZ(0,"i",3)}function fn(e,t){if(1&e){const e=T.EpF();T.TgZ(0,"div",1),T.NdJ("click",function(){const t=T.CHM(e).$implicit;return T.oxw().onColorClick(t)}),T.YNc(1,gn,1,0,"i",2),T.qZA()}if(2&e){const e=t.$implicit,i=T.oxw();T.Udp("background-color",i.getColor(e)),T.xp6(1),T.Q6J("ngIf",i.isSelected(e))}}let mn=(()=>{class e extends hn.f{constructor(){super(...arguments),this.selectedColors=[]}ngOnInit(){this.observeUniqueIcons(),this.calculateSelectedColorList(),this.addClasses()}setDataTypeFilterConfig(e=new un){this.dataTypeFilterConfig=e,this.calculateSelectedColorList(),this.changeDetectorRef.detectChanges()}onColorClick(e){if(this.isSelected(e)){const t=this.selectedColors.indexOf(e.value);this.selectedColors.splice(t,1)}else this.selectedColors.push(e.value);this.updateDataTypeFilterConfig(),this.emitConfig(),this.changeDetectorRef.detectChanges()}isSelected(e){return this.selectedColors.some(t=>t===e.value)}getColor(e){return g.I.getRequestedColorOrDefault(e.value,m.W.MEDIUM_GRAY).backgroundStyle}observeUniqueIcons(){this.observeUniqueDataValues().pipe(this.takeUntilDestroy()).subscribe(e=>{this.uniqueDataValues=e,this.calculateSelectedColorList(),this.changeDetectorRef.detectChanges()})}addClasses(){this.domManipulator.addClass(this.elementRef.nativeElement,"sp-flex")}calculateSelectedColorList(){this.dataTypeFilterConfig&&(this.selectedColors=this.dataTypeFilterConfig.icons)}updateDataTypeFilterConfig(){this.dataTypeFilterConfig=new un(this.selectedColors)}}return e.\u0275fac=function(){let t;return function(i){return(t||(t=T.n5z(e)))(i||e)}}(),e.\u0275cmp=T.Xpm({type:e,selectors:[["sp-builtin-color-icons-filter"]],features:[T.qOj],decls:1,vars:1,consts:[["class","sp-color-filter-circle sp-w-4 sp-h-4 sp-circle sp-flex sp-justify-content-center sp-align-items-center sp-mr-1",3,"background-color","click",4,"ngFor","ngForOf"],[1,"sp-color-filter-circle","sp-w-4","sp-h-4","sp-circle","sp-flex","sp-justify-content-center","sp-align-items-center","sp-mr-1",3,"click"],["class","fas fa-check sp-color-filter-circle__check-icon",4,"ngIf"],[1,"fas","fa-check","sp-color-filter-circle__check-icon"]],template:function(e,t){1&e&&T.YNc(0,fn,2,3,"div",0),2&e&&T.Q6J("ngForOf",t.uniqueDataValues)},directives:[s.sg,s.O5],styles:[".sp-color-filter-circle__check-icon{color:var(--white);font-size:10px}"],encapsulation:2,changeDetection:0}),e})();class Tn extends cn.w{isEntityInFilter(e,t,i){return this.isDataValueInFilter(e.getDataValue(t.getFieldId()),i)}isDataValueInFilter(e,t){return 0===t.icons.length||t.icons.some(t=>t===e.value)}getComponent(){return mn}getDisplayName(){return"Color icons filter"}getUniqueName(){return"icons"}fromRaw(e){return e?new un(e.icons):this.createEmpty()}getFilterType(){return cn.V.APPLICABLE}createEmpty(){return new un}}class En extends pn.Z{constructor(e=""){super(),this.name=e,this.uniqueName="name"}isEmpty(){return V.l.isEmpty(this.name)}}let vn=(()=>{class e extends hn.f{constructor(){super(...arguments),this.searchControl=new r.NI("")}setDataTypeFilterConfig(e=new En){this.dataTypeFilterConfig=e,this.setCurrentValue()}ngOnInit(){this.setCurrentValue(),this.observeSearchControlValueChanges()}setCurrentValue(){this.searchControl.setValue(this.dataTypeFilterConfig?this.dataTypeFilterConfig.name:"")}observeSearchControlValueChanges(){this.searchControl.valueChanges.pipe(this.takeUntilDestroy()).subscribe(e=>{this.dataTypeFilterConfig=new En(e),this.emitConfig()})}}return e.\u0275fac=function(){let t;return function(i){return(t||(t=T.n5z(e)))(i||e)}}(),e.\u0275cmp=T.Xpm({type:e,selectors:[["sp-builtin-color-name-filter"]],features:[T.qOj],decls:1,vars:1,consts:[["type","text","id","display-name",1,"sp-form-control",3,"formControl"]],template:function(e,t){1&e&&T._UZ(0,"input",0),2&e&&T.Q6J("formControl",t.searchControl)},directives:[r.Fj,r.JJ,r.oH],styles:[""],encapsulation:2,changeDetection:0}),e})();class In extends cn.w{isEntityInFilter(e,t,i){return this.isDataValueInFilter(e.getDataValue(t.getFieldId()),i)}isDataValueInFilter(e,t){return e.value.toLocaleLowerCase().indexOf(t.name.toLocaleLowerCase())>-1}getComponent(){return vn}getDisplayName(){return"Color name filter"}getUniqueName(){return"name"}fromRaw(e){return e?new En(e.name):this.createEmpty()}getFilterType(){return cn.V.SEARCH}createEmpty(){return new En("")}}let yn=(()=>{class e extends Qs.g{constructor(){super(...arguments),this.dataTypeId=e.ID,this.dataTypeType=$s.U.BUILTIN_COLOR,this.comparator=new dn}getFilters(){return[new Tn,new In]}getFieldBuilder(e){return ln.BUILDER(e,this)}getCustomFieldBuilder(e){return ln.BUILDER(Ws._,this).withFieldName(e)}getAvailableDecorators(){return[js.J.BUILTIN_COLOR_ICON_AND_NAME,js.J.BUILTIN_COLOR_ICON,js.J.BUILTIN_COLOR_NAME]}getDefaultDecorator(){return js.J.BUILTIN_COLOR_ICON_AND_NAME}getDefaultComparator(){return this.comparator}getDisplayComponent(e){if(e===js.J.BUILTIN_COLOR_ICON)return S;if(e===js.J.BUILTIN_COLOR_ICON_AND_NAME)return D.o;if(e===js.J.BUILTIN_COLOR_NAME)return R;throw Ni.m}getEditComponent(){return Yr.$}}return e.ID="BUILTIN_COLOR",e})();var Cn=i(82843),xn=i(59365);class Dn extends Ws.p{constructor(e,t,i,s=js.J.DATE,r=!1,n="Due date"){super(n,i,t,s,r),this.dataType=e,this.fieldId=t}static BUILDER(e,t=new wn){return new Ks.I(Dn,e,t)}static CUSTOM_FIELD_BUILDER(e,t=new wn){return Dn.BUILDER(Ws._,t).withFieldName(e)}getTextValue(e){return e?e.dateValue:""}getDataType(){return this.dataType}}class bn extends er.R{constructor(){super(...arguments),this.name="original"}getName(){return this.name}compareNotNullDataValues(e,t){return this.compareNumbers(e.original,t.original)}}let wn=(()=>{class e extends Qs.g{constructor(){super(...arguments),this.dataTypeId=e.ID,this.dataTypeType=$s.U.DUE_DATE,this.comparator=new bn}getFieldBuilder(e){return Dn.BUILDER(e,this)}getCustomFieldBuilder(e){return Dn.BUILDER(Ws._,this).withFieldName(e)}getAvailableDecorators(){return[js.J.DATE]}getDefaultDecorator(){return js.J.DATE}getDefaultComparator(){return this.comparator}getDisplayComponent(e){return e===js.J.DATE?L:Ni.m}}return e.ID="DUE_DATE",e})();var Sn=i(807);class An extends Ws.p{constructor(e,t,i,s=js.J.LOZENGE_LINK,r=!1,n="Name"){super(n,i,t,s,r),this.dataType=e}static BUILDER(e,t=new _n){return new Ks.I(An,e,t)}static CUSTOM_FIELD_BUILDER(e,t=new _n){return An.BUILDER(Ws._,t).withFieldName(e)}getTextValue(e){return e?e.name:""}getDataType(){return this.dataType}}class Rn extends er.R{constructor(){super(...arguments),this.name="name"}getName(){return this.name}compareNotNullDataValues(e,t){return this.compareStrings(e.name,t.name)}}let _n=(()=>{class e extends Qs.g{constructor(){super(...arguments),this.dataTypeId=e.ID,this.dataTypeType=$s.U.EPIC,this.comparator=new Rn}getFieldBuilder(e){return An.BUILDER(e,this)}getCustomFieldBuilder(e){return An.BUILDER(Ws._,this).withFieldName(e)}getAvailableDecorators(){return[js.J.LOZENGE_LINK]}getDefaultDecorator(){return js.J.LOZENGE_LINK}getDefaultComparator(){return this.comparator}getDisplayComponent(e){return e===js.J.LOZENGE_LINK?Zs:Ni.m}}return e.ID="EPIC",e})();var Nn=i(83735);class Ln extends Ws.p{constructor(e,t,i,s=js.J.TRAFFIC_LIGHT,r=!1,n="Traffic light"){super(n,i,t,s,r),this.dataType=e}static BUILDER(e,t=new Fn){return new Ks.I(Ln,e,t)}static CUSTOM_FIELD_BUILDER(e,t=new Fn){return Ln.BUILDER(Ws._,t).withFieldName(e)}getTextValue(){return""}getDataType(){return this.dataType}}class On extends er.R{constructor(){super(...arguments),this.name="colors"}getName(){return this.name}compareNotNullDataValues(e,t){return this.compareStringLists([e.leftColor,e.middleColor,e.rightColor],[t.leftColor,t.middleColor,t.rightColor])}}let Fn=(()=>{class e extends Qs.g{constructor(){super(...arguments),this.dataTypeId=e.ID,this.dataTypeType=$s.U.EXTRA_TRAFFIC_LIGHT,this.comparator=new On}getFieldBuilder(e){return Ln.BUILDER(e,this)}getCustomFieldBuilder(e){return Ln.BUILDER(Ws._,this).withFieldName(e)}getAvailableDecorators(){return[js.J.TRAFFIC_LIGHT]}getDefaultDecorator(){return js.J.TRAFFIC_LIGHT}getDefaultComparator(){return this.comparator}getDisplayComponent(e){return e===js.J.TRAFFIC_LIGHT?qi:Ni.m}}return e.ID="EXTRA_TRAFFIC_LIGHT",e})();class Mn extends Ws.p{constructor(e,t,i,s=js.J.HEX_COLOR,r=!1,n="Hex Color"){super(n,i,t,s,r),this.dataType=e}static BUILDER(e,t=new kn){return new Ks.I(Mn,e,t)}static CUSTOM_FIELD_BUILDER(e,t=new kn){return Mn.BUILDER(Ws._,t).withFieldName(e)}getTextValue(e){return e?`${e.backgroundColor}, ${e.textColor}`:""}getDataType(){return this.dataType}}class Un extends er.R{constructor(){super(...arguments),this.name="background and text color"}getName(){return this.name}compareNotNullDataValues(e,t){const i=V.l.hex2rgb(e.backgroundColor),s=V.l.hex2rgb(t.backgroundColor),r=this.compareNumberLists(i,s);if(0===r){const i=V.l.hex2rgb(e.textColor),s=V.l.hex2rgb(t.textColor);return this.compareNumberLists(i,s)}return r}}let kn=(()=>{class e extends Qs.g{constructor(){super(...arguments),this.dataTypeId=e.ID,this.dataTypeType=$s.U.HEX_COLOR,this.comparator=new Un}getFieldBuilder(e){return Mn.BUILDER(e,this)}getCustomFieldBuilder(e){return Mn.BUILDER(Ws._,this).withFieldName(e)}getAvailableDecorators(){return[js.J.HEX_COLOR]}getDefaultDecorator(){return js.J.HEX_COLOR}getDefaultComparator(){return this.comparator}getDisplayComponent(e){return e===js.J.HEX_COLOR?B:Ni.m}}return e.ID="HEX_COLOR",e})();class Bn extends Ws.p{constructor(e,t,i,s=js.J.ICON_AND_NAME,r=!1,n="Issue type"){super(n,i,t,s,r),this.dataType=e}static BUILDER(e,t=new Gn){return new Ks.I(Bn,e,t)}static CUSTOM_FIELD_BUILDER(e,t=new Gn){return Bn.BUILDER(Ws._,t).withFieldName(e)}getTextValue(e){return e?e.name:""}getDataType(){return this.dataType}}class Vn extends er.R{constructor(){super(...arguments),this.name="name"}getName(){return this.name}compareNotNullDataValues(e,t){return this.compareStrings(e.name,t.name)}}let Gn=(()=>{class e extends Qs.g{constructor(){super(...arguments),this.dataTypeId=e.ID,this.dataTypeType=$s.U.ISSUE_TYPE,this.comparator=new Vn}getFieldBuilder(e){return Bn.BUILDER(e,this)}getCustomFieldBuilder(e){return Bn.BUILDER(Ws._,this).withFieldName(e)}getAvailableDecorators(){return[js.J.ICON,js.J.ICON_AND_NAME,js.J.TEXT]}getDefaultDecorator(){return js.J.ICON_AND_NAME}getDefaultComparator(){return this.comparator}getDisplayComponent(e){return e===js.J.ICON?K:e===js.J.ICON_AND_NAME?te:e===js.J.TEXT?se:Ni.m}}return e.ID="ISSUE_TYPE",e})();class Pn extends Ws.p{constructor(e,t,i,s=js.J.LOZENGE_LINK,r=!1,n="Label names"){super(n,i,t,s,r),this.dataType=e}static BUILDER(e,t=new Zn){return new Ks.I(Pn,e,t)}static CUSTOM_FIELD_BUILDER(e,t=new Zn){return Pn.BUILDER(Ws._,t).withFieldName(e)}getTextValue(e){return e?e.labels.map(e=>e.name).join("; "):""}getDataType(){return this.dataType}}class Yn extends er.R{constructor(){super(...arguments),this.name="label names"}getName(){return this.name}compareNotNullDataValues(e,t){const i=e.labels.map(e=>e.name),s=t.labels.map(e=>e.name);return this.compareStringLists(i,s)}}let Zn=(()=>{class e extends Qs.g{constructor(){super(...arguments),this.dataTypeId=e.ID,this.dataTypeType=$s.U.LABELS,this.comparator=new Yn}getFieldBuilder(e){return Pn.BUILDER(e,this)}getCustomFieldBuilder(e){return Pn.BUILDER(Ws._,this).withFieldName(e)}getAvailableDecorators(){return[js.J.LOZENGE_LINK]}getDefaultDecorator(){return js.J.LOZENGE_LINK}getDefaultComparator(){return this.comparator}getDisplayComponent(e){return e===js.J.LOZENGE_LINK?J:Ni.m}}return e.ID="LABELS",e})();class zn extends Ws.p{constructor(e,t,i,s=js.J.LINK,r=!1,n="link"){super(n,i,t,s,r),this.dataType=e}static BUILDER(e,t=new Hn){return new Ks.I(zn,e,t)}static CUSTOM_FIELD_BUILDER(e,t=new Hn){return zn.BUILDER(Ws._,t).withFieldName(e)}getTextValue(e){return e?e.value:""}getDataType(){return this.dataType}}class Jn extends er.R{constructor(){super(...arguments),this.name="value"}getName(){return this.name}compareNotNullDataValues(e,t){return this.compareStrings(e.value,t.value)}}let Hn=(()=>{class e extends Qs.g{constructor(){super(...arguments),this.dataTypeId=e.ID,this.dataTypeType=$s.U.LINK,this.comparator=new Jn}getFieldBuilder(e){return zn.BUILDER(e,this)}getCustomFieldBuilder(e){return zn.BUILDER(Ws._,this).withFieldName(e)}getAvailableDecorators(){return[js.J.LINK]}getDefaultDecorator(){return js.J.LINK}getDefaultComparator(){return this.comparator}getDisplayComponent(e){return e===js.J.LINK?wi:Ni.m}}return e.ID="LINK",e})();class qn extends Ws.p{constructor(e,t,i,s=js.J.AVATAR_AND_NAME,r=!1,n=""){super(n,i,t,s,r),this.dataType=e}static BUILDER(e,t=new $n){return new Ks.I(qn,e,t)}static CUSTOM_FIELD_BUILDER(e,t=new $n){return qn.BUILDER(Ws._,t).withFieldName(e)}getTextValue(e){return e?e.users.map(e=>e.data.displayName).join("; "):""}getDataType(){return this.dataType}}class Qn extends er.R{constructor(){super(...arguments),this.name="user display names"}getName(){return this.name}compareNotNullDataValues(e,t){const i=e.users.map(e=>e.data.displayName),s=t.users.map(e=>e.data.displayName);return this.compareStringLists(i,s)}}let $n=(()=>{class e extends Qs.g{constructor(){super(...arguments),this.dataTypeId=e.ID,this.dataTypeType=$s.U.MULTI_USER,this.comparator=new Qn}getFieldBuilder(e){return qn.BUILDER(e,this)}getCustomFieldBuilder(e){return qn.BUILDER(Ws._,this).withFieldName(e)}getAvailableDecorators(){return[js.J.AVATAR,js.J.AVATAR_AND_NAME,js.J.TEXT]}getDefaultDecorator(){return js.J.AVATAR_AND_NAME}getDefaultComparator(){return this.comparator}getDisplayComponent(e){return e===js.J.AVATAR?Ti:e===js.J.AVATAR_AND_NAME?gi:e===js.J.TEXT?pe:Ni.m}}return e.ID="MULTI_USER",e})();class jn extends Ws.p{constructor(e,t,i,s=js.J.PERCENTAGE_TEXT,r=!1,n="Percentage"){super(n,i,t,s,r),this.dataType=e}static BUILDER(e,t=new Kn){return new Ks.I(jn,e,t)}static CUSTOM_FIELD_BUILDER(e,t=new Kn){return jn.BUILDER(Ws._,t).withFieldName(e)}aggregated(e=ur.P.NONE){return this.aggregation=e,this.editable=!1,this}getTextValue(e){return e?`${e.number}%`:""}getDataType(){return this.dataType}}class Wn extends er.R{constructor(){super(...arguments),this.name="number"}getName(){return this.name}compareNotNullDataValues(e,t){return this.compareNumbers(e.number,t.number)}}let Kn=(()=>{class e extends Qs.g{constructor(){super(...arguments),this.dataTypeId=e.ID,this.dataTypeType=$s.U.PERCENTAGE,this.comparator=new Wn}getFieldBuilder(e){return jn.BUILDER(e,this)}getCustomFieldBuilder(e){return jn.BUILDER(Ws._,this).withFieldName(e)}getAvailableDecorators(){return[js.J.PERCENTAGE_LOZENGE,js.J.PERCENTAGE_TEXT]}getDefaultDecorator(){return js.J.PERCENTAGE_TEXT}getDefaultComparator(){return this.comparator}getDisplayComponent(e){return e===js.J.PERCENTAGE_LOZENGE?Mi:e===js.J.PERCENTAGE_TEXT?Oi:Ni.m}}return e.ID="PERCENTAGE",e})();class Xn extends Ws.p{constructor(e,t,i,s=js.J.NONE,r=!1,n=""){super(n,i,t,s,r),this.dataType=e}static BUILDER(e,t=new to){return new Ks.I(Xn,e,t)}static CUSTOM_FIELD_BUILDER(e,t=new to){return Xn.BUILDER(Ws._,t).withFieldName(e)}getTextValue(e){return e?`${e.startDate.dateValue} ${e.endDate.dateValue}`:""}getDataType(){return this.dataType}}class eo extends er.R{constructor(){super(...arguments),this.name="start and end date"}getName(){return this.name}compareNotNullDataValues(e,t){const i=this.compareNumbers(e.startDate.original,t.startDate.original);return 0===i?this.compareNumbers(e.endDate.original,t.endDate.original):i}}let to=(()=>{class e extends Qs.g{constructor(){super(...arguments),this.dataTypeId=e.ID,this.dataTypeType=$s.U.PERIOD,this.comparator=new eo}getFieldBuilder(e){return Xn.BUILDER(e,this)}getCustomFieldBuilder(e){return Xn.BUILDER(Ws._,this).withFieldName(e)}getAvailableDecorators(){return[js.J.NONE]}getDefaultDecorator(){return js.J.NONE}getDefaultComparator(){return this.comparator}getDisplayComponent(e){return e===js.J.NONE?Te:Ni.m}}return e.ID="PERIOD",e})();class io extends Ws.p{constructor(e,t,i,s=js.J.ICON_AND_NAME,r=!1,n="Priority"){super(n,i,t,s,r),this.dataType=e}static BUILDER(e,t=new ro){return new Ks.I(io,e,t)}static CUSTOM_FIELD_BUILDER(e,t=new ro){return io.BUILDER(Ws._,t).withFieldName(e)}getTextValue(e){return e?e.name:""}getDataType(){return this.dataType}}class so extends er.R{constructor(){super(...arguments),this.name="sequence"}getName(){return this.name}compareNotNullDataValues(e,t){return this.compareNumbers(e.sequence,t.sequence)}}let ro=(()=>{class e extends Qs.g{constructor(){super(...arguments),this.dataTypeId=e.ID,this.dataTypeType=$s.U.PRIORITY,this.comparator=new so}getFieldBuilder(e){return io.BUILDER(e,this)}getCustomFieldBuilder(e){return io.BUILDER(Ws._,this).withFieldName(e)}getAvailableDecorators(){return[js.J.ICON,js.J.ICON_AND_NAME]}getDefaultDecorator(){return js.J.ICON_AND_NAME}getDefaultComparator(){return this.comparator}getDisplayComponent(e){return e===js.J.ICON?Ae:e===js.J.ICON_AND_NAME?Le:Ni.m}}return e.ID="PRIORITY",e})();class no extends Ws.p{constructor(e,t,i,s=js.J.ICON_AND_NAME_WITH_LINK,r=!1,n="Project"){super(n,i,t,s,r),this.dataType=e}static BUILDER(e,t=new ao){return new Ks.I(no,e,t)}static CUSTOM_FIELD_BUILDER(e,t=new ao){return no.BUILDER(Ws._,t).withFieldName(e)}getTextValue(e){return e?e.name:""}getDataType(){return this.dataType}}class oo extends er.R{constructor(){super(...arguments),this.name="name"}getName(){return this.name}compareNotNullDataValues(e,t){return this.compareStrings(e.name,t.name)}}let ao=(()=>{class e extends Qs.g{constructor(){super(...arguments),this.dataTypeId=e.ID,this.dataTypeType=$s.U.PROJECT,this.comparator=new oo}getFieldBuilder(e){return no.BUILDER(e,this)}getCustomFieldBuilder(e){return no.BUILDER(Ws._,this).withFieldName(e)}getAvailableDecorators(){return[js.J.TEXT,js.J.ICON_AND_NAME,js.J.ICON_AND_NAME_WITH_LINK]}getDefaultDecorator(){return js.J.ICON_AND_NAME_WITH_LINK}getDefaultComparator(){return this.comparator}getDisplayComponent(e){return e===js.J.TEXT?Be:e===js.J.ICON_AND_NAME?Ue:e===js.J.ICON_AND_NAME_WITH_LINK?xi:Ni.m}}return e.ID="PROJECT",e})();class lo extends Ws.p{constructor(e,t,i,s=js.J.TEXT,r=!1,n="Value"){super(n,i,t,s,r),this.dataType=e}static BUILDER(e,t=new po){return new Ks.I(lo,e,t)}static CUSTOM_FIELD_BUILDER(e,t=new po){return lo.BUILDER(Ws._,t).withFieldName(e)}getTextValue(e){return e?e.value:""}getDataType(){return this.dataType}}class co extends er.R{constructor(){super(...arguments),this.name="value"}getName(){return this.name}compareNotNullDataValues(e,t){return this.compareStrings(e.value,t.value)}}let po=(()=>{class e extends Qs.g{constructor(){super(...arguments),this.dataTypeId=e.ID,this.dataTypeType=$s.U.RANK,this.comparator=new co}getFieldBuilder(e){return lo.BUILDER(e,this)}getCustomFieldBuilder(e){return lo.BUILDER(Ws._,this).withFieldName(e)}getAvailableDecorators(){return[js.J.TEXT]}getDefaultDecorator(){return js.J.TEXT}getDefaultComparator(){return this.comparator}getDisplayComponent(e){return e===js.J.TEXT?Gs:Ni.m}}return e.ID="RANK",e})();class uo extends Ws.p{constructor(e,t,i,s=js.J.LOZENGE,r=!1,n="Value"){super(n,i,t,s,r),this.dataType=e}static BUILDER(e,t=new go){return new Ks.I(uo,e,t)}static CUSTOM_FIELD_BUILDER(e,t=new go){return uo.BUILDER(Ws._,t).withFieldName(e)}getTextValue(e){return e?e.value:""}getDataType(){return this.dataType}}class ho extends er.R{constructor(){super(...arguments),this.name="sequence"}getName(){return this.name}compareNotNullDataValues(e,t){return this.compareNumbers(e.sequence,t.sequence)}}let go=(()=>{class e extends Qs.g{constructor(){super(...arguments),this.dataTypeId=e.ID,this.dataTypeType=$s.U.SELECT,this.comparator=new ho}getFieldBuilder(e){return uo.BUILDER(e,this)}getCustomFieldBuilder(e){return uo.BUILDER(Ws._,this).withFieldName(e)}getAvailableDecorators(){return[js.J.TEXT,js.J.LOZENGE,js.J.STYLED_TEXT]}getDefaultDecorator(){return js.J.LOZENGE}getDefaultComparator(){return this.comparator}getDisplayComponent(e){return e===js.J.TEXT?We:e===js.J.LOZENGE?Ge:e===js.J.STYLED_TEXT?qe:Ni.m}}return e.ID="SELECT",e})();class fo extends Ws.p{constructor(e,t,i,s=js.J.RICH_TEXT,r=!1,n="Rich text"){super(n,i,t,s,r),this.dataType=e}static BUILDER(e,t=new To){return new Ks.I(fo,e,t)}static CUSTOM_FIELD_BUILDER(e,t=new To){return fo.BUILDER(Ws._,t).withFieldName(e)}isGroupable(){return!1}getDataType(){return this.dataType}}class mo extends er.R{constructor(){super(...arguments),this.name="element texts"}getName(){return this.name}compareNotNullDataValues(e,t){const i=e.elements.map(e=>e.text),s=t.elements.map(e=>e.text);return this.compareStringLists(i,s)}}let To=(()=>{class e extends Qs.g{constructor(){super(...arguments),this.dataTypeId=e.ID,this.dataTypeType=$s.U.SIMPLIFIED_HTML,this.comparator=new mo}getFieldBuilder(e){return fo.BUILDER(e,this)}getCustomFieldBuilder(e){return fo.BUILDER(Ws._,this).withFieldName(e)}getAvailableDecorators(){return[js.J.RICH_TEXT]}getDefaultDecorator(){return js.J.RICH_TEXT}getDefaultComparator(){return this.comparator}getDisplayComponent(e){return e===js.J.RICH_TEXT?os:Ni.m}}return e.ID="SIMPLIFIED_HTML",e})();class Eo extends Ws.p{constructor(e,t,i,s=js.J.TEXT,r=!1,n="Sprints"){super(n,i,t,s,r),this.dataType=e}static BUILDER(e,t=new Io){return new Ks.I(Eo,e,t)}static CUSTOM_FIELD_BUILDER(e,t=new Io){return Eo.BUILDER(Ws._,t).withFieldName(e)}getTextValue(e){return e&&e.currentSprint?e.currentSprint.name:""}getDataType(){return this.dataType}}class vo extends er.R{constructor(){super(...arguments),this.name="sprint names"}getName(){return this.name}compareNotNullDataValues(e,t){const i=e.sprints.map(e=>rr.Z.parse(e.name)),s=t.sprints.map(e=>rr.Z.parse(e.name));return this.compareIndexedStringLists(i,s)}}let Io=(()=>{class e extends Qs.g{constructor(){super(...arguments),this.dataTypeId=e.ID,this.dataTypeType=$s.U.SPRINTS,this.comparator=new vo}getFieldBuilder(e){return Eo.BUILDER(e,this)}getCustomFieldBuilder(e){return Eo.BUILDER(Ws._,this).withFieldName(e)}getAvailableDecorators(){return[js.J.TEXT]}getDefaultDecorator(){return js.J.TEXT}getDefaultComparator(){return this.comparator}getDisplayComponent(e){return e===js.J.TEXT?qt:Ni.m}}return e.ID="SPRINTS",e})();var yo=i(72540);class Co extends Ws.p{constructor(e,t,i,s=js.J.HISTOGRAM,r=!1,n=""){super(n,i,t,s,r),this.dataType=e}static BUILDER(e,t=new xo){return new Ks.I(Co,e,t)}static CUSTOM_FIELD_BUILDER(e,t=new xo){return Co.BUILDER(Ws._,t).withFieldName(e)}getTextValue(e){return e?e.name:""}getDataType(){return this.dataType}}let xo=(()=>{class e extends Qs.g{constructor(){super(...arguments),this.dataTypeId=e.ID,this.dataTypeType=$s.U.SUBTASK_STATUS_CATEGORIES}getFieldBuilder(e){return Co.BUILDER(e,this)}getCustomFieldBuilder(e){return Co.BUILDER(Ws._,this).withFieldName(e)}getAvailableDecorators(){return[js.J.HISTOGRAM]}getDefaultDecorator(){return js.J.HISTOGRAM}getDefaultComparator(){return null}getDisplayComponent(e){return e===js.J.HISTOGRAM?ut:Ni.m}}return e.ID="SUBTASK_STATUS_CATEGORIES",e})();class Do extends Ws.p{constructor(e,t,i,s=js.J.HISTOGRAM,r=!1,n="Status"){super(n,i,t,s,r),this.dataType=e}static BUILDER(e,t=new bo){return new Ks.I(Do,e,t)}static CUSTOM_FIELD_BUILDER(e,t=new bo){return Do.BUILDER(Ws._,t).withFieldName(e)}getTextValue(e){return e?e.name:""}getDataType(){return this.dataType}}let bo=(()=>{class e extends Qs.g{constructor(){super(...arguments),this.dataTypeId=e.ID,this.dataTypeType=$s.U.SUBTASK_STATUS_CATEGORIES_PERCENTAGE}getFieldBuilder(e){return Do.BUILDER(e,this)}getCustomFieldBuilder(e){return Do.BUILDER(Ws._,this).withFieldName(e)}getAvailableDecorators(){return[js.J.HISTOGRAM]}getDefaultDecorator(){return js.J.HISTOGRAM}getDefaultComparator(){return null}getDisplayComponent(e){return e===js.J.HISTOGRAM?Et:Ni.m}}return e.ID="SUBTASK_STATUS_CATEGORIES_PERCENTAGE",e})();class wo extends Ws.p{constructor(e,t,i,s=js.J.HISTOGRAM,r=!1,n=""){super(n,i,t,s,r),this.dataType=e}static BUILDER(e,t=new So){return new Ks.I(wo,e,t)}static CUSTOM_FIELD_BUILDER(e,t=new So){return wo.BUILDER(Ws._,t).withFieldName(e)}getTextValue(e){return e?e.name:""}getDataType(){return this.dataType}}let So=(()=>{class e extends Qs.g{constructor(){super(...arguments),this.dataTypeId=e.ID,this.dataTypeType=$s.U.SUBTASK_STATUSES}getFieldBuilder(e){return wo.BUILDER(e,this)}getCustomFieldBuilder(e){return wo.BUILDER(Ws._,this).withFieldName(e)}getAvailableDecorators(){return[js.J.HISTOGRAM]}getDefaultDecorator(){return js.J.HISTOGRAM}getDefaultComparator(){return null}getDisplayComponent(e){return e===js.J.HISTOGRAM?ot:Ni.m}}return e.ID="SUBTASK_STATUSES",e})();class Ao extends Ws.p{constructor(e,t,i,s=js.J.HISTOGRAM,r=!1,n=""){super(n,i,t,s,r),this.dataType=e}static BUILDER(e,t=new Ro){return new Ks.I(Ao,e,t)}static CUSTOM_FIELD_BUILDER(e,t=new Ro){return Ao.BUILDER(Ws._,t).withFieldName(e)}getTextValue(e){return e?e.name:""}getDataType(){return this.dataType}}let Ro=(()=>{class e extends Qs.g{constructor(){super(...arguments),this.dataTypeId=e.ID,this.dataTypeType=$s.U.SUBTASK_STATUSES_PERCENTAGE}getFieldBuilder(e){return Ao.BUILDER(e,this)}getCustomFieldBuilder(e){return Ao.BUILDER(Ws._,this).withFieldName(e)}getAvailableDecorators(){return[js.J.HISTOGRAM]}getDefaultDecorator(){return js.J.HISTOGRAM}getDefaultComparator(){return null}getDisplayComponent(e){return e===js.J.HISTOGRAM?Dt:Ni.m}}return e.ID="SUBTASK_STATUSES_PERCENTAGE",e})();class _o extends Ws.p{constructor(e,t,i,s=js.J.HISTOGRAM,r=!1,n=""){super(n,i,t,s,r),this.dataType=e}static BUILDER(e,t=new No){return new Ks.I(_o,e,t)}static CUSTOM_FIELD_BUILDER(e,t=new No){return _o.BUILDER(Ws._,t).withFieldName(e)}getTextValue(e){var t,i;return e?null===(i=null===(t=e.item)||void 0===t?void 0:t.names)||void 0===i?void 0:i.join(", "):""}getDataType(){return this.dataType}}let No=(()=>{class e extends Qs.g{constructor(){super(...arguments),this.dataTypeId=e.ID,this.dataTypeType=$s.U.SUBTASK_VERSION}getFieldBuilder(e){return _o.BUILDER(e,this)}getCustomFieldBuilder(e){return _o.BUILDER(Ws._,this).withFieldName(e)}getAvailableDecorators(){return[js.J.HISTOGRAM]}getDefaultDecorator(){return js.J.HISTOGRAM}getDefaultComparator(){return null}getDisplayComponent(e){return e===js.J.HISTOGRAM?kt:Ni.m}}return e.ID="SUBTASK_VERSION",e})();class Lo extends Ws.p{constructor(e,t,i,s=js.J.HISTOGRAM,r=!1,n=""){super(n,i,t,s,r),this.dataType=e}static BUILDER(e,t=new Oo){return new Ks.I(Lo,e,t)}static CUSTOM_FIELD_BUILDER(e,t=new Oo){return Lo.BUILDER(Ws._,t).withFieldName(e)}getTextValue(e){var t,i;return e?null===(i=null===(t=e.item)||void 0===t?void 0:t.names)||void 0===i?void 0:i.join(", "):""}getDataType(){return this.dataType}}let Oo=(()=>{class e extends Qs.g{constructor(){super(...arguments),this.dataTypeId=e.ID,this.dataTypeType=$s.U.SUBTASK_VERSION_PERCENTAGE}getFieldBuilder(e){return Lo.BUILDER(e,this)}getCustomFieldBuilder(e){return Lo.BUILDER(Ws._,this).withFieldName(e)}getAvailableDecorators(){return[js.J.HISTOGRAM]}getDefaultDecorator(){return js.J.HISTOGRAM}getDefaultComparator(){return null}getDisplayComponent(e){return e===js.J.HISTOGRAM?Zt:Ni.m}}return e.ID="SUBTASK_VERSION_PERCENTAGE",e})();var Fo=i(87985);class Mo extends Ws.p{constructor(e,t,i,s=js.J.URL_LINKS,r=!1,n=""){super(n,i,t,s,r),this.dataType=e}static BUILDER(e,t=new ko){return new Ks.I(Mo,e,t)}static CUSTOM_FIELD_BUILDER(e,t=new ko){return Mo.BUILDER(Ws._,t).withFieldName(e)}getDataType(){return this.dataType}}class Uo extends er.R{constructor(){super(...arguments),this.name="link texts"}getName(){return this.name}compareNotNullDataValues(e,t){const i=e.links.map(e=>e.text),s=t.links.map(e=>e.text);return this.compareStringLists(i,s)}}let ko=(()=>{class e extends Qs.g{constructor(){super(...arguments),this.dataTypeId=e.ID,this.dataTypeType=$s.U.URL_LINKS,this.comparator=new Uo}getFieldBuilder(e){return Mo.BUILDER(e,this)}getCustomFieldBuilder(e){return Mo.BUILDER(Ws._,this).withFieldName(e)}getAvailableDecorators(){return[js.J.URL_LINKS]}getDefaultDecorator(){return js.J.URL_LINKS}getDefaultComparator(){return this.comparator}getDisplayComponent(e){return e===js.J.URL_LINKS?Ri:Ni.m}}return e.ID="URL_LINKS",e})();class Bo extends Ws.p{constructor(e,t,i,s=js.J.VERSION,r=!1,n="Versions"){super(n,i,t,s,r),this.dataType=e}static BUILDER(e,t=new Go){return new Ks.I(Bo,e,t)}static CUSTOM_FIELD_BUILDER(e,t=new Go){return Bo.BUILDER(Ws._,t).withFieldName(e)}getTextValue(e){return e?e.names.join("; "):""}getDataType(){return this.dataType}}class Vo extends er.R{constructor(){super(...arguments),this.name="names"}getName(){return this.name}compareNotNullDataValues(e,t){return this.compareStringLists(e.names,t.names)}}let Go=(()=>{class e extends Qs.g{constructor(){super(...arguments),this.dataTypeId=e.ID,this.dataTypeType=$s.U.VERSION,this.comparator=new Vo}getFieldBuilder(e){return Bo.BUILDER(e,this)}getCustomFieldBuilder(e){return Bo.BUILDER(Ws._,this).withFieldName(e)}getAvailableDecorators(){return[js.J.VERSION]}getDefaultDecorator(){return js.J.VERSION}getDefaultComparator(){return this.comparator}getDisplayComponent(e){return e===js.J.VERSION?Lt:Ni.m}}return e.ID="VERSION",e})();var Po=i(73433),Yo=i(54681);let Zo=(()=>{class e extends Lr.a{constructor(e,t){super(e),this.environmentService=t,this.url="util/datatype"}getRestUrl(e){return this.environmentService.getRestBaseUrl()+e}fetchAvailableDataTypes(){return this.get(`${this.url}/available`).pipe((0,Fr.U)(e=>e.dataTypes))}}return e.\u0275fac=function(t){return new(t||e)(T.LFG(Mr.O),T.LFG(Ei.L))},e.\u0275prov=T.Yz7({token:e,factory:e.\u0275fac}),e})(),zo=(()=>{class e extends a.r{}return e.\u0275fac=function(){let t;return function(i){return(t||(t=T.n5z(e)))(i||e)}}(),e.\u0275prov=T.Yz7({token:e,factory:e.\u0275fac}),e})();var Jo=i(91783);let Ho=(()=>{class e extends Po.w{constructor(e){super(e)}update(e,t){return(0,Jo._)("You have no provider for FieldValueResource, now you use DefaultFieldValueResource")}updateByTaskId(e,t){return(0,Jo._)("You have no provider for FieldValueResource, now you use DefaultFieldValueResource")}getRestUrl(e){return""}}return e.\u0275fac=function(t){return new(t||e)(T.LFG(Mr.O))},e.\u0275prov=T.Yz7({token:e,factory:e.\u0275fac}),e})(),qo=(()=>{class e extends Yo.n{constructor(){super(...arguments),this.editableDataTypes=[]}}return e.\u0275fac=function(){let t;return function(i){return(t||(t=T.n5z(e)))(i||e)}}(),e.\u0275prov=T.Yz7({token:e,factory:e.\u0275fac}),e})();var Qo=i(52792),$o=i(72893),jo=i(26164),Wo=i(98786),Ko=i(51131),Xo=i(33774),ea=i(63065),ta=i(88985),ia=function(e,t,i,s){var r,n=arguments.length,o=n<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,i,s);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(o=(n<3?r(o):n>3?r(t,i,o):r(t,i))||o);return n>3&&o&&Object.defineProperty(t,i,o),o},sa=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};class ra extends ta.M{getClassName(){return"GlobalTaskFieldIdDTO"}}ia([(0,Ko.qA)(),sa("design:type",Number)],ra.prototype,"fieldId",void 0),ia([(0,Xo.GT)(ea.M),sa("design:type",String)],ra.prototype,"name",void 0);var na=i(52369),oa=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};class aa extends Lr.a{constructor(e,t,i,s){super(e),this.environmentService=t,this.domainFieldsRepository=i,this.url="ppm/task/core",s&&!s.canFetch()||this.fetchDomainFields()}fetchAllAvailable(){return this.get(`${this.url}/global/fields`).pipe((0,Wo.J)(ra),(0,Fr.U)(e=>new Map(e.map(e=>[e.name,jo.Z.fromNumber(e.fieldId)]))))}fetchDomainFields(){this.fetchAllAvailable().subscribe(e=>{this.domainFieldsRepository.init(e)})}getRestUrl(e){return this.environmentService.getRestBaseUrl()+e}}aa.\u0275fac=function(e){return new(e||aa)(T.LFG(Mr.O),T.LFG(Ei.L),T.LFG(wr.m),T.LFG(na.T,8))},aa.\u0275prov=T.Yz7({token:aa,factory:aa.\u0275fac}),function(e,t,i,s){var r,n=arguments.length,o=n<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,i,s);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(o=(n<3?r(o):n>3?r(t,i,o):r(t,i))||o);n>3&&o&&Object.defineProperty(t,i,o)}([(0,$o.u)(),oa("design:type",Function),oa("design:paramtypes",[]),oa("design:returntype",Qo.y)],aa.prototype,"fetchAllAvailable",null);var la=i(41894);i(74970);class da{stringifyMany(e,t,i=", "){return Array.isArray(e)&&e.length?e.map(t).filter(Boolean).join(i):""}}var ca,pa=i(24573),ua=i(13345);class ha{static registerConverter(e){ha.converters.set(e.type,e.convert.bind(e))}convert(e,t){const i=ha.converters.get(e);return"function"!=typeof i||null===t||V.l.isEmpty(t)?ua.F.empty():ua.F.from(i(t))}}ha.converters=new Map,ha.\u0275fac=function(e){return new(e||ha)},ha.\u0275prov=T.Yz7({token:ha,factory:ha.\u0275fac}),ca=ha.registerConverter,[class extends da{get type(){return $s.U.ATTACHMENTS}convert(e){return Array.isArray(e.attachments)&&e.attachments.length?e.attachments.map(e=>e.name||"").filter(Boolean).join(", "):""}},class extends da{get type(){return $s.U.BOX_TYPE_VALUE}convert(e){return e.name||""}},class extends da{get type(){return $s.U.BUILTIN_COLOR}convert(e){return e.value||""}},class extends da{get type(){return $s.U.BUILTIN_ICON}convert(e){return e.icon||""}},class extends da{get type(){return $s.U.DATE}convert(e){return e.value||""}},class extends da{get type(){return $s.U.DATE_TIME}convert(e){return e.value||""}},class extends da{get type(){return $s.U.DUE_DATE}convert(e){return e.value}},class extends da{get type(){return $s.U.ENTITY_KEY}convert(e){return e.key||""}},class extends da{get type(){return $s.U.EPIC}convert(e){return e.name||""}},class extends da{get type(){return $s.U.ESTIMATION}convert(e){return e.estimateFormattedPretty||""}},class extends da{get type(){return $s.U.HEX_COLOR}convert(e){return e.backgroundColor||""}},class extends da{get type(){return $s.U.ICON}convert(e){return e.description||""}},class extends da{get type(){return $s.U.ISSUE_TYPE}convert(e){return e.name||""}},class extends da{get type(){return $s.U.KEY}convert(e){return e.value||""}},class extends da{get type(){return $s.U.LABELS}convert(e){return this.stringifyMany(e&&e.labels,e=>e.name||"")}},class extends da{get type(){return $s.U.LINK}convert(e){return e.value||""}},class extends da{get type(){return $s.U.MILESTONE}convert(e){return e.value||""}},class extends da{get type(){return $s.U.MULTI_USER}convert(e){return this.stringifyMany(e&&e.users,e=>e.data&&e.data.displayName||"")}},class extends da{get type(){return $s.U.NUMBER}convert(e){const t=parseFloat(`${e.number}`);return Number.isNaN(t)?"":t.toString(10)}},class extends da{get type(){return $s.U.PERCENTAGE}convert(e){const t=parseFloat(`${e.number}`);return Number.isNaN(t)?"":`${t.toString(10)}%`}},class extends da{get type(){return $s.U.PERIOD}convert(e){const t=t=>!!e[t]&&!!e[t].value;return t("startDate")&&t("endDate")?`${e.startDate.value} - ${e.endDate.value}`:""}},class extends da{get type(){return $s.U.PRIORITY}convert(e){return e.name||""}},class extends da{get type(){return $s.U.PERIOD_MODE}convert(e){return e.value||""}},class extends da{get type(){return $s.U.PROJECT}convert(e){return e.name||""}},class extends da{get type(){return $s.U.RANK}convert(e){return e.value||""}},class extends da{get type(){return $s.U.SELECT}convert(e){return e.value||""}},class extends da{get type(){return $s.U.SIMPLIFIED_HTML}convert(e){return this.stringifyMany(e&&e.elements,e=>this.isLinkElement(e)?this.sanitize(`[${e.text}](${e.url})`):this.sanitize(e.text),"")}sanitize(e){return pa.X.sanitize(e||"",{withoutHTML:!0})}isLinkElement(e){return!!e&&"LINK"===e.elementType}},class extends da{get type(){return $s.U.SKILLS}convert(e){return this.stringifyMany(e&&e.skills,e=>e.name||"")}},class extends da{get type(){return $s.U.SPRINTS}convert(e){return this.stringifyMany(e&&e.sprints,e=>e.name||"")}},class extends da{get type(){return $s.U.STATUS}convert(e){return e.name||""}},class extends da{get type(){return $s.U.STRING}convert(e){return e.value||""}},class extends da{get type(){return $s.U.SUMMARY}convert(e){return e.summary||""}},class extends da{get type(){return $s.U.TIMETRACKING}convert(e){return Number.isNaN(parseFloat(String(e.percentage)))?"":`${e.percentage}%`}},class extends da{get type(){return $s.U.URL_LINKS}convert(e){return this.stringifyMany(e&&e.links,e=>e.url?`[${e.text}](${e.url})`:e.text||"")}},class extends da{get type(){return $s.U.USER}convert(e){return e.data&&e.data.displayName||""}},class extends da{get type(){return $s.U.VERSION}convert(e){return this.stringifyMany(e&&e.list,e=>e.name||"")}}].forEach(e=>{ca(new e)}),i(78268),i(99721);class ga{constructor(e,t=[],i=[]){this.fieldDefinition=e,this.dataTypeFilterConfigs=t,this.selectedDataValues=i}getFieldAttributeFiltersConfigs(){return this.dataTypeFilterConfigs}getSelectedDataValues(){return this.selectedDataValues}getFieldDefinition(){return this.fieldDefinition}isAdvancedFiltersEmpty(){return!V.l.arrayHasElements(this.dataTypeFilterConfigs)||this.dataTypeFilterConfigs.every(e=>e.isEmpty())}setSelectedDataValues(e){this.selectedDataValues=e}setDataTypeFilterConfigs(e){this.dataTypeFilterConfigs=e}}i(89932),i(33785),i(34213);var fa=i(61917);let ma=(()=>{class e{constructor(e){this.dataTypeInstanceRepository=e}fromLocalStorageObject(e,t){if(null===e)return null;const i=this.dataTypeInstanceRepository.get(e.fieldDefinition.dataType.dataTypeId),s=e.dataTypeFilterConfigs.map(e=>i.getFilterByName(e.uniqueName).fromRaw(e)),r=this.dataTypeInstanceRepository.get(i.getDataTypeType()).getFieldBuilder(t).build(),n=e.selectedDataValues.map(e=>fa.e.create(e));return new ga(r,s,n)}}return e.\u0275fac=function(t){return new(t||e)(T.LFG(l.v))},e.\u0275prov=T.Yz7({token:e,factory:e.\u0275fac}),e})();var Ta=i(24482),Ea=i(82893);class va extends Ws.p{constructor(e,t,i,s=js.J.NONE,r=!1,n=""){super(n,i,t,s,r),this.dataType=e}static BUILDER(e,t=new Ia){return new Ks.I(va,e,t)}static CUSTOM_FIELD_BUILDER(e,t=new Ia){return va.BUILDER(Ws._,t).withFieldName(e)}getDataType(){return this.dataType}}let Ia=(()=>{class e extends Qs.g{constructor(){super(...arguments),this.dataTypeId=e.ID,this.dataTypeType=$s.U.NONE}getFieldBuilder(e){return va.BUILDER(e,this)}getCustomFieldBuilder(e){return va.BUILDER(Ws._,this).withFieldName(e)}getAvailableDecorators(){return[js.J.NONE]}getDefaultDecorator(){return js.J.NONE}getDefaultComparator(){return null}getDisplayComponent(e){return Ni.m}}return e.ID="NONE",e})();var ya=i(49907);class Ca{static resolve(e,t){return t?ya.c.isBuiltIn(t)?`${e} (Built-in)`:`${e} (${t.type})`:e}}var xa=i(11080);class Da{constructor(e){this.dataTypeInstanceRepository=e}static fromConfiguration(e,t){let i,s;if(e.fieldType){if(e.distribute)return t.get($s.U[`${e.distribute}`]).getFieldBuilder(jo.Z.fromNumber(e.taskFieldId)).withFieldName(e.fieldName).withLabelName(e.fieldLabel).withAggregation(e.distribute).build();s=t.get($s.U[`${e.fieldType}`]).getFieldBuilder(jo.Z.fromNumber(e.taskFieldId))}else s=t.get($s.U.NONE).getFieldBuilder(jo.Z.fromNumber(e.taskFieldId));return i=e.aggregation&&"NONE"!==e.aggregation?s.withFieldName(e.fieldName).withDecorator(e.decoratorType).withLabelName(e.fieldLabel).withEditable(!0).build().aggregated(ur.P[`${e.aggregation}`]):s.withFieldName(e.fieldName).withDecorator(e.decoratorType).withLabelName(e.fieldLabel).withEditable(!0).build(),this.fieldsWithCenterAlignment.includes(e.fieldType)&&(i=i.align(xa.x.CENTER)),i}fromAvailableField(e){let t;const i=e.name,s=Ca.resolve(e.label,e.origin);return t=e.distribute?this.dataTypeInstanceRepository.get($s.U[`${e.distribute}`]).getCustomFieldBuilder(i):this.dataTypeInstanceRepository.get($s.U[`${e.dataType}`]).getCustomFieldBuilder(i),t.withLabelName(s).build()}fromTaskField(e){let t;const i=e.name,s=jo.Z.fromNumber(e.taskFieldId),r=Ca.resolve(e.label,e.origin);return t="NONE"!==e.distribute?this.dataTypeInstanceRepository.get($s.U[`${e.distribute}`]).getFieldBuilder(s):this.dataTypeInstanceRepository.get($s.U[`${e.dataType}`]).getFieldBuilder(s),t.withFieldName(i).withLabelName(r).build()}fromTaskFields(e){return e.map(e=>this.fromTaskField(e))}}Da.fieldsWithCenterAlignment=[$s.U.ICON,$s.U.ISSUE_TYPE,$s.U.PRIORITY,$s.U.USER],Da.\u0275fac=function(e){return new(e||Da)(T.LFG(l.v))},Da.\u0275prov=T.Yz7({token:Da,factory:Da.\u0275fac});var ba=i(13627);const wa=[(0,n.E)(on),(0,n.E)(an.A),(0,n.E)(yn),(0,n.E)(Cn.A),(0,n.E)(_r),(0,n.E)(qs.G),(0,n.E)(wn),(0,n.E)(Sn.q),(0,n.E)(_n),(0,n.E)(Nn.c),(0,n.E)(Fn),(0,n.E)(kn),(0,n.E)(ir),(0,n.E)(Gn),(0,n.E)(or),(0,n.E)(Zn),(0,n.E)(Hn),(0,n.E)(cr),(0,n.E)($n),(0,n.E)(fr),(0,n.E)(Kn),(0,n.E)(to),(0,n.E)(ro),(0,n.E)(ao),(0,n.E)(po),(0,n.E)(vr),(0,n.E)(go),(0,n.E)(To),(0,n.E)(Io),(0,n.E)(xr.C),(0,n.E)(yo.r),(0,n.E)(Dr.A),(0,n.E)(Fo.T),(0,n.E)(ko),(0,n.E)(br.a),(0,n.E)(Go),(0,n.E)(So),(0,n.E)(Ro),(0,n.E)(xo),(0,n.E)(bo),(0,n.E)(No),(0,n.E)(Oo),(0,n.E)(Cr),(0,n.E)(Ia),(0,n.E)(ba.c)],Sa=[l.v,aa,wr.m,xn.O,ma],Aa=[...wa,...Sa,la.q,en,Xr.N,sn,tn.R,Nr,Zo,{provide:a.r,useClass:zo},ha,xn.O,o.w,Ta.O,Da];let Ra=(()=>{class e{constructor(e,t,i,s){this.dataTypes=e,this.domainFieldsResource=i,this.dataValueComparatorsFactory=s,t&&!t.canFetch()||i.fetchDomainFields()}static forRoot(t={fieldValueResource:Ho,fieldValuesEditAbility:qo}){return{ngModule:e,providers:[...Aa,{provide:Po.w,useClass:t.fieldValueResource},{provide:Yo.n,useClass:t.fieldValuesEditAbility}]}}}return e.\u0275fac=function(t){return new(t||e)(T.LFG(n.D,8),T.LFG(na.T,8),T.LFG(aa),T.LFG(xn.O))},e.\u0275mod=T.oAB({type:e}),e.\u0275inj=T.cJS({providers:[...Sa],imports:[[s.ez,r.u5,r.UX,bs.C,Rs.r.forRoot(),ws.$,E.z8,As.Z.forRoot(),Hs.forRoot(),Kr.forRoot(),Ea.A.forRoot(),Ps.n]]}),e})()},52369:(e,t,i)=>{"use strict";i.d(t,{T:()=>r});var s=i(94846);let r=(()=>{class e{canFetch(){return!1}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=s.Yz7({token:e,factory:e.\u0275fac}),e})()},63474:(e,t,i)=>{"use strict";i.d(t,{m:()=>l});var s=i(88566),r=i(63065),n=i(14429);class o{constructor(){this.fieldNameToId=new Map,this.fieldIdToName=new Map}getSummaryId(){return this.getId(r.M.SUMMARY)}getKeyId(){return this.getId(r.M.KEY)}getStatusId(){return this.getId(r.M.STATUS)}getStartDateId(){return this.getId(r.M.START_DATE)}getEndDateId(){return this.getId(r.M.END_DATE)}getBaselineStartDateId(){return this.getId(r.M.BASELINE_START_DATE)}getBaselineEndDateId(){return this.getId(r.M.BASELINE_END_DATE)}getProgressId(){return this.getId(r.M.PROGRESS)}getColorId(){return this.getId(r.M.COLOR)}getMilestoneId(){return this.getId(r.M.MILESTONE)}getPeriodModeId(){return this.getId(r.M.PERIOD_MODE)}getAssigneeId(){return this.getId(r.M.ASSIGNEE)}getDurationId(){return this.getId(r.M.DURATION_TECHNICAL)}getSkillsId(){return this.getId(r.M.SKILLS)}getConsequenceId(){return this.getId(r.M.RISK_CONSEQUENCE)}getProbabilityId(){return this.getId(r.M.RISK_PROBABILITY)}getOriginalEstimateId(){return this.getId(r.M.ORIGINAL_ESTIMATE)}getRemainingEstimateId(){return this.getId(r.M.REMAINING_ESTIMATE)}getStoryPointsId(){return this.getId(r.M.STORY_POINTS)}getPriorityId(){return this.getId(r.M.PRIORITY)}getIconId(){return this.getId(r.M.ICON)}getTimeSpentId(){return this.getId(r.M.TIME_SPENT)}getTimeTrackingId(){return this.getId(r.M.TIME_TRACKING)}getSummary(e){return e.getDataValue(this.getSummaryId())}getStatus(e){return e.getDataValue(this.getStatusId())}initFields(e){this.notEditableDomainFieldIds=[],e.forEach((t,i)=>{this.fieldNameToId.set(i,t),this.fieldIdToName.set(e.get(i).toString(),i),r.D.some(e=>e===i)&&this.notEditableDomainFieldIds.push(t)})}getName(e){return n.bq.ofNullable(this.fieldIdToName.get(e.toString()))}getId(e){return this.fieldNameToId.get(e)}getNotEditableDomainFieldIds(){return this.notEditableDomainFieldIds}}var a=i(94846);let l=(()=>{class e{constructor(){this.mapperInitialized$=new s.t(1),this.domainFieldMapper=new o}init(e){this.domainFieldMapper.initFields(e),this.mapperInitialized$.next(!0)}selectDomainFieldsInitialized(){return this.mapperInitialized$}getMapper(){return this.domainFieldMapper}getName(e){return this.domainFieldMapper.getName(e)}getSummaryId(){return this.domainFieldMapper.getSummaryId()}getKeyId(){return this.domainFieldMapper.getKeyId()}getStatusId(){return this.domainFieldMapper.getStatusId()}getStartDateId(){return this.domainFieldMapper.getStartDateId()}getEndDateId(){return this.domainFieldMapper.getEndDateId()}getBaselineStartDateId(){return this.domainFieldMapper.getBaselineStartDateId()}getBaselineEndDateId(){return this.domainFieldMapper.getBaselineEndDateId()}getProgressId(){return this.domainFieldMapper.getProgressId()}getColorId(){return this.domainFieldMapper.getColorId()}getMilestoneId(){return this.domainFieldMapper.getMilestoneId()}getPeriodModeId(){return this.domainFieldMapper.getPeriodModeId()}getAssigneeId(){return this.domainFieldMapper.getAssigneeId()}getDurationId(){return this.domainFieldMapper.getDurationId()}getSkillsId(){return this.domainFieldMapper.getSkillsId()}getConsequenceId(){return this.domainFieldMapper.getConsequenceId()}getProbabilityId(){return this.domainFieldMapper.getProbabilityId()}getRemainingEstimateId(){return this.domainFieldMapper.getRemainingEstimateId()}getOriginalEstimateId(){return this.domainFieldMapper.getOriginalEstimateId()}getStoryPointsId(){return this.domainFieldMapper.getStoryPointsId()}getPriorityId(){return this.domainFieldMapper.getPriorityId()}getIconId(){return this.domainFieldMapper.getIconId()}getTimeSpentId(){return this.domainFieldMapper.getTimeSpentId()}getTimeTrackingId(){return this.domainFieldMapper.getTimeTrackingId()}getSummary(e){return this.domainFieldMapper.getSummary(e)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=a.Yz7({token:e,factory:e.\u0275fac}),e})()},18657:(e,t,i)=>{"use strict";i.d(t,{J:()=>o});var s=i(2259),r=i(28060),n=i(74477);class o{constructor(e,t,i,s,r){this.id=e,this.fieldCollection=t,this.editable=i,this.accessible=s,this.fieldsEditability=r,this.outdatedFields=new Set,this.operations={}}static clone(e){const t=r.i.clone(e.fieldCollection),i=this&&new o(n.l.lodashCloneDeep(e.id),t,n.l.lodashCloneDeep(e.editable),n.l.lodashCloneDeep(e.accessible),n.l.lodashCloneDeep(e.fieldsEditability));return e.updateDate&&(i.updateDate=n.l.lodashCloneDeep(e.updateDate)),e.outdatedFields&&(i.outdatedFields=new Set(n.l.lodashCloneDeep(Array.from(e.outdatedFields)))),e.operations&&(i.operations=n.l.lodashCloneDeep(e.operations)),i}clone(){return o.clone(this)}getDataValue(e,t=s.P.NONE){return this.fieldCollection.getDataValue(e,t)}getSlicedDataValue(e,t=s.P.NONE){return this.fieldCollection.getSlicedDataValue(e,t)}getFieldCollection(){return this.fieldCollection}updateFieldCollection(e){this.fieldCollection.update(e)}setFieldCollection(e){this.fieldCollection=n.l.lodashCloneDeep(e)}setUpdateDate(e){this.updateDate=n.l.lodashCloneDeep(e)}setOperations(e){this.operations=n.l.lodashCloneDeep(e)}setEditable(e){this.editable=n.l.lodashCloneDeep(e)}setAccessible(e){this.accessible=n.l.lodashCloneDeep(e)}setFieldsEditability(e){this.fieldsEditability=n.l.lodashCloneDeep(e)}}},28060:(e,t,i)=>{"use strict";i.d(t,{i:()=>o});var s=i(61917),r=i(26164),n=i(2259);let o=(()=>{class e{constructor(e=new Map){this.fieldIdToAggregatedDataValue=e}static of(t){const i=new e.BUILDER(t).build();return new e(i)}static getDataValueFromRaw(e,t,i=n.P.NONE){return e&&e[t.toString()]&&s.e.create(e[t.toString()][i])}static clone(t){const i={};return t.fieldIdToAggregatedDataValue.forEach((e,t)=>{i[t]||(i[t]={}),e.forEach((e,r)=>{(null==e?void 0:e.clone)||(e=s.e.create(e)),i[t][r]=e?e.clone():null})}),e.of(i)}clone(){return e.clone(this)}getAggregatedField(e){return this.fieldIdToAggregatedDataValue.get(e.toString())}getDataValue(e,t=n.P.NONE){const i=this.fieldIdToAggregatedDataValue.get(e.toString());return i?i.get(t):void 0}getSlicedDataValue(e,t=n.P.NONE){return this.getDataValue(e,t).slice()}update(e){e.fieldIdToAggregatedDataValue.forEach((e,t)=>{this.fieldIdToAggregatedDataValue.has(t)||this.fieldIdToAggregatedDataValue.set(t,new Map),e.forEach((e,i)=>{this.fieldIdToAggregatedDataValue.get(t).set(i,e)})})}forEach(e){this.fieldIdToAggregatedDataValue.forEach((t,i)=>e(t,r.Z.fromString(i)))}}return e.BUILDER=class{constructor(e){this.rawFields=e,this.rawFields||(this.rawFields={})}build(){const e=new Map;return Object.keys(this.rawFields).forEach(t=>{e.set(t,new Map);const i=this.rawFields[t];null!=i&&Object.keys(i).forEach(r=>{e.get(`${t}`).set(r,s.e.create(i[r]))})}),e}},e})()},26164:(e,t,i)=>{"use strict";i.d(t,{Z:()=>r});var s=i(35398);class r extends s.h{static fromNumber(e){if(!isNaN(e)&&"number"==typeof e)return new r(`${e}`);if("string"==typeof e)throw new Error("fromNumber method needs a number, but string was provided");return null}static fromString(e){if("string"==typeof e)return new r(e);if("number"==typeof e)throw new Error("fromString method needs a string, but number was provided");return null}toNumber(){return parseInt(this.id)}}},42653:(e,t,i)=>{"use strict";i.d(t,{N:()=>n});var s=i(78268),r=i(94846);let n=(()=>{class e extends s.xQ{}return e.\u0275fac=function(){let t;return function(i){return(t||(t=r.n5z(e)))(i||e)}}(),e.\u0275prov=r.Yz7({token:e,factory:e.\u0275fac}),e})()},29830:(e,t,i)=>{"use strict";i.d(t,{R:()=>n});var s=i(78268),r=i(94846);let n=(()=>{class e extends s.xQ{}return e.\u0275fac=function(){let t;return function(i){return(t||(t=r.n5z(e)))(i||e)}}(),e.\u0275prov=r.Yz7({token:e,factory:e.\u0275fac}),e})()},73433:(e,t,i)=>{"use strict";i.d(t,{w:()=>r});var s=i(29979);class r extends s.a{constructor(e){super(e)}}},54681:(e,t,i)=>{"use strict";i.d(t,{n:()=>r});var s=i(86279);class r{constructor(){this.editAvailable$=new s.X(!1)}editableForField(e){return void 0!==this.editableDataTypes.find(t=>t===e)}}},853:(e,t,i)=>{"use strict";i.d(t,{g:()=>s});class s{getEditComponent(){throw new Error("Method not implemented")}getId(){return this.dataTypeId}getDataTypeType(){return this.dataTypeType}getFilters(){return[]}getFilterByName(e){return this.getFilters().find(t=>t.getUniqueName()===e)}}},64894:(e,t,i)=>{"use strict";i.d(t,{G:()=>s});class s{getLength(){throw new Error(`Method getLength is not implemented in ${this.dataTypeId}`)}slice(){return[this]}equals(e){return!!e&&this.hashCode()===e.hashCode()}hashCode(){return JSON.stringify(this)}}},94934:(e,t,i)=>{"use strict";i.d(t,{R:()=>s});class s{compare(e,t){return e||t?e?t?this.compareNotNullDataValues(e,t):-1:1:0}compareStrings(e,t){return e||t?e?t?(e=e.toLowerCase().trim())>(t=t.toLowerCase().trim())?1:t>e?-1:0:-1:1:0}compareIndexedStrings(e,t){const i=this.compareStrings(e.text,t.text);if(0===i){const i=this.compareNumbers(e.index,t.index);if(0===i){const i=this.compareNumbers(e.indexLength,t.indexLength);return 0===e.indexLength||0===t.indexLength?i:-i}return i}return i}compareNumbers(e,t){return e>t?1:t>e?-1:0}compareStringLists(e,t){return this.compareLists(e,t,(e,t)=>this.compareStrings(e,t))}compareIndexedStringLists(e,t){return this.compareLists(e,t,(e,t)=>this.compareIndexedStrings(e,t))}compareNumberLists(e,t){return this.compareLists(e,t,(e,t)=>this.compareNumbers(e,t))}compareLists(e,t,i){const s=Math.min(e.length,t.length);for(let r=0;r<s;r++){const s=i(e[r],t[r]);if(0!==s)return s}return e.length<t.length?-1:e.length>t.length?1:0}}},59365:(e,t,i)=>{"use strict";i.d(t,{O:()=>o});var s=i(94934),r=i(53738),n=i(94846);class o{constructor(e){this.dataTypes=e,this.initComparators()}static getComparator(e){return this.comparators.get(e)||this.defaultComparator}static exist(e){return!!this.comparators.get(e)}initComparators(){this.dataTypes&&this.dataTypes.forEach(e=>{o.comparators.set(e.getDataTypeType(),e.getDefaultComparator())})}}o.comparators=new Map,o.defaultComparator=new class extends s.R{constructor(){super(...arguments),this.compareNotNullDataValues=null,this.name="default"}getName(){return this.name}compare(e,t){return 0}},o.\u0275fac=function(e){return new(e||o)(n.LFG(r.D,8))},o.\u0275prov=n.Yz7({token:o,factory:o.\u0275fac})},59634:(e,t,i)=>{"use strict";i.d(t,{_:()=>o,p:()=>a});var s=i(26164),r=i(2259),n=i(11080);const o=new s.Z("");class a{constructor(e,t,i,s,o,a=n.x.LEFT){this.labelName=e,this.fieldName=t,this.fieldId=i,this.decoratorType=s,this.editable=o,this.defaultAlignment=a,this.aggregation=r.P.NONE,this.alignment=this.defaultAlignment}getValueForEdit(e){}getTextValue(e){return""}getDataValue(e){return null===e?null:this.isCustomField()?e.getDataValue(s.Z.fromString(this.fieldName),this.aggregation):e.getDataValue(this.fieldId,this.aggregation)}getDecoratorType(){return this.decoratorType}getEditable(){return this.editable}getFieldId(){return this.fieldId}getFieldName(){return this.fieldName}getLabelName(){return this.labelName}setEditable(e){this.editable=e}aggregated(e){return this.aggregation=e,this}align(e){return this.alignment=e,this}isCustomField(){return this.fieldId===o}isGroupable(){return!0}}},27115:(e,t,i)=>{"use strict";i.d(t,{I:()=>n});var s=i(59634),r=i(2259);class n{constructor(e,t=s._,i){this.fieldDefinition=e,this.fieldId=t,this.dataType=i,this.aggregation=r.P.NONE}withFieldName(e){return this.fieldName=e,this}withLabelName(e){return this.labelName=e,this}withDecorator(e){return this.decoratorType=e,this}withEditable(e){return this.editable=e,this}withAggregation(e){return this.aggregation=e,this}build(){const e=new this.fieldDefinition(this.dataType,this.fieldId,this.fieldName,this.decoratorType,this.editable,this.labelName);return this.aggregation!==r.P.NONE&&e.aggregated(this.aggregation),e}}},25755:(e,t,i)=>{"use strict";i.d(t,{Z:()=>s});class s{constructor(e,t,i){this.text=e,this.index=t,this.indexLength=i}static parse(e){const t=/([0-9]+)$/.exec(e),i=t?parseInt(t[0]):0,r=t?t[0].length:0,n=e.slice(0,e.length-r);return new s(n,i,r)}}},13092:(e,t,i)=>{"use strict";i.d(t,{A:()=>u});var s=i(853),r=i(25088),n=i(36441),o=i(59634),a=i(77912),l=i(94934);class d extends l.R{constructor(){super(...arguments),this.name="name"}getName(){return this.name}compareNotNullDataValues(e,t){return this.compareStrings(e.name,t.name)}}var c=i(54144),p=i(8720);let u=(()=>{class e extends s.g{constructor(){super(...arguments),this.dataTypeId=e.ID,this.dataTypeType=r.U.BOX_TYPE_VALUE,this.comparator=new d}getFieldBuilder(e){return a.U.BUILDER(e,this)}getCustomFieldBuilder(e){return a.U.BUILDER(o._,this).withFieldName(e)}getAvailableDecorators(){return[n.J.BOX_TYPE_VALUE_LOZENGE]}getDefaultDecorator(){return n.J.BOX_TYPE_VALUE_LOZENGE}getDefaultComparator(){return this.comparator}getDisplayComponent(e){return e===n.J.BOX_TYPE_VALUE_LOZENGE?c.S:p.m}}return e.ID="BOX_TYPE_VALUE",e})()},77912:(e,t,i)=>{"use strict";i.d(t,{U:()=>a});var s=i(13092),r=i(59634),n=i(27115),o=i(36441);class a extends r.p{constructor(e,t,i,s=o.J.BOX_TYPE_VALUE_LOZENGE,r=!1,n="Box type value"){super(n,i,t,s,r),this.dataType=e}static BUILDER(e,t=new s.A){return new n.I(a,e,t)}static CUSTOM_FIELD_BUILDER(e,t=new s.A){return a.BUILDER(r._,t).withFieldName(e)}getTextValue(e){return e?e.name:""}getDataType(){return this.dataType}}},82843:(e,t,i)=>{"use strict";i.d(t,{A:()=>f});var s=i(853),r=i(25088),n=i(36441),o=i(59634),a=i(27115);class l extends o.p{constructor(e,t,i,s=n.J.BUILTIN_ICON_ICON_AND_NAME,r=!1,o="Built-in Icon"){super(o,i,t,s,r),this.dataType=e}static BUILDER(e,t=new f){return new a.I(l,e,t)}static CUSTOM_FIELD_BUILDER(e,t=new f){return l.BUILDER(o._,t).withFieldName(e)}getTextValue(e){return e?e.icon:""}getDataType(){return this.dataType}}var d=i(94934);class c extends d.R{constructor(){super(...arguments),this.name="icon and builtin color"}getName(){return this.name}compareNotNullDataValues(e,t){const i=this.compareStrings(e.icon,t.icon);return 0===i?this.compareStrings(e.builtinColor.value,t.builtinColor.value):i}}var p=i(71634),u=i(40902),h=i(79223),g=i(8720);let f=(()=>{class e extends s.g{constructor(){super(...arguments),this.dataTypeId=e.ID,this.dataTypeType=r.U.BUILTIN_ICON,this.comparator=new c}getFieldBuilder(e){return l.BUILDER(e,this)}getCustomFieldBuilder(e){return l.BUILDER(o._,this).withFieldName(e)}getAvailableDecorators(){return[n.J.BUILTIN_ICON_ICON_AND_NAME,n.J.BUILTIN_ICON_ICON,n.J.BUILTIN_ICON_NAME]}getDefaultDecorator(){return n.J.BUILTIN_ICON_ICON_AND_NAME}getDefaultComparator(){return this.comparator}getDisplayComponent(e){if(e===n.J.BUILTIN_ICON_ICON)return p.o;if(e===n.J.BUILTIN_ICON_ICON_AND_NAME)return u.o;if(e===n.J.BUILTIN_ICON_NAME)return h.Y;throw g.m}}return e.ID="BUILTIN_ICON",e})()},71806:(e,t,i)=>{"use strict";i.d(t,{G:()=>h});var s=i(853),r=i(25088),n=i(36441),o=i(59634),a=i(41593),l=i(94934);class d extends l.R{constructor(){super(...arguments),this.name="original"}getName(){return this.name}compareNotNullDataValues(e,t){return this.compareNumbers(e.original,t.original)}}var c=i(4505),p=i(28612),u=i(8720);let h=(()=>{class e extends s.g{constructor(){super(...arguments),this.dataTypeId=e.ID,this.dataTypeType=r.U.DATE_TIME,this.comparator=new d}getFieldBuilder(e){return a.l.BUILDER(e,this)}getCustomFieldBuilder(e){return a.l.BUILDER(o._,this).withFieldName(e)}getAvailableDecorators(){return[n.J.DATE,n.J.DATE_TIME]}getDefaultDecorator(){return n.J.DATE}getDefaultComparator(){return this.comparator}getDisplayComponent(e){return e===n.J.DATE_TIME?c.i:e===n.J.DATE?p.F:u.m}}return e.ID="DATE_TIME",e})()},41593:(e,t,i)=>{"use strict";i.d(t,{l:()=>l});var s=i(71806),r=i(2259),n=i(36441),o=i(59634),a=i(27115);class l extends o.p{constructor(e,t,i,s=n.J.DATE,r=!1,o="Date time"){super(o,i,t,s,r),this.dataType=e}static BUILDER(e,t=new s.G){return new a.I(l,e,t)}static CUSTOM_FIELD_BUILDER(e,t=new s.G){return l.BUILDER(o._,t).withFieldName(e)}aggregated(e=r.P.NONE){return this.aggregation=e,this}getTextValue(e){return e?e.dateValue:""}getDataType(){return this.dataType}}},18321:(e,t,i)=>{"use strict";i.d(t,{Li:()=>o,vf:()=>a});var s=i(64894),r=i(25088),n=i(74477);class o extends s.G{constructor(e,t,i){super(),this.leaf=e,this.percentage=t,this.distrb=i,this.dataTypeId=r.U.DISTRIBUTION}static of(e){return e&&new o(e.leaf,e.percentage,e.distrb.map(e=>a.of(e)))}clone(){return Object.freeze(o.of(n.l.deepClone(this)))}isEmpty(){return!n.l.isDefined(this.leaf)&&!n.l.isDefined(this.percentage)&&!this.distrb.length}}class a{constructor(e,t){this.key=e,this.value=t}static of(e){return e&&new a(l.of(e.key),e.value)}}class l{constructor(e,t,i){this.key=e,this.name=t,this.color=i}static of(e){return e&&new l(e.key,e.name,e.color)}}},807:(e,t,i)=>{"use strict";i.d(t,{q:()=>g});var s=i(853),r=i(25088),n=i(36441),o=i(59634),a=i(55867),l=i(94934),d=i(25755);class c extends l.R{constructor(){super(...arguments),this.name="key"}getName(){return this.name}compareNotNullDataValues(e,t){return this.compareIndexedStrings(d.Z.parse(e.key),d.Z.parse(t.key))}}var p=i(13189),u=i(93937),h=i(8720);let g=(()=>{class e extends s.g{constructor(){super(...arguments),this.dataTypeId=e.ID,this.dataTypeType=r.U.ENTITY_KEY,this.comparator=new c}getFieldBuilder(e){return a.G.BUILDER(e,this)}getCustomFieldBuilder(e){return a.G.BUILDER(o._,this).withFieldName(e)}getAvailableDecorators(){return[n.J.ENTITY_KEY_TEXT,n.J.ENTITY_KEY_LINK]}getDefaultDecorator(){return n.J.ENTITY_KEY_LINK}getDefaultComparator(){return this.comparator}getDisplayComponent(e){return e===n.J.ENTITY_KEY_TEXT?p.F:e===n.J.ENTITY_KEY_LINK?u.h:h.m}}return e.ID="ENTITY_KEY",e})()},55867:(e,t,i)=>{"use strict";i.d(t,{G:()=>a});var s=i(807),r=i(59634),n=i(27115),o=i(36441);class a extends r.p{constructor(e,t,i,s=o.J.ENTITY_KEY_LINK,r=!1,n="Entity key"){super(n,i,t,s,r),this.dataType=e}static BUILDER(e,t=new s.q){return new n.I(a,e,t)}static CUSTOM_FIELD_BUILDER(e,t=new s.q){return a.BUILDER(r._,t).withFieldName(e)}getTextValue(e){return e?e.key:""}getDataType(){return this.dataType}}},83735:(e,t,i)=>{"use strict";i.d(t,{c:()=>E});var s=i(853),r=i(25088),n=i(36441),o=i(59634),a=i(2259),l=i(27115);class d extends o.p{constructor(e,t,i,s=n.J.ESTIMATE_FORMATTED_PRETTY_TEXT,r=!1,o="Estimation"){super(o,i,t,s,r),this.dataType=e}static BUILDER(e,t=new E){return new l.I(d,e,t)}static CUSTOM_FIELD_BUILDER(e,t=new E){return d.BUILDER(o._,t).withFieldName(e)}aggregated(e=a.P.NONE){return this.aggregation=e,this}getTextValue(e){return e?e.estimateFormattedPretty:""}getDataType(){return this.dataType}}var c=i(94934);class p extends c.R{constructor(){super(...arguments),this.name="decimal hours"}getName(){return this.name}compareNotNullDataValues(e,t){return this.compareNumbers(parseFloat(e.estimateFormattedDecimalHours),parseFloat(t.estimateFormattedDecimalHours))}}var u=i(51328),h=i(98019),g=i(49682),f=i(24590),m=i(8720),T=i(34930);let E=(()=>{class e extends s.g{constructor(){super(...arguments),this.dataTypeId=e.ID,this.dataTypeType=r.U.ESTIMATION,this.comparator=new p}getFieldBuilder(e){return d.BUILDER(e,this)}getCustomFieldBuilder(e){return d.BUILDER(o._,this).withFieldName(e)}getAvailableDecorators(){return[n.J.ESTIMATE_FORMATTED_PRETTY_TEXT,n.J.ESTIMATE_NUMBER_OF_DAYS,n.J.ESTIMATE_FORMATTED_HOURS_TEXT,n.J.ESTIMATE_FORMATTED_DECIMAL_PRETTY_TEXT]}getDefaultDecorator(){return n.J.ESTIMATE_FORMATTED_PRETTY_TEXT}getDefaultComparator(){return this.comparator}getDisplayComponent(e){return e===n.J.ESTIMATE_FORMATTED_PRETTY_TEXT?u.e:e===n.J.ESTIMATE_NUMBER_OF_DAYS?h.g:e===n.J.ESTIMATE_FORMATTED_HOURS_TEXT?g.q:e===n.J.ESTIMATE_FORMATTED_DECIMAL_PRETTY_TEXT?f.f:m.m}getEditComponent(){return T.J}}return e.ID="ESTIMATION",e})()},95225:(e,t,i)=>{"use strict";i.d(t,{a:()=>o});var s=i(64894),r=i(25088),n=i(74477);class o extends s.G{constructor(e,t){super(),this.backgroundColor=e,this.textColor=t,this.dataTypeId=r.U.HEX_COLOR}static of(e){return e&&new o(e.backgroundColor,e.textColor)}clone(){return Object.freeze(o.of(n.l.deepClone(this)))}isEmpty(){var e,t;return!(null===(e=this.backgroundColor)||void 0===e?void 0:e.length)&&!(null===(t=this.textColor)||void 0===t?void 0:t.length)}}},29622:(e,t,i)=>{"use strict";i.d(t,{z:()=>o});var s=i(64894),r=i(25088),n=i(74477);class o extends s.G{constructor(e){super(),this.number=e,this.dataTypeId=r.U.NUMBER}static of(e){return e&&new o(e.number)}copy(){return new o(this.number)}isEmpty(){return!n.l.isDefined(this.number)}clone(){return Object.freeze(o.of(n.l.deepClone(this)))}}},3505:(e,t,i)=>{"use strict";i.d(t,{C:()=>f});var s=i(853),r=i(25088),n=i(36441),o=i(59634),a=i(2259),l=i(27115);class d extends o.p{constructor(e,t,i,s=n.J.STATUS_LOZENGE,r=!1,o="Status"){super(o,i,t,s,r),this.dataType=e}static BUILDER(e,t=new f){return new l.I(d,e,t)}static CUSTOM_FIELD_BUILDER(e,t=new f){return d.BUILDER(o._,t).withFieldName(e)}aggregated(e=a.P.NONE){return this.aggregation=e,this}getTextValue(e){return e?e.name:""}getDataType(){return this.dataType}}var c=i(94934);class p extends c.R{constructor(){super(...arguments),this.name="sequence and name"}getName(){return this.name}compareNotNullDataValues(e,t){var i;const s=this.compareNumbers(null===(i=e.statusCategory)||void 0===i?void 0:i.index,t.statusCategory.index);return 0===s?this.compareStrings(e.name,t.name):s}}var u=i(22298),h=i(28527),g=i(8720);let f=(()=>{class e extends s.g{constructor(){super(...arguments),this.dataTypeId=e.ID,this.dataTypeType=r.U.STATUS,this.comparator=new p}getFieldBuilder(e){return d.BUILDER(e,this)}getCustomFieldBuilder(e){return d.BUILDER(o._,this).withFieldName(e)}getAvailableDecorators(){return[n.J.STATUS_DESCRIPTION,n.J.STATUS_LOZENGE]}getDefaultDecorator(){return n.J.STATUS_LOZENGE}getDefaultComparator(){return this.comparator}getDisplayComponent(e){return e===n.J.STATUS_DESCRIPTION?h.J:e===n.J.STATUS_LOZENGE?u.V:g.m}}return e.ID="STATUS",e})()},99504:(e,t,i)=>{"use strict";i.d(t,{R:()=>a});var s=i(64894),r=i(95225),n=i(25088),o=i(74477);class a extends s.G{constructor(e,t,i,s,r,o){super(),this.id=e,this.name=t,this.description=i,this.statusCategory=s,this.sequence=r,this.hexColor=o,this.dataTypeId=n.U.STATUS}static of(e){return e&&new a(e.id,e.name,e.description,l.of(e.statusCategory),e.sequence,r.a.of(e.hexColor))}clone(){return Object.freeze(a.of(o.l.deepClone(this)))}isEmpty(){var e,t,i;return!((null===(e=this.id)||void 0===e?void 0:e.length)||(null===(t=this.name)||void 0===t?void 0:t.length)||(null===(i=this.description)||void 0===i?void 0:i.length)||o.l.isDefined(this.statusCategory)||o.l.isDefined(this.sequence)||o.l.isDefined(this.hexColor))}}class l{constructor(e,t,i,s){this.key=e,this.name=t,this.color=i,this.index=s}static of(e){return e&&new l(e.key,e.name,e.color,e.index)}}},72540:(e,t,i)=>{"use strict";i.d(t,{r:()=>h});var s=i(853),r=i(25088),n=i(36441),o=i(38625),a=i(59634),l=i(13963),d=i(94934);class c extends d.R{constructor(){super(...arguments),this.name="value"}getName(){return this.name}compareNotNullDataValues(e,t){return this.compareStrings(e.value,t.value)}}var p=i(11194),u=i(8720);let h=(()=>{class e extends s.g{constructor(){super(...arguments),this.dataTypeId=e.ID,this.dataTypeType=r.U.STRING,this.validators=[],this.comparator=new c}getFieldBuilder(e){return l.i.BUILDER(e,this)}getCustomFieldBuilder(e){return l.i.BUILDER(a._,this).withFieldName(e)}getAvailableDecorators(){return[n.J.TEXT]}getDefaultDecorator(){return n.J.TEXT}getDefaultComparator(){return this.comparator}getDisplayComponent(e){return e===n.J.TEXT?p.d:u.m}getEditComponent(){return o.f}}return e.ID="STRING",e})()},13963:(e,t,i)=>{"use strict";i.d(t,{i:()=>a});var s=i(59634),r=i(72540),n=i(36441),o=i(27115);class a extends s.p{constructor(e,t,i,s=n.J.TEXT,r=!1,o="Value"){super(o,i,t,s,r),this.dataType=e}static BUILDER(e,t=new r.r){return new o.I(a,e,t)}static CUSTOM_FIELD_BUILDER(e,t=new r.r){return a.BUILDER(s._,t).withFieldName(e)}getTextValue(e){return e?e.value:""}getDataType(){return this.dataType}}},63504:(e,t,i)=>{"use strict";i.d(t,{e:()=>a,q:()=>l});var s=i(25088),r=i(64894),n=i(76791),o=i(74477);class a extends r.G{constructor(e,t,i){super(),this.distrb=e,this.exportedValue=t,this.item=i,this.dataTypeId=s.U.SUBTASK_VERSION}static of(e){return e&&new a(e.distrb.map(e=>l.of(e)),e.exportedValue,n.R.of(e.item))}clone(){return Object.freeze(a.of(o.l.deepClone(this)))}isEmpty(){var e,t,i;return!(null===(e=this.distrb)||void 0===e?void 0:e.length)&&!(null===(t=this.exportedValue)||void 0===t?void 0:t.length)&&(null===(i=this.item)||void 0===i?void 0:i.isEmpty())}}class l{constructor(e,t){this.key=e,this.value=t}static of(e){return new l(e.key,e.value)}}},96053:(e,t,i)=>{"use strict";i.d(t,{s:()=>l});var s=i(25088),r=i(64894),n=i(63504),o=i(76791),a=i(74477);class l extends r.G{constructor(e,t,i){super(),this.distrb=e,this.exportedValue=t,this.item=i,this.dataTypeId=s.U.SUBTASK_VERSION_PERCENTAGE}static of(e){return e&&new l(e.distrb.map(e=>n.q.of(e)),e.exportedValue,o.R.of(e.item))}clone(){return Object.freeze(l.of(a.l.deepClone(this)))}isEmpty(){var e,t,i;return!(null===(e=this.distrb)||void 0===e?void 0:e.length)&&!(null===(t=this.exportedValue)||void 0===t?void 0:t.length)&&(null===(i=this.item)||void 0===i?void 0:i.isEmpty())}}},91087:(e,t,i)=>{"use strict";i.d(t,{A:()=>f});var s=i(853),r=i(36441),n=i(18217),o=i(4082),a=i(59634),l=i(27115);class d extends a.p{constructor(e,t,i,s=r.J.TEXT,n=!1,o="Summary"){super(o,i,t,s,n),this.dataType=e}static BUILDER(e,t=new f){return new l.I(d,e,t)}static CUSTOM_FIELD_BUILDER(e,t=new f){return d.BUILDER(a._,t).withFieldName(e)}getTextValue(e){return e?e.summary:""}isGroupable(){return!1}getDataType(){return this.dataType}}var c=i(25088),p=i(94934);class u extends p.R{constructor(){super(...arguments),this.name="summary"}getName(){return this.name}compareNotNullDataValues(e,t){return this.compareStrings(e.summary,t.summary)}}var h=i(22755),g=i(8720);let f=(()=>{class e extends s.g{constructor(){super(...arguments),this.dataTypeId=e.ID,this.dataTypeType=c.U.SUMMARY,this.validators=[o.Z.validateMinLength(1),o.Z.validateMaxLength(e.MAX_LENGTH_VALIDATORS)],this.comparator=new u}getFieldBuilder(e){return d.BUILDER(e,this)}getCustomFieldBuilder(e){return d.BUILDER(a._,this).withFieldName(e)}getAvailableDecorators(){return[r.J.TEXT]}getDefaultDecorator(){return r.J.TEXT}getDefaultComparator(){return this.comparator}getDisplayComponent(e){return e===r.J.TEXT?h.F:g.m}getEditComponent(){return n.E}}return e.MAX_LENGTH_VALIDATORS=255,e.ID="SUMMARY",e})()},13627:(e,t,i)=>{"use strict";i.d(t,{c:()=>p});var s=i(853),r=i(25088),n=i(36441),o=i(59634),a=i(8720),l=i(27115);class d extends o.p{constructor(e,t,i,s=n.J.HISTOGRAM,r=!1,o="Status"){super(o,i,t,s,r),this.dataType=e}static BUILDER(e,t=new p){return new l.I(d,e,t)}static CUSTOM_FIELD_BUILDER(e,t=new p){return d.BUILDER(o._,t).withFieldName(e)}getTextValue(e){return e?e.name:""}getDataType(){return this.dataType}}var c=i(16401);let p=(()=>{class e extends s.g{constructor(){super(...arguments),this.dataTypeId=e.ID,this.dataTypeType=r.U.TASK_STATUS_CATEGORIES_PERCENTAGE}getFieldBuilder(e){return d.BUILDER(e,this)}getCustomFieldBuilder(e){return d.BUILDER(o._,this).withFieldName(e)}getAvailableDecorators(){return[n.J.HISTOGRAM]}getDefaultDecorator(){return n.J.HISTOGRAM}getDefaultComparator(){return null}getDisplayComponent(e){return e===n.J.HISTOGRAM?c.L:a.m}}return e.ID="TASK_STATUS_CATEGORIES_PERCENTAGE",e})()},87985:(e,t,i)=>{"use strict";i.d(t,{T:()=>C});var s=i(853),r=i(25088),n=i(36441),o=i(59634),a=i(2259),l=i(27115);class d extends o.p{constructor(e,t,i,s=n.J.PROGRESS_BAR_AND_PERCENTAGE,r=!1,o="Time Tracking"){super(o,i,t,s,r),this.dataType=e}static BUILDER(e,t=new C){return new l.I(d,e,t)}static CUSTOM_FIELD_BUILDER(e,t=new C){return d.BUILDER(o._,t).withFieldName(e)}aggregated(e=a.P.NONE){return this.aggregation=e,this}getTextValue(e){return e?e.percentage+"%":""}getDataType(){return this.dataType}}var c=i(94934);class p extends c.R{constructor(){super(...arguments),this.name="percentage"}getName(){return this.name}compareNotNullDataValues(e,t){return this.compareNumbers(e.percentage,t.percentage)}}var u=i(48603),h=i(72289),g=i(16989),f=i(74553),m=i(54623),T=i(40696),E=i(43205),v=i(71964),I=i(41316),y=i(8720);let C=(()=>{class e extends s.g{constructor(){super(...arguments),this.dataTypeId=e.ID,this.dataTypeType=r.U.TIMETRACKING,this.comparator=new p}getFieldBuilder(e){return d.BUILDER(e,this)}getCustomFieldBuilder(e){return d.BUILDER(o._,this).withFieldName(e)}getAvailableDecorators(){return[n.J.PERCENTAGE_TEXT,n.J.PROGRESS_BAR,n.J.PROGRESS_BAR_AND_PERCENTAGE,n.J.REMAINING_AS_TEXT,n.J.REMAINING_AS_LOZENGE,n.J.LOGGED_AS_TEXT,n.J.LOGGED_AS_LOZENGE,n.J.ORIGINAL_AS_TEXT,n.J.ORIGINAL_AS_LOZENGE]}getDefaultDecorator(){return n.J.PROGRESS_BAR_AND_PERCENTAGE}getDefaultComparator(){return this.comparator}getDisplayComponent(e){return e===n.J.PERCENTAGE_TEXT?u.W:e===n.J.PROGRESS_BAR?h.g:e===n.J.PROGRESS_BAR_AND_PERCENTAGE?g.u:e===n.J.REMAINING_AS_TEXT?f.u:e===n.J.REMAINING_AS_LOZENGE?m.u:e===n.J.LOGGED_AS_TEXT?T.t:e===n.J.LOGGED_AS_LOZENGE?E.Z:e===n.J.ORIGINAL_AS_TEXT?v.c:e===n.J.ORIGINAL_AS_LOZENGE?I.H:y.m}}return e.ID="TIMETRACKING",e})()},12954:(e,t,i)=>{"use strict";i.d(t,{a:()=>y});var s=i(853),r=i(25088),n=i(36441),o=i(39637),a=i(34213),l=i(88673);class d extends o.w{isEntityInFilter(e,t,i){return this.isDataValueInFilter(e.getDataValue(t.getFieldId()),i)}isDataValueInFilter(e,t){return t.avatarNames.some(t=>t===e.data.avatar_url_small)}getComponent(){return a.g}getDisplayName(){return"Avatar filter"}getUniqueName(){return"avatar"}fromRaw(e){return e?new l.n(e.avatarNames):this.createEmpty()}getFilterType(){return o.V.SEARCH}createEmpty(){return new l.n([])}}var c=i(33785),p=i(82162);class u extends o.w{isEntityInFilter(e,t,i){return this.isDataValueInFilter(e.getDataValue(t.getFieldId()),i)}isDataValueInFilter(e,t){return t.displayName===e.data.displayName}getComponent(){return c.Q}getDisplayName(){return"Display name filter"}getUniqueName(){return"name"}fromRaw(e){return e?new p.j(e.displayName):this.createEmpty()}getFilterType(){return o.V.SEARCH}createEmpty(){return new p.j("")}}var h=i(59634),g=i(79272),f=i(94934);class m extends f.R{constructor(){super(...arguments),this.name="display name"}getName(){return this.name}compareNotNullDataValues(e,t){return this.compareStrings(e.data.displayName,t.data.displayName)}}var T=i(90605),E=i(30898),v=i(42270),I=i(8720);let y=(()=>{class e extends s.g{constructor(){super(...arguments),this.dataTypeId=e.ID,this.dataTypeType=r.U.USER,this.comparator=new m}getFieldBuilder(e){return g.a.BUILDER(e,this)}getCustomFieldBuilder(e){return g.a.BUILDER(h._,this).withFieldName(e)}getAvailableDecorators(){return[n.J.AVATAR_AND_NAME,n.J.AVATAR,n.J.TEXT]}getDefaultDecorator(){return n.J.AVATAR_AND_NAME}getFilters(){return[new d,new u]}getDefaultComparator(){return this.comparator}getDisplayComponent(e){return e===n.J.AVATAR_AND_NAME?T.V:e===n.J.AVATAR?E.Q:e===n.J.TEXT?v.f:I.m}}return e.ID="USER",e})()},79272:(e,t,i)=>{"use strict";i.d(t,{a:()=>a});var s=i(59634),r=i(12954),n=i(36441),o=i(27115);class a extends s.p{constructor(e,t,i,s=n.J.AVATAR_AND_NAME,r=!1,o="User"){super(o,i,t,s,r),this.dataType=e}static BUILDER(e,t=new r.a){return new o.I(a,e,t)}static CUSTOM_FIELD_BUILDER(e,t=new r.a){return a.BUILDER(s._,t).withFieldName(e)}getTextValue(e){return e?e.data.displayName:""}getDataType(){return this.dataType}}},34213:(e,t,i)=>{"use strict";i.d(t,{g:()=>c});var s=i(44430),r=i(88673),n=i(36441),o=i(94846),a=i(4562),l=i(4351);function d(e,t){if(1&e){const e=o.EpF();o.TgZ(0,"sp-light-display-field-value",1),o.NdJ("click",function(){const t=o.CHM(e).$implicit;return o.oxw().avatarClick(t)}),o.qZA()}if(2&e){const e=t.$implicit,i=o.oxw();o.Udp("background-color",i.getSelectionColor(e)),o.Q6J("dataValue",e)("fieldDefinition",i.userField)}}let c=(()=>{class e extends s.f{constructor(){super(...arguments),this.selectedAvatars=[]}ngOnInit(){this.observeUniqueAvatars(),this.selectSelectedAvatars(),this.createFieldDefinition()}avatarClick(e){if(this.isSelected(e)){const t=this.selectedAvatars.indexOf(e.data.avatar_url_small);this.selectedAvatars.splice(t,1)}else this.selectedAvatars.push(e.data.avatar_url_small);this.updateDataTypeFilterConfig(),this.emitConfig()}getSelectionColor(e){if(this.isSelected(e))return"red"}getHostClasses(){return["sp-flex"]}isSelected(e){return this.selectedAvatars.some(t=>t===e.data.avatar_url_small)}observeUniqueAvatars(){this.observeUniqueDataValues().pipe(this.takeUntilDestroy()).subscribe(e=>{this.userDataValues=e})}selectSelectedAvatars(){this.selectedAvatars=this.dataTypeFilterConfig.avatarNames.filter(e=>this.userDataValues.some(t=>e===t.data.avatar_url_small))}updateDataTypeFilterConfig(){this.dataTypeFilterConfig=new r.n(this.selectedAvatars)}createFieldDefinition(){this.userField=this.dataTypeInstanceRepository.get(this.fieldFilterConfig.getFieldDefinition().getDataType().getDataTypeType()).getFieldBuilder(this.fieldFilterConfig.getFieldDefinition().getFieldId()).withDecorator(n.J.AVATAR).build()}}return e.\u0275fac=function(){let t;return function(i){return(t||(t=o.n5z(e)))(i||e)}}(),e.\u0275cmp=o.Xpm({type:e,selectors:[["sp-user-data-type-avatar-filter"]],features:[o.qOj],decls:1,vars:1,consts:[[3,"dataValue","fieldDefinition","background-color","click",4,"ngFor","ngForOf"],[3,"dataValue","fieldDefinition","click"]],template:function(e,t){1&e&&o.YNc(0,d,1,4,"sp-light-display-field-value",0),2&e&&o.Q6J("ngForOf",t.userDataValues)},directives:[a.sg,l.s],styles:[""],encapsulation:2,changeDetection:0}),e})()},88673:(e,t,i)=>{"use strict";i.d(t,{n:()=>n});var s=i(18183),r=i(74477);class n extends s.Z{constructor(e=[]){super(),this.avatarNames=e,this.uniqueName="avatar"}isEmpty(){return r.l.isEmpty(this.avatarNames)}}},33785:(e,t,i)=>{"use strict";i.d(t,{Q:()=>o});var s=i(44430),r=i(82162),n=i(94846);let o=(()=>{class e extends s.f{setDataTypeFilterConfig(e){this.dataTypeFilterConfig=e,this.changeDetectorRef.detectChanges()}updateFilter(e){this.dataTypeFilterConfig=new r.j(e.target.value),this.emitConfig()}getName(){var e;return null===(e=this.dataTypeFilterConfig)||void 0===e?void 0:e.displayName}}return e.\u0275fac=function(){let t;return function(i){return(t||(t=n.n5z(e)))(i||e)}}(),e.\u0275cmp=n.Xpm({type:e,selectors:[["sp-user-data-type-display-name-filter"]],features:[n.qOj],decls:1,vars:1,consts:[["type","text","id","display-name",1,"sp-form-control",3,"value","change"]],template:function(e,t){1&e&&(n.TgZ(0,"input",0),n.NdJ("change",function(e){return t.updateFilter(e)}),n.qZA()),2&e&&n.Q6J("value",t.getName())},styles:[""],encapsulation:2,changeDetection:0}),e})()},82162:(e,t,i)=>{"use strict";i.d(t,{j:()=>n});var s=i(18183),r=i(74477);class n extends s.Z{constructor(e=""){super(),this.displayName=e,this.uniqueName="name"}isEmpty(){return r.l.isEmpty(this.displayName)}}},76791:(e,t,i)=>{"use strict";i.d(t,{R:()=>o});var s=i(64894),r=i(25088),n=i(74477);class o extends s.G{constructor(e,t){super(),this.names=e,this.list=t,this.dataTypeId=r.U.VERSION}static of(e){return e&&new o(e.names,e.list.map(e=>a.of(e)))}clone(){return Object.freeze(o.of(n.l.deepClone(this)))}isEmpty(){var e,t;return!(null===(e=this.names)||void 0===e?void 0:e.length)&&!(null===(t=this.list)||void 0===t?void 0:t.length)}}class a{constructor(e,t){this.name=e,this.url=t}static of(e){return e&&new a(e.name,e.url)}}},95690:(e,t,i)=>{"use strict";i.d(t,{H:()=>o});var s=i(78268),r=i(99721),n=i(61917);class o{constructor(){this.destroy$=new s.xQ}getForm(){return this.form}getEditFormEntityMap(){return this.editFormEntityMap}registerForm(e,t,i){this.form=e,this.editFormEntityMap=t,this.dataValue=i,this.formRegistered(),this.subscribeForFormStatusChanges()}handleValidStatus(){}handleInValidStatus(){}handleStatusChange(e){}getRawDataValueForUpdate(){const e=this.form.getRawValue();let t={},i={};this.editFormEntityMap.forEach((t,s)=>{i=Object.assign(Object.assign({},i),{[t.dataValueFieldName||s]:e[s]})});for(const[s]of Object.entries(this.dataValue))t=Object.assign(Object.assign({},t),{[s]:null});return Object.assign(Object.assign(Object.assign({},t),i),{dataTypeId:this.dataValue.dataTypeId})}getDataValueForUpdate(){return n.e.create(this.getRawDataValueForUpdate())}submit(){}destroy(){this.destroy$.next(),this.destroy$.complete()}getValueForUpdateTaskKey(){const e=this.form.getRawValue(),t=[];for(const[i,s]of Object.entries(e))t.push(s);return t[0]}formRegistered(){}subscribeForFormStatusChanges(){this.form.statusChanges.pipe((0,r.R)(this.destroy$)).subscribe(e=>{this.handleStatusChange(e),"INVALID"===e?this.handleInValidStatus():this.handleValidStatus()})}}},53580:(e,t,i)=>{"use strict";i.d(t,{I:()=>s});var s=(()=>(function(e){e[e.ACTIVE=1]="ACTIVE",e[e.INACTIVE=2]="INACTIVE",e[e.LOCKED=4]="LOCKED",e[e.DEFAULT=8]="DEFAULT",e[e.CHANGED=16]="CHANGED",e[e.PENDING=32]="PENDING",e[e.INVALID=64]="INVALID"}(s||(s={})),s))()},76642:(e,t,i)=>{"use strict";i.d(t,{x:()=>p});var s=i(47359),r=i(78268),n=i(86279),o=i(91783),a=i(59120),l=i(99721),d=i(95690),c=i(53580);class p extends d.H{constructor(e,t,i,s,o=!1){super(),this.fieldDefinition=e,this.entity=t,this.fieldValueActionsDispatcher=i,this.inlineEditGlobalService=s,this.isInlineEditorOverTaskIdEnabled=o,this.validationErrors=[],this.validationErrors$=new r.xQ,this.status=c.I.INACTIVE|c.I.DEFAULT,this.status$=new n.X(c.I.INACTIVE)}getEntity(){return this.entity}getFieldDefinition(){return this.fieldDefinition}start(){this.rememberInitialFormControlValue(),this.sendStatus()}submit(){this.isInvalid()&&this.updateValidationErrors(),this.noChangeNoticed()?this.exit():this.isInvalid()?(this.inlineEditGlobalService.lock(),this.updateValidationErrors(),this.sendStatus(),this.sendErrors()):this.sendDataToSynchronization()}lock(){this.status=c.I.LOCKED,this.sendStatus()}exit(){this.status=c.I.INACTIVE|c.I.DEFAULT,this.destroy(),this.inlineEditGlobalService.unlock(),this.setFormToInitialValue(),this.sendStatus()}selectErrors(){return this.validationErrors$.asObservable()}selectStatus(){return this.status$.asObservable()}setInitialEditorStatus(){this.status=c.I.ACTIVE|c.I.DEFAULT,this.sendStatus()}getRawDataValueForUpdate(){const e=super.getRawDataValueForUpdate();return delete e.dataTypeId,this.isInlineEditorOverTaskIdEnabled?[{taskFieldId:this.fieldDefinition.getFieldId().toString(),value:JSON.stringify(e),dataTypeId:this.fieldDefinition.getDataType().dataTypeType}]:{[this.fieldDefinition.getFieldId().toString()]:super.getValueForUpdateTaskKey()}}handleStatusChange(e){this.status=c.I.ACTIVE|c.I.CHANGED,"INVALID"===e?(this.status|=c.I.INVALID,this.inlineEditGlobalService.lock()):this.sendStatus()}formRegistered(){this.start()}rememberInitialFormControlValue(){this.initialFormControlValue=this.form.getRawValue()}noChangeNoticed(){return!!(this.status&c.I.DEFAULT)&&(0,s.isEqual)(this.initialFormControlValue,this.form.getRawValue())}isInvalid(){return!!(this.status&c.I.INVALID)}sendStatus(){this.status$.next(this.status)}sendErrors(){this.validationErrors$.next(this.validationErrors)}setFormToInitialValue(){this.form.setValue(this.initialFormControlValue)}updateValidationErrors(){if(this.validationErrors=[],this.status&&c.I.INVALID)for(const e of Object.keys(this.form.controls))Object.keys(this.form.controls[e].errors).filter(e=>"valid"!==e).map(t=>{this.validationErrors.push(this.form.controls[e].errors[t])})}sendDataToSynchronization(){this.inlineEditGlobalService.unlock(),this.status=c.I.ACTIVE|c.I.PENDING|c.I.CHANGED,this.sendStatus();const e=this.getRawDataValueForUpdate();(this.isInlineEditorOverTaskIdEnabled?this.fieldValueActionsDispatcher.updateByTaskId(e,this.entity.id):this.fieldValueActionsDispatcher.update(e,this.entity.id)).pipe((0,a.K)(e=>(0,o._)(e)),(0,l.R)(this.destroy$)).subscribe(()=>{this.exit()},e=>{console.log("logged err",e),this.exit()})}}},39637:(e,t,i)=>{"use strict";i.d(t,{V:()=>s,w:()=>r});var s=(()=>(function(e){e.APPLICABLE="APPLICABLE",e.SEARCH="SEARCH"}(s||(s={})),s))();class r{isApplicable(){return this.getFilterType()===s.APPLICABLE}isSearch(){return this.getFilterType()===s.SEARCH}}},2259:(e,t,i)=>{"use strict";i.d(t,{P:()=>s});var s=(()=>(function(e){e.MIN="MIN",e.MAX="MAX",e.SUM="SUM",e.SUM_NO_PARENT="SUM_NO_PARENT",e.AVG="AVG",e.AVG_NO_PARENT="AVG_NO_PARENT",e.NONE="NONE",e.SUBTASK_STATUSES="SUBTASK_STATUSES",e.SUBTASK_STATUSES_PERCENTAGE="SUBTASK_STATUSES_PERCENTAGE",e.SUBTASK_STATUS_CATEGORIES="SUBTASK_STATUS_CATEGORIES",e.SUBTASK_STATUS_CATEGORIES_PERCENTAGE="SUBTASK_STATUS_CATEGORIES_PERCENTAGE",e.SUBTASK_VERSION="SUBTASK_VERSION",e.SUBTASK_VERSION_PERCENTAGE="SUBTASK_VERSION_PERCENTAGE",e.TASK_STATUS_CATEGORIES_PERCENTAGE="TASK_STATUS_CATEGORIES_PERCENTAGE"}(s||(s={})),s))()},25088:(e,t,i)=>{"use strict";i.d(t,{U:()=>s});var s=(()=>(function(e){e.ATTACHMENTS="ATTACHMENTS",e.BOX_TYPE_VALUE="BOX_TYPE_VALUE",e.BUILTIN_COLOR="BUILTIN_COLOR",e.BUILTIN_ICON="BUILTIN_ICON",e.DATE="DATE",e.DATE_TIME="DATE_TIME",e.DISTRIBUTION="DISTRIBUTION",e.DUE_DATE="DUE_DATE",e.ENTITY_KEY="ENTITY_KEY",e.EPIC="EPIC",e.ESTIMATION="ESTIMATION",e.EXTRA_TRAFFIC_LIGHT="EXTRA_TRAFFIC_LIGHT",e.HEX_COLOR="HEX_COLOR",e.ICON="ICON",e.ISSUE_TYPE="ISSUE_TYPE",e.KEY="KEY",e.LABELS="LABELS",e.LINK="LINK",e.MILESTONE="MILESTONE",e.MULTI_USER="MULTI_USER",e.NUMBER="NUMBER",e.PERCENTAGE="PERCENTAGE",e.PERIOD="PERIOD",e.PRIORITY="PRIORITY",e.PROJECT="PROJECT",e.RANK="RANK",e.PERIOD_MODE="PERIOD_MODE",e.SELECT="SELECT",e.SIMPLIFIED_HTML="SIMPLIFIED_HTML",e.SPRINTS="SPRINTS",e.STATUS="STATUS",e.STRING="STRING",e.SUMMARY="SUMMARY",e.TIMETRACKING="TIMETRACKING",e.URL_LINKS="URL_LINKS",e.USER="USER",e.VERSION="VERSION",e.SUBTASK_STATUSES="SUBTASK_STATUSES",e.SUBTASK_STATUSES_PERCENTAGE="SUBTASK_STATUSES_PERCENTAGE",e.SUBTASK_STATUS_CATEGORIES="SUBTASK_STATUS_CATEGORIES",e.SUBTASK_STATUS_CATEGORIES_PERCENTAGE="SUBTASK_STATUS_CATEGORIES_PERCENTAGE",e.SUBTASK_VERSION="SUBTASK_VERSION",e.SUBTASK_VERSION_PERCENTAGE="SUBTASK_VERSION_PERCENTAGE",e.TASK_STATUS_CATEGORIES_PERCENTAGE="TASK_STATUS_CATEGORIES_PERCENTAGE",e.SKILLS="SKILLS",e.NONE="NONE"}(s||(s={})),s))()},36441:(e,t,i)=>{"use strict";i.d(t,{J:()=>s});var s=(()=>(function(e){e.ATTACHMENTS="ATTACHMENTS",e.AVATAR="AVATAR",e.AVATAR_AND_NAME="AVATAR_AND_NAME",e.BOX_TYPE_VALUE_LOZENGE="BOX_TYPE_VALUE_LOZENGE",e.BUILTIN_COLOR_ICON="BUILTIN_COLOR_ICON",e.BUILTIN_COLOR_ICON_AND_NAME="BUILTIN_COLOR_ICON_AND_NAME",e.BUILTIN_COLOR_NAME="BUILTIN_COLOR_NAME",e.BUILTIN_ICON_ICON="BUILTIN_ICON_ICON",e.BUILTIN_ICON_ICON_AND_NAME="BUILTIN_ICON_ICON_AND_NAME",e.BUILTIN_ICON_NAME="BUILTIN_ICON_NAME",e.DATE="DATE",e.DATE_TIME="DATE_TIME",e.ENTITY_KEY_TEXT="ENTITY_KEY_TEXT",e.ENTITY_KEY_LINK="ENTITY_KEY_LINK",e.HEX_COLOR="HEX_COLOR",e.ICON="ICON",e.ICON_AND_NAME="ICON_AND_NAME",e.ICON_AND_LINK="ICON_AND_LINK",e.ICON_AND_NAME_WITH_LINK="ICON_AND_NAME_WITH_LINK",e.LINK="LINK",e.LOZENGE="LOZENGE",e.STATUS_LOZENGE="STATUS_LOZENGE",e.LOZENGE_LINK="LOZENGE_LINK",e.MILESTONE_ICON="MILESTONE_ICON",e.MILESTONE_ICON_AND_NAME="MILESTONE_ICON_AND_NAME",e.MILESTONE_NAME="MILESTONE_NAME",e.PERCENTAGE_TEXT="PERCENTAGE_TEXT",e.PROGRESS_BAR="PROGRESS_BAR",e.PROGRESS_BAR_AND_PERCENTAGE="PROGRESS_BAR_AND_PERCENTAGE",e.TASK_KEY="TASK_KEY",e.TEXT="TEXT",e.RICH_TEXT="RICH_TEXT",e.TRAFFIC_LIGHT="TRAFFIC_LIGHT",e.VERSION="VERSION",e.ORIGINAL_AS_TEXT="ORIGINAL_AS_TEXT",e.ORIGINAL_AS_LOZENGE="ORIGINAL_AS_LOZENGE",e.LOGGED_AS_TEXT="LOGGED_AS_TEXT",e.LOGGED_AS_LOZENGE="LOGGED_AS_LOZENGE",e.REMAINING_AS_TEXT="REMAINING_AS_TEXT",e.REMAINING_AS_LOZENGE="REMAINING_AS_LOZENGE",e.PERIOD_MODE_ICON="PERIOD_MODE_ICON",e.PERIOD_MODE_ICON_AND_NAME="PERIOD_MODE_ICON_AND_NAME",e.PERIOD_MODE_NAME="PERIOD_MODE_NAME",e.ESTIMATE_FORMATTED_PRETTY_TEXT="ESTIMATE_FORMATTED_PRETTY_TEXT",e.ESTIMATE_FORMATTED_HOURS_TEXT="ESTIMATE_FORMATTED_HOURS_TEXT",e.ESTIMATE_FORMATTED_DECIMAL_PRETTY_TEXT="ESTIMATE_FORMATTED_DECIMAL_PRETTY_TEXT",e.ESTIMATE_NUMBER_OF_DAYS="ESTIMATE_NUMBER_OF_DAYS",e.URL_LINKS="URL_LINKS",e.PERCENTAGE_LOZENGE="PERCENTAGE_LOZENGE",e.STATUS_DESCRIPTION="STATUS_DESCRIPTION",e.SKILLS_ICON_NAME="SKILLS_ICON_NAME",e.SKILLS_NAME="SKILLS_NAME",e.SKILLS_ICON="SKILLS_ICON",e.HISTOGRAM="HISTOGRAM",e.STYLED_TEXT="STYLED_TEXT",e.NONE="NONE"}(s||(s={})),s))()},10905:(e,t,i)=>{"use strict";i.d(t,{y:()=>s});var s=(()=>(function(e){e.NONE="NONE"}(s||(s={})),s))()},63065:(e,t,i)=>{"use strict";i.d(t,{M:()=>s,D:()=>r});var s=(()=>(function(e){e.ASSIGNEE="Assignee",e.BASELINE_END_DATE="Baseline End Date",e.BASELINE_START_DATE="Baseline Start Date",e.COLOR="Color",e.DURATION_TECHNICAL="Duration Technical",e.END_DATE="End Date",e.ICON="Icon",e.KEY="Key",e.MILESTONE="Milestone",e.ORIGINAL_ESTIMATE="Original Estimate",e.PERIOD_MODE="Period Mode",e.PRIORITY="Priority",e.PROGRESS="Progress",e.REMAINING_ESTIMATE="Remaining Estimate",e.RISK_CONSEQUENCE="Risk Consequence",e.RISK_PROBABILITY="Risk Probability",e.SKILLS="Skills",e.START_DATE="Start Date",e.STATUS="Status",e.STORY_POINTS="Story Points",e.SUMMARY="Summary",e.TIME_SPENT="Time Spent",e.TEAM_CODE="Team code",e.TIME_TRACKING="Time Tracking",e.MODIFICATION_TIME="Modification Time",e.WORKLOAD_CONTOURING_MODE="Workload contouring mode"}(s||(s={})),s))();const r=[s.BASELINE_START_DATE,s.BASELINE_END_DATE]},11080:(e,t,i)=>{"use strict";i.d(t,{x:()=>s});var s=(()=>(function(e){e[e.LEFT=0]="LEFT",e[e.CENTER=1]="CENTER",e[e.RIGHT=2]="RIGHT"}(s||(s={})),s))()},41894:(e,t,i)=>{"use strict";i.d(t,{q:()=>c});var s=i(91783),r=i(25705),n=i(59120),o=i(94846),a=i(42653),l=i(29830),d=i(73433);let c=(()=>{class e{constructor(e,t,i){this.fieldValueChangeSubject$=e,this.fieldValueErrorSubject$=t,this.fieldValueResource=i}update(e,t){return this.fieldValueResource.update(e,t).pipe((0,r.b)(e=>{this.fieldValueChangeSubject$.next(e)}),(0,n.K)(e=>(this.fieldValueErrorSubject$.next(e),(0,s._)(e))))}updateByTaskId(e,t){return this.fieldValueResource.updateByTaskId(e,t).pipe((0,r.b)(e=>{this.fieldValueChangeSubject$.next(e)}),(0,n.K)(e=>(this.fieldValueErrorSubject$.next(e),(0,s._)(e))))}}return e.\u0275fac=function(t){return new(t||e)(o.LFG(a.N),o.LFG(l.R),o.LFG(d.w))},e.\u0275prov=o.Yz7({token:e,factory:e.\u0275fac}),e})()},74970:(e,t,i)=>{"use strict";i.d(t,{$:()=>N});var s=i(4562),r=i(47359),n=i(78268),o=i(18842),a=i(63491),l=i(98549),d=i(42028),c=i(30159),p=i(68387),u=i(99721),h=i(94846);const g=new h.OlP("Enable new inline edit contract over task id instead of task key");i(59634);var f=i(53580),m=i(76642),T=(i(18657),i(86179)),E=i(89932),v=i(15609),I=i(63474),y=i(27388),C=i(54681),x=i(41894),D=i(4106);class b{}var w=i(29139),S=i(54093),A=i(83940);function R(e,t){if(1&e&&h._UZ(0,"sp-field-value-editor",2),2&e){const e=h.oxw();h.Q6J("fieldDefinition",e.fieldDefinition)("editor",e.editor)}}function _(e,t){if(1&e&&h._UZ(0,"sp-display-field-value",3),2&e){const e=h.oxw();h.ekj("sp-cursor-not-allowed",e.isLocked())("sp-cursor-default",e.editable)("sp-border-0",e.editable)("sp-editable",e.editable),h.Q6J("editable",e.editable)("entity",e._entity)("fieldDefinition",e.fieldDefinition)("dataValue",e.dataValue)("width",e.width)}}let N=(()=>{class e extends E.H{constructor(e,t,i,s,r,o,a,l,d,c,p,u,h,g){super(e,t),this.changeDetectorRef=i,this.formBuilder=s,this.permissionService=r,this.fieldValuesEditAbility=o,this.fieldValueActionsDispatcher=a,this.inlineEditGlobalService=l,this.validationDotFactory=d,this.domainFieldsRepository=c,this.document=p,this.fieldValueRepository=u,this.hostConnector=h,this.isInlineEditorOverTaskIdEnabled=g,this._entity=null,this.editorStatus=f.I.INACTIVE,this.editMode=!1,this.editable=!1,this.isInitialized=!1,this.stopListenOtherFieldsEditStart$=new n.xQ,this.unsubscribe$=new n.xQ,this.editorDestroyed$=new n.xQ,this.fieldChanged$=new n.xQ,this.handleScrollRef=this.handleScroll.bind(this),this.validationDot=null}ngOnChanges(e){!e.entity||this.entityId&&this.fieldValueRepository||(this._entity=this.entity),(e.entity&&!this.fieldValueRepository||e.fieldDefinition)&&this._entity&&this.fieldDefinition&&this.setDataForTemplates()}ngOnInit(){this.fieldValueRepository&&(this.observeEntityRepository(),this.observeFieldChanges()),this.observeForEditAvailable(),this.isInitialized=!0}finalize(){this.unsubscribe$.next(),this.unsubscribe$.complete(),this.editorDestroyed$.complete(),this.stopListenOtherFieldsEditStart$.next(),this.stopListenOtherFieldsEditStart$.complete(),this.inlineEditGlobalService.unlock(),this.destroyValidationDotIfPresent()}isDisplayMode(){return!!(this.editorStatus&f.I.INACTIVE||this.editorStatus&f.I.LOCKED)}isLocked(){return this.editorStatus===f.I.LOCKED}switchToEditMode(){this.isInlineEditingDisabled()||(this.prepareFormAndEditor(),this.reportEditStart(),this.observeOtherFieldEditStart(),this.editor.setInitialEditorStatus())}getHostClasses(){return["sp-w-full","sp-h-full","sp-display-block","sp-min-w-0"]}setListeners(){this.isInlineEditingDisabled()&&this.dblClickMouseEvent$?(this.dblClickMouseEvent$.unsubscribe(),this.dblClickMouseEvent$=null):this.isInlineEditingDisabled()||this.dblClickMouseEvent$||this.observeDblClickMouseEvent()}isInlineEditingDisabled(){var e;const t=this.editorStatus===f.I.LOCKED;return this._entity&&this._entity.fieldsEditability&&!(null===(e=this._entity)||void 0===e?void 0:e.fieldsEditability[this.fieldDefinition.getFieldId().toString()])||t||!this.editable||this.isDomainFieldEditUnavailable()}observeDblClickMouseEvent(){this.dblClickMouseEvent$=(0,o.R)(this.elementRef.nativeElement,"dblclick").pipe((0,d.h)(e=>this.isDblClickOnDisplayFiledValueComponent(e)),this.takeUntilDestroy()).subscribe(e=>{this.inlineEditGlobalService.isLocked()||this.switchToEditMode(),e.stopPropagation()})}isDblClickOnDisplayFiledValueComponent(e){return!!e.target.closest("sp-display-field-value")}observeEntityRepository(){this.fieldValueRepository.selectEntity(this.entityId).pipe((0,d.h)(e=>!!e&&!!e.getFieldCollection()),(0,c.x)((e,t)=>(0,r.isEqual)(this.fieldDefinition.getDataValue(e),this.fieldDefinition.getDataValue(t))),this.takeUntilDestroy()).subscribe(e=>{this.isEntityFieldSet()&&this.fieldChanged$.next(),this._entity=e,this.setDataForTemplates(),this.isInitialized&&this.changeDetectorRef.detectChanges()})}createEditor(){this.editor=new m.x(this.fieldDefinition,this._entity,this.fieldValueActionsDispatcher,this.inlineEditGlobalService,this.isInlineEditorOverTaskIdEnabled)}prepareFormAndEditor(){this.createEditor(),this.observeForEditorErrors(),this.observeForEditorStatus()}observeForEditAvailable(){this.fieldValuesEditAbility.editAvailable$.pipe((0,d.h)(()=>!!this._entity),(0,p.U)(e=>e&&this.resolveIsEditable()),(0,u.R)(this.unsubscribe$),this.takeUntilDestroy()).subscribe(e=>{!e&&this.editor&&this.editor.exit(),this.editable=e,this.setListeners()})}observeForEditorErrors(){this.editor.selectErrors().pipe((0,u.R)((0,a.T)(this.unsubscribe$,this.editorDestroyed$)),this.takeUntilDestroy()).subscribe(e=>{this.destroyValidationDotIfPresent(),this.validationDot=this.validationDotFactory.create(this.elementRef,e),this.attachScrollListener()})}attachScrollListener(){this.document.addEventListener("scroll",this.handleScrollRef,!0)}removeScrollListener(){this.document.removeEventListener("scroll",this.handleScrollRef,!0)}handleScroll(){this.switchToDisplayMode(),this.removeScrollListener()}observeForEditorStatus(){this.editor.selectStatus().pipe((0,u.R)((0,a.T)(this.unsubscribe$,this.editorDestroyed$)),this.takeUntilDestroy()).subscribe(e=>{const t=this.oneOfActiveFlagChanged(e,f.I.ACTIVE|f.I.INACTIVE);this.editorStatus=e,this.editorStatus&f.I.INACTIVE&&this.stopListenOtherFieldsEditStart$.next(),this.editorStatus&f.I.LOCKED?(this.unsubscribe$.next(),this.unsubscribe$.complete(),this.stopListenOtherFieldsEditStart$.next()):this.editorStatus&f.I.INACTIVE&&!t&&this.reportEditEnd(),this.destroyValidationDotIfPresent(),this.changeDetectorRef.detectChanges()})}oneOfActiveFlagChanged(e,t){return e&t&this.editorStatus&t}switchToDisplayMode(){this.stopListenOtherFieldsEditStart$.next(),this.editor.exit(),this.reportEditEnd()}reportEditStart(){this.inlineEditGlobalService.reportEditStart(),this.hostConnector&&this.hostConnector.reportEditModeChange(!0)}reportEditEnd(){this.inlineEditGlobalService.reportEditEnd(),this.hostConnector&&this.hostConnector.reportEditModeChange(!1)}setDataForTemplates(){this.dataValue=this.fieldDefinition.getDataValue(this._entity)}resolveIsEditable(){return this.fieldValuesEditAbility.editableForField(this.fieldDefinition.getDataType().dataTypeType)&&this._entity.editable&&this.fieldDefinition.getEditable()&&this.hasPermissionToEditView()}observeOtherFieldEditStart(){this.inlineEditGlobalService.observeEditStart().pipe((0,u.R)(this.stopListenOtherFieldsEditStart$),this.takeUntilDestroy()).subscribe(()=>{this.editor.submit()})}hasPermissionToEditView(){return this.permissionService.isEdit()}observeFieldChanges(){this.fieldChanged$.pipe(this.takeUntilDestroy()).subscribe(()=>{this.notifyAboutChange()})}notifyAboutChange(){this.domManipulator.addHostClass("sp-field-value-changed"),(0,l.H)(500).pipe(this.takeUntilDestroy()).subscribe(()=>{this.domManipulator.removeHostClass("sp-field-value-changed")})}isEntityFieldSet(){return null!==this._entity}destroyValidationDotIfPresent(){null!==this.validationDot&&(this.validationDot.destroy(),this.removeScrollListener(),this.validationDot=null)}isDomainFieldEditUnavailable(){return this.domainFieldsRepository.getMapper().getNotEditableDomainFieldIds().some(e=>e.equals(this.fieldDefinition.getFieldId()))}}return e.\u0275fac=function(t){return new(t||e)(h.Y36(h.SBq),h.Y36(h.Qsj),h.Y36(h.sBO),h.Y36(y.qu),h.Y36(v.$),h.Y36(C.n),h.Y36(x.q),h.Y36(D.Z),h.Y36(T.y),h.Y36(I.m),h.Y36(s.K0),h.Y36(b,8),h.Y36(w.E,8),h.Y36(g,8))},e.\u0275cmp=h.Xpm({type:e,selectors:[["sp-field-value"]],inputs:{entity:"entity",entityId:"entityId",fieldDefinition:"fieldDefinition",width:"width"},features:[h.qOj,h.TTD],decls:2,vars:2,consts:[["class","sp-flex sp-align-items-center sp-w-full sp-h-full",3,"fieldDefinition","editor",4,"ngIf"],["class","sp-flex sp-align-items-center sp-w-full sp-h-full",3,"sp-cursor-not-allowed","sp-cursor-default","sp-border-0","sp-editable","editable","entity","fieldDefinition","dataValue","width",4,"ngIf"],[1,"sp-flex","sp-align-items-center","sp-w-full","sp-h-full",3,"fieldDefinition","editor"],[1,"sp-flex","sp-align-items-center","sp-w-full","sp-h-full",3,"editable","entity","fieldDefinition","dataValue","width"]],template:function(e,t){1&e&&(h.YNc(0,R,1,2,"sp-field-value-editor",0),h.YNc(1,_,1,13,"sp-display-field-value",1)),2&e&&(h.Q6J("ngIf",!t.isDisplayMode()),h.xp6(1),h.Q6J("ngIf",t._entity&&t.isDisplayMode()))},directives:[s.O5,S.X,A.h],styles:["sp-field-value.sp-field-value-changed{border-radius:var(--border-radius-m);animation:changed .25s linear}@keyframes changed{0%{background:var(--yellow-100)}to{background:transparent}}"],encapsulation:2,changeDetection:0}),e})()},29139:(e,t,i)=>{"use strict";i.d(t,{E:()=>n});var s=i(78268),r=i(94846);let n=(()=>{class e{constructor(){this.editStatus$=new s.xQ}selectEditStatus(){return this.editStatus$.asObservable()}reportEditModeChange(e){this.editStatus$.next(e)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=r.Yz7({token:e,factory:e.\u0275fac}),e})()},46672:(e,t,i)=>{"use strict";i.d(t,{D:()=>p});var s=i(78268),r=i(18842),n=i(98549),o=i(99721),a=i(19683),l=(i(18657),i(11080)),d=i(79321),c=i(94846);let p=(()=>{class e{constructor(e,t,i,r){this.renderer=e,this.elementRef=t,this.injector=i,this.fieldCustomActions=r,this.tooltipEnabled=!0,this.destroy$=new s.xQ,this.dblClickDebounce$=new s.xQ}ngOnInit(){this.setAlignmentClass(),this.renderer.addClass(this.elementRef.nativeElement,"sp-w-full"),this.renderer.addClass(this.elementRef.nativeElement,"sp-h-full"),this.renderer.addClass(this.elementRef.nativeElement,"sp-flex"),this.renderer.addClass(this.elementRef.nativeElement,"sp-align-items-center"),this.renderer.addClass(this.elementRef.nativeElement,"sp-display-field"),this.fieldCustomActions&&this.fieldCustomActions.isDefined(this.fieldDefinition.getFieldId())&&(this.renderer.addClass(this.elementRef.nativeElement,"is-custom-action"),this.renderer.addClass(this.elementRef.nativeElement,"sp-cursor-pointer"),this.renderer.addClass(this.elementRef.nativeElement,"sp-btn-link"),this.addCustomActionListener())}ngOnDestroy(){this.destroy$.next()}getTooltipText(){return d.y.getTooltipText(this.fieldDefinition,this.entity)}addCustomActionListener(){(0,r.R)(this.elementRef.nativeElement,"click").pipe((0,o.R)(this.destroy$)).subscribe(()=>{this.dblClickDebounce$.next(),(0,n.H)(200).pipe((0,o.R)(this.dblClickDebounce$),(0,o.R)(this.destroy$)).subscribe(()=>{this.dblClickDebounce$.next(),this.fieldCustomActions.execute(this.fieldDefinition.getFieldId(),this.entity,this.injector)})}),(0,r.R)(this.elementRef.nativeElement,"dblclick").pipe((0,o.R)(this.destroy$)).subscribe(()=>{this.dblClickDebounce$.next()})}setAlignmentClass(){let e;switch(this.fieldDefinition.alignment){case l.x.LEFT:e="sp-justify-content-start";break;case l.x.CENTER:e="sp-justify-content-center";break;case l.x.RIGHT:e="sp-justify-content-end"}e&&this.renderer.addClass(this.elementRef.nativeElement,e)}}return e.\u0275fac=function(t){return new(t||e)(c.Y36(c.Qsj),c.Y36(c.SBq),c.Y36(c.zs3),c.Y36(a.r,8))},e.\u0275dir=c.lG2({type:e,inputs:{fieldDefinition:"fieldDefinition",entity:"entity",dataValue:"dataValue",width:"width",tooltipEnabled:"tooltipEnabled"}}),e})()},83940:(e,t,i)=>{"use strict";i.d(t,{h:()=>v});var s=i(78268),r=i(99721),n=(i(59634),i(18657),i(79321)),o=i(74477),a=i(94846),l=i(18270),d=i(29139),c=i(4562),p=i(35959),u=i(1858);function h(e,t){if(1&e&&(a.TgZ(0,"div",3),a.ALo(1,"spRichTextString"),a.TgZ(2,"span",4),a._uU(3),a.qZA(),a.qZA()),2&e){const e=a.oxw();a.Q6J("spTooltip",a.lcZ(1,2,e.getTooltipText())),a.xp6(3),a.hij(" ",e.fieldDefinition.getLabelName()," ")}}function g(e,t){if(1&e&&(a._UZ(0,"div",6),a.ALo(1,"spRichTextString")),2&e){const e=a.oxw(2);a.Q6J("spTooltip",a.lcZ(1,1,e.getTooltipText()))}}function f(e,t){if(1&e&&a.YNc(0,g,2,3,"div",5),2&e){const e=a.oxw(),t=a.MAs(4);a.Q6J("ngIf",!e.dataValue)("ngIfElse",t)}}function m(e,t){1&e&&a.GkF(0)}const T=function(e,t,i,s,r){return{entity:e,fieldDefinition:t,dataValue:i,width:s,tooltipEnabled:r}};function E(e,t){if(1&e&&a.YNc(0,m,1,0,"ng-container",7),2&e){const e=a.oxw();a.Q6J("ngTemplateOutlet",e.displayTemplateRef)("ngTemplateOutletContext",a.qbA(2,T,e.entity,e.fieldDefinition,e.dataValue,e.width,e.tooltipEnabled))}}let v=(()=>{class e{constructor(e,t,i){this.changeDetectorRef=e,this.displayTemplatesFactory=t,this.hostConnector=i,this.tooltipEnabled=!0,this.showPlaceholder=!1,this.destroy$=new s.xQ}ngOnChanges(e){(e.entity&&e.entity.currentValue||e.fieldDefinition&&e.fieldDefinition.currentValue)&&this.setDisplayTemplates()}ngOnInit(){this.hostConnector&&this.hostConnector.shouldShowPlaceholders().pipe((0,r.R)(this.destroy$)).subscribe(e=>{this.showPlaceholder=e&&this.shouldDisplayPlaceholder(),this.changeDetectorRef.detectChanges()})}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}getTooltipText(){return n.y.getTooltipText(this.fieldDefinition,this.entity)}shouldDisplayPlaceholder(){return null==this.dataValue||this.dataValue.isEmpty()||this.dataValue instanceof Array&&!this.dataValue.length||o.l.isEmpty(this.dataValue)}setDisplayTemplates(){const e=this.fieldDefinition.getDataType().getDataTypeType(),t=this.displayTemplatesFactory.getTemplates().get(e);this.displayTemplateRef=t?t.get(this.fieldDefinition.getDecoratorType()):null}}return e.\u0275fac=function(t){return new(t||e)(a.Y36(a.sBO),a.Y36(l.D),a.Y36(d.E,8))},e.\u0275cmp=a.Xpm({type:e,selectors:[["sp-display-field-value"]],inputs:{entity:"entity",fieldDefinition:"fieldDefinition",dataValue:"dataValue",width:"width",editable:"editable",tooltipText:"tooltipText"},features:[a.TTD],decls:5,vars:2,consts:[["class","sp-field-placeholder sp-overflow-hidden sp-whitespace-nowrap sp-w-full sp-h-full sp-dt-display-tooltip sp-flex sp-align-items-center",3,"spTooltip",4,"ngIf","ngIfElse"],["emptyFieldValue",""],["fieldValue",""],[1,"sp-field-placeholder","sp-overflow-hidden","sp-whitespace-nowrap","sp-w-full","sp-h-full","sp-dt-display-tooltip","sp-flex","sp-align-items-center",3,"spTooltip"],[1,"sp-field-placeholder__text"],["class","sp-w-full sp-h-full sp-dt-display-tooltip sp-flex sp-align-items-center",3,"spTooltip",4,"ngIf","ngIfElse"],[1,"sp-w-full","sp-h-full","sp-dt-display-tooltip","sp-flex","sp-align-items-center",3,"spTooltip"],[4,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(e,t){if(1&e&&(a.YNc(0,h,4,4,"div",0),a.YNc(1,f,1,2,"ng-template",null,1,a.W1O),a.YNc(3,E,1,8,"ng-template",null,2,a.W1O)),2&e){const e=a.MAs(2);a.Q6J("ngIf",t.showPlaceholder)("ngIfElse",e)}},directives:[c.O5,p.i9,c.tP],pipes:[u.C],styles:["sp-display-field-value .sp-field-placeholder{color:var(--gray-60);animation:opacity .5s linear}@keyframes opacity{0%{opacity:0}25%{opacity:0}50%{opacity:0}75%{opacity:.5}to{opacity:1}}"],encapsulation:2,changeDetection:0}),e})()},18270:(e,t,i)=>{"use strict";i.d(t,{D:()=>a});var s=i(78993),r=i(36441),n=i(25088),o=i(94846);let a=(()=>{class e{constructor(e,t){this.componentFactoryResolver=e,this.injector=t,this.dataTypeToDecoratorToTemplate=new Map,this.createDisplayTemplates()}createDisplayTemplates(){const e=this.componentFactoryResolver.resolveComponentFactory(s.L).create(this.injector);e.changeDetectorRef.detectChanges(),e.instance.setTemplatesReferences(),this.dataTypeToDecoratorToTemplate=e.instance.getAllTemplates()}getTemplates(){return this.dataTypeToDecoratorToTemplate}getTemplate(e,t){const i=this.dataTypeToDecoratorToTemplate.get(e),s=this.dataTypeToDecoratorToTemplate.get(n.U.NONE);return i?i.get(t):s.get(r.J.NONE)}}return e.\u0275fac=function(t){return new(t||e)(o.LFG(o._Vd),o.LFG(o.zs3))},e.\u0275prov=o.Yz7({token:e,factory:e.\u0275fac}),e})()},54144:(e,t,i)=>{"use strict";i.d(t,{S:()=>c});var s=i(46672),r=i(94846),n=i(4562),o=i(35959),a=i(3688),l=i(1858);function d(e,t){if(1&e&&(r.TgZ(0,"div",1),r.ALo(1,"spRichTextString"),r.TgZ(2,"sp-lozenge",2),r._uU(3),r.qZA(),r.qZA()),2&e){const e=r.oxw();r.Q6J("spTooltipEnabled",e.tooltipEnabled)("spTooltip",r.lcZ(1,4,e.getTooltipText())),r.xp6(2),r.Q6J("color",e.dataValue.color.value),r.xp6(1),r.hij(" ",e.dataValue.name," ")}}let c=(()=>{class e extends s.D{}return e.\u0275fac=function(){let t;return function(i){return(t||(t=r.n5z(e)))(i||e)}}(),e.\u0275cmp=r.Xpm({type:e,selectors:[["sp-display-box-type-value-lozenge"]],features:[r.qOj],decls:1,vars:1,consts:[["class","sp-w-full sp-h-full sp-overflow-hidden sp-dt-display-tooltip sp-flex sp-align-items-center",3,"spTooltipEnabled","spTooltip",4,"ngIf"],[1,"sp-w-full","sp-h-full","sp-overflow-hidden","sp-dt-display-tooltip","sp-flex","sp-align-items-center",3,"spTooltipEnabled","spTooltip"],[1,"sp-overflow-hidden",3,"color"]],template:function(e,t){1&e&&r.YNc(0,d,4,6,"div",0),2&e&&r.Q6J("ngIf",void 0!==t.dataValue)},directives:[n.O5,o.i9,a.H],pipes:[l.C],encapsulation:2,changeDetection:0}),e})()},40902:(e,t,i)=>{"use strict";i.d(t,{o:()=>u});var s=i(46672),r=i(79873),n=i(5566),o=i(94846),a=i(4562),l=i(35959),d=i(1858);const c=function(e){return{"background-color":e}};function p(e,t){if(1&e&&(o.TgZ(0,"div",1),o.ALo(1,"spRichTextString"),o._UZ(2,"span",2),o.TgZ(3,"span",3),o._uU(4),o.qZA(),o.qZA()),2&e){const e=o.oxw();o.Q6J("spTooltipEnabled",e.tooltipEnabled)("spTooltip",o.lcZ(1,4,e.getTooltipText())),o.xp6(2),o.Q6J("ngStyle",o.VKq(6,c,e.getColor())),o.xp6(2),o.hij(" ",e.getFormattedName()," ")}}let u=(()=>{class e extends s.D{constructor(){super(...arguments),this.defaultColor=r.W.MEDIUM_GRAY}getColor(){return n.I.getRequestedColorOrDefault(this.dataValue.value,this.defaultColor).backgroundStyle}getFormattedName(){return this.fieldDefinition.getFormattedName(this.dataValue)}}return e.\u0275fac=function(){let t;return function(i){return(t||(t=o.n5z(e)))(i||e)}}(),e.\u0275cmp=o.Xpm({type:e,selectors:[["sp-display-builtin-color-icon-and-name"]],features:[o.qOj],decls:1,vars:1,consts:[["class","sp-w-full sp-h-full sp-overflow-hidden sp-dt-display-tooltip sp-flex sp-align-items-center",3,"spTooltipEnabled","spTooltip",4,"ngIf"],[1,"sp-w-full","sp-h-full","sp-overflow-hidden","sp-dt-display-tooltip","sp-flex","sp-align-items-center",3,"spTooltipEnabled","spTooltip"],[1,"sp-p-2","sp-circle","sp-mr-2",3,"ngStyle"],[1,"sp-text-wrapper"]],template:function(e,t){1&e&&o.YNc(0,p,5,8,"div",0),2&e&&o.Q6J("ngIf",void 0!==t.dataValue)},directives:[a.O5,l.i9,a.PC],pipes:[d.C],encapsulation:2,changeDetection:0}),e})()},71634:(e,t,i)=>{"use strict";i.d(t,{o:()=>g});var s=i(19683),r=i(46672),n=i(5566),o=i(92787),a=i(79873),l=i(94846),d=i(4562),c=i(35959),p=i(36713),u=i(1858);function h(e,t){if(1&e&&(l.TgZ(0,"div",1),l.ALo(1,"spRichTextString"),l._UZ(2,"sp-icon",2),l.qZA()),2&e){const e=l.oxw();l.Q6J("spTooltipEnabled",e.tooltipEnabled)("spTooltip",l.lcZ(1,4,e.getTooltipText())),l.xp6(2),l.Q6J("iconId",e.dataValue.icon)("color",e.getColor())}}let g=(()=>{class e extends r.D{constructor(e,t,i,s,r){super(e,t,i,s),this.renderer=e,this.elementRef=t,this.injector=i,this.fieldCustomActions=s,this.iconRepository=r,this.defaultColor=a.W.MEDIUM_GRAY}getTooltipText(){const e=this.fieldDefinition.getLabelName(),t=this.fieldDefinition.getTextValue(this.fieldDefinition.getDataValue(this.entity)),i=this.iconRepository.get(t).name;return t?e+`: ${i}`:e}getColor(){return n.I.getRequestedColorOrDefault(this.dataValue.builtinColor.value,this.defaultColor).backgroundStyle}}return e.\u0275fac=function(t){return new(t||e)(l.Y36(l.Qsj),l.Y36(l.SBq),l.Y36(l.zs3),l.Y36(s.r,8),l.Y36(o.T))},e.\u0275cmp=l.Xpm({type:e,selectors:[["sp-display-builtin-icon-icon"]],features:[l.qOj],decls:1,vars:1,consts:[["class","sp-w-full sp-h-full sp-overflow-hidden sp-dt-display-tooltip sp-flex sp-align-items-center",3,"spTooltipEnabled","spTooltip",4,"ngIf"],[1,"sp-w-full","sp-h-full","sp-overflow-hidden","sp-dt-display-tooltip","sp-flex","sp-align-items-center",3,"spTooltipEnabled","spTooltip"],[3,"iconId","color"]],template:function(e,t){1&e&&l.YNc(0,h,3,6,"div",0),2&e&&l.Q6J("ngIf",void 0!==t.dataValue)},directives:[d.O5,c.i9,p.o],pipes:[u.C],encapsulation:2,changeDetection:0}),e})()},79223:(e,t,i)=>{"use strict";i.d(t,{Y:()=>p});var s=i(19683),r=i(46672),n=i(92787),o=i(94846),a=i(4562),l=i(35959),d=i(1858);function c(e,t){if(1&e&&(o.TgZ(0,"div",1),o.ALo(1,"spRichTextString"),o.TgZ(2,"span",2),o._uU(3),o.qZA(),o.qZA()),2&e){const e=o.oxw();o.Q6J("spTooltipEnabled",e.tooltipEnabled)("spTooltip",o.lcZ(1,3,e.getTooltipText())),o.xp6(3),o.hij(" ",e.getFormattedName()," ")}}let p=(()=>{class e extends r.D{constructor(e,t,i,s,r){super(e,t,i,s),this.renderer=e,this.elementRef=t,this.injector=i,this.fieldCustomActions=s,this.iconRepository=r}getFormattedName(){var e,t;return null===(t=this.iconRepository.get(null===(e=this.dataValue)||void 0===e?void 0:e.icon))||void 0===t?void 0:t.name}}return e.\u0275fac=function(t){return new(t||e)(o.Y36(o.Qsj),o.Y36(o.SBq),o.Y36(o.zs3),o.Y36(s.r,8),o.Y36(n.T))},e.\u0275cmp=o.Xpm({type:e,selectors:[["sp-display-builtin-icon-name"]],features:[o.qOj],decls:1,vars:1,consts:[["class","sp-w-full sp-h-full sp-overflow-hidden sp-dt-display-tooltip sp-flex sp-align-items-center",3,"spTooltipEnabled","spTooltip",4,"ngIf"],[1,"sp-w-full","sp-h-full","sp-overflow-hidden","sp-dt-display-tooltip","sp-flex","sp-align-items-center",3,"spTooltipEnabled","spTooltip"],[1,"sp-text-wrapper"]],template:function(e,t){1&e&&o.YNc(0,c,4,5,"div",0),2&e&&o.Q6J("ngIf",void 0!==t.dataValue)},directives:[a.O5,l.i9],pipes:[d.C],encapsulation:2,changeDetection:0}),e})()},28612:(e,t,i)=>{"use strict";i.d(t,{F:()=>d});var s=i(46672),r=i(94846),n=i(4562),o=i(35959),a=i(1858);function l(e,t){if(1&e&&(r.TgZ(0,"div",1),r.ALo(1,"spRichTextString"),r.TgZ(2,"span",2),r._uU(3),r.qZA(),r.qZA()),2&e){const e=r.oxw();r.Q6J("spTooltipEnabled",e.tooltipEnabled)("spTooltip",r.lcZ(1,3,e.getTooltipText())),r.xp6(3),r.Oqu(e.dataValue.dateValue)}}let d=(()=>{class e extends s.D{}return e.\u0275fac=function(){let t;return function(i){return(t||(t=r.n5z(e)))(i||e)}}(),e.\u0275cmp=r.Xpm({type:e,selectors:[["sp-display-date-time-date"]],features:[r.qOj],decls:1,vars:1,consts:[["class","sp-w-full sp-h-full sp-overflow-hidden sp-dt-display-tooltip sp-flex sp-align-items-center",3,"spTooltipEnabled","spTooltip",4,"ngIf"],[1,"sp-w-full","sp-h-full","sp-overflow-hidden","sp-dt-display-tooltip","sp-flex","sp-align-items-center",3,"spTooltipEnabled","spTooltip"],[1,"sp-text-wrapper"]],template:function(e,t){1&e&&r.YNc(0,l,4,5,"div",0),2&e&&r.Q6J("ngIf",t.dataValue)},directives:[n.O5,o.i9],pipes:[a.C],encapsulation:2,changeDetection:0}),e})()},4505:(e,t,i)=>{"use strict";i.d(t,{i:()=>d});var s=i(46672),r=i(94846),n=i(4562),o=i(35959),a=i(1858);function l(e,t){if(1&e&&(r.TgZ(0,"div",1),r.ALo(1,"spRichTextString"),r.TgZ(2,"span",2),r._uU(3),r.qZA(),r.qZA()),2&e){const e=r.oxw();r.Q6J("spTooltipEnabled",e.tooltipEnabled)("spTooltip",r.lcZ(1,3,e.getTooltipText())),r.xp6(3),r.Oqu(e.dataValue.value)}}let d=(()=>{class e extends s.D{}return e.\u0275fac=function(){let t;return function(i){return(t||(t=r.n5z(e)))(i||e)}}(),e.\u0275cmp=r.Xpm({type:e,selectors:[["sp-display-date-time"]],features:[r.qOj],decls:1,vars:1,consts:[["class","sp-w-full sp-h-full sp-overflow-hidden sp-dt-display-tooltip sp-flex sp-align-items-center",3,"spTooltipEnabled","spTooltip",4,"ngIf"],[1,"sp-w-full","sp-h-full","sp-overflow-hidden","sp-dt-display-tooltip","sp-flex","sp-align-items-center",3,"spTooltipEnabled","spTooltip"],[1,"sp-text-wrapper"]],template:function(e,t){1&e&&r.YNc(0,l,4,5,"div",0),2&e&&r.Q6J("ngIf",t.dataValue)},directives:[n.O5,o.i9],pipes:[a.C],encapsulation:2,changeDetection:0}),e})()},93937:(e,t,i)=>{"use strict";i.d(t,{h:()=>d});var s=i(46672),r=i(94846),n=i(4562),o=i(35959),a=i(1858);function l(e,t){if(1&e&&(r.TgZ(0,"div",1),r.ALo(1,"spRichTextString"),r.TgZ(2,"span",2),r._uU(3),r.qZA(),r.qZA()),2&e){const e=r.oxw();r.Q6J("spTooltipEnabled",e.tooltipEnabled)("spTooltip",r.lcZ(1,3,e.getTooltipText())),r.xp6(3),r.Oqu(null==e.dataValue?null:e.dataValue.key)}}let d=(()=>{class e extends s.D{}return e.\u0275fac=function(){let t;return function(i){return(t||(t=r.n5z(e)))(i||e)}}(),e.\u0275cmp=r.Xpm({type:e,selectors:[["sp-display-entity-key-link"]],features:[r.qOj],decls:1,vars:1,consts:[["class","sp-w-full sp-h-full sp-overflow-hidden sp-dt-display-tooltip sp-flex sp-align-items-center",3,"spTooltipEnabled","spTooltip",4,"ngIf"],[1,"sp-w-full","sp-h-full","sp-overflow-hidden","sp-dt-display-tooltip","sp-flex","sp-align-items-center",3,"spTooltipEnabled","spTooltip"],[1,"sp-text-wrapper"]],template:function(e,t){1&e&&r.YNc(0,l,4,5,"div",0),2&e&&r.Q6J("ngIf",t.dataValue)},directives:[n.O5,o.i9],pipes:[a.C],encapsulation:2,changeDetection:0}),e})()},13189:(e,t,i)=>{"use strict";i.d(t,{F:()=>d});var s=i(46672),r=i(94846),n=i(4562),o=i(35959),a=i(1858);function l(e,t){if(1&e&&(r.TgZ(0,"div",1),r.ALo(1,"spRichTextString"),r.TgZ(2,"span",2),r._uU(3),r.qZA(),r.qZA()),2&e){const e=r.oxw();r.Q6J("spTooltipEnabled",e.tooltipEnabled)("spTooltip",r.lcZ(1,3,e.getTooltipText())),r.xp6(3),r.Oqu(null==e.dataValue?null:e.dataValue.key)}}let d=(()=>{class e extends s.D{}return e.\u0275fac=function(){let t;return function(i){return(t||(t=r.n5z(e)))(i||e)}}(),e.\u0275cmp=r.Xpm({type:e,selectors:[["sp-display-entity-key-text"]],features:[r.qOj],decls:1,vars:1,consts:[["class","sp-w-full sp-h-full sp-overflow-hidden sp-dt-display-tooltip sp-flex sp-align-items-center",3,"spTooltipEnabled","spTooltip",4,"ngIf"],[1,"sp-w-full","sp-h-full","sp-overflow-hidden","sp-dt-display-tooltip","sp-flex","sp-align-items-center",3,"spTooltipEnabled","spTooltip"],[1,"sp-text-wrapper"]],template:function(e,t){1&e&&r.YNc(0,l,4,5,"div",0),2&e&&r.Q6J("ngIf",t.dataValue)},directives:[n.O5,o.i9],pipes:[a.C],encapsulation:2,changeDetection:0}),e})()},24590:(e,t,i)=>{"use strict";i.d(t,{f:()=>d});var s=i(46672),r=i(94846),n=i(4562),o=i(35959),a=i(1858);function l(e,t){if(1&e&&(r.TgZ(0,"div",1),r.ALo(1,"spRichTextString"),r.TgZ(2,"span",2),r._uU(3),r.qZA(),r.qZA()),2&e){const e=r.oxw();r.Q6J("spTooltipEnabled",e.tooltipEnabled)("spTooltip",r.lcZ(1,3,e.getTooltipText())),r.xp6(3),r.Oqu(e.dataValue.estimateFormattedDecimalHours)}}let d=(()=>{class e extends s.D{}return e.\u0275fac=function(){let t;return function(i){return(t||(t=r.n5z(e)))(i||e)}}(),e.\u0275cmp=r.Xpm({type:e,selectors:[["sp-display-estimate-formatted-decimal-pretty-text"]],features:[r.qOj],decls:1,vars:1,consts:[["class","sp-w-full sp-h-full sp-overflow-hidden sp-dt-display-tooltip sp-flex sp-align-items-center",3,"spTooltipEnabled","spTooltip",4,"ngIf"],[1,"sp-w-full","sp-h-full","sp-overflow-hidden","sp-dt-display-tooltip","sp-flex","sp-align-items-center",3,"spTooltipEnabled","spTooltip"],[1,"sp-text-wrapper"]],template:function(e,t){1&e&&r.YNc(0,l,4,5,"div",0),2&e&&r.Q6J("ngIf",t.dataValue&&t.dataValue.estimateFormattedDecimalHours)},directives:[n.O5,o.i9],pipes:[a.C],encapsulation:2,changeDetection:0}),e})()},49682:(e,t,i)=>{"use strict";i.d(t,{q:()=>d});var s=i(46672),r=i(94846),n=i(4562),o=i(35959),a=i(1858);function l(e,t){if(1&e&&(r.TgZ(0,"div",1),r.ALo(1,"spRichTextString"),r.TgZ(2,"span",2),r._uU(3),r.qZA(),r.qZA()),2&e){const e=r.oxw();r.Q6J("spTooltipEnabled",e.tooltipEnabled)("spTooltip",r.lcZ(1,3,e.getTooltipText())),r.xp6(3),r.Oqu(e.dataValue.estimateFormattedHours)}}let d=(()=>{class e extends s.D{}return e.\u0275fac=function(){let t;return function(i){return(t||(t=r.n5z(e)))(i||e)}}(),e.\u0275cmp=r.Xpm({type:e,selectors:[["sp-display-estimate-formatted-hours-text"]],features:[r.qOj],decls:1,vars:1,consts:[["class","sp-w-full sp-h-full sp-overflow-hidden sp-dt-display-tooltip sp-flex sp-align-items-center",3,"spTooltipEnabled","spTooltip",4,"ngIf"],[1,"sp-w-full","sp-h-full","sp-overflow-hidden","sp-dt-display-tooltip","sp-flex","sp-align-items-center",3,"spTooltipEnabled","spTooltip"],[1,"sp-text-wrapper"]],template:function(e,t){1&e&&r.YNc(0,l,4,5,"div",0),2&e&&r.Q6J("ngIf",t.dataValue&&t.dataValue.estimateFormattedHours)},directives:[n.O5,o.i9],pipes:[a.C],encapsulation:2,changeDetection:0}),e})()},51328:(e,t,i)=>{"use strict";i.d(t,{e:()=>d});var s=i(46672),r=i(94846),n=i(4562),o=i(35959),a=i(1858);function l(e,t){if(1&e&&(r.TgZ(0,"div",1),r.ALo(1,"spRichTextString"),r.TgZ(2,"span",2),r._uU(3),r.qZA(),r.qZA()),2&e){const e=r.oxw();r.Q6J("spTooltipEnabled",e.tooltipEnabled)("spTooltip",r.lcZ(1,3,e.getTooltipText())),r.xp6(3),r.Oqu(e.dataValue.estimateFormattedPretty)}}let d=(()=>{class e extends s.D{}return e.\u0275fac=function(){let t;return function(i){return(t||(t=r.n5z(e)))(i||e)}}(),e.\u0275cmp=r.Xpm({type:e,selectors:[["sp-display-estimate-formatted-pretty-text"]],features:[r.qOj],decls:1,vars:1,consts:[["class","sp-w-full sp-h-full sp-overflow-hidden sp-dt-display-tooltip sp-flex sp-align-items-center",3,"spTooltipEnabled","spTooltip",4,"ngIf"],[1,"sp-w-full","sp-h-full","sp-overflow-hidden","sp-dt-display-tooltip","sp-flex","sp-align-items-center",3,"spTooltipEnabled","spTooltip"],[1,"sp-text-wrapper"]],template:function(e,t){1&e&&r.YNc(0,l,4,5,"div",0),2&e&&r.Q6J("ngIf",t.dataValue&&t.dataValue.estimateFormattedPretty)},directives:[n.O5,o.i9],pipes:[a.C],encapsulation:2,changeDetection:0}),e})()},98019:(e,t,i)=>{"use strict";i.d(t,{g:()=>c});var s=i(46672),r=i(74477),n=i(94846),o=i(4562),a=i(35959),l=i(1858);function d(e,t){if(1&e&&(n.TgZ(0,"div",1),n.ALo(1,"spRichTextString"),n.TgZ(2,"span",2),n._uU(3),n.qZA(),n.qZA()),2&e){const e=n.oxw();n.Q6J("spTooltipEnabled",e.tooltipEnabled)("spTooltip",n.lcZ(1,3,e.getTooltipText())),n.xp6(3),n.Oqu(e.getNumberOfDaysText())}}let c=(()=>{class e extends s.D{isNumberOfDaysDefined(){return r.l.isDefined(this.dataValue)&&r.l.isDefined(this.dataValue.numberOfDays)}getNumberOfDaysText(){var e;return(null===(e=this.dataValue)||void 0===e?void 0:e.numberOfDays)+"d"}}return e.\u0275fac=function(){let t;return function(i){return(t||(t=n.n5z(e)))(i||e)}}(),e.\u0275cmp=n.Xpm({type:e,selectors:[["sp-display-estimation-number-of-days"]],features:[n.qOj],decls:1,vars:1,consts:[["class","sp-w-full sp-h-full sp-overflow-hidden sp-dt-display-tooltip sp-flex sp-align-items-center",3,"spTooltipEnabled","spTooltip",4,"ngIf"],[1,"sp-w-full","sp-h-full","sp-overflow-hidden","sp-dt-display-tooltip","sp-flex","sp-align-items-center",3,"spTooltipEnabled","spTooltip"],[1,"sp-text-wrapper"]],template:function(e,t){1&e&&n.YNc(0,d,4,5,"div",0),2&e&&n.Q6J("ngIf",t.isNumberOfDaysDefined())},directives:[o.O5,a.i9],pipes:[l.C],encapsulation:2,changeDetection:0}),e})()},8720:(e,t,i)=>{"use strict";i.d(t,{m:()=>a});var s=i(46672),r=i(94846),n=i(35959),o=i(1858);let a=(()=>{class e extends s.D{}return e.\u0275fac=function(){let t;return function(i){return(t||(t=r.n5z(e)))(i||e)}}(),e.\u0275cmp=r.Xpm({type:e,selectors:[["sp-display-none"]],features:[r.qOj],decls:2,vars:4,consts:[[1,"sp-w-full","sp-h-full","sp-overflow-hidden","sp-dt-display-tooltip",3,"spTooltipEnabled","spTooltip"]],template:function(e,t){1&e&&(r._UZ(0,"div",0),r.ALo(1,"spRichTextString")),2&e&&r.Q6J("spTooltipEnabled",t.tooltipEnabled)("spTooltip",r.lcZ(1,2,t.getTooltipText()))},directives:[n.i9],pipes:[o.C],encapsulation:2,changeDetection:0}),e})()},77043:(e,t,i)=>{"use strict";i.d(t,{J:()=>s});class s{static getPeriodModeIcon(e){switch(e){case"MANUAL":return"font-awesome-hand-paper";case"LOCKED":return"font-awesome-lock-alt";case"AUTO_BOTTOM_UP":return"font-awesome-arrow-from-bottom";case"AUTO_TOP_DOWN":return"font-awesome-arrow-from-top";default:throw new Error("Unknown period mode")}}static getPeriodModeLabel(e){const t=e.toLowerCase().replace(/_/g," ");return t.charAt(0).toUpperCase()+t.slice(1)}}},28527:(e,t,i)=>{"use strict";i.d(t,{J:()=>d});var s=i(46672),r=i(94846),n=i(4562),o=i(35959),a=i(1858);function l(e,t){if(1&e&&(r.TgZ(0,"div",1),r.ALo(1,"spRichTextString"),r.TgZ(2,"span",2),r._uU(3),r.qZA(),r.qZA()),2&e){const e=r.oxw();r.Q6J("spTooltipEnabled",e.tooltipEnabled)("spTooltip",r.lcZ(1,3,e.getTooltipText())),r.xp6(3),r.Oqu(e.dataValue.description)}}let d=(()=>{class e extends s.D{}return e.\u0275fac=function(){let t;return function(i){return(t||(t=r.n5z(e)))(i||e)}}(),e.\u0275cmp=r.Xpm({type:e,selectors:[["sp-display-status-description"]],features:[r.qOj],decls:1,vars:1,consts:[["class","sp-w-full sp-h-full sp-overflow-hidden sp-dt-display-tooltip sp-flex sp-align-items-center",3,"spTooltipEnabled","spTooltip",4,"ngIf"],[1,"sp-w-full","sp-h-full","sp-overflow-hidden","sp-dt-display-tooltip","sp-flex","sp-align-items-center",3,"spTooltipEnabled","spTooltip"],[1,"sp-text-wrapper"]],template:function(e,t){1&e&&r.YNc(0,l,4,5,"div",0),2&e&&r.Q6J("ngIf",t.dataValue)},directives:[n.O5,o.i9],pipes:[a.C],encapsulation:2,changeDetection:0}),e})()},22298:(e,t,i)=>{"use strict";i.d(t,{V:()=>p});var s=i(46672),r=i(94846),n=i(4562),o=i(35959),a=i(3688),l=i(1858);function d(e,t){if(1&e&&(r.TgZ(0,"sp-lozenge",3),r._uU(1),r.qZA()),2&e){const e=r.oxw(2);r.Q6J("textColor",null==e.dataValue.hexColor?null:e.dataValue.hexColor.textColor)("backgroundColor",null==e.dataValue.hexColor?null:e.dataValue.hexColor.backgroundColor),r.xp6(1),r.hij(" ",e.dataValue.name," ")}}function c(e,t){if(1&e&&(r.TgZ(0,"div",1),r.ALo(1,"spRichTextString"),r.YNc(2,d,2,3,"sp-lozenge",2),r.qZA()),2&e){const e=r.oxw();r.Q6J("spTooltipEnabled",e.tooltipEnabled)("spTooltip",r.lcZ(1,3,e.getTooltipText())),r.xp6(2),r.Q6J("ngIf",null==e.dataValue.statusCategory?null:e.dataValue.statusCategory.name)}}let p=(()=>{class e extends s.D{}return e.\u0275fac=function(){let t;return function(i){return(t||(t=r.n5z(e)))(i||e)}}(),e.\u0275cmp=r.Xpm({type:e,selectors:[["sp-display-status-lozenge"]],features:[r.qOj],decls:1,vars:1,consts:[["class","sp-w-full sp-h-full sp-overflow-hidden sp-dt-display-tooltip sp-flex sp-align-items-center",3,"spTooltipEnabled","spTooltip",4,"ngIf"],[1,"sp-w-full","sp-h-full","sp-overflow-hidden","sp-dt-display-tooltip","sp-flex","sp-align-items-center",3,"spTooltipEnabled","spTooltip"],[3,"textColor","backgroundColor",4,"ngIf"],[3,"textColor","backgroundColor"]],template:function(e,t){1&e&&r.YNc(0,c,3,5,"div",0),2&e&&r.Q6J("ngIf",void 0!==t.dataValue)},directives:[n.O5,o.i9,a.H],pipes:[l.C],encapsulation:2,changeDetection:0}),e})()},11194:(e,t,i)=>{"use strict";i.d(t,{d:()=>d});var s=i(46672),r=i(94846),n=i(4562),o=i(35959),a=i(1858);function l(e,t){if(1&e&&(r.TgZ(0,"div",1),r.ALo(1,"spRichTextString"),r.TgZ(2,"span",2),r._uU(3),r.qZA(),r.qZA()),2&e){const e=r.oxw();r.Q6J("spTooltipEnabled",e.tooltipEnabled)("spTooltip",r.lcZ(1,3,e.getTooltipText())),r.xp6(3),r.Oqu(e.dataValue.value)}}let d=(()=>{class e extends s.D{}return e.\u0275fac=function(){let t;return function(i){return(t||(t=r.n5z(e)))(i||e)}}(),e.\u0275cmp=r.Xpm({type:e,selectors:[["sp-display-string"]],features:[r.qOj],decls:1,vars:1,consts:[["class","sp-w-full sp-h-full sp-overflow-hidden sp-dt-display-tooltip sp-whitespace-nowrap sp-flex sp-align-items-center",3,"spTooltipEnabled","spTooltip",4,"ngIf"],[1,"sp-w-full","sp-h-full","sp-overflow-hidden","sp-dt-display-tooltip","sp-whitespace-nowrap","sp-flex","sp-align-items-center",3,"spTooltipEnabled","spTooltip"],[1,"sp-text-wrapper"]],template:function(e,t){1&e&&r.YNc(0,l,4,5,"div",0),2&e&&r.Q6J("ngIf",t.dataValue)},directives:[n.O5,o.i9],pipes:[a.C],encapsulation:2,changeDetection:0}),e})()},16401:(e,t,i)=>{"use strict";i.d(t,{L:()=>E});var s=i(18321),r=i(46672),n=i(74477),o=i(29622),a=i(99504),l=i(94846),d=i(4562),c=i(35959),p=i(3688),u=i(1858);const h=function(e){return{"sp-mr-1":e}};function g(e,t){if(1&e&&(l.ynx(0),l.TgZ(1,"sp-lozenge",5),l.ALo(2,"spRichTextString"),l._uU(3),l.qZA(),l.BQk()),2&e){const e=t.$implicit,i=t.last,s=l.oxw(3);l.xp6(1),l.Q6J("color",null==e.key?null:e.key.color)("spTooltip",l.lcZ(2,4,null==e.key?null:e.key.name))("ngClass",l.VKq(6,h,!i)),l.xp6(2),l.hij(" ",s.getDistrbText(e)," ")}}function f(e,t){if(1&e&&(l.ynx(0),l.TgZ(1,"div",3),l.YNc(2,g,4,8,"ng-container",4),l.qZA(),l.BQk()),2&e){const e=l.oxw(2);l.xp6(2),l.Q6J("ngForOf",e.dataValue.distrb)}}function m(e,t){if(1&e&&(l.ynx(0),l.TgZ(1,"sp-lozenge",6),l._uU(2),l.qZA(),l.BQk()),2&e){const e=l.oxw(2);l.xp6(1),l.Q6J("color",e.getColor()),l.xp6(1),l.hij(" ",e.getText()," ")}}function T(e,t){if(1&e&&(l.TgZ(0,"div",1),l.ALo(1,"spRichTextString"),l.YNc(2,f,3,1,"ng-container",2),l.YNc(3,m,3,2,"ng-container",2),l.qZA()),2&e){const e=l.oxw();l.Q6J("spTooltipEnabled",e.tooltipEnabled)("spTooltip",l.lcZ(1,4,e.getTooltipText())),l.xp6(2),l.Q6J("ngIf",e.dataValue&&e.hasHistogramValue()),l.xp6(1),l.Q6J("ngIf",!e.hasHistogramValue()&&e.hasValueToShow())}}let E=(()=>{class e extends r.D{constructor(){super(...arguments),this.class="sp-flex sp-display-field"}getDistrbText(e){return(null==e?void 0:e.value)+"%"}hasHistogramValue(){var e;return this.dataValue instanceof s.Li&&n.l.arrayHasElements(null===(e=this.dataValue)||void 0===e?void 0:e.distrb)}hasValueToShow(){return n.l.isDefined(this.dataValue)&&this.dataValue instanceof a.R?!!this.dataValue.name:n.l.isDefined(this.dataValue)&&this.dataValue instanceof o.z?!!this.dataValue.number:void 0}getColor(){return n.l.isDefined(this.dataValue)&&this.dataValue instanceof a.R?this.dataValue.statusCategory&&this.dataValue.statusCategory.color:""}getText(){return n.l.isDefined(this.dataValue)&&this.dataValue instanceof a.R?this.dataValue.name:""}}return e.\u0275fac=function(){let t;return function(i){return(t||(t=l.n5z(e)))(i||e)}}(),e.\u0275cmp=l.Xpm({type:e,selectors:[["sp-display-task-status-categories-percentage"]],hostVars:2,hostBindings:function(e,t){2&e&&l.Tol(t.class)},features:[l.qOj],decls:1,vars:1,consts:[["class","sp-wh100 sp-overflow-hidden sp-dt-display-tooltip sp-flex sp-align-items-center",3,"spTooltipEnabled","spTooltip",4,"ngIf"],[1,"sp-wh100","sp-overflow-hidden","sp-dt-display-tooltip","sp-flex","sp-align-items-center",3,"spTooltipEnabled","spTooltip"],[4,"ngIf"],[1,"sp-wh100","sp-flex","sp-align-items-center"],[4,"ngFor","ngForOf"],[3,"color","spTooltip","ngClass"],[3,"color"]],template:function(e,t){1&e&&l.YNc(0,T,4,6,"div",0),2&e&&l.Q6J("ngIf",t.dataValue)},directives:[d.O5,c.i9,d.sg,p.H,d.mk],pipes:[u.C],encapsulation:2,changeDetection:0}),e})()},22755:(e,t,i)=>{"use strict";i.d(t,{F:()=>d});var s=i(46672),r=i(94846),n=i(4562),o=i(35959),a=i(1858);function l(e,t){if(1&e&&(r.TgZ(0,"div",1),r.ALo(1,"spRichTextString"),r.TgZ(2,"span",2),r._uU(3),r.qZA(),r.qZA()),2&e){const e=r.oxw();r.Q6J("spTooltipEnabled",e.tooltipEnabled)("spTooltip",r.lcZ(1,3,e.getTooltipText())),r.xp6(3),r.Oqu(e.dataValue.summary)}}let d=(()=>{class e extends s.D{}return e.\u0275fac=function(){let t;return function(i){return(t||(t=r.n5z(e)))(i||e)}}(),e.\u0275cmp=r.Xpm({type:e,selectors:[["sp-display-summary"]],features:[r.qOj],decls:1,vars:1,consts:[["class","sp-w-full sp-h-full sp-overflow-hidden sp-dt-display-tooltip sp-flex sp-align-items-center",3,"spTooltipEnabled","spTooltip",4,"ngIf"],[1,"sp-w-full","sp-h-full","sp-overflow-hidden","sp-dt-display-tooltip","sp-flex","sp-align-items-center",3,"spTooltipEnabled","spTooltip"],[1,"sp-text-wrapper"]],template:function(e,t){1&e&&r.YNc(0,l,4,5,"div",0),2&e&&r.Q6J("ngIf",t.dataValue)},directives:[n.O5,o.i9],pipes:[a.C],styles:[".is-custom-action:hover{text-decoration:underline}"],encapsulation:2,changeDetection:0}),e})()},43205:(e,t,i)=>{"use strict";i.d(t,{Z:()=>c});var s=i(46672),r=i(94846),n=i(4562),o=i(35959),a=i(3688),l=i(1858);function d(e,t){if(1&e&&(r.TgZ(0,"div",1),r.ALo(1,"spRichTextString"),r.TgZ(2,"sp-lozenge"),r._uU(3),r.qZA(),r.qZA()),2&e){const e=r.oxw();r.Q6J("spTooltipEnabled",e.tooltipEnabled)("spTooltip",r.lcZ(1,3,e.getTooltipText())),r.xp6(3),r.hij(" ",e.dataValue.loggedFormatted," ")}}let c=(()=>{class e extends s.D{}return e.\u0275fac=function(){let t;return function(i){return(t||(t=r.n5z(e)))(i||e)}}(),e.\u0275cmp=r.Xpm({type:e,selectors:[["sp-display-time-tracking-logged-lozenge"]],features:[r.qOj],decls:1,vars:1,consts:[["class","sp-w-full sp-h-full sp-overflow-hidden sp-dt-display-tooltip sp-flex sp-align-items-center",3,"spTooltipEnabled","spTooltip",4,"ngIf"],[1,"sp-w-full","sp-h-full","sp-overflow-hidden","sp-dt-display-tooltip","sp-flex","sp-align-items-center",3,"spTooltipEnabled","spTooltip"]],template:function(e,t){1&e&&r.YNc(0,d,4,5,"div",0),2&e&&r.Q6J("ngIf",t.dataValue&&t.dataValue.loggedFormatted)},directives:[n.O5,o.i9,a.H],pipes:[l.C],encapsulation:2,changeDetection:0}),e})()},40696:(e,t,i)=>{"use strict";i.d(t,{t:()=>d});var s=i(46672),r=i(94846),n=i(4562),o=i(35959),a=i(1858);function l(e,t){if(1&e&&(r.TgZ(0,"div",1),r.ALo(1,"spRichTextString"),r.TgZ(2,"span",2),r._uU(3),r.qZA(),r.qZA()),2&e){const e=r.oxw();r.Q6J("spTooltipEnabled",e.tooltipEnabled)("spTooltip",r.lcZ(1,3,e.getTooltipText())),r.xp6(3),r.Oqu(e.dataValue.loggedFormatted)}}let d=(()=>{class e extends s.D{}return e.\u0275fac=function(){let t;return function(i){return(t||(t=r.n5z(e)))(i||e)}}(),e.\u0275cmp=r.Xpm({type:e,selectors:[["sp-display-time-tracking-logged-text"]],features:[r.qOj],decls:1,vars:1,consts:[["class","sp-w-full sp-h-full sp-overflow-hidden sp-dt-display-tooltip sp-flex sp-align-items-center",3,"spTooltipEnabled","spTooltip",4,"ngIf"],[1,"sp-w-full","sp-h-full","sp-overflow-hidden","sp-dt-display-tooltip","sp-flex","sp-align-items-center",3,"spTooltipEnabled","spTooltip"],[1,"sp-text-wrapper"]],template:function(e,t){1&e&&r.YNc(0,l,4,5,"div",0),2&e&&r.Q6J("ngIf",t.dataValue&&t.dataValue.loggedFormatted)},directives:[n.O5,o.i9],pipes:[a.C],encapsulation:2,changeDetection:0}),e})()},41316:(e,t,i)=>{"use strict";i.d(t,{H:()=>c});var s=i(46672),r=i(94846),n=i(4562),o=i(35959),a=i(3688),l=i(1858);function d(e,t){if(1&e&&(r.TgZ(0,"div",1),r.ALo(1,"spRichTextString"),r.TgZ(2,"sp-lozenge"),r._uU(3),r.qZA(),r.qZA()),2&e){const e=r.oxw();r.Q6J("spTooltipEnabled",e.tooltipEnabled)("spTooltip",r.lcZ(1,3,e.getTooltipText())),r.xp6(3),r.hij(" ",e.dataValue.originalFormatted," ")}}let c=(()=>{class e extends s.D{}return e.\u0275fac=function(){let t;return function(i){return(t||(t=r.n5z(e)))(i||e)}}(),e.\u0275cmp=r.Xpm({type:e,selectors:[["sp-display-time-tracking-original-lozenge"]],features:[r.qOj],decls:1,vars:1,consts:[["class","sp-w-full sp-h-full sp-overflow-hidden sp-dt-display-tooltip sp-flex sp-align-items-center",3,"spTooltipEnabled","spTooltip",4,"ngIf"],[1,"sp-w-full","sp-h-full","sp-overflow-hidden","sp-dt-display-tooltip","sp-flex","sp-align-items-center",3,"spTooltipEnabled","spTooltip"]],template:function(e,t){1&e&&r.YNc(0,d,4,5,"div",0),2&e&&r.Q6J("ngIf",t.dataValue&&t.dataValue.originalFormatted)},directives:[n.O5,o.i9,a.H],pipes:[l.C],encapsulation:2,changeDetection:0}),e})()},71964:(e,t,i)=>{"use strict";i.d(t,{c:()=>d});var s=i(46672),r=i(94846),n=i(4562),o=i(35959),a=i(1858);function l(e,t){if(1&e&&(r.TgZ(0,"div",1),r.ALo(1,"spRichTextString"),r.TgZ(2,"span",2),r._uU(3),r.qZA(),r.qZA()),2&e){const e=r.oxw();r.Q6J("spTooltipEnabled",e.tooltipEnabled)("spTooltip",r.lcZ(1,3,e.getTooltipText())),r.xp6(3),r.Oqu(e.dataValue.originalFormatted)}}let d=(()=>{class e extends s.D{}return e.\u0275fac=function(){let t;return function(i){return(t||(t=r.n5z(e)))(i||e)}}(),e.\u0275cmp=r.Xpm({type:e,selectors:[["sp-display-time-tracking-original-text"]],features:[r.qOj],decls:1,vars:1,consts:[["class","sp-w-full sp-h-full sp-overflow-hidden sp-dt-display-tooltip sp-flex sp-align-items-center",3,"spTooltipEnabled","spTooltip",4,"ngIf"],[1,"sp-w-full","sp-h-full","sp-overflow-hidden","sp-dt-display-tooltip","sp-flex","sp-align-items-center",3,"spTooltipEnabled","spTooltip"],[1,"sp-text-wrapper"]],template:function(e,t){1&e&&r.YNc(0,l,4,5,"div",0),2&e&&r.Q6J("ngIf",t.dataValue&&t.dataValue.originalFormatted)},directives:[n.O5,o.i9],pipes:[a.C],encapsulation:2,changeDetection:0}),e})()},48603:(e,t,i)=>{"use strict";i.d(t,{W:()=>d});var s=i(46672),r=i(94846),n=i(4562),o=i(35959),a=i(1858);function l(e,t){if(1&e&&(r.TgZ(0,"div",1),r.ALo(1,"spRichTextString"),r.TgZ(2,"span",2),r._uU(3),r.qZA(),r.qZA()),2&e){const e=r.oxw();r.Q6J("spTooltipEnabled",e.tooltipEnabled)("spTooltip",r.lcZ(1,3,e.getTooltipText())),r.xp6(3),r.hij("",e.dataValue.percentage,"%")}}let d=(()=>{class e extends s.D{}return e.\u0275fac=function(){let t;return function(i){return(t||(t=r.n5z(e)))(i||e)}}(),e.\u0275cmp=r.Xpm({type:e,selectors:[["sp-display-time-tracking-percentage-text"]],features:[r.qOj],decls:1,vars:1,consts:[["class","sp-w-full sp-h-full sp-overflow-hidden sp-dt-display-tooltip sp-flex sp-align-items-center",3,"spTooltipEnabled","spTooltip",4,"ngIf"],[1,"sp-w-full","sp-h-full","sp-overflow-hidden","sp-dt-display-tooltip","sp-flex","sp-align-items-center",3,"spTooltipEnabled","spTooltip"],[1,"sp-text-wrapper"]],template:function(e,t){1&e&&r.YNc(0,l,4,5,"div",0),2&e&&r.Q6J("ngIf",t.dataValue&&void 0!==t.dataValue.percentage)},directives:[n.O5,o.i9],pipes:[a.C],encapsulation:2,changeDetection:0}),e})()},72289:(e,t,i)=>{"use strict";i.d(t,{g:()=>d});var s=i(46672),r=i(94846),n=i(4562),o=i(35959),a=i(1858);function l(e,t){if(1&e&&(r.TgZ(0,"div",1),r.ALo(1,"spRichTextString"),r.TgZ(2,"div",2),r._UZ(3,"div",3),r.qZA(),r.qZA()),2&e){const e=r.oxw();r.Q6J("spTooltipEnabled",e.tooltipEnabled)("spTooltip",r.lcZ(1,4,e.getTooltipText())),r.xp6(3),r.Udp("transform",e.getTransformValue())}}let d=(()=>{class e extends s.D{constructor(){super(...arguments),this.divider=100}getTransformValue(){return`scaleX(${this.dataValue.percentage/this.divider})`}}return e.\u0275fac=function(){let t;return function(i){return(t||(t=r.n5z(e)))(i||e)}}(),e.\u0275cmp=r.Xpm({type:e,selectors:[["sp-display-time-tracking-progress-bar"]],features:[r.qOj],decls:1,vars:1,consts:[["class","sp-display-time-tracking-progress-bar sp-w-full sp-h-full sp-overflow-hidden sp-dt-display-tooltip sp-flex sp-align-items-center",3,"spTooltipEnabled","spTooltip",4,"ngIf"],[1,"sp-display-time-tracking-progress-bar","sp-w-full","sp-h-full","sp-overflow-hidden","sp-dt-display-tooltip","sp-flex","sp-align-items-center",3,"spTooltipEnabled","spTooltip"],[1,"sp-percentage-progress-bar","sp-border-rounded","sp-w-full","sp-overflow-hidden","sp-relative","sp-flex","sp-flex-column","sp-justify-content-end"],[1,"sp-progress-bar","sp-w-full","sp-h-full"]],template:function(e,t){1&e&&r.YNc(0,l,4,6,"div",0),2&e&&r.Q6J("ngIf",void 0!==t.dataValue)},directives:[n.O5,o.i9],pipes:[a.C],styles:[".sp-display-time-tracking-progress-bar .sp-percentage-progress-bar{background:var(--gray-40);height:12px}.sp-display-time-tracking-progress-bar .sp-percentage-progress-bar .sp-progress-bar{background:var(--primary);transform-origin:left;transition:transform .25s ease}"],encapsulation:2,changeDetection:0}),e})()},16989:(e,t,i)=>{"use strict";i.d(t,{u:()=>d});var s=i(46672),r=i(94846),n=i(4562),o=i(35959),a=i(1858);function l(e,t){if(1&e&&(r.TgZ(0,"div",1),r.ALo(1,"spRichTextString"),r.TgZ(2,"div",2),r._UZ(3,"div",3),r.qZA(),r.TgZ(4,"div",4),r._uU(5),r.qZA(),r.qZA()),2&e){const e=r.oxw();r.Q6J("spTooltipEnabled",e.tooltipEnabled)("spTooltip",r.lcZ(1,5,e.getTooltipText())),r.xp6(3),r.Udp("transform",e.getTransformValue()),r.xp6(2),r.hij(" ",e.getFieldValue()," ")}}let d=(()=>{class e extends s.D{constructor(){super(...arguments),this.divider=100}getTransformValue(){return`scaleX(${this.dataValue.percentage/this.divider})`}getFieldValue(){return`${this.dataValue.percentage}%`}}return e.\u0275fac=function(){let t;return function(i){return(t||(t=r.n5z(e)))(i||e)}}(),e.\u0275cmp=r.Xpm({type:e,selectors:[["sp-display-time-tracking-progress-bar-and-percentage"]],features:[r.qOj],decls:1,vars:1,consts:[["class","sp-display-time-tracking-progress-bar-and-percentage sp-w-full sp-h-full sp-overflow-hidden sp-dt-display-tooltip sp-flex sp-align-items-center",3,"spTooltipEnabled","spTooltip",4,"ngIf"],[1,"sp-display-time-tracking-progress-bar-and-percentage","sp-w-full","sp-h-full","sp-overflow-hidden","sp-dt-display-tooltip","sp-flex","sp-align-items-center",3,"spTooltipEnabled","spTooltip"],[1,"sp-percentage-progress-bar","sp-border-rounded","sp-w-full","sp-overflow-hidden","sp-relative","sp-flex","sp-flex-column","sp-justify-content-end"],[1,"sp-progress-bar","sp-w-full","sp-h-full"],[1,"sp-percentage-progress"]],template:function(e,t){1&e&&r.YNc(0,l,6,7,"div",0),2&e&&r.Q6J("ngIf",t.dataValue&&void 0!==t.dataValue.percentage)},directives:[n.O5,o.i9],pipes:[a.C],styles:[".sp-display-time-tracking-progress-bar-and-percentage .sp-percentage-progress-bar{background:var(--gray-40);height:12px}.sp-display-time-tracking-progress-bar-and-percentage .sp-percentage-progress-bar .sp-progress-bar{background:var(--primary);transform-origin:left;transition:transform .25s ease}.sp-display-time-tracking-progress-bar-and-percentage .sp-percentage-progress{font-style:normal;font-weight:500;font-size:12px;line-height:16px;flex-shrink:0;margin-left:4px;width:32px;text-align:right}"],encapsulation:2,changeDetection:0}),e})()},54623:(e,t,i)=>{"use strict";i.d(t,{u:()=>c});var s=i(46672),r=i(94846),n=i(4562),o=i(35959),a=i(3688),l=i(1858);function d(e,t){if(1&e&&(r.TgZ(0,"div",1),r.ALo(1,"spRichTextString"),r.TgZ(2,"sp-lozenge"),r._uU(3),r.qZA(),r.qZA()),2&e){const e=r.oxw();r.Q6J("spTooltipEnabled",e.tooltipEnabled)("spTooltip",r.lcZ(1,3,e.getTooltipText())),r.xp6(3),r.hij(" ",e.dataValue.remainingFormatted," ")}}let c=(()=>{class e extends s.D{}return e.\u0275fac=function(){let t;return function(i){return(t||(t=r.n5z(e)))(i||e)}}(),e.\u0275cmp=r.Xpm({type:e,selectors:[["sp-display-time-tracking-remaining-lozenge"]],features:[r.qOj],decls:1,vars:1,consts:[["class","sp-w-full sp-h-full sp-overflow-hidden sp-dt-display-tooltip sp-flex sp-align-items-center",3,"spTooltipEnabled","spTooltip",4,"ngIf"],[1,"sp-w-full","sp-h-full","sp-overflow-hidden","sp-dt-display-tooltip","sp-flex","sp-align-items-center",3,"spTooltipEnabled","spTooltip"]],template:function(e,t){1&e&&r.YNc(0,d,4,5,"div",0),2&e&&r.Q6J("ngIf",t.dataValue&&t.dataValue.remainingFormatted)},directives:[n.O5,o.i9,a.H],pipes:[l.C],encapsulation:2,changeDetection:0}),e})()},74553:(e,t,i)=>{"use strict";i.d(t,{u:()=>d});var s=i(46672),r=i(94846),n=i(4562),o=i(35959),a=i(1858);function l(e,t){if(1&e&&(r.TgZ(0,"div",1),r.ALo(1,"spRichTextString"),r.TgZ(2,"span",2),r._uU(3),r.qZA(),r.qZA()),2&e){const e=r.oxw();r.Q6J("spTooltipEnabled",e.tooltipEnabled)("spTooltip",r.lcZ(1,3,e.getTooltipText())),r.xp6(3),r.Oqu(e.dataValue.remainingFormatted)}}let d=(()=>{class e extends s.D{}return e.\u0275fac=function(){let t;return function(i){return(t||(t=r.n5z(e)))(i||e)}}(),e.\u0275cmp=r.Xpm({type:e,selectors:[["sp-display-time-tracking-remaining-text"]],features:[r.qOj],decls:1,vars:1,consts:[["class","sp-w-full sp-h-full sp-overflow-hidden sp-dt-display-tooltip sp-flex sp-align-items-center",3,"spTooltipEnabled","spTooltip",4,"ngIf"],[1,"sp-w-full","sp-h-full","sp-overflow-hidden","sp-dt-display-tooltip","sp-flex","sp-align-items-center",3,"spTooltipEnabled","spTooltip"],[1,"sp-text-wrapper"]],template:function(e,t){1&e&&r.YNc(0,l,4,5,"div",0),2&e&&r.Q6J("ngIf",t.dataValue&&t.dataValue.remainingFormatted)},directives:[n.O5,o.i9],pipes:[a.C],encapsulation:2,changeDetection:0}),e})()},75785:(e,t,i)=>{"use strict";i.d(t,{V:()=>s});const s="app/common/assets/images/default-avatar.svg"},30898:(e,t,i)=>{"use strict";i.d(t,{Q:()=>p});var s=i(75785),r=i(46672),n=i(94846),o=i(4562),a=i(35959),l=i(74303),d=i(1858);function c(e,t){if(1&e&&(n.TgZ(0,"div",1),n.ALo(1,"spRichTextString"),n._UZ(2,"img",2),n.qZA()),2&e){const e=n.oxw();n.Q6J("spTooltipEnabled",e.tooltipEnabled)("spTooltip",n.lcZ(1,3,e.getTooltipText())),n.xp6(2),n.Q6J("spLazyImg",e.getAvatarIcon())}}let p=(()=>{class e extends r.D{getAvatarIcon(){var e,t;return(null===(t=null===(e=this.dataValue)||void 0===e?void 0:e.data)||void 0===t?void 0:t.avatar_url_normal)?this.dataValue.data.avatar_url_normal:s.V}}return e.\u0275fac=function(){let t;return function(i){return(t||(t=n.n5z(e)))(i||e)}}(),e.\u0275cmp=n.Xpm({type:e,selectors:[["sp-display-user-avatar"]],features:[n.qOj],decls:1,vars:1,consts:[["class","sp-display-field sp-w-full sp-h-full sp-overflow-hidden sp-dt-display-tooltip sp-flex sp-align-items-center",3,"spTooltipEnabled","spTooltip",4,"ngIf"],[1,"sp-display-field","sp-w-full","sp-h-full","sp-overflow-hidden","sp-dt-display-tooltip","sp-flex","sp-align-items-center",3,"spTooltipEnabled","spTooltip"],["loading","lazy",1,"sp-user-avatar","sp-flex","sp-align-items-center","sp-circle",3,"spLazyImg"]],template:function(e,t){1&e&&n.YNc(0,c,3,5,"div",0),2&e&&n.Q6J("ngIf",t.dataValue)},directives:[o.O5,a.i9,l.$],pipes:[d.C],styles:["sp-display-user-avatar .sp-user-avatar{min-height:16px;height:16px;min-width:16px;width:16px;object-fit:cover}"],encapsulation:2,changeDetection:0}),e})()},90605:(e,t,i)=>{"use strict";i.d(t,{V:()=>p});var s=i(75785),r=i(46672),n=i(94846),o=i(4562),a=i(35959),l=i(74303),d=i(1858);function c(e,t){if(1&e&&(n.TgZ(0,"div",1),n.ALo(1,"spRichTextString"),n._UZ(2,"img",2),n.TgZ(3,"div",3),n._uU(4),n.qZA(),n.qZA()),2&e){const e=n.oxw();n.Q6J("spTooltipEnabled",e.tooltipEnabled)("spTooltip",n.lcZ(1,4,e.getTooltipText())),n.xp6(2),n.Q6J("spLazyImg",e.getAvatarIcon()),n.xp6(2),n.hij(" ",e.getDisplayName()," ")}}let p=(()=>{class e extends r.D{getAvatarIcon(){var e,t;return(null===(t=null===(e=this.dataValue)||void 0===e?void 0:e.data)||void 0===t?void 0:t.avatar_url_normal)?this.dataValue.data.avatar_url_normal:s.V}getDisplayName(){var e,t;return(null===(t=null===(e=this.dataValue)||void 0===e?void 0:e.data)||void 0===t?void 0:t.displayName)?this.dataValue.data.displayName:""}}return e.\u0275fac=function(){let t;return function(i){return(t||(t=n.n5z(e)))(i||e)}}(),e.\u0275cmp=n.Xpm({type:e,selectors:[["sp-display-user-avatar-and-name"]],features:[n.qOj],decls:1,vars:1,consts:[["class","sp-flex sp-align-items-center sp-overflow-hidden sp-dt-display-tooltip sp-w-full sp-h-full",3,"spTooltipEnabled","spTooltip",4,"ngIf"],[1,"sp-flex","sp-align-items-center","sp-overflow-hidden","sp-dt-display-tooltip","sp-w-full","sp-h-full",3,"spTooltipEnabled","spTooltip"],[1,"sp-user-avatar","sp-flex","sp-align-items-center","sp-circle",3,"spLazyImg"],[1,"sp-whitespace-nowrap","sp-pl-1","sp-flex"]],template:function(e,t){1&e&&n.YNc(0,c,5,6,"div",0),2&e&&n.Q6J("ngIf",t.dataValue)},directives:[o.O5,a.i9,l.$],pipes:[d.C],styles:["sp-display-user-avatar-and-name .sp-user-avatar{min-height:16px;height:16px;min-width:16px;width:16px;object-fit:cover}"],encapsulation:2,changeDetection:0}),e})()},42270:(e,t,i)=>{"use strict";i.d(t,{f:()=>d});var s=i(46672),r=i(94846),n=i(4562),o=i(35959),a=i(1858);function l(e,t){if(1&e&&(r.TgZ(0,"div",1),r.ALo(1,"spRichTextString"),r.TgZ(2,"span",2),r._uU(3),r.qZA(),r.qZA()),2&e){const e=r.oxw();r.Q6J("spTooltipEnabled",e.tooltipEnabled)("spTooltip",r.lcZ(1,3,e.getTooltipText())),r.xp6(3),r.Oqu(e.dataValue.data.displayName)}}let d=(()=>{class e extends s.D{}return e.\u0275fac=function(){let t;return function(i){return(t||(t=r.n5z(e)))(i||e)}}(),e.\u0275cmp=r.Xpm({type:e,selectors:[["sp-display-user-name"]],features:[r.qOj],decls:1,vars:1,consts:[["class","sp-w-full sp-h-full sp-overflow-hidden sp-dt-display-tooltip sp-flex sp-align-items-center",3,"spTooltipEnabled","spTooltip",4,"ngIf"],[1,"sp-w-full","sp-h-full","sp-overflow-hidden","sp-dt-display-tooltip","sp-flex","sp-align-items-center",3,"spTooltipEnabled","spTooltip"],[1,"sp-text-wrapper"]],template:function(e,t){1&e&&r.YNc(0,l,4,5,"div",0),2&e&&r.Q6J("ngIf",t.dataValue&&t.dataValue.data&&t.dataValue.data.displayName)},directives:[n.O5,o.i9],pipes:[a.C],encapsulation:2,changeDetection:0}),e})()},78993:(e,t,i)=>{"use strict";i.d(t,{L:()=>li});var s=i(25088),r=i(36441),n=i(94846);const o=["attachments"],a=["multi_user_avatar"],l=["multi_user_avatar_and_name"],d=["multi_user_name"],c=["box_type_value_lozenge"],p=["builtin_color_icon"],u=["builtin_color_icon_and_name"],h=["builtin_color_name"],g=["builtin_icon_icon_and_name"],f=["builtin_icon_icon"],m=["builtin_icon_name"],T=["date"],E=["date_time"],v=["date_time_date"],I=["due_date"],y=["entity_key_link"],C=["entity_key_text"],x=["epic"],D=["estimate_formatted_hours_text"],b=["estimate_formatted_decimal_pretty_text"],w=["estimate_formatted_pretty_text"],S=["estimation_number_of_days"],A=["hex_color"],R=["icon"],_=["issue_type_icon"],N=["issue_type_icon_and_name"],L=["issue_type_name"],O=["labels"],F=["link"],M=["url_links"],U=["milestone_icon"],k=["milestone_icon_and_name"],B=["milestone_name"],V=["number_lozenge"],G=["number_text"],P=["percentage_text"],Y=["percentage_lozenge"],Z=["project_icon_and_name"],z=["project_icon_and_name_with_link"],J=["project_name"],H=["priority_icon"],q=["priority_icon_and_name"],Q=["time_tracking_logged_lozenge"],$=["time_tracking_logged_text"],j=["time_tracking_original_lozenge"],W=["time_tracking_original_text"],K=["time_tracking_percentage_text"],X=["time_tracking_progress_bar"],ee=["time_tracking_progress_bar_and_percentage"],te=["time_tracking_remaining_lozenge"],ie=["time_tracking_remaining_text"],se=["period"],re=["period_mode_icon"],ne=["period_mode_icon_and_name"],oe=["period_mode_name"],ae=["rank"],le=["sprints"],de=["status_lozenge"],ce=["status_description"],pe=["summary"],ue=["string"],he=["task_key"],ge=["rich_text"],fe=["traffic_light"],me=["version"],Te=["skills_icon_name"],Ee=["skills_icon"],ve=["skills_name"],Ie=["subtask_status_categories"],ye=["task_status_categories_percentage"],Ce=["subtask_status_categories_percentage"],xe=["subtask_statuses"],De=["subtask_statuses_percentage"],be=["subtask_version"],we=["subtask_version_percentage"],Se=["select_lozenge"],Ae=["select_text"],Re=["styled_text"],_e=["user_avatar_and_name"],Ne=["user_avatar"],Le=["user_name"],Oe=["none"];function Fe(e,t){if(1&e&&n._UZ(0,"sp-display-attachments",82),2&e){const e=t.fieldDefinition,i=t.entity,s=t.dataValue,r=t.width;n.Q6J("tooltipEnabled",t.tooltipEnabled)("fieldDefinition",e)("entity",i)("dataValue",s)("width",r)}}function Me(e,t){if(1&e&&n._UZ(0,"sp-display-box-type-value-lozenge",82),2&e){const e=t.fieldDefinition,i=t.entity,s=t.dataValue,r=t.width;n.Q6J("tooltipEnabled",t.tooltipEnabled)("fieldDefinition",e)("entity",i)("dataValue",s)("width",r)}}function Ue(e,t){if(1&e&&n._UZ(0,"sp-display-builtin-color-icon",82),2&e){const e=t.fieldDefinition,i=t.entity,s=t.dataValue,r=t.width;n.Q6J("tooltipEnabled",t.tooltipEnabled)("fieldDefinition",e)("entity",i)("dataValue",s)("width",r)}}function ke(e,t){if(1&e&&n._UZ(0,"sp-display-builtin-color-icon-and-name",82),2&e){const e=t.fieldDefinition,i=t.entity,s=t.dataValue,r=t.width;n.Q6J("tooltipEnabled",t.tooltipEnabled)("fieldDefinition",e)("entity",i)("dataValue",s)("width",r)}}function Be(e,t){if(1&e&&n._UZ(0,"sp-display-builtin-color-name",82),2&e){const e=t.fieldDefinition,i=t.entity,s=t.dataValue,r=t.width;n.Q6J("tooltipEnabled",t.tooltipEnabled)("fieldDefinition",e)("entity",i)("dataValue",s)("width",r)}}function Ve(e,t){if(1&e&&n._UZ(0,"sp-display-builtin-icon-icon-and-name",82),2&e){const e=t.fieldDefinition,i=t.entity,s=t.dataValue,r=t.width;n.Q6J("tooltipEnabled",t.tooltipEnabled)("fieldDefinition",e)("entity",i)("dataValue",s)("width",r)}}function Ge(e,t){if(1&e&&n._UZ(0,"sp-display-builtin-icon-icon",82),2&e){const e=t.fieldDefinition,i=t.entity,s=t.dataValue,r=t.width;n.Q6J("tooltipEnabled",t.tooltipEnabled)("fieldDefinition",e)("entity",i)("dataValue",s)("width",r)}}function Pe(e,t){if(1&e&&n._UZ(0,"sp-display-builtin-icon-name",82),2&e){const e=t.fieldDefinition,i=t.entity,s=t.dataValue,r=t.width;n.Q6J("tooltipEnabled",t.tooltipEnabled)("fieldDefinition",e)("entity",i)("dataValue",s)("width",r)}}function Ye(e,t){if(1&e&&n._UZ(0,"sp-display-date",82),2&e){const e=t.fieldDefinition,i=t.entity,s=t.dataValue,r=t.width;n.Q6J("tooltipEnabled",t.tooltipEnabled)("fieldDefinition",e)("entity",i)("dataValue",s)("width",r)}}function Ze(e,t){if(1&e&&n._UZ(0,"sp-display-date-time",82),2&e){const e=t.fieldDefinition,i=t.entity,s=t.dataValue,r=t.width;n.Q6J("tooltipEnabled",t.tooltipEnabled)("fieldDefinition",e)("entity",i)("dataValue",s)("width",r)}}function ze(e,t){if(1&e&&n._UZ(0,"sp-display-date-time-date",82),2&e){const e=t.fieldDefinition,i=t.entity,s=t.dataValue,r=t.width;n.Q6J("tooltipEnabled",t.tooltipEnabled)("fieldDefinition",e)("entity",i)("dataValue",s)("width",r)}}function Je(e,t){if(1&e&&n._UZ(0,"sp-display-due-date",82),2&e){const e=t.fieldDefinition,i=t.entity,s=t.dataValue,r=t.width;n.Q6J("tooltipEnabled",t.tooltipEnabled)("fieldDefinition",e)("entity",i)("dataValue",s)("width",r)}}function He(e,t){if(1&e&&n._UZ(0,"sp-display-entity-key-link",82),2&e){const e=t.fieldDefinition,i=t.entity,s=t.dataValue,r=t.width;n.Q6J("tooltipEnabled",t.tooltipEnabled)("fieldDefinition",e)("entity",i)("dataValue",s)("width",r)}}function qe(e,t){if(1&e&&n._UZ(0,"sp-display-entity-key-text",82),2&e){const e=t.fieldDefinition,i=t.entity,s=t.dataValue,r=t.width;n.Q6J("tooltipEnabled",t.tooltipEnabled)("fieldDefinition",e)("entity",i)("dataValue",s)("width",r)}}function Qe(e,t){if(1&e&&n._UZ(0,"sp-display-epic",82),2&e){const e=t.fieldDefinition,i=t.entity,s=t.dataValue,r=t.width;n.Q6J("tooltipEnabled",t.tooltipEnabled)("fieldDefinition",e)("entity",i)("dataValue",s)("width",r)}}function $e(e,t){if(1&e&&n._UZ(0,"sp-display-estimate-formatted-decimal-pretty-text",82),2&e){const e=t.fieldDefinition,i=t.entity,s=t.dataValue,r=t.width;n.Q6J("tooltipEnabled",t.tooltipEnabled)("fieldDefinition",e)("entity",i)("dataValue",s)("width",r)}}function je(e,t){if(1&e&&n._UZ(0,"sp-display-estimate-formatted-hours-text",82),2&e){const e=t.fieldDefinition,i=t.entity,s=t.dataValue,r=t.width;n.Q6J("tooltipEnabled",t.tooltipEnabled)("fieldDefinition",e)("entity",i)("dataValue",s)("width",r)}}function We(e,t){if(1&e&&n._UZ(0,"sp-display-estimate-formatted-pretty-text",82),2&e){const e=t.fieldDefinition,i=t.entity,s=t.dataValue,r=t.width;n.Q6J("tooltipEnabled",t.tooltipEnabled)("fieldDefinition",e)("entity",i)("dataValue",s)("width",r)}}function Ke(e,t){if(1&e&&n._UZ(0,"sp-display-estimation-number-of-days",82),2&e){const e=t.fieldDefinition,i=t.entity,s=t.dataValue,r=t.width;n.Q6J("tooltipEnabled",t.tooltipEnabled)("fieldDefinition",e)("entity",i)("dataValue",s)("width",r)}}function Xe(e,t){if(1&e&&n._UZ(0,"sp-display-hex-color",82),2&e){const e=t.fieldDefinition,i=t.entity,s=t.dataValue,r=t.width;n.Q6J("tooltipEnabled",t.tooltipEnabled)("fieldDefinition",e)("entity",i)("dataValue",s)("width",r)}}function et(e,t){if(1&e&&n._UZ(0,"sp-display-icon",82),2&e){const e=t.fieldDefinition,i=t.entity,s=t.dataValue,r=t.width;n.Q6J("tooltipEnabled",t.tooltipEnabled)("fieldDefinition",e)("entity",i)("dataValue",s)("width",r)}}function tt(e,t){if(1&e&&n._UZ(0,"sp-display-issue-type-icon",82),2&e){const e=t.fieldDefinition,i=t.entity,s=t.dataValue,r=t.width;n.Q6J("tooltipEnabled",t.tooltipEnabled)("fieldDefinition",e)("entity",i)("dataValue",s)("width",r)}}function it(e,t){if(1&e&&n._UZ(0,"sp-display-issue-type-icon-and-name",82),2&e){const e=t.fieldDefinition,i=t.entity,s=t.dataValue,r=t.width;n.Q6J("tooltipEnabled",t.tooltipEnabled)("fieldDefinition",e)("entity",i)("dataValue",s)("width",r)}}function st(e,t){if(1&e&&n._UZ(0,"sp-display-issue-type-name",82),2&e){const e=t.fieldDefinition,i=t.entity,s=t.dataValue,r=t.width;n.Q6J("tooltipEnabled",t.tooltipEnabled)("fieldDefinition",e)("entity",i)("dataValue",s)("width",r)}}function rt(e,t){if(1&e&&n._UZ(0,"sp-display-labels",82),2&e){const e=t.fieldDefinition,i=t.entity,s=t.dataValue,r=t.width;n.Q6J("tooltipEnabled",t.tooltipEnabled)("fieldDefinition",e)("entity",i)("dataValue",s)("width",r)}}function nt(e,t){if(1&e&&n._UZ(0,"sp-display-link",82),2&e){const e=t.fieldDefinition,i=t.entity,s=t.dataValue,r=t.width;n.Q6J("tooltipEnabled",t.tooltipEnabled)("fieldDefinition",e)("entity",i)("dataValue",s)("width",r)}}function ot(e,t){if(1&e&&n._UZ(0,"sp-display-url-links",82),2&e){const e=t.fieldDefinition,i=t.entity,s=t.dataValue,r=t.width;n.Q6J("tooltipEnabled",t.tooltipEnabled)("fieldDefinition",e)("entity",i)("dataValue",s)("width",r)}}function at(e,t){if(1&e&&n._UZ(0,"sp-display-milestone-icon",82),2&e){const e=t.fieldDefinition,i=t.entity,s=t.dataValue,r=t.width;n.Q6J("tooltipEnabled",t.tooltipEnabled)("fieldDefinition",e)("entity",i)("dataValue",s)("width",r)}}function lt(e,t){if(1&e&&n._UZ(0,"sp-display-milestone-icon-and-name",82),2&e){const e=t.fieldDefinition,i=t.entity,s=t.dataValue,r=t.width;n.Q6J("tooltipEnabled",t.tooltipEnabled)("fieldDefinition",e)("entity",i)("dataValue",s)("width",r)}}function dt(e,t){if(1&e&&n._UZ(0,"sp-display-milestone-name",82),2&e){const e=t.fieldDefinition,i=t.entity,s=t.dataValue,r=t.width;n.Q6J("tooltipEnabled",t.tooltipEnabled)("fieldDefinition",e)("entity",i)("dataValue",s)("width",r)}}function ct(e,t){if(1&e&&n._UZ(0,"sp-display-multi-user-avatar",82),2&e){const e=t.fieldDefinition,i=t.entity,s=t.dataValue,r=t.width;n.Q6J("tooltipEnabled",t.tooltipEnabled)("fieldDefinition",e)("entity",i)("dataValue",s)("width",r)}}function pt(e,t){if(1&e&&n._UZ(0,"sp-display-multi-user-avatar-and-name",82),2&e){const e=t.fieldDefinition,i=t.entity,s=t.dataValue,r=t.width;n.Q6J("tooltipEnabled",t.tooltipEnabled)("fieldDefinition",e)("entity",i)("dataValue",s)("width",r)}}function ut(e,t){if(1&e&&n._UZ(0,"sp-display-multi-user-name",82),2&e){const e=t.fieldDefinition,i=t.entity,s=t.dataValue,r=t.width;n.Q6J("tooltipEnabled",t.tooltipEnabled)("fieldDefinition",e)("entity",i)("dataValue",s)("width",r)}}function ht(e,t){if(1&e&&n._UZ(0,"sp-display-number-lozenge",82),2&e){const e=t.fieldDefinition,i=t.entity,s=t.dataValue,r=t.width;n.Q6J("tooltipEnabled",t.tooltipEnabled)("fieldDefinition",e)("entity",i)("dataValue",s)("width",r)}}function gt(e,t){if(1&e&&n._UZ(0,"sp-display-number-text",82),2&e){const e=t.fieldDefinition,i=t.entity,s=t.dataValue,r=t.width;n.Q6J("tooltipEnabled",t.tooltipEnabled)("fieldDefinition",e)("entity",i)("dataValue",s)("width",r)}}function ft(e,t){if(1&e&&n._UZ(0,"sp-display-percentage-text",82),2&e){const e=t.fieldDefinition,i=t.entity,s=t.dataValue,r=t.width;n.Q6J("tooltipEnabled",t.tooltipEnabled)("fieldDefinition",e)("entity",i)("dataValue",s)("width",r)}}function mt(e,t){if(1&e&&n._UZ(0,"sp-display-percentage-lozenge",82),2&e){const e=t.fieldDefinition,i=t.entity,s=t.dataValue,r=t.width;n.Q6J("tooltipEnabled",t.tooltipEnabled)("fieldDefinition",e)("entity",i)("dataValue",s)("width",r)}}function Tt(e,t){if(1&e&&n._UZ(0,"sp-display-project-icon-and-name",82),2&e){const e=t.fieldDefinition,i=t.entity,s=t.dataValue,r=t.width;n.Q6J("tooltipEnabled",t.tooltipEnabled)("fieldDefinition",e)("entity",i)("dataValue",s)("width",r)}}function Et(e,t){if(1&e&&n._UZ(0,"sp-display-project-icon-and-name-with-link",82),2&e){const e=t.fieldDefinition,i=t.entity,s=t.dataValue,r=t.width;n.Q6J("tooltipEnabled",t.tooltipEnabled)("fieldDefinition",e)("entity",i)("dataValue",s)("width",r)}}function vt(e,t){if(1&e&&n._UZ(0,"sp-display-project-name",82),2&e){const e=t.fieldDefinition,i=t.entity,s=t.dataValue,r=t.width;n.Q6J("tooltipEnabled",t.tooltipEnabled)("fieldDefinition",e)("entity",i)("dataValue",s)("width",r)}}function It(e,t){if(1&e&&n._UZ(0,"sp-display-priority-icon",82),2&e){const e=t.fieldDefinition,i=t.entity,s=t.dataValue,r=t.width;n.Q6J("tooltipEnabled",t.tooltipEnabled)("fieldDefinition",e)("entity",i)("dataValue",s)("width",r)}}function yt(e,t){if(1&e&&n._UZ(0,"sp-display-priority-icon-and-name",82),2&e){const e=t.fieldDefinition,i=t.entity,s=t.dataValue,r=t.width;n.Q6J("tooltipEnabled",t.tooltipEnabled)("fieldDefinition",e)("entity",i)("dataValue",s)("width",r)}}function Ct(e,t){if(1&e&&n._UZ(0,"sp-display-string",82),2&e){const e=t.fieldDefinition,i=t.entity,s=t.dataValue,r=t.width;n.Q6J("tooltipEnabled",t.tooltipEnabled)("fieldDefinition",e)("entity",i)("dataValue",s)("width",r)}}function xt(e,t){if(1&e&&n._UZ(0,"sp-display-time-tracking-logged-lozenge",82),2&e){const e=t.fieldDefinition,i=t.entity,s=t.dataValue,r=t.width;n.Q6J("tooltipEnabled",t.tooltipEnabled)("fieldDefinition",e)("entity",i)("dataValue",s)("width",r)}}function Dt(e,t){if(1&e&&n._UZ(0,"sp-display-time-tracking-logged-text",82),2&e){const e=t.fieldDefinition,i=t.entity,s=t.dataValue,r=t.width;n.Q6J("tooltipEnabled",t.tooltipEnabled)("fieldDefinition",e)("entity",i)("dataValue",s)("width",r)}}function bt(e,t){if(1&e&&n._UZ(0,"sp-display-time-tracking-original-lozenge",82),2&e){const e=t.fieldDefinition,i=t.entity,s=t.dataValue,r=t.width;n.Q6J("tooltipEnabled",t.tooltipEnabled)("fieldDefinition",e)("entity",i)("dataValue",s)("width",r)}}function wt(e,t){if(1&e&&n._UZ(0,"sp-display-time-tracking-original-text",82),2&e){const e=t.fieldDefinition,i=t.entity,s=t.dataValue,r=t.width;n.Q6J("tooltipEnabled",t.tooltipEnabled)("fieldDefinition",e)("entity",i)("dataValue",s)("width",r)}}function St(e,t){if(1&e&&n._UZ(0,"sp-display-time-tracking-percentage-text",82),2&e){const e=t.fieldDefinition,i=t.entity,s=t.dataValue,r=t.width;n.Q6J("tooltipEnabled",t.tooltipEnabled)("fieldDefinition",e)("entity",i)("dataValue",s)("width",r)}}function At(e,t){if(1&e&&n._UZ(0,"sp-display-time-tracking-progress-bar",82),2&e){const e=t.fieldDefinition,i=t.entity,s=t.dataValue,r=t.width;n.Q6J("tooltipEnabled",t.tooltipEnabled)("fieldDefinition",e)("entity",i)("dataValue",s)("width",r)}}function Rt(e,t){if(1&e&&n._UZ(0,"sp-display-time-tracking-progress-bar-and-percentage",82),2&e){const e=t.fieldDefinition,i=t.entity,s=t.dataValue,r=t.width;n.Q6J("tooltipEnabled",t.tooltipEnabled)("fieldDefinition",e)("entity",i)("dataValue",s)("width",r)}}function _t(e,t){if(1&e&&n._UZ(0,"sp-display-time-tracking-remaining-lozenge",82),2&e){const e=t.fieldDefinition,i=t.entity,s=t.dataValue,r=t.width;n.Q6J("tooltipEnabled",t.tooltipEnabled)("fieldDefinition",e)("entity",i)("dataValue",s)("width",r)}}function Nt(e,t){if(1&e&&n._UZ(0,"sp-display-time-tracking-remaining-text",82),2&e){const e=t.fieldDefinition,i=t.entity,s=t.dataValue,r=t.width;n.Q6J("tooltipEnabled",t.tooltipEnabled)("fieldDefinition",e)("entity",i)("dataValue",s)("width",r)}}function Lt(e,t){if(1&e&&n._UZ(0,"sp-display-period",82),2&e){const e=t.fieldDefinition,i=t.entity,s=t.dataValue,r=t.width;n.Q6J("tooltipEnabled",t.tooltipEnabled)("fieldDefinition",e)("entity",i)("dataValue",s)("width",r)}}function Ot(e,t){if(1&e&&n._UZ(0,"sp-display-period-mode-icon",82),2&e){const e=t.fieldDefinition,i=t.entity,s=t.dataValue,r=t.width;n.Q6J("tooltipEnabled",t.tooltipEnabled)("fieldDefinition",e)("entity",i)("dataValue",s)("width",r)}}function Ft(e,t){if(1&e&&n._UZ(0,"sp-display-period-mode-icon-and-name",82),2&e){const e=t.fieldDefinition,i=t.entity,s=t.dataValue,r=t.width;n.Q6J("tooltipEnabled",t.tooltipEnabled)("fieldDefinition",e)("entity",i)("dataValue",s)("width",r)}}function Mt(e,t){if(1&e&&n._UZ(0,"sp-display-period-mode-name",82),2&e){const e=t.fieldDefinition,i=t.entity,s=t.dataValue,r=t.width;n.Q6J("tooltipEnabled",t.tooltipEnabled)("fieldDefinition",e)("entity",i)("dataValue",s)("width",r)}}function Ut(e,t){if(1&e&&n._UZ(0,"sp-display-rank",82),2&e){const e=t.fieldDefinition,i=t.entity,s=t.dataValue,r=t.width;n.Q6J("tooltipEnabled",t.tooltipEnabled)("fieldDefinition",e)("entity",i)("dataValue",s)("width",r)}}function kt(e,t){if(1&e&&n._UZ(0,"sp-display-sprints",82),2&e){const e=t.fieldDefinition,i=t.entity,s=t.dataValue,r=t.width;n.Q6J("tooltipEnabled",t.tooltipEnabled)("fieldDefinition",e)("entity",i)("dataValue",s)("width",r)}}function Bt(e,t){if(1&e&&n._UZ(0,"sp-display-status-description",82),2&e){const e=t.fieldDefinition,i=t.entity,s=t.dataValue,r=t.width;n.Q6J("tooltipEnabled",t.tooltipEnabled)("fieldDefinition",e)("entity",i)("dataValue",s)("width",r)}}function Vt(e,t){if(1&e&&n._UZ(0,"sp-display-status-lozenge",82),2&e){const e=t.fieldDefinition,i=t.entity,s=t.dataValue,r=t.width;n.Q6J("tooltipEnabled",t.tooltipEnabled)("fieldDefinition",e)("entity",i)("dataValue",s)("width",r)}}function Gt(e,t){if(1&e&&n._UZ(0,"sp-display-summary",82),2&e){const e=t.fieldDefinition,i=t.entity,s=t.dataValue,r=t.width;n.Q6J("tooltipEnabled",t.tooltipEnabled)("fieldDefinition",e)("entity",i)("dataValue",s)("width",r)}}function Pt(e,t){if(1&e&&n._UZ(0,"sp-display-task-key",82),2&e){const e=t.fieldDefinition,i=t.entity,s=t.dataValue,r=t.width;n.Q6J("tooltipEnabled",t.tooltipEnabled)("fieldDefinition",e)("entity",i)("dataValue",s)("width",r)}}function Yt(e,t){if(1&e&&n._UZ(0,"sp-display-rich-text",82),2&e){const e=t.fieldDefinition,i=t.entity,s=t.dataValue,r=t.width;n.Q6J("tooltipEnabled",t.tooltipEnabled)("fieldDefinition",e)("entity",i)("dataValue",s)("width",r)}}function Zt(e,t){if(1&e&&n._UZ(0,"sp-display-traffic-light",82),2&e){const e=t.fieldDefinition,i=t.entity,s=t.dataValue,r=t.width;n.Q6J("tooltipEnabled",t.tooltipEnabled)("fieldDefinition",e)("entity",i)("dataValue",s)("width",r)}}function zt(e,t){if(1&e&&n._UZ(0,"sp-display-version",82),2&e){const e=t.fieldDefinition,i=t.entity,s=t.dataValue,r=t.width;n.Q6J("tooltipEnabled",t.tooltipEnabled)("fieldDefinition",e)("entity",i)("dataValue",s)("width",r)}}function Jt(e,t){if(1&e&&n._UZ(0,"sp-display-skills-icon-name",82),2&e){const e=t.fieldDefinition,i=t.entity,s=t.dataValue,r=t.width;n.Q6J("tooltipEnabled",t.tooltipEnabled)("fieldDefinition",e)("entity",i)("dataValue",s)("width",r)}}function Ht(e,t){if(1&e&&n._UZ(0,"sp-display-skills-name",82),2&e){const e=t.fieldDefinition,i=t.entity,s=t.dataValue,r=t.width;n.Q6J("tooltipEnabled",t.tooltipEnabled)("fieldDefinition",e)("entity",i)("dataValue",s)("width",r)}}function qt(e,t){if(1&e&&n._UZ(0,"sp-display-skills-icon",82),2&e){const e=t.fieldDefinition,i=t.entity,s=t.dataValue,r=t.width;n.Q6J("tooltipEnabled",t.tooltipEnabled)("fieldDefinition",e)("entity",i)("dataValue",s)("width",r)}}function Qt(e,t){if(1&e&&n._UZ(0,"sp-display-subtask-status-categories",82),2&e){const e=t.fieldDefinition,i=t.entity,s=t.dataValue,r=t.width;n.Q6J("tooltipEnabled",t.tooltipEnabled)("fieldDefinition",e)("entity",i)("dataValue",s)("width",r)}}function $t(e,t){if(1&e&&n._UZ(0,"sp-display-task-status-categories-percentage",82),2&e){const e=t.fieldDefinition,i=t.entity,s=t.dataValue,r=t.width;n.Q6J("tooltipEnabled",t.tooltipEnabled)("fieldDefinition",e)("entity",i)("dataValue",s)("width",r)}}function jt(e,t){if(1&e&&n._UZ(0,"sp-display-subtask-status-categories-percentage",82),2&e){const e=t.fieldDefinition,i=t.entity,s=t.dataValue,r=t.width;n.Q6J("tooltipEnabled",t.tooltipEnabled)("fieldDefinition",e)("entity",i)("dataValue",s)("width",r)}}function Wt(e,t){if(1&e&&n._UZ(0,"sp-display-subtask-statuses",82),2&e){const e=t.fieldDefinition,i=t.entity,s=t.dataValue,r=t.width;n.Q6J("tooltipEnabled",t.tooltipEnabled)("fieldDefinition",e)("entity",i)("dataValue",s)("width",r)}}function Kt(e,t){if(1&e&&n._UZ(0,"sp-display-subtask-statuses-percentage",82),2&e){const e=t.fieldDefinition,i=t.entity,s=t.dataValue,r=t.width;n.Q6J("tooltipEnabled",t.tooltipEnabled)("fieldDefinition",e)("entity",i)("dataValue",s)("width",r)}}function Xt(e,t){if(1&e&&n._UZ(0,"sp-display-subtask-version",82),2&e){const e=t.fieldDefinition,i=t.entity,s=t.dataValue,r=t.width;n.Q6J("tooltipEnabled",t.tooltipEnabled)("fieldDefinition",e)("entity",i)("dataValue",s)("width",r)}}function ei(e,t){if(1&e&&n._UZ(0,"sp-display-subtask-version-percentage",82),2&e){const e=t.fieldDefinition,i=t.entity,s=t.dataValue,r=t.width;n.Q6J("tooltipEnabled",t.tooltipEnabled)("fieldDefinition",e)("entity",i)("dataValue",s)("width",r)}}function ti(e,t){if(1&e&&n._UZ(0,"sp-display-select-lozenge",82),2&e){const e=t.fieldDefinition,i=t.entity,s=t.dataValue,r=t.width;n.Q6J("tooltipEnabled",t.tooltipEnabled)("fieldDefinition",e)("entity",i)("dataValue",s)("width",r)}}function ii(e,t){if(1&e&&n._UZ(0,"sp-display-select-text",82),2&e){const e=t.fieldDefinition,i=t.entity,s=t.dataValue,r=t.width;n.Q6J("tooltipEnabled",t.tooltipEnabled)("fieldDefinition",e)("entity",i)("dataValue",s)("width",r)}}function si(e,t){if(1&e&&n._UZ(0,"sp-display-styled-text",82),2&e){const e=t.fieldDefinition,i=t.entity,s=t.dataValue,r=t.width;n.Q6J("tooltipEnabled",t.tooltipEnabled)("fieldDefinition",e)("entity",i)("dataValue",s)("width",r)}}function ri(e,t){if(1&e&&n._UZ(0,"sp-display-user-avatar",82),2&e){const e=t.fieldDefinition,i=t.entity,s=t.dataValue,r=t.width;n.Q6J("tooltipEnabled",t.tooltipEnabled)("fieldDefinition",e)("entity",i)("dataValue",s)("width",r)}}function ni(e,t){if(1&e&&n._UZ(0,"sp-display-user-avatar-and-name",82),2&e){const e=t.fieldDefinition,i=t.entity,s=t.dataValue,r=t.width;n.Q6J("tooltipEnabled",t.tooltipEnabled)("fieldDefinition",e)("entity",i)("dataValue",s)("width",r)}}function oi(e,t){if(1&e&&n._UZ(0,"sp-display-user-name",82),2&e){const e=t.fieldDefinition,i=t.entity,s=t.dataValue,r=t.width;n.Q6J("tooltipEnabled",t.tooltipEnabled)("fieldDefinition",e)("entity",i)("dataValue",s)("width",r)}}function ai(e,t){if(1&e&&n._UZ(0,"sp-display-none",82),2&e){const e=t.fieldDefinition,i=t.entity,s=t.dataValue,r=t.width;n.Q6J("tooltipEnabled",t.tooltipEnabled)("fieldDefinition",e)("entity",i)("dataValue",s)("width",r)}}let li=(()=>{class e{constructor(){this.dataTypeToDecoratorToTemplate=new Map}getAllTemplates(){return this.dataTypeToDecoratorToTemplate}setTemplatesReferences(){this.dataTypeToDecoratorToTemplate.set(s.U.ATTACHMENTS,new Map([[r.J.ATTACHMENTS,this.attachments]])),this.dataTypeToDecoratorToTemplate.set(s.U.BOX_TYPE_VALUE,new Map([[r.J.BOX_TYPE_VALUE_LOZENGE,this.box_type_value_lozenge]])),this.dataTypeToDecoratorToTemplate.set(s.U.BUILTIN_COLOR,new Map([[r.J.BUILTIN_COLOR_ICON,this.builtin_color_icon],[r.J.BUILTIN_COLOR_ICON_AND_NAME,this.builtin_color_icon_and_name],[r.J.BUILTIN_COLOR_NAME,this.builtin_color_name]])),this.dataTypeToDecoratorToTemplate.set(s.U.BUILTIN_ICON,new Map([[r.J.BUILTIN_ICON_ICON,this.builtin_icon_icon],[r.J.BUILTIN_ICON_ICON_AND_NAME,this.builtin_icon_icon_and_name],[r.J.BUILTIN_ICON_NAME,this.builtin_icon_name]])),this.dataTypeToDecoratorToTemplate.set(s.U.DATE,new Map([[r.J.DATE,this.date]])),this.dataTypeToDecoratorToTemplate.set(s.U.DATE_TIME,new Map([[r.J.DATE,this.date_time_date],[r.J.DATE_TIME,this.date_time]])),this.dataTypeToDecoratorToTemplate.set(s.U.DUE_DATE,new Map([[r.J.DATE,this.due_date]])),this.dataTypeToDecoratorToTemplate.set(s.U.ENTITY_KEY,new Map([[r.J.ENTITY_KEY_TEXT,this.entity_key_text],[r.J.ENTITY_KEY_LINK,this.entity_key_link]])),this.dataTypeToDecoratorToTemplate.set(s.U.EPIC,new Map([[r.J.LOZENGE_LINK,this.epic]])),this.dataTypeToDecoratorToTemplate.set(s.U.ESTIMATION,new Map([[r.J.ESTIMATE_FORMATTED_PRETTY_TEXT,this.estimate_formatted_pretty_text],[r.J.ESTIMATE_FORMATTED_HOURS_TEXT,this.estimate_formatted_hours_text],[r.J.ESTIMATE_FORMATTED_DECIMAL_PRETTY_TEXT,this.estimate_formatted_decimal_pretty_text],[r.J.ESTIMATE_NUMBER_OF_DAYS,this.estimation_number_of_days]])),this.dataTypeToDecoratorToTemplate.set(s.U.EXTRA_TRAFFIC_LIGHT,new Map([[r.J.TRAFFIC_LIGHT,this.traffic_light]])),this.dataTypeToDecoratorToTemplate.set(s.U.HEX_COLOR,new Map([[r.J.HEX_COLOR,this.hex_color]])),this.dataTypeToDecoratorToTemplate.set(s.U.ICON,new Map([[r.J.ICON,this.icon]])),this.dataTypeToDecoratorToTemplate.set(s.U.ISSUE_TYPE,new Map([[r.J.ICON,this.issue_type_icon],[r.J.ICON_AND_NAME,this.issue_type_icon_and_name],[r.J.TEXT,this.issue_type_name]])),this.dataTypeToDecoratorToTemplate.set(s.U.KEY,new Map([[r.J.TASK_KEY,this.task_key]])),this.dataTypeToDecoratorToTemplate.set(s.U.LABELS,new Map([[r.J.LOZENGE_LINK,this.labels]])),this.dataTypeToDecoratorToTemplate.set(s.U.LINK,new Map([[r.J.LINK,this.link]])),this.dataTypeToDecoratorToTemplate.set(s.U.MILESTONE,new Map([[r.J.MILESTONE_ICON_AND_NAME,this.milestone_icon_and_name],[r.J.MILESTONE_ICON,this.milestone_icon],[r.J.MILESTONE_NAME,this.milestone_name]])),this.dataTypeToDecoratorToTemplate.set(s.U.MULTI_USER,new Map([[r.J.AVATAR,this.multi_user_avatar],[r.J.AVATAR_AND_NAME,this.multi_user_avatar_and_name],[r.J.TEXT,this.multi_user_name]])),this.dataTypeToDecoratorToTemplate.set(s.U.NUMBER,new Map([[r.J.LOZENGE,this.number_lozenge],[r.J.TEXT,this.number_text]])),this.dataTypeToDecoratorToTemplate.set(s.U.PERCENTAGE,new Map([[r.J.PERCENTAGE_LOZENGE,this.percentage_lozenge],[r.J.PERCENTAGE_TEXT,this.percentage_text]])),this.dataTypeToDecoratorToTemplate.set(s.U.PERIOD,new Map([[r.J.NONE,this.period]])),this.dataTypeToDecoratorToTemplate.set(s.U.PRIORITY,new Map([[r.J.ICON,this.priority_icon],[r.J.ICON_AND_NAME,this.priority_icon_and_name]])),this.dataTypeToDecoratorToTemplate.set(s.U.PROJECT,new Map([[r.J.ICON_AND_NAME,this.project_icon_and_name],[r.J.ICON_AND_NAME_WITH_LINK,this.project_icon_and_name_with_link],[r.J.TEXT,this.project_name]])),this.dataTypeToDecoratorToTemplate.set(s.U.PERIOD_MODE,new Map([[r.J.PERIOD_MODE_ICON_AND_NAME,this.period_mode_icon_and_name],[r.J.PERIOD_MODE_ICON,this.period_mode_icon],[r.J.PERIOD_MODE_NAME,this.period_mode_name]])),this.dataTypeToDecoratorToTemplate.set(s.U.RANK,new Map([[r.J.TEXT,this.rank]])),this.dataTypeToDecoratorToTemplate.set(s.U.SELECT,new Map([[r.J.TEXT,this.select_text],[r.J.LOZENGE,this.select_lozenge],[r.J.STYLED_TEXT,this.styled_text]])),this.dataTypeToDecoratorToTemplate.set(s.U.SIMPLIFIED_HTML,new Map([[r.J.RICH_TEXT,this.rich_text]])),this.dataTypeToDecoratorToTemplate.set(s.U.SPRINTS,new Map([[r.J.TEXT,this.sprints]])),this.dataTypeToDecoratorToTemplate.set(s.U.STATUS,new Map([[r.J.STATUS_DESCRIPTION,this.status_description],[r.J.STATUS_LOZENGE,this.status_lozenge]])),this.dataTypeToDecoratorToTemplate.set(s.U.STRING,new Map([[r.J.TEXT,this.string]])),this.dataTypeToDecoratorToTemplate.set(s.U.SUMMARY,new Map([[r.J.TEXT,this.summary]])),this.dataTypeToDecoratorToTemplate.set(s.U.TIMETRACKING,new Map([[r.J.LOGGED_AS_LOZENGE,this.time_tracking_logged_lozenge],[r.J.LOGGED_AS_TEXT,this.time_tracking_logged_text],[r.J.ORIGINAL_AS_LOZENGE,this.time_tracking_original_lozenge],[r.J.ORIGINAL_AS_TEXT,this.time_tracking_original_text],[r.J.PERCENTAGE_TEXT,this.time_tracking_percentage_text],[r.J.PROGRESS_BAR,this.time_tracking_progress_bar],[r.J.PROGRESS_BAR_AND_PERCENTAGE,this.time_tracking_progress_bar_and_percentage],[r.J.REMAINING_AS_LOZENGE,this.time_tracking_remaining_lozenge],[r.J.REMAINING_AS_TEXT,this.time_tracking_remaining_text]])),this.dataTypeToDecoratorToTemplate.set(s.U.URL_LINKS,new Map([[r.J.URL_LINKS,this.url_links]])),this.dataTypeToDecoratorToTemplate.set(s.U.USER,new Map([[r.J.AVATAR_AND_NAME,this.user_avatar_and_name],[r.J.AVATAR,this.user_avatar],[r.J.TEXT,this.user_name]])),this.dataTypeToDecoratorToTemplate.set(s.U.VERSION,new Map([[r.J.VERSION,this.version]])),this.dataTypeToDecoratorToTemplate.set(s.U.SUBTASK_STATUSES,new Map([[r.J.HISTOGRAM,this.subtask_statuses]])),this.dataTypeToDecoratorToTemplate.set(s.U.SUBTASK_STATUSES_PERCENTAGE,new Map([[r.J.HISTOGRAM,this.subtask_statuses_percentage]])),this.dataTypeToDecoratorToTemplate.set(s.U.SUBTASK_STATUS_CATEGORIES,new Map([[r.J.HISTOGRAM,this.subtask_status_categories]])),this.dataTypeToDecoratorToTemplate.set(s.U.TASK_STATUS_CATEGORIES_PERCENTAGE,new Map([[r.J.HISTOGRAM,this.task_status_categories_percentage]])),this.dataTypeToDecoratorToTemplate.set(s.U.SUBTASK_STATUS_CATEGORIES_PERCENTAGE,new Map([[r.J.HISTOGRAM,this.subtask_status_categories_percentage]])),this.dataTypeToDecoratorToTemplate.set(s.U.SUBTASK_VERSION,new Map([[r.J.HISTOGRAM,this.subtask_version]])),this.dataTypeToDecoratorToTemplate.set(s.U.SUBTASK_VERSION_PERCENTAGE,new Map([[r.J.HISTOGRAM,this.subtask_version_percentage]])),this.dataTypeToDecoratorToTemplate.set(s.U.SKILLS,new Map([[r.J.SKILLS_ICON_NAME,this.skills_icon_name],[r.J.SKILLS_ICON,this.skills_icon],[r.J.SKILLS_NAME,this.skills_name]])),this.dataTypeToDecoratorToTemplate.set(s.U.NONE,new Map([[r.J.NONE,this.none]]))}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=n.Xpm({type:e,selectors:[["sp-display-templates-component"]],viewQuery:function(e,t){if(1&e&&(n.Gf(o,5),n.Gf(a,5),n.Gf(l,5),n.Gf(d,7),n.Gf(c,5),n.Gf(p,5),n.Gf(u,5),n.Gf(h,5),n.Gf(g,5),n.Gf(f,5),n.Gf(m,5),n.Gf(T,5),n.Gf(E,5),n.Gf(v,5),n.Gf(I,5),n.Gf(y,5),n.Gf(C,5),n.Gf(x,5),n.Gf(D,5),n.Gf(b,5),n.Gf(w,5),n.Gf(S,5),n.Gf(A,5),n.Gf(R,5),n.Gf(_,5),n.Gf(N,5),n.Gf(L,5),n.Gf(O,5),n.Gf(F,5),n.Gf(M,5),n.Gf(U,5),n.Gf(k,5),n.Gf(B,5),n.Gf(V,5),n.Gf(G,5),n.Gf(P,5),n.Gf(Y,5),n.Gf(Z,5),n.Gf(z,5),n.Gf(J,5),n.Gf(H,5),n.Gf(q,5),n.Gf(Q,5),n.Gf($,5),n.Gf(j,5),n.Gf(W,5),n.Gf(K,5),n.Gf(X,5),n.Gf(ee,5),n.Gf(te,5),n.Gf(ie,5),n.Gf(se,5),n.Gf(re,5),n.Gf(ne,5),n.Gf(oe,5),n.Gf(ae,5),n.Gf(le,5),n.Gf(de,5),n.Gf(ce,5),n.Gf(pe,5),n.Gf(ue,5),n.Gf(he,5),n.Gf(ge,5),n.Gf(fe,5),n.Gf(me,5),n.Gf(Te,5),n.Gf(Ee,5),n.Gf(ve,5),n.Gf(Ie,5),n.Gf(ye,5),n.Gf(Ce,5),n.Gf(xe,5),n.Gf(De,5),n.Gf(be,5),n.Gf(we,5),n.Gf(Se,5),n.Gf(Ae,5),n.Gf(Re,5),n.Gf(_e,7),n.Gf(Ne,7),n.Gf(Le,7),n.Gf(Oe,5)),2&e){let e;n.iGM(e=n.CRH())&&(t.attachments=e.first),n.iGM(e=n.CRH())&&(t.multi_user_avatar=e.first),n.iGM(e=n.CRH())&&(t.multi_user_avatar_and_name=e.first),n.iGM(e=n.CRH())&&(t.multi_user_name=e.first),n.iGM(e=n.CRH())&&(t.box_type_value_lozenge=e.first),n.iGM(e=n.CRH())&&(t.builtin_color_icon=e.first),n.iGM(e=n.CRH())&&(t.builtin_color_icon_and_name=e.first),n.iGM(e=n.CRH())&&(t.builtin_color_name=e.first),n.iGM(e=n.CRH())&&(t.builtin_icon_icon_and_name=e.first),n.iGM(e=n.CRH())&&(t.builtin_icon_icon=e.first),n.iGM(e=n.CRH())&&(t.builtin_icon_name=e.first),n.iGM(e=n.CRH())&&(t.date=e.first),n.iGM(e=n.CRH())&&(t.date_time=e.first),n.iGM(e=n.CRH())&&(t.date_time_date=e.first),n.iGM(e=n.CRH())&&(t.due_date=e.first),n.iGM(e=n.CRH())&&(t.entity_key_link=e.first),n.iGM(e=n.CRH())&&(t.entity_key_text=e.first),n.iGM(e=n.CRH())&&(t.epic=e.first),n.iGM(e=n.CRH())&&(t.estimate_formatted_hours_text=e.first),n.iGM(e=n.CRH())&&(t.estimate_formatted_decimal_pretty_text=e.first),n.iGM(e=n.CRH())&&(t.estimate_formatted_pretty_text=e.first),n.iGM(e=n.CRH())&&(t.estimation_number_of_days=e.first),n.iGM(e=n.CRH())&&(t.hex_color=e.first),n.iGM(e=n.CRH())&&(t.icon=e.first),n.iGM(e=n.CRH())&&(t.issue_type_icon=e.first),n.iGM(e=n.CRH())&&(t.issue_type_icon_and_name=e.first),n.iGM(e=n.CRH())&&(t.issue_type_name=e.first),n.iGM(e=n.CRH())&&(t.labels=e.first),n.iGM(e=n.CRH())&&(t.link=e.first),n.iGM(e=n.CRH())&&(t.url_links=e.first),n.iGM(e=n.CRH())&&(t.milestone_icon=e.first),n.iGM(e=n.CRH())&&(t.milestone_icon_and_name=e.first),n.iGM(e=n.CRH())&&(t.milestone_name=e.first),n.iGM(e=n.CRH())&&(t.number_lozenge=e.first),n.iGM(e=n.CRH())&&(t.number_text=e.first),n.iGM(e=n.CRH())&&(t.percentage_text=e.first),n.iGM(e=n.CRH())&&(t.percentage_lozenge=e.first),n.iGM(e=n.CRH())&&(t.project_icon_and_name=e.first),n.iGM(e=n.CRH())&&(t.project_icon_and_name_with_link=e.first),n.iGM(e=n.CRH())&&(t.project_name=e.first),n.iGM(e=n.CRH())&&(t.priority_icon=e.first),n.iGM(e=n.CRH())&&(t.priority_icon_and_name=e.first),n.iGM(e=n.CRH())&&(t.time_tracking_logged_lozenge=e.first),n.iGM(e=n.CRH())&&(t.time_tracking_logged_text=e.first),n.iGM(e=n.CRH())&&(t.time_tracking_original_lozenge=e.first),n.iGM(e=n.CRH())&&(t.time_tracking_original_text=e.first),n.iGM(e=n.CRH())&&(t.time_tracking_percentage_text=e.first),n.iGM(e=n.CRH())&&(t.time_tracking_progress_bar=e.first),n.iGM(e=n.CRH())&&(t.time_tracking_progress_bar_and_percentage=e.first),n.iGM(e=n.CRH())&&(t.time_tracking_remaining_lozenge=e.first),n.iGM(e=n.CRH())&&(t.time_tracking_remaining_text=e.first),n.iGM(e=n.CRH())&&(t.period=e.first),n.iGM(e=n.CRH())&&(t.period_mode_icon=e.first),n.iGM(e=n.CRH())&&(t.period_mode_icon_and_name=e.first),n.iGM(e=n.CRH())&&(t.period_mode_name=e.first),n.iGM(e=n.CRH())&&(t.rank=e.first),n.iGM(e=n.CRH())&&(t.sprints=e.first),n.iGM(e=n.CRH())&&(t.status_lozenge=e.first),n.iGM(e=n.CRH())&&(t.status_description=e.first),n.iGM(e=n.CRH())&&(t.summary=e.first),n.iGM(e=n.CRH())&&(t.string=e.first),n.iGM(e=n.CRH())&&(t.task_key=e.first),n.iGM(e=n.CRH())&&(t.rich_text=e.first),n.iGM(e=n.CRH())&&(t.traffic_light=e.first),n.iGM(e=n.CRH())&&(t.version=e.first),n.iGM(e=n.CRH())&&(t.skills_icon_name=e.first),n.iGM(e=n.CRH())&&(t.skills_icon=e.first),n.iGM(e=n.CRH())&&(t.skills_name=e.first),n.iGM(e=n.CRH())&&(t.subtask_status_categories=e.first),n.iGM(e=n.CRH())&&(t.task_status_categories_percentage=e.first),n.iGM(e=n.CRH())&&(t.subtask_status_categories_percentage=e.first),n.iGM(e=n.CRH())&&(t.subtask_statuses=e.first),n.iGM(e=n.CRH())&&(t.subtask_statuses_percentage=e.first),n.iGM(e=n.CRH())&&(t.subtask_version=e.first),n.iGM(e=n.CRH())&&(t.subtask_version_percentage=e.first),n.iGM(e=n.CRH())&&(t.select_lozenge=e.first),n.iGM(e=n.CRH())&&(t.select_text=e.first),n.iGM(e=n.CRH())&&(t.styled_text=e.first),n.iGM(e=n.CRH())&&(t.user_avatar_and_name=e.first),n.iGM(e=n.CRH())&&(t.user_avatar=e.first),n.iGM(e=n.CRH())&&(t.user_name=e.first),n.iGM(e=n.CRH())&&(t.none=e.first)}},decls:164,vars:0,consts:[["attachments",""],["box_type_value_lozenge",""],["builtin_color_icon",""],["builtin_color_icon_and_name",""],["builtin_color_name",""],["builtin_icon_icon_and_name",""],["builtin_icon_icon",""],["builtin_icon_name",""],["date",""],["date_time",""],["date_time_date",""],["due_date",""],["entity_key_link",""],["entity_key_text",""],["epic",""],["estimate_formatted_decimal_pretty_text",""],["estimate_formatted_hours_text",""],["estimate_formatted_pretty_text",""],["estimation_number_of_days",""],["hex_color",""],["icon",""],["issue_type_icon",""],["issue_type_icon_and_name",""],["issue_type_name",""],["labels",""],["link",""],["url_links",""],["milestone_icon",""],["milestone_icon_and_name",""],["milestone_name",""],["multi_user_avatar",""],["multi_user_avatar_and_name",""],["multi_user_name",""],["number_lozenge",""],["number_text",""],["percentage_text",""],["percentage_lozenge",""],["project_icon_and_name",""],["project_icon_and_name_with_link",""],["project_name",""],["priority_icon",""],["priority_icon_and_name",""],["string",""],["time_tracking_logged_lozenge",""],["time_tracking_logged_text",""],["time_tracking_original_lozenge",""],["time_tracking_original_text",""],["time_tracking_percentage_text",""],["time_tracking_progress_bar",""],["time_tracking_progress_bar_and_percentage",""],["time_tracking_remaining_lozenge",""],["time_tracking_remaining_text",""],["period",""],["period_mode_icon",""],["period_mode_icon_and_name",""],["period_mode_name",""],["rank",""],["sprints",""],["status_description",""],["status_lozenge",""],["summary",""],["task_key",""],["rich_text",""],["traffic_light",""],["version",""],["skills_icon_name",""],["skills_name",""],["skills_icon",""],["subtask_status_categories",""],["task_status_categories_percentage",""],["subtask_status_categories_percentage",""],["subtask_statuses",""],["subtask_statuses_percentage",""],["subtask_version",""],["subtask_version_percentage",""],["select_lozenge",""],["select_text",""],["styled_text",""],["user_avatar",""],["user_avatar_and_name",""],["user_name",""],["none",""],[3,"tooltipEnabled","fieldDefinition","entity","dataValue","width"]],template:function(e,t){1&e&&(n.YNc(0,Fe,1,5,"ng-template",null,0,n.W1O),n.YNc(2,Me,1,5,"ng-template",null,1,n.W1O),n.YNc(4,Ue,1,5,"ng-template",null,2,n.W1O),n.YNc(6,ke,1,5,"ng-template",null,3,n.W1O),n.YNc(8,Be,1,5,"ng-template",null,4,n.W1O),n.YNc(10,Ve,1,5,"ng-template",null,5,n.W1O),n.YNc(12,Ge,1,5,"ng-template",null,6,n.W1O),n.YNc(14,Pe,1,5,"ng-template",null,7,n.W1O),n.YNc(16,Ye,1,5,"ng-template",null,8,n.W1O),n.YNc(18,Ze,1,5,"ng-template",null,9,n.W1O),n.YNc(20,ze,1,5,"ng-template",null,10,n.W1O),n.YNc(22,Je,1,5,"ng-template",null,11,n.W1O),n.YNc(24,He,1,5,"ng-template",null,12,n.W1O),n.YNc(26,qe,1,5,"ng-template",null,13,n.W1O),n.YNc(28,Qe,1,5,"ng-template",null,14,n.W1O),n.YNc(30,$e,1,5,"ng-template",null,15,n.W1O),n.YNc(32,je,1,5,"ng-template",null,16,n.W1O),n.YNc(34,We,1,5,"ng-template",null,17,n.W1O),n.YNc(36,Ke,1,5,"ng-template",null,18,n.W1O),n.YNc(38,Xe,1,5,"ng-template",null,19,n.W1O),n.YNc(40,et,1,5,"ng-template",null,20,n.W1O),n.YNc(42,tt,1,5,"ng-template",null,21,n.W1O),n.YNc(44,it,1,5,"ng-template",null,22,n.W1O),n.YNc(46,st,1,5,"ng-template",null,23,n.W1O),n.YNc(48,rt,1,5,"ng-template",null,24,n.W1O),n.YNc(50,nt,1,5,"ng-template",null,25,n.W1O),n.YNc(52,ot,1,5,"ng-template",null,26,n.W1O),n.YNc(54,at,1,5,"ng-template",null,27,n.W1O),n.YNc(56,lt,1,5,"ng-template",null,28,n.W1O),n.YNc(58,dt,1,5,"ng-template",null,29,n.W1O),n.YNc(60,ct,1,5,"ng-template",null,30,n.W1O),n.YNc(62,pt,1,5,"ng-template",null,31,n.W1O),n.YNc(64,ut,1,5,"ng-template",null,32,n.W1O),n.YNc(66,ht,1,5,"ng-template",null,33,n.W1O),n.YNc(68,gt,1,5,"ng-template",null,34,n.W1O),n.YNc(70,ft,1,5,"ng-template",null,35,n.W1O),n.YNc(72,mt,1,5,"ng-template",null,36,n.W1O),n.YNc(74,Tt,1,5,"ng-template",null,37,n.W1O),n.YNc(76,Et,1,5,"ng-template",null,38,n.W1O),n.YNc(78,vt,1,5,"ng-template",null,39,n.W1O),n.YNc(80,It,1,5,"ng-template",null,40,n.W1O),n.YNc(82,yt,1,5,"ng-template",null,41,n.W1O),n.YNc(84,Ct,1,5,"ng-template",null,42,n.W1O),n.YNc(86,xt,1,5,"ng-template",null,43,n.W1O),n.YNc(88,Dt,1,5,"ng-template",null,44,n.W1O),n.YNc(90,bt,1,5,"ng-template",null,45,n.W1O),n.YNc(92,wt,1,5,"ng-template",null,46,n.W1O),n.YNc(94,St,1,5,"ng-template",null,47,n.W1O),n.YNc(96,At,1,5,"ng-template",null,48,n.W1O),n.YNc(98,Rt,1,5,"ng-template",null,49,n.W1O),n.YNc(100,_t,1,5,"ng-template",null,50,n.W1O),n.YNc(102,Nt,1,5,"ng-template",null,51,n.W1O),n.YNc(104,Lt,1,5,"ng-template",null,52,n.W1O),n.YNc(106,Ot,1,5,"ng-template",null,53,n.W1O),n.YNc(108,Ft,1,5,"ng-template",null,54,n.W1O),n.YNc(110,Mt,1,5,"ng-template",null,55,n.W1O),n.YNc(112,Ut,1,5,"ng-template",null,56,n.W1O),n.YNc(114,kt,1,5,"ng-template",null,57,n.W1O),n.YNc(116,Bt,1,5,"ng-template",null,58,n.W1O),n.YNc(118,Vt,1,5,"ng-template",null,59,n.W1O),n.YNc(120,Gt,1,5,"ng-template",null,60,n.W1O),n.YNc(122,Pt,1,5,"ng-template",null,61,n.W1O),n.YNc(124,Yt,1,5,"ng-template",null,62,n.W1O),n.YNc(126,Zt,1,5,"ng-template",null,63,n.W1O),n.YNc(128,zt,1,5,"ng-template",null,64,n.W1O),n.YNc(130,Jt,1,5,"ng-template",null,65,n.W1O),n.YNc(132,Ht,1,5,"ng-template",null,66,n.W1O),n.YNc(134,qt,1,5,"ng-template",null,67,n.W1O),n.YNc(136,Qt,1,5,"ng-template",null,68,n.W1O),n.YNc(138,$t,1,5,"ng-template",null,69,n.W1O),n.YNc(140,jt,1,5,"ng-template",null,70,n.W1O),n.YNc(142,Wt,1,5,"ng-template",null,71,n.W1O),n.YNc(144,Kt,1,5,"ng-template",null,72,n.W1O),n.YNc(146,Xt,1,5,"ng-template",null,73,n.W1O),n.YNc(148,ei,1,5,"ng-template",null,74,n.W1O),n.YNc(150,ti,1,5,"ng-template",null,75,n.W1O),n.YNc(152,ii,1,5,"ng-template",null,76,n.W1O),n.YNc(154,si,1,5,"ng-template",null,77,n.W1O),n.YNc(156,ri,1,5,"ng-template",null,78,n.W1O),n.YNc(158,ni,1,5,"ng-template",null,79,n.W1O),n.YNc(160,oi,1,5,"ng-template",null,80,n.W1O),n.YNc(162,ai,1,5,"ng-template",null,81,n.W1O))},encapsulation:2,changeDetection:0}),e})()},4351:(e,t,i)=>{"use strict";i.d(t,{s:()=>d});var s=i(89932),r=(i(59634),i(94846)),n=i(18270),o=i(4562);function a(e,t){1&e&&r.GkF(0)}const l=function(e,t){return{entity:null,fieldDefinition:e,dataValue:t,width:null,tooltipEnabled:!1}};let d=(()=>{class e extends s.H{constructor(e,t,i){super(e,t),this.displayTemplatesFactory=i}ngOnChanges(e){var t;!this.templateRef&&(null===(t=e.dataValue)||void 0===t?void 0:t.currentValue)&&(this.templateRef=this.displayTemplatesFactory.getTemplate(this.dataValue.dataTypeId,this.fieldDefinition.getDecoratorType()))}getHostClasses(){return["sp-flex","sp-w-full","sp-h-full","sp-display-field","sp-align-items-center"]}}return e.\u0275fac=function(t){return new(t||e)(r.Y36(r.SBq),r.Y36(r.Qsj),r.Y36(n.D))},e.\u0275cmp=r.Xpm({type:e,selectors:[["sp-light-display-field-value"]],inputs:{dataValue:"dataValue",fieldDefinition:"fieldDefinition"},features:[r.qOj,r.TTD],decls:1,vars:5,consts:[[4,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(e,t){1&e&&r.YNc(0,a,1,0,"ng-container",0),2&e&&r.Q6J("ngTemplateOutlet",t.templateRef)("ngTemplateOutletContext",r.WLB(2,l,t.fieldDefinition,t.dataValue))},directives:[o.tP],encapsulation:2,changeDetection:0}),e})()},35699:(e,t,i)=>{"use strict";i.d(t,{F:()=>h});var s=i(4562),r=i(78268),n=i(99721),o=i(61917),a=i(95690);class l extends a.H{}var d=i(76642),c=i(69481),p=i(94846),u=i(27388);let h=(()=>{class e{constructor(e,t,i,s){this.formBuilder=e,this.changeDetectorRef=t,this.elementRef=i,this.document=s,this.destroy$=new r.xQ,this.initialData=!0,this.propagateTouched=()=>{},this.propagateChange=e=>{}}static throwErrorWhenDataValueHasNoCloneAbility(e){if(!e.clone)throw new Error(`Data value must have clone method. Provided data value ${e.dataTypeId} `)}finalize(){}ngOnInit(){if(this.editor instanceof d.x){this.entity=this.editor.getEntity(),this.editComponentFieldDefinition=this.editor.getFieldDefinition();const t=this.editComponentFieldDefinition.getDataValue(this.entity)||o.e.create({dataTypeId:this.editComponentFieldDefinition.getDataType().dataTypeType});e.throwErrorWhenDataValueHasNoCloneAbility(t);const i=t?t.clone():null,{formValues:s,formGroup:r}=this.createFormGroup(i);this.formGroup=r,this.editor.registerForm(this.formGroup,s,i),this.observeToClickOutside(),this.formGroupCreated()}this.init()}ngAfterViewInit(){this.focus&&this.handleFocus()}ngOnDestroy(){this.finalize(),this.destroy$.next(),this.editor.destroy()}getPlaceholder(){if(!this.editComponentFieldDefinition)return"";const e=`${this.editComponentFieldDefinition.getLabelName()}...`;return e.charAt(0).toUpperCase()+e.slice(1)}setEditor(e){this.editor=e}registerOnChange(e){this.propagateChange=e}registerOnTouched(e){this.propagateTouched=e}formGroupCreated(){}writeValue(e){if(!e.dataTypeId)throw new Error("EditComponent can work only with DataValue interface implementation");if(this.currentDataValueType=e.dataTypeId,this.initialData)this.handleInitialData(e),this.initialData=!1;else{if(e.dataTypeId!==this.currentDataValueType)throw new Error((e=>`Update cannot be handled dataTypeId mismatch. Provided dataTypeId: ${e.dataTypeId} \n\t\t\t\tExpected: ${e.currentDataValueType}`)(e));this.handleDataUpdate(e)}this.changeDetectorRef.detectChanges()}handleFocus(){}createFormFields(e){const t={};return e.forEach((e,i)=>{t[i]=[e.initValue,e.validators]}),t}registerStatusHandlers(){this.editor.handleValidStatus=()=>{this.propagateChange(this.editor.getDataValueForUpdate())}}handleInitialData(e){this.editor=new l;const{formValues:t,formGroup:i}=this.createFormGroup(e);this.formGroup=i,this.editor.registerForm(this.formGroup,t,e),this.registerStatusHandlers(),this.formGroupCreated()}handleDataUpdate(e){this.getFormValues(e,new Map).forEach((e,t)=>{this.formGroup.controls[t].setValue(e.initValue)})}createFormGroup(e){const t=this.getFormValues(e,new Map);if(!t)throw new Error("formValues are not returned from getFormValues in extending from EditComponent class");const i=this.createFormFields(t);return{formGroup:this.formBuilder.group(i),formValues:t}}observeToClickOutside(){new c.$(this.elementRef.nativeElement,document,{ignoredElement:e=>!!e.matches&&e.matches(this.elementToIgnoreOnClickOutsideSelector)}).pipe((0,n.R)(this.destroy$)).subscribe(()=>{this.editor&&this.editor.submit()})}}return e.\u0275fac=function(t){return new(t||e)(p.Y36(u.qu),p.Y36(p.sBO),p.Y36(p.SBq),p.Y36(s.K0))},e.\u0275cmp=p.Xpm({type:e,selectors:[["sp-edit-component"]],inputs:{focus:"focus",validationMessage:"validationMessage",editor:"editor"},decls:0,vars:0,template:function(e,t){},encapsulation:2,changeDetection:0}),e})()},1503:(e,t,i)=>{"use strict";i.d(t,{c:()=>s});class s{constructor(e,t,i){this.initValue=e,this.validators=t,this.dataValueFieldName=i}static of(e,t=[],i){return new s(e,t,i)}}},73711:(e,t,i)=>{"use strict";i.d(t,{d:()=>n});var s=i(94846),r=i(82723);let n=(()=>{class e{constructor(e){this.componentFactoryResolver=e,this.dataTypeToTemplateRef=new Map,this.createEditTemplates()}createEditTemplates(){const e=this.componentFactoryResolver.resolveComponentFactory(r.D),t=s.zs3.create({providers:[]}),i=e.create(t);i.changeDetectorRef.detectChanges(),this.dataTypeToTemplateRef=i.instance.getAllTemplates()}getTemplates(){return this.dataTypeToTemplateRef}}return e.\u0275fac=function(t){return new(t||e)(s.LFG(s._Vd))},e.\u0275prov=s.Yz7({token:e,factory:e.\u0275fac}),e})()},54093:(e,t,i)=>{"use strict";i.d(t,{X:()=>h});var s=i(94846),r=i(52667),n=(i(59634),i(53580)),o=(i(76642),i(73711)),a=i(10122),l=i(18155),d=i(89932),c=i(29830);const p=["container"];function u(e,t){}let h=(()=>{class e extends d.H{constructor(e,t,i,s,r,o,a,l,d,c){super(e,t),this.editTemplatesFactory=i,this.viewContainerRef=s,this.inlineEditShortcutsService=r,this.fieldValueErrorSubject$=o,this.changeDetectorRef=a,this.componentFactoryResolver=l,this.injector=d,this.dataTypeInstanceRepository=c,this.currentEditorStatus=n.I.DEFAULT}ngOnInit(){this.setEditTemplate(),this.observeShortcutHandlers(),this.observeForEditorStatus(),this.inlineEditShortcutsService.initShortcuts()}finalize(){this.inlineEditShortcutsService.destroyShortcuts()}setEditTemplate(){this.createEditComponent()}createEditComponent(){const e=this.resolveEditComponent(this.fieldDefinition.getDataType().getDataTypeType()),t=this.componentFactoryResolver.resolveComponentFactory(e),i=this.container.createComponent(t,void 0,this.injector);i.instance.setEditor(this.editor),i.instance.focus=!0}observeForEditorStatus(){this.editor.selectStatus().pipe(this.takeUntilDestroy()).subscribe(e=>{this.setClassDependsFromStatus(e)})}setClassDependsFromStatus(e){this.currentEditorStatus=e,e&n.I.PENDING&&this.domManipulator.addHostClass("sp-pending"),this.changeDetectorRef.detectChanges()}observeShortcutHandlers(){this.inlineEditShortcutsService.listen().pipe(this.takeUntilDestroy()).subscribe(e=>{switch(e){case a.L.SUBMIT:this.submitEdit();break;case a.L.CANCEL:this.cancelEdit()}})}submitEdit(){this.editor.submit()}cancelEdit(){this.editor.exit()}resolveEditComponent(e){return this.dataTypeInstanceRepository.get(e).getEditComponent()}}return e.\u0275fac=function(t){return new(t||e)(s.Y36(s.SBq),s.Y36(s.Qsj),s.Y36(o.d),s.Y36(s.s_b),s.Y36(l.O),s.Y36(c.R),s.Y36(s.sBO),s.Y36(s._Vd),s.Y36(s.zs3),s.Y36(r.v))},e.\u0275cmp=s.Xpm({type:e,selectors:[["sp-field-value-editor"]],viewQuery:function(e,t){if(1&e&&s.Gf(p,7,s.s_b),2&e){let e;s.iGM(e=s.CRH())&&(t.container=e.first)}},inputs:{fieldDefinition:"fieldDefinition",editor:"editor"},features:[s.qOj],decls:2,vars:0,consts:[["container",""]],template:function(e,t){1&e&&s.YNc(0,u,0,0,"ng-template",null,0,s.W1O)},styles:["sp-field-value-editor{display:flex;flex:1;position:relative}sp-field-value-editor.sp-empty .sp-inline-edit-control,sp-field-value-editor.sp-pending .sp-inline-edit-control{background-color:var(--gray-10);border-color:var(--gray-30)}sp-field-value-editor.sp-pending .sp-inline-edit-control{color:var(--gray-100)}sp-field-value-editor.sp-changed .sp-inline-edit-control,sp-field-value-editor.sp-default .sp-inline-edit-control{background:var(--color-bg);border-color:var(--blue-100)}sp-field-value-editor.sp-marked .sp-inline-edit-control{background:var(--color-bg);border-color:var(--danger)}"],encapsulation:2,changeDetection:0}),e})()},4106:(e,t,i)=>{"use strict";i.d(t,{Z:()=>a});var s=i(78268),r=i(42028),n=i(68387),o=i(94846);let a=(()=>{class e{constructor(){this.editStatus$=new s.xQ,this.locked=!1}selectEditStatus(){return this.editStatus$.asObservable()}reportEditStart(){this.editStatus$.next(!0)}reportEditEnd(){this.editStatus$.next(!1)}observeEditStart(){return this.editStatus$.pipe((0,r.h)(e=>e),(0,n.U)(()=>null))}isLocked(){return this.locked}lock(){this.locked=!0}unlock(){this.locked=!1}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=o.Yz7({token:e,factory:e.\u0275fac}),e})()},7585:(e,t,i)=>{"use strict";i.d(t,{$:()=>I});var s=i(4562),r=i(94846),n=i(27388),o=i(51194),a=i(35699),l=i(1503),d=i(5566),c=i(29690),p=i(56469),u=i(79873),h=i(12465),g=i(28517),f=i(36377);function m(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"sp-select-data-type-edit-control",3),r.NdJ("valueSelected",function(){r.CHM(e);const t=r.oxw(2);return t.propagateTouched(),t.editor.submit()})("click",function(t){return r.CHM(e),r.oxw(2).stopPropagation(t)}),r.qZA()}if(2&e){const e=r.oxw(2);r.Q6J("configuration",e.selectConfiguration)("options",e.colorOptions)("formControlName",e.colorDataTypeEditComponentFields.BUILTIN_COLOR)("selectDataTypeEditControlConfig",e.selectDataTypeEditControlConfig)}}function T(e,t){if(1&e&&(r.TgZ(0,"div",1),r.YNc(1,m,1,4,"sp-select-data-type-edit-control",2),r.qZA()),2&e){const e=r.oxw();r.Q6J("formGroup",e.formGroup),r.xp6(1),r.Q6J("ngIf",e.selectReady)}}var E=(()=>(function(e){e.BUILTIN_COLOR="value"}(E||(E={})),E))();const v={provide:n.JU,useExisting:(0,r.Gpc)(()=>I),multi:!0};class I extends a.F{constructor(e,t,i,s,r){super(e,t,s,r),this.changeDetectorRef=t,this.renderer=i,this.elementRef=s,this.menuOpenedOnCreation=!0,this.colorDataTypeEditComponentFields=E,this.elementToIgnoreOnClickOutsideSelector="#sp-builtin-color-inline-edit-options-menu",this.selectConfiguration=(new g.w).withOptionsMenuWidth(I.SELECT_MENU_WIDTH).withSearchFieldAvailable().withSelectInputPlaceholder("Search...").withPrefixForId("sp-builtin-color-inline-edit"),this.selectDataTypeEditControlConfig=(new o.Y.Builder).withFilteredCallback(this.isDefault).build(),this.selectReady=!1,this.colors=Object.keys(u.W)}init(){this.buildOptionsFromColors(),this.renderer.addClass(this.elementRef.nativeElement,"sp-w-full"),this.renderer.addClass(this.elementRef.nativeElement,"sp-h-full"),this.menuOpenedOnCreation&&this.selectConfiguration.withOpenedMenuOnCreation(),this.selectReady=!0,this.changeDetectorRef.detectChanges()}stopPropagation(e){e.stopPropagation()}getFormValues(e,t){return t.set("value",l.c.of(e?e.value:"",[])),t}buildOptionsFromColors(){this.colorOptions=this.colors.map(e=>{const t=this.convertToColorLabel(u.W[e]);return new h.W(e,p.H.string(t)).withIcon(new c.O("font-awesome-circle",d.B[e])).withIconCssClass("sp-mr-2")})}convertToColorLabel(e){return e.colorName.charAt(0).toUpperCase()+e.colorName.slice(1).toLowerCase().replace("_"," ")}isDefault(e,t){return e===I.DEFAULT_WRITE_VALUE&&t===I.DEFAULT_COLOR}}I.DEFAULT_WRITE_VALUE="DEFAULT",I.DEFAULT_COLOR=d.B.MEDIUM_GRAY.colorName,I.SELECT_MENU_WIDTH="352px",I.\u0275fac=function(e){return new(e||I)(r.Y36(n.qu),r.Y36(r.sBO),r.Y36(r.Qsj),r.Y36(r.SBq),r.Y36(s.K0))},I.\u0275cmp=r.Xpm({type:I,selectors:[["sp-builtin-color-data-type-edit"]],inputs:{menuOpenedOnCreation:"menuOpenedOnCreation"},features:[r._Bn([v]),r.qOj],decls:1,vars:1,consts:[["class","sp-inline-edit-group",3,"formGroup",4,"ngIf"],[1,"sp-inline-edit-group",3,"formGroup"],[3,"configuration","options","formControlName","selectDataTypeEditControlConfig","valueSelected","click",4,"ngIf"],[3,"configuration","options","formControlName","selectDataTypeEditControlConfig","valueSelected","click"]],template:function(e,t){1&e&&r.YNc(0,T,2,2,"div",0),2&e&&r.Q6J("ngIf",t.formGroup)},directives:[s.O5,n.JL,n.sg,f.c,n.JJ,n.u],styles:[".sp-inline-edit-group{height:100%}.sp-inline-edit-group .sp-inline-edit-number,.sp-inline-edit-group .sp-inline-edit-string{outline:none;border:2px solid var(--blue-100)}.sp-marked .sp-inline-edit-number,.sp-marked .sp-inline-edit-string{border:2px solid var(--danger)}.sp-inline-edit-control{width:100%;height:100%;background-color:var(--gray-10)}.sp-inline-edit-control:focus{border:2px solid var(--blue-100)}.sp-inline-edit-control.ng-invalid:focus{border:2px solid var(--danger)}"],encapsulation:2,changeDetection:0})},8822:(e,t,i)=>{"use strict";i.d(t,{V:()=>p});var s=i(4562),r=i(94846),n=i(27388),o=i(35699),a=i(1503),l=i(9794),d=(()=>(function(e){e.DATE="value"}(d||(d={})),d))();const c={provide:n.JU,useExisting:(0,r.Gpc)(()=>p),multi:!0};let p=(()=>{class e extends o.F{constructor(e,t,i,s,r){super(e,t,s,r),this.renderer=i,this.elementRef=s,this.elementToIgnoreOnClickOutsideSelector="sp-date-picker-dropdown",this.dateDataTypeEditComponentFields=d}getFormValues(e,t){return t.set("value",a.c.of(e.value?e.value:"",[])),t}init(){this.renderer.addClass(this.elementRef.nativeElement,"sp-w-full"),this.renderer.addClass(this.elementRef.nativeElement,"sp-h-full")}}return e.\u0275fac=function(t){return new(t||e)(r.Y36(n.qu),r.Y36(r.sBO),r.Y36(r.Qsj),r.Y36(r.SBq),r.Y36(s.K0))},e.\u0275cmp=r.Xpm({type:e,selectors:[["sp-date-data-type-edit"]],features:[r._Bn([c]),r.qOj],decls:2,vars:2,consts:[[1,"sp-inline-edit-group",3,"formGroup"],[3,"formControlName","valueSelected","click"]],template:function(e,t){1&e&&(r.TgZ(0,"div",0),r.TgZ(1,"sp-date-picker-date-string-control",1),r.NdJ("valueSelected",function(){return t.editor.submit()})("click",function(e){return e.stopPropagation()}),r.qZA(),r.qZA()),2&e&&(r.Q6J("formGroup",t.editor.getForm()),r.xp6(1),r.Q6J("formControlName",t.dateDataTypeEditComponentFields.DATE))},directives:[n.JL,n.sg,l.P,n.JJ,n.u],styles:[".sp-inline-edit-group{height:100%}.sp-inline-edit-group .sp-inline-edit-number,.sp-inline-edit-group .sp-inline-edit-string{outline:none;border:2px solid var(--blue-100)}.sp-marked .sp-inline-edit-number,.sp-marked .sp-inline-edit-string{border:2px solid var(--danger)}.sp-inline-edit-control{width:100%;height:100%;background-color:var(--gray-10)}.sp-inline-edit-control:focus{border:2px solid var(--blue-100)}.sp-inline-edit-control.ng-invalid:focus{border:2px solid var(--danger)}input.sp-form-control{height:100%}"],encapsulation:2,changeDetection:0}),e})()},34930:(e,t,i)=>{"use strict";i.d(t,{J:()=>x});var s=i(4562),r=i(94846),n=i(27388),o=i(6709),a=i(99721);function l(e){return function(t,i,s){if(null!=s.value)s.value=c(s.value,e);else{if(null==s.get)throw"Only put a Memoize() decorator on a method or get accessor.";s.get=c(s.get,e)}}}var d=0;function c(e,t){var i=++d;return function(){for(var s=[],r=0;r<arguments.length;r++)s[r]=arguments[r];var n,o="__memoized_value_"+i,a="__memoized_map_"+i;if(t||s.length>0){this.hasOwnProperty(a)||Object.defineProperty(this,a,{configurable:!1,enumerable:!1,writable:!1,value:new Map});var l=this[a],d=void 0;d=t?t.apply(this,s):s[0],l.has(d)?n=l.get(d):(n=e.apply(this,s),l.set(d,n))}else this.hasOwnProperty(o)?n=this[o]:(n=e.apply(this,s),Object.defineProperty(this,o,{configurable:!1,enumerable:!1,writable:!1,value:n}));return n}}i(59634);var p=i(36441),u=i(35699),h=i(1503),g=i(73316);let f=(()=>{class e extends g.${static validateTimeUnit(){return t=>null==t.value||t.value.match("(\\d+(.[\\d]+)?[wdhym]?$)|(^\\d*((.\\d+)|(,\\d+))$)")?null:{timeUnit:e.ERROR_KEY,empty:"",valid:!1}}}return e.ERROR_KEY="SPT_COMMON_VALIDATOR_TIME_UNIT",e})();var m=i(70918),T=i(86179),E=function(e,t,i,s){var r,n=arguments.length,o=n<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,i,s);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(o=(n<3?r(o):n>3?r(t,i,o):r(t,i))||o);return n>3&&o&&Object.defineProperty(t,i,o),o},v=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};const I=["input"];var y=(()=>(function(e){e.VALUE="value"}(y||(y={})),y))();const C={provide:n.JU,useExisting:(0,r.Gpc)(()=>x),multi:!0};class x extends u.F{constructor(e,t,i,s,r,n,o){super(e,t,s,o),this.renderer=i,this.elementRef=s,this.validationDotFactory=r,this.l10nTextService=n,this.estimationDataTypeEditComponentFields=y,this.validationDot=null}init(){this.renderer.addClass(this.elementRef.nativeElement,"sp-w-full"),this.renderer.addClass(this.elementRef.nativeElement,"sp-h-full")}finalize(){this.removeValidationDot()}formGroupCreated(){this.formGroup.get(this.initialAccessor).valueChanges.pipe((0,a.R)(this.destroy$)).subscribe(e=>{if(this.validateEstimationCharacters(e)){const t=this.resolveDecorator(e);if(this.currentDecoratorType!==t){const e=this.editor.getEditFormEntityMap().get(this.initialAccessor);this.currentDecoratorType=t;const i=this.getAccessorForDecoratorType(this.currentDecoratorType);this.editor.getEditFormEntityMap().set(this.initialAccessor,h.c.of(e.initValue,e.validators,i))}return this.prevValue=e,void(this.validationDot&&this.removeValidationDot())}this.validationDot||this.addValidationDot(),this.formGroup.get(this.initialAccessor).setValue(this.prevValue,{emitEvent:!1})})}getFormValues(e,t){this.currentDecoratorType=this.editComponentFieldDefinition&&this.editComponentFieldDefinition.getDecoratorType()||this.fieldDefinition.getDecoratorType();const i=this.getValueForDecoratorType(e,this.currentDecoratorType);return this.initialAccessor=this.getAccessorForDecoratorType(this.currentDecoratorType),this.prevValue=i,t.set(this.initialAccessor,h.c.of(i,[f.validateTimeUnit()],this.initialAccessor)),t}validateEstimationCharacters(e){return this.validateCharacter(e)||e.length<this.prevValue.length&&this.characterExistsInPreviousValues(e,this.prevValue)}getFromControlName(){return this.initialAccessor}stopPropagation(e){e.stopPropagation()}handleFocus(){this.inputRef&&this.inputRef.nativeElement.focus()}validateCharacter(e){return e.split(" ").map(e=>!!this.isDecimalNumber(e)||!!this.isTimeUnit(e)||""===e).every(e=>!!e)}resolveDecorator(e){const t=e.trim();return this.isDecimalWithDotOnly(t)?p.J.ESTIMATE_FORMATTED_DECIMAL_PRETTY_TEXT:this.isHoursUnit(t)?p.J.ESTIMATE_FORMATTED_HOURS_TEXT:p.J.ESTIMATE_FORMATTED_PRETTY_TEXT}getValueForDecoratorType(e,t){switch(t){case p.J.ESTIMATE_FORMATTED_DECIMAL_PRETTY_TEXT:return e.estimateFormattedDecimalHours;case p.J.ESTIMATE_FORMATTED_HOURS_TEXT:return e.estimateFormattedHours;case p.J.ESTIMATE_FORMATTED_PRETTY_TEXT:return e.estimateFormattedPretty;case p.J.ESTIMATE_NUMBER_OF_DAYS:return e.numberOfDays.toString();default:throw new Error("Cannot retrieve data from not handled DecoratorType")}}getAccessorForDecoratorType(e){switch(e){case p.J.ESTIMATE_FORMATTED_DECIMAL_PRETTY_TEXT:return"estimateFormattedDecimalHours";case p.J.ESTIMATE_FORMATTED_HOURS_TEXT:return"estimateFormattedHours";case p.J.ESTIMATE_FORMATTED_PRETTY_TEXT:return"estimateFormattedPretty";case p.J.ESTIMATE_NUMBER_OF_DAYS:return"numberOfDays";default:throw new Error("Cannot retrieve data from not handled DecoratorType")}}characterExistsInPreviousValues(e,t){return e===t.slice(0,-1)}isDecimalNumber(e){return!!e.match("^[0-9-\\s][\\.\\d\\s]*(,\\d+)?$")}isTimeUnit(e){return!!e.match("\\d+(.[\\d]+)?([wdhym])\\1{0}$")}isHoursUnit(e){return!!e.match("^\\d+[h]$")}isDecimalWithDotOnly(e){return!!e.match("^\\d+\\.\\d{0,2}$")}addValidationDot(){this.validationDot=this.validationDotFactory.create(this.elementRef,[this.l10nTextService.translate(f.ERROR_KEY),""],m.G.default().build(),!1)}removeValidationDot(){this.validationDot&&(this.validationDot.destroy(),this.validationDot=null)}}x.\u0275fac=function(e){return new(e||x)(r.Y36(n.qu),r.Y36(r.sBO),r.Y36(r.Qsj),r.Y36(r.SBq),r.Y36(T.y),r.Y36(o.e),r.Y36(s.K0))},x.\u0275cmp=r.Xpm({type:x,selectors:[["sp-estimation-data-type-edit"]],viewQuery:function(e,t){if(1&e&&r.Gf(I,7),2&e){let e;r.iGM(e=r.CRH())&&(t.inputRef=e.first)}},inputs:{fieldDefinition:"fieldDefinition"},features:[r._Bn([C]),r.qOj],decls:3,vars:2,consts:[[1,"sp-inline-edit-group",3,"formGroup"],["type","text",1,"sp-inline-edit-string","sp-border-rounded","sp-px-2","sp-inline-edit-control",3,"formControlName","click"],["input",""]],template:function(e,t){1&e&&(r.TgZ(0,"div",0),r.TgZ(1,"input",1,2),r.NdJ("click",function(e){return t.stopPropagation(e)}),r.qZA(),r.qZA()),2&e&&(r.Q6J("formGroup",t.formGroup),r.xp6(1),r.Q6J("formControlName",t.getFromControlName()))},directives:[n.JL,n.sg,n.Fj,n.JJ,n.u],styles:[".sp-inline-edit-group{height:100%}.sp-inline-edit-group .sp-inline-edit-number,.sp-inline-edit-group .sp-inline-edit-string{outline:none;border:2px solid var(--blue-100)}.sp-marked .sp-inline-edit-number,.sp-marked .sp-inline-edit-string{border:2px solid var(--danger)}.sp-inline-edit-control{width:100%;height:100%;background-color:var(--gray-10)}.sp-inline-edit-control:focus{border:2px solid var(--blue-100)}.sp-inline-edit-control.ng-invalid:focus{border:2px solid var(--danger)}"],encapsulation:2,changeDetection:0}),E([l(),v("design:type",Function),v("design:paramtypes",[String]),v("design:returntype",Boolean)],x.prototype,"validateCharacter",null),E([l(),v("design:type",Function),v("design:paramtypes",[String]),v("design:returntype",String)],x.prototype,"resolveDecorator",null)},5050:(e,t,i)=>{"use strict";i.d(t,{L:()=>I});var s=i(4562),r=i(94846),n=i(27388),o=i(51194),a=i(35699),l=i(1503),d=i(5566),c=i(56469),p=i(12465),u=i(28517),h=i(1680),g=i(36713),f=i(91216);function m(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"div",1),r.TgZ(1,"sp-select",2),r.NdJ("click",function(e){return e.stopPropagation()})("selectedOptionChanged",function(t){return r.CHM(e),r.oxw().onSelectOptionChange(t)}),r.TgZ(2,"div",3),r._UZ(3,"sp-icon",4),r.TgZ(4,"div",5),r.TgZ(5,"div",6),r._uU(6),r.ALo(7,"spL10nText"),r.qZA(),r._UZ(8,"span",7),r.qZA(),r.qZA(),r.qZA(),r.qZA()}if(2&e){const e=r.oxw();r.Q6J("formGroup",e.formGroup),r.xp6(1),r.Q6J("configuration",e.selectConfiguration)("options",e.milestoneOptions),r.xp6(2),r.Q6J("iconId",e.placeholderPrefixIconId)("color",e.placeholderPrefixIconColor.backgroundStyle)("ngClass",e.placeholderPrefixIconCssClass),r.xp6(3),r.Oqu(r.lcZ(7,7,"SPT_DATA_TYPE_MILESTONE"))}}const T={provide:n.JU,useExisting:(0,r.Gpc)(()=>I),multi:!0};var E=(()=>(function(e){e.MILESTONE="MILESTONE",e.TASK="TASK"}(E||(E={})),E))(),v=(()=>(function(e){e.MILESTONE="value"}(v||(v={})),v))();let I=(()=>{class e extends a.F{constructor(e,t,i,s,r){super(e,t,s,r),this.changeDetectorRef=t,this.renderer=i,this.elementRef=s,this.formControl=new n.NI,this.isSelected=!1,this.milestoneDataTypeEditComponentFields=v,this.placeholderPrefixIconId="font-awesome-square",this.placeholderPrefixIconColor=d.B.MEDIUM_GRAY,this.placeholderPrefixIconCssClass="sp-edit-milestone__icon",this.elementToIgnoreOnClickOutsideSelector="#sp-milestone-inline-edit-options-menu",this.milestoneOptions=[],this.selectConfiguration=(new u.w).withMultiSelect().withSelectButtonPlaceholder(this.convertToMilestoneLabel(E.MILESTONE)).withOpenedMenuOnCreation().withCustomButton().withPrefixForId("sp-milestone-inline-edit"),this.selectDataTypeEditControlConfig=(new o.Y.Builder).build()}init(){this.buildOptionFromMilestone(),this.changeDetectorRef.detectChanges(),this.renderer.addClass(this.elementRef.nativeElement,"sp-w-full"),this.renderer.addClass(this.elementRef.nativeElement,"sp-h-full"),this.renderer.addClass(this.elementRef.nativeElement,"sp-display-block")}getFormValues(e,t){const i=e?e.value:"";return this.isSelected=this.isMilestone(i),t.set("value",l.c.of(i,[])),t}onSelectOptionChange(e){const t=e.selected?E.MILESTONE:E.TASK;this.editor.getEditFormEntityMap().set(v.MILESTONE,l.c.of(t)),this.formGroup.get(v.MILESTONE).setValue(t),this.editor.submit()}buildOptionFromMilestone(){this.milestoneOptions=[new p.W(E.MILESTONE,c.H.string(this.convertToMilestoneLabel(E.MILESTONE)),c.H.string(""),this.isSelected)]}convertToMilestoneLabel(e){return e[0].toUpperCase()+e.slice(1).toLowerCase()}isMilestone(e){return e===E.MILESTONE}}return e.DEFAULT_VALUES=["MILESTONE"],e.\u0275fac=function(t){return new(t||e)(r.Y36(n.qu),r.Y36(r.sBO),r.Y36(r.Qsj),r.Y36(r.SBq),r.Y36(s.K0))},e.\u0275cmp=r.Xpm({type:e,selectors:[["sp-milestone-data-type-edit"]],inputs:{formControl:"formControl"},features:[r._Bn([T]),r.qOj],decls:1,vars:1,consts:[["class","sp-inline-edit-group sp-flex sp-align-items-center sp-w-full sp-h-full",3,"formGroup",4,"ngIf"],[1,"sp-inline-edit-group","sp-flex","sp-align-items-center","sp-w-full","sp-h-full",3,"formGroup"],[3,"configuration","options","click","selectedOptionChanged"],[1,"sp-select-custom-button","sp-w-full","sp-h-full","sp-flex","sp-align-items-center"],[3,"iconId","color","ngClass"],[1,"sp-w-full","sp-truncate","sp-flex","sp-justify-content-between","sp-align-items-center"],[1,"sp-pl-2"],[1,"fa","fa-chevron-down"]],template:function(e,t){1&e&&r.YNc(0,m,9,9,"div",0),2&e&&r.Q6J("ngIf",t.formGroup)},directives:[s.O5,n.JL,n.sg,h.Hr,g.o,s.mk],pipes:[f.L],styles:[".sp-inline-edit-group{height:100%}.sp-inline-edit-group .sp-inline-edit-number,.sp-inline-edit-group .sp-inline-edit-string{outline:none;border:2px solid var(--blue-100)}.sp-marked .sp-inline-edit-number,.sp-marked .sp-inline-edit-string{border:2px solid var(--danger)}.sp-inline-edit-control{width:100%;height:100%;background-color:var(--gray-10)}.sp-inline-edit-control:focus{border:2px solid var(--blue-100)}.sp-inline-edit-control.ng-invalid:focus{border:2px solid var(--danger)}.sp-edit-milestone__icon{width:16px;height:16px;transform:rotate(45deg)}"],encapsulation:2,changeDetection:0}),e})()},7049:(e,t,i)=>{"use strict";i.d(t,{a:()=>p});var s=i(4562),r=i(94846),n=i(27388),o=i(35699),a=i(1503);const l=["input"];var d=(()=>(function(e){e.NUMBER="number"}(d||(d={})),d))();const c={provide:n.JU,useExisting:(0,r.Gpc)(()=>p),multi:!0};let p=(()=>{class e extends o.F{constructor(e,t,i,s,r){super(e,t,s,r),this.renderer=i,this.elementRef=s,this.numberDataTypeEditComponentFields=d}init(){this.renderer.addClass(this.elementRef.nativeElement,"sp-w-full"),this.renderer.addClass(this.elementRef.nativeElement,"sp-h-full")}stopPropagation(e){e.stopPropagation()}getFormValues(e,t){const i=e&&e.number?e.number.toString():"";return t.set("number",a.c.of(i,[])),t}handleFocus(){this.inputRef&&this.inputRef.nativeElement.focus()}}return e.\u0275fac=function(t){return new(t||e)(r.Y36(n.qu),r.Y36(r.sBO),r.Y36(r.Qsj),r.Y36(r.SBq),r.Y36(s.K0))},e.\u0275cmp=r.Xpm({type:e,selectors:[["sp-number-data-type-edit"]],viewQuery:function(e,t){if(1&e&&r.Gf(l,7),2&e){let e;r.iGM(e=r.CRH())&&(t.inputRef=e.first)}},features:[r._Bn([c]),r.qOj],decls:3,vars:3,consts:[[1,"sp-inline-edit-group",3,"formGroup"],["type","number",1,"sp-inline-edit-number","sp-border-rounded","sp-px-2","sp-inline-edit-control",3,"formControlName","click"],["input",""]],template:function(e,t){1&e&&(r.TgZ(0,"div",0),r.TgZ(1,"input",1,2),r.NdJ("click",function(e){return t.stopPropagation(e)}),r.qZA(),r.qZA()),2&e&&(r.Q6J("formGroup",t.formGroup),r.xp6(1),r.Q6J("formControlName",t.numberDataTypeEditComponentFields.NUMBER),r.uIk("placeholder",t.getPlaceholder()))},directives:[n.JL,n.sg,n.wV,n.Fj,n.JJ,n.u],styles:[".sp-inline-edit-group{height:100%}.sp-inline-edit-group .sp-inline-edit-number,.sp-inline-edit-group .sp-inline-edit-string{outline:none;border:2px solid var(--blue-100)}.sp-marked .sp-inline-edit-number,.sp-marked .sp-inline-edit-string{border:2px solid var(--danger)}.sp-inline-edit-control{width:100%;height:100%;background-color:var(--gray-10)}.sp-inline-edit-control:focus{border:2px solid var(--blue-100)}.sp-inline-edit-control.ng-invalid:focus{border:2px solid var(--danger)}"],encapsulation:2,changeDetection:0}),e})()},43259:(e,t,i)=>{"use strict";i.d(t,{f:()=>E});var s=i(35699),r=i(94846),n=i(1503),o=i(12465),a=i(56469),l=i(77043),d=i(29690),c=i(5566),p=i(28517),u=i(27388),h=i(4562),g=i(36377);function f(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"div",1),r.TgZ(1,"sp-select-data-type-edit-control",2),r.NdJ("valueSelected",function(){r.CHM(e);const t=r.oxw();return t.propagateTouched(),t.editor.submit()})("click",function(e){return e.stopPropagation()}),r.qZA(),r.qZA()}if(2&e){const e=r.oxw();r.Q6J("formGroup",e.formGroup),r.xp6(1),r.Q6J("configuration",e.selectConfiguration)("options",e.periodModeOptions)("formControlName",e.periodModeTypeEditComponentFields.PERIOD_MODE)}}var m=(()=>(function(e){e.PERIOD_MODE="value"}(m||(m={})),m))();const T={provide:u.JU,useExisting:(0,r.Gpc)(()=>E),multi:!0};let E=(()=>{class e extends s.F{constructor(t,i,s,r,n){super(t,i,r,n),this.changeDetectorRef=i,this.renderer=s,this.elementRef=r,this.periodModeTypeEditComponentFields=m,this.periodModeOptions=[],this.elementToIgnoreOnClickOutsideSelector="#sp-period-mode-inline-edit-options-menu",this.selectConfiguration=(new p.w).withOptionsMenuWidth(e.SELECT_MENU_WIDTH).withOpenedMenuOnCreation().withPrefixForId("sp-period-mode-inline-edit")}init(){this.buildOptionsFromPeriodModes(),this.changeDetectorRef.detectChanges(),this.renderer.addClass(this.elementRef.nativeElement,"sp-w-full"),this.renderer.addClass(this.elementRef.nativeElement,"sp-h-full"),this.renderer.addClass(this.elementRef.nativeElement,"sp-display-block")}getFormValues(e,t){return t.set("value",n.c.of(e?e.value:"",[])),t}buildOptionsFromPeriodModes(){this.periodModeOptions=e.PERIOD_MODES.map(e=>{const t=l.J.getPeriodModeLabel(e),i=l.J.getPeriodModeIcon(e);return new o.W(e,a.H.string(t)).withIcon(new d.O(i,c.B.SLATE)).withIconCssClass("sp-mx-1 sp-period-mode-data-type-edit-icon")})}}return e.PERIOD_MODES=["MANUAL","LOCKED","AUTO_BOTTOM_UP","AUTO_TOP_DOWN"],e.SELECT_MENU_WIDTH="160px",e.\u0275fac=function(t){return new(t||e)(r.Y36(u.qu),r.Y36(r.sBO),r.Y36(r.Qsj),r.Y36(r.SBq),r.Y36(h.K0))},e.\u0275cmp=r.Xpm({type:e,selectors:[["sp-period-mode-data-type-edit"]],features:[r._Bn([T]),r.qOj],decls:1,vars:1,consts:[["class","sp-inline-edit-group",3,"formGroup",4,"ngIf"],[1,"sp-inline-edit-group",3,"formGroup"],[3,"configuration","options","formControlName","valueSelected","click"]],template:function(e,t){1&e&&r.YNc(0,f,2,4,"div",0),2&e&&r.Q6J("ngIf",t.formGroup)},directives:[h.O5,u.JL,u.sg,g.c,u.JJ,u.u],styles:[".sp-inline-edit-group{height:100%}.sp-inline-edit-group .sp-inline-edit-number,.sp-inline-edit-group .sp-inline-edit-string{outline:none;border:2px solid var(--blue-100)}.sp-marked .sp-inline-edit-number,.sp-marked .sp-inline-edit-string{border:2px solid var(--danger)}.sp-inline-edit-control{width:100%;height:100%;background-color:var(--gray-10)}.sp-inline-edit-control:focus{border:2px solid var(--blue-100)}.sp-inline-edit-control.ng-invalid:focus{border:2px solid var(--danger)}sp-period-mode-data-type-edit .sp-select-button.sp-select-button-active.sp-btn .sp-icon__icon{color:var(--gray-0)!important}"],encapsulation:2,changeDetection:0}),e})()},38625:(e,t,i)=>{"use strict";i.d(t,{f:()=>p});var s=i(4562),r=i(94846),n=i(27388),o=i(35699),a=i(1503);const l=["input"];var d=(()=>(function(e){e.VALUE="value"}(d||(d={})),d))();const c={provide:n.JU,useExisting:(0,r.Gpc)(()=>p),multi:!0};let p=(()=>{class e extends o.F{constructor(e,t,i,s,r){super(e,t,s,r),this.renderer=i,this.elementRef=s,this.stringDataTypeEditComponentFields=d}init(){this.renderer.addClass(this.elementRef.nativeElement,"sp-w-full"),this.renderer.addClass(this.elementRef.nativeElement,"sp-h-full")}getFormValues(e,t){return t.set("value",a.c.of(e?e.value:"",[])),t}stopPropagation(e){e.stopPropagation()}handleFocus(){this.inputRef&&this.inputRef.nativeElement.focus()}}return e.\u0275fac=function(t){return new(t||e)(r.Y36(n.qu),r.Y36(r.sBO),r.Y36(r.Qsj),r.Y36(r.SBq),r.Y36(s.K0))},e.\u0275cmp=r.Xpm({type:e,selectors:[["sp-string-data-type-edit"]],viewQuery:function(e,t){if(1&e&&r.Gf(l,7),2&e){let e;r.iGM(e=r.CRH())&&(t.inputRef=e.first)}},features:[r._Bn([c]),r.qOj],decls:3,vars:3,consts:[[1,"sp-inline-edit-group",3,"formGroup"],["type","text",1,"sp-inline-edit-string","sp-border-rounded","sp-px-2","sp-inline-edit-control",3,"formControlName","click"],["input",""]],template:function(e,t){1&e&&(r.TgZ(0,"div",0),r.TgZ(1,"input",1,2),r.NdJ("click",function(e){return t.stopPropagation(e)}),r.qZA(),r.qZA()),2&e&&(r.Q6J("formGroup",t.formGroup),r.xp6(1),r.Q6J("formControlName",t.stringDataTypeEditComponentFields.VALUE),r.uIk("placeholder",t.getPlaceholder()))},directives:[n.JL,n.sg,n.Fj,n.JJ,n.u],styles:[".sp-inline-edit-group{height:100%}.sp-inline-edit-group .sp-inline-edit-number,.sp-inline-edit-group .sp-inline-edit-string{outline:none;border:2px solid var(--blue-100)}.sp-marked .sp-inline-edit-number,.sp-marked .sp-inline-edit-string{border:2px solid var(--danger)}.sp-inline-edit-control{width:100%;height:100%;background-color:var(--gray-10)}.sp-inline-edit-control:focus{border:2px solid var(--blue-100)}.sp-inline-edit-control.ng-invalid:focus{border:2px solid var(--danger)}"],encapsulation:2,changeDetection:0}),e})()},18217:(e,t,i)=>{"use strict";i.d(t,{E:()=>h});var s=i(4562),r=i(94846),n=i(27388),o=i(91087),a=i(35699),l=i(1503),d=i(4082);const c=["input"];var p=(()=>(function(e){e.SUMMARY="summary"}(p||(p={})),p))();const u={provide:n.JU,useExisting:(0,r.Gpc)(()=>h),multi:!0};let h=(()=>{class e extends a.F{constructor(e,t,i,s,r){super(e,t,s,r),this.renderer=i,this.elementRef=s,this.summaryDataTypeEditComponentFields=p}init(){this.renderer.addClass(this.elementRef.nativeElement,"sp-w-full"),this.renderer.addClass(this.elementRef.nativeElement,"sp-h-full")}stopPropagation(e){e.stopPropagation()}getFormValues(t,i){const s=t?t.summary:"",r=[d.Z.validateMinLength(e.MIN_SUMMARY_LENGTH),d.Z.validateMaxLength(o.A.MAX_LENGTH_VALIDATORS)];return i.set("summary",l.c.of(s,r)),i}handleFocus(){this.inputRef&&this.inputRef.nativeElement.focus()}}return e.MIN_SUMMARY_LENGTH=1,e.\u0275fac=function(t){return new(t||e)(r.Y36(n.qu),r.Y36(r.sBO),r.Y36(r.Qsj),r.Y36(r.SBq),r.Y36(s.K0))},e.\u0275cmp=r.Xpm({type:e,selectors:[["sp-summary-data-type-edit"]],viewQuery:function(e,t){if(1&e&&r.Gf(c,7),2&e){let e;r.iGM(e=r.CRH())&&(t.inputRef=e.first)}},features:[r._Bn([u]),r.qOj],decls:3,vars:3,consts:[[1,"sp-inline-edit-group",3,"formGroup"],["type","text",1,"sp-inline-edit-string","sp-border-rounded","sp-px-2","sp-inline-edit-control",3,"formControlName","click"],["input",""]],template:function(e,t){1&e&&(r.TgZ(0,"div",0),r.TgZ(1,"input",1,2),r.NdJ("click",function(e){return t.stopPropagation(e)}),r.qZA(),r.qZA()),2&e&&(r.Q6J("formGroup",t.formGroup),r.xp6(1),r.Q6J("formControlName",t.summaryDataTypeEditComponentFields.SUMMARY),r.uIk("placeholder","Summary"))},directives:[n.JL,n.sg,n.Fj,n.JJ,n.u],styles:[".sp-inline-edit-group{height:100%}.sp-inline-edit-group .sp-inline-edit-number,.sp-inline-edit-group .sp-inline-edit-string{outline:none;border:2px solid var(--blue-100)}.sp-marked .sp-inline-edit-number,.sp-marked .sp-inline-edit-string{border:2px solid var(--danger)}.sp-inline-edit-control{width:100%;height:100%;background-color:var(--gray-10)}.sp-inline-edit-control:focus{border:2px solid var(--blue-100)}.sp-inline-edit-control.ng-invalid:focus{border:2px solid var(--danger)}"],encapsulation:2,changeDetection:0}),e})()},9794:(e,t,i)=>{"use strict";i.d(t,{P:()=>c});var s=i(94846),r=i(27388),n=i(64909),o=i(74477),a=i(54738),l=i(89932);const d={provide:r.JU,useExisting:(0,s.Gpc)(()=>c),multi:!0};let c=(()=>{class e extends l.H{constructor(e,t,i){super(e,t),this.changeDetectorRef=i,this.valueSelected=new s.vpe}ngAfterViewInit(){this.datepicker.showDropdown()}writeValue(e){(null==e?void 0:e.length)&&(this.selectedDate=a.p.createUTCDateFromString(e),this.changeDetectorRef.detectChanges())}registerOnChange(e){this.propagateChange=e}registerOnTouched(e){}onSelectedDateChange(e){o.l.isDefined(e)&&(this.propagateChange(a.p.simpleDateFromUTCDate(e)),this.valueSelected.emit())}getHostClasses(){return["sp-flex","sp-align-items-center","sp-w-full","sp-h-full"]}}return e.\u0275fac=function(t){return new(t||e)(s.Y36(s.SBq),s.Y36(s.Qsj),s.Y36(s.sBO))},e.\u0275cmp=s.Xpm({type:e,selectors:[["sp-date-picker-date-string-control"]],viewQuery:function(e,t){if(1&e&&s.Gf(n.L,5),2&e){let e;s.iGM(e=s.CRH())&&(t.datepicker=e.first)}},outputs:{valueSelected:"valueSelected"},features:[s._Bn([d]),s.qOj],decls:1,vars:1,consts:[[1,"sp-w-full","sp-h-full",3,"selectedDate","dateSelection"]],template:function(e,t){1&e&&(s.TgZ(0,"sp-datepicker-one",0),s.NdJ("dateSelection",function(e){return t.onSelectedDateChange(e)}),s.qZA()),2&e&&s.Q6J("selectedDate",t.selectedDate)},directives:[n.L],encapsulation:2,changeDetection:0}),e})()},36377:(e,t,i)=>{"use strict";i.d(t,{c:()=>u});var s=i(94846),r=i(27388),n=i(78268),o=i(91126),a=i(56469),l=i(12465),d=i(89932),c=i(1680);const p={provide:r.JU,useExisting:(0,s.Gpc)(()=>u),multi:!0};let u=(()=>{class e extends d.H{constructor(e,t,i){super(e,t),this.changeDetectorRef=i,this.formControl=new r.NI,this.disabled=!1,this.valueSelected=new s.vpe,this.options$=new n.xQ,this.writeValue$=new n.xQ,this.observeSelectedOptionInitialized=!1,this.propagateChange=e=>{}}ngOnChanges(e){e.options&&e.options.currentValue&&(this.observeSelectedOption(),this.options$.next(this.options))}ngOnInit(){this.observeSelectedOption()}finalize(){this.options$.complete(),this.writeValue$.complete()}writeValue(e){"string"!=typeof e&&void 0!==e||this.writeValue$.next(e)}registerOnChange(e){this.propagateChange=e}registerOnTouched(e){}setDisabledState(e){this.disabled=e,this.changeDetectorRef.detectChanges()}onSelectOptionChange(e){this.propagateChange(e.value),this.valueSelected.emit()}getHostClasses(){return["sp-flex","sp-align-items-center","sp-w-full","sp-h-full"]}observeSelectedOption(){this.observeSelectedOptionInitialized||(this.observeSelectedOptionInitialized=!0,(0,o.aj)([this.options$,this.writeValue$]).pipe(this.takeUntilDestroy()).subscribe(([e,t])=>{t&&e?(this.options=e,this.setSelectedOption(t)):this.selectedOption=new l.W("",a.H.string("")),this.changeDetectorRef.detectChanges()}))}setSelectedOption(e){this.selectedOption=this.options.find(t=>t.value===e||this.selectDataTypeEditControlConfig&&this.selectDataTypeEditControlConfig.getFilteredCallback(e,t.value))}}return e.\u0275fac=function(t){return new(t||e)(s.Y36(s.SBq),s.Y36(s.Qsj),s.Y36(s.sBO))},e.\u0275cmp=s.Xpm({type:e,selectors:[["sp-select-data-type-edit-control"]],inputs:{options:"options",configuration:"configuration",formControlName:"formControlName",formControl:"formControl",disabled:"disabled",userPickerConfiguration:"userPickerConfiguration",selectDataTypeEditControlConfig:"selectDataTypeEditControlConfig",isInvalid:"isInvalid"},outputs:{valueSelected:"valueSelected"},features:[s._Bn([p]),s.qOj,s.TTD],decls:1,vars:3,consts:[[3,"configuration","selectedOption","options","selectedOptionChanged"]],template:function(e,t){1&e&&(s.TgZ(0,"sp-select",0),s.NdJ("selectedOptionChanged",function(e){return t.onSelectOptionChange(e)}),s.qZA()),2&e&&s.Q6J("configuration",t.configuration)("selectedOption",t.selectedOption)("options",t.options)},directives:[c.Hr],encapsulation:2,changeDetection:0}),e})()},51194:(e,t,i)=>{"use strict";i.d(t,{Y:()=>n});var s=i(67717),r=i(94846);let n=(()=>{class e{constructor(){}getFilteredCallback(e,t){return!!this.filteredCallback&&this.filteredCallback(e,t)}}return e.Builder=class extends s.I{build(){const t=new e;return t.filteredCallback=this.filteredCallback,t}withFilteredCallback(e){return this.filteredCallback=e,this}},e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=r.Yz7({token:e,factory:e.\u0275fac}),e})()},82723:(e,t,i)=>{"use strict";i.d(t,{D:()=>R});var s=i(25088),r=i(94846),n=i(38625),o=i(7049),a=i(18217),l=i(7585),d=i(5050),c=i(8822),p=i(34930),u=i(43259);const h=["string_data_type_edit"],g=["number_data_type_edit"],f=["summary_data_type_edit"],m=["builtin_color_data_type_edit"],T=["milestone_data_type_edit"],E=["date_data_type_edit"],v=["estimation_type_edit"],I=["period_mode_data_type_edit"];function y(e,t){1&e&&r._UZ(0,"sp-string-data-type-edit",8),2&e&&r.Q6J("editor",t.editor)}function C(e,t){1&e&&r._UZ(0,"sp-number-data-type-edit",8),2&e&&r.Q6J("editor",t.editor)}function x(e,t){1&e&&r._UZ(0,"sp-summary-data-type-edit",8),2&e&&r.Q6J("editor",t.editor)}function D(e,t){1&e&&r._UZ(0,"sp-builtin-color-data-type-edit",8),2&e&&r.Q6J("editor",t.editor)}function b(e,t){if(1&e&&r._UZ(0,"sp-milestone-data-type-edit",9),2&e){const e=t.editor;r.ekj("sp-h-full",!0)("sp-w-full",!0),r.Q6J("editor",e)}}function w(e,t){1&e&&r._UZ(0,"sp-date-data-type-edit",8),2&e&&r.Q6J("editor",t.editor)}function S(e,t){1&e&&r._UZ(0,"sp-estimation-data-type-edit",8),2&e&&r.Q6J("editor",t.editor)}function A(e,t){1&e&&r._UZ(0,"sp-period-mode-data-type-edit",8),2&e&&r.Q6J("editor",t.editor)}let R=(()=>{class e{constructor(){this.dataTypeToTemplate=new Map}ngOnInit(){this.setTemplatesReferences()}getAllTemplates(){return this.dataTypeToTemplate}setTemplatesReferences(){this.dataTypeToTemplate.set(s.U.STRING,this.string_data_type_edit),this.dataTypeToTemplate.set(s.U.NUMBER,this.number_data_type_edit),this.dataTypeToTemplate.set(s.U.SUMMARY,this.summary_data_type_edit),this.dataTypeToTemplate.set(s.U.BUILTIN_COLOR,this.builtin_color_data_type_edit),this.dataTypeToTemplate.set(s.U.PERIOD_MODE,this.period_mode_data_type_edit),this.dataTypeToTemplate.set(s.U.DATE,this.date_data_type_edit)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=r.Xpm({type:e,selectors:[["sp-edit-templates"]],viewQuery:function(e,t){if(1&e&&(r.Gf(h,7),r.Gf(g,7),r.Gf(f,7),r.Gf(m,7),r.Gf(T,7),r.Gf(E,7),r.Gf(v,7),r.Gf(I,7)),2&e){let e;r.iGM(e=r.CRH())&&(t.string_data_type_edit=e.first),r.iGM(e=r.CRH())&&(t.number_data_type_edit=e.first),r.iGM(e=r.CRH())&&(t.summary_data_type_edit=e.first),r.iGM(e=r.CRH())&&(t.builtin_color_data_type_edit=e.first),r.iGM(e=r.CRH())&&(t.milestone_data_type_edit=e.first),r.iGM(e=r.CRH())&&(t.date_data_type_edit=e.first),r.iGM(e=r.CRH())&&(t.estimation_type_edit=e.first),r.iGM(e=r.CRH())&&(t.period_mode_data_type_edit=e.first)}},decls:16,vars:0,consts:[["string_data_type_edit",""],["number_data_type_edit",""],["summary_data_type_edit",""],["builtin_color_data_type_edit",""],["milestone_data_type_edit",""],["date_data_type_edit",""],["estimation_type_edit",""],["period_mode_data_type_edit",""],[1,"sp-w-full","sp-h-full",3,"editor"],[3,"editor"]],template:function(e,t){1&e&&(r.YNc(0,y,1,1,"ng-template",null,0,r.W1O),r.YNc(2,C,1,1,"ng-template",null,1,r.W1O),r.YNc(4,x,1,1,"ng-template",null,2,r.W1O),r.YNc(6,D,1,1,"ng-template",null,3,r.W1O),r.YNc(8,b,1,5,"ng-template",null,4,r.W1O),r.YNc(10,w,1,1,"ng-template",null,5,r.W1O),r.YNc(12,S,1,1,"ng-template",null,6,r.W1O),r.YNc(14,A,1,1,"ng-template",null,7,r.W1O))},directives:[n.f,o.a,a.E,l.$,d.L,c.V,p.J,u.f],encapsulation:2,changeDetection:0}),e})()},10122:(e,t,i)=>{"use strict";i.d(t,{L:()=>s});var s=(()=>(function(e){e[e.SUBMIT=0]="SUBMIT",e[e.CANCEL=1]="CANCEL"}(s||(s={})),s))()},18155:(e,t,i)=>{"use strict";i.d(t,{O:()=>p});var s=i(78268),r=i(48698),n=i(62610),o=i(99998),a=i(14681),l=i(10122),d=i(94846),c=i(54681);let p=(()=>{class e{constructor(e,t){this.shortcutsService=e,this.fieldValuesEditAbility=t,this.shortcutTrigger$=new s.xQ,this.fieldValuesEditAbility.editAvailable$&&this.initShortcuts()}listen(){return this.shortcutTrigger$.asObservable()}initShortcuts(){this.shortcutGroup=this.shortcutsService.createGroup("Inline Editing",{position:r.N.FORCE_TO_TOP}),this.shortcutsService.createContainer("Submit",this.shortcutGroup).add(new o.z(a.s.ENTER,()=>{this.shortcutTrigger$.next(l.L.SUBMIT)})),this.shortcutsService.createContainer("Cancel",this.shortcutGroup).add(new o.z(a.s.ESCAPE,()=>{this.shortcutTrigger$.next(l.L.CANCEL)}))}destroyShortcuts(){this.shortcutsService.removeShortcutGroup(this.shortcutGroup)}}return e.\u0275fac=function(t){return new(t||e)(d.LFG(n.L),d.LFG(c.n))},e.\u0275prov=d.Yz7({token:e,factory:e.\u0275fac}),e})()},44430:(e,t,i)=>{"use strict";i.d(t,{f:()=>p});var s=i(94846),r=i(86279),n=i(91126),o=i(68387),a=i(62710),l=i(52667),d=i(24482),c=i(89932);let p=(()=>{class e extends c.H{constructor(e,t,i,n,o,a){super(n,o),this.entityFilterService=e,this.dataTypeInstanceRepository=t,this.changeDetectorRef=i,this.uniqueDataValuesStorageService=a,this.advancedFilterConfigChanged$=new s.vpe,this.recalculateUniqueDataValues$=new r.X("")}setDataTypeFilterConfig(e){this.dataTypeFilterConfig=e}setFieldFilterConfig(e){this.fieldFilterConfig=e,this.entityFilterService.getFilter(this.dataTypeFilterConfig.uniqueName,this.fieldFilterConfig).isSearch()||this.recalculateUniqueDataValues$.next("")}emitConfig(){this.advancedFilterConfigChanged$.emit(this.dataTypeFilterConfig)}observeUniqueDataValues(){return this.entityFilterService.getFilter(this.dataTypeFilterConfig.uniqueName,this.fieldFilterConfig).isSearch()?this.uniqueDataValuesStorageService.select():this.selectFilteredDataValues()}selectFilteredDataValues(){return(0,n.aj)([this.uniqueDataValuesStorageService.select(),this.recalculateUniqueDataValues$]).pipe((0,o.U)(([e,t])=>this.entityFilterService.getDataValuesMatchingSearchFilters(e,this.fieldFilterConfig)),this.takeUntilDestroy())}ngOnChanges(){}}return e.\u0275fac=function(t){return new(t||e)(s.Y36(a.w,8),s.Y36(l.v,8),s.Y36(s.sBO),s.Y36(s.SBq),s.Y36(s.Qsj),s.Y36(d.O))},e.\u0275cmp=s.Xpm({type:e,selectors:[["sp-filter"]],features:[s.qOj,s.TTD],decls:0,vars:0,template:function(e,t){},encapsulation:2}),e})()},18183:(e,t,i)=>{"use strict";i.d(t,{Z:()=>s});class s{}},24482:(e,t,i)=>{"use strict";i.d(t,{O:()=>n});var s=i(8323),r=i(94846);let n=(()=>{class e extends s.V{constructor(){super()}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=r.Yz7({token:e,factory:e.\u0275fac}),e})()},49907:(e,t,i)=>{"use strict";i.d(t,{c:()=>s});class s{static isBuiltIn(e){return e&&-1===e.id}}},79321:(e,t,i)=>{"use strict";i.d(t,{y:()=>s});class s{static getTooltipText(e,t){const i=e.getLabelName(),s=e.getDataValue(t),r=t?e.getTextValue(s):"";return r?i+`: ${r}`:i}}},85502:(e,t,i)=>{"use strict";i.d(t,{Z:()=>g});var s=i(4562),r=i(33867),n=(i(52961),i(77393)),o=i(89312),a=(i(82522),i(61145)),l=i(29342),d=(i(82622),i(84892),i(45499)),c=(i(91307),i(35959)),p=(i(44902),i(32553)),u=i(56636),h=i(94846);let g=(()=>{class e{static forRoot(){return{ngModule:e,providers:[]}}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=h.oAB({type:e}),e.\u0275inj=h.cJS({imports:[[s.ez,a.F,o.nv.forRoot(),l.o,d.v.forRoot(),c.z8,p.D.forRoot(),n.n,r.J,u.X]]}),e})()},39303:(e,t,i)=>{"use strict";i.d(t,{M:()=>s});var s=(()=>(function(e){e[e.NONE=0]="NONE",e[e.CREATE=1]="CREATE",e[e.READ=2]="READ",e[e.UPDATE=4]="UPDATE",e[e.DELETE=8]="DELETE"}(s||(s={})),s))()},88418:(e,t,i)=>{"use strict";i.d(t,{m:()=>a});var s=i(39303),r=i(67147);class n{constructor(e,t,i,s,r){this.headerActionDictionary=e,this.headerActionConfirmDialogDictionary=t,this.inlineActionDictionary=i,this.inlineActionConfirmDialogDictionary=s,this.modalDictionary=r}getHeaderActionDictionary(){return this.headerActionDictionary}getHeaderActionConfirmDialogDictionary(){return this.headerActionConfirmDialogDictionary}getInlineActionDictionary(){return this.inlineActionDictionary}getInlineActionConfirmDialogDictionary(){return this.inlineActionConfirmDialogDictionary}getModalDictionary(){return this.modalDictionary}}var o=i(74477);class a{constructor(){this.customComponentForCreateModal=null,this.dragAndDrop=!1,this.inlineIconButtons=!1,this.modalIconButtons=!1,this.updateThroughModal=!1,this.transparentInlineIconButtons=!1,this.reverseHeaderButtons=!1,this.actionsColumnHeader="",this.isTreeGridVisible=!0}static default(){return(new a).withModalActions(s.M.CREATE).withInlineActions(s.M.CREATE|s.M.READ|s.M.UPDATE|s.M.DELETE).withTreeColumnResize(!0).withCreateButtonPrimaryClass(!1).withViewPortRender(!1).withDictionary(r.B.default()).withDisabled({create:!1,read:!1,update:!1,delete:!1}).withActionsColumnFlex("1 0 250px")}withHeader(e){return this.header=e,this}withDescription(e){return this.description=e,this}withDocumentationLink(e){return this.documentationLink=e,this}withTooltipOnQuestionMark(e){return this.tooltipTextOnQuestionMark=e,this}withDictionary(e){return this.dictionary=class{static create(e){return new n(e.getHeaderActionDictionary(),e.getHeaderActionConfirmDialogDictionary(),e.getInlineActionDictionary(),e.getInlineActionConfirmDialogDictionary(),e.getModalDictionary())}}.create(e),this}withDisabled(e){return this.disabled=o.l.applyPartialObjProperties(this.disabled,e),this}withFieldsConfiguration(e){return this.fieldsConfiguration=e,this}withFieldsConfigurationAccessor(e){return this.fieldsConfigurationAccessor=e,this}withInlineActions(e){return this.inlineCrudActions=e,this}withTreeColumnResize(e){return this.treeColumnResize=e,this}withModalActions(e){return this.modalCrudActions=e,this}withCreateButtonPrimaryClass(e){return this.createButtonPrimaryClass=e,this}withViewPortRender(e){return this.viewPortRender=e,this}withDragAndDrop(e){return this.dragAndDrop=e,this}withDragAndDropZone(e){return this.dragAndDropZone=e,this}withInlineIconButtons(e){return this.inlineIconButtons=e,this}withModalIconButtons(e){return this.modalIconButtons=e,this}withUpdateThroughModal(e){return this.updateThroughModal=e,this}withTransparentInlineIconButtons(e){return this.transparentInlineIconButtons=e,this}withReversedHeaderButtons(e){return this.reverseHeaderButtons=e,this}withActionsColumnHeader(e){return this.actionsColumnHeader=e,this}withCustomHeaderSectionOnTheLeft(e){return this.leftCustomHeaderSection=e,this}withCustomHeaderSectionOnTheRight(e){return this.rightCustomHeaderSection=e,this}withTreeGridVisibility(e){return this.isTreeGridVisible=e,this}withNodesCssClassResolver(e){return this.treeNodesCssClassResolver=e,this}withCustomComponentForCreateModal(e,t=null){return this.customComponentForCreateModal={modalConfig:e,modalData:t},this}withActionsColumnFlex(e){return this.actionsColumnFlex=e,this}withActionsColumnClass(e){return this.actionsColumnClass=e,this}withOnFormValueChange(e){return this.onFormValueChange$=e,this}withCompareMarkedNodes(e){return this.compareMarkedNodes=e,this}}},12500:(e,t,i)=>{"use strict";i.d(t,{g:()=>r});var s=i(6812);class r{moveItem(e,t){return(0,s.of)()}}},34036:(e,t,i)=>{"use strict";i.d(t,{q:()=>c});var s=i(86279),r=i(91783),n=i(90540),o=i(25705),a=i(59120),l=i(94846),d=i(12500);let c=(()=>{class e{constructor(e){this.crudItemRepository=e,this.items=[],this.items$=new s.X(this.items)}observeItems(){return this.items$.asObservable()}fetchItemsOnce(){this.crudItemRepository.getItems().pipe((0,n.q)(1)).subscribe(e=>{this.setItems(e)})}create(e){return this.crudItemRepository.createItem(e).pipe((0,o.b)(e=>{this.addItem(e)}),(0,a.K)(e=>(console.error(e),(0,r._)(e))))}update(e,t){return this.crudItemRepository.updateItem(e,t).pipe((0,o.b)(e=>{this.updateItem(e)}),(0,a.K)(e=>(console.error(e),(0,r._)(e))))}remove(e){return this.crudItemRepository.removeItem(e).pipe((0,o.b)(t=>{this.removeItem(e)}),(0,a.K)(e=>(console.error(e),(0,r._)(e))))}move(e,t){return this.crudItemRepository.moveItem(e,t).pipe((0,o.b)(()=>{this.moveItem(e,t)}),(0,a.K)(e=>(console.error(e),(0,r._)(e))))}addItem(e){this.items=[...this.items,e],this.items$.next(this.items)}setItems(e){this.items=[...e],this.items$.next(this.items)}updateItem(e){const t=this.items.findIndex(t=>t.equals(e));t>-1&&(this.items.splice(t,1,e),this.items=[...this.items]),this.items$.next(this.items)}removeItem(e){this.items=this.items.filter(t=>!t.equals(e)),this.items$.next(this.items)}moveItem(e,t){const i=this.items.find(t=>t.equals(e)),s=this.items.filter(t=>!t.equals(e));s.splice(t,0,i),this.items=s,this.items$.next(this.items)}}return e.\u0275fac=function(t){return new(t||e)(l.LFG(d.g))},e.\u0275prov=l.Yz7({token:e,factory:e.\u0275fac}),e})()},67147:(e,t,i)=>{"use strict";i.d(t,{B:()=>r});var s=i(74477);class r{constructor(){}static default(){return(new r).withDefaultHeaderActionDictionary({create:{text:"SPT_COMMON_CRUD_HEADER_CREATE"},read:{text:"SPT_COMMON_CRUD_HEADER_READ"},update:{text:"SPT_COMMON_CRUD_HEADER_UPDATE"},delete:{text:"SPT_COMMON_CRUD_HEADER_DELETE"}}).withDefaultHeaderActionConfirmDialogDictionary({delete:"SPT_COMMON_CRUD_HEADER_CONFIRM_DELETE"}).withDefaultInlineActionDictionary({create:{text:"SPT_COMMON_CRUD_INLINE_CREATE"},read:{text:"SPT_COMMON_CRUD_INLINE_READ"},update:{text:"SPT_COMMON_CRUD_INLINE_UPDATE"},delete:{text:"SPT_COMMON_CRUD_INLINE_DELETE"}}).withDefaultInlineActionConfirmDialogDictionary({delete:"SPT_COMMON_CRUD_INLINE_CONFIRM_DELETE"}).withDefaultModalDictionary({create:{title:"SPT_COMMON_CRUD_MODAL_CREATE_TITLE",submitBtnText:"SPT_COMMON_CRUD_MODAL_CREATE_SUBMIT"},update:{title:"SPT_COMMON_CRUD_MODAL_UPDATE_TITLE",submitBtnText:"SPT_COMMON_CRUD_MODAL_UPDATE_SUBMIT"}})}withHeaderActionDictionary(e){return this.headerActionDictionary=s.l.applyPartialObjProperties(this.headerActionDictionary,e),this}withHeaderActionConfirmDialogDictionary(e){return this.headerActionConfirmDialogDictionary=s.l.applyPartialObjProperties(this.headerActionConfirmDialogDictionary,e),this}withInlineActionDictionary(e){return this.inlineActionDictionary=s.l.applyPartialObjProperties(this.inlineActionDictionary,e),this}withInlineActionConfirmDialogDictionary(e){return this.inlineActionConfirmDialogDictionary=s.l.applyPartialObjProperties(this.inlineActionConfirmDialogDictionary,e),this}withModalDictionary(e){return this.modalDictionary=s.l.applyPartialObjProperties(this.modalDictionary,e),this}getHeaderActionDictionary(){return this.headerActionDictionary}getHeaderActionConfirmDialogDictionary(){return this.headerActionConfirmDialogDictionary}getInlineActionDictionary(){return this.inlineActionDictionary}getInlineActionConfirmDialogDictionary(){return this.inlineActionConfirmDialogDictionary}getModalDictionary(){return this.modalDictionary}withDefaultHeaderActionDictionary(e){return this.headerActionDictionary=e,this}withDefaultHeaderActionConfirmDialogDictionary(e){return this.headerActionConfirmDialogDictionary=e,this}withDefaultInlineActionDictionary(e){return this.inlineActionDictionary=e,this}withDefaultInlineActionConfirmDialogDictionary(e){return this.inlineActionConfirmDialogDictionary=e,this}withDefaultModalDictionary(e){return this.modalDictionary=e,this}}},44902:(e,t,i)=>{"use strict";i.d(t,{s:()=>r});var s=i(94846);let r=(()=>{class e{transform(e,t,i){switch(typeof e){case"function":return(e=e)(t,i);case"string":return e;default:return""}}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275pipe=s.Yjl({name:"crudInlineActionWord",type:e,pure:!0}),e})()},84892:(e,t,i)=>{"use strict";i.d(t,{s:()=>n});var s=i(39303),r=i(94846);let n=(()=>{class e{transform(e,t){return e&s.M[t]}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275pipe=r.Yjl({name:"hasCrudAction",type:e,pure:!0}),e})()},82522:(e,t,i)=>{"use strict";i.d(t,{U:()=>o});var s=i(94846),r=i(96500),n=i(26484);let o=(()=>{class e{constructor(){this.header="",this.flex="0 1 50%",this.disableResize=!1,this.validators=[],this.formField=new n.u}ngOnChanges(e){e.type&&(this.formField.type=this.type,this.formField.valueAccessor=this.field,this.formField.name=`${this.field}`,this.formField.flex=this.flex,this.formField.validators=this.validators)}convertToTreeColumnComponent(){const e=new r.F(null);return e.template=this.template,e.flex=this.flex,e.header=this.header,e.formField=this.formField,e.validators=this.validators,e.disableResize=this.disableResize,e}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=s.Xpm({type:e,selectors:[["sp-crud-column"]],contentQueries:function(e,t,i){if(1&e&&s.Suo(i,s.Rgc,5),2&e){let e;s.iGM(e=s.CRH())&&(t.template=e.first)}},inputs:{header:"header",flex:"flex",type:"type",field:"field",label:"label",disableResize:"disableResize",validators:"validators"},features:[s.TTD],decls:0,vars:0,template:function(e,t){},encapsulation:2}),e})()},52961:(e,t,i)=>{"use strict";i.d(t,{D:()=>fe});var s=i(42028),r=i(90540),n=i(68387),o=i(39303),a=(i(88418),i(34036)),l=i(82522),d=i(91307),c=i(84554),p=i(82622),u=i(35331),h=i(54247),g=i(25262),f=i(93366),m=i(22009),T=i(77565),E=i(29686),v=i(4335),I=i(89932),y=i(59887),C=i(98549),x=i(94846),D=i(4562),b=i(67999),w=i(35959),S=i(71402),A=i(12315),R=i(10026),_=i(56894),N=i(96500),L=i(81802),O=i(84892),F=i(91216),M=i(44902);const U=["treeRef"],k=["modalGroupButtons"],B=["modalCustomButtonsRef"],V=["inlineCustomButtonsRef"];function G(e,t){if(1&e&&(x.TgZ(0,"a",20),x.ALo(1,"spRichTextI18n"),x._UZ(2,"i",21),x.qZA()),2&e){const e=x.oxw(2);x.Q6J("spTooltipEnabled",!!e.config.tooltipTextOnQuestionMark)("spTooltip",x.lcZ(1,3,e.config.tooltipTextOnQuestionMark)),x.uIk("href",e.config.documentationLink,x.LSH)}}function P(e,t){if(1&e&&(x.TgZ(0,"div",18),x.TgZ(1,"h2"),x._uU(2),x.ALo(3,"spL10nText"),x.qZA(),x.YNc(4,G,3,5,"a",19),x.qZA()),2&e){const e=x.oxw();x.xp6(2),x.Oqu(x.lcZ(3,2,e.config.header)),x.xp6(2),x.Q6J("ngIf",e.config.documentationLink)}}function Y(e,t){1&e&&x.GkF(0)}function Z(e,t){if(1&e&&(x.ynx(0),x.TgZ(1,"div"),x.YNc(2,Y,1,0,"ng-container",22),x.qZA(),x.BQk()),2&e){const e=x.oxw();x.xp6(2),x.Q6J("ngTemplateOutlet",e.customModalButtons.template)}}function z(e,t){1&e&&(x.ynx(0),x._UZ(1,"i",26),x.BQk())}function J(e,t){if(1&e&&(x._uU(0),x.ALo(1,"spL10nText")),2&e){const e=x.oxw(2);x.hij(" ",x.lcZ(1,1,e.getHeaderActionDictionary().create.text)," ")}}function H(e,t){if(1&e){const e=x.EpF();x.TgZ(0,"button",23),x.NdJ("click",function(){return x.CHM(e),x.oxw().clickModalCreate()}),x.YNc(1,z,2,0,"ng-container",24),x.YNc(2,J,2,3,"ng-template",null,25,x.W1O),x.qZA()}if(2&e){const e=x.MAs(3),t=x.oxw();x.ekj("sp-circle",t.config.modalIconButtons),x.Q6J("disabled",t.config.disabled.create)("primary",t.config.createButtonPrimaryClass),x.uIk("id",t.getHeaderActionDictionary().create.id?t.getHeaderActionDictionary().create.id:null),x.xp6(1),x.Q6J("ngIf",t.config.modalIconButtons)("ngIfElse",e)}}function q(e,t){if(1&e){const e=x.EpF();x.TgZ(0,"button",27),x.NdJ("click",function(){return x.CHM(e),x.oxw().clickModalRead()}),x._uU(1),x.ALo(2,"spL10nText"),x.qZA()}if(2&e){const e=x.oxw();x.Q6J("disabled",e.config.disabled.read),x.uIk("id",e.getHeaderActionDictionary().read.id?e.getHeaderActionDictionary().read.id:null),x.xp6(1),x.hij(" ",x.lcZ(2,3,e.getHeaderActionDictionary().read.text)," ")}}function Q(e,t){if(1&e){const e=x.EpF();x.TgZ(0,"button",28),x.NdJ("click",function(){return x.CHM(e),x.oxw().clickModalUpdate()}),x._uU(1),x.ALo(2,"spL10nText"),x.qZA()}if(2&e){const e=x.oxw();x.Q6J("disabled",e.config.disabled.update),x.uIk("id",e.getHeaderActionDictionary().update.id?e.getHeaderActionDictionary().update.id:null),x.xp6(1),x.hij(" ",x.lcZ(2,3,e.getHeaderActionDictionary().update.text)," ")}}function $(e,t){if(1&e){const e=x.EpF();x.TgZ(0,"button",29),x.NdJ("spConfirmDialogOnSubmit",function(t){x.CHM(e);const i=x.oxw();return i.clickModalDelete(t,i.item)}),x.ALo(1,"spL10nText"),x.ALo(2,"spL10nText"),x._uU(3),x.ALo(4,"spL10nText"),x.qZA()}if(2&e){const e=x.oxw();x.Q6J("disabled",e.config.disabled.delete)("spConfirmDialog",e.checkConfirmDialogsEnabled())("spConfirmDialogConfirmButtonTitle",x.lcZ(1,7,e.getHeaderActionDictionary().delete.text))("spConfirmDialogMessage",x.lcZ(2,9,e.getHeaderActionConfirmDialogDictionary().delete))("spConfirmDialogGravity",e.Gravity.WEST),x.uIk("id",e.getHeaderActionDictionary().delete.id?e.getHeaderActionDictionary().delete.id:null),x.xp6(3),x.hij(" ",x.lcZ(4,11,e.getHeaderActionDictionary().delete.text)," ")}}function j(e,t){if(1&e&&x._UZ(0,"sp-rich-text",30),2&e){const e=x.oxw();x.Q6J("config",e.config.description)}}function W(e,t){1&e&&x.GkF(0)}const K=function(e){return{$implicit:e}};function X(e,t){if(1&e&&(x.TgZ(0,"div"),x.YNc(1,W,1,0,"ng-container",31),x.qZA()),2&e){const e=x.oxw();x.xp6(1),x.Q6J("ngTemplateOutlet",e.config.rightCustomHeaderSection)("ngTemplateOutletContext",x.VKq(2,K,e.isTreeGridVisible))}}function ee(e,t){1&e&&x.GkF(0)}function te(e,t){if(1&e&&(x.TgZ(0,"div"),x.YNc(1,ee,1,0,"ng-container",31),x.qZA()),2&e){const e=x.oxw();x.xp6(1),x.Q6J("ngTemplateOutlet",e.config.leftCustomHeaderSection)("ngTemplateOutletContext",x.VKq(2,K,e.isTreeGridVisible))}}function ie(e,t){if(1&e&&(x._UZ(0,"sp-tree-column",35),x.ALo(1,"spL10nText")),2&e){const e=t.$implicit,i=t.index,s=x.oxw(2);x.Q6J("flex",e.flex)("validators",e.validators)("header",x.lcZ(1,7,e.header))("template",e.template)("formField",e.formField)("disableResize",e.disableResize)("dragButton",0===i&&s.config.dragAndDrop)}}function se(e,t){1&e&&x.GkF(0)}function re(e,t){if(1&e&&(x.ynx(0),x.YNc(1,se,1,0,"ng-container",31),x.BQk()),2&e){const e=x.oxw().rawTreeNode,t=x.oxw(2);x.xp6(1),x.Q6J("ngTemplateOutlet",t.getCustomInlineButtons().template)("ngTemplateOutletContext",t.createContext(e))}}function ne(e,t){if(1&e&&(x.ynx(0),x._UZ(1,"i",40),x.BQk()),2&e){const e=x.oxw(4);x.xp6(1),x.ekj("sp-fg-icon",e.config.transparentInlineIconButtons)}}function oe(e,t){if(1&e&&(x._uU(0),x.ALo(1,"spL10nText"),x.ALo(2,"crudInlineActionWord")),2&e){const e=x.oxw(2).rawTreeNode,t=x.oxw(2);x.hij(" ",x.lcZ(1,1,x.Dn7(2,3,t.getInlineActionDictionary().update.text,e,t.items))," ")}}function ae(e,t){if(1&e){const e=x.EpF();x.TgZ(0,"button",38),x.NdJ("click",function(){x.CHM(e);const t=x.oxw().node;return x.oxw(2).onInlineUpdateClick(t)}),x.ALo(1,"crudInlineActionWord"),x.ALo(2,"spRichTextI18n"),x.ALo(3,"crudInlineActionWord"),x.YNc(4,ne,2,2,"ng-container",24),x.YNc(5,oe,3,7,"ng-template",null,39,x.W1O),x.qZA()}if(2&e){const e=x.MAs(6),t=x.oxw().rawTreeNode,i=x.oxw(2);x.ekj("sp-bg-transparent",i.config.transparentInlineIconButtons),x.Q6J("disabled",t.isEditDisabled())("spTooltipEnabled",!!x.Dn7(1,9,i.getInlineActionDictionary().update.text,t,i.items))("spTooltip",x.lcZ(2,13,x.Dn7(3,15,i.getInlineActionDictionary().update.text,t,i.items)))("spTooltipGravity",i.Gravity.WEST)("id","sp-inline-button-update"),x.xp6(4),x.Q6J("ngIf",i.config.inlineIconButtons)("ngIfElse",e)}}function le(e,t){if(1&e&&(x.ynx(0),x._UZ(1,"i",43),x.BQk()),2&e){const e=x.oxw(4);x.xp6(1),x.ekj("sp-fg-icon",e.config.transparentInlineIconButtons)}}function de(e,t){if(1&e&&(x._uU(0),x.ALo(1,"spL10nText"),x.ALo(2,"crudInlineActionWord")),2&e){const e=x.oxw(2).rawTreeNode,t=x.oxw(2);x.hij(" ",x.lcZ(1,1,x.Dn7(2,3,t.getInlineActionDictionary().delete.text,e,t.items))," ")}}function ce(e,t){if(1&e){const e=x.EpF();x.TgZ(0,"button",41),x.NdJ("spConfirmDialogOnSubmit",function(){x.CHM(e);const t=x.oxw().rawTreeNode;return x.oxw(2).clickInlineDelete(t)}),x.ALo(1,"spL10nText"),x.ALo(2,"crudInlineActionWord"),x.ALo(3,"spL10nText"),x.ALo(4,"crudInlineActionWord"),x.ALo(5,"crudInlineActionWord"),x.ALo(6,"spRichTextI18n"),x.ALo(7,"crudInlineActionWord"),x.YNc(8,le,2,2,"ng-container",24),x.YNc(9,de,3,7,"ng-template",null,42,x.W1O),x.qZA()}if(2&e){const e=x.MAs(10),t=x.oxw().rawTreeNode,i=x.oxw(2);x.ekj("sp-bg-transparent",i.config.transparentInlineIconButtons),x.Q6J("disabled",t.isDeleteDisabled(i.items))("spConfirmDialog",i.checkConfirmDialogsEnabled())("spConfirmDialogConfirmButtonTitle",x.lcZ(1,13,x.Dn7(2,15,i.getInlineActionDictionary().delete.text,t,i.items)))("spConfirmDialogMessage",x.lcZ(3,19,x.Dn7(4,21,i.getInlineActionConfirmDialogDictionary().delete,t,i.items)))("spConfirmDialogGravity",i.Gravity.WEST)("spTooltipEnabled",!!x.Dn7(5,25,i.getInlineActionDictionary().delete.text,t,i.items)&&!t.isDeleteDisabled(i.items))("spTooltip",x.lcZ(6,29,x.Dn7(7,31,i.getInlineActionDictionary().delete.text,t,i.items)))("spTooltipGravity",i.Gravity.WEST)("id","sp-inline-button-delete"),x.xp6(8),x.Q6J("ngIf",i.config.inlineIconButtons)("ngIfElse",e)}}function pe(e,t){if(1&e&&(x.TgZ(0,"sp-button-group"),x.YNc(1,re,2,2,"ng-container",5),x.TgZ(2,"div",6),x.ALo(3,"crudInlineActionWord"),x.ALo(4,"spRichTextI18n"),x.ALo(5,"crudInlineActionWord"),x.YNc(6,ae,7,19,"button",36),x.ALo(7,"hasCrudAction"),x.qZA(),x.TgZ(8,"div",6),x.ALo(9,"spRichTextI18n"),x.YNc(10,ce,11,35,"button",37),x.ALo(11,"hasCrudAction"),x.qZA(),x.qZA()),2&e){const e=t.rawTreeNode,i=x.oxw(2);x.xp6(1),x.Q6J("ngIf",i.getCustomInlineButtons()),x.xp6(1),x.Q6J("spTooltipEnabled",!!x.Dn7(3,7,i.composeUpdateBtnTooltip(e.isEditDisabled()),e,i.items))("spTooltip",x.lcZ(4,11,x.Dn7(5,13,i.composeUpdateBtnTooltip(e.isEditDisabled()),e,i.items))),x.xp6(4),x.Q6J("ngIf",x.xi3(7,17,i.config.inlineCrudActions,"UPDATE")),x.xp6(2),x.Q6J("spTooltipEnabled",!!i.getDeleteButtonTooltipText(i.items,e))("spTooltip",x.lcZ(9,20,i.getDeleteButtonTooltipText(i.items,e))),x.xp6(2),x.Q6J("ngIf",x.xi3(11,22,i.config.inlineCrudActions,"DELETE"))}}function ue(e,t){if(1&e&&(x.TgZ(0,"sp-tree-column-collection",32),x.YNc(1,ie,2,9,"sp-tree-column",33),x.TgZ(2,"sp-tree-column",34),x.ALo(3,"spL10nText"),x.YNc(4,pe,12,25,"ng-template"),x.qZA(),x.qZA()),2&e){const e=x.oxw();x.Q6J("inlineEdit",!1),x.xp6(1),x.Q6J("ngForOf",e.treeColumns),x.xp6(1),x.s9C("header",x.lcZ(3,5,e.config.actionsColumnHeader)),x.Q6J("flex",e.config.actionsColumnFlex)("cssClass",e.config.actionsColumnClass)}}const he=[[["","id","sp-crud-no-elements"]]],ge=["[id=sp-crud-no-elements]"];let fe=(()=>{class e extends I.H{constructor(e,t,i,s,r,n,o,a,l){super(e,t),this.changeDetectorRef=i,this.viewContainerRef=s,this.injector=r,this.itemsStore=n,this.modalWindowService=o,this.messageService=a,this.selectedItemsStorageService=l,this.treeId="crud-tree",this.items=[],this.treeColumns=[],this.Gravity=y.X,this.isTreeGridVisible=!0,this.inlineEdit=!1,this.openModalWindow=!1}ngOnChanges(e){e.config&&e.config.currentValue&&(this.isTreeGridVisible=this.config.isTreeGridVisible)}ngOnInit(){if(this.treeConfig=h.Z.default().withColumnResize(this.config.treeColumnResize).withSelectNode(!1).withNodesCssClassResolver(this.config.treeNodesCssClassResolver),this.isViewPortRenderEnabled()){const e=15,t=g.t.default().withViewPortRender(!0).withAdditionalTasksOnViewport(e);this.treeConfig.withViewportRender(t)}this.config.dragAndDropZone&&this.treeConfig.withTreeDropZonesResolver(this.config.dragAndDropZone),this.config.compareMarkedNodes&&this.treeConfig.withCompareMarkedNodes(this.config.compareMarkedNodes),this.config.dragAndDrop&&this.treeConfig.withDragAndDrop(!0).withDropZones({topZone:!0,centerZone:!1,bottomZone:!0}),this.inlineEdit=!!(this.config.inlineCrudActions&o.M.UPDATE),this.isTreeGridVisible=this.config.isTreeGridVisible,this.initTreeActionsAndConfig(),this.observeItems(),this.fetchItems()}ngAfterContentInit(){this.updateColumns(),this.columnsQL.changes.pipe(this.takeUntilDestroy()).subscribe(()=>{this.updateColumns()}),this.updateModalButtons(),this.updateInlineButtons(),this.customButtonsQL.changes.pipe((0,s.h)(e=>e.isInline())),this.customButtonsQL.changes.pipe((0,s.h)(e=>e.isModal()))}clickModalCreate(){this.openCrudModal(c.k.CREATE)}openUpdateModal(e){this.openCrudModal(c.k.UPDATE,e)}clickModalRead(){}clickModalUpdate(){}clickModalDelete(){}onInlineUpdateClick(e){this.config.updateThroughModal?this.openUpdateModal(e.data):this.treeRef.toggleInlineEdit(e)}clickInlineDelete(e){this.itemsStore.remove(e).pipe(this.takeUntilDestroy()).subscribe(()=>{},e=>{this.messageService.errorFromResponse(e.error)})}createContext(e){return{item:e}}reloadAllData(){this.fetchItems()}updateItem(e,t){this.itemsStore.update(e,t).pipe((0,r.q)(1),this.takeUntilDestroy()).subscribe()}isViewPortRenderEnabled(){return this.config.viewPortRender}composeUpdateBtnTooltip(e){const t=this.getInlineActionDictionary().update.tooltip;return this.chooseTooltipBasedOnActionDisabledStatus(t,e)}composeDeleteBtnTooltip(e,t,i){const s=this.getInlineActionDictionary().delete.tooltip,r=this.chooseTooltipBasedOnActionDisabledStatus(s,e);return"function"==typeof r?r(t,i):r}composeHeaderCreateActionTooltip(e){const t=this.getHeaderActionDictionary().create.tooltip;return this.chooseTooltipBasedOnActionDisabledStatus(t,e)}composeHeaderReadActionTooltip(e){const t=this.getHeaderActionDictionary().read.tooltip;return this.chooseTooltipBasedOnActionDisabledStatus(t,e)}composeHeaderUpdateActionTooltip(e){const t=this.getHeaderActionDictionary().update.tooltip;return this.chooseTooltipBasedOnActionDisabledStatus(t,e)}composeHeaderDeleteActionTooltip(e){const t=this.getHeaderActionDictionary().delete.tooltip;return this.chooseTooltipBasedOnActionDisabledStatus(t,e)}getHeaderActionDictionary(){return this.config.dictionary.getHeaderActionDictionary()}getHeaderActionConfirmDialogDictionary(){return this.config.dictionary.getHeaderActionConfirmDialogDictionary()}getInlineActionDictionary(){return this.config.dictionary.getInlineActionDictionary()}getInlineActionConfirmDialogDictionary(){return this.config.dictionary.getInlineActionConfirmDialogDictionary()}getDeleteButtonTooltipText(e,t){return this.composeDeleteBtnTooltip(t.isDeleteDisabled(e),t,e)}checkConfirmDialogsEnabled(){return!0}toggleItemsList(){this.isTreeGridVisible=!this.isTreeGridVisible}showItemsList(){this.isTreeGridVisible=!0}hideItemsList(){this.isTreeGridVisible=!1}observeItems(){this.itemsStore.observeItems().pipe(this.takeUntilDestroy()).subscribe(e=>{this.treeRef.tree.markAllForUpdate(),this.items=[...e],this.changeDetectorRef.detectChanges()})}openCrudModal(e,t){let i,s;this.config.customComponentForCreateModal?(i=this.config.customComponentForCreateModal.modalConfig,s=this.config.customComponentForCreateModal.modalData):(i=new E.g.Builder(p.H).withBlanket(!0).withInjector(this.injector).build(),s={fields:this.getFieldsConfiguration(t),modalDictionary:this.config.dictionary.getModalDictionary(),modalConfiguration:i,action:e,item:t,onFormValueChange$:this.config.onFormValueChange$}),this.modalWindowService.open(i,s),this.openModalWindow=!0}getFieldsConfiguration(e){return(this.config.fieldsConfigurationAccessor||(()=>this.config.fieldsConfiguration))(e)}chooseTooltipBasedOnActionDisabledStatus(e,t){return e?t?e.onDisabled:e.default:""}fetchItems(){this.itemsStore.fetchItemsOnce()}initTreeActionsAndConfig(){this.treeActions=u.k.default.clone(),this.treeActions=this.treeActions.withUpdate((e,t)=>this.itemsStore.update(e.rawTreeNode,t).pipe((0,n.U)(e=>!!e)).toPromise()),this.config.dragAndDrop&&(this.treeActions=this.treeActions.withMove((e,t,i)=>{const s=e[0],r=this.selectedItemsStorageService.get().find(e=>e.getId()===s);return new Promise(e=>{this.itemsStore.move(r.data,i=i>r.nodeIndex?i-1:i).pipe(this.takeUntilDestroy()).subscribe(()=>{e(!0)})})})),this.treeConfig=this.treeConfig.withInlineEdit(this.inlineEdit)}updateColumns(){this.treeColumns=this.columnsQL.toArray().map(e=>e.convertToTreeColumnComponent()),this.changeDetectorRef.detectChanges()}updateModalButtons(){this.customButtonsQL&&(this.customModalButtons=this.getCustomModalButtons(),this.customModalButtons&&(0,C.H)().pipe(this.takeUntilDestroy()).subscribe(()=>this.changeDetectorRef.detectChanges()))}updateInlineButtons(){this.customButtonsQL&&(this.customInlineButtons=this.getCustomInlineButtons(),this.customInlineButtons&&(0,C.H)().pipe(this.takeUntilDestroy()).subscribe(()=>this.changeDetectorRef.detectChanges()))}getCustomModalButtons(){return this.customButtonsQL.toArray().filter(e=>e.isModal()).find(()=>!0)}getCustomInlineButtons(){return this.customButtonsQL.toArray().filter(e=>e.isInline()).find(()=>!0)}}return e.\u0275fac=function(t){return new(t||e)(x.Y36(x.SBq),x.Y36(x.Qsj),x.Y36(x.sBO),x.Y36(x.s_b),x.Y36(x.zs3),x.Y36(a.q),x.Y36(v.b),x.Y36(T.e),x.Y36(f.k))},e.\u0275cmp=x.Xpm({type:e,selectors:[["sp-crud"]],contentQueries:function(e,t,i){if(1&e&&(x.Suo(i,l.U,4),x.Suo(i,d.h,4)),2&e){let e;x.iGM(e=x.CRH())&&(t.columnsQL=e),x.iGM(e=x.CRH())&&(t.customButtonsQL=e)}},viewQuery:function(e,t){if(1&e&&(x.Gf(U,7),x.Gf(k,7),x.Gf(B,5,x.s_b),x.Gf(V,5)),2&e){let e;x.iGM(e=x.CRH())&&(t.treeRef=e.first),x.iGM(e=x.CRH())&&(t.modalGroupButtonsRef=e.first),x.iGM(e=x.CRH())&&(t.modalCustomButtonsRef=e.first),x.iGM(e=x.CRH())&&(t.inlineCustomButtonsQL=e)}},inputs:{config:"config",treeId:"treeId"},features:[x._Bn([{provide:a.q,useClass:a.q}]),x.qOj,x.TTD],ngContentSelectors:ge,decls:33,vars:48,consts:[[1,"sp-panel-header"],["id","sp-panel-header-title","class","sp-panel-header-title",4,"ngIf"],["id","sp-panel-header-buttons",1,"sp-panel-header-buttons"],[1,"sp-flex","sp-align-items-center"],["modalGroupButtons",""],[4,"ngIf"],[1,"crud-action-button-wrapper",3,"spTooltipEnabled","spTooltip"],["sp-button","","class","sp-modal-button-create",3,"disabled","primary","sp-circle","click",4,"ngIf"],["sp-button","","class","sp-modal-button-read",3,"disabled","click",4,"ngIf"],["sp-button","","class","sp-modal-button-update",3,"disabled","click",4,"ngIf"],["sp-button","","class","sp-modal-button-delete",3,"disabled","spConfirmDialog","spConfirmDialogConfirmButtonTitle","spConfirmDialogMessage","spConfirmDialogGravity","spConfirmDialogOnSubmit",4,"ngIf"],[1,"sp-flex","sp-justify-content-between"],["id","sp-crud-panel-description","class","sp-panel-description sp-content-xl sp-mb-6",3,"config",4,"ngIf"],[1,"sp-tree-container"],[1,"sp-panel-content"],[3,"treeId","config","actions","nodes"],["treeRef",""],[3,"inlineEdit",4,"ngIf"],["id","sp-panel-header-title",1,"sp-panel-header-title"],["class","sp-documentation-link","target","_blank",3,"spTooltipEnabled","spTooltip",4,"ngIf"],["target","_blank",1,"sp-documentation-link",3,"spTooltipEnabled","spTooltip"],[1,"far","fa-question-circle","sp-text-xl"],[4,"ngTemplateOutlet"],["sp-button","",1,"sp-modal-button-create",3,"disabled","primary","click"],[4,"ngIf","ngIfElse"],["createText",""],[1,"fas","fa-plus"],["sp-button","",1,"sp-modal-button-read",3,"disabled","click"],["sp-button","",1,"sp-modal-button-update",3,"disabled","click"],["sp-button","",1,"sp-modal-button-delete",3,"disabled","spConfirmDialog","spConfirmDialogConfirmButtonTitle","spConfirmDialogMessage","spConfirmDialogGravity","spConfirmDialogOnSubmit"],["id","sp-crud-panel-description",1,"sp-panel-description","sp-content-xl","sp-mb-6",3,"config"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"inlineEdit"],[3,"flex","validators","header","template","formField","disableResize","dragButton",4,"ngFor","ngForOf"],["disableResize","true",3,"header","flex","cssClass"],[3,"flex","validators","header","template","formField","disableResize","dragButton"],["sp-button","","class","sp-inline-button-update",3,"disabled","spTooltipEnabled","spTooltip","spTooltipGravity","sp-bg-transparent","id","click",4,"ngIf"],["sp-button","","class","sp-inline-button-delete",3,"disabled","spConfirmDialog","spConfirmDialogConfirmButtonTitle","spConfirmDialogMessage","spConfirmDialogGravity","spTooltipEnabled","spTooltip","spTooltipGravity","sp-bg-transparent","id","spConfirmDialogOnSubmit",4,"ngIf"],["sp-button","",1,"sp-inline-button-update",3,"disabled","spTooltipEnabled","spTooltip","spTooltipGravity","id","click"],["editText",""],[1,"fas","fa-pen"],["sp-button","",1,"sp-inline-button-delete",3,"disabled","spConfirmDialog","spConfirmDialogConfirmButtonTitle","spConfirmDialogMessage","spConfirmDialogGravity","spTooltipEnabled","spTooltip","spTooltipGravity","id","spConfirmDialogOnSubmit"],["deleteText",""],[1,"fas","fa-trash"]],template:function(e,t){1&e&&(x.F$t(he),x.TgZ(0,"div",0),x.YNc(1,P,5,4,"div",1),x.TgZ(2,"div",2),x.TgZ(3,"sp-button-group",3,4),x.YNc(5,Z,3,1,"ng-container",5),x.TgZ(6,"div"),x.TgZ(7,"div",6),x.ALo(8,"spRichTextI18n"),x.YNc(9,H,4,7,"button",7),x.ALo(10,"hasCrudAction"),x.qZA(),x.TgZ(11,"div",6),x.ALo(12,"spRichTextI18n"),x.YNc(13,q,3,5,"button",8),x.ALo(14,"hasCrudAction"),x.qZA(),x.TgZ(15,"div",6),x.ALo(16,"spRichTextI18n"),x.YNc(17,Q,3,5,"button",9),x.ALo(18,"hasCrudAction"),x.qZA(),x.TgZ(19,"div",6),x.ALo(20,"spRichTextI18n"),x.YNc(21,$,5,13,"button",10),x.ALo(22,"hasCrudAction"),x.qZA(),x.qZA(),x.qZA(),x.qZA(),x.qZA(),x.TgZ(23,"div",11),x.YNc(24,j,1,1,"sp-rich-text",12),x.YNc(25,X,2,4,"div",5),x.qZA(),x.YNc(26,te,2,4,"div",5),x.TgZ(27,"div",13),x.TgZ(28,"div",14),x.TgZ(29,"sp-treegrid",15,16),x.YNc(31,ue,5,7,"sp-tree-column-collection",17),x.qZA(),x.Hsn(32),x.qZA(),x.qZA()),2&e&&(x.xp6(1),x.Q6J("ngIf",t.config.header),x.xp6(2),x.ekj("reverse-row",t.config.reverseHeaderButtons),x.xp6(2),x.Q6J("ngIf",t.customModalButtons),x.xp6(2),x.Q6J("spTooltipEnabled",!!t.composeHeaderCreateActionTooltip(t.config.disabled.create))("spTooltip",x.lcZ(8,28,t.composeHeaderCreateActionTooltip(t.config.disabled.create))),x.xp6(2),x.Q6J("ngIf",x.xi3(10,30,t.config.modalCrudActions,"CREATE")&&t.isTreeGridVisible),x.xp6(2),x.Q6J("spTooltipEnabled",!!t.composeHeaderReadActionTooltip(t.config.disabled.read))("spTooltip",x.lcZ(12,33,t.composeHeaderReadActionTooltip(t.config.disabled.read))),x.xp6(2),x.Q6J("ngIf",x.xi3(14,35,t.config.modalCrudActions,"READ")),x.xp6(2),x.Q6J("spTooltipEnabled",!!t.composeHeaderUpdateActionTooltip(t.config.disabled.update))("spTooltip",x.lcZ(16,38,t.composeHeaderUpdateActionTooltip(t.config.disabled.update))),x.xp6(2),x.Q6J("ngIf",x.xi3(18,40,t.config.modalCrudActions,"UPDATE")),x.xp6(2),x.Q6J("spTooltipEnabled",!!t.composeHeaderDeleteActionTooltip(t.config.disabled.delete))("spTooltip",x.lcZ(20,43,t.composeHeaderDeleteActionTooltip(t.config.disabled.delete))),x.xp6(2),x.Q6J("ngIf",x.xi3(22,45,t.config.modalCrudActions,"DELETE")),x.xp6(3),x.Q6J("ngIf",t.config.description),x.xp6(1),x.Q6J("ngIf",t.config.rightCustomHeaderSection),x.xp6(1),x.Q6J("ngIf",t.config.leftCustomHeaderSection),x.xp6(1),x.Udp("visibility",t.isTreeGridVisible?"visible":"hidden"),x.ekj("sp-crud-viewport-enabled",t.isViewPortRenderEnabled()),x.xp6(2),x.Q6J("treeId",t.treeId)("config",t.treeConfig)("actions",t.treeActions)("nodes",t.items),x.xp6(2),x.Q6J("ngIf",t.treeColumns.length>0))},directives:[D.O5,b.K,w.i9,m.l,D.tP,S.r,A.b,R.E,_.$,D.sg,N.F],pipes:[L.d,O.s,F.L,M.s],styles:["sp-crud{display:flex;flex-direction:column;flex:1 0 auto}sp-crud .sp-tree-container.sp-crud-viewport-enabled{display:flex;flex-direction:column;flex:1 0 auto;position:relative;width:100%}sp-crud .sp-tree-container.sp-crud-viewport-enabled .sp-panel-content{position:absolute;width:100%;height:100%;top:0;left:0}sp-crud .sp-treegrid-container .sp-treegrid-row-container.sp-content-scroll-enabled .sp-treegrid-row-cell:last-child{justify-content:flex-end}sp-crud sp-treegrid .sp-treegrid-header-cell:last-child{text-align:right}sp-crud .crud-action-button-wrapper{display:inline-block}sp-crud .crud-action-button-wrapper .sp-select-field{padding:0;width:100%}sp-crud .crud-action-button-wrapper button:not(:disabled):active i{color:var(--primary)}sp-crud sp-button-group.reverse-row{flex-direction:row-reverse}"],encapsulation:2,changeDetection:0}),e})()},91307:(e,t,i)=>{"use strict";i.d(t,{h:()=>r});var s=i(94846);let r=(()=>{class e{isInline(){return this.type===e.INLINE}isModal(){return this.type===e.MODAL}}return e.MODAL="modal",e.INLINE="inline",e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=s.Xpm({type:e,selectors:[["sp-crud-custom-buttons"]],contentQueries:function(e,t,i){if(1&e&&s.Suo(i,s.Rgc,5),2&e){let e;s.iGM(e=s.CRH())&&(t.template=e.first)}},inputs:{type:"type"},decls:0,vars:0,template:function(e,t){},encapsulation:2}),e})()},84554:(e,t,i)=>{"use strict";i.d(t,{k:()=>s});var s=(()=>(function(e){e[e.CREATE=0]="CREATE",e[e.UPDATE=1]="UPDATE"}(s||(s={})),s))()},82622:(e,t,i)=>{"use strict";i.d(t,{H:()=>x});var s=i(47320),r=i(91778),n=i(16762),o=i(79122),a=i(84554),l=i(4335),d=i(84933),c=i(89932),p=i(26790),u=i(34036),h=i(94846);let g=(()=>{class e extends r.y{constructor(e){super(),this.itemsStore=e}setConfiguration(e){this.configuration=e}submit(e){const t=this.configuration;switch(t.action){case a.k.CREATE:return this.itemsStore.create(e);case a.k.UPDATE:return this.itemsStore.update(t.item,e);default:throw new Error("Unhandled action")}}}return e.\u0275fac=function(t){return new(t||e)(h.LFG(u.q))},e.\u0275prov=h.Yz7({token:e,factory:e.\u0275fac}),e})();function f(e){return new g(e)}var m=i(4562),T=i(24176),E=i(41149),v=i(26484),I=i(91216),y=i(81802);function C(e,t){if(1&e&&(h._UZ(0,"sp-form-field",8),h.ALo(1,"spRichTextI18n")),2&e){const e=t.$implicit;h.Q6J("id",e.id)("name",e.controlName)("label",e.label)("value",e.value)("description",h.lcZ(1,10,e.description))("validators",e.validators)("config",e.config)("disabled",e.disabled)("placeholder",e.placeholder)("type",e.type)}}let x=(()=>{class e extends c.H{constructor(e,t,i,s,r,o,a){super(e,t),this.applicationRef=i,this.changeDetectorRef=s,this.modalWindowService=r,this.crudModalWindowFromRepository=o,this.modalWindowComponent=a,this.formErrorStrategy=n.k.ERROR_LIST,this.confirmButtonDisabled=!0,this.pending=!1,this.trackByFieldFn=p.M.create("id","controlName","label"),this.formProcessing=!1,this.formInvalid=!0}ngOnInit(){this.domManipulator.setHostAttribute("id","sp-crud-modal-window"),this.modalWindowComponent.setConfirmAction(()=>this.save()),this.observeFormStatus(),this.configuration.onFormValueChange$&&this.observeFormValueChanges(),this.crudModalWindowFromRepository.setConfiguration(this.configuration)}save(){this.setPending(!0),this.setFormProcessingStatus(!0),this.formRef.submit(),this.formRef.observeFormStatus().pipe(this.takeUntilDestroy()).subscribe(e=>{e===o.P.SUCCESS&&this.closeModal(),e===o.P.FAILED&&this.setPending(!1)})}closeModal(){this.modalWindowService.close(this.configuration.modalConfiguration)}getDictionary(){const e=this.configuration.modalDictionary;switch(this.configuration.action){case a.k.CREATE:return e.create;case a.k.UPDATE:return e.update;default:throw new Error("Unhandled action")}}onFormValidStatusChange(e){this.formInvalid=!e,this.updateConfirmButtonEnabledStatus()}observeFormValueChanges(){this.formRef.valueChanges().pipe(this.takeUntilDestroy()).subscribe(e=>{this.configuration.onFormValueChange$.next({formValue:e,spFormRef:this.formRef})})}observeFormStatus(){this.formRef.observeFormStatus().pipe(this.takeUntilDestroy()).subscribe(e=>{e!==o.P.PENDING&&this.setFormProcessingStatus(!1)})}setPending(e){this.pending=e,this.changeDetectorRef.detectChanges()}setFormProcessingStatus(e){this.formProcessing=e,this.updateConfirmButtonEnabledStatus()}updateConfirmButtonEnabledStatus(){this.confirmButtonDisabled=this.formInvalid||this.formProcessing,this.changeDetectorRef.detectChanges()}}return e.\u0275fac=function(t){return new(t||e)(h.Y36(h.SBq),h.Y36(h.Qsj),h.Y36(h.z2F),h.Y36(h.sBO),h.Y36(l.b),h.Y36(r.y),h.Y36(d.Zh))},e.\u0275cmp=h.Xpm({type:e,selectors:[["sp-crud-modal-window"]],viewQuery:function(e,t){if(1&e&&h.Gf(s.Ur,7),2&e){let e;h.iGM(e=h.CRH())&&(t.formRef=e.first)}},features:[h._Bn([{provide:r.y,useFactory:f,deps:[u.q]}]),h.qOj],decls:14,vars:15,consts:[[1,"sp-modal-header"],[1,"sp-modal-title"],[1,"sp-modal-body","add-dialog-content"],[3,"strategy","validStatusChange"],[3,"id","name","label","value","description","validators","config","disabled","placeholder","type",4,"ngFor","ngForOf","ngForTrackBy"],[1,"sp-modal-footer"],[3,"pending","disabled","id","onConfirm"],[1,"sp-mr-2",3,"cancelModal"],[3,"id","name","label","value","description","validators","config","disabled","placeholder","type"]],template:function(e,t){1&e&&(h.TgZ(0,"div",0),h.TgZ(1,"div",1),h._uU(2),h.ALo(3,"spL10nText"),h.qZA(),h.qZA(),h.TgZ(4,"div",2),h.TgZ(5,"sp-form",3),h.NdJ("validStatusChange",function(e){return t.onFormValidStatusChange(e)}),h.YNc(6,C,2,12,"sp-form-field",4),h.qZA(),h.qZA(),h.TgZ(7,"div",5),h.TgZ(8,"sp-modal-window-confirm-button",6),h.NdJ("onConfirm",function(){return t.save()}),h._uU(9),h.ALo(10,"spL10nText"),h.qZA(),h.TgZ(11,"sp-modal-window-cancel-button",7),h.NdJ("cancelModal",function(){return t.closeModal()}),h._uU(12),h.ALo(13,"spL10nText"),h.qZA(),h.qZA()),2&e&&(h.xp6(2),h.hij(" ",h.lcZ(3,9,t.getDictionary().title)," "),h.xp6(3),h.Q6J("strategy",t.formErrorStrategy),h.xp6(1),h.Q6J("ngForOf",t.configuration.fields)("ngForTrackBy",t.trackByFieldFn),h.xp6(2),h.Q6J("pending",t.pending)("disabled",t.confirmButtonDisabled)("id","sp-crud-modal-confirm-button"),h.xp6(1),h.hij(" ",h.lcZ(10,11,t.getDictionary().submitBtnText)," "),h.xp6(3),h.hij(" ",h.lcZ(13,13,"SPT_COMMON_CRUD_MODAL_WINDOW_BUTTON_CANCEL")," "))},directives:[s.Ur,m.sg,T.r,E.l,v.u],pipes:[I.L,y.d],styles:[".add-dialog-content sp-form{width:552px;min-height:200px}.add-dialog-content sp-form ::ng-deep .sp-select-button.sp-form-control{max-width:552px}"],encapsulation:2,changeDetection:0}),e})()},74303:(e,t,i)=>{"use strict";i.d(t,{$:()=>I});var s=i(4562),r=i(94846),n=i(88566),o=i(6812),a=i(15894),l=i(63491),d=i(18842),c=i(30159),p=i(68387),u=i(42028),h=i(70802),g=i(90540),f=i(89932),m=i(9968),T=i(82376),E=i(57592),v=i(61829);class I extends f.H{constructor(e,t,i,s,o,a,l,d){super(e,t),this.platform=i,this.sanitizer=s,this.httpClient=o,this.lazyImagesRepository=a,this.platformId=l,this.document=d,this.loading=new r.vpe,this.loaded=new r.vpe,this.isIntersecting$=new n.t(1),this.resourceUrl$=new n.t(1)}ngOnChanges(e){e.resourceUrl&&e.resourceUrl.currentValue&&this.resourceUrl$.next(this.resourceUrl)}ngOnInit(){this.observeResource(),this.elementRef.nativeElement.decoding="async"}ngAfterViewInit(){this.connectIntersectionObserver()}finalize(){this.disconnectIntersectionObserver()}nativeLazyLoadingSupported(){return"loading"in HTMLImageElement.prototype}isPlatformSupported(){return(0,s.NF)(this.platformId)&&!this.platform.TRIDENT}connectIntersectionObserver(){!this.nativeLazyLoadingSupported()&&this.isPlatformSupported()&&(this.intersectionObserver=new IntersectionObserver(e=>{for(const{isIntersecting:t,intersectionRatio:i}of e)this.isIntersecting$.next(t||i>0)},I.INTERSECTION_OBSERVER_OPTIONS),this.intersectionObserver.observe(this.elementRef.nativeElement))}disconnectIntersectionObserver(){!this.nativeLazyLoadingSupported()&&this.isPlatformSupported()&&this.intersectionObserver.disconnect()}getResourceUrlChanges$(){return this.resourceUrl$.pipe((0,c.x)(),(0,p.U)(e=>{const t=this.isDataUrl(e),i=t?this.dataUrlToObjectUrl(e):this.sanitizer.sanitize(r.q3G.URL,e);return this.markAsLoading(),t||this.nativeLazyLoadingSupported()||!this.isPlatformSupported()?(this.subscribeToLoadEvent(),this.setResourceLoadingAsLazy(),this.setResourceSource(i),null):i}),(0,u.h)(e=>!!e))}getVisibleAtLeastOnceThenMapToResourceUrl$(e){return this.isIntersecting$.pipe((0,c.x)(),(0,u.h)(e=>e),(0,p.U)(()=>(this.intersectionObserver.unobserve(this.elementRef.nativeElement),e)))}getReadResourceStrategy$(e){const t=this.lazyImagesRepository.getResource(e);if(null!==t)return(0,o.of)(t);const i=this.lazyImagesRepository.getPendingResource(e);return(0,a.D)(null!==i?i:this.fetchResource(e))}observeResource(){this.getResourceUrlChanges$().pipe((0,h.w)(this.getVisibleAtLeastOnceThenMapToResourceUrl$.bind(this)),(0,h.w)(this.getReadResourceStrategy$.bind(this)),this.takeUntilDestroy()).subscribe(e=>{null!==e?(this.setResourceSource(e),this.markAsLoaded()):this.markAsUnloaded()})}fetchResource(e){const t=new Promise((t,i)=>{this.tmpImgElement=Object.assign(new Image,{crossOrigin:"anonymous",referrerPolicy:"origin-only",src:e,onload:()=>t(""),onerror:()=>i()})}).then(()=>this.onLoadResourceSuccess()).catch(()=>this.onLoadResourceFailure(e));return this.lazyImagesRepository.setPendingResource(e,t),t}onLoadResourceSuccess(){return this.tmpCanvasElement=this.document.createElement("canvas"),this.tmpCanvasContext=this.tmpCanvasElement.getContext("2d"),this.tmpCanvasElement.width=this.tmpImgElement.width,this.tmpCanvasElement.height=this.tmpImgElement.height,this.tmpCanvasContext.drawImage(this.tmpImgElement,0,0),new Promise(e=>{this.tmpCanvasElement.toBlob(t=>e(t))}).then(e=>(delete this.tmpCanvasContext,delete this.tmpCanvasElement,delete this.tmpImgElement,URL.createObjectURL(e)))}onLoadResourceFailure(e){return delete this.tmpImgElement,console.warn(`Unable to load resource from: ${e}.\nInstead using fallback to native browser behaviour. Note: SVG resources can't be load and cached from other origins due to security reasons.`),e}isDataUrl(e){return new RegExp("^data\\:(image\\/[^\\,\\;]+)","i").test(e)}dataUrlToObjectUrl(e){try{const{1:t,2:i,3:s}=new RegExp("^data\\:(image\\/[^\\,\\;]+).*?(\\;base64)?\\,(.*)$","i").exec(e),r=i?atob(s):s,n=new ArrayBuffer(r.length),o=new Uint8Array(n);for(let e=0;e<r.length;e++)o[e]=r.charCodeAt(e);const a=new Blob([n],{type:t});return URL.createObjectURL(a)}catch(t){return""}}setResourceLoadingAsLazy(){this.renderer.setAttribute(this.elementRef.nativeElement,"loading","lazy")}setResourceSource(e){this.renderer.setAttribute(this.elementRef.nativeElement,"src",e)}markAsLoading(){this.renderer.addClass(this.elementRef.nativeElement,I.CSS_CLASSES.LOADING),this.renderer.removeClass(this.elementRef.nativeElement,I.CSS_CLASSES.LOADED),this.renderer.removeClass(this.elementRef.nativeElement,I.CSS_CLASSES.UNLOADED),this.loading.emit(!0)}markAsLoaded(){this.renderer.addClass(this.elementRef.nativeElement,I.CSS_CLASSES.LOADED),this.renderer.removeClass(this.elementRef.nativeElement,I.CSS_CLASSES.LOADING),this.renderer.removeClass(this.elementRef.nativeElement,I.CSS_CLASSES.UNLOADED),this.loading.emit(!1),this.loaded.emit(!0)}markAsUnloaded(){this.renderer.addClass(this.elementRef.nativeElement,I.CSS_CLASSES.UNLOADED),this.renderer.removeClass(this.elementRef.nativeElement,I.CSS_CLASSES.LOADING),this.renderer.removeClass(this.elementRef.nativeElement,I.CSS_CLASSES.LOADED),this.loading.emit(!1),this.loaded.emit(!1)}subscribeToLoadEvent(){(0,l.T)((0,d.R)(this.elementRef.nativeElement,"load").pipe((0,p.U)(()=>!0)),(0,d.R)(this.elementRef.nativeElement,"error").pipe((0,p.U)(()=>!1))).pipe((0,g.q)(1),this.takeUntilDestroy()).subscribe(e=>{e?this.markAsLoaded():this.markAsUnloaded()})}}I.CSS_CLASSES=Object.freeze({LOADING:"sp-lazy-img--loading",LOADED:"sp-lazy-img--loaded",UNLOADED:"sp-lazy-img--unloaded"}),I.INTERSECTION_OBSERVER_OPTIONS=Object.freeze({threshold:[0]}),I.\u0275fac=function(e){return new(e||I)(r.Y36(r.SBq),r.Y36(r.Qsj),r.Y36(m.t4),r.Y36(T.H7),r.Y36(E.eN),r.Y36(v.L),r.Y36(r.Lbi),r.Y36(s.K0))},I.\u0275dir=r.lG2({type:I,selectors:[["img","spLazyImg",""]],hostVars:2,hostBindings:function(e,t){2&e&&r.ekj("sp-lazy-img",!0)},inputs:{resourceUrl:["spLazyImg","resourceUrl"]},outputs:{loading:"loading",loaded:"loaded"},features:[r.qOj,r.TTD]})},61829:(e,t,i)=>{"use strict";i.d(t,{L:()=>r});var s=i(94846);let r=(()=>{class e{constructor(){this.pending=new Map,this.loaded=new Map}hasResource(e){return this.loaded.has(e)}hasPendingResource(e){return this.pending.has(e)}getResource(e){return this.loaded.get(e)||null}getPendingResource(e){return this.pending.get(e)||null}setResource(e,t){this.loaded.set(e,t)}setPendingResource(e,t){const i=t.then(t=>(this.removePendingResource(e),this.setResource(e,t),t),t=>(this.removePendingResource(e),t));this.pending.set(e,i)}removePendingResource(e){this.pending.delete(e)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=s.Yz7({token:e,factory:e.\u0275fac}),e})()},33786:(e,t,i)=>{"use strict";i.d(t,{x:()=>o});var s=i(89932),r=i(94846),n=i(62588);let o=(()=>{class e extends s.H{constructor(e,t,i,s){super(e,t),this.barLoaderService=i,this.changeDetectorRef=s,this.hidden=!0,this.progress=0}ngOnInit(){this.domManipulator.setHostAttribute("id","sp-bar-loader"),this.observeEvent()}finalize(){this.detachListeners(),this.barLoaderService.destroy()}getHostClasses(){return["sp-bar-loader","sp-display-block"]}observeEvent(){this.barLoaderService.connect().pipe(this.takeUntilDestroy()).subscribe(t=>{this.setBarLoaderVisible(t.enabled),this.progress=t.progress/e.PROGRESS_MAX_RANGE,this.changeDetectorRef.detectChanges()})}setBarLoaderVisible(t){if(this.visible=t,this.visible)this.hidden=!1;else{this.detachListeners();const t=setTimeout(()=>{this.hidden=!0,this.changeDetectorRef.detectChanges()},e.PROGRESS_TIMEOUT);this.removeTimoutListener=()=>clearTimeout(t)}}detachListeners(){this.removeTimoutListener&&this.removeTimoutListener()}}return e.PROGRESS_MAX_RANGE=100,e.PROGRESS_TIMEOUT=50,e.\u0275fac=function(t){return new(t||e)(r.Y36(r.SBq),r.Y36(r.Qsj),r.Y36(n.F),r.Y36(r.sBO))},e.\u0275cmp=r.Xpm({type:e,selectors:[["sp-bar-loader"]],features:[r.qOj],decls:1,vars:6,consts:[["id","sp-bar-loader-progress-bar",1,"sp-bar-loader__progress","sp-bg-primary","sp-h-full"]],template:function(e,t){1&e&&r._UZ(0,"div",0),2&e&&(r.Udp("transform","scale("+t.progress+", 1)"),r.ekj("sp-opacity-100",t.visible)("sp-none",t.hidden))},styles:[".sp-bar-loader{height:2px}.sp-bar-loader__progress{transition:transform .3s ease-in;transform-origin:left}"],encapsulation:2,changeDetection:0}),e})()},3712:(e,t,i)=>{"use strict";i.d(t,{t:()=>a});var s=i(4562),r=(i(33786),i(62588)),n=i(94846);const o=[r.F,(()=>{class e{constructor(e){this.barLoaderService=e,this.removeBlanketTimeout=500,this.requestsCounter=0}connect(){return this.barLoaderService.connect()}start(){this.requestsCounter++,this.barLoaderService.start(),0===this.requestsCounter&&setTimeout(()=>{jQuery("body").after('<div class="disable-blanket"></div>'),jQuery(".disable-blanket").css({cursor:"wait",height:"100%",position:"absolute",width:"100%",top:"0","z-index":"10003"})},this.removeBlanketTimeout)}complete(){this.requestsCounter--,this.barLoaderService.complete(),0===this.requestsCounter&&this.removeBlanket()}fail(){this.requestsCounter--,this.barLoaderService.fail(),0===this.requestsCounter&&this.removeBlanket()}removeBlanket(){setTimeout(()=>{jQuery(".disable-blanket").remove()},this.removeBlanketTimeout)}}return e.\u0275fac=function(t){return new(t||e)(n.LFG(r.F))},e.\u0275prov=n.Yz7({token:e,factory:e.\u0275fac}),e})()];let a=(()=>{class e{static forRoot(){return{ngModule:e,providers:o}}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=n.oAB({type:e}),e.\u0275inj=n.cJS({imports:[[s.ez]]}),e})()},62588:(e,t,i)=>{"use strict";i.d(t,{F:()=>o});var s=i(78268);class r{constructor(e,t){this.enabled=e,this.progress=t}}var n=i(94846);let o=(()=>{class e{constructor(){this.progressStep=10,this.completed=!0,this.defaultProgressStep=1,this.status$=new s.xQ,this.intervalHandle=void 0,this.MAX_NOT_COMPLETED_PROGRESS=99,this.resetProgress()}connect(){return this.status$.asObservable()}start(){this.isCompleted()&&(this.setCompleteStatus(!1),this.resetProgress(),this.startInterval())}complete(){this.setCompleteStatus(!0)}fail(){this.setCompleteStatus(!0)}destroy(){this.removeTimoutListener&&this.removeTimoutListener()}isCompleted(){return this.completed}setCompleteStatus(e){this.completed=e}startInterval(){this.progressStep=this.defaultProgressStep,this.clearInterval(),this.increaseProgress(this.progressStep),this.status$.next(new r(!0,this.progress)),this.setProgress()}completeInterval(){this.clearInterval(),this.maximizeProgress();const t=setTimeout(()=>{this.emit(!1)},e.COMPLETE_DELAY);this.removeTimoutListener=()=>clearTimeout(t)}increaseProgress(e=1){this.progress!==this.MAX_NOT_COMPLETED_PROGRESS&&(this.progress+e>100?this.progress=100:this.progress+=e)}maximizeProgress(){this.progress=100}resetProgress(){this.progress=1}emit(e){this.status$.next(new r(e,this.progress))}setProgress(){this.intervalHandle=setInterval(()=>{this.status$.next(new r(!0,this.progress)),this.completed&&(this.progressStep+=100),this.progress>30&&!this.completed&&(this.progressStep*=.9),this.progress>50&&!this.completed&&(this.progressStep*=.9),this.progress>70&&!this.completed&&(this.progressStep*=.9),this.progress>98&&this.completed&&this.completeInterval(),this.increaseProgress(this.progressStep)},e.TICK_TIME)}clearInterval(){void 0!==this.intervalHandle&&(clearInterval(this.intervalHandle),this.intervalHandle=void 0)}}return e.TICK_TIME=300,e.COMPLETE_DELAY=500,e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=n.Yz7({token:e,factory:e.\u0275fac}),e})()},81693:(e,t,i)=>{"use strict";i.d(t,{C:()=>o});var s=i(12722),r=i(95381),n=i(94846);let o=(()=>{class e extends s.H{constructor(e,t,i){super(),this.elementRef=e,this.renderer=t,this.resizeService=i,this.spAdjustWidthToParent=!0}ngAfterViewInit(){this.spAdjustWidthToParent&&this.attachResizeListener()}finalize(){this.resizeService.removeResizeDetectorFromDom(this.elementRef.nativeElement)}setRowListWidth(e){const t=this.childElem||this.elementRef.nativeElement.querySelector(this.childClass);t&&this.renderer.setStyle(t,"width",e+"px")}attachResizeListener(){this.resizeService.addResizeDetectorToDom(this.elementRef.nativeElement).pipe(this.takeUntilDestroy()).subscribe(e=>{this.setRowListWidth(e.width)})}}return e.\u0275fac=function(t){return new(t||e)(n.Y36(n.SBq),n.Y36(n.Qsj),n.Y36(r.C))},e.\u0275dir=n.lG2({type:e,selectors:[["","spAdjustWidthToParent",""]],inputs:{childClass:["spAdjustWidthToParentChildClass","childClass"],childElem:["spAdjustWidthToParentChildElem","childElem"],spAdjustWidthToParent:"spAdjustWidthToParent"},features:[n.qOj]}),e})()},22572:(e,t,i)=>{"use strict";i.d(t,{N:()=>l});var s=i(12722),r=i(18842),n=i(42028),o=i(18552),a=i(94846);let l=(()=>{class e extends s.H{constructor(e,t){super(),this.ignoredEventsService=t,this.enabled=!0,this.nativeElement=e.nativeElement}ngOnInit(){(0,r.R)(this.nativeElement,"mousedown").pipe((0,n.h)(()=>this.enabled),(0,n.h)(e=>class{static isLeftButton(e){return 0===e.button}static isMiddleButton(e){return 1===e.button}static isRightButton(e){return 2===e.button}}.isRightButton(e)),this.takeUntilDestroy()).subscribe(e=>this.ignoredEventsService.set(e)),(0,r.R)(this.nativeElement,"contextmenu").pipe((0,n.h)(()=>this.enabled),this.takeUntilDestroy()).subscribe(e=>this.ignoredEventsService.set(e))}}return e.\u0275fac=function(t){return new(t||e)(a.Y36(a.SBq),a.Y36(o.R))},e.\u0275dir=a.lG2({type:e,selectors:[["","spRightClickIgnore",""]],inputs:{enabled:["spRightClickIgnoreEnabled","enabled"]},features:[a.qOj]}),e})()},12474:(e,t,i)=>{"use strict";i.d(t,{x:()=>s});var s=(()=>(function(e){e.NAVIGATION="SPT_COMMON_SHORTCUTS_GROUP_NAME_NAVIGATION",e.LAYOUT="SPT_COMMON_SHORTCUTS_LAYOUT_ACTIONS_HEADER",e.VIEW="SPT_COMMON_SHORTCUTS_GROUP_VIEW_HEADER",e.TIMELINE="SPT_COMMON_SHORTCUTS_GROUP_TIMELINE_HEADER",e.TEAMS="SPT_COMMON_SHORTCUTS_GROUP_TEAMS_HEADER"}(s||(s={})),s))()},57208:(e,t,i)=>{"use strict";i.d(t,{D:()=>c});var s=i(88566),r=i(90540);let n=(()=>{class e{static mapFormat(t){if(!t)return t;const i=e.extractJavaFormatFragments(t);return this.mapToMomentFragments(i).join("")}static mapToMomentFragments(e){return e.map(e=>this.javaFormatToMomentJSFormat[e]||e)}static extractJavaFormatFragments(e){const t=e.split("");let i="",s="";const r=[];return t.forEach((e,n)=>{0===n||s===e?i+=e:s!==e&&(r.push(i),i="",i+=e),n===t.length-1&&r.push(i),s=e}),r}}return e.javaFormatToMomentJSFormat={d:"D",dd:"DD",y:"YYYY",yy:"YY",yyy:"YYYY",yyyy:"YYYY",a:"a",A:"A",M:"M",MM:"MM",MMM:"MMM",MMMM:"MMMM",h:"h",hh:"hh",H:"H",HH:"HH",m:"m",mm:"mm",s:"s",ss:"ss",S:"SSS",SS:"SSS",SSS:"SSS",E:"ddd",EE:"ddd",EEE:"ddd",EEEE:"dddd",EEEEE:"dddd",EEEEEE:"dddd",D:"DDD",w:"W",ww:"WW",z:"ZZ",zzzz:"Z",Z:"ZZ",X:"ZZ",XX:"ZZ",XXX:"Z",u:"E"},e})();var o=i(29979),a=i(94846),l=i(7090),d=i(75689);let c=(()=>{class e extends o.a{constructor(e,t){super(e),this.environmentService=t,this.dateFormat$=new s.t(1),this.dateTimeFormat$=new s.t(1),this.initialized=!1}getDateFormat(){return this.initialized||this.initialize(),this.dateFormat$.asObservable()}getDateTimeFormat(){return this.initialized||this.initialize(),this.dateTimeFormat$.asObservable()}getRestUrl(e){return`${this.environmentService.getRestBaseUrl()}tenant-system/l10n/info`}initialize(){this.initialized=!0,super.get("").pipe((0,r.q)(1)).subscribe(e=>{this.dateFormat$.next(n.mapFormat(e.dateFormat)),this.dateTimeFormat$.next(n.mapFormat(e.dateTimeFormat))})}}return e.\u0275fac=function(t){return new(t||e)(a.LFG(l.O),a.LFG(d.L))},e.\u0275prov=a.Yz7({token:e,factory:e.\u0275fac}),e})()},29787:(e,t,i)=>{"use strict";i.d(t,{R:()=>n});var s=i(94846);const r=i(2309);let n=(()=>{class e{static format(e,t){return r(e).format(t)}static isValidDate(e){return e instanceof Date&&!isNaN(e.valueOf())}static isBefore(e,t){return e.valueOf()<t.valueOf()}static isBeforeOrEqual(e,t){return e.valueOf()<=t.valueOf()}static isAfter(t,i){return e.isBefore(i,t)}static isEqual(e,t){return e.valueOf()===t.valueOf()}static isAfterOrEqual(e,t){return e.valueOf()>=t.valueOf()}static areTheSameDays(e,t){return e.getFullYear()===t.getFullYear()&&e.getMonth()===t.getMonth()&&e.getDate()===t.getDate()}static areTheSame(e,t){return e.getDate()===t.getDate()}static calculateTimeDifference(e,t){return Math.abs(t.getTime()-e.getTime())}static toUTCDate(e){return new Date(e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate(),e.getUTCHours(),e.getUTCMinutes(),e.getUTCSeconds())}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=s.Yz7({token:e,factory:e.\u0275fac}),e})()},26007:(e,t,i)=>{"use strict";i.d(t,{Z:()=>p});var s=i(4562),r=i(27388),n=i(57208),o=(i(78268),i(99721),i(29787)),a=(i(54738),i(94846)),l=i(35959),d=i(77393);const c=[n.D,o.R];let p=(()=>{class e{static forRoot(){return{ngModule:e,providers:c}}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=a.oAB({type:e}),e.\u0275inj=a.cJS({imports:[[s.ez,r.u5,l.z8,d.n]]}),e})()},14930:(e,t,i)=>{"use strict";i.d(t,{b:()=>r});class s{constructor(e){try{s.validateId(e)}catch(t){throw Error(t)}"string"==typeof e&&(this.internal=s.encode(e),this.ids=this.splitCompoundId()),"object"==typeof e&&(this.internal=this.createCompoundId(e),this.ids=e)}static validateId(e){if(""===e)throw Error("Id cannot be an empty string");if(null===e)throw Error("Id cannot be null");if("object"==typeof e&&0===e.length)throw Error("Id cannot be an empty array");if("string"==typeof e&&!s.isValidInTermsOfSpecialCharacter(e))throw Error("Id cannot be have"+s.FIRST_LAST_SEPARATOR_REPLACEMENT+" at first or last character");if("object"==typeof e)for(const t of e)if(!s.isValidInTermsOfSpecialCharacter(`${t}`))throw Error("Id cannot be have"+s.FIRST_LAST_SEPARATOR_REPLACEMENT+" at first or last character")}static isValidInTermsOfSpecialCharacter(e){const t=`${e}`.split("");return!(t[0]===s.FIRST_LAST_SEPARATOR_REPLACEMENT||t[t.length-1]===s.FIRST_LAST_SEPARATOR_REPLACEMENT)}static isBlank(e){return null==e||""===`${e}`.trim()}static encode(e){if(s.isBlank(e))return e;const t=`${e}`.split(""),i=t.length-1;return s.SEPARATOR===t[0]&&(t[0]=s.FIRST_LAST_SEPARATOR_REPLACEMENT),s.SEPARATOR===t[i]&&(t[i]=s.FIRST_LAST_SEPARATOR_REPLACEMENT),t.join("")}static decode(e){if(s.isBlank(e))return e;const t=`${e}`.split(""),i=t.length-1;return s.FIRST_LAST_SEPARATOR_REPLACEMENT===t[0]&&(t[0]=s.SEPARATOR),s.FIRST_LAST_SEPARATOR_REPLACEMENT===t[i]&&(t[i]=s.SEPARATOR),t.join("")}getInternal(){return s.decode(this.internal)}idAt(e){return s.decode(this.ids[e])}append(e){return new s([...this.ids,e])}prepend(e){return new s([e,...this.ids])}splitCompoundId(){const e=this.getLongestSeparator(this.internal);return 0===e.length?[this.internal]:this.internal.split(e)}createCompoundId(e){let t,i=0;e=e.map(e=>s.encode(e));for(const s of e){const e=this.getSeparatorLength(s);i=e>=i?e:i}return t=s.SEPARATOR.repeat(i+1),e.join(t)}getLongestSeparator(e){const t=this.getSeparatorLength(e);return s.SEPARATOR.repeat(t)}getSeparatorLength(e){let t=0,i=0;for(const r of e)s.SEPARATOR===r?i++:i=0,t=Math.max(i,t);return t}}s.FIRST_LAST_SEPARATOR_REPLACEMENT=String.fromCharCode(190),s.SEPARATOR="@";class r extends s{constructor(e){super(e)}static fromIds(e,t){return new r([e.toString(),t])}static fromCompoundId(e){return new r(e)}getExtPlatformId(){return Number(this.idAt(0))}getExtUserKey(){return this.idAt(1)}}},46085:(e,t,i)=>{"use strict";i.d(t,{bb:()=>p});var s=i(88566),r=i(42028),n=i(68387),o=i(79427),a=i(94846),l=i(99578);class d{constructor(e,t,i){this.groupName=e,this.scrollPosition=t,this.scrollHeight=i}}class c{constructor(e,t){this.scrollPosition=e,this.scrollHeight=t}static isEqual(e,t){return e.scrollPosition===t.scrollPosition&&e.scrollHeight===t.scrollHeight}}let p=(()=>{class e{constructor(e,t){this.rightClickDialogService=e,this.inlineDialogManager=t,this.scrollPosition$=new s.t(1)}scroll(e,t=0,i=0){this.rightClickDialogService.destroyDynamicComponent(),this.inlineDialogManager.destroy(),this.scrollPosition$.next(new d(e,t,i))}selectScroll(e){return this.scrollPosition$.pipe((0,r.h)(t=>t.groupName===e),(0,n.U)(({scrollPosition:e,scrollHeight:t})=>new c(e,t)))}}return e.\u0275fac=function(t){return new(t||e)(a.LFG(o.V),a.LFG(l.V))},e.\u0275prov=a.Yz7({token:e,factory:e.\u0275fac}),e})()},89312:(e,t,i)=>{"use strict";i.d(t,{nv:()=>ur});var s=i(4562),r=i(94846),n=i(33867),o=i(61145),a=i(73978);let l=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=r.oAB({type:e}),e.\u0275inj=r.cJS({imports:[[s.ez,a.l]]}),e})();var d=i(40351),c=i(72086),p=i(3712),u=i(41585),h=i(54035),g=i(29056),f=i(66),m=i(95381);let T=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=r.oAB({type:e}),e.\u0275inj=r.cJS({providers:[m.C],imports:[[s.ez]]}),e})();var E=i(33142),v=i(57748),I=i(4520),y=i(46085),C=i(40699),x=i(70156),D=i(25078);class b extends D.n{}var w=i(39985);class S extends w.Z{constructor(e){super(e)}}var A=i(64883);let R=(()=>{class e extends C.W{constructor(e,t){super(x.g.type,b,t),this.treeAggregateRepository=e}execute(e){const t=e.layout,i=this.treeAggregateRepository.getById(e.treeId);i.setLayout(t),this.treeAggregateRepository.save(i)}}return e.\u0275fac=function(t){return new(t||e)(r.LFG(S),r.LFG(A.p))},e.\u0275prov=r.Yz7({token:e,factory:e.\u0275fac}),e})();var _=i(48652);const N=[{provide:_.b,useClass:R,multi:!0}];var L=i(94707),O=i(82934);let F=(()=>{class e extends O._{compare(e,t){return e.toString()===t.toString()}}return e.\u0275fac=function(){let t;return function(i){return(t||(t=r.n5z(e)))(i||e)}}(),e.\u0275prov=r.Yz7({token:e,factory:e.\u0275fac}),e})();var M=i(2732),U=i(55977),k=i(94619),B=i(76066);let V=(()=>{class e extends k.b{constructor(e){super(b.type),this.treeCommandDispatcher=e}execute(e){this.treeCommandDispatcher.rebuild(e.getAggregateId())}}return e.\u0275fac=function(t){return new(t||e)(r.LFG(B.z))},e.\u0275prov=r.Yz7({token:e,factory:e.\u0275fac}),e})();var G=i(9329);class P extends D.n{constructor(e,t){super(e,t),this.treeId=t}getTreeId(){return this.treeId}}let Y=(()=>{class e extends C.W{constructor(e){super(G.B.type),this.dispatcher=e}execute(e){this.dispatcher.dispatch(new P(e.getId(),e.getTreeId()))}}return e.\u0275fac=function(t){return new(t||e)(r.LFG(A.p))},e.\u0275prov=r.Yz7({token:e,factory:e.\u0275fac}),e})();var Z=i(62716);class z extends D.n{constructor(e,t){super(e,t),this.treeId=t}getTreeId(){return this.treeId}}class J extends D.n{constructor(e,t,i){super(e,t),this.treeId=t,this.items=i}getItems(){return this.items}getTreeId(){return this.treeId}}let H=(()=>{class e extends C.W{constructor(e,t){super(Z.K.type),this.repo=e,this.dispatcher=t}execute(e){const t=this.repo.getById(e.getAggregateId());t.startDrag(e.getNode()),this.repo.save(t);const i=t.getSelectedItemIds();this.dispatcher.dispatch(new z(e.getId(),e.getTreeId())),this.dispatcher.dispatch(new J(e.getId(),e.getTreeId(),i))}}return e.\u0275fac=function(t){return new(t||e)(r.LFG(S),r.LFG(A.p))},e.\u0275prov=r.Yz7({token:e,factory:e.\u0275fac}),e})();var q=i(46222);class Q extends D.n{constructor(e,t,i,s,r){super(e,t),this.originTreeId=t,this.destinationNode=i,this.selectedItems=s,this.nodeIndex=r}getTreeId(){return this.originTreeId}getDestinationNode(){return this.destinationNode}getNodeIndex(){return this.nodeIndex}getSelectedItems(){return this.selectedItems}}var $=i(11196),j=i(72357);let W=(()=>{class e extends j.g{}return e.\u0275fac=function(){let t;return function(i){return(t||(t=r.n5z(e)))(i||e)}}(),e.\u0275prov=r.Yz7({token:e,factory:e.\u0275fac}),e})(),K=(()=>{class e extends $.f{constructor(e){super(e)}}return e.\u0275fac=function(t){return new(t||e)(r.LFG(W))},e.\u0275prov=r.Yz7({token:e,factory:e.\u0275fac}),e})(),X=(()=>{class e extends C.W{constructor(e,t){super(q.F.type),this.treeAggregateStore=e,this.dispatcher=t}execute(e){const t=this.treeAggregateStore.getById(e.getTreeId()),i=new Q(e.getId(),e.getTreeId(),e.getDestinationNode(),t.getSelectedItems(),e.getNodeIndex());this.dispatcher.dispatch(i)}}return e.\u0275fac=function(t){return new(t||e)(r.LFG(K),r.LFG(A.p))},e.\u0275prov=r.Yz7({token:e,factory:e.\u0275fac}),e})();class ee extends D.n{constructor(e,t,i,s,r){super(e,t),this.siblingNodeId=i,this.indent=s,this.selectedDropdownItemId=r}}var te=i(62784),ie=i(64946);let se=(()=>{class e extends C.W{constructor(e,t,i){super(te.M.type),this.dispatcher=e,this.treeInlineAddConfigStorage=t,this.treeGridAggregateRepository=i}execute(e){const t=e.getAggregateId(),i=e.indent;if(!this.treeInlineAddConfigStorage.isEnabled(t))return;const s=this.getNodeById(t,e.siblingNodeId);!this.canAdd(t,s,s.getParent())||i||s.isExpanded()?this.canIndent(t,s)&&this.dispatcher.dispatch(new ee(e.getId(),t,s.getId(),!0,e.selectedDropdownItemId)):this.dispatcher.dispatch(new ee(e.getId(),t,s.getId(),e.indent,e.selectedDropdownItemId))}canAdd(e,t,i){return this.treeInlineAddConfigStorage.getResolver(e).canAdd(i,t)}canIndent(e,t){return!this.treeInlineAddConfigStorage.getIndentResolver(e).canIndent(t).disabled}getNodeById(e,t){return this.treeGridAggregateRepository.getById(e).findNodeById(t)}}return e.\u0275fac=function(t){return new(t||e)(r.LFG(A.p),r.LFG(ie.r),r.LFG(S))},e.\u0275prov=r.Yz7({token:e,factory:e.\u0275fac}),e})();var re=i(29365),ne=i(91168),oe=i(40166);let ae=(()=>{class e extends C.W{constructor(e,t){super(ne.q.type),this.repo=e,this.dispatcher=t}execute(e){const t=e.getAggregateId(),i=this.repo.getById(t);if(i){const t=i.selectItem(e.itemId,e.mode);this.repo.save(i),this.dispatcher.dispatch(t,e)}}}return e.\u0275fac=function(t){return new(t||e)(r.LFG(S),r.LFG(oe.t))},e.\u0275prov=r.Yz7({token:e,factory:e.\u0275fac}),e})();class le extends D.n{constructor(e,t,i){super(e,t),this.scrollPosition=i}getScrollPosition(){return this.scrollPosition}}class de{static calculate(e,t){let i,s;const r=e<=t.startPosition+0,n=e>=t.endPosition-1;return r||n?(r?(s=e-(t.startPosition+0),i=-t.nodeHeight):n&&(s=e-(t.endPosition-1),i=t.nodeHeight),i+=t.nodeHeight*s,i):0}}var ce=i(176),pe=i(61989);let ue=(()=>{class e extends C.W{constructor(e,t,i){super(ce.a.type),this.repo=e,this.dispatcher=t,this.treeViewportRenderRepository=i}execute(e){const t=this.repo.getById(e.treeId);if(t.selectNextItem(),1===t.getSelectedItems().length){const i=this.treeViewportRenderRepository.get(e.treeId),s=t.getSelectedItems()[0].getNodePositionIncludingCollapsedNodes(),r=de.calculate(s,i);if(r){const t=new le(e.getId(),e.getAggregateId(),r);this.dispatcher.dispatch(t)}}this.repo.save(t),this.dispatcher.dispatch(new J(e.getId(),e.getAggregateId(),t.getSelectedItemIds()))}}return e.\u0275fac=function(t){return new(t||e)(r.LFG(S),r.LFG(A.p),r.LFG(pe.T))},e.\u0275prov=r.Yz7({token:e,factory:e.\u0275fac}),e})();var he=i(99738);let ge=(()=>{class e extends C.W{constructor(e,t,i){super(he.g.type),this.repo=e,this.dispatcher=t,this.treeViewportRenderRepository=i}execute(e){const t=this.repo.getById(e.treeId);if(t.selectPreviousItem(),1===t.getSelectedItems().length){const i=this.treeViewportRenderRepository.get(e.treeId),s=t.getSelectedItems()[0].getNodePositionIncludingCollapsedNodes(),r=de.calculate(s,i);if(r){const t=new le(e.getId(),e.getAggregateId(),r);this.dispatcher.dispatch(t)}}this.repo.save(t),this.dispatcher.dispatch(new J(e.getId(),e.getAggregateId(),t.getSelectedItemIds()))}}return e.\u0275fac=function(t){return new(t||e)(r.LFG(S),r.LFG(A.p),r.LFG(pe.T))},e.\u0275prov=r.Yz7({token:e,factory:e.\u0275fac}),e})();var fe=i(60213);let me=(()=>{class e extends C.W{constructor(e,t){super(fe.A.type),this.repo=e,this.dispatcher=t}execute(e){const t=e.getAggregateId(),i=this.repo.getById(t);if(i){const t=i.toggleItemSelection(e.itemId,e.mode);this.repo.save(i),this.dispatcher.dispatch(t,e)}}}return e.\u0275fac=function(t){return new(t||e)(r.LFG(S),r.LFG(oe.t))},e.\u0275prov=r.Yz7({token:e,factory:e.\u0275fac}),e})();class Te extends D.n{}var Ee=i(22051);let ve=(()=>{class e extends C.W{constructor(e,t){super(Ee.c.type),this.repo=e,this.dispatcher=t}execute(e){const t=this.repo.getById(e.treeId);t&&(t.unselectItems(),this.repo.save(t),this.dispatcher.dispatch(new Te(e.getId(),t.getId())))}}return e.\u0275fac=function(t){return new(t||e)(r.LFG(S),r.LFG(A.p))},e.\u0275prov=r.Yz7({token:e,factory:e.\u0275fac}),e})();var Ie=i(52419);let ye=(()=>{class e extends k.b{constructor(e){super(J.type),this.treeSelectedItemsRepository=e}execute(e){const t=e.getAggregateId(),i=e.getItems();this.treeSelectedItemsRepository.set(t,i)}}return e.\u0275fac=function(t){return new(t||e)(r.LFG(Ie.H))},e.\u0275prov=r.Yz7({token:e,factory:e.\u0275fac}),e})(),Ce=(()=>{class e extends k.b{constructor(e){super(Te.type),this.treeSelectedItemsRepository=e}execute(e){this.treeSelectedItemsRepository.set(e.getAggregateId(),[])}}return e.\u0275fac=function(t){return new(t||e)(r.LFG(Ie.H))},e.\u0275prov=r.Yz7({token:e,factory:e.\u0275fac}),e})();var xe=i(82927);let De=(()=>{class e extends C.W{constructor(e){super(xe.f.type),this.repo=e}execute(e){this.repo.use(e,t=>{t.snipeVertically(e.itemId)})}}return e.\u0275fac=function(t){return new(t||e)(r.LFG(S))},e.\u0275prov=r.Yz7({token:e,factory:e.\u0275fac}),e})();var be=i(27324),we=i(36581);class Se extends D.n{constructor(e,t,i){super(t,e),this.treeId=e,this.node=i}getTreeId(){return this.treeId}getNode(){return this.node}}let Ae=(()=>{class e extends C.W{constructor(e,t){super(we.q.type),this.repo=e,this.dispatcher=t}execute(e){const t=this.repo.getById(e.getTreeId()).findNodeById(e.getNodeId());this.dispatcher.dispatch(new Se(e.getTreeId(),e.getId(),t))}}return e.\u0275fac=function(t){return new(t||e)(r.LFG(S),r.LFG(A.p))},e.\u0275prov=r.Yz7({token:e,factory:e.\u0275fac}),e})();var Re=i(95981);let _e=(()=>{class e extends C.W{constructor(e,t){super(Re.C.type),this.repo=e,this.dispatcher=t}execute(e){const t=this.repo.getById(e.getTreeId()).getSelectedItems();t&&1===t.length&&this.dispatcher.dispatch(new Se(e.getTreeId(),e.getId(),t[0]))}}return e.\u0275fac=function(t){return new(t||e)(r.LFG(S),r.LFG(A.p))},e.\u0275prov=r.Yz7({token:e,factory:e.\u0275fac}),e})();var Ne=i(52731);class Le extends D.n{constructor(e,t,i){super(t,e),this.treeId=e,this.node=i}getTreeId(){return this.treeId}getNode(){return this.node}}let Oe=(()=>{class e extends C.W{constructor(e,t){super(Ne.W.type),this.repo=e,this.dispatcher=t}execute(e){const t=this.repo.getById(e.getTreeId()).findNodeById(e.getNodeId());this.dispatcher.dispatch(new Le(e.getTreeId(),e.getId(),t))}}return e.\u0275fac=function(t){return new(t||e)(r.LFG(S),r.LFG(A.p))},e.\u0275prov=r.Yz7({token:e,factory:e.\u0275fac}),e})();var Fe=i(40864);let Me=(()=>{class e extends C.W{constructor(e,t){super(Fe.C.type),this.repo=e,this.dispatcher=t}execute(e){const t=this.repo.getById(e.getTreeId()).getSelectedItems();t&&1===t.length&&this.dispatcher.dispatch(new Le(e.getTreeId(),e.getId(),t[0]))}}return e.\u0275fac=function(t){return new(t||e)(r.LFG(S),r.LFG(A.p))},e.\u0275prov=r.Yz7({token:e,factory:e.\u0275fac}),e})();var Ue=i(15594);class ke extends D.n{}var Be=i(4494),Ve=i(18616),Ge=i(85343);class Pe{constructor(e){this.top=e}}class Ye extends D.n{constructor(e,t,i){super(e,t),this.position=i}}var Ze=i(73754);class ze extends Ze.i{constructor(e,t){super(e),this.treeId=e,this.position=t}toDomainEvents(e){return[new Ye(e,this.treeId,this.position)]}}class Je extends D.n{constructor(e,t,i){super(e,t),this.item=i}getItem(){return this.item}}class He extends Ze.i{constructor(e,t){super(e),this.treeId=e,this.item=t}getItem(){return this.item}toDomainEvents(e){return[new Je(e,this.treeId,this.item)]}}var qe=i(9455);class Qe extends Ze.i{constructor(e,t){super(e),this.treeId=e,this.items=t}getItems(){return this.items}toDomainEvents(e){return[new J(e,this.treeId,this.items)]}}let $e=(()=>{class e{constructor(e){this.treeId=e,this.selectedItemIds=new Map,this.selectedItemChildrenIds=[]}toggle(e,t,i,s){return this.setActualSelection(e,t,i,s,!0)}select(e,t,i,s){return this.setActualSelection(e,t,i,s,!1)}selectItemOnDragStart(e,t,i){const s=(void 0!==this.selectedItemIds.get(e)?this.getSelectedItemIds():[e]).map(e=>Be.qI.searchNode(t,e)).filter(e=>i.isDragNodeEnable(e)).map(e=>e.id);this.setSelectedItemIds(s,t)}getSelectedItemIds(){return Array.from(this.selectedItemIds.keys())}getLastSelectedItemId(){return this.lastSelectedItemId}getSelectedItemChildrenIds(){return this.selectedItemChildrenIds}unselectItems(){return this.setSelectedItemIds([],[]),new Qe(this.treeId,[])}selectNextItem(e){const t=this.getSelectedItemIds().map(t=>Be.qI.searchNode(e,t).nodePositionIncludedCollapsedNodes),i=Math.max(...t),s=Be.qI.getNodeByPosition(e,i+1);s&&this.setSelectedItemIds([s.id],e)}selectPreviousItem(e){const t=this.getSelectedItemIds().map(t=>Be.qI.searchNode(e,t).nodePositionIncludedCollapsedNodes),i=Math.min(...t),s=Be.qI.getNodeByPosition(e,i-1);s&&this.setSelectedItemIds([s.id],e)}removeNotExistingItems(e){const t=this.getSelectedItemIds().map(t=>Be.qI.searchNode(e,t)).filter(e=>!!e).map(e=>e.id);this.setSelectedItemIds(t,e)}setActualSelection(e,t,i,s,r){let n=[];return this.updateRangeStartItemId(e,t),t===qe.M.ONE?n=this.resolveNewOneSelection(e,r):t===qe.M.ADD?n=this.resolveNewAddSelection(e,i,r):t===qe.M.RANGE&&(n=this.resolveNewRangeSelection(e,i,r)),n=n.filter(Boolean).map(e=>e.includes("VESTIBULE")?e.split("VESTIBULE-")[1]:e),n=n.filter(e=>s.isNodeSelectable(Be.qI.searchNode(i,e))),[this.setSelectedItemIds(n,i),this.setLastSelectedItemId(e)]}setSelectedItemIds(e,t){const i=Array.from(new Set(e));this.selectedItemIds=new Map;for(const s of i)this.setSelectedItemIdWithPosition(s,t);return this.setSelectedItemsChildrenIds(t),new Qe(this.treeId,e)}setLastSelectedItemId(e){return this.lastSelectedItemId=e,new He(this.treeId,e)}setSelectedItemsChildrenIds(e){const t=this.getSelectedItemIds();if(this.selectedItemChildrenIds=[],e){for(const i of t){const t=Be.qI.searchNode(e,i);t&&this.findSelectedItemChildren(t)}this.selectedItemChildrenIds=Array.from(new Set(this.selectedItemChildrenIds))}}findSelectedItemChildren(e){if(this.selectedItemChildrenIds.push(e.id),e.children)for(const t of e.children)this.findSelectedItemChildren(t)}resolveNewOneSelection(e,t){const i=this.getSelectedItemIds();return t&&1===i.length&&void 0!==this.selectedItemIds.get(e)?[]:[e]}resolveNewAddSelection(e,t,i){let s=this.getSelectedItemIds();return void 0!==this.selectedItemIds.get(e)?i&&(this.selectedItemIds.delete(e),s=this.getSelectedItemIds()):(this.setSelectedItemIdWithPosition(e,t),s=this.getSortedSelectedItems()),s}resolveNewRangeSelection(e,t,i){let s=[];this.isInSelectedItems(this.lastSelectedItemId)&&(s=this.getItemIdsInRange(t,this.rangeStartItemId,this.lastSelectedItemId));const r=this.getItemIdsInRange(t,this.rangeStartItemId,e),n=this.getSelectedItemIds(),o=r.filter(e=>-1===n.indexOf(e)),a=n.filter(e=>-1===s.indexOf(e)&&-1===r.indexOf(e));return i?[...a,...o]:[...a,...r]}getItemIdsInRange(e,t,i){const s=Be.qI.searchNode(e,t).getNodePosition(),r=Be.qI.searchNode(e,i).getNodePosition(),n=Math.min(s,r),o=Math.max(s,r),a=[];return e.forEach(e=>{this.addItemIdsToArrayByPosition(a,n,o,e)}),a}addItemIdsToArrayByPosition(e,t,i,s){const r=s.getNodePosition();r>=t&&r<=i&&e.push(s.id),s.children&&s.getChildren().forEach(s=>{this.addItemIdsToArrayByPosition(e,t,i,s)})}updateRangeStartItemId(e,t){t===qe.M.RANGE?this.isInSelectedItems(this.rangeStartItemId)||(this.rangeStartItemId=this.isInSelectedItems(this.lastSelectedItemId)?this.lastSelectedItemId:e):this.rangeStartItemId=null}isInSelectedItems(e){return-1!==this.getSelectedItemIds().indexOf(e)}getSortedSelectedItems(){const e=[];return this.selectedItemIds.forEach((t,i)=>{e[t]=i}),e.filter(e=>!!e)}setSelectedItemIdWithPosition(t,i){const s=Be.qI.searchNode(i,t);let r;r=s?s.getNodePositionIncludingCollapsedNodes():e.FIRST_NODE_POSITION,this.selectedItemIds.set(t,r)}}return e.FIRST_NODE_POSITION=1,e})();var je=i(46599),We=i(95780);class Ke extends We.Z{constructor(e){super(e),this.treeId=e,this.layout=je.A.NORMAL,this.treeDropZonesResolver=new Ve.X,this.treeNodeSelectResolver=new Ge.E,this.selection=new $e(e)}setTreeDropZonesResolver(e){this.treeDropZonesResolver=e}setTreeNodeSelectResolver(e){this.treeNodeSelectResolver=e}setLayout(e){this.layout=e}getLayout(){return this.layout}setNodes(e){this.nodes=e,this.selection.removeNotExistingItems(this.nodes)}unselectItems(){return this.selection.unselectItems()}toggleItemSelection(e,t){return this.selection.toggle(e,t,this.nodes,this.treeNodeSelectResolver)}selectItem(e,t){return this.selection.select(e,t,this.nodes,this.treeNodeSelectResolver)}selectNextItem(){this.selection.selectNextItem(this.nodes)}selectPreviousItem(){this.selection.selectPreviousItem(this.nodes)}getLastSelectedItemId(){return this.selection.getLastSelectedItemId()}getLastSelectedItem(){return Be.qI.searchNode(this.nodes,this.getLastSelectedItemId())}getSelectedItemIds(){return this.selection.getSelectedItemIds()}getSelectedItems(){return this.selection.getSelectedItemIds().map(e=>Be.qI.searchNode(this.nodes,e))}getMarkedForMoveItemIds(){return this.selection.getSelectedItemChildrenIds()}startDrag(e){this.selection.selectItemOnDragStart(e.id,this.nodes,this.treeDropZonesResolver)}findNodeById(e){return Be.qI.searchNode(this.nodes,e)}snipeVertically(e){const t=this.findNodeById(e),i=new Pe(t?t.nodePositionIncludedCollapsedNodes:-1);this.emit([new ze(this.treeId,i)])}}let Xe=(()=>{class e extends C.W{constructor(e,t){super(Ue.V.type,ke,t),this.treeAggregateRepository=e}execute(e){const t=new Ke(e.treeId);this.treeAggregateRepository.save(t)}}return e.\u0275fac=function(t){return new(t||e)(r.LFG(S),r.LFG(A.p))},e.\u0275prov=r.Yz7({token:e,factory:e.\u0275fac}),e})();var et=i(57681),tt=i(10625);let it=(()=>{class e extends C.W{constructor(e){super(et.y.type),this.dispatcher=e}execute(e){this.dispatcher.dispatch(new tt.U(e.getId(),e.getAggregateId()))}}return e.\u0275fac=function(t){return new(t||e)(r.LFG(A.p))},e.\u0275prov=r.Yz7({token:e,factory:e.\u0275fac}),e})();var st=i(818);class rt extends D.n{}let nt=(()=>{class e extends C.W{constructor(e,t){super(st.t.type,rt,t),this.treeAggregateRepository=e}execute(e){const t=this.treeAggregateRepository.getById(e.getTreeId());t.setTreeNodeSelectResolver(e.getTreeNodeSelectResolver()),this.treeAggregateRepository.save(t)}}return e.\u0275fac=function(t){return new(t||e)(r.LFG(S),r.LFG(A.p))},e.\u0275prov=r.Yz7({token:e,factory:e.\u0275fac}),e})();var ot=i(49065),at=i(33507);let lt=(()=>{class e extends C.W{constructor(e,t){super(ot.R.type),this.repo=e,this.dispatcher=t}execute(e){const t=e.getTree(),i=this.repo.getById(e.getAggregateId());i.setNodes(t),this.repo.save(i);const s=i.getSelectedItemIds();this.dispatcher.dispatch(new at.b(e.getId(),i.getId())),this.dispatcher.dispatch(new J(e.getId(),i.getId(),s))}}return e.\u0275fac=function(t){return new(t||e)(r.LFG(S),r.LFG(A.p))},e.\u0275prov=r.Yz7({token:e,factory:e.\u0275fac}),e})();var dt=i(14503);class ct extends D.n{}let pt=(()=>{class e extends C.W{constructor(e,t){super(dt.h.type,ct,t),this.treeAggregateRepository=e}execute(e){const t=this.treeAggregateRepository.getById(e.getTreeId());t.setTreeDropZonesResolver(e.getTreeDropZonesResolver()),this.treeAggregateRepository.save(t)}}return e.\u0275fac=function(t){return new(t||e)(r.LFG(S),r.LFG(A.p))},e.\u0275prov=r.Yz7({token:e,factory:e.\u0275fac}),e})();var ut=i(45149),ht=i(86279),gt=i(42028);let ft=(()=>{class e extends S{constructor(e,t){super(t),this.treeAggregateStore=e,this.loadedTreeIds=new Map,this.loadedTreeId$=new ht.X(null)}observeLoadedTreeId(e){return this.loadedTreeId$.pipe((0,gt.h)(t=>t===e||this.loadedTreeIds.has(e)))}save(e){const t=e.getId().toString();this.loadedTreeIds.has(t)||(this.loadedTreeIds.set(t,!1),this.loadedTreeId$.next(t)),this.treeAggregateStore.save(e)}getById(e){return this.treeAggregateStore.getById(e)}}return e.\u0275fac=function(t){return new(t||e)(r.LFG(K),r.LFG(oe.t))},e.\u0275prov=r.Yz7({token:e,factory:e.\u0275fac}),e})();var mt=i(88566),Tt=i(78268),Et=i(99721),vt=i(32211);class It extends class{constructor(e){this.aggregateId=e}getId(){return this.aggregateId}equals(e){return this.aggregateId.toString()===e.toString()}}{constructor(e,t,i,s,r,n){super(e),this.layout=t,this.lastSelectedItemId=i,this.selectedItemIds=s,this.selectedItems=r,this.selectedItemChildrenIds=n}getLayout(){return this.layout}getSelectedItems(){return this.selectedItems}getSelectedItemIds(){return this.selectedItemIds}getLastSelectedItemId(){return this.lastSelectedItemId}getSelectedItemChildrenIds(){return this.selectedItemChildrenIds}}let yt=(()=>{class e{toQuery(e){return new It(e.getId(),e.getLayout(),e.getLastSelectedItemId(),e.getSelectedItemIds(),e.getSelectedItems(),e.getMarkedForMoveItemIds())}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=r.Yz7({token:e,factory:e.\u0275fac}),e})(),Ct=(()=>{class e extends class{constructor(e){this.stateStore=e}getById(e){const t=this.stateStore.get(e);return t?this.toQuery(t):null}}{constructor(e,t){super(e),this.treeConverter=t}toQuery(e){return this.treeConverter.toQuery(e)}}return e.\u0275fac=function(t){return new(t||e)(r.LFG(W),r.LFG(yt))},e.\u0275prov=r.Yz7({token:e,factory:e.\u0275fac}),e})(),xt=(()=>{class e extends ut.a{constructor(e,t){super(),this.eventBus=e,this.treeQueryStore=t,this.events=[ke.type,b.type],this.tree$=new mt.t(1),this.onDestroy$=new Tt.xQ,this.eventBus.pipe((0,gt.h)(e=>!!this.events.find(t=>t===e.getType())),(0,Et.R)(this.onDestroy$)).subscribe(e=>{const t=e.getAggregateId(),i=this.treeQueryStore.getById(t);this.tree$.next(i)})}ngOnDestroy(){this.onDestroy$.next(),this.onDestroy$.complete()}select(e){return this.tree$.asObservable().pipe((0,gt.h)(t=>t.getId().toString()===e.toString()))}}return e.\u0275fac=function(t){return new(t||e)(r.LFG(vt.N),r.LFG(Ct))},e.\u0275prov=r.Yz7({token:e,factory:e.\u0275fac}),e})();var Dt=i(37779);const bt=[K,B.z,Ie.H,re.x,pe.T,{provide:S,useClass:ft},(0,_.p)(Xe),(0,_.p)(it),(0,_.p)(lt),(0,_.p)(me),(0,_.p)(ae),(0,_.p)(H),(0,_.p)(X),(0,_.p)(Y),(0,_.p)(ve),(0,_.p)(ue),(0,_.p)(ge),(0,_.p)(Me),(0,_.p)(_e),(0,_.p)(Oe),(0,_.p)(Ae),(0,_.p)(pt),(0,_.p)(nt),(0,_.p)(se),(0,_.p)(De)],wt=[W,...bt,yt,Ct,be.k,{provide:ut.a,useClass:xt},{provide:Dt.H,useClass:V,multi:!0},{provide:Dt.H,useClass:ye,multi:!0},{provide:Dt.H,useClass:Ce,multi:!0},U.p,B.z];var St=i(50533),At=i(71369);let Rt=(()=>{class e extends k.b{constructor(e,t,i){super(z.type),this.queryStore=e,this.selectedItemsChildrenRepository=t,this.treeDragStateRepository=i}execute(e){const t=this.queryStore.getById(e.getTreeId()).getSelectedItemChildrenIds();this.selectedItemsChildrenRepository.setSelectedItemsChildrenForTree(e.getTreeId(),t),this.treeDragStateRepository.set(!0)}}return e.\u0275fac=function(t){return new(t||e)(r.LFG(Ct),r.LFG(At.u),r.LFG(St.N))},e.\u0275prov=r.Yz7({token:e,factory:e.\u0275fac}),e})(),_t=(()=>{class e extends k.b{constructor(e,t){super(P.type),this.selectedItemsChildrenRepository=e,this.treeDragStateRepository=t}execute(e){this.selectedItemsChildrenRepository.setSelectedItemsChildrenForTree(e.getTreeId(),[]),this.treeDragStateRepository.set(!1)}}return e.\u0275fac=function(t){return new(t||e)(r.LFG(At.u),r.LFG(St.N))},e.\u0275prov=r.Yz7({token:e,factory:e.\u0275fac}),e})();var Nt=i(68835);let Lt=(()=>{class e extends k.b{constructor(e,t){super(Q.type),this.droppedRepository=e,this.dragStateRepository=t}execute(e){this.droppedRepository.set(e.getTreeId(),{destinationNode:e.getDestinationNode().getId(),selectedItems:e.getSelectedItems().map(e=>e.getId()),nodeIndex:e.getNodeIndex()}),this.dragStateRepository.set(!1)}}return e.\u0275fac=function(t){return new(t||e)(r.LFG(Nt.Z),r.LFG(St.N))},e.\u0275prov=r.Yz7({token:e,factory:e.\u0275fac}),e})();var Ot=i(90387),Ft=(i(30909),i(95834)),Mt=i(74696);let Ut=(()=>{class e extends k.b{constructor(e){super(ee.type),this.treeInlineAddRepository=e}execute(e){const t=new Mt.k(e.siblingNodeId,e.indent,e.selectedDropdownItemId);this.treeInlineAddRepository.set(e.getAggregateId(),t)}}return e.\u0275fac=function(t){return new(t||e)(r.LFG(Ft.I))},e.\u0275prov=r.Yz7({token:e,factory:e.\u0275fac}),e})();var kt=i(58833),Bt=i(85553),Vt=i(27255);let Gt=(()=>{class e extends k.b{constructor(e){super(le.type),this.scrollTopChangeRepository=e}execute(e){this.scrollTopChangeRepository.set(e.getAggregateId(),e.getScrollPosition())}}return e.\u0275fac=function(t){return new(t||e)(r.LFG(re.x))},e.\u0275prov=r.Yz7({token:e,factory:e.\u0275fac}),e})(),Pt=(()=>{class e extends k.b{constructor(e,t){super(Je.type),this.queryStore=e,this.selectedItemRepository=t}execute(e){const t=this.queryStore.getById(e.getAggregateId());this.selectedItemRepository.set(t.getId(),t.getLastSelectedItemId())}}return e.\u0275fac=function(t){return new(t||e)(r.LFG(Ct),r.LFG(F))},e.\u0275prov=r.Yz7({token:e,factory:e.\u0275fac}),e})();var Yt=i(93366);let Zt=(()=>{class e extends k.b{constructor(e,t,i){super(J.type),this.queryStore=e,this.selectedItemsRepository=t,this.itemsStorageService=i}execute(e){const t=this.queryStore.getById(e.getAggregateId()),i=t.getId(),s=t.getSelectedItems().filter(e=>!!e);this.itemsStorageService.set(s),this.selectedItemsRepository.set(i,s)}}return e.\u0275fac=function(t){return new(t||e)(r.LFG(Ct),r.LFG(M.G),r.LFG(Yt.k))},e.\u0275prov=r.Yz7({token:e,factory:e.\u0275fac}),e})(),zt=(()=>{class e extends k.b{constructor(e,t){super(Te.type),this.queryStore=e,this.selectedItemsRepository=t}execute(e){this.selectedItemsRepository.set(e.getAggregateId(),[])}}return e.\u0275fac=function(t){return new(t||e)(r.LFG(Ct),r.LFG(M.G))},e.\u0275prov=r.Yz7({token:e,factory:e.\u0275fac}),e})(),Jt=(()=>{class e extends k.b{constructor(e){super(Ye.type),this.itemVerticallyTopPositionRepository=e}execute(e){this.itemVerticallyTopPositionRepository.set(e.getAggregateId(),e.position)}}return e.\u0275fac=function(t){return new(t||e)(r.LFG(be.k))},e.\u0275prov=r.Yz7({token:e,factory:e.\u0275fac}),e})();i(19812);var Ht=i(22419);let qt=(()=>{class e extends k.b{constructor(e){super(Se.type),this.nodeExpandService=e}execute(e){this.nodeExpandService.collapseNode(e.getNode().id)}}return e.\u0275fac=function(t){return new(t||e)(r.LFG(Ht.j))},e.\u0275prov=r.Yz7({token:e,factory:e.\u0275fac}),e})(),Qt=(()=>{class e extends k.b{constructor(e){super(Le.type),this.nodeExpandService=e}execute(e){this.nodeExpandService.expandNode(e.getNode().id)}}return e.\u0275fac=function(t){return new(t||e)(r.LFG(Ht.j))},e.\u0275prov=r.Yz7({token:e,factory:e.\u0275fac}),e})();var $t=i(35826),jt=i(97223),Wt=i(81106);class Kt{constructor(){this.sort={columnId:null,direction:!0},this.expandedNodesIndex={}}static fromDomain(e){const t=new Kt;return t.sort=e.sort,t.expandedNodesIndex=e.expandedNodesIndex,t}static fromRaw(e){const t=new Kt;return e&&(e.sort&&(t.sort=e.sort),e.expandedNodesIndex&&(t.expandedNodesIndex=e.expandedNodesIndex)),t}}let Xt=(()=>{class e extends jt.h{constructor(e){super(),this.localStorage=e,this.lsKey="tus"}read(e){const t=this.localStorage.getObject(this.getKey(e));return Kt.fromRaw(t)}save(e){this.localStorage.setObject(this.getKey(e.treeId),Kt.fromDomain(e))}getKey(e){return`${this.lsKey}-${e}`}}return e.\u0275fac=function(t){return new(t||e)(r.LFG(Wt.m))},e.\u0275prov=r.Yz7({token:e,factory:e.\u0275fac}),e})();var ei=i(36480),ti=i(90540),ii=i(2259),si=i(10905),ri=(i(41622),i(45246)),ni=i(47691),oi=i(7229),ai=i(26790),li=i(22203),di=i(89932);class ci{}var pi=i(35959),ui=i(10052),hi=i(31243),gi=i(81802),fi=i(91216);function mi(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"sp-dropdown-item",8),r.NdJ("itemClick",function(){const t=r.CHM(e).$implicit,i=r.oxw(4);return i.changeAggregation(i.column.id,t)}),r._uU(1),r.qZA()}if(2&e){const e=t.$implicit,i=r.oxw(4);r.Q6J("checked",i.isSameAggregation(e)),r.xp6(1),r.hij(" ",e.label," ")}}function Ti(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"sp-dropdown-item",8),r.NdJ("itemClick",function(){const t=r.CHM(e).$implicit,i=r.oxw(4);return i.changeDistribute(i.column.id,t)}),r._uU(1),r.qZA()}if(2&e){const e=t.$implicit,i=r.oxw(4);r.Q6J("checked",i.isSameDistribute(e)),r.xp6(1),r.hij(" ",e.label," ")}}function Ei(e,t){if(1&e&&(r.TgZ(0,"sp-dropdown-menu-group",6),r.ALo(1,"spL10nText"),r.YNc(2,mi,2,2,"sp-dropdown-item",7),r.YNc(3,Ti,2,2,"sp-dropdown-item",7),r.qZA()),2&e){const e=r.oxw(3);r.Q6J("header",r.lcZ(1,6,"SPT_BOXCONFIG_COLUMN_VIEWS_VIEW_CREATOR_TABLE_CUSTOMIZE_FORM_HEADER_AGGREGATION"))("type",e.dropdownType),r.xp6(2),r.Q6J("ngForOf",e.columnConfig.getAggregations())("ngForTrackBy",e.treeLabeledTrackByFn),r.xp6(1),r.Q6J("ngForOf",e.columnConfig.getDistributes())("ngForTrackBy",e.treeLabeledTrackByFn)}}function vi(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"sp-dropdown-item",13),r.NdJ("itemClick",function(){const t=r.CHM(e).$implicit,i=r.oxw(5);return i.changeDisplay(i.column.id,t.value)}),r._uU(1),r.qZA()}if(2&e){const e=t.$implicit,i=r.oxw(5);r.Q6J("id",i.prepareId("sp-dropdown-item-",e.label))("checked",i.isSameDisplay(e)),r.xp6(1),r.hij(" ",e.label," ")}}function Ii(e,t){if(1&e&&(r.ynx(0),r.YNc(1,vi,2,3,"sp-dropdown-item",12),r.BQk()),2&e){const e=r.oxw(4);r.xp6(1),r.Q6J("ngForOf",e.columnConfig.getDecorators())("ngForTrackBy",e.treeLabeledTrackByFn)}}function yi(e,t){if(1&e&&(r.TgZ(0,"span"),r._uU(1),r.ALo(2,"spL10nText"),r.qZA()),2&e){const e=r.oxw(4);r.xp6(1),r.AsE('"',e.getSelectedDistribute(),'" ',r.lcZ(2,2,"SPT_BOXCONFIG_COLUMN_VIEWS_VIEW_CREATOR_TABLE_CUSTOMIZE_DISPLAY_DISABLED"),"")}}function Ci(e,t){if(1&e&&(r.TgZ(0,"sp-dropdown-menu-group",9),r.YNc(1,Ii,2,2,"ng-container",10),r.YNc(2,yi,3,4,"ng-template",null,11,r.W1O),r.qZA()),2&e){const e=r.MAs(3),t=r.oxw(3);r.Q6J("type",t.dropdownType)("contentContainerClass",t.isDistributeSelected()?"sp-display-disabled":"sp-column-view-scrollable-box"),r.xp6(1),r.Q6J("ngIf",!t.isDistributeSelected())("ngIfElse",e)}}function xi(e,t){if(1&e&&(r.TgZ(0,"sp-dropdown-menu-group"),r.YNc(1,Ei,4,8,"sp-dropdown-menu-group",4),r.YNc(2,Ci,4,4,"sp-dropdown-menu-group",5),r.qZA()),2&e){const e=r.oxw(2);r.xp6(1),r.Q6J("ngIf",e.showAggregationsAndDistributes()),r.xp6(1),r.Q6J("ngIf",e.areDisplaysReady())}}function Di(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"sp-dropdown",1),r.NdJ("openStateChanged",function(t){return r.CHM(e),r.oxw().changeOpenState(t)}),r._UZ(1,"i",2),r.ALo(2,"spRichTextI18n"),r.YNc(3,xi,3,2,"sp-dropdown-menu-group",3),r.qZA()}if(2&e){const e=r.oxw();r.xp6(1),r.Q6J("spTooltip",r.lcZ(2,2,"SPT_BOXCONFIG_COLUMN_VIEWS_VIEW_CREATOR_TABLE_CUSTOMIZE_TOOLTIP")),r.xp6(2),r.Q6J("ngIf",e.isOpen)}}let bi=(()=>{class e extends di.H{constructor(e,t,i,s,n,o){super(e,t),this.changeDetectorRef=i,this.tree=s,this.treePerspectiveManager=n,this.treeColumnConfigRepository=o,this.onDropdownClick=new r.vpe,this.dropdownType=oi.H.RADIO,this.treeLabeledTrackByFn=ai.M.create("value")}ngOnInit(){this.treeColumnConfigRepository&&this.treeColumnConfigRepository.getAvailableColumnConfig(this.column).pipe((0,ti.q)(1),this.takeUntilDestroy()).subscribe(e=>{this.columnConfig=e}),this.columnViewId||this.treePerspectiveManager.observePerspective().pipe(this.takeUntilDestroy()).subscribe(e=>{this.columnViewId=e.getId()})}ngAfterViewInit(){this.dropdownComponent&&this.registerNestedDropdownChangeHandlers()}showConfigButton(){return this.columnConfig&&(this.hasAggregations()||this.hasDistributes()||this.hasDecorators())}hasAggregations(){return this.columnConfig.getAggregations().length>1}hasDistributes(){return this.columnConfig.getDistributes().length>1}hasDecorators(){return this.columnConfig.getDecorators().length>1}isDistributeSelected(){const e=this.getSelectedDistributeValue();return e&&"NONE"!==e}registerNestedDropdownChangeHandlers(){this.dropdownComponent.observeDropdownOpen().pipe(this.takeUntilDestroy()).subscribe(()=>{this.changeDetectorRef.detectChanges(),this.onDropdownClick.emit(!0),this.isOpen=!0}),this.dropdownComponent.observeDropdownClose().pipe(this.takeUntilDestroy()).subscribe(()=>{this.changeDetectorRef.detectChanges(),this.onDropdownClick.emit(!1),this.isOpen=!1})}showAggregationsAndDistributes(){const e=this.tree.getConfig().columnSelectorConfig.aggregations&&!!this.columnConfig&&this.hasAggregations(),t=this.tree.getConfig().columnSelectorConfig.distributes&&!!this.columnConfig&&this.hasDistributes();return e||t}areDisplaysReady(){return this.tree.getConfig().columnSelectorConfig.display&&!!this.columnConfig}getSelectedDistribute(){return this.distribute||this.column.distribute.label}isSameAggregation(e){const t=this.getSelectedDistributeValue();if(t&&t!==si.y.NONE)return!1;const i=this.getSelectedAggregationValue();return!i&&e.value===ii.P.NONE||i===e.value}getSelectedDistributeValue(){let e=this.distribute;return!e&&this.column.distribute&&(e=this.column.distribute.value),e}getSelectedAggregationValue(){let e=this.aggregation;return!e&&this.column.aggregation&&(e=this.column.aggregation.value),e}getSelectedDecoratorType(){let e=this.decoratorType;return!e&&this.column.decoratorType&&(e=this.column.decoratorType.value),e}isSameDisplay(e){return this.getSelectedDecoratorType()===e.value}isSameDistribute(e){const t=this.getSelectedDistributeValue();return!(!t&&e.value===si.y.NONE)&&t===e.value}changeDistribute(e,t){this.treeColumnConfigRepository.changeDistribute(this.columnViewId,e,this.column.origin.id,t.value)}changeAggregation(e,t){this.treeColumnConfigRepository.changeAggregation(this.columnViewId,e,this.column.origin.id,t.value)}changeDisplay(e,t){this.treeColumnConfigRepository.changeDisplay(this.columnViewId,e,t)}changeOpenState(e){this.isOpen=e,this.changeDetectorRef.detectChanges()}prepareId(e,t){return e+li.I.dashedWithoutSpaceId(t.toLocaleLowerCase())}getHostClasses(){return["sp-tree-column-config-selector"]}}return e.\u0275fac=function(t){return new(t||e)(r.Y36(r.SBq),r.Y36(r.Qsj),r.Y36(r.sBO),r.Y36(Be.mp),r.Y36(ri.R),r.Y36(ci,8))},e.\u0275cmp=r.Xpm({type:e,selectors:[["sp-tree-column-config-selector"]],viewQuery:function(e,t){if(1&e&&r.Gf(ni.J,5),2&e){let e;r.iGM(e=r.CRH())&&(t.dropdownComponent=e.first)}},inputs:{columnViewId:"columnViewId",column:"column",aggregation:"aggregation",distribute:"distribute",decoratorType:"decoratorType"},outputs:{onDropdownClick:"onDropdownClick"},features:[r.qOj],decls:1,vars:1,consts:[["customMenuClass","sp-tree-column-config-selector__dropdown-menu","class","sp-tree-column-config-selector__dropdown","id","sp-tree-column-config",3,"openStateChanged",4,"ngIf"],["customMenuClass","sp-tree-column-config-selector__dropdown-menu","id","sp-tree-column-config",1,"sp-tree-column-config-selector__dropdown",3,"openStateChanged"],["sp-dropdown-open-trigger","",1,"sp-tree-column-config-selector__dropdown-trigger","fas","fa-wrench","sp-selector-icon","sp-p-1","sp-cursor-pointer","sp-text-s",3,"spTooltip"],[4,"ngIf"],["contentContainerClass","sp-tree-column-config-selector__scrollable-box","id","sp-tree-column-config-menu-group-aggregation","divider","",3,"header","type",4,"ngIf"],["id","sp-tree-column-config-menu-group-display","header","Display","divider","",3,"type","contentContainerClass",4,"ngIf"],["contentContainerClass","sp-tree-column-config-selector__scrollable-box","id","sp-tree-column-config-menu-group-aggregation","divider","",3,"header","type"],[3,"checked","itemClick",4,"ngFor","ngForOf","ngForTrackBy"],[3,"checked","itemClick"],["id","sp-tree-column-config-menu-group-display","header","Display","divider","",3,"type","contentContainerClass"],[4,"ngIf","ngIfElse"],["displayWhenDistributeIsPresent",""],[3,"id","checked","itemClick",4,"ngFor","ngForOf","ngForTrackBy"],[3,"id","checked","itemClick"]],template:function(e,t){1&e&&r.YNc(0,Di,4,4,"sp-dropdown",0),2&e&&r.Q6J("ngIf",t.showConfigButton())},directives:[s.O5,ni.J,pi.i9,ui.Y,s.sg,hi.N],pipes:[gi.d,fi.L],styles:[".sp-tree-column-config-selector__dropdown.sp-dropdown--is-opened .sp-tree-column-config-selector__dropdown-trigger{color:var(--primary)!important;background-color:var(--transparent)!important}.sp-tree-column-config-selector__dropdown-trigger:hover{color:var(--primary)!important}.sp-tree-column-config-selector__scrollable-box{max-height:20vh;overflow-y:auto}.sp-tree-column-config-selector__dropdown-menu sp-dropdown-menu-group .sp-display-disabled{color:var(--gray-400);font-size:12px;padding:4px 10px 8px}.sp-tree-column-config-selector__dropdown-menu .sp-dropdown-item{max-width:60vh}"],encapsulation:2,changeDetection:0}),e})();var wi=i(56894),Si=i(96500),Ai=i(25333),Ri=i(74477);let _i=(()=>{class e extends di.H{constructor(e,t,i,s){super(e,t),this.resizeStatusStorage=i,this.document=s,this.resizeEnabled=!1,this.resizeStart=new r.vpe,this.resizeEnd=new r.vpe,this.sizeChanged=new r.vpe,this.COLUMN_RESIZE_ACTIVE_CLASS="sp-resize-active",this.TREE_RESIZE_ACTIVE_CLASS="sp-tree-resize-active"}ngOnChanges(e){e.resizeEnabled&&(this.resizeEnabled?this.attachListener():this.detachListener())}ngOnInit(){this.resizeStatusStorage.select().pipe(this.takeUntilDestroy()).subscribe(e=>{this.resizeInProgress=e})}finalize(){this.detachListener(),this.removeResizeClassFromTree()}attachListener(){const e=this.elementRef.nativeElement.querySelector(".sp-resize-border");this.mouseDownHandle$=this.domManipulator.listen(e,"mousedown").pipe(this.takeUntilDestroy()).subscribe(()=>{this.mouseDown()})}detachListener(){this.mouseDownHandle$&&this.mouseDownHandle$.unsubscribe(),this.mouseUpHandle$&&this.mouseUpHandle$.unsubscribe(),this.mouseMoveHandle$&&this.mouseMoveHandle$.unsubscribe(),this.removeTimeoutListener&&this.removeTimeoutListener()}mouseDown(){if(this.resizeInProgress)return;this.resizeStatusStorage.set(!0);const e=this.elementRef.nativeElement,t=this.columnIndex+1,i=this.document.querySelector(`#${this.id}`);this.resizeStart.emit(!0),this.setResizeBorderStyle(i),this.headerWidth=i.offsetWidth;const s=this.document.querySelector(`#${this.id} .sp-col-${t}`);this.initialWidthColumn=e.offsetWidth,this.initialWidthNextColumn=s.offsetWidth,this.initialSumColumnsFlexWidth=this.getFlexWidthProperty(e.style.flex)+this.getFlexWidthProperty(s.style.flex),this.addResizeClassToColumn(),this.mouseMoveHandle$=this.domManipulator.listen(this.document,"mousemove").pipe(this.takeUntilDestroy()).subscribe(e=>{this.mouseMove(e)}),this.mouseUpHandle$=this.domManipulator.listen(this.document,"mouseup").pipe(this.takeUntilDestroy()).subscribe(()=>{this.mouseUp()}),this.addResizeClassToTree()}mouseMove(e){const t=this.columnIndex+1,i=e.clientX-this.elementRef.nativeElement.getBoundingClientRect().left,s=this.initialWidthColumn-(i-this.initialWidthNextColumn);if(s<=50||i<=50)return;const r=this.convertToPercent(i);let n=this.convertToPercent(s);const o=r+n;o<this.initialSumColumnsFlexWidth?n+=this.initialSumColumnsFlexWidth-o:o>this.initialSumColumnsFlexWidth&&(n-=o-this.initialSumColumnsFlexWidth),this.columnSizes={column:{index:this.columnIndex,flexBasis:r},nextColumn:{index:t,flexBasis:n}},this.sizeChanged.emit(this.columnSizes)}mouseUp(){this.elementRef.nativeElement&&this.removeResizeClassFromColumn(),this.mouseUpHandle$&&this.mouseUpHandle$.unsubscribe(),this.mouseMoveHandle$&&this.mouseMoveHandle$.unsubscribe(),this.resizeEnd.emit(this.columnSizes),this.removeResizeClassFromTree()}addResizeClassToColumn(){this.domManipulator.addHostClass(this.COLUMN_RESIZE_ACTIVE_CLASS)}removeResizeClassFromColumn(){this.domManipulator.removeHostClass(this.COLUMN_RESIZE_ACTIVE_CLASS)}convertToPercent(e){return Ri.l.round(e/this.headerWidth*100,2)}setResizeBorderStyle(e){const t=e.offsetHeight,i=this.elementRef.nativeElement.querySelector(".sp-resize-stick");i&&(i.style.height=t+"px")}addResizeClassToTree(){const e=this.document.querySelector(`#${this.id}`);this.domManipulator.addClass(e,this.TREE_RESIZE_ACTIVE_CLASS)}removeResizeClassFromTree(){const e=this.document.querySelector(`#${this.id}`);e&&e.classList.contains(this.TREE_RESIZE_ACTIVE_CLASS)&&this.domManipulator.removeClass(e,this.TREE_RESIZE_ACTIVE_CLASS)}getFlexWidthProperty(e){const t=new RegExp("([\\d\\.]+)%").exec(e);if(t)return+t[1]}}return e.\u0275fac=function(t){return new(t||e)(r.Y36(r.SBq),r.Y36(r.Qsj),r.Y36(Ai.N),r.Y36(s.K0))},e.\u0275dir=r.lG2({type:e,selectors:[["","spTreeGridResizeColumns",""]],inputs:{resizeEnabled:["spTreeGridResizeColumns","resizeEnabled"],id:["spTreeGridId","id"],columnIndex:["spTreeGridResizeColumnIndex","columnIndex"]},outputs:{resizeStart:"spTreeResizeColumnStart",resizeEnd:"spTreeResizeColumnEnd",sizeChanged:"sizeChanged"},features:[r.qOj,r.TTD]}),e})();var Ni=i(73630),Li=i(30844),Oi=i(92473),Fi=i(74685),Mi=i(22009),Ui=i(7201),ki=i(48516);function Bi(e,t){1&e&&r.Hsn(0)}const Vi=["*"];let Gi=(()=>{class e{constructor(e,t){this.tree=e,this.onTreeNodeDrop=t}}return e.\u0275fac=function(t){return new(t||e)(r.Y36(Be.mp,8),r.Y36(Ui.$,8))},e.\u0275cmp=r.Xpm({type:e,selectors:[["sp-tree-internal-drop-zone"]],ngContentSelectors:Vi,decls:5,vars:4,consts:[[1,"sp-internal-drop-zone-container"],["mockTreeRow",""],[1,"sp-drop-treegrid-zone",3,"node","draggedTreeRow","allowSameTree","onTreeNodeDrop"],["zoneContent",""]],template:function(e,t){if(1&e&&(r.F$t(),r.TgZ(0,"div",0,1),r.TgZ(2,"sp-tree-active-drop-zone",2),r.YNc(3,Bi,1,0,"ng-template",null,3,r.W1O),r.qZA(),r.qZA()),2&e){const e=r.MAs(1);r.xp6(2),r.Q6J("node",t.tree.treeRoot)("draggedTreeRow",e)("allowSameTree",!1)("onTreeNodeDrop",t.onTreeNodeDrop)}},directives:[ki.b],encapsulation:2,changeDetection:0}),e})();function Pi(e,t){1&e&&r.GkF(0)}function Yi(e,t){if(1&e&&(r.ynx(0),r.YNc(1,Pi,1,0,"ng-container",1),r.BQk()),2&e){const e=r.oxw();r.xp6(1),r.Q6J("ngComponentOutlet",e.component)("ngComponentOutletInjector",e.injectorExpression)("ngComponentOutletContent",e.contentNodes)}}let Zi=(()=>{class e{constructor(e,t,i){this.changeDetectorRef=e,this.viewContainerRef=t,this.injector=i,this.isVisible=!0,this.component=Gi,this.ready=!1,this.subscriptions=new Fi.w}ngOnChanges(){if(!this.treeComponent&&!this.onTreeNodeDrop){const e="TreeExternalDropZoneComponent requires @Input() 'treeComponent' or 'onTreeNodeDrop' to be declared";throw console.error(e),Error(e)}}ngAfterContentInit(){const e=setTimeout(()=>{this.projectContent()});this.removeSetTimeout=()=>clearTimeout(e),this.subscriptions.add(this.externalContent.changes.subscribe(()=>{this.projectContent()}))}ngOnDestroy(){this.subscriptions.unsubscribe(),this.removeSetTimeout&&this.removeSetTimeout()}projectContent(){this.viewRef&&(this.viewRef.destroy(),this.viewRef=null),this.viewRef=this.viewContainerRef.createEmbeddedView(this.externalContent.first),this.contentNodes=[this.viewRef.rootNodes],this.injectorExpression=this.createInjector(),this.ready=!0,this.changeDetectorRef.detectChanges()}createInjector(){const e=[];let t;this.onTreeNodeDrop&&e.push({provide:Ui.$,useValue:this.onTreeNodeDrop}),t=this.treeComponent?this.treeComponent.injector:this.injector;try{t.get(Be.mp)}catch(i){e.push({provide:Be.mp,useValue:new Be.mp})}return r.zs3.create({providers:e,parent:t})}}return e.\u0275fac=function(t){return new(t||e)(r.Y36(r.sBO),r.Y36(r.s_b),r.Y36(r.zs3))},e.\u0275cmp=r.Xpm({type:e,selectors:[["sp-tree-external-drop-zone"],["","sp-tree-external-drop-zone",""]],contentQueries:function(e,t,i){if(1&e&&r.Suo(i,r.Rgc,4),2&e){let e;r.iGM(e=r.CRH())&&(t.externalContent=e)}},inputs:{treeComponent:"treeComponent",onTreeNodeDrop:"onTreeNodeDrop",isVisible:"isVisible"},features:[r.TTD],decls:1,vars:1,consts:[[4,"ngIf"],[4,"ngComponentOutlet","ngComponentOutletInjector","ngComponentOutletContent"]],template:function(e,t){1&e&&r.YNc(0,Yi,2,3,"ng-container",0),2&e&&r.Q6J("ngIf",t.ready&&t.isVisible)},directives:[s.O5,s.$G],encapsulation:2,changeDetection:0}),e})();i(21444),i(89830);var zi=i(31361);i(80529),i(26885),i(32623),i(32242);let Ji=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=r.oAB({type:e}),e.\u0275inj=r.cJS({imports:[[s.ez]]}),e})();var Hi=i(45499),qi=(i(97259),i(23882),i(49999));i(87815);let Qi=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=r.Yz7({token:e,factory:e.\u0275fac}),e})();var $i=i(91126),ji=i(56469),Wi=i(12465),Ki=i(28517),Xi=i(54247),es=i(57057),ts=i(61562),is=i(18660),ss=i(59887),rs=i(66885),ns=i(6812),os=i(91783),as=i(70802),ls=i(31658);class ds{waitForCommands(e){const t=[];return e.forEach(e=>{t.push(this.waitForResponseCommand(e))}),(0,rs.$R)(...t)}waitForCommandByType(e){return this.getCommandsStream().pipe((0,gt.h)(t=>t.equalsByType(e)),(0,ti.q)(1))}selectForCommandByType(e){return this.getCommandsStream().pipe((0,gt.h)(t=>t.equalsByType(e)))}waitForCommand(e){return this.getCommandsStream().pipe((0,gt.h)(t=>t.equals(e)),(0,ti.q)(1))}waitForResponseCommand(e){return this.getCommandsStream().pipe((0,gt.h)(t=>t instanceof class{constructor(e,t){this.type=e,this.requestedCommandId=t,this.commandId=(0,ls.Hu)()}getId(){return this.commandId}getData(){return this.data}getType(){return this.type}setData(e){this.data=e}equals(e){return this.commandId===e.commandId}equalsByType(e){return e===this.getType()}isRequestedBy(e){return!!this.requestedCommandId&&this.requestedCommandId===e.getId()}}&&t.isRequestedBy(e)),(0,as.w)(e=>e.isSuccessful()?(0,ns.of)(e):(0,os._)(e)),(0,ti.q)(1))}}var cs=i(1680),ps=i(1858);function us(e,t){1&e&&r._UZ(0,"div",8)}function hs(e,t){if(1&e&&(r.TgZ(0,"span",9),r.ALo(1,"spRichTextString"),r._uU(2),r.qZA()),2&e){const e=t.data,i=r.oxw();r.Q6J("spTooltip",r.lcZ(1,3,e.tooltip))("spTooltipGravity",i.Gravity.WEST),r.xp6(2),r.hij(" ",e.header," ")}}function gs(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"span",11),r.NdJ("click",function(){r.CHM(e);const t=r.oxw(),i=t.data,s=t.dataIndex,n=r.oxw();return!n.actionPending&&n.removeColumn(i,s)}),r.qZA()}if(2&e){const e=r.oxw(2);r.ekj("pending",e.actionPending)}}function fs(e,t){1&e&&r.YNc(0,gs,1,2,"span",10),2&e&&r.Q6J("ngIf",!t.data.treeExpand)}let ms=(()=>{class e extends di.H{constructor(t,i,s,r,n){super(t,i),this.changeDetectorRef=s,this.treePerspectiveManager=r,this.commandRepository=n,this.selectConfiguration=(new Ki.w).withSelectButtonPlaceholder("SPT_COMMON_MANAGE_COLUMNS_SEARCHBAR_INPUT_PLACEHOLDER").withSelectInputPlaceholder("SPT_COMMON_MANAGE_COLUMNS_SEARCHBAR_BUTTON_PLACEHOLDER").withValueMapper(e=>`${e.id}`).withTextMapper(e=>ji.H.string(e.header)).withPrefixForId(e.PERSPECTIVE_SEARCH_ID).withSearchFieldAvailable().withButtonWidthStyle(e.SELECT_BUTTON_WIDTH),this.actionPending=!1,this.Gravity=ss.X,this.MINIMAL_COLUMNS_NUMBER=1}ngOnInit(){this.treeConfiguration=Xi.Z.default().withColumnHeaders(!1).withDragAndDrop(!1).withSelectNode(!1).withTreeLayout(je.A.MEDIUM).withContentScroll(!1);const e=this.treePerspectiveManager.observeAvailableColumns(),t=this.treePerspectiveManager.observePerspective();(0,$i.aj)(e,t).pipe(this.takeUntilDestroy()).subscribe(([e,t])=>{this.treePerspective=t,this.selectedTreeColumns=this.treePerspective.getColumnsFromCollection(),this.allTreeColumns=e,this.selectedTreeColumns&&this.allTreeColumns&&this.setAvailableColumns(),this.changeDetectorRef.detectChanges()}),this.treePerspectiveManager.observerPerspectiveManagerLock().pipe(this.takeUntilDestroy()).subscribe(e=>{this.perspectiveMangerLock=e,this.changeDetectorRef.detectChanges()})}addColumn(e){this.setActionPending(!0);const t=this.allTreeColumns.find(t=>t.id===e.value&&t.configuration.platformInfo.extPlatformId===e.additionalData.extPlatformId);t&&(this.treePerspectiveManager.addColumn(t),this.selectedOption=new Wi.W("",ji.H.string("")),this.resolveActionPendingOnFetchAllColumnViewsSuccessCommand())}removeColumn(e,t){if(this.setActionPending(!0),this.selectedTreeColumns.length===this.MINIMAL_COLUMNS_NUMBER||e.treeExpand)return;const i=new qi.n0({nodeId:this.selectedTreeColumns[t].id});this.selectedTreeColumns[t].flex=void 0,this.treePerspectiveManager.removeColumn(t,i),this.resolveActionPendingOnFetchAllColumnViewsSuccessCommand()}resolveActionPendingOnFetchAllColumnViewsSuccessCommand(){this.commandRepository.waitForCommandByType("FetchAllColumnViewsSuccessCommand").pipe(this.takeUntilDestroy()).subscribe(()=>{this.setActionPending(!1)})}setActionPending(e){this.actionPending!==e&&(this.actionPending=e,this.changeDetectorRef.detectChanges())}setAvailableColumns(){this.availableColumns=this.allTreeColumns}}return e.PERSPECTIVE_SEARCH_ID="sp-perspective",e.SELECT_BUTTON_WIDTH=300,e.\u0275fac=function(t){return new(t||e)(r.Y36(r.SBq),r.Y36(r.Qsj),r.Y36(r.sBO),r.Y36(ri.R),r.Y36(ds))},e.\u0275cmp=r.Xpm({type:e,selectors:[["sp-tree-perspective-manager"]],features:[r._Bn([{provide:ts.o,useValue:es.c.TEMPLATE},is.R]),r.qOj],decls:11,vars:8,consts:[["id","sp-perspective-manager-container",1,"sp-perspective-manager-container"],["class","sp-perspective-manager-lock-blanket",4,"ngIf"],[1,"sp-perspective-tree-content"],[3,"treeId","config","nodes"],["flex","0 1 90%",3,"dragButton"],["flex","0 1 50px"],[1,"sp-perspective-select-content"],[1,"sp-perspective-select",3,"configuration","options","selectedOption","selectedOptionChanged"],[1,"sp-perspective-manager-lock-blanket"],[3,"spTooltip","spTooltipGravity"],["id","sp-perspective-tree-row-remove-icon","class","sp-perspective-tree-row-remove-icon fa fa-trash-alt",3,"pending","click",4,"ngIf"],["id","sp-perspective-tree-row-remove-icon",1,"sp-perspective-tree-row-remove-icon","fa","fa-trash-alt",3,"click"]],template:function(e,t){1&e&&(r.TgZ(0,"div",0),r.YNc(1,us,1,0,"div",1),r.TgZ(2,"div",2),r.TgZ(3,"sp-treegrid",3),r.TgZ(4,"sp-tree-column-collection"),r.TgZ(5,"sp-tree-column",4),r.YNc(6,hs,3,5,"ng-template"),r.qZA(),r.TgZ(7,"sp-tree-column",5),r.YNc(8,fs,1,1,"ng-template"),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.TgZ(9,"div",6),r.TgZ(10,"sp-select",7),r.NdJ("selectedOptionChanged",function(e){return t.addColumn(e)}),r.qZA(),r.qZA(),r.qZA()),2&e&&(r.xp6(1),r.Q6J("ngIf",t.perspectiveMangerLock),r.xp6(2),r.Q6J("treeId","perspective-manager")("config",t.treeConfiguration)("nodes",t.selectedTreeColumns),r.xp6(2),r.Q6J("dragButton",!1),r.xp6(5),r.Q6J("configuration",t.selectConfiguration)("options",t.availableColumns)("selectedOption",t.selectedOption))},directives:[s.O5,Mi.l,wi.$,Si.F,cs.Hr,pi.i9],pipes:[ps.C],encapsulation:2,changeDetection:0}),e})();var Ts=i(9282),Es=i(9029),vs=i(58735),Is=i(69291),ys=i(54541),Cs=i(11578),xs=i(45085),Ds=i(18842);let bs=(()=>{class e{constructor(){this.dragEnd$=new Tt.xQ}endDrag(){this.dragEnd$.next()}select(){return this.dragEnd$.asObservable()}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=r.Yz7({token:e,factory:e.\u0275fac}),e})(),ws=(()=>{class e{constructor(e,t,i,s,r){this.elementRef=e,this.renderer=t,this.localActionDispatcher=i,this.dragEndService=s,this.document=r,this.removeEventListeners$=new Tt.xQ}ngOnChanges(e){e.dropEnabled&&(this.dropEnabled?this.attachListeners():this.detachListeners())}ngOnDestroy(){this.detachListeners()}attachListeners(){const e=this.elementRef.nativeElement;(0,Ds.R)(e,"dragenter").pipe((0,Et.R)(this.removeEventListeners$)).subscribe(this.onDragEnter.bind(this)),(0,Ds.R)(e,"dragleave").pipe((0,Et.R)(this.removeEventListeners$)).subscribe(this.onDragLeave.bind(this)),(0,Ds.R)(e,"dragover").pipe((0,Et.R)(this.removeEventListeners$)).subscribe(this.onDragOver.bind(this))}detachListeners(){this.removeEventListeners$.next()}preventAndStop(e){e.preventDefault&&e.preventDefault(),e.stopPropagation&&e.stopPropagation()}onDragEnter(){this.addDropZoneClass(),this.dragEndSubscription=this.dragEndService.select().subscribe(()=>{this.onDrop()})}onDragLeave(){this.removeDropZoneClass(),this.removeDragEndSubscription()}onDragOver(e){e.preventDefault&&e.preventDefault()}onDrop(){const e=new qi.Wy({columnIndex:this.columnIndex});this.localActionDispatcher.dispatch(e),this.removeAllDropZonesClass(),this.removeDraggedContainer(),this.removeDragEndSubscription()}addDropZoneClass(){const e=this.elementRef.nativeElement.parentNode,t=e.querySelectorAll(".sp-drop-zone-border"),i=this.document.querySelector(`#${this.treeId}`).offsetHeight;this.renderer.addClass(e,"sp-tree-column-zone-active");for(let s=0;s<t.length;s++)this.renderer.setStyle(t[s],"height",i+"px")}removeDropZoneClass(){this.renderer.removeClass(this.elementRef.nativeElement.parentNode,"sp-tree-column-zone-active")}removeAllDropZonesClass(){const e=this.document.querySelectorAll(`#${this.treeId} .sp-tree-column-zone-active`);for(let t=0;t<e.length;t++)this.renderer.removeClass(e[t],"sp-tree-column-zone-active")}removeDragEndSubscription(){this.dragEndSubscription.unsubscribe()}removeDraggedContainer(){const e=this.document.querySelector(".sp-dragged-container");e&&e.parentNode&&e.parentNode.removeChild(e)}}return e.\u0275fac=function(t){return new(t||e)(r.Y36(r.SBq),r.Y36(r.Qsj),r.Y36(ys.c),r.Y36(bs),r.Y36(s.K0))},e.\u0275dir=r.lG2({type:e,selectors:[["","spTreeDropColumn",""]],inputs:{dropEnabled:["spTreeDropColumn","dropEnabled"],treeId:["spTreeDropColumnTreeId","treeId"],columnIndex:["spTreeDropColumnIndex","columnIndex"]},features:[r.TTD]}),e})();const Ss=["columnConfigSelector"],As=function(e){return{isExpanded:e}};function Rs(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"span",9),r.NdJ("click",function(t){return r.CHM(e),r.oxw().toggleExpand(t)}),r.ALo(1,"spRichTextString"),r.ALo(2,"spL10nText"),r.qZA()}if(2&e){const e=r.oxw();r.ekj("sp-toggler-rotate-down",e.allNodesExpanded),r.Q6J("spTooltip",r.lcZ(1,5,r.xi3(2,7,"SPT_SCOPE_TABLE_TOGGLE_EXPAND_ALL",r.VKq(10,As,e.allNodesExpanded))))("spTooltipGravity",e.gravity.NORTH),r.uIk("id",e.treeId+"-expand-all-toggler")}}function _s(e,t){if(1&e&&r._UZ(0,"span",10),2&e){const e=r.oxw();r.ekj("fa-caret-up",!e.column.sortActiveDirection)("fa-caret-down",e.column.sortActiveDirection)}}function Ns(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"sp-tree-column-config-selector",11,12),r.NdJ("onDropdownClick",function(t){return r.CHM(e),r.oxw().onConfigDropdownClick(t)}),r.qZA()}if(2&e){const e=r.oxw();r.Q6J("column",e.column)}}function Ls(e,t){1&e&&r._UZ(0,"div",13)}function Os(e,t){if(1&e&&r._UZ(0,"div",17),2&e){const e=r.oxw(2);r.Q6J("spTreeDropColumn",e.columnDragAndDrop)("spTreeDropColumnTreeId",e.treeId)("spTreeDropColumnIndex",e.columnIndex)}}function Fs(e,t){1&e&&r._UZ(0,"span",18)}function Ms(e,t){1&e&&r._UZ(0,"span",19)}function Us(e,t){if(1&e&&(r.ynx(0),r.YNc(1,Os,1,3,"div",14),r.YNc(2,Fs,1,0,"span",15),r.YNc(3,Ms,1,0,"span",16),r.BQk()),2&e){const e=r.oxw();r.xp6(1),r.Q6J("ngIf",e.dropZoneEnabled),r.xp6(1),r.Q6J("ngIf",e.dropZoneEnabled),r.xp6(1),r.Q6J("ngIf",e.dropZoneEnabled)}}let ks=(()=>{class e extends di.H{constructor(e,t,i,s,n,o,a){super(e,t),this.changeDetectorRef=i,this.tree=s,this.aggregateTreeId=n,this.treeQueryService=o,this.localActionDispatcher=a,this.sortActive=!1,this.changeSortMethod=new r.vpe,this.gravity=ss.X,this.dropdownConfigVisible=!1,this.isConfigDropdownOpen=!1}ngOnInit(){this.selectHostMouseEnterEvent(),this.selectHostMouseLeaveEvent(),this.isExpandAllTogglerEnabled()&&this.column.treeExpand&&(this.setExpandAllTogglerVisibility(),this.allNodesExpanded=this.tree.areNodesExpanded(),this.observeRebuildTreeAction()),this.observeHostClick()}toggleExpand(e){e.stopPropagation(),this.allNodesExpanded?this.collapseAllNodes():this.expandAllNodes()}onConfigDropdownClick(e){this.isConfigDropdownOpen=e,this.changeDetectorRef.detectChanges()}observeHostClick(){this.domManipulator.hostListen("click").pipe(this.takeUntilDestroy()).subscribe(e=>{this.shouldBeIgnored(e)||this.changeSortMethod.emit(this.column)})}selectHostMouseEnterEvent(){(0,Ds.R)(this.elementRef.nativeElement,"mouseenter").pipe(this.takeUntilDestroy()).subscribe(()=>{this.dropdownConfigVisible=!0,this.changeDetectorRef.detectChanges()})}selectHostMouseLeaveEvent(){(0,Ds.R)(this.elementRef.nativeElement,"mouseleave").pipe(this.takeUntilDestroy()).subscribe(()=>{this.dropdownConfigVisible=!1,this.changeDetectorRef.detectChanges()})}expandAllNodes(){this.localActionDispatcher.dispatch(new qi.g8)}collapseAllNodes(){this.localActionDispatcher.dispatch(new qi.Ws)}shouldBeIgnored(e){return!!this.columnConfigSelector&&this.columnConfigSelector.nativeElement.contains(e.target)}isExpandAllTogglerEnabled(){return this.tree.getConfig().expandAllToggler}observeRebuildTreeAction(){this.treeQueryService.selectRebuild(this.aggregateTreeId).pipe(this.takeUntilDestroy()).subscribe(()=>{this.allNodesExpanded=this.tree.areNodesExpanded(),this.setExpandAllTogglerVisibility(),this.changeDetectorRef.detectChanges()})}setExpandAllTogglerVisibility(){this.expandAllTogglerVisible=this.tree.parentsExist()}}return e.\u0275fac=function(t){return new(t||e)(r.Y36(r.SBq),r.Y36(r.Qsj),r.Y36(r.sBO),r.Y36(Be.mp),r.Y36(xs.H),r.Y36(U.p),r.Y36(ys.c))},e.\u0275cmp=r.Xpm({type:e,selectors:[["sp-tree-header-cell"]],viewQuery:function(e,t){if(1&e&&r.Gf(Ss,5,r.SBq),2&e){let e;r.iGM(e=r.CRH())&&(t.columnConfigSelector=e.first)}},inputs:{column:"column",columnConfigSelectorEnabled:"columnConfigSelectorEnabled",resizeEnabled:"resizeEnabled",lastColumn:"lastColumn",editMode:"editMode",columnDragAndDrop:"columnDragAndDrop",resizeProgress:"resizeProgress",dropZoneEnabled:"dropZoneEnabled",treeId:"treeId",columnIndex:"columnIndex",sortActive:"sortActive"},outputs:{changeSortMethod:"changeSortMethod"},features:[r.qOj],decls:11,vars:13,consts:[[1,"sp-header-cell-content",3,"spTooltipOnOverflow","spTooltipEnabled","spTooltip"],["class","sp-tree-header-toggler sp-tree-toggler sp-only-chevron-strategy fa fa-chevron-right",3,"spTooltip","spTooltipGravity","sp-toggler-rotate-down","click",4,"ngIf"],[1,"sp-column-name"],["class","fas",3,"fa-caret-up","fa-caret-down",4,"ngIf"],["id","sp-column-config-selector","class","sp-column-config-selector",3,"column","onDropdownClick",4,"ngIf"],["id","sp-resize-border",1,"sp-resize-border","sp-flex","sp-justify-content-center"],[1,"sp-resize-stick"],["class","sp-resize-border-content",4,"ngIf"],[4,"ngIf"],[1,"sp-tree-header-toggler","sp-tree-toggler","sp-only-chevron-strategy","fa","fa-chevron-right",3,"spTooltip","spTooltipGravity","click"],[1,"fas"],["id","sp-column-config-selector",1,"sp-column-config-selector",3,"column","onDropdownClick"],["columnConfigSelector",""],[1,"sp-resize-border-content"],["id","sp-column-drop-zone","class","sp-column-drop-zone",3,"spTreeDropColumn","spTreeDropColumnTreeId","spTreeDropColumnIndex",4,"ngIf"],["class","sp-drop-zone-border sp-drop-zone-border-left",4,"ngIf"],["class","sp-drop-zone-border sp-drop-zone-border-right",4,"ngIf"],["id","sp-column-drop-zone",1,"sp-column-drop-zone",3,"spTreeDropColumn","spTreeDropColumnTreeId","spTreeDropColumnIndex"],[1,"sp-drop-zone-border","sp-drop-zone-border-left"],[1,"sp-drop-zone-border","sp-drop-zone-border-right"]],template:function(e,t){1&e&&(r.TgZ(0,"div",0),r.ALo(1,"spRichTextString"),r.YNc(2,Rs,3,12,"span",1),r.TgZ(3,"span",2),r._uU(4),r.qZA(),r.YNc(5,_s,1,4,"span",3),r.qZA(),r.YNc(6,Ns,2,1,"sp-tree-column-config-selector",4),r.TgZ(7,"div",5),r._UZ(8,"div",6),r.YNc(9,Ls,1,0,"div",7),r.qZA(),r.YNc(10,Us,4,3,"ng-container",8)),2&e&&(r.Q6J("spTooltipOnOverflow",!0)("spTooltipEnabled",!!t.column.header)("spTooltip",r.lcZ(1,11,t.column.header)),r.xp6(2),r.Q6J("ngIf",t.expandAllTogglerVisible&&!t.editMode),r.xp6(2),r.hij(" ",t.column.header," "),r.xp6(1),r.Q6J("ngIf",t.sortActive),r.xp6(1),r.Q6J("ngIf",(t.dropdownConfigVisible||t.isConfigDropdownOpen)&&t.columnConfigSelectorEnabled),r.xp6(1),r.ekj("sp-disable-resize",t.column.disableResize||!t.resizeEnabled||t.lastColumn||t.editMode),r.xp6(2),r.Q6J("ngIf",t.resizeProgress),r.xp6(1),r.Q6J("ngIf",t.columnDragAndDrop&&t.column.dragEnabled&&!t.resizeProgress&&!t.editMode))},directives:[pi.i9,s.O5,bi,ws],pipes:[ps.C,fi.L],encapsulation:2,changeDetection:0}),e})();var Bs=i(54812),Vs=i(30159);let Gs=(()=>{class e{constructor(e,t,i,s,r){this.elementRef=e,this.renderer=t,this.localActionDispatcher=i,this.dragEndService=s,this.document=r,this.removeEventListeners$=new Tt.xQ,this.DRAG_OVER_THROTTLE_TIME=50}ngOnChanges(e){if(e.dragEnabled){const e=this.elementRef.nativeElement;this.renderer.setAttribute(e,"draggable",!0===this.dragEnabled?"true":"false"),this.dragEnabled?(this.attachListeners(),this.renderer.addClass(e,"sp-draggable-column")):(this.detachListeners(),this.renderer.removeClass(e,"sp-draggable-column"))}}ngOnDestroy(){this.detachListeners()}attachListeners(){const e=this.elementRef.nativeElement;(0,Ds.R)(e,"dragstart").pipe((0,Et.R)(this.removeEventListeners$)).subscribe(this.onDragStart.bind(this)),(0,Ds.R)(e,"dragend").pipe((0,Et.R)(this.removeEventListeners$)).subscribe(this.onDragEnd.bind(this))}detachListeners(){this.removeEventListeners$.next(),this.removeDeleteClassTimeoutListener&&this.removeDeleteClassTimeoutListener(),this.dragOverSubscription&&this.dragOverSubscription.unsubscribe(),this.removeAddClassTimeoutListener&&this.removeAddClassTimeoutListener(),this.removeChangeDropZoneHeightTimeoutListener&&this.removeChangeDropZoneHeightTimeoutListener()}onDragStart(e){const t=this.elementRef.nativeElement,i=new qi.h5({toggleDropZone:!0,columnIndex:this.columnIndex});this.setHeaderCellContentWidth(),this.localActionDispatcher.dispatch(i),this.changeDropZoneHeight(),e.dataTransfer.setData("text",""),this.draggedElemContainer=this.document.createElement("div"),this.draggedElemContainer.classList.add("sp-dragged-container"),this.document.body.insertBefore(this.draggedElemContainer,this.document.body.firstChild),this.cloneDraggedTreeColumn=t.cloneNode(!0),this.draggedElemContainer.appendChild(this.cloneDraggedTreeColumn),this.dragOverSubscription=(0,Ds.R)(this.document,"dragover").pipe((0,Bs.p)(this.DRAG_OVER_THROTTLE_TIME),(0,Vs.x)()).subscribe(e=>{this.onDragOver(e)}),this.renderer.setStyle(this.elementRef.nativeElement,"opacity",0),this.addDraggedClass()}onDragEnd(){const e=new qi.h5({toggleDropZone:!1,columnIndex:this.columnIndex});this.localActionDispatcher.dispatch(e),this.removeDraggedClass(),this.setHeaderCellContentWidth(!0),this.dragEndService.endDrag(),this.dragOverSubscription&&this.dragOverSubscription.unsubscribe()}onDragOver(e){const t=this.elementRef.nativeElement.getBoundingClientRect().top+window.pageYOffset;this.renderer.setStyle(this.draggedElemContainer,"transform",`translate3d(\n\t\t\t\t\t${e.pageX+10}px,\n\t\t\t\t\t${t}px,\n\t\t\t\t\t0\n\t\t\t\t)`),this.renderer.setStyle(this.draggedElemContainer,"opacity",1)}addDraggedClass(){const e=setTimeout(()=>{this.renderer.addClass(this.elementRef.nativeElement,"sp-tree-dragged-column")});this.removeAddClassTimeoutListener=()=>clearTimeout(e)}removeDraggedClass(){const e=setTimeout(()=>{const e=this.elementRef.nativeElement;this.draggedElemContainer.parentNode&&this.draggedElemContainer.parentNode.removeChild(this.draggedElemContainer),this.renderer.removeClass(e,"sp-tree-dragged-column"),this.renderer.removeStyle(e,"opacity")});this.removeDeleteClassTimeoutListener=()=>clearTimeout(e)}changeDropZoneHeight(){const e=setTimeout(()=>{const e=this.document.querySelectorAll(`#${this.treeId} .sp-treegrid-header-cell .sp-column-drop-zone`),t=this.document.querySelector(`#${this.treeId}`).offsetHeight;for(let i=0;i<e.length;i++)this.renderer.setStyle(e[i],"height",t+"px")});this.removeChangeDropZoneHeightTimeoutListener=()=>clearTimeout(e)}setHeaderCellContentWidth(e){const t=this.document.querySelectorAll(`#${this.treeId} .sp-treegrid-header-cell .sp-header-cell-content`);for(let i=0;i<t.length;i++)this.renderer.setStyle(t[i],"width",e?"100%":t[i].offsetWidth+"px")}}return e.\u0275fac=function(t){return new(t||e)(r.Y36(r.SBq),r.Y36(r.Qsj),r.Y36(ys.c),r.Y36(bs),r.Y36(s.K0))},e.\u0275dir=r.lG2({type:e,selectors:[["","spTreeDragColumn",""]],inputs:{dragEnabled:["spTreeDragColumn","dragEnabled"],treeId:["spTreeDragTreeId","treeId"],columnIndex:["spTreeDragColumnIndex","columnIndex"]},features:[r.TTD]}),e})();var Ps=i(23446);function Ys(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"sp-tree-header-cell",3),r.NdJ("changeSortMethod",function(t){return r.CHM(e),r.oxw().changeSortMethod(t)})("spTreeResizeColumnStart",function(t){return r.CHM(e),r.oxw().toggleResizeProgress(t)})("spTreeResizeColumnEnd",function(t){return r.CHM(e),r.oxw().columnResizeEnd(t)})("sizeChanged",function(t){return r.CHM(e),r.oxw().sizeChanged(t)}),r.qZA()}if(2&e){const e=t.$implicit,i=t.index,s=t.last,n=r.oxw();r.Gre("sp-treegrid-header-cell sp-col-",i," sp-flex sp-align-items-center"),r.Udp("width",e.width),r.ekj("sp-header-last-cell",s)("sp-tree-column-drag-start",n.dropZoneEnabled)("sp-perspective-manager-enabled",n.isPerspectiveManagerEnabled()&&s)("sp-sortable-column",e.sortEnabled),r.Q6J("column",e)("columnConfigSelectorEnabled",n.isColumnConfigSelectorEnabled())("resizeEnabled",n.resizeEnabled)("lastColumn",s)("editMode",n.editMode)("columnDragAndDrop",n.columnDragAndDrop)("resizeProgress",n.resizeProgress)("dropZoneEnabled",n.dropZoneEnabled)("treeId",n.treeId)("columnIndex",i)("sortActive",e.sortActive)("spTreeGridResizeColumns",n.resizeEnabled&&!n.editMode)("spTreeGridId",n.treeId)("spTreeGridResizeColumnIndex",i)("spTreeDragColumn",n.columnDragAndDrop&&e.dragEnabled&&!n.resizeProgress&&!n.editMode)("spTreeDragTreeId",n.treeId)("spTreeDragColumnIndex",i)("ngClass",e.cssClass),r.uIk("id",e.id)("column-index",i)}}function Zs(e,t){1&e&&r._UZ(0,"div",4),2&e&&r.Udp("flex","0 0 10%")}function zs(e,t){if(1&e&&(r._UZ(0,"span",5),r.ALo(1,"spRichTextI18n")),2&e){const e=r.oxw();r.Q6J("spInlineDialogInjector",e.injector)("spInlineDialogResolver",e.componentFactoryResolver)("spInlineDialogConfiguration",e.inlineDialogConfiguration)("spTooltip",r.lcZ(1,4,"SPT_SCOPE_TABLE_MANAGE_COLUMNS_TOOLTIP"))}}let Js=(()=>{class e extends di.H{constructor(e,t,i,s,r,n,o,a,l,d,c,p,u,h,g){super(e,t),this.componentFactoryResolver=i,this.injector=s,this.changeDetectorRef=r,this.tree=n,this.draggedColumn=o,this.localActionDispatcher=a,this.localActions$=l,this.treePerspectiveManager=d,this.treeQueryService=c,this.treeGridId=p,this.treeInlineAddRepository=u,this.treeInlineAddConfigStorage=h,this.resizeStatusStorage=g,this.editMode=!1,this.addMode=!1,this.INDENT_FACTOR=28,this.columnConfigSelectorClick=!1,this.subscription=new Fi.w}ngOnChanges(e){if(e.perspective&&this.perspective&&this.updateHeaderColumns(),e.groupingNestingLevel){const e=(Number(this.groupingNestingLevel)||0)*this.INDENT_FACTOR;e>0?(this.domManipulator.addHostStyle("margin-left",`${e}px`),this.domManipulator.addHostStyle("width",`calc(100% - ${e}px)`)):(this.domManipulator.removeHostStyle("margin-left"),this.domManipulator.removeHostStyle("width"))}}ngOnInit(){this.localActions$.ofTreeAction(qi.MF.ENTER_EDIT_MODE).pipe(this.takeUntilDestroy()).subscribe(()=>{this.editMode=!0}),this.localActions$.ofTreeAction(qi.MF.EXIT_EDIT_MODE).pipe(this.takeUntilDestroy()).subscribe(()=>{this.editMode=!1}),this.localActions$.ofTreeAction(qi.MF.COLUMN_CONFIG_SELECTOR_CLICK).pipe(this.takeUntilDestroy()).subscribe(e=>{this.columnConfigSelectorClick=e.payload}),this.localActions$.ofTreeAction(qi.MF.COLUMN_DRAG).pipe(this.takeUntilDestroy()).subscribe(e=>{this.dragStart(e)}),this.localActions$.ofTreeAction(qi.MF.COLUMN_DROP).pipe(this.takeUntilDestroy()).subscribe(e=>{this.onDrop(e)}),this.isPerspectiveManagerEnabled()&&(this.inlineDialogConfiguration=new Es.U(ms,{},Is.e.CLICK,null,vs.x.HORIZONTAL_BOTTOM,Ts.a.ELEMENT).withCssClassesToPreventClose(["sp-option-element","sp-menu-wrapper","sp-search-field-wrapper"]).withDialogPositionMargin(this.getDialogPositionMargin())),this.selectRebuildEvent(),this.selectInlineAddVisibleStatus()}finalize(){this.subscription.unsubscribe()}toggleResizeProgress(e){e!==this.resizeProgress&&(this.resizeProgress=e,this.changeDetectorRef.detectChanges())}toggleDropZone(e){this.dropZoneEnabled=e,this.changeDetectorRef.detectChanges()}dragStart(e){const t=e.payload,i=t.columnIndex;this.toggleDropZone(t.toggleDropZone),this.draggedColumn.index=i}sizeChanged(e){const t=e.nextColumn,i=this.elementRef.nativeElement,s=i.querySelector(`.sp-col-${e.column.index}`),r=i.querySelector(`.sp-col-${t.index}`);this.domManipulator.addStyle(s,"width",this.getWidthStyle(e).columnWidth),this.domManipulator.addStyle(r,"width",this.getWidthStyle(e).nextColumnWidth)}columnResizeEnd(e){e?this.updatePerspective(e):this.unlockResize()}onDrop(e){const t=this.draggedColumn.index,i=e.payload.columnIndex;this.draggedColumn.index=null,this.toggleDropZone(!1);let s=this.perspective.clone();s=s.changeColumnPosition(t,i);const r=new qi.MR({nodeId:this.columns[t].id,nodeIndex:i});this.treePerspectiveManager.updatePerspective(s,r).pipe(this.takeUntilDestroy()).subscribe(e=>{e&&this.localActionDispatcher.dispatch(new qi.Q5(s))})}changeSortMethod(e){this.tree.getConfig().sorting&&!this.editMode&&e.sortEnabled&&!this.columnConfigSelectorClick&&this.localActionDispatcher.dispatch(new qi.TE({columnId:e.id,direction:!e.sortActiveDirection,columnName:e.name}))}isColumnConfigSelectorEnabled(){return this.isPerspectiveManagerEnabled()&&this.tree.getConfig().columnSelectorConfig.enabled}isPerspectiveManagerEnabled(){return this.tree.getConfig().perspectiveManagerConfiguration.enabled}getHostClasses(){return["sp-treegrid-header-row"]}getDialogPositionMargin(){return this.tree.getConfig().perspectiveManagerConfiguration.dialogPositionMargin}updateHeaderColumns(){const e=this.perspective.getCollectionForHeader();this.columns=this.processColumns(e.getTreeColumns()),this.unlockResize()}updatePerspective(e){const t=this.perspective.clone(),i=t.getCollectionForHeader(),s=i.cloneTreeColumns(),r=this.getColumnFlex(s[e.column.index]),n=this.getColumnFlex(s[e.nextColumn.index]);s[e.column.index].flex=`${r.flexGrow} ${r.flexShrink} ${this.getWidthStyle(e).columnWidth}`,s[e.nextColumn.index].flex=`${n.flexGrow} ${n.flexShrink} ${this.getWidthStyle(e).nextColumnWidth}`,i.setTreeColumns(s);const o=new qi.wO({firstColumn:{nodeId:s[e.column.index].id,flex:s[e.column.index].flex},secondColumn:{nodeId:s[e.nextColumn.index].id,flex:s[e.nextColumn.index].flex}});this.treePerspectiveManager.updatePerspective(t,o).pipe(this.takeUntilDestroy()).subscribe(()=>{this.treePerspectiveManager.changeSelectedPerspective(t),this.unlockResize()},()=>{this.resetTreeHeaderColumnFlexStyle(e),this.unlockResize()})}unlockResize(){this.resizeStatusStorage.set(!1),this.toggleResizeProgress(!1)}resetTreeHeaderColumnFlexStyle(e){const t=e.nextColumn,i=this.elementRef.nativeElement,s=i.querySelector(`.sp-col-${e.column.index}`),r=i.querySelector(`.sp-col-${t.index}`);this.domManipulator.addStyle(s,"flex",this.columns[e.column.index].flex),this.domManipulator.addStyle(r,"flex",this.columns[e.nextColumn.index].flex)}processColumns(e){return e.map(e=>(e.flex&&(e.width=this.getColumnFlex(e).flexBasis),e))}getWidthStyle(e){return{columnWidth:`${e.column.flexBasis}%`,nextColumnWidth:`${e.nextColumn.flexBasis}%`}}getColumnFlex(e){const t=e.flex.split(" ");return{flexGrow:t[0],flexShrink:t[1],flexBasis:t[2]}}selectRebuildEvent(){this.treeQueryService.selectRebuild(this.treeGridId).pipe(this.takeUntilDestroy()).subscribe(()=>{this.addMode||(this.editMode=!1,this.changeDetectorRef.detectChanges())})}selectInlineAddVisibleStatus(){this.treeInlineAddRepository.selectInlineAddVisibleStatus(this.treeGridId).pipe((0,gt.h)(()=>this.treeInlineAddConfigStorage.isDialogEnabled(this.treeGridId)),this.takeUntilDestroy()).subscribe(e=>{this.addMode=e,this.editMode=e,this.changeDetectorRef.detectChanges()})}}return e.\u0275fac=function(t){return new(t||e)(r.Y36(r.SBq),r.Y36(r.Qsj),r.Y36(r._Vd),r.Y36(r.zs3),r.Y36(r.sBO),r.Y36(Be.mp),r.Y36(Qi,2),r.Y36(ys.c),r.Y36(Cs.e),r.Y36(ri.R),r.Y36(U.p),r.Y36(xs.H),r.Y36(Ft.I),r.Y36(ie.r),r.Y36(Ai.N))},e.\u0275cmp=r.Xpm({type:e,selectors:[["sp-tree-header"]],inputs:{perspective:"perspective",treeId:"treeId",resizeEnabled:"resizeEnabled",columnDragAndDrop:"columnDragAndDrop",headerInlineActionColumn:"headerInlineActionColumn",groupingNestingLevel:"groupingNestingLevel"},features:[r._Bn([Qi]),r.qOj,r.TTD],decls:3,vars:3,consts:[[3,"column","columnConfigSelectorEnabled","resizeEnabled","lastColumn","editMode","columnDragAndDrop","resizeProgress","dropZoneEnabled","treeId","columnIndex","sortActive","spTreeGridResizeColumns","spTreeGridId","spTreeGridResizeColumnIndex","spTreeDragColumn","spTreeDragTreeId","spTreeDragColumnIndex","width","ngClass","sp-header-last-cell","sp-tree-column-drag-start","sp-perspective-manager-enabled","sp-sortable-column","class","changeSortMethod","spTreeResizeColumnStart","spTreeResizeColumnEnd","sizeChanged",4,"ngFor","ngForOf"],["class","sp-tree-header-inline-action-column",3,"flex",4,"ngIf"],["id","sp-tree-header-add-perspective-column","spInlineDialog","","class","sp-add-perspective-column-icon fa fa-cog",3,"spInlineDialogInjector","spInlineDialogResolver","spInlineDialogConfiguration","spTooltip",4,"ngIf"],[3,"column","columnConfigSelectorEnabled","resizeEnabled","lastColumn","editMode","columnDragAndDrop","resizeProgress","dropZoneEnabled","treeId","columnIndex","sortActive","spTreeGridResizeColumns","spTreeGridId","spTreeGridResizeColumnIndex","spTreeDragColumn","spTreeDragTreeId","spTreeDragColumnIndex","ngClass","changeSortMethod","spTreeResizeColumnStart","spTreeResizeColumnEnd","sizeChanged"],[1,"sp-tree-header-inline-action-column"],["id","sp-tree-header-add-perspective-column","spInlineDialog","",1,"sp-add-perspective-column-icon","fa","fa-cog",3,"spInlineDialogInjector","spInlineDialogResolver","spInlineDialogConfiguration","spTooltip"]],template:function(e,t){1&e&&(r.YNc(0,Ys,1,33,"sp-tree-header-cell",0),r.YNc(1,Zs,1,2,"div",1),r.YNc(2,zs,2,6,"span",2)),2&e&&(r.Q6J("ngForOf",t.columns),r.xp6(1),r.Q6J("ngIf",t.headerInlineActionColumn),r.xp6(1),r.Q6J("ngIf",t.isPerspectiveManagerEnabled()&&t.inlineDialogConfiguration))},directives:[s.sg,s.O5,ks,_i,Gs,s.mk,Ps.Z,pi.i9],pipes:[gi.d],styles:[".sp-treegrid-header-row{position:relative;display:flex;flex-grow:0;width:100%;height:30px;border-bottom:2px solid var(--gray-20);background:var(--color-bg)}.sp-treegrid-header-row .sp-add-perspective-column-icon{position:absolute;top:2px;right:0;width:20px;height:26px;padding-top:5px;padding-left:2px;cursor:pointer;font-size:16px;color:var(--gray-500);background:var(--color-bg)}.sp-treegrid-header-row .sp-add-perspective-column-icon:hover{color:var(--color-font)}.sp-treegrid-header-cell{position:relative;white-space:nowrap;color:var(--gray-400);text-transform:uppercase;font-size:11px;font-weight:700;padding:5px 10px;flex:0 1 auto}.sp-treegrid-header-cell .sp-header-cell-content{display:flex;flex:1;overflow:hidden;text-overflow:ellipsis;align-items:center}.sp-treegrid-header-cell .sp-header-cell-content .sp-tree-toggler{margin-top:0}.sp-treegrid-header-cell .sp-header-cell-content .sp-column-name{width:100%}.sp-treegrid-header-cell .sp-column-config-selector{display:inline-block}.sp-treegrid-header-cell .sp-column-config-selector .sp-selector-icon{color:var(--gray-400)}.sp-treegrid-header-cell.sp-key-column .sp-header-cell-content .sp-column-name{padding-left:32px}.sp-treegrid-header-cell.sp-key-column-with-drag-button .sp-header-cell-content .sp-column-name{padding-left:43px}.sp-treegrid-header-cell.sp-header-last-cell{flex-grow:1}.sp-treegrid-header-cell.sp-header-last-cell .sp-resize-border{display:none}.sp-treegrid-header-cell.sp-perspective-manager-enabled{padding-right:25px}.sp-treegrid-header-cell.sp-resize-active .sp-resize-border .sp-resize-stick,.sp-treegrid-header-cell:hover .sp-resize-border .sp-resize-stick{min-width:3px;background-color:var(--gray-50)}.sp-treegrid-header-cell .sp-resize-border{position:absolute;top:0;right:-3px;z-index:1;width:3px;height:100%;padding:0 6px}.sp-treegrid-header-cell .sp-resize-border:hover{cursor:col-resize}.sp-treegrid-header-cell .sp-resize-border.sp-disable-resize{display:none!important}.sp-treegrid-header-cell .sp-resize-border .sp-resize-border-content{position:fixed;width:2px;background:var(--color-font);z-index:5}.sp-treegrid-header-cell .sp-resize-border .sp-resize-stick{height:100%;width:3px}.sp-treegrid-header-cell.sp-tree-column-drag-start{overflow:inherit}.sp-treegrid-header-cell.sp-tree-column-drag-start .sp-resize-border{display:none}.sp-treegrid-header-cell.sp-draggable-column,.sp-treegrid-header-cell.sp-sortable-column{cursor:pointer}.sp-treegrid-header-cell.sp-draggable-column:hover,.sp-treegrid-header-cell.sp-sortable-column:hover{background:var(--gray-20)}.sp-treegrid-header-cell.sp-tree-dragged-column{background:var(--gray-20);color:var(--gray-20);opacity:1!important;overflow:hidden}.sp-treegrid-header-cell.sp-tree-dragged-column .sp-column-drop-zone{display:none}.sp-treegrid-header-cell .sp-column-drop-zone{position:absolute;top:0;left:0;width:100%;margin:0;z-index:6}.sp-drop-zone-border{position:absolute;display:none;width:3px;top:0;background:var(--green-300);z-index:5}.sp-tree-column-zone-active .sp-column-drop-zone{background:var(--yellow-50);opacity:.5}.sp-tree-column-zone-active .sp-drop-zone-border-left{display:block;left:-4px}.sp-tree-column-zone-active .sp-drop-zone-border-right{display:block;right:1px}.sp-perspective-manager-container{width:300px;position:relative}.sp-perspective-manager-container .sp-perspective-manager-lock-blanket{position:absolute;top:0;left:0;width:100%;height:100%;z-index:20;cursor:wait}.sp-perspective-manager-container .sp-perspective-tree-content{height:200px;overflow-y:auto;border-bottom:1px solid var(--gray-50)}.sp-perspective-manager-container .sp-perspective-tree-content sp-tree-node:last-child .sp-treegrid-row{border-color:transparent}.sp-perspective-manager-container .sp-perspective-tree-content .sp-treegrid-row:hover .sp-perspective-tree-row-remove-icon:not(.pending){color:var(--color-font)}.sp-perspective-manager-container .sp-perspective-tree-content .sp-treegrid-row-cell:last-child{justify-content:flex-end}.sp-perspective-manager-container .sp-perspective-tree-content .sp-perspective-tree-row-remove-icon{color:var(--gray-50);cursor:pointer}.sp-perspective-manager-container .sp-perspective-tree-content .sp-perspective-tree-row-remove-icon.pending{color:var(--gray-20);pointer-events:none}.sp-perspective-manager-container .sp-perspective-select-content{margin-top:15px}"],encapsulation:2,changeDetection:0}),e})();i(6198),i(97796),i(69779),i(95768),i(17742),i(65115);var Hs=i(20358),qs=(i(29014),i(9588)),Qs=i(98911),$s=i(59185),js=(i(23110),i(49501),i(23512)),Ws=i(40722),Ks=i(97677),Xs=i(32553),er=i(81533),tr=i(35382),ir=i(36313),sr=i(65955),rr=i(8088),nr=i(56636),or=i(77393),ar=i(81693),lr=i(22572);const dr=[Ni.o,{provide:Ot.r,useValue:new Ot.r({})},Vt.h,Bt.F,$t.r,kt.L,{provide:jt.h,useClass:Xt},ei.s,is.R,$s.p,Ve.X,qs.Y,...wt,...N,Ve.X,Hs.Y,js.M,M.G,F,At.u,Li.N,St.N,Oi.J,sr.t,Ht.j,bs,Nt.Z,Yt.k,(0,Dt.u)(Zt),(0,Dt.u)(Pt),(0,Dt.u)(Rt),(0,Dt.u)(_t),(0,Dt.u)(Lt),(0,Dt.u)(zt),(0,Dt.u)(Qt),(0,Dt.u)(qt),(0,Dt.u)(Ut),(0,Dt.u)(Gt),(0,Dt.u)(Jt),y.bb,Qs.l,Ft.I,ie.r,rr.e,L.j,zi.r],cr=new r.OlP("global tree config");function pr(e){return new Ot.r(e)}let ur=(()=>{class e{static forRoot(t){return{ngModule:e,providers:[...dr,{provide:cr,useValue:t},{provide:Ot.r,useFactory:pr,deps:[cr]}]}}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=r.oAB({type:e}),e.\u0275inj=r.cJS({imports:[[s.ez,tr.Qr.withConfig({loggers:!1}),Hi.v.forRoot(),o.F,T,p.t.forRoot(),c.Q,er.K.forRoot(),I.A.forRoot(),h.C,Ks.k.forRoot(),pi.z8,v.o,Xs.D.forRoot(),Ji,E.Z,d.I,u.K,g.$,f.f,n.J,l,ir.o,a.l,nr.X,or.n],Hi.v]}),e})();r.B6R(Mi.l,[s.mk,ar.C,s.O5,Js,pi.i9,Ws.F,lr.N,Zi],[fi.L,ps.C])},94707:(e,t,i)=>{"use strict";i.d(t,{j:()=>o});var s=i(62784),r=i(94846),n=i(59122);let o=(()=>{class e{constructor(e){this.commandDispatcher=e}toggleToInlineAddMode(e,t,i,r){this.commandDispatcher.dispatch(new s.M(e,t,i,r))}}return e.\u0275fac=function(t){return new(t||e)(r.LFG(n.h))},e.\u0275prov=r.Yz7({token:e,factory:e.\u0275fac}),e})()},2732:(e,t,i)=>{"use strict";i.d(t,{G:()=>a});var s=i(42028),r=i(68387),n=i(82934),o=i(94846);let a=(()=>{class e extends n._{compare(e,t){return e.toString()===t.toString()}getIds(e){const t=this.get(e);return t?t.map(e=>e.id):[]}getNodes(e){return this.get(e)||[]}selectSelectedItems(e){return this.changes().pipe((0,s.h)(t=>this.compare(e,t)),(0,r.U)(e=>this.get(e)))}selectIds(e){return this.select(e).pipe((0,r.U)(e=>e.map(e=>e.id)),(0,s.h)(e=>e.length>0))}}return e.\u0275fac=function(){let t;return function(i){return(t||(t=o.n5z(e)))(i||e)}}(),e.\u0275prov=o.Yz7({token:e,factory:e.\u0275fac}),e})()},8088:(e,t,i)=>{"use strict";i.d(t,{e:()=>n});var s=i(69268),r=i(94846);let n=(()=>{class e extends s.g{constructor(){super()}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=r.Yz7({token:e,factory:e.\u0275fac}),e})()},55977:(e,t,i)=>{"use strict";i.d(t,{p:()=>g});var s=i(42028),r=i(68387),n=i(29365),o=i(52419),a=i(27324),l=i(10625),d=i(33507),c=i(42046),p=i(94846),u=i(45149),h=i(32211);let g=(()=>{class e{constructor(e,t,i,s,r,n){this.treeRepository=e,this.treeSelectedItemsRepository=t,this.treeScrollTopChangeRepository=i,this.snippedItemVerticallyTopPositionRepository=s,this.commandBus=r,this.eventBus=n}select(e){return this.treeRepository.select(e)}selectSelectedItemIds(e){return this.treeSelectedItemsRepository.select(e)}selectRebuild(e){return this.eventBus.pipe((0,s.h)(e=>!(e.getType()!==l.U.type)),(0,r.U)(()=>null))}selectSetTreeEvent(e){return this.eventBus.pipe((0,s.h)(t=>t.getAggregateId()&&t.getAggregateId().toString()===e.toString()&&t.getType()===d.b.type),(0,r.U)(()=>null))}selectScrollTopChange(e){return this.treeScrollTopChangeRepository.select(e)}selectSnippedItemVerticallyTopPosition(e){return this.snippedItemVerticallyTopPositionRepository.select(e).pipe((0,r.U)(e=>e.top))}}return e.\u0275fac=function(t){return new(t||e)(p.LFG(u.a),p.LFG(o.H),p.LFG(n.x),p.LFG(a.k),p.LFG(c.M),p.LFG(h.N))},e.\u0275prov=p.Yz7({token:e,factory:e.\u0275fac}),e})()},66713:(e,t,i)=>{"use strict";i.d(t,{M:()=>d});var s=i(78268),r=i(99721),n=i(46599),o=i(94846),a=i(45085),l=i(45149);let d=(()=>{class e{constructor(e,t){this.treeId=e,this.treeRepository=t,this.actualLayout=n.A.NORMAL,this.unsubscribe$=new s.xQ,t.select(e).pipe((0,r.R)(this.unsubscribe$)).subscribe(e=>{this.setLayout(e.getLayout())})}ngOnDestroy(){this.unsubscribe$.next(),this.unsubscribe$.complete()}setLayout(e){this.actualLayout=e}getLayout(){return this.actualLayout}getNodeHeight(){if(!this.actualLayout)return 41;switch(this.actualLayout){case n.A.ULTRA_COMPACT:return 17;case n.A.COMPACT:return 25;case n.A.MEDIUM:return 33;case n.A.NORMAL:return 41;case n.A.WIDE:return 49;default:return 41}}}return e.\u0275fac=function(t){return new(t||e)(o.LFG(a.H),o.LFG(l.a))},e.\u0275prov=o.Yz7({token:e,factory:e.\u0275fac}),e})()},97963:(e,t,i)=>{"use strict";i.d(t,{N:()=>s});var s=(()=>(function(e){e[e.ONLY_CHEVRON=0]="ONLY_CHEVRON",e[e.CHEVRON_WITH_LINES=1]="CHEVRON_WITH_LINES"}(s||(s={})),s))()},49999:(e,t,i)=>{"use strict";i.d(t,{MF:()=>s,EQ:()=>r,Ce:()=>n,g8:()=>o,Ws:()=>a,$I:()=>l,s5:()=>d,Q5:()=>c,Se:()=>p,FK:()=>u,TE:()=>h,MR:()=>g,wO:()=>f,n0:()=>m,h5:()=>T,Wy:()=>E,SF:()=>v,uK:()=>I});const s={EXPAND_NODE:"EXPAND_NODE",COLLAPSE_NODE:"COLLAPSE_NODE",EXPAND_ALL:"EXPAND_ALL",COLLAPSE_ALL:"COLLAPSE_ALL",ENTER_EDIT_MODE:"ENTER_EDIT_MODE",EXIT_EDIT_MODE:"EXIT_EDIT_MODE",CHANGE_PERSPECTIVE:"CHANGE_PERSPECTIVE",LOCK_TREE:"LOCK_TREE",LOCK_TREE_SUCCESS:"LOCK_TREE_SUCCESS",LOCK_TREE_FAIL:"LOCK_TREE_FAIL",SORT:"SORT",SELECT_NODE:"SELECT_NODE",SELECT_NEXT_NODE:"SELECT_NEXT_NODE",SELECT_PREVIOUS_NODE:"SELECT_PREVIOUS_NODE",CHANGE_COLUMN_ORDER:"CHANGE_COLUMN_ORDER",CHANGE_COLUMN_FLEX_STYLES:"CHANGE_COLUMN_FLEX_STYLES",REMOVE_COLUMN:"REMOVE_COLUMN",COLUMN_CONFIG_SELECTOR_CLICK:"COLUMN_CONFIG_SELECTOR_CLICK",COLUMN_DRAG:"COLUMN_DRAG",COLUMN_DROP:"COLUMN_DROP",SCROLLED_TO_BOTTOM:"SCROLLED_TO_BOTTOM",RELOAD_NODES:"RELOAD_NODES"};class r{constructor(e){this.payload=e,this.type=s.EXPAND_NODE}}class n{constructor(e){this.payload=e,this.type=s.COLLAPSE_NODE}}class o{constructor(e){this.payload=e,this.type=s.EXPAND_ALL}}class a{constructor(e){this.payload=e,this.type=s.COLLAPSE_ALL}}class l{constructor(e){this.payload=e,this.type=s.ENTER_EDIT_MODE}}class d{constructor(e){this.payload=e,this.type=s.EXIT_EDIT_MODE}}class c{constructor(e){this.payload=e,this.type=s.CHANGE_PERSPECTIVE}}class p{constructor(e){this.payload=e,this.type=s.LOCK_TREE}}class u{constructor(e){this.payload=e,this.type=s.LOCK_TREE_SUCCESS}}class h{constructor(e){this.payload=e,this.type=s.SORT}}class g{constructor(e){this.payload=e,this.type=s.CHANGE_COLUMN_ORDER}}class f{constructor(e){this.payload=e,this.type=s.CHANGE_COLUMN_FLEX_STYLES}}class m{constructor(e){this.payload=e,this.type=s.REMOVE_COLUMN}}class T{constructor(e){this.payload=e,this.type=s.COLUMN_DRAG}}class E{constructor(e){this.payload=e,this.type=s.COLUMN_DROP}}class v{constructor(e){this.payload=e,this.type=s.SCROLLED_TO_BOTTOM}}class I{constructor(e){this.payload=e,this.type=s.RELOAD_NODES}}},54541:(e,t,i)=>{"use strict";i.d(t,{c:()=>n});var s=i(94846),r=i(48507);let n=(()=>{class e{constructor(e){this.localActionsSubject=e}dispatch(e){this.localActionsSubject.next(e)}}return e.\u0275fac=function(t){return new(t||e)(s.LFG(r.r))},e.\u0275prov=s.Yz7({token:e,factory:e.\u0275fac}),e})()},11578:(e,t,i)=>{"use strict";i.d(t,{e:()=>a});var s=i(52792),r=i(42028),n=i(94846),o=i(48507);let a=(()=>{class e extends s.y{constructor(e){super(),e&&(this.source=e)}lift(t){const i=new e;return i.source=this,i.operator=t,i}ofTreeAction(...e){return this.pipe((0,r.h)(t=>e.some(e=>e===t.type)))}}return e.\u0275fac=function(t){return new(t||e)(n.LFG(o.r))},e.\u0275prov=n.Yz7({token:e,factory:e.\u0275fac}),e})()},48507:(e,t,i)=>{"use strict";i.d(t,{r:()=>n});var s=i(78268),r=i(94846);let n=(()=>{class e extends s.xQ{}return e.\u0275fac=function(){let t;return function(i){return(t||(t=r.n5z(e)))(i||e)}}(),e.\u0275prov=r.Yz7({token:e,factory:e.\u0275fac}),e})()},41622:(e,t,i)=>{"use strict";i.d(t,{x:()=>p});var s=i(59365),r=i(28060),n=i(2259),o=i(10905),a=i(49907),l=i(5566),d=i(29690),c=i(31658);class p{constructor(){this.decorators=[],this.sortActive=!1,this.sortActiveDirection=!0,this.sortEnabled=!1}static create(e){const t=new p;return t.id=e.id?e.id:(0,c.Hu)(),t.cssClass=e.cssClass,t.field=e.field,t.header=e.header,t.treeExpand=e.treeExpand,t.flex=e.flex,t.validators=e.validators,t.styles=e.styles,t.disableResize=e.disableResize,t.dragButton=e.dragButton,t.template=e.template,t.formField=e.formField,t.dragEnabled=e.dragEnabled,t.sortEnabled=e.sort,t}static fromAnemia(e){const t=new p;return t.id=e.id?e.id:e.name+e.type,t.header=e.label,e.aggregation&&e.aggregation.value!==n.P.NONE?t.header+=` [${e.aggregation.label}]`:e.distribute&&e.distribute.value!==o.y.NONE&&(t.header+=` [${e.distribute.label}]`),t.fieldId=e.fieldId,t.name=e.name,t.type=e.type,t.decorators=e.decorators,t.aggregation=e.aggregation,t.distribute=e.distribute,t.decoratorType=e.decoratorType,t.configuration=e.configuration,t.origin=e.origin,t.tooltip=e.tooltip,t.sortEnabled=s.O.exist(e.type),e.origin&&(t.configuration.isSuffixIcon=!0,t.configuration.suffixIconTooltip=e.tooltip,t.configuration.suffixIconLinkURL=e.configuration.linkURL,t.configuration.platformInfo={},t.configuration.platformInfo.extPlatformId=e.origin.id,a.c.isBuiltIn(e.origin)?t.configuration.suffixIcon=new d.O("font-awesome-window-not-filled",l.B.BLUE):t.configuration.suffixIconURL=e.configuration.iconURL),e.treeExpander&&(t.treeExpand=e.treeExpander),e.configuration&&e.configuration.flex&&(t.flex=e.configuration.flex),t.dragEnabled=!0,t}clone(){return Object.assign(new p,this)}composeSortMethod(){const e=this.getSortDirectionFactor();return(t,i)=>this.type?e*s.O.getComparator(this.type).compare(this.accessor(t),this.accessor(i)):void 0}getSortDirectionFactor(){return this.sortActiveDirection?-1:1}accessor(e){return r.i.getDataValueFromRaw(e.columns,this.fieldId)}}},30909:(e,t,i)=>{"use strict";i.d(t,{R:()=>n});var s=i(34857),r=i(94846);let n=(()=>{class e{constructor(e){this.treeColumnAvailabilityResolverStorage=e}transform(e,t){const i=this.treeColumnAvailabilityResolverStorage.get();return null===i||i.resolve(t,e)}}return e.\u0275fac=function(t){return new(t||e)(r.Y36(s.G,16))},e.\u0275pipe=r.Yjl({name:"spTreeColumnAvailable",type:e,pure:!0}),e})()},34857:(e,t,i)=>{"use strict";i.d(t,{G:()=>n});var s=i(8323),r=i(94846);let n=(()=>{class e extends s.V{constructor(){super(null)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=r.Yz7({token:e,factory:e.\u0275fac}),e})()},40317:(e,t,i)=>{"use strict";i.d(t,{v:()=>n});var s=i(74477);class r{constructor(){this.MIN_ITEM_WIDTH=10,this.MAX_ITEMS_CONTAINER_WIDTH=0,this.allItemSizesInPercent=0,this.largestItemIndex=-1,this.largestItemWidthInPercent=0,this.itemsIndexesWithoutFlex=[],this.flexStyle="0 1"}static recalculate(e,t="flex",i=100){if(e.length<1)return[];const s=new r;return s.MAX_ITEMS_CONTAINER_WIDTH=i,e.forEach((e,i)=>{if(e[t]){const n=r.getFlexWidthProperty(e[t]);if(!n)return void s.itemsIndexesWithoutFlex.push(i);s.setLargestItemSizeAndIndex(n,i),s.allItemSizesInPercent+=n}else s.itemsIndexesWithoutFlex.push(i)}),s.itemsIndexesWithoutFlex.length>0&&(e=s.setItemsFlexStyle(e,t)),s.allItemSizesInPercent>s.MAX_ITEMS_CONTAINER_WIDTH?s.reduceExcessWidthFromLargestItem(e,t):s.addExtraWidthToLastItem(e,t)}static getFlexWidthProperty(e){const t=new RegExp("([\\d\\.]+)%").exec(e);if(t)return+t[1]}setItemsFlexStyle(e,t){const i=this.itemsIndexesWithoutFlex.length;let r=s.l.round((this.MAX_ITEMS_CONTAINER_WIDTH-this.allItemSizesInPercent)/i,2);r<this.MIN_ITEM_WIDTH&&(r=Math.min(this.MIN_ITEM_WIDTH,s.l.round((this.MAX_ITEMS_CONTAINER_WIDTH-this.allItemSizesInPercent+(this.largestItemWidthInPercent-this.MIN_ITEM_WIDTH))/i,2)));const n=`${this.flexStyle} ${r}%`;return this.itemsIndexesWithoutFlex.forEach(i=>{e[i][t]=n,this.allItemSizesInPercent+=r,this.setLargestItemSizeAndIndex(r,i)}),e}reduceExcessWidthFromLargestItem(e,t){const i=s.l.round(this.largestItemWidthInPercent-(this.allItemSizesInPercent-this.MAX_ITEMS_CONTAINER_WIDTH),2);return i<this.MIN_ITEM_WIDTH?e=this.resetItemFlexStyle(e,t):e[this.largestItemIndex][t]=`${this.flexStyle} ${i}%`,e}addExtraWidthToLastItem(e,t){const i=this.MAX_ITEMS_CONTAINER_WIDTH-this.allItemSizesInPercent,n=r.getFlexWidthProperty(e[e.length-1][t]),o=s.l.round(i+n,2);return e[e.length-1][t]=`${this.flexStyle} ${o}%`,e}resetItemFlexStyle(e,t){const i=s.l.round(this.MAX_ITEMS_CONTAINER_WIDTH/e.length,2);return e.map(e=>e[t]=`${this.flexStyle} ${i}%`),e}setLargestItemSizeAndIndex(e,t){e>this.largestItemWidthInPercent&&(this.largestItemWidthInPercent=e,this.largestItemIndex=t)}}let n=(()=>{class e{constructor(){this.name=e.defaultName,this.inlineEdit=!1,this.inlineDelete=!1,this.treeColumns=[]}static create(t){const i=new e;return i.name=t.name,i.inlineEdit=t.inlineEdit,i.inlineDelete=t.inlineDelete,i.setTreeColumns(t.treeColumns),i}getName(){return this.name?this.name:e.defaultName}getInlineEdit(){return this.inlineEdit}getInlineDelete(){return this.inlineDelete}getTreeColumns(){return this.treeColumns?this.treeColumns:[]}getActiveSortMethod(){const e=this.treeColumns.find(e=>e.sortActive);return e?e.composeSortMethod():null}setActiveSort(e,t=!0){for(const i of this.treeColumns)i.sortActive=e===i.id,i.sortActive&&(i.sortActiveDirection=t)}setTreeColumns(e){this.treeColumns=e,this.isViewPerspective()&&this.adjustColumnsFlexStyle()}setInlineEdit(e){this.inlineEdit=e}setInlineDelete(e){this.inlineDelete=e}setPerspective(e){this.perspective=e}setPerspectiveType(e){this.perspectiveType=e}isTemplatePerspective(){return!this.perspectiveType}isViewPerspective(){return this.perspectiveType}cloneTreeColumns(){const e=[];return this.treeColumns.forEach(t=>{e.push(t.clone())}),e}adjustColumnsFlexStyle(){this.treeColumns=class{static adjustColumnsFlexStyle(e,t,i){let s=100,n=e.map(e=>e.clone());return n.length<1||((t||i)&&(s-=10),n=r.recalculate(e,"flex",s)),n}}.adjustColumnsFlexStyle(this.treeColumns,this.inlineEdit,this.inlineDelete)}}return e.defaultName="defaultName",e})()},86411:(e,t,i)=>{"use strict";i.d(t,{$:()=>n});var s=i(78268),r=i(94846);let n=(()=>{class e{constructor(){this.treeColumnCollectionChanged$=new s.xQ}setTreeColumnCollection(e){this.treeColumnCollection=e,this.treeColumnCollectionChanged$.next(e)}observeTreeColumnCollection(){return this.treeColumnCollectionChanged$.asObservable()}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=r.Yz7({token:e,factory:e.\u0275fac}),e})()},97006:(e,t,i)=>{"use strict";i.d(t,{z:()=>n});var s=i(78268),r=i(94846);let n=(()=>{class e{constructor(){this.changed$=new s.xQ}observeChanges(){return this.changed$.asObservable()}setTreeColumn(e){this.treeColumn=e,this.changed$.next(this.treeColumn)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=r.Yz7({token:e,factory:e.\u0275fac}),e})()},70156:(e,t,i)=>{"use strict";i.d(t,{g:()=>r});var s=i(83165);class r extends s.m{constructor(e,t){super(e),this.treeId=e,this.layout=t}}},35331:(e,t,i)=>{"use strict";i.d(t,{k:()=>s});class s{constructor(){}withCreate(e){return this.create=e,this}withUpdate(e){return this.update=e,this}withDelete(e){return this.delete=e,this}withMove(e){return this.move=e,this}clone(){return Object.assign(new s,this)}}s.default=(new s).withCreate(()=>new Promise(e=>{e(!0)})).withUpdate(()=>new Promise(e=>{e(!0)})).withDelete(()=>new Promise(e=>{e(!0)})).withMove((e,t,i)=>new Promise(e=>{e(!0)}))},54247:(e,t,i)=>{"use strict";i.d(t,{Z:()=>h});class s{constructor(){this.onNodeClick=()=>{},this.onNodeDblClick=()=>{}}withOnNodeClick(e){return this.onNodeClick=e,this}withOnNodeDblClick(e){return this.onNodeDblClick=e,this}}var r=i(25262);let n=(()=>{class e{constructor(){}withEnabled(e){return this.enabled=e,this}withAggregations(e){return this.aggregations=e,this}withDistributes(e){return this.distributes=e,this}withDisplay(e){return this.display=e,this}}return e.default=()=>(new e).withEnabled(!1).withAggregations(!0).withDistributes(!0).withDisplay(!0),e})(),o=(()=>{class e{constructor(){}static default(){return(new e).withEnabled(!1).withDialogPositionMargin(e.DEFAULT_MARGIN)}withEnabled(e){return this.enabled=e,this}withDialogPositionMargin(e){return this.dialogPositionMargin=e,this}}return e.DEFAULT_MARGIN=10,e})();var a=i(46599),l=i(97963),d=i(18616),c=i(85343),p=i(30957);class u{constructor(){}clone(){return Object.assign(new u,this)}withLocalStorage(e){return this.localStorage=e,this}}u.default=(new u).withLocalStorage(!1);class h{constructor(){this.mappers={hasNotLoadedChild:e=>e.hasChild&&e.hasChild>0,areChildrenLoaded:e=>e.loaded,resolveColumnsSet:e=>""},this.dropZones={topZone:!0,centerZone:!0,bottomZone:!0},this.customActions=new s,this.transparentBorder=!1,this.disableMultiselect=!1,this.selectChildren=!0}static default(){return(new h).withColumnHeaders(!0).withChildrenField("children").withDynamicCreate(!1).withCompareMarkedNodes((e,t)=>e.id===t).withIsDisabled(e=>!1).withDragAndDrop(!1).withDropZones({topZone:!0,centerZone:!0,bottomZone:!0}).withDisabledDropZone(!1).withStickyDragRow(!1).withColumnDragAndDrop(!1).withColumnResize(!0).withLoadingAnimation(!1).withAddTaskSection(!1).withContentScroll(!1).withSelectNode(!0).withCustomActions(new s).withCollapseAnimation(!0).withInlineDelete(!1).withInlineEdit(!1).withHeaderInlineActionColumn(!1).withPerspectiveManager(o.default()).withColumnSelectorConfig(n.default()).withUserSettings(u.default).withViewportRender(r.t.default()).withNodesExpandedAtStart(!0).withSorting(!1).withLSKeyNodeToScrollAtStart(null).withLockTreeAction(!0).withExpandedStoredInLS(!0).withTreeShortcutsEnabled(!1).withNodesExternalDropZone(!1).withTreeRowHierarchyStrategy(l.N.ONLY_CHEVRON).withTreeLayout(a.A.NORMAL).withOverflowEnabled(!0).withBlockExpand(!1).withNodesCssClassResolver(p.Y.DEFAULT).withExpandAllToggler(!1).withTreeDropZonesResolver(new d.X).withDispatchActionWhenScrolledToBottom(!1).withTreeNodeSelectResolver(new c.E)}extend(e){const t=Object.assign({},this.mappers,e.mappers);Object.assign(this,e),this.mappers=t}assign(e){const t=h.default();for(const i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);return t}withDisableMultiselect(e){return this.disableMultiselect=e,this}withSelectChildren(e){return this.selectChildren=e,this}withColumnHeaders(e){return this.columnHeaders=e,this}withTransparentBorder(e){return this.transparentBorder=!0,this}withHeadersFromSet(e){return this.headersFromSet=e,this}withMappers(e){return this.mappers=Object.assign(this.mappers,e),this}withChildrenField(e){return this.childrenField=e,this}withDynamicCreate(e){return this.dynamicCreate=e,this}withCompareMarkedNodes(e){return this.compareMarkedNodes=e,this}withIsDisabled(e){return this.isDisabled=e,this}withDragAndDrop(e){return this.dragAndDrop=e,this}withDisabledDropZone(e){return this.disabledDropZone=e,this}withDropZones(e){return this.dropZones=e,this}withStickyDragRow(e){return this.stickyDragRow=e,this}withColumnDragAndDrop(e){return this.columnDragAndDrop=e,this}withColumnResize(e){return this.columnResize=e,this}withLoadingAnimation(e){return this.nodeLoadingAnimation=e,this}withAddTaskSection(e){return this.addTaskSection=e,this}withContentScroll(e){return this.contentScroll=e,this}withSelectNode(e){return this.selectNode=e,this}withCustomActions(e){return this.customActions=Object.assign(this.customActions,e),this}withInlineDelete(e){return this.inlineDelete=e,this}withInlineEdit(e){return this.inlineEdit=e,this}withHeaderInlineActionColumn(e){return this.headerInlineActionColumn=e,this}withCollapseAnimation(e){return this.collapseAnimation=e,this}withPerspectiveManager(e){return this.perspectiveManagerConfiguration=e,this}withColumnSelectorConfig(e){return this.columnSelectorConfig=e,this}withUserSettings(e){return this.userSettingsConfiguration=e,this}withExpandedNodeIds(e){return this.expandedNodeIds=e,this}withNodesExpandedAtStart(e){return this.expandedAtStart=e,this}withExpandedStoredInLS(e){return this.expandedStoredInLs=e,this}withViewportRender(e){return this.treeViewportRenderConfiguration=e,this.treeViewportRenderConfiguration.enabled&&this.withContentScroll(!0),this}withSorting(e){return this.sorting=e,this}withLSKeyNodeToScrollAtStart(e){return this.nodeLSKey=e,this}withLockTreeAction(e){return this.lockTreeAction=e,this}withTreeShortcutsEnabled(e){return this.treeShortcutsEnabled=e,this}withTreeLayout(e){return this.treeLayout=e,this}withNodesExternalDropZone(e){return this.externalDropZone=e,this}withExternalDropZoneHeight(e){return this.externalDropZoneHeight=e,this}withTreeRowHierarchyStrategy(e){return this.treeRowHierarchyStrategy=e,this}withBlockExpand(e){return this.blockExpand=e,this}withTreeDropZonesResolver(e){return this.treeDropZonesResolver=e,this}withTreeNodeSelectResolver(e){return this.treeNodeSelectResolver=e,this}isNodeLoadingAnimationEnabled(){return this.nodeLoadingAnimation}isUserSettingsStoringEnabled(){return this.userSettingsConfiguration.localStorage}withOverflowEnabled(e){return this.overflowEnabled=e,this}withNodesCssClassResolver(e,t=!0){return this.treeNodesCssClassResolver=e,this.customTreeCssClass=t,this}withColumnAvailabilityResolver(e){return this.treeColumnAvailabilityResolver=e,this}withExpandAllToggler(e){return this.expandAllToggler=e,this}withTreeCollapseNodeResolver(e){return this.collapseNodeResolver=e,this}withTreeCollapseAllResolver(e){return this.collapseAllResolver=e,this}withTreeExpandNodeResolver(e){return this.expandNodeResolver=e,this}withTreeExpandAllResolver(e){return this.expandAllResolver=e,this}withTreeNotLoadedNodesResolver(e){return this.notLoadedNodesResolver=e,this}withTreeScrollTopChangeResolver(e){return this.treeScrollTopChangeResolver=e,this}withDispatchActionWhenScrolledToBottom(e){return this.dispatchActionWhenScrolledToBottom=e,this}}},25262:(e,t,i)=>{"use strict";i.d(t,{t:()=>s});let s=(()=>{class e{constructor(){}static default(){return(new e).withViewPortRender(!1).withAdditionalTasksOnViewport(e.ADDITIONAL_TASKS_ON_VIEWPORT_COUNT).withScrollDebounceTime(e.SCROLL_DEBOUNCE_TIME).withRenderViewportOnResize(!0)}withViewPortRender(e){return this.enabled=e,this}withAdditionalTasksOnViewport(e){return this.additionalTasksInViewport=e,this}withRenderViewportOnResize(e){return this.renderViewportOnResize=e,this}withScrollDebounceTime(e){return this.scrollDebounceTime=e,this}}return e.ADDITIONAL_TASKS_ON_VIEWPORT_COUNT=70,e.SCROLL_DEBOUNCE_TIME=20,e})()},9329:(e,t,i)=>{"use strict";i.d(t,{B:()=>r});var s=i(83165);class r extends s.m{constructor(e){super(e),this.treeId=e}getTreeId(){return this.treeId}}},71369:(e,t,i)=>{"use strict";i.d(t,{u:()=>a});var s=i(78268),r=i(42028),n=i(68387),o=i(94846);let a=(()=>{class e{constructor(){this.selectedChildrenMap=new Map,this.treeId$=new s.xQ}setSelectedItemsChildrenForTree(e,t){this.selectedChildrenMap.set(e,t),this.treeId$.next(e)}selectSelectedItemsChildrenIds(e){return this.treeId$.pipe((0,r.h)(t=>e.equals(t)),(0,n.U)(e=>this.selectedChildrenMap.get(e)))}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=o.Yz7({token:e,factory:e.\u0275fac}),e})()},62716:(e,t,i)=>{"use strict";i.d(t,{K:()=>r});var s=i(83165);class r extends s.m{constructor(e,t){super(e),this.treeId=e,this.node=t}getNode(){return this.node}getTreeId(){return this.treeId}}},46222:(e,t,i)=>{"use strict";i.d(t,{F:()=>r});var s=i(83165);class r extends s.m{constructor(e,t,i){super(e),this.originTreeId=e,this.destinationNode=t,this.nodeIndex=i}getTreeId(){return this.originTreeId}getDestinationNode(){return this.destinationNode}getNodeIndex(){return this.nodeIndex}}},68835:(e,t,i)=>{"use strict";i.d(t,{Z:()=>n});var s=i(69268),r=i(94846);let n=(()=>{class e extends s.g{}return e.\u0275fac=function(){let t;return function(i){return(t||(t=r.n5z(e)))(i||e)}}(),e.\u0275prov=r.Yz7({token:e,factory:e.\u0275fac}),e})()},18616:(e,t,i)=>{"use strict";i.d(t,{X:()=>s});class s{isDropZoneTopEnabled(e){return!0}isDropZoneCenterEnabled(e){return!0}isDropZoneBottomEnabled(e){return!0}isDragNodeEnable(e){return!0}}},45856:(e,t,i)=>{"use strict";i.d(t,{c:()=>n});var s=i(78268),r=i(94846);let n=(()=>{class e{constructor(){this.internalEvents$=new s.xQ}observeEvents(){return this.internalEvents$.asObservable()}dispatch(e){this.internalEvents$.next(e)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=r.Yz7({token:e,factory:e.\u0275fac}),e})()},53752:(e,t,i)=>{"use strict";i.d(t,{P3:()=>s,q9:()=>r});class s{constructor(){this.type="DRAG_START"}}class r{constructor(e){this.node=e,this.type="INLINE_DELETE_CLICK"}}},90387:(e,t,i)=>{"use strict";i.d(t,{r:()=>s});class s{constructor(e){this.singleNodeSelection=!1,this.inlineEdit=!1,this.inlineDelete=!1,e&&(e.singleNodeSelection&&(this.singleNodeSelection=e.singleNodeSelection),e.inlineEdit&&(this.inlineEdit=e.inlineEdit),e.inlineDelete&&(this.inlineDelete=e.inlineDelete))}}s.default=new s},4494:(e,t,i)=>{"use strict";i.d(t,{mp:()=>h,qI:()=>g,_3:()=>f,OF:()=>m,xb:()=>T});var s=i(88566);class r{constructor(){this.flatListOfNodes=[],this.numberOfCollapsedNodes=0}buildNodes(e){return this.flatListOfNodes=[],this.numberOfCollapsedNodes=0,e.forEach(e=>{this.setNodePositionIncludedCollapsedNodes(e),this.addNodeToList(e);const t=e.children;t&&t.length&&this.searchNode(t,e)}),[...this.flatListOfNodes]}searchNode(e,t){for(let i=0;i<e.length;i++){const s=e[i];if(!t.isExpanded()){this.numberOfCollapsedNodes+=t.rawTreeNode.childrenCount;break}this.setNodePositionIncludedCollapsedNodes(s),this.addNodeToList(s);const r=s.children;r&&r.length&&this.searchNode(r,s)}}setNodePositionIncludedCollapsedNodes(e){e.nodePositionIncludedCollapsedNodes=e.getNodePosition()-this.numberOfCollapsedNodes}addNodeToList(e){this.flatListOfNodes.push(e)}}let n=(()=>{class e{constructor(e){this.config=e,this.position=0}validateFirstRawNode(t){if(void 0!==t[e.NODES_COUNT_PROP])throw new Error(`Tree: raw node cannot have property ${e.NODES_COUNT_PROP}`);if(void 0!==t[e.NODE_POSITION])throw new Error(`Tree: raw node cannot have property ${e.NODE_POSITION}`)}enrichRawNodes(t){this.position=0;for(let i=0;i<t.length;i+=1){const s=t[i],r=this.getChildren(s),n=r.length;if(s[e.NODE_POSITION]=this.position++,s[e.NODE_LEVEL]=0,s&&r&&n>0){const t=this.searchNode(r,0);s[e.NODES_COUNT_PROP]=n+t}else s[e.NODES_COUNT_PROP]=0}}getNodePositionById(e,t){let i=-1;return null===e||(i=this.setNodePosition(e,t,i)),i}searchNode(t,i){let s=0;const r=i+1;for(let n=0;n<t.length;n+=1){const i=t[n],o=this.getChildren(i),a=o.length;if(i[e.NODE_POSITION]=this.position++,i[e.NODE_LEVEL]=r,i&&o&&a>0){const t=this.searchNode(o,r);i[e.NODES_COUNT_PROP]=a+t,s+=a+t}else i[e.NODES_COUNT_PROP]=0}return s}getChildren(e){return e[this.config.childrenField]||[]}setNodePosition(e,t,i){return t.forEach(t=>{t.id===e?i=t.nodePosition:t.children&&t.children.length>0&&t.children.forEach(()=>{i=this.setNodePosition(e,t.children,i)})}),i}}return e.NODES_COUNT_PROP="childrenCount",e.NODE_POSITION="nodePosition",e.NODE_LEVEL="nodeLevel",e})();var o=i(35331),a=i(54247);let l=(()=>{class e{constructor(){this.clear()}getIndex(){return this.index}setIndex(e){this.index=e}isExpanded(t){return this.index[t]||e.FALLBACK}hasRecord(e){return void 0!==this.index[e]}addNode(e,t=!0){Object.assign(this.index,{[`${e}`]:t})}addNodes(e){e.forEach(e=>{this.addNode(e)})}keys(){return Object.keys(this.index)}size(){return Object.keys(this.index).length}clear(){this.index={}}expandAll(){for(const e in this.index)this.index[e]=!0}collapseAll(){for(const e in this.index)this.index[e]=!1}}return e.FALLBACK=!1,e})();class d{constructor(){this.expandedNodes=new l,this.expandedNodesFromConfig=new l,this.expandedNodesFromLS=new l,this.expandAllForced=!1,this.collapseAllForced=!1}isExpanded(e,t=!1){return!!this.expandAllForced||!this.collapseAllForced&&(this.expandedNodesFromConfig.hasRecord(e)?this.expandedNodesFromConfig.isExpanded(e):this.expandedNodes.isExpanded(e))}hasRecord(e){return this.expandedNodes.hasRecord(e)||this.expandedNodesFromConfig.hasRecord(e)}forceExpand(){this.expandAllForced=!0}stopForcingExpand(){this.expandAllForced=!1}forceCollapse(){this.collapseAllForced=!0}stopForcingCollapse(){this.collapseAllForced=!1}buildExpandedNodeIndex(e){e.children.forEach(e=>{e.isExpanded()&&this.expandedNodes.addNode(e.id,!0),Array.isArray(e.children)&&this.buildExpandedNodeIndex(e)})}expandedNode(e,t){this.expandedNodes.addNode(e,t),this.saveExpandedNodesInLs()}markNodesAsExpanded(e){this.expandedNodes.addNodes(e),this.saveExpandedNodesInLs()}setUserSettings(e){this.userSettings=e,this.expandedNodesFromLS.setIndex(this.userSettings.expandedNodesIndex),this.expandedNodes.setIndex(this.userSettings.expandedNodesIndex)}clear(){this.expandedNodes.clear()}expandAll(){this.expandedNodes.expandAll()}collapseAll(){this.expandedNodes.collapseAll()}saveExpandedNodesInLs(){this.userSettings.changeExpandedNodes(this.expandedNodes.getIndex())}}class c{constructor(){this.nodesVersionMap=new Map,this.defaultVersion=0,this.clear()}setVersion(e,t){this.nodesVersionMap.set(e,t)}getVersion(e){return this.nodesVersionMap.get(e)||this.defaultVersion}updateVersion(e){const t=this.getVersion(e);this.setVersion(e,t+1)}updateAllVersion(){this.nodesVersionMap.forEach((e,t)=>{this.updateVersion(t)})}clear(){this.nodesVersionMap.clear()}}var p=i(47359),u=i(94846);let h=(()=>{class e{constructor(){this.markedNodeId=null,this.rawNodes=[],this.loadingNodeIds={},this.position=0,this.trees=[],this.treeExpander=new d,this.flatListOfNodes=[],this.config=a.Z.default(),this.draggedNodeId=null,this.treeFlatListBuilder=new r,this.expandAllNodes=!0,this.firstBuild=!0,this.trees$=new s.t(1),this.treeNodeVersioner=new c,this.updateAllNodesVersion=!1,this.allNodesExpanded=!0,this.actions=o.k.default.clone()}observeNodes(){return this.trees$.asObservable()}setUserSettings(e){this.userSettings=e,this.treeExpander.setUserSettings(e)}setTreeId(e){this.treeId=e}getTreeId(){return this.treeId}setLocalActionDispatcher(e){this.localActionDispatcher=e}setTreeCommandDispatcher(e){this.treeCommandDispatcher=e}setAggregateTreeId(e){this.aggregateTreeId=e}getUserSettings(){return this.userSettings}getAggregateTreeId(){return this.aggregateTreeId}setConfig(e){const t=Object.assign({},this.config.mappers,e.mappers);Object.assign(this.config,e),this.config.mappers=t,this.setVPREnricher(this.config)}setNodes(e){if(e&&!p.isEqual(e,this.rawNodes)){if(this.rawNodes=e,!this.perspective)return;this.updateAllNodesVersion&&(this.getTreeNodeVersioner().updateAllVersion(),this.updateAllNodesVersion=!1),this.buildTree(),this.expandAllNodes=!1}e&&0===e.length&&(this.expandAllNodes=!0,this.buildTree())}setActions(e){Object.assign(this.actions,e)}setColumnView(e){this.perspective=e,this.updateAllNodesVersion=!0,this.buildTree()}setVPREnricher(e){this.treeViewportRenderingEnricher=new n(e)}getFlatListOfNodes(){return this.flatListOfNodes}getConfig(){return this.config}expandNode(e,t){const i=t?this.getConfig().expandNodeResolver:this.getConfig().collapseNodeResolver;i?i.execute(e).then(()=>{this.expandNodeSync(e,t)}):this.expandNodeSync(e,t)}isExpanded(e){return this.expandAllNodes?this.treeExpander.hasRecord(e)?this.treeExpander.isExpanded(e,this.firstBuild):this.config.expandedAtStart:this.treeExpander.isExpanded(e,this.firstBuild)}hasExpandRecord(e){return this.treeExpander.hasRecord(e)}parentsExist(){return!(!this.treeRoot||!this.treeRoot.getChildren())&&this.treeRoot.getChildren().some(e=>this.isExpandable(e))}areNodesExpanded(){return this.allNodesExpanded=!0,this.treeRoot.hasChildren()&&this.recuCheckNodesExpanded(this.treeRoot.getChildren()),this.allNodesExpanded}isDisabled(e){return this.config.isDisabled(e)}isLoading(e){return this.loadingNodeIds[e]}isLoaded(e){return this.getConfig().mappers.areChildrenLoaded(e.getData())}isExpandable(e){return this.getConfig().mappers.hasNotLoadedChild(e.getData())||e.hasChildren()}getChildrenField(){return this.config.childrenField||"children"}setMarkedNodeId(e){this.markedNodeId=e}buildTree(){this.rawNodes&&(this.prepareRawData(),this.treeRoot=T({[this.getChildrenField()]:this.rawNodes},null,this,this.getChildrenField(),0),this.trees=[...this.treeRoot.children],this.flatListOfNodes=this.treeFlatListBuilder.buildNodes(this.trees),this.trees$.next(this.trees),this.buildExpandedNodeIndex(this.treeRoot),this.expandAllNodes&&this.rawNodes&&this.rawNodes.length>0&&(this.expandAllNodes=!1),this.firstBuild=!1,this.treeCommandDispatcher&&this.aggregateTreeId&&this.rebuildTree())}moveNode(e,t,i=-1){if(e===t)return;if(e.hasDeepChild(t))return;const s=e.nodeIndex,r=e.parent,n=this.copyNodesChildren(r);n.splice(s,1),r.rawTreeNode[this.getChildrenField()]=n,r.buildChildren(this);const o=this.copyNodesChildren(t);-1===i?o.push(e.rawTreeNode):o.splice(i,0,e.rawTreeNode),t.rawTreeNode[this.getChildrenField()]=o,t.buildChildren(this),this.expandNode(t.id,!0)}dispatchAction(e){this.localActionDispatcher&&this.localActionDispatcher.dispatch(e)}rebuildTree(){this.treeCommandDispatcher.rebuild(this.aggregateTreeId)}clearExpandedNodeIndex(){this.treeExpander.clear(),this.expandAllNodes=!0}expandAll(){const e=this.getConfig().expandAllResolver;e?e.execute().then(()=>{this.expandAllSync()}):this.expandAllSync()}collapseAll(){const e=this.getConfig().collapseAllResolver;e?e.execute().then(()=>{this.collapseAllSync()}):this.collapseAllSync()}markNodesAsExpanded(e){this.treeExpander.markNodesAsExpanded(e)}getNodeById(e){return Array.isArray(e)?this.treeRoot.getChildren()?e.map(e=>g.searchNode(this.treeRoot.getChildren(),e)).filter(e=>void 0!==e):[]:this.treeRoot.getChildren()?g.searchNode(this.treeRoot.getChildren(),e):null}getTreeViewportRenderingEnricher(){return this.treeViewportRenderingEnricher}getDraggedNodeId(){return this.draggedNodeId}getTreeNodeVersioner(){return this.treeNodeVersioner}markForUpdate(e){this.getTreeNodeVersioner().updateVersion(e)}markAllForUpdate(){this.getTreeNodeVersioner().updateAllVersion()}getTreeExpander(){return this.treeExpander}expandAllSync(){this.treeExpander.expandAll(),this.treeExpander.forceExpand(),this.buildTree(),this.buildExpandedNodeIndex(this.treeRoot),this.treeExpander.stopForcingExpand()}collapseAllSync(){this.treeExpander.collapseAll(),this.treeExpander.forceCollapse(),this.buildTree(),this.buildExpandedNodeIndex(this.treeRoot),this.treeExpander.stopForcingCollapse()}expandNodeSync(e,t){this.treeExpander.expandedNode(e,t),t&&Object.assign(this.loadingNodeIds,{[`${e}`]:t}),this.buildTree()}recuCheckNodesExpanded(e){e.forEach(e=>{const t=!this.isExpandable(e)||e.isExpanded();t||(this.allNodesExpanded=t),e.hasChildren()&&this.recuCheckNodesExpanded(e.getChildren())})}copyNodesChildren(e){return void 0===e.rawTreeNode[this.getChildrenField()]&&(e.rawTreeNode[this.getChildrenField()]=[]),e===this.treeRoot?e.rawTreeNode[this.getChildrenField()]:[...e.rawTreeNode[this.getChildrenField()]]}buildExpandedNodeIndex(e){this.treeExpander.buildExpandedNodeIndex(e),this.treeExpander.saveExpandedNodesInLs()}prepareRawData(){this.sortRawNodes(),this.enrichRawNodes()}sortRawNodes(){if(this.perspective){if(this.firstBuild){const e=this.userSettings.getSort();this.perspective.setSortColumn(e.columnId,e.direction)}if(this.perspective.getSortMethod()){const e=this.perspective.getSortMethod();this.rawNodes.sort(e)}}}enrichRawNodes(){this.getTreeViewportRenderingEnricher().enrichRawNodes(this.rawNodes)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=u.Yz7({token:e,factory:e.\u0275fac}),e})();class g{constructor(e,t,i,s,r=0){if(this.rawTreeNode=e,this.parent=t,this.tree=i,this.childrenField=s,this.nodeIndex=r,this.data={},this.nodeLevel=0,this.nodePositionIncludedCollapsedNodes=0,this.isLoaded=!0,this.version=0,this.opened=!0,this.data=Object.assign(this.data,e),this.data&&this.data.id&&(this.id=`${this.data.id}`),null!==this.parent&&this.rawTreeNode&&void 0===this.rawTreeNode.id){const e="TreeNode must have id property.";throw console.error(e),new Error(e)}this.updateVersion(i),this.setNodePosition(),this.setNodeLevel(),this.setIsGroupChild(),e[s]&&(this.children=[]),e[s]&&e[s].length>0?(i.getTreeExpander().hasRecord(this.id)||!i.getConfig().expandedAtStart?this.opened=i.isExpanded(this.id):!1===e.opened||!1===e.open||!1===e.expanded?this.opened=!1:!0!==e.opened&&!0!==e.open&&!1!==e.expanded||(this.opened=!0),this.buildChildren(i)):this.opened=!1,this.isLoaded=!1!==e.isLoaded}static searchNode(e,t){for(const i of e){if(i.id===t)return i;if(i.hasChildren()){const e=this.searchNode(i.getChildren(),t);if(e)return e}}}static getNodeByPosition(e,t){for(const i of e){if(i.nodePositionIncludedCollapsedNodes===t)return i;if(i.hasChildren()){const e=this.getNodeByPosition(i.getChildren(),t);if(e)return e}}}getId(){return this.id}getVersion(){return this.version}getData(){return this.data}getChildren(){return this.children}getRawTreeNode(){return this.rawTreeNode}getParent(){return this.parent}getIsGroup(){return!1}getNodePosition(){return this.nodePosition}getNodePositionIncludingCollapsedNodes(){return this.nodePositionIncludedCollapsedNodes}equals(e){return this.id===e.id}isExpanded(){return this.opened}isLastNode(){return this.nodeIndex===this.parent.children.length-1}hasChildren(){return this.rawTreeNode[this.childrenField]&&this.rawTreeNode[this.childrenField].length>0}hasDeepChild(e){let t=!1;if(e===this)return!0;if(this.hasChildren())for(let i=0;i<this.children.length;i+=1)if(t=this.children[i].hasDeepChild(e),t)return!0;return t}buildChildren(e){const t=this;this.children=this.rawTreeNode[this.childrenField].map((i,s)=>T(i,t,e,e.getChildrenField(),s))}getTree(){return this.tree}updateVersion(e){const t=e.getTreeNodeVersioner();this.version=t.getVersion(this.id),t.setVersion(this.id,this.version)}setNodePosition(){this.nodePosition=this.rawTreeNode&&this.rawTreeNode.nodePosition>=0?this.rawTreeNode.nodePosition:-1}setNodeLevel(){this.nodeLevel=this.rawTreeNode.nodeLevel}setIsGroupChild(){let e=!1,t=this.getParent();for(;!e&&t;)e=t.getIsGroup(),t=t.getParent();this.isGroupChild=e}}class f extends g{constructor(e,t,i,s,r=0){super(e,t,i,s,r),this.rawTreeNode=e,this.parent=t,this.tree=i,this.childrenField=s,this.nodeIndex=r,this.color=null,this.color=e&&"function"==typeof e.getColor?e.getColor():null,this.groupName=e&&"function"==typeof e.getGroupName?e.getGroupName():""}getIsGroup(){return!0}}class m extends g{constructor(e,t,i,s,r=0){super(e,t,i,s,r),this.rawTreeNode=e,this.parent=t,this.tree=i,this.childrenField=s,this.nodeIndex=r}}function T(e,t,i,s,r){return e&&"function"==typeof e.isGroup&&e.isGroup()?new f(e,t,i,s,r):new m(e,t,i,s,r)}},62784:(e,t,i)=>{"use strict";i.d(t,{M:()=>r});var s=i(83165);class r extends s.m{constructor(e,t,i,s){super(e),this.treeId=e,this.siblingNodeId=t,this.indent=i,this.selectedDropdownItemId=s}}},95834:(e,t,i)=>{"use strict";i.d(t,{I:()=>l});var s=i(30159),r=i(68387),n=i(74696),o=i(69268),a=i(94846);let l=(()=>{class e extends o.g{select(e){return super.select(e).pipe((0,s.x)((e,t)=>{if(e&&t)return e.getNodeId()===t.getNodeId()&&e.getIndent()===t.getIndent()}))}selectInlineAddVisibleStatus(e){return this.select(e).pipe((0,r.U)(e=>!!e))}selectSiblingNodeId(e){return super.select(e).pipe((0,r.U)(e=>e?e.getNodeId():null))}selectIndentStatus(e){return this.select(e).pipe((0,r.U)(e=>!!e&&e.getIndent()))}getNodeId(e){const t=this.get(e);return t?t.getNodeId():null}getSelectedDropdownItemId(e){const t=this.get(e);return t?t.getSelectedDropdownItemId():null}setIndentStatus(e,t){const i=this.get(e),s=new n.k(i.getNodeId(),t);this.set(e,s)}setDropdownItemId(e,t){const i=this.get(e),s=new n.k(i.getNodeId(),i.getIndent(),t);this.set(e,s)}clearAll(){this.map.forEach((e,t)=>{this.set(t,null)})}clearById(e){this.set(e,null)}}return e.\u0275fac=function(){let t;return function(i){return(t||(t=a.n5z(e)))(i||e)}}(),e.\u0275prov=a.Yz7({token:e,factory:e.\u0275fac}),e})()},85553:(e,t,i)=>{"use strict";i.d(t,{F:()=>n});var s=i(40317),r=i(94846);let n=(()=>{class e{hasNotLoadedChild(e){return e.hasChild&&e.hasChild>0}areChildrenLoaded(e){return e.loaded}getCollectionName(e){return s.v.defaultName}getHeaderCollectionName(){return s.v.defaultName}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=r.Yz7({token:e,factory:e.\u0275fac}),e})()},87815:(e,t,i)=>{"use strict";i.d(t,{a:()=>n});var s=i(40317),r=i(74477);class n{constructor(e,t){this.id=e,this.treeNodeResolver=t,this.name=n.defaultName,this.columnCollections=[]}setCollections(e=[]){this.columnCollections=e}setName(e=n.defaultName){this.name=e}getId(){return this.id}getName(){return this.name}getCollections(){return this.columnCollections}getCollectionForHeader(){const e=this.treeNodeResolver.getHeaderCollectionName();return this.getCollectionByName(e)}getColumnsForHeader(){return this.getCollectionForHeader().getTreeColumns()}getCollectionByNode(e){const t=this.treeNodeResolver.getCollectionName(e.getData());return this.getCollectionByName(t)}getColumnsFromCollection(e=s.v.defaultName){return this.getCollectionByName(e).getTreeColumns()}addColumn(e,t=s.v.defaultName){const i=this.clone(),r=i.getCollectionByName(t);return r.setTreeColumns([...r.getTreeColumns(),e]),i}removeColumn(e,t=s.v.defaultName){const i=this.clone(),r=i.getCollectionByName(t),n=[...r.getTreeColumns()];return e<=n.length-1&&e>-1&&n.splice(e,1),r.setTreeColumns(n),i}changeColumnPosition(e,t,i=s.v.defaultName){const n=this.clone(),o=n.getCollectionByName(i);let a=[...o.getTreeColumns()];return a=r.l.arrayMove(a,e,t),o.setTreeColumns(a),n}clone(){const e=new n(this.id,this.treeNodeResolver);return e.setName(this.getName()),e.setCollections(this.getCollections()),e}isViewPerspective(){return this.id!==n.templatePerspectiveId}setSortColumn(e,t){this.getCollectionForHeader().setActiveSort(e,t)}getSortMethod(){return this.getCollectionForHeader().getActiveSortMethod()}getCollectionByName(e=s.v.defaultName){let t=new s.v;return this.columnCollections.forEach(i=>{i.getName()===e&&(t=i)}),t}}n.EMPTY=new n(-1,null),n.templatePerspectiveId=-1,n.templatePerspectiveName="template - Perspective",n.defaultName="default"},27255:(e,t,i)=>{"use strict";i.d(t,{h:()=>d});var s=i(85553),r=i(87815),n=i(40317),o=i(58833),a=i(90387),l=i(94846);let d=(()=>{class e{constructor(e,t,i){this.treeNodeResolver=e,this.treeColumnConverter=t,this.globalTreeConfig=i}createTemplatePerspective(e){const t=new r.a(r.a.templatePerspectiveId,this.treeNodeResolver);return t.setName(r.a.templatePerspectiveName),e.forEach(e=>{e.setPerspectiveType(!1)}),t.setCollections(e),t}createViewPerspective(e){const t=new n.v;t.setPerspectiveType(!0),t.setInlineEdit(this.globalTreeConfig.inlineEdit),t.setInlineDelete(this.globalTreeConfig.inlineDelete),t.setTreeColumns(this.treeColumnConverter.convertArray(e.columns));const i=new r.a(e.id,this.treeNodeResolver);return i.setName(e.name),i.setCollections([t]),i}fromAnemicArray(e){const t=[];return e.forEach(e=>{t.push(this.createViewPerspective(e))}),t}createCollectionWithColumns(e){const t=new n.v;return t.setTreeColumns(e),t}}return e.\u0275fac=function(t){return new(t||e)(l.LFG(s.F),l.LFG(o.L),l.LFG(a.r))},e.\u0275prov=l.Yz7({token:e,factory:e.\u0275fac}),e})()},45246:(e,t,i)=>{"use strict";i.d(t,{R:()=>v});var s=i(88566),r=i(78268),n=i(6812),o=i(90540),a=i(25705),l=i(42028),d=i(40317),c=i(57057),p=i(61562),u=i(58833),h=i(49999),g=i(4494),f=i(73309),m=i(94846);class T{}var E=i(54541);class v extends f.b{constructor(e,t,i,n,o){if(super(),this.configPerspectiveStrategy=e,this.treeColumnConverter=t,this.treePerspectiveResource=i,this.localActionDispatcher=n,this.tree=o,this.availableColumns$=new s.t(1),this.availableColumns=[],this.viewPerspectives=[],this.selectedPerspective$=new s.t(1),this.perspectiveMangerLock$=new r.xQ,this.viewPerspectiveFetch=!1,this.perspectiveStrategy=null!==this.configPerspectiveStrategy?this.configPerspectiveStrategy:v.defaultStrategy,e===c.c.VIEW&&!i)throw new Error("TreePerspectiveResource have to be provided in TreePerspectiveStrategy.VIEW")}observePerspective(e){return this.isViewPerspectiveStrategy()&&!this.viewPerspectiveFetch&&e&&(this.fetchPerspective(e),this.viewPerspectiveFetch=!0),this.selectedPerspective$.asObservable()}observeAvailableColumns(){return this.availableColumns$.asObservable()}observerPerspectiveManagerLock(){return this.perspectiveMangerLock$.asObservable()}setAvailableColumns(e){this.availableColumns=this.treeColumnConverter.convertArray(e),this.availableColumns$.next(this.availableColumns)}setTemplatePerspective(e){this.templatePerspective=e}changeSelectedPerspective(e){this.selectedPerspective=e,this.selectedPerspective$.next(this.selectedPerspective)}changeSelectedPerspectiveByIndex(e){this.viewPerspectives[e]&&this.changeSelectedPerspective(this.viewPerspectives[e])}changeSelectedPerspectiveById(e){const t=this.viewPerspectives.findIndex(t=>t.getId()===e);this.changeSelectedPerspectiveByIndex(t)}changeToTemplatePerspective(){this.perspectiveStrategy===c.c.TEMPLATE&&this.changeSelectedPerspective(this.templatePerspective)}changeToViewPerspective(){this.perspectiveStrategy===c.c.VIEW&&this.changeSelectedPerspectiveByIndex(0)}getAvailableColumns(){return this.availableColumns}updatePerspective(e,t){if(!e.isViewPerspective())return(0,n.of)(!0);const i=this.selectedPerspective.clone();return this.lockTree(),this.treePerspectiveResource.updatePerspective(i,t).pipe((0,o.q)(1),(0,a.b)(()=>this.unlockTreeWithSuccess()))}addColumn(e,t=d.v.defaultName){const i=this.selectedPerspective.clone();i.addColumn(e,t),this.lockTree(),this.treePerspectiveResource&&this.treePerspectiveResource.addColumn(i).pipe((0,o.q)(1),(0,a.b)(()=>this.unlockTreeWithSuccess()),(0,l.h)(e=>!!e),this.takeUntilDestroy()).subscribe(()=>{this.changeSelectedPerspective(i)})}removeColumn(e,t,i=d.v.defaultName){const s=this.selectedPerspective.clone();s.removeColumn(e,i),this.lockTree(),this.treePerspectiveResource&&this.treePerspectiveResource.updatePerspective(s,t).pipe((0,o.q)(1),(0,a.b)(()=>this.unlockTreeWithSuccess()),(0,l.h)(e=>!!e),this.takeUntilDestroy()).subscribe(()=>{this.changeSelectedPerspective(s)})}changeColumnPosition(e,t,i=d.v.defaultName){this.changeSelectedPerspective(this.selectedPerspective.changeColumnPosition(e,t,i))}setPerspectivesColumnsForDrag(e=[]){this.tree.getConfig()&&this.tree.getConfig().dragAndDrop&&(e.length?e:this.viewPerspectives).forEach(e=>{const t=e.getColumnsFromCollection();t&&t.length>0&&(t[0].dragButton=!0)})}lockPerspectiveManger(){this.perspectiveMangerLock$.next(!0)}unLockPerspectiveManger(){this.perspectiveMangerLock$.next(!1)}setActiveSortColumn(e,t=!0){const i=this.selectedPerspective.clone();i.setSortColumn(e,t),this.changeSelectedPerspective(i)}isViewPerspectiveStrategy(){return this.configPerspectiveStrategy===c.c.VIEW}isTemplatePerspectiveStrategy(){return this.configPerspectiveStrategy===c.c.TEMPLATE}fetchPerspective(e){this.treePerspectiveResource&&this.treePerspectiveResource.selectPerspectives().pipe(this.takeUntilDestroy()).subscribe(t=>{const i=e.getSort();t[0].setSortColumn(i.columnId,i.direction),this.setPerspectivesColumnsForDrag(t),this.viewPerspectives=t,this.changeToViewPerspective()})}lockTree(){this.localActionDispatcher.dispatch(new h.Se)}unlockTreeWithSuccess(){this.localActionDispatcher.dispatch(new h.FK)}}v.defaultStrategy=c.c.TEMPLATE,v.\u0275fac=function(e){return new(e||v)(m.LFG(p.o,8),m.LFG(u.L),m.LFG(T,8),m.LFG(E.c),m.LFG(g.mp))},v.\u0275prov=m.Yz7({token:v,factory:v.\u0275fac})},57057:(e,t,i)=>{"use strict";i.d(t,{c:()=>s});var s=(()=>(function(e){e[e.TEMPLATE=0]="TEMPLATE",e[e.VIEW=1]="VIEW"}(s||(s={})),s))()},61562:(e,t,i)=>{"use strict";i.d(t,{o:()=>s});const s=new(i(94846).OlP)("TREE_PERSPECTIVE_STRATEGY")},58833:(e,t,i)=>{"use strict";i.d(t,{L:()=>a});var s=i(6812),r=i(41622),n=i(94846);class o{}let a=(()=>{class e{constructor(e){this.treeColumnToFieldMapper=e}convert(e){const t=r.x.fromAnemia(e);if(this.treeColumnToFieldMapper){const e=this.treeColumnToFieldMapper.mapField(t);e&&(t.formField=e)}return t}convertArray(e){return e.map(e=>this.convert(e))}isReady(){return this.treeColumnToFieldMapper?this.treeColumnToFieldMapper.isReady():(0,s.of)(!0)}}return e.\u0275fac=function(t){return new(t||e)(n.LFG(o,8))},e.\u0275prov=n.Yz7({token:e,factory:e.\u0275fac}),e})()},29365:(e,t,i)=>{"use strict";i.d(t,{x:()=>n});var s=i(69268),r=i(94846);let n=(()=>{class e extends s.g{}return e.\u0275fac=function(){let t;return function(i){return(t||(t=r.n5z(e)))(i||e)}}(),e.\u0275prov=r.Yz7({token:e,factory:e.\u0275fac}),e})()},85343:(e,t,i)=>{"use strict";i.d(t,{E:()=>s});class s{isNodeSelectable(e){return!0}}},9455:(e,t,i)=>{"use strict";i.d(t,{M:()=>s});var s=(()=>(function(e){e[e.RANGE=0]="RANGE",e[e.ADD=1]="ADD",e[e.ONE=2]="ONE"}(s||(s={})),s))()},91168:(e,t,i)=>{"use strict";i.d(t,{q:()=>r});var s=i(83165);class r extends s.m{constructor(e,t,i){super(e),this.treeId=e,this.itemId=t,this.mode=i}}},176:(e,t,i)=>{"use strict";i.d(t,{a:()=>r});var s=i(83165);class r extends s.m{constructor(e){super(e),this.treeId=e}}},99738:(e,t,i)=>{"use strict";i.d(t,{g:()=>r});var s=i(83165);class r extends s.m{constructor(e){super(e),this.treeId=e}}},60213:(e,t,i)=>{"use strict";i.d(t,{A:()=>r});var s=i(83165);class r extends s.m{constructor(e,t,i){super(e),this.treeId=e,this.itemId=t,this.mode=i}}},93366:(e,t,i)=>{"use strict";i.d(t,{k:()=>n});var s=i(8323),r=i(94846);let n=(()=>{class e extends s.V{constructor(){super([])}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=r.Yz7({token:e,factory:e.\u0275fac}),e})()},22051:(e,t,i)=>{"use strict";i.d(t,{c:()=>r});var s=i(83165);class r extends s.m{constructor(e){super(e),this.treeId=e}}},52419:(e,t,i)=>{"use strict";i.d(t,{H:()=>o});var s=i(30159),r=i(69268),n=i(94846);let o=(()=>{class e extends r.g{select(e){return super.select(e).pipe((0,s.x)())}set(e,t){super.set(e,t)}}return e.\u0275fac=function(){let t;return function(i){return(t||(t=n.n5z(e)))(i||e)}}(),e.\u0275prov=n.Yz7({token:e,factory:e.\u0275fac}),e})()},82927:(e,t,i)=>{"use strict";i.d(t,{f:()=>r});var s=i(83165);class r extends s.m{constructor(e,t){super(e),this.treeId=e,this.itemId=t}}},27324:(e,t,i)=>{"use strict";i.d(t,{k:()=>n});var s=i(69268),r=i(94846);let n=(()=>{class e extends s.g{}return e.\u0275fac=function(){let t;return function(i){return(t||(t=r.n5z(e)))(i||e)}}(),e.\u0275prov=r.Yz7({token:e,factory:e.\u0275fac}),e})()},63100:(e,t,i)=>{"use strict";i.d(t,{V:()=>s});class s{resolveRowCssClass(e){return[]}resolveColumnCssClass(e,t,i){return[]}}},19812:(e,t,i)=>{"use strict";i.d(t,{R:()=>o}),i(4494),i(41622);var s=i(30957),r=i(89932),n=i(94846);let o=(()=>{class e extends r.H{constructor(e,t,i){super(e,t),this.treeNodesCssClassStorage=i,this.treeRowCssClasses=[],this.treeColumnCssClasses=[]}ngOnChanges(e){(e.enabled||e.treeNode)&&this.updateCssClass()}ngOnInit(){this.treeNodesCssClassStorage.select().pipe(this.takeUntilDestroy()).subscribe(e=>{this.treeNodesCssClassResolver=e,this.updateCssClass()})}addTreeRowCssClass(){this.treeRowCssClasses=this.treeNodesCssClassResolver.resolveRowCssClass(this.treeNode).filter(e=>this.isNotEmptyString(e)),this.domManipulator.addHostClass(...this.treeRowCssClasses)}addTreeColumnCssClass(){this.treeColumnCssClasses=this.treeNodesCssClassResolver.resolveColumnCssClass(this.treeNode,this.treeColumn,this.treeColumnPosition).filter(e=>this.isNotEmptyString(e)),this.domManipulator.addHostClass(...this.treeColumnCssClasses)}removeTreeRowCssClass(){const e=this.treeNodesCssClassResolver.resolveRowCssClass(this.treeNode),t=this.treeRowCssClasses.filter(t=>!e.includes(t)).filter(e=>this.isNotEmptyString(e));this.domManipulator.removeHostClass(...t)}removeTreeColumnCssClass(){const e=this.treeNodesCssClassResolver.resolveRowCssClass(this.treeNode),t=this.treeColumnCssClasses.filter(t=>!e.includes(t)).filter(e=>this.isNotEmptyString(e));this.domManipulator.removeHostClass(...t)}updateCssClass(){this.treeNodesCssClassResolver&&(this.enabled&&!this.treeColumn?(this.removeTreeRowCssClass(),this.addTreeRowCssClass()):this.enabled&&this.treeColumn?(this.removeTreeColumnCssClass(),this.addTreeColumnCssClass()):this.enabled||this.treeColumn?!this.enabled&&this.treeColumn&&(this.removeTreeColumnCssClass(),this.addTreeColumnCssClass()):(this.removeTreeRowCssClass(),this.addTreeRowCssClass()))}isNotEmptyString(e){return e&&""!==e}}return e.\u0275fac=function(t){return new(t||e)(n.Y36(n.SBq),n.Y36(n.Qsj),n.Y36(s.Y))},e.\u0275dir=n.lG2({type:e,selectors:[["","spTreeCssClass",""]],inputs:{enabled:["spTreeCssClass","enabled"],treeNode:["spTreeCssClassTreeNode","treeNode"],treeColumn:["spTreeCssClassTreeColumn","treeColumn"],treeColumnPosition:["spTreeCssClassColumnPosition","treeColumnPosition"]},features:[n.qOj,n.TTD]}),e})()},30957:(e,t,i)=>{"use strict";i.d(t,{Y:()=>o});var s=i(63100),r=i(8323),n=i(94846);class o extends r.V{constructor(){super(o.DEFAULT)}}o.DEFAULT=new s.V,o.\u0275fac=function(e){return new(e||o)},o.\u0275prov=n.Yz7({token:o,factory:o.\u0275fac})},45085:(e,t,i)=>{"use strict";i.d(t,{H:()=>r});var s=i(19719);class r extends s.Y{constructor(e){super(e)}}},76066:(e,t,i)=>{"use strict";i.d(t,{z:()=>D});var s=i(70156),r=i(9329),n=i(62716),o=i(46222),a=i(91168),l=i(176),d=i(99738),c=i(60213),p=i(22051),u=i(82927),h=i(36581),g=i(95981),f=i(52731),m=i(40864),T=i(15594),E=i(57681),v=i(818),I=i(49065),y=i(14503),C=i(94846),x=i(59122);let D=(()=>{class e{constructor(e){this.commandDispatcher=e}init(e){this.commandDispatcher.dispatch(new T.V(e))}setLayout(e,t){this.commandDispatcher.dispatch(new s.g(e,t))}rebuild(e){this.commandDispatcher.dispatch(new E.y(e))}setTree(e,t){const i=new I.R(t,e);this.commandDispatcher.dispatch(i)}toggleItemSelection(e,t,i){const s=new c.A(e,t,i);this.commandDispatcher.dispatch(s)}selectItem(e,t,i){const s=new a.q(e,t,i);this.commandDispatcher.dispatch(s)}selectNextItem(e){this.commandDispatcher.dispatch(new l.a(e))}selectPreviousItem(e){this.commandDispatcher.dispatch(new d.g(e))}unselectItems(e){const t=new p.c(e);return this.commandDispatcher.dispatch(t),t.getId()}dragStart(e,t){const i=new n.K(e,t);this.commandDispatcher.dispatch(i)}dragEnd(e){const t=new r.B(e);this.commandDispatcher.dispatch(t)}dropItems(e,t,i){const s=new o.F(e,t,i);this.commandDispatcher.dispatch(s)}expandItem(e,t){this.commandDispatcher.dispatch(new f.W(e,t))}collapseItem(e,t){this.commandDispatcher.dispatch(new h.q(e,t))}expandSelectedItem(e){this.commandDispatcher.dispatch(new m.C(e))}collapseSelectedItem(e){this.commandDispatcher.dispatch(new g.C(e))}setSetTreeDropZonesResolver(e,t){this.commandDispatcher.dispatch(new y.h(e,t))}setSetTreeNodeSelectResolver(e,t){this.commandDispatcher.dispatch(new v.t(e,t))}snipe(e,t){this.commandDispatcher.dispatch(new u.f(e,t))}}return e.\u0275fac=function(t){return new(t||e)(C.LFG(x.h))},e.\u0275prov=C.Yz7({token:e,factory:e.\u0275fac}),e})()},36581:(e,t,i)=>{"use strict";i.d(t,{q:()=>r});var s=i(83165);class r extends s.m{constructor(e,t){super(e),this.treeId=e,this.nodeId=t}getTreeId(){return this.treeId}getNodeId(){return this.nodeId}}},95981:(e,t,i)=>{"use strict";i.d(t,{C:()=>r});var s=i(83165);class r extends s.m{constructor(e){super(e),this.treeId=e}getTreeId(){return this.treeId}}},52731:(e,t,i)=>{"use strict";i.d(t,{W:()=>r});var s=i(83165);class r extends s.m{constructor(e,t){super(e),this.treeId=e,this.nodeId=t}getTreeId(){return this.treeId}getNodeId(){return this.nodeId}}},40864:(e,t,i)=>{"use strict";i.d(t,{C:()=>r});var s=i(83165);class r extends s.m{constructor(e){super(e),this.treeId=e}getTreeId(){return this.treeId}}},15594:(e,t,i)=>{"use strict";i.d(t,{V:()=>r});var s=i(83165);class r extends s.m{constructor(e){super(e),this.treeId=e}}},57681:(e,t,i)=>{"use strict";i.d(t,{y:()=>r});var s=i(83165);class r extends s.m{constructor(e){super(e),this.treeId=e}}},10625:(e,t,i)=>{"use strict";i.d(t,{U:()=>r});var s=i(25078);class r extends s.n{}},818:(e,t,i)=>{"use strict";i.d(t,{t:()=>r});var s=i(83165);class r extends s.m{constructor(e,t){super(),this.treeId=e,this.treeNodeSelectResolver=t}getTreeId(){return this.treeId}getTreeNodeSelectResolver(){return this.treeNodeSelectResolver}}},49065:(e,t,i)=>{"use strict";i.d(t,{R:()=>r});var s=i(83165);class r extends s.m{constructor(e,t){super(t),this.tree=e}getTree(){return this.tree}}},33507:(e,t,i)=>{"use strict";i.d(t,{b:()=>r});var s=i(25078);class r extends s.n{}},14503:(e,t,i)=>{"use strict";i.d(t,{h:()=>r});var s=i(83165);class r extends s.m{constructor(e,t){super(),this.treeId=e,this.treeDropZonesResolver=t}getTreeId(){return this.treeId}getTreeDropZonesResolver(){return this.treeDropZonesResolver}}},45149:(e,t,i)=>{"use strict";i.d(t,{a:()=>s});class s{}},35826:(e,t,i)=>{"use strict";i.d(t,{r:()=>a});class s{constructor(){this.sort={columnId:null,direction:!0},this.expandedNodesIndex={}}getSort(){return this.sort}save(){this.treeUserSettingsService.save(this)}changeSort(e){this.sort=e,this.save()}changeExpandedNodes(e){this.expandedNodesIndex=e,this.save()}readFromLocalStorage(){const e=this.treeUserSettingsService.read(this.treeId);null!==e&&(this.sort=e.sort,this.expandedNodesIndex=e.expandedNodesIndex)}setTreeId(e){this.treeId=e}setTreeUserSettingsService(e){this.treeUserSettingsService=e}}var r=i(94846),n=i(97223),o=i(36480);let a=(()=>{class e{constructor(e,t){this.treeUserSettingsService=e,this.noopTreeUserSettingsService=t}create(e,t=!1){const i=new s;return i.setTreeId(e),i.setTreeUserSettingsService(t?this.treeUserSettingsService:this.noopTreeUserSettingsService),i.readFromLocalStorage(),i}}return e.\u0275fac=function(t){return new(t||e)(r.LFG(n.h),r.LFG(o.s))},e.\u0275prov=r.Yz7({token:e,factory:e.\u0275fac}),e})()},97223:(e,t,i)=>{"use strict";i.d(t,{h:()=>s});class s{}},36480:(e,t,i)=>{"use strict";i.d(t,{s:()=>n});var s=i(97223),r=i(94846);let n=(()=>{class e extends s.h{read(e){return{sort:{columnId:null,direction:!0},expandedNodesIndex:{}}}save(e){}}return e.\u0275fac=function(){let t;return function(i){return(t||(t=r.n5z(e)))(i||e)}}(),e.\u0275prov=r.Yz7({token:e,factory:e.\u0275fac}),e})()},7047:(e,t,i)=>{"use strict";i.d(t,{O:()=>s,Y:()=>r});const s=18,r=16},7201:(e,t,i)=>{"use strict";i.d(t,{$:()=>r,s:()=>n});var s=i(94846);const r=new s.OlP("TREE_EXTERNAL_DROP_METOD"),n=new s.OlP("DEFAULT_TREE_CONFIGURATION")},56894:(e,t,i)=>{"use strict";i.d(t,{$:()=>l});var s=i(74685),r=i(97006),n=i(86411),o=i(40317),a=i(94846);let l=(()=>{class e{constructor(e){this.treeColumnSetRef=e,this.name=o.v.defaultName,this.inlineEdit=!0,this.inlineDelete=!0,this.subscription=new s.w,this.treeColumnRefSubscription=new s.w}ngOnChanges(e){this.update()}ngAfterContentInit(){this.update(),this.subscription.add(this.treeColumnQL.changes.subscribe(()=>{this.update()}))}ngOnDestroy(){this.subscription.unsubscribe(),this.treeColumnRefSubscription.unsubscribe()}update(){this.updateColumns(),this.updateColumnCollection()}updateColumns(){this.treeColumnQL?(this.treeColumnRefSubscription.unsubscribe(),this.treeColumnRefSubscription=new s.w,this.treeColumns=this.treeColumnQL.toArray().map(e=>e.treeColumn),this.treeColumnQL.toArray().forEach(e=>{this.treeColumnRefSubscription.add(e.observeChanges().subscribe(e=>{this.treeColumns.forEach((t,i)=>{t.id===e.id&&(this.treeColumns[i]=e)}),this.updateColumnCollection()}))})):this.treeColumns=[]}updateColumnCollection(){const e=o.v.create(this);e.setPerspectiveType(!1),this.treeColumnSetRef.setTreeColumnCollection(e)}}return e.\u0275fac=function(t){return new(t||e)(a.Y36(n.$))},e.\u0275cmp=a.Xpm({type:e,selectors:[["sp-tree-column-collection"]],contentQueries:function(e,t,i){if(1&e&&a.Suo(i,r.z,4),2&e){let e;a.iGM(e=a.CRH())&&(t.treeColumnQL=e)}},inputs:{name:"name",inlineEdit:"inlineEdit",inlineDelete:"inlineDelete"},features:[a._Bn([n.$]),a.TTD],decls:0,vars:0,template:function(e,t){},encapsulation:2,changeDetection:0}),e})()},96500:(e,t,i)=>{"use strict";i.d(t,{F:()=>a});var s=i(94846),r=i(26484),n=i(97006),o=i(41622);let a=(()=>{class e{constructor(e){this.treeColumnRef=e,this.header="",this.sort=!1,this.disableResize=!1,this.dragEnabled=!0}set templateFromContentChild(e){this.template=e}set formFieldFromContentChild(e){this.formField=e}set formFieldFromInput(e){this.formField=e}set templateFromInput(e){this.template=e}ngOnChanges(e){this.updateColumn()}ngAfterContentInit(){this.updateColumn()}updateColumn(){if(!this.treeColumnRef)return;const e=o.x.create(this);this.id||(this.id=e.id),this.treeColumnRef.setTreeColumn(e)}}return e.\u0275fac=function(t){return new(t||e)(s.Y36(n.z,8))},e.\u0275cmp=s.Xpm({type:e,selectors:[["sp-tree-column"]],contentQueries:function(e,t,i){if(1&e&&(s.Suo(i,s.Rgc,7),s.Suo(i,r.u,7)),2&e){let e;s.iGM(e=s.CRH())&&(t.templateFromContentChild=e.first),s.iGM(e=s.CRH())&&(t.formFieldFromContentChild=e.first)}},inputs:{formFieldFromInput:["formField","formFieldFromInput"],templateFromInput:["template","templateFromInput"],id:"id",cssClass:"cssClass",field:"field",header:"header",sort:"sort",treeExpand:"treeExpand",flex:"flex",validators:"validators",styles:"styles",disableResize:"disableResize",dragButton:"dragButton",dragEnabled:"dragEnabled"},features:[s._Bn([n.z]),s.TTD],decls:0,vars:0,template:function(e,t){},encapsulation:2,changeDetection:0}),e})()},25333:(e,t,i)=>{"use strict";i.d(t,{N:()=>n});var s=i(8323),r=i(94846);let n=(()=>{class e extends s.V{constructor(){super(!1)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=r.Yz7({token:e,factory:e.\u0275fac}),e})()},73630:(e,t,i)=>{"use strict";i.d(t,{o:()=>n});var s=i(78268),r=i(94846);let n=(()=>{class e{constructor(){this.status$=new s.xQ}compareModeStatus(){return this.status$.asObservable()}toggleCompareMode(e){this.status$.next(e)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=r.Yz7({token:e,factory:e.\u0275fac}),e})()},30844:(e,t,i)=>{"use strict";i.d(t,{N:()=>n});var s=i(88566),r=i(94846);let n=(()=>{class e{constructor(){this.dragOrigin$=new s.t(1)}setDragOrigin(e){const t=e.toString();this.dragOrigin$.next(t),this.origin=e}selectDragOrigin(){return this.dragOrigin$.asObservable()}getDragOrigin(){return this.origin}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=r.Yz7({token:e,factory:e.\u0275fac}),e})()},92473:(e,t,i)=>{"use strict";i.d(t,{J:()=>o});var s=i(88566),r=i(30159),n=i(94846);let o=(()=>{class e{constructor(){this.dropDestination$=new s.t(1)}setDropDestination(e){this.lastValue=e,this.dropDestination$.next(e)}selectDropDestination(){return this.dropDestination$.pipe((0,r.x)())}getDropDestination(){return this.lastValue}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=n.Yz7({token:e,factory:e.\u0275fac}),e})()},21444:(e,t,i)=>{"use strict";i.d(t,{O:()=>x});var s=i(4562),r=i(74685),n=i(18842),o=i(42028),a=i(99721),l=i(2732),d=i(4494),c=i(53752),p=i(76066),u=i(31361),h=i(50533),g=i(46599),f=i(89932),m=i(94846),T=i(66713),E=i(45856),v=i(92473),I=i(30844),y=i(71369),C=i(65955);let x=(()=>{class e extends f.H{constructor(e,t,i,s,n,o,a,l,d,p,u,h,g,f,m){super(e,t),this.ngZone=i,this.treeNodeHeight=s,this.internalEventHandler=n,this.dropDestinationRepository=o,this.dragOriginRepository=a,this.treeCommandService=l,this.dragStateRepository=d,this.selectedItemsRepository=p,this.selectedItemsChildrenRepository=u,this.draggedElementService=h,this.tree=g,this.treeDraggedFromNodeStorage=f,this.document=m,this.dragEnabled=!1,this.treeGridIdSubscription=new r.w,this.dragOverSubscription=new r.w,this.removerDragStartListener=new r.w,this.removeDragEndListener=new r.w,this.removeMouseDownListener=new r.w,this.dragContainerVisible=!0,this.listenersAttached=!1,this.dragged=!1,this.onDragStart=()=>{this.dropDestinationRepository.setDropDestination(this.tree),this.setTreeContainer(this.tree.getTreeId()),this.dragStateRepository.set(!0),this.clearSelection(),this.attachDragListeners(),this.hideDragHandle(),this.cloneNode(),this.createDragCounter();const e=this.tree.getAggregateTreeId();this.dragOriginRepository.setDragOrigin(e),this.treeCommandService.dragStart(e,this.draggedTreeNode),this.treeDraggedFromNodeStorage.set(this.draggedTreeNode),this.internalEventHandler.dispatch(new c.P3),this.dragged=!0},this.onDragOver=e=>{this.setDragRowPosition(e)},this.onDragEnd=()=>{this.treeCommandService.dragEnd(this.tree.getAggregateTreeId()),this.dragOverSubscription.unsubscribe(),this.removeDragEndListener&&this.removeDragEndListener.unsubscribe(),this.dragStateRepository.set(!1)},this.nativeElement=e.nativeElement}ngOnChanges(e){e.dragEnabled&&(this.dragEnabled&&!this.listenersAttached?this.attachListeners():this.listenersAttached&&this.detachListeners())}ngOnInit(){this.observeCounter(),this.observeDropDestination(),this.observeDragState()}finalize(){this.listenersAttached&&(this.treeGridIdSubscription&&this.treeGridIdSubscription.unsubscribe(),this.removerDragStartListener&&this.removerDragStartListener.unsubscribe(),this.removeDragEndListener&&this.removeDragEndListener.unsubscribe(),this.removeMouseDownListener&&this.removeMouseDownListener.unsubscribe(),this.listenersAttached=!1)}observeCounter(){this.tree.getConfig().selectChildren?this.selectedItemsChildrenRepository.selectSelectedItemsChildrenIds(this.tree.getAggregateTreeId()).pipe(this.takeUntilDestroy()).subscribe(e=>this.updateDragCounter(e.length)):this.selectedItemsRepository.selectIds(this.tree.getAggregateTreeId()).pipe(this.takeUntilDestroy()).subscribe(e=>this.updateDragCounter(e.length))}observeDragState(){this.dragStateRepository.select().pipe((0,o.h)(e=>this.dragged&&!e),this.takeUntilDestroy()).subscribe(()=>{this.dragged=!1,this.showDragHandle(),this.onDragEnd()})}observeDropDestination(){this.dropDestinationRepository.selectDropDestination().pipe((0,o.h)(()=>this.dragged),this.takeUntilDestroy()).subscribe(e=>this.setTreeContainer(e.getTreeId()))}clearSelection(){window.getSelection&&(window.getSelection().empty?window.getSelection().empty():window.getSelection().removeAllRanges&&window.getSelection().removeAllRanges())}hideDragHandle(){this.domManipulator.addHostStyle("opacity",String(0))}showDragHandle(){this.domManipulator.addHostStyle("opacity",String(1))}attachListeners(){this.ngZone.runOutsideAngular(()=>{this.removerDragStartListener=this.domManipulator.hostListen("mousedown").subscribe(this.onDragStart)}),this.listenersAttached=!0}detachListeners(){this.dragOverSubscription&&this.dragOverSubscription.unsubscribe(),this.treeGridIdSubscription&&this.treeGridIdSubscription.unsubscribe(),this.removerDragStartListener&&this.removerDragStartListener.unsubscribe(),this.removeDragEndListener&&this.removeDragEndListener.unsubscribe(),this.removeMouseDownListener&&this.removeMouseDownListener.unsubscribe(),this.listenersAttached=!1}setTreeContainer(e){this.containerElement=this.document.querySelector(`#${e}`)}cloneNode(){this.dragContainerVisible=!0,this.dragContainerWrapperElement=this.document.createElement("div"),this.draggedElementService.registerClone(this.dragContainerWrapperElement),this.setLayoutClass(),this.domManipulator.addStyle(this.dragContainerWrapperElement,"width",this.spDraggedTreeRow.offsetWidth+"px"),this.setDragContainerVisibility(!1),this.document.body.insertBefore(this.dragContainerWrapperElement,this.document.body.firstChild);const e=this.spDraggedTreeRow.cloneNode(!0);this.dragContainerWrapperElement.appendChild(e),this.domManipulator.addStyle(e,"overflow-y","hidden"),this.domManipulator.addClass(e,"node-selected")}createDragCounter(){this.counterElement=this.document.createElement("div"),this.counterElement.classList.add("sp-drag-counter"),this.dragContainerWrapperElement.appendChild(this.counterElement)}updateDragCounter(e){this.counterElement&&(this.counterElement.innerText=""+e)}setLayoutClass(){this.domManipulator.addClass(this.dragContainerWrapperElement,"sp-dragged-container"),this.treeNodeHeight.getLayout()===g.A.COMPACT?this.domManipulator.addClass(this.dragContainerWrapperElement,"sp-layout-compact"):this.treeNodeHeight.getLayout()===g.A.WIDE&&this.domManipulator.addClass(this.dragContainerWrapperElement,"sp-layout-wide")}attachDragListeners(){this.ngZone.runOutsideAngular(()=>{this.removeDragEndListener=(0,n.R)(this.document,"mouseup").subscribe(this.onDragEnd),this.dragOverSubscription=(0,n.R)(this.document,"mousemove").pipe((0,a.R)(this.dragEnd())).subscribe(e=>{this.clearSelection(),this.onDragOver(e),this.dragContainerVisible||this.setDragContainerVisibility(!0)})})}dragEnd(){return this.dragStateRepository.select().pipe((0,o.h)(e=>!e))}setDragContainerVisibility(e){this.dragContainerVisible=e,this.domManipulator.addStyle(this.dragContainerWrapperElement,"visibility",e?"visible":"hidden")}setDragRowPosition(e){let t=e.pageX+5;const i=e.pageY+5;this.stickyRow&&this.containerElement&&(this.containerElementXPos=this.containerElement.getBoundingClientRect().left,t=this.containerElementXPos),this.domManipulator.addStyle(this.dragContainerWrapperElement,"transform",`translateY(${i}px) translateX(${t}px)`)}}return e.\u0275fac=function(t){return new(t||e)(m.Y36(m.SBq),m.Y36(m.Qsj),m.Y36(m.R0b),m.Y36(T.M),m.Y36(E.c),m.Y36(v.J),m.Y36(I.N),m.Y36(p.z),m.Y36(h.N),m.Y36(l.G),m.Y36(y.u),m.Y36(C.t),m.Y36(d.mp),m.Y36(u.r),m.Y36(s.K0))},e.\u0275dir=m.lG2({type:e,selectors:[["","spTreeDrag",""]],inputs:{draggedTreeNode:["spTreeDrag","draggedTreeNode"],dragEnabled:["spTreeDragEnabled","dragEnabled"],spDraggedTreeRow:["spTreeDragTreeRow","spDraggedTreeRow"],stickyRow:["spTreeDragStickyRow","stickyRow"]},features:[m.qOj,m.TTD]}),e})()},65955:(e,t,i)=>{"use strict";i.d(t,{t:()=>n});var s=i(4562),r=i(94846);let n=(()=>{class e{constructor(e,t){this.rendererFactory2=e,this.document=t,this.renderer=e.createRenderer(null,null)}registerClone(e){this.dragContainerWrapperElement=e}removeClone(){this.dragContainerWrapperElement&&this.dragContainerWrapperElement.parentNode&&(this.dragContainerWrapperElement.parentNode.removeChild(this.dragContainerWrapperElement),this.dragContainerWrapperElement=null,this.removeAllZonesClass())}removeAllZonesClass(){const e=["sp-top-zone-active","sp-center-zone-active","sp-bottom-zone-active","sp-center-zone-treegrid-container"];Array.from(this.document.querySelectorAll(e.map(e=>`.sp-treegrid-row.${e}`).join(", "))).forEach(t=>e.forEach(e=>{this.renderer.removeClass(t,e)}))}}return e.\u0275fac=function(t){return new(t||e)(r.LFG(r.FYo),r.LFG(s.K0))},e.\u0275prov=r.Yz7({token:e,factory:e.\u0275fac}),e})()},31361:(e,t,i)=>{"use strict";i.d(t,{r:()=>r});var s=i(8323);class r extends s.V{constructor(){super()}}},89830:(e,t,i)=>{"use strict";i.d(t,{V:()=>p});var s=i(94846),r=i(4562),n=i(98549),o=i(4494),a=i(50533),l=i(89932),d=i(30844),c=i(92473);let p=(()=>{class e extends l.H{constructor(e,t,i,r,n,o,a){super(e,t),this.document=i,this.dragOriginRepository=r,this.dropDestinationRepository=n,this.treeDragStateRepository=o,this.tree=a,this.spTreeDropEnabled=!0,this.spTreeDropNodeIndex=-1,this.treeDrop=new s.vpe,this.listenersAttached=!1,this.dragOriginId=null,this.onDragEnter=()=>{this.dragInProgress()&&(this.removeAllZoneClasses(),this.dropDestinationRepository.setDropDestination(this.tree),this.setDropZoneStyles(!0))},this.onDragLeave=()=>{this.dragInProgress()&&this.setDropZoneStyles(!1)},this.onDrop=e=>{if(e.stopPropagation(),this.dropDestinationRepository.setDropDestination(this.tree),this.dragInProgress()){this.preventAndStop(e),this.removeDraggedContainer(),this.treeDrop.emit(this.dragOriginId);for(const e of this.getAllTreeContainers())this.domManipulator.removeClass(e,"sp-active-drop-zones")}},this.nativeElement=e.nativeElement}ngOnChanges(e){e.spTreeDropEnabled&&(this.spTreeDropEnabled&&!this.listenersAttached?this.attachListeners():this.listenersAttached&&this.detachListeners())}ngOnInit(){this.dragOriginRepository.selectDragOrigin().pipe(this.takeUntilDestroy()).subscribe(e=>{this.dragOriginId=e}),this.treeDragStateRepository.select().pipe(this.takeUntilDestroy()).subscribe(e=>{e&&this.spTreeDropEnabled&&!this.listenersAttached?this.attachListeners():!e&&this.listenersAttached&&this.detachListeners()})}finalize(){this.detachListeners()}dragInProgress(){return this.treeDragStateRepository.get()}attachListeners(){this.removeDragEnterListener$=this.domManipulator.hostListen("mouseenter").pipe(this.takeUntilDestroy()).subscribe(()=>this.onDragEnter()),this.removeDragLeaveListener$=this.domManipulator.hostListen("mouseleave").pipe(this.takeUntilDestroy()).subscribe(()=>this.onDragLeave()),this.removeDropListener$=this.domManipulator.hostListen("mouseup").pipe(this.takeUntilDestroy()).subscribe(e=>this.onDrop(e)),this.listenersAttached=!0}detachListeners(){this.removeDragEnterListener$&&this.removeDragEnterListener$.unsubscribe(),this.removeDragLeaveListener$&&this.removeDragLeaveListener$.unsubscribe(),this.removeDropListener$&&this.removeDropListener$.unsubscribe(),this.removeDragOverListener&&this.removeDragOverListener(),this.listenersAttached=!1}preventAndStop(e){e.preventDefault&&e.preventDefault(),e.stopPropagation&&e.stopPropagation()}setDropZoneStyles(e){const t=this.nativeElement.parentElement;t.classList.contains("sp-drop-top-zone")?this.setTopZoneClass(e):this.nativeElement.classList.contains("sp-drop-center-zone")||t.classList.contains("sp-drop-center-zone")?this.setCenterZoneClass(e):t.classList.contains("sp-drop-bottom-zone")?this.setBottomZoneClass(e):this.setTreeGridZoneClass(e)}setTopZoneClass(e){this.setClassOnDraggedRow("sp-top-zone-active",e)}setCenterZoneClass(e){this.setClassOnDraggedRow("sp-center-zone-active",e)}setBottomZoneClass(e){this.setClassOnDraggedRow("sp-bottom-zone-active",e)}setTreeGridZoneClass(e){this.setClassOnDraggedRow("sp-center-zone-treegrid-container",e)}setClassOnDraggedRow(e,t){t?this.domManipulator.addClass(this.spTreeDropDraggedRow,e):this.domManipulator.removeClass(this.spTreeDropDraggedRow,e)}removeDraggedContainer(){this.deferTask(()=>{const e=this.document.querySelector(".sp-dragged-container");e&&e.parentNode&&e.parentNode.removeChild(e),this.setTreeGridZoneClass(!1)})}removeAllZoneClasses(){const e=["sp-top-zone-active","sp-center-zone-active","sp-bottom-zone-active","sp-center-zone-treegrid-container"];Array.from(this.document.querySelectorAll(e.map(e=>`.sp-treegrid-row.${e}`).join(", "))).forEach(t=>e.forEach(e=>{this.domManipulator.removeClass(t,e)}))}getAllTreeContainers(){return Array.from(this.document.querySelectorAll(".sp-treegrid-container"))}deferTask(e,t=0){(0,n.H)(t).pipe(this.takeUntilDestroy()).subscribe(()=>e())}}return e.\u0275fac=function(t){return new(t||e)(s.Y36(s.SBq),s.Y36(s.Qsj),s.Y36(r.K0),s.Y36(d.N),s.Y36(c.J),s.Y36(a.N),s.Y36(o.mp))},e.\u0275dir=s.lG2({type:e,selectors:[["","spTreeDrop",""]],inputs:{spTreeDrop:"spTreeDrop",spTreeDropEnabled:"spTreeDropEnabled",spTreeDropDraggedRow:"spTreeDropDraggedRow",spTreeDropNodeIndex:"spTreeDropNodeIndex"},outputs:{treeDrop:"treeDrop"},features:[s.qOj,s.TTD]}),e})()},48516:(e,t,i)=>{"use strict";i.d(t,{b:()=>d}),i(4494);var s=i(94846),r=i(89830),n=i(4562);const o=["zoneContent"];function a(e,t){1&e&&s.GkF(0)}function l(e,t){if(1&e&&(s.ynx(0),s.YNc(1,a,1,0,"ng-container",2),s.BQk()),2&e){const e=s.oxw();s.xp6(1),s.Q6J("ngTemplateOutlet",e.zoneContent)}}let d=(()=>{class e{constructor(){this.allowSameTree=!0,this.nodeIndex=-1,this.enabled=!0}getNode(){if(this.node)return null!=this.node.parent?this.node.getParent():this.node}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=s.Xpm({type:e,selectors:[["sp-tree-active-drop-zone"]],contentQueries:function(e,t,i){if(1&e&&s.Suo(i,o,5),2&e){let e;s.iGM(e=s.CRH())&&(t.zoneContent=e.first)}},inputs:{node:"node",allowSameTree:"allowSameTree",nodeIndex:"nodeIndex",draggedTreeRow:"draggedTreeRow",onTreeNodeDrop:"onTreeNodeDrop",enabled:["spTreeDropEnabled","enabled"]},decls:2,vars:5,consts:[[1,"sp-tree-active-drop-zone",3,"spTreeDrop","spTreeDropEnabled","spTreeDropDraggedRow","spTreeDropNodeIndex","treeDrop"],[4,"ngIf"],[4,"ngTemplateOutlet"]],template:function(e,t){1&e&&(s.TgZ(0,"div",0),s.NdJ("treeDrop",function(e){return t.onTreeNodeDrop(e)}),s.YNc(1,l,2,1,"ng-container",1),s.qZA()),2&e&&(s.Q6J("spTreeDrop",t.getNode())("spTreeDropEnabled",t.enabled)("spTreeDropDraggedRow",t.draggedTreeRow)("spTreeDropNodeIndex",t.nodeIndex),s.xp6(1),s.Q6J("ngIf",t.zoneContent))},directives:[r.V,n.O5,n.tP],styles:["[_nghost-%COMP%], [_nghost-%COMP%]   .sp-tree-active-drop-zone[_ngcontent-%COMP%]{height:100%;width:100%}"],changeDetection:0}),e})()},64946:(e,t,i)=>{"use strict";i.d(t,{r:()=>f});var s=i(88566),r=i(67717);let n=(()=>{class e{getIsColoredDropdownBtn(){return this.isColoredDropdownBtn}}return e.Builder=class extends r.I{constructor(){super(...arguments),this.isColoredDropdownBtn=!1}build(){const t=new e;return t.isColoredDropdownBtn=this.isColoredDropdownBtn,t}withColoredDropdownBtn(e){return this.isColoredDropdownBtn=e,this}},e})();class o{getDocumentationLink(){return""}}class a{canIndent(e){return{showIndicator:!0}}canOutdent(e){return!0}withButton(){return!0}}class l{execute(){return new Promise(e=>e([]))}}class d{constructor(e,t){this.groups=e,this.customButtons=t}}class c{execute(){return new Promise(e=>e(new d([])))}}let p=(()=>{class e{getIsEnabled(){return this.isEnabled}getIsButtonsVisible(){return this.isButtonsVisible}getMinimalWidth(){return this.minimalWidth}getIsShortcutsEnabled(){return this.isShortcutsEnabled}getDocumentationLinkResolver(){return this.documentationLinkResolver}getIndentResolver(){return this.indentResolver}getFormControlsResolver(){return this.formControlsResolver}getFormDropdownItemsResolver(){return this.formDropdownItemsResolver}}return e.Builder=class extends r.I{constructor(){super(...arguments),this.isEnabled=!1,this.isButtonsVisible=!0,this.minimalWidth=200,this.isShortcutsEnabled=!0,this.documentationLinkResolver=new o,this.indentResolver=new a,this.formControlsResolver=new l,this.formDropdownItemsResolver=new c}build(){const t=new e;return t.isEnabled=this.isEnabled,t.isButtonsVisible=this.isButtonsVisible,t.minimalWidth=this.minimalWidth,t.isShortcutsEnabled=this.isShortcutsEnabled,t.documentationLinkResolver=this.documentationLinkResolver,t.indentResolver=this.indentResolver,t.formControlsResolver=this.formControlsResolver,t.formDropdownItemsResolver=this.formDropdownItemsResolver,t}withInlineAddDialog(e){return this.isEnabled=e,this}withButtonVisible(e){return this.isButtonsVisible=e,this}withMinimalWidth(e){return this.minimalWidth=e,this}withShortcuts(e){return this.isShortcutsEnabled=e,this}withDocumentationLinkResolver(e){return this.documentationLinkResolver=e,this}withIndentResolver(e){return this.indentResolver=e,this}withFormControlsResolver(e){return this.formControlsResolver=e,this}withFormDropdownItemsResolver(e){return this.formDropdownItemsResolver=e,this}},e})();class u{canAdd(){return!0}}let h=(()=>{class e{getIsEnabled(){return this.isEnabled}getInlineAddDialogConfig(){return this.treeInlineAddDialogConfig}getInlineAddResolver(){return this.inlineAddResolver}getInlineAddDropdownConfig(){return this.treeInlineAddDropdownConfig}getInlineAddDialogComponent(){return this.inlineAddDialogComponent}}return e.Builder=class extends r.I{constructor(){super(...arguments),this.isEnabled=!1,this.inlineAddResolver=new u,this.treeInlineAddDialogConfig=(new p.Builder).build(),this.treeInlineAddDropdownConfig=(new n.Builder).build()}build(){const t=new e;return t.isEnabled=this.isEnabled,t.inlineAddResolver=this.inlineAddResolver,t.treeInlineAddDialogConfig=this.treeInlineAddDialogConfig,t.treeInlineAddDropdownConfig=this.treeInlineAddDropdownConfig,t.inlineAddDialogComponent=this.inlineAddDialogComponent,t}withInlineAdd(e){return this.isEnabled=e,this}withInlineAddDialog(e){return this.treeInlineAddDialogConfig=e,this}withInlineAddResolver(e){return this.inlineAddResolver=e,this}withInlineAddDropdown(e){return this.treeInlineAddDropdownConfig=e,this}withCustomComponent(e,t){return this.inlineAddDialogComponent={component:e,data:t},this}},e})();var g=i(94846);let f=(()=>{class e{constructor(){this.map=new Map,this.configChanged$=new s.t(1)}static default(){return(new h.Builder).build()}isEnabled(e){return this.getById(e).getIsEnabled()}getResolver(e){return this.getById(e).getInlineAddResolver()}getInlineAddDialogComponent(e){return this.getById(e).getInlineAddDialogComponent()}getIndentResolver(e){return this.getDialogConfig(e).getIndentResolver()}isDialogEnabled(e){return this.getDialogConfig(e).getIsEnabled()}getDialogConfig(e){return this.getById(e).getInlineAddDialogConfig()}getDropdownConfig(e){return this.getById(e).getInlineAddDropdownConfig()}set(e,t){const i=e.toString();this.map.set(i,t),this.configChanged$.next()}selectConfigChanged(){return this.configChanged$.asObservable()}getById(t){const i=t.toString();return this.map.get(i)||e.default()}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=g.Yz7({token:e,factory:e.\u0275fac}),e})()},74696:(e,t,i)=>{"use strict";i.d(t,{k:()=>s});class s{constructor(e,t,i){this.siblingId=e,this.indent=t,this.selectedDropdownItemId=i}getNodeId(){return this.siblingId}getIndent(){return this.indent}getSelectedDropdownItemId(){return this.selectedDropdownItemId}}},97796:(e,t,i)=>{"use strict";i.d(t,{Y:()=>x});var s=i(4494),r=i(49999),n=i(95834),o=i(89932),a=i(59887),l=i(74674),d=i(94846),c=i(54541),p=i(64946),u=i(45085),h=i(4562),g=i(6198),f=i(35959),m=i(69779),T=i(1858),E=i(91216);const v=function(e){return{currentlyIndenting:e}};function I(e,t){if(1&e){const e=d.EpF();d.TgZ(0,"div",4),d.NdJ("click",function(t){return d.CHM(e),d.oxw(2).toggleIndent(t)}),d.ALo(1,"spRichTextString"),d.ALo(2,"spL10nText"),d._UZ(3,"span",5),d.qZA()}if(2&e){const e=d.oxw(2);d.ekj("sp-animation__pulse-up",e.firstInit&&e.pulsatingArrow),d.Q6J("spTooltip",d.lcZ(1,9,d.xi3(2,11,"SPT_COMMON_INLINE_ADD_DIALOG_BUTTON_TOGGLE_INDENT",d.VKq(14,v,e.currentlyIndenting))))("spTooltipGravity",e.gravity.WEST),d.xp6(3),d.ekj("fa-arrow-right",!e.currentlyIndenting)("fa-arrow-left",e.currentlyIndenting),d.uIk("id",e.indentButtonId)}}function y(e,t){if(1&e&&(d.ynx(0),d.YNc(1,I,4,16,"div",3),d.ALo(2,"spIndentPipe"),d.BQk()),2&e){const e=d.oxw();d.xp6(1),d.Q6J("ngIf",d.Dn7(2,1,e.getIndentResolver(),e.getNode(),e.currentlyIndenting))}}const C="stop-showing-pulsating-arrow";let x=(()=>{class e extends o.H{constructor(e,t,i,s,r,n,o,l,d){super(e,t),this.changeDetectorRef=i,this.sessionStorage=s,this.addNodeStorage=r,this.tree=n,this.localActionDispatcher=o,this.treeInlineAddConfigStorage=l,this.aggregateTreeId=d,this.pulsatingArrow=!1,this.loaderVisible=!0,this.firstInit=!0,this.gravity=a.X,this.loaderVisibilityChangeCounter=0,this.shouldToggle=!0}ngOnInit(){this.shouldShowPulsatingArrow()&&(this.pulsatingArrow=!0,this.dontShowPulsatingArrowAgainInCurrentSession()),this.selectIndentStatus(),this.indentButtonId=this.setIndentButtonId()}setIndentButtonId(){return this.currentlyIndenting?"sp-inline-add-dialog-indent-btn-on":"sp-inline-add-dialog-indent-btn-off"}toggleIndent(){this.loaderVisible||(this.shouldToggle=!1,this.toggleExpandNode(!this.currentlyIndenting),this.setIndentStatus(!this.currentlyIndenting),this.indentButtonId=this.setIndentButtonId(),this.changeDetectorRef.detectChanges())}loaderVisibleStatusChanged(e){this.loaderVisible=e,0!==this.loaderVisibilityChangeCounter&&(this.firstInit=!1),this.loaderVisibilityChangeCounter++,this.changeDetectorRef.detectChanges()}getIndentResolver(){return this.treeInlineAddConfigStorage.getIndentResolver(this.aggregateTreeId)}getNode(){const e=this.getNodeById(this.addNodeStorage.getNodeId(this.aggregateTreeId));return this.currentlyIndenting?e.getParent():this.sibling}getHostClasses(){return["sp-tree-inline-add-dialog","sp-absolute","sp-display-block","sp-bg-background","sp-border","sp-p-2","sp-shadow","sp-z-2"]}shouldShowPulsatingArrow(){return!this.sessionStorage.getItem(C)}dontShowPulsatingArrowAgainInCurrentSession(){this.sessionStorage.setItem(C,!0)}selectIndentStatus(){this.addNodeStorage.selectIndentStatus(this.aggregateTreeId).pipe(this.takeUntilDestroy()).subscribe(e=>{this.currentlyIndenting=e,this.shouldToggle&&this.toggleExpandNode(this.currentlyIndenting),this.shouldToggle=!0,this.indentBtnVisible=!0;const t=this.getNodeById(this.addNodeStorage.getNodeId(this.aggregateTreeId));this.currentlyIndenting?(this.parentNode=t,this.sibling=null):(this.parentNode=t.getParent(),this.sibling=t),this.changeDetectorRef.detectChanges()})}toggleExpandNode(e){const t=this.getNodeById(this.addNodeStorage.getNodeId(this.aggregateTreeId));e?this.expandNode(t):this.collapseNode(t)}setIndentStatus(e){this.addNodeStorage.setIndentStatus(this.aggregateTreeId,e)}getNodeById(e){return this.tree.getNodeById(e)}isExpandable(e){return this.tree.isExpandable(e)}expandNode(e){if(this.isExpandable(e)){const t=new r.EQ(e);this.executeExpand(e,!0,t)}}collapseNode(e){const t=new r.Ce(e);this.executeExpand(e,!1,t)}executeExpand(e,t,i){this.localActionDispatcher.dispatch(i),this.isExpandEnabled()&&this.tree.expandNode(e.id,t)}isExpandEnabled(){return!this.tree.getConfig().blockExpand}}return e.selector="sp-tree-inline-add-dialog",e.\u0275fac=function(t){return new(t||e)(d.Y36(d.SBq),d.Y36(d.Qsj),d.Y36(d.sBO),d.Y36(l.x),d.Y36(n.I),d.Y36(s.mp),d.Y36(c.c),d.Y36(p.r),d.Y36(u.H))},e.\u0275cmp=d.Xpm({type:e,selectors:[["sp-tree-inline-add-dialog"]],inputs:{lastSelectedItemId:"lastSelectedItemId"},features:[d.qOj],decls:3,vars:4,consts:[[4,"ngIf"],["id","sp-inline-add-dialog-container",1,"sp-inline-add-dialog-container"],[3,"parentNode","sibling","lastSelectedItemId","loaderVisibleStatusChanged"],["class","sp-tree-inline-add-dialog__indent-arrow-btn sp-absolute sp-text-s sp-circle sp-fg-white sp-bg-info sp-flex sp-justify-content-center sp-align-items-center sp-cursor-pointer","id","sp-inline-add-dialog-indent-btn",3,"spTooltip","spTooltipGravity","sp-animation__pulse-up","click",4,"ngIf"],["id","sp-inline-add-dialog-indent-btn",1,"sp-tree-inline-add-dialog__indent-arrow-btn","sp-absolute","sp-text-s","sp-circle","sp-fg-white","sp-bg-info","sp-flex","sp-justify-content-center","sp-align-items-center","sp-cursor-pointer",3,"spTooltip","spTooltipGravity","click"],[1,"fas"]],template:function(e,t){1&e&&(d.YNc(0,y,3,5,"ng-container",0),d.TgZ(1,"div",1),d.TgZ(2,"sp-tree-inline-add-dialog-form",2),d.NdJ("loaderVisibleStatusChanged",function(e){return t.loaderVisibleStatusChanged(e)}),d.qZA(),d.qZA()),2&e&&(d.Q6J("ngIf",!t.loaderVisible&&t.indentBtnVisible),d.xp6(2),d.Q6J("parentNode",t.parentNode)("sibling",t.sibling)("lastSelectedItemId",t.lastSelectedItemId))},directives:[h.O5,g.x,f.i9],pipes:[m.O,T.C,E.L],styles:[".sp-tree-inline-add-dialog{min-height:90px}.sp-tree-inline-add-dialog__indent-arrow-btn{top:12px;left:-20px;width:24px;height:24px;font-weight:900;transition:rotate .2s}.sp-tree-inline-add-dialog .sp-form-group:first-child{margin-top:0}"],encapsulation:2,changeDetection:0}),e})()},89318:(e,t,i)=>{"use strict";i.d(t,{l:()=>m});var s=i(95834),r=i(74477),n=i(59887),o=i(66356),a=i(17402),l=i(78268),d=i(18842),c=i(99721),p=i(94846),u=i(35014),h=i(66713),g=i(87792),f=i(87060);let m=(()=>{class e{constructor(e,t,i,s,r,d,c){this.injector=e,this.renderer=t,this.positionCalculator=i,this.treeNodeHeight=s,this.treeDomElement=r,this.treeInlineAddRepository=d,this.componentOutlet=c,this.DIALOG_PADDING=4,this.positionCalculatorParams=a.i.default().withAlignment(o.e.LEFT).withGravity(n.X.SOUTH),this.removeAddDialogBlanketClickListener$=new l.xQ}setInlineAddDialogComponent(e){this.inlineAddDialogComponent=e.component,this.inlineAddDialogComponentData=e.data}open(e,t,i){this.createDialog(i),this.dialogElement=r.l.getDOMElementFromComponentRef(this.dialogRef),this.setDialogAnchor(e),this.setDialogWidth(t),this.setDialogPosition(),this.showBlanket(),this.listenAddDialogBlanketClick()}destroy(){this.dialogRef&&this.dialogRef.destroy(),this.dialogRef=null,this.dialogElement=null,this.anchor=null,this.hideBlanket(),this.removeAddDialogBlanketClickListener$.next()}setDialogAnchor(e){this.anchor=e}showDialog(){this.renderer.setStyle(this.dialogElement,"display","block")}hideDialog(){this.renderer.setStyle(this.dialogElement,"display","none")}isDialogOpened(){return!!this.dialogRef}setDialogPosition(e){let t;t=this.calculateDialogPosition(this.dialogElement,e||this.anchor),this.renderer.setStyle(this.dialogElement,"top",r.l.numberToPxString(t.top)),this.renderer.setStyle(this.dialogElement,"left",r.l.numberToPxString(t.left))}setDialogWidth(e){this.renderer.setStyle(this.dialogElement,"width",e+"px")}createDialog(e){if(this.dialogRef=this.componentOutlet.createComponent(this.inlineAddDialogComponent,this.injector),this.dialogRef.instance.lastSelectedItemId=e,this.inlineAddDialogComponentData)for(const t in this.inlineAddDialogComponentData)this.inlineAddDialogComponentData.hasOwnProperty(t)&&(this.dialogRef.instance[t]=this.inlineAddDialogComponentData[t]);this.dialogRef.changeDetectorRef.detectChanges()}calculateDialogPosition(e,t){return this.positionCalculator.calculateNewElementsPosition(this.positionCalculatorParams.withLinkedElements({element:e,anchor:t}).withMargin(this.calculateDialogMargin()))}calculateDialogMargin(){return-(this.treeNodeHeight.getNodeHeight()/2+this.DIALOG_PADDING)}showBlanket(){this.renderer.setStyle(this.treeDomElement.getTreeInlineAddBlanket(),"display","block")}hideBlanket(){this.renderer.setStyle(this.treeDomElement.getTreeInlineAddBlanket(),"display","none")}listenAddDialogBlanketClick(){(0,d.R)(this.treeDomElement.getTreeInlineAddBlanket(),"click").pipe((0,c.R)(this.removeAddDialogBlanketClickListener$)).subscribe(()=>{this.treeInlineAddRepository.clearAll()})}}return e.\u0275fac=function(t){return new(t||e)(p.LFG(p.zs3),p.LFG(p.Qsj),p.LFG(u.o),p.LFG(h.M),p.LFG(g.E),p.LFG(s.I),p.LFG(f.r))},e.\u0275prov=p.Yz7({token:e,factory:e.\u0275fac}),e})()},69779:(e,t,i)=>{"use strict";i.d(t,{O:()=>r});var s=i(94846);let r=(()=>{class e{transform(e,t,i){const s=e.withButton();if(!s)return s;if(i)return e.canOutdent(t);{const i=e.canIndent(t);return i.showIndicator&&!i.disabled}}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275pipe=s.Yjl({name:"spIndentPipe",type:e,pure:!0}),e})()},6198:(e,t,i)=>{"use strict";i.d(t,{x:()=>pe});var s=i(94846),r=i(15894),n=i(98549),o=i(90540),a=i(70802),l=i(70297),d=i(14681),c=i(99998),p=i(48698),u=i(62610),h=(i(4494),i(95834)),g=i(9455),f=i(76066),m=i(89318),T=i(98647),E=i(16762),v=i(47320),I=i(65592),y=i(89932),C=i(59887),x=i(26790),D=i(45085),b=i(64946),w=i(4562),S=i(47691),A=i(71402),R=i(35959),_=i(10052),N=i(31243),L=i(39498),O=i(20135),F=i(26484),M=i(57735),U=i(36713),k=(i(5566),i(1836));function B(e,t){if(1&e&&(s.TgZ(0,"div",1),s.ALo(1,"spSanitize"),s.qZA()),2&e){const e=s.oxw();s.Udp("background",s.xi3(1,2,e.color.backgroundStyle,"style"))}}let V=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=s.Xpm({type:e,selectors:[["sp-color-presenter"]],inputs:{color:"color"},decls:1,vars:1,consts:[["class","sp-color-presenter-container sp-circle",3,"background",4,"ngIf"],[1,"sp-color-presenter-container","sp-circle"]],template:function(e,t){1&e&&s.YNc(0,B,2,5,"div",0),2&e&&s.Q6J("ngIf",t.color)},directives:[w.O5],pipes:[k.n],styles:[".sp-color-presenter-container{width:12px;height:12px}"],encapsulation:2,changeDetection:0}),e})();var G=i(1858),P=i(91216);const Y=["dropdownBtnTrigger"];function Z(e,t){if(1&e&&(s.TgZ(0,"span"),s._uU(1),s.qZA()),2&e){const e=s.oxw(2);s.xp6(1),s.hij(" ",e.selectedItem.selectedItemShortName," ")}}function z(e,t){if(1&e&&(s.TgZ(0,"span"),s._uU(1),s.qZA()),2&e){const e=s.oxw(2);s.xp6(1),s.hij(" ",e.selectedItem.fullName," ")}}function J(e,t){1&e&&s.GkF(0)}function H(e,t){1&e&&s.GkF(0)}const q=function(e){return{item:e}};function Q(e,t){if(1&e){const e=s.EpF();s.TgZ(0,"sp-dropdown-item",17),s.NdJ("itemClick",function(){const t=s.CHM(e).$implicit;return s.oxw(3).selectedItemChanged(t)}),s.ALo(1,"spL10nText"),s.TgZ(2,"div",18),s.YNc(3,J,1,0,"ng-container",19),s.YNc(4,H,1,0,"ng-container",19),s.TgZ(5,"span"),s._uU(6),s.qZA(),s.qZA(),s.qZA()}if(2&e){const e=t.$implicit;s.oxw(3);const i=s.MAs(7),r=s.MAs(9);s.Q6J("id",e.id)("disabled",e.disabled)("tooltip",s.lcZ(1,8,e.tooltipText)),s.xp6(3),s.Q6J("ngTemplateOutlet",i)("ngTemplateOutletContext",s.VKq(10,q,e)),s.xp6(1),s.Q6J("ngTemplateOutlet",r)("ngTemplateOutletContext",s.VKq(12,q,e)),s.xp6(2),s.Oqu(e.fullName)}}function $(e,t){if(1&e&&(s.TgZ(0,"sp-dropdown-menu-group",15),s.ALo(1,"spL10nText"),s.YNc(2,Q,7,14,"sp-dropdown-item",16),s.qZA()),2&e){const e=t.$implicit,i=s.oxw(2);s.Q6J("header",e.items.length?s.lcZ(1,4,e.title):"")("contentContainerClass","sp-tree-inline-add-dialog-form__box-type-dropdown-menu-group sp-overflow-y-auto"),s.xp6(2),s.Q6J("ngForOf",e.items)("ngForTrackBy",i.dropdownItemsTrackByFn)}}function j(e,t){if(1&e&&(s.TgZ(0,"sp-dropdown-item"),s.TgZ(1,"a",22),s._uU(2),s.ALo(3,"spL10nText"),s.qZA(),s.qZA()),2&e){const e=t.$implicit;s.xp6(1),s.Q6J("spNavigationLink",e.link),s.xp6(1),s.Oqu(s.lcZ(3,2,e.text))}}function W(e,t){if(1&e&&(s.TgZ(0,"sp-dropdown-menu-group",20),s.YNc(1,j,4,4,"sp-dropdown-item",21),s.qZA()),2&e){const e=s.oxw(2);s.Q6J("contentContainerClass","sp-tree-inline-add-dialog-form__box-type-dropdown-menu-group sp-overflow-y-auto"),s.xp6(1),s.Q6J("ngForOf",e.dropdownCustomButtons)("ngForTrackBy",e.dropdownCustomButtonsTrackByFn)}}function K(e,t){if(1&e&&(s.TgZ(0,"sp-dropdown",7),s.TgZ(1,"button",8,9),s.ALo(3,"spRichTextString"),s.YNc(4,Z,2,1,"span",10),s.YNc(5,z,2,1,"ng-template",null,11,s.W1O),s._UZ(7,"i",12),s.qZA(),s.YNc(8,$,3,6,"sp-dropdown-menu-group",13),s.YNc(9,W,2,3,"sp-dropdown-menu-group",14),s.qZA()),2&e){const e=s.MAs(6),t=s.oxw();s.xp6(1),s.Q6J("spTooltip",s.lcZ(3,7,t.selectedItem.fullName))("spTooltipGravity",t.gravity.NORTH),s.xp6(3),s.Q6J("ngIf",t.selectedItem.selectedItemShortName)("ngIfElse",e),s.xp6(4),s.Q6J("ngForOf",t.dropdownItemGroups)("ngForTrackBy",t.dropdownItemGroupsTrackByFn),s.xp6(1),s.Q6J("ngIf",t.dropdownCustomButtons)}}function X(e,t){if(1&e&&(s.ynx(0),s._UZ(1,"sp-form-field",28),s.BQk()),2&e){const e=s.oxw(2);s.xp6(1),s.Q6J("id",e.mainFormControl.id)("className","sp-tree-inline-add-dialog-form__form-main-control")("type",e.mainFormControl.type)("name",e.mainFormControl.name)("value",e.mainFormControl.value)("config",e.mainFormControl.config)("validators",e.mainFormControl.validators)("placeholder",e.mainFormControl.placeholder)("disabled",e.mainFormControl.disabled)}}function ee(e,t){if(1&e&&(s.ynx(0),s._UZ(1,"sp-form-field",30),s.ALo(2,"spL10nText"),s.BQk()),2&e){const e=t.$implicit;s.xp6(1),s.Q6J("id",e.id)("type",e.type)("name",e.name)("value",e.value)("config",e.config)("validators",e.validators)("placeholder",e.placeholder)("label",s.lcZ(2,10,e.label))("disabled",e.disabled)("className",e.className)}}function te(e,t){if(1&e&&(s.TgZ(0,"sp-form-group",29),s.YNc(1,ee,3,12,"ng-container",21),s.qZA()),2&e){const e=s.oxw(2);s.Q6J("id","sp-add-dialog-required-form-controls-group")("className","sp-tree-inline-add-dialog-form__form-required-control"),s.xp6(1),s.Q6J("ngForOf",e.requiredFormControls)("ngForTrackBy",e.requiredFormControlsTrackByFn)}}function ie(e,t){if(1&e&&s._UZ(0,"sp-form-field",26),2&e){const e=s.oxw(2);s.Q6J("type",e.formFieldType.NONE)("name","selectedItemId")("value",e.selectedItem.id)}}function se(e,t){if(1&e){const e=s.EpF();s.TgZ(0,"sp-form",23),s.NdJ("validStatusChange",function(t){return s.CHM(e),s.oxw().onFormValidStatusChange(t)}),s.TgZ(1,"sp-form-group",24),s.YNc(2,X,2,9,"ng-container",3),s.qZA(),s.YNc(3,te,2,4,"sp-form-group",25),s._UZ(4,"sp-form-field",26),s._UZ(5,"sp-form-field",26),s.YNc(6,ie,1,3,"sp-form-field",27),s.qZA()}if(2&e){const e=s.oxw();s.Q6J("configuration",e.formConfiguration)("strategy",e.formStrategy),s.xp6(1),s.Q6J("className",e.selectedItem?"sp-tree-inline-add-dialog-form__form-group-main-control":""),s.xp6(1),s.Q6J("ngIf",e.mainFormControl),s.xp6(1),s.Q6J("ngIf",e.requiredFormControls.length),s.xp6(1),s.Q6J("type",e.formFieldType.NONE)("name","parentNode")("value",e.parentNode),s.xp6(1),s.Q6J("type",e.formFieldType.NONE)("name","sibling")("value",e.sibling),s.xp6(1),s.Q6J("ngIf",e.selectedItem)}}function re(e,t){if(1&e){const e=s.EpF();s.TgZ(0,"div"),s.TgZ(1,"button",31),s.NdJ("click",function(){return s.CHM(e),s.oxw().submit()}),s._uU(2),s.ALo(3,"spL10nText"),s.qZA(),s.TgZ(4,"button",32),s.NdJ("click",function(){return s.CHM(e),s.oxw().closeDialog()}),s._uU(5),s.ALo(6,"spL10nText"),s.qZA(),s.qZA()}if(2&e){const e=s.oxw();s.xp6(1),s.Q6J("disabled",e.saveBtnDisabled),s.xp6(1),s.hij(" ",s.lcZ(3,3,"SPT_OVERVIEW_ADD_FORM_BUTTON_CREATE")," "),s.xp6(3),s.hij(" ",s.lcZ(6,5,"SPT_OVERVIEW_ADD_FORM_BUTTON_CANCEL")," ")}}function ne(e,t){if(1&e&&(s.TgZ(0,"a",33),s._UZ(1,"i",34),s.qZA()),2&e){const e=s.oxw();s.uIk("href",e.documentationLink,s.LSH)}}function oe(e,t){if(1&e&&(s.ynx(0),s.TgZ(1,"div",35),s._UZ(2,"sp-circle-loader",36),s.qZA(),s.BQk()),2&e){const e=s.oxw();s.xp6(2),s.Q6J("configuration",e.loaderConfiguration)}}function ae(e,t){if(1&e&&s._UZ(0,"sp-icon",38),2&e){const e=s.oxw().item;s.Q6J("iconId",e.icon.iconId)}}function le(e,t){1&e&&s.YNc(0,ae,1,1,"sp-icon",37),2&e&&s.Q6J("ngIf",t.item.icon)}function de(e,t){if(1&e&&s._UZ(0,"sp-color-presenter",40),2&e){const e=s.oxw().item;s.Q6J("color",e.color)}}function ce(e,t){1&e&&s.YNc(0,de,1,1,"sp-color-presenter",39),2&e&&s.Q6J("ngIf",t.item.color)}let pe=(()=>{class e extends y.H{constructor(e,t,i,r,n,o,a,l,d){super(e,t),this.changeDetectorRef=i,this.shortcutService=r,this.addRepository=n,this.addDialogFactory=o,this.treeCommandService=a,this.aggregateId=l,this.treeInlineAddConfigStorage=d,this.loaderVisibleStatusChanged=new s.vpe,this.loaderVisible=!0,this.gravity=C.X,this.requiredFormControls=[],this.requiredFormControlsTrackByFn=x.M.create("id"),this.formVisible=!1,this.formFieldType=T.E,this.formStrategy=E.k.SP_MESSAGES,this.formConfiguration=I.E.default().withLabelAboveInput(!0).withClearAfterSubmit(!1),this.dropdownItemGroupsTrackByFn=x.M.create("title"),this.dropdownItemsTrackByFn=x.M.create("id"),this.dropdownCustomButtonsTrackByFn=x.M.create("text","link.href"),this.documentationLink="",this.saveBtnDisabled=!0,this.formProcessing=!1,this.formInvalid=!0,this.dialogConfig=d.getDialogConfig(this.aggregateId),this.dropdownConfig=d.getDropdownConfig(this.aggregateId)}ngOnChanges(e){e.parentNode&&e.parentNode.previousValue&&(this.changeLoaderVisibleStatus(!0),this.init(!0))}ngOnInit(){this.treeCommandService.unselectItems(this.aggregateId),this.initShortcuts(),this.setLoaderConfiguration(),this.init()}finalize(){this.shortcutService.removeShortcutGroup(this.shortcutGroup)}getHostClasses(){return["sp-tree-inline-add-dialog-form"]}submit(){this.formInvalid||this.formProcessing||(this.setFormProcessingStatus(!0),this.formRef.submitWithStatus().pipe((0,o.q)(1),this.takeUntilDestroy()).subscribe(()=>{this.destroy()},()=>{this.setFormProcessingStatus(!1)}))}closeDialog(){this.destroy(),this.lastSelectedItemId&&this.treeCommandService.selectItem(this.aggregateId,this.lastSelectedItemId,g.M.ONE)}destroy(){this.addRepository.clearAll()}onFormValidStatusChange(e){this.formInvalid=!e,this.updateSaveBtnDisabledValue()}selectedItemChanged(e){e.disabled||(e.customActionOnClick?e.customActionOnClick(e.id):(this.changeLoaderVisibleStatus(!0),this.changeSelectedItem(e),this.setDropdownBtnStyles(),this.changeDetectorRef.detectChanges(),(0,r.D)(this.singleSelectFormControls()).pipe(this.takeUntilDestroy()).subscribe(e=>{this.buildForm(e,!0)})))}isButtonVisible(){return this.dialogConfig.getIsButtonsVisible()}initShortcuts(){this.dialogConfig.getIsShortcutsEnabled()&&(this.shortcutGroup=this.shortcutService.createGroup("Tree Inline add dialog",{position:p.N.FORCE_TO_TOP}).notShown(),this.shortcutService.createContainer("Save/Remove dialog",this.shortcutGroup).add(new c.z(d.s.ESCAPE,()=>this.closeDialog())).add(new c.z(d.s.ENTER,()=>this.submit())).notShown())}init(e){const t=this.parentNode.getChildren(),i=this.findChildByIndex(this.sibling?this.sibling.nodeIndex+1:0,t);(0,r.D)(this.dialogConfig.getFormDropdownItemsResolver().execute(this.parentNode,this.sibling,i)).pipe((0,a.w)(e=>(this.dropdownItemGroups=e.groups,this.dropdownCustomButtons=e.customButtons,this.markItemAsSelected(this.addRepository.getSelectedDropdownItemId(this.aggregateId)),this.singleSelectFormControls())),this.takeUntilDestroy()).subscribe(t=>{this.buildForm(t,e),this.setDropdownBtnStyles(),this.changeDetectorRef.detectChanges()})}buildForm(e,t){this.setFormControls(e),this.changeLoaderVisibleStatus(!1),this.formVisible=!0,this.changeDetectorRef.detectChanges(),t&&this.rebuildForm(),this.setDialogPosition()}setDropdownBtnStyles(){if(!this.dropdownConfig.getIsColoredDropdownBtn()||!this.selectedItem.color)return;const e=this.dropdownBtnTrigger.nativeElement;this.domManipulator.addStyle(e,"background",this.selectedItem.color.subtleBackgroundStyle),this.domManipulator.addStyle(e,"color",this.selectedItem.color.subtleColorStyle)}singleSelectFormControls(){const e=this.selectedItem?this.selectedItem.id:null;return this.dialogConfig.getFormControlsResolver().execute(e,this.parentNode,this.sibling)}changeLoaderVisibleStatus(e){this.loaderVisible=e,this.loaderVisibleStatusChanged.emit(this.loaderVisible)}markItemAsSelected(e){this.dropdownItemGroups&&this.dropdownItemGroups.length&&this.changeSelectedItem(e?this.findDropdownItemById(e):this.dropdownItemGroups[0].items[0])}updateSaveBtnDisabledValue(){this.saveBtnDisabled=this.formInvalid||this.formProcessing,this.changeDetectorRef.detectChanges()}rebuildForm(){this.formRef.rebuild()}setFormProcessingStatus(e){this.formProcessing=e,this.updateSaveBtnDisabledValue()}setLoaderConfiguration(){this.loaderConfiguration=(new l.y.Builder).withStrokeWidth(e.LOADER_STROKE_WIDTH).withDefaultSize(!1).build()}setFormControls(e){this.setMainFormControl(e),this.setRequiredFormControls(e)}setMainFormControl(e){this.mainFormControl=e.find(e=>e.mainControl)}setRequiredFormControls(e){this.requiredFormControls=e.filter(e=>!e.mainControl)}setDialogPosition(){(0,n.H)().pipe(this.takeUntilDestroy()).subscribe(()=>{this.addDialogFactory.setDialogPosition()})}findChildByIndex(e,t){return t?t.find(t=>t.nodeIndex===e):null}findDropdownItemById(e){return this.flattenGroupOfItems().find(t=>t.id===e)}flattenGroupOfItems(){return[].concat.apply([],this.dropdownItemGroups.map(e=>e.items))}changeSelectedItem(e){this.selectedItem=e,this.documentationLink=this.dialogConfig.getDocumentationLinkResolver().getDocumentationLink(e.id),this.addRepository.setDropdownItemId(this.aggregateId,e.id)}}return e.LOADER_STROKE_WIDTH=4,e.\u0275fac=function(t){return new(t||e)(s.Y36(s.SBq),s.Y36(s.Qsj),s.Y36(s.sBO),s.Y36(u.L),s.Y36(h.I),s.Y36(m.l),s.Y36(f.z),s.Y36(D.H),s.Y36(b.r))},e.\u0275cmp=s.Xpm({type:e,selectors:[["sp-tree-inline-add-dialog-form"]],viewQuery:function(e,t){if(1&e&&(s.Gf(v.Ur,5),s.Gf(Y,5,s.SBq)),2&e){let e;s.iGM(e=s.CRH())&&(t.formRef=e.first),s.iGM(e=s.CRH())&&(t.dropdownBtnTrigger=e.first)}},inputs:{parentNode:"parentNode",sibling:"sibling",lastSelectedItemId:"lastSelectedItemId"},outputs:{loaderVisibleStatusChanged:"loaderVisibleStatusChanged"},features:[s.qOj,s.TTD],decls:10,vars:5,consts:[["class","sp-tree-inline-add-dialog-form__box-type-dropdown sp-absolute sp-z-1",4,"ngIf"],["class","sp-tree-inline-add-dialog-form__form sp-display-block",3,"configuration","strategy","validStatusChange",4,"ngIf"],[1,"sp-pt-2","sp-flex","sp-align-items-center"],[4,"ngIf"],["target","_blank","class","sp-documentation-link sp-display-block sp-tree-inline-add-dialog-form__documentation-icon",4,"ngIf"],["icon",""],["colorPresenter",""],[1,"sp-tree-inline-add-dialog-form__box-type-dropdown","sp-absolute","sp-z-1"],["sp-button","","sp-dropdown-open-trigger","","id","sp-inline-add-box-type-dropdown-btn",1,"sp-tree-inline-add-dialog-form__box-type-dropdown-trigger","sp-flex","sp-justify-content-center","sp-align-items-center","sp-overflow-hidden","sp-truncate",3,"spTooltip","spTooltipGravity"],["dropdownBtnTrigger",""],[4,"ngIf","ngIfElse"],["name",""],[1,"fas","fa-chevron-down","sp-ml-1"],["id","sp-add-dialog-box-type-dropdown-same-level","divider","",3,"header","contentContainerClass",4,"ngFor","ngForOf","ngForTrackBy"],["id","sp-add-dialog-box-type-dropdown-sub-level","divider","",3,"contentContainerClass",4,"ngIf"],["id","sp-add-dialog-box-type-dropdown-same-level","divider","",3,"header","contentContainerClass"],[3,"id","disabled","tooltip","itemClick",4,"ngFor","ngForOf","ngForTrackBy"],[3,"id","disabled","tooltip","itemClick"],[1,"sp-flex","sp-align-items-center"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["id","sp-add-dialog-box-type-dropdown-sub-level","divider","",3,"contentContainerClass"],[4,"ngFor","ngForOf","ngForTrackBy"],[3,"spNavigationLink"],[1,"sp-tree-inline-add-dialog-form__form","sp-display-block",3,"configuration","strategy","validStatusChange"],[3,"className"],[3,"id","className",4,"ngIf"],[3,"type","name","value"],[3,"type","name","value",4,"ngIf"],[3,"id","className","type","name","value","config","validators","placeholder","disabled"],[3,"id","className"],[3,"id","type","name","value","config","validators","placeholder","label","disabled","className"],["sp-button","","primary","","id","sp-inline-add-dialog-create-btn",1,"sp-tree-inline-add-dialog-form__save-btn",3,"disabled","click"],["sp-button","","link","","id","sp-inline-add-dialog-cancel-btn",1,"sp-tree-inline-add-dialog-form__cancel-btn",3,"click"],["target","_blank",1,"sp-documentation-link","sp-display-block","sp-tree-inline-add-dialog-form__documentation-icon"],[1,"far","fa-question-circle","sp-display-block","sp-text-xl","sp-align-bottom"],[1,"sp-tree-inline-add-dialog-form__inline-add-loader-blanket","sp-absolute","sp-top-0","sp-bottom-0","sp-w-full","sp-h-full","sp-bg-background","sp-flex","sp-justify-content-center","sp-align-items-center"],["id","sp-tree-inline-add-loader",1,"sp-w-12","sp-h-12",3,"configuration"],["class","sp-mr-2",3,"iconId",4,"ngIf"],[1,"sp-mr-2",3,"iconId"],["class","sp-mr-2",3,"color",4,"ngIf"],[1,"sp-mr-2",3,"color"]],template:function(e,t){1&e&&(s.YNc(0,K,10,9,"sp-dropdown",0),s.YNc(1,se,7,12,"sp-form",1),s.TgZ(2,"div",2),s.YNc(3,re,7,7,"div",3),s.YNc(4,ne,2,1,"a",4),s.qZA(),s.YNc(5,oe,3,1,"ng-container",3),s.YNc(6,le,1,1,"ng-template",null,5,s.W1O),s.YNc(8,ce,1,1,"ng-template",null,6,s.W1O)),2&e&&(s.Q6J("ngIf",!!t.selectedItem),s.xp6(1),s.Q6J("ngIf",t.formVisible),s.xp6(2),s.Q6J("ngIf",t.isButtonVisible()),s.xp6(1),s.Q6J("ngIf",t.documentationLink),s.xp6(1),s.Q6J("ngIf",t.loaderVisible))},directives:[w.O5,S.J,A.r,R.i9,w.sg,_.Y,N.N,w.tP,L.k,v.Ur,O.Y,F.u,M._,U.o,V],pipes:[G.C,P.L],styles:[".sp-tree-inline-add-dialog-form__box-type-dropdown-trigger{width:76px;white-space:nowrap;line-height:15px}.sp-tree-inline-add-dialog-form__box-type-dropdown-menu-group{max-height:176px}.sp-tree-inline-add-dialog-form__box-type-dropdown sp-icon{display:flex;align-items:center;justify-content:center;width:var(--space-x6);height:var(--space-x4);font-size:var(--font-size-m);flex-shrink:0}.sp-tree-inline-add-dialog-form__documentation-icon{line-height:18px;margin-left:auto!important}.sp-tree-inline-add-dialog-form__form{min-height:32px}.sp-tree-inline-add-dialog-form__form-group-main-control{display:flex;flex:1;padding-left:80px}.sp-tree-inline-add-dialog-form__form-main-control{flex:1}.sp-tree-inline-add-dialog-form__form .sp-form-group{margin-bottom:8px}.sp-tree-inline-add-dialog-form__form sp-colored-icon-picker,.sp-tree-inline-add-dialog-form__form sp-icon-picker{width:100%}.sp-tree-inline-add-dialog-form__form sp-colored-icon-picker .sp-icon-picker-button{flex:1}.sp-tree-inline-add-dialog-form__form sp-colored-icon{flex-shrink:0}.sp-tree-inline-add-dialog-form__inline-add-loader-blanket{opacity:.7}.sp-tree-inline-add-dialog-form .sp-select-label{display:none}.sp-tree-inline-add-dialog-form .sp-select-button-icons{margin-left:0!important}"],encapsulation:2,changeDetection:0}),e})()},95768:(e,t,i)=>{"use strict";i.d(t,{fj:()=>T,lv:()=>E,D9:()=>v});var s=i(4562),r=i(94707),n=(i(4494),i(7047)),o=i(23110),a=i(35959),l=i(74477),d=i(59887),c=i(94846),p=i(45085),u=i(64946),h=i(81802);const g=["addIcon"],f=["solidLine"];function m(e,t){if(1&e&&(c.ynx(0),c.TgZ(1,"span",1,2),c.ALo(3,"spRichTextI18n"),c._UZ(4,"i",3),c.qZA(),c._UZ(5,"div",4),c._UZ(6,"div",5,6),c.BQk()),2&e){const e=c.oxw();c.xp6(1),c.Q6J("spTooltipEnabled",!!e.tooltipText)("spTooltip",c.lcZ(3,3,e.tooltipText))("spTooltipGravity",e.gravity.NORTH)}}const T=7,E=3;let v=(()=>{class e{constructor(e,t,i,s,r,n){this.changeDetectorRef=e,this.renderer=t,this.treeInlineAddService=i,this.aggregateTreeId=s,this.treeInlineAddConfigStorage=r,this.document=n,this.disabled=!1,this.gravity=d.X,this.indicatorVisible=!1}showIndicator(){this.indicatorVisible=!0,this.changeDetectorRef.detectChanges(),this.setIndicatorLeftPosition(),this.setSolidLineStyles(),this.showTooltip()}hideIndicator(){this.indicatorVisible=!1,this.tooltip.forceHideTooltip(),this.changeDetectorRef.detectChanges()}click(){this.goToInlineAdd()}ngOnChanges(e){e.node&&this.setProperties()}getNodeIdForView(){return`${e.TREE_INLINE_ADD_INDICATOR_ID_PREFIX}${this.node.getId()}`}showTooltip(){l.l.isDefined(this.tooltipText)&&this.tooltip.forceShowTooltip()}setProperties(){const e=this.node.getParent();if(this.treeInlineAddConfigStorage.getResolver(this.aggregateTreeId).canAdd(e,this.node))this.tooltipText=null,this.disabled=!1;else{const e=this.treeInlineAddConfigStorage.getIndentResolver(this.aggregateTreeId).canIndent(this.node);e.showIndicator&&(this.tooltipText=e.tooltipText,this.disabled=e.disabled)}}goToInlineAdd(){this.disabled||this.treeInlineAddService.toggleToInlineAddMode(this.aggregateTreeId,this.node.getId(),this.node.isExpanded())}setIndicatorLeftPosition(){this.renderer.setStyle(this.addIcon.nativeElement,"left",this.getLeftPosition()+"px")}setSolidLineStyles(){this.renderer.setStyle(this.solidLine.nativeElement,"left",this.getLeftPosition()+"px"),this.renderer.setStyle(this.solidLine.nativeElement,"width",`calc(100% - ${this.getLeftPosition()}px)`)}getLeftPosition(){const e=(this.node.isExpanded()?this.node.nodeLevel+1:this.node.nodeLevel)*n.O,t=this.findExpandableColumn();return e+(t?t.offsetLeft:0)}findExpandableColumn(){const e=this.document.getElementById(`${o.N.TREE_NODE_ID_PREFIX}${this.node.id}`);return e?e.querySelector(".sp-tree-expand-column"):null}}return e.TREE_INLINE_ADD_INDICATOR_ID_PREFIX="sp-tree-add-indicator-",e.\u0275fac=function(t){return new(t||e)(c.Y36(c.sBO),c.Y36(c.Qsj),c.Y36(r.j),c.Y36(p.H),c.Y36(u.r),c.Y36(s.K0))},e.\u0275cmp=c.Xpm({type:e,selectors:[["sp-tree-inline-add-indicator"]],viewQuery:function(e,t){if(1&e&&(c.Gf(g,5),c.Gf(f,5),c.Gf(a.i9,5)),2&e){let e;c.iGM(e=c.CRH())&&(t.addIcon=e.first),c.iGM(e=c.CRH())&&(t.solidLine=e.first),c.iGM(e=c.CRH())&&(t.tooltip=e.first)}},hostAttrs:[1,"sp-tree-inline-add-indicator","sp-absolute","sp-flex","sp-align-items-center","sp-cursor-pointer","sp-w-full"],hostVars:3,hostBindings:function(e,t){1&e&&c.NdJ("mouseenter",function(){return t.showIndicator()})("mouseleave",function(){return t.hideIndicator()})("click",function(){return t.click()}),2&e&&(c.Ikx("id",t.getNodeIdForView()),c.ekj("sp-tree-inline-add-indicator--disabled",t.disabled))},inputs:{node:"node"},features:[c.TTD],decls:1,vars:1,consts:[[4,"ngIf"],[1,"sp-tree-inline-add-indicator__icon","sp-absolute","sp-left-0","sp-z-1",3,"spTooltipEnabled","spTooltip","spTooltipGravity"],["addIcon",""],[1,"fas","fa-plus-circle","sp-bg-background","sp-circle"],[1,"sp-tree-inline-add-indicator__line","sp-tree-inline-add-indicator__line--dashed","sp-display-block","sp-w-full"],[1,"sp-tree-inline-add-indicator__line","sp-tree-inline-add-indicator__line--solid","sp-absolute","sp-display-block","sp-w-full"],["solidLine",""]],template:function(e,t){1&e&&c.YNc(0,m,8,5,"ng-container",0),2&e&&c.Q6J("ngIf",t.indicatorVisible)},directives:[s.O5,a.i9],pipes:[h.d],styles:[".sp-tree-inline-add-indicator{top:1px;left:11px;height:7px}.sp-tree-inline-add-indicator__line{border-top-width:3px;border-top-color:var(--blue-300)}.sp-tree-inline-add-indicator__line--solid{border-top-style:solid}.sp-tree-inline-add-indicator__line--dashed{border-top-style:dashed}.sp-tree-inline-add-indicator__icon{color:var(--blue-300)}.sp-tree-inline-add-indicator--disabled{cursor:default}.sp-tree-inline-add-indicator--disabled .sp-tree-inline-add-indicator__line{border-top-color:var(--gray-60)}.sp-tree-inline-add-indicator--disabled .sp-tree-inline-add-indicator__icon{color:var(--gray-60)}"],encapsulation:2,changeDetection:0}),e})()},17742:(e,t,i)=>{"use strict";i.d(t,{d:()=>o});var s=i(94846),r=i(45085),n=i(64946);let o=(()=>{class e{constructor(e,t){this.aggregateTreeId=e,this.treeInlineAddConfigStorage=t}transform(e,t){if(!this.treeInlineAddConfigStorage.isEnabled(this.aggregateTreeId)||t)return;const i=e.getParent();return this.canAdd(this.aggregateTreeId,e,i)||this.canIndent(this.aggregateTreeId,e)}canAdd(e,t,i){return this.treeInlineAddConfigStorage.getResolver(e).canAdd(i,t)}canIndent(e,t){return this.treeInlineAddConfigStorage.getIndentResolver(e).canIndent(t).showIndicator}}return e.\u0275fac=function(t){return new(t||e)(s.Y36(r.H,16),s.Y36(n.r,16))},e.\u0275pipe=s.Yjl({name:"spInlineAddIndicatorVisiblePipe",type:e,pure:!0}),e})()},65115:(e,t,i)=>{"use strict";i.d(t,{l:()=>y});var s=i(4562),r=i(18842),n=i(54812),o=i(42028),a=i(2732),l=(i(4494),i(95834)),d=(i(87815),i(89318)),c=i(7047),p=i(89932),u=i(97796),h=i(94846),g=i(66713),f=i(87792),m=i(64946),T=i(45085);const E=["dialogAnchor"];function v(e,t){1&e&&(h.ynx(0),h._UZ(1,"div",3,4),h.BQk())}function I(e,t){if(1&e&&(h.TgZ(0,"div",1),h.YNc(1,v,3,0,"ng-container",2),h.qZA()),2&e){const e=t.$implicit;h.Udp("flex",e.flex),h.ekj("sp-add-row-expandable-cell",e.treeExpand),h.xp6(1),h.Q6J("ngIf",e.treeExpand)}}let y=(()=>{class e extends p.H{constructor(e,t,i,s,r,n,o,a,l,d){super(e,t),this.treeNodeHeight=i,this.treeInlineAddDialogFactory=s,this.treeInlineAddRepository=r,this.treeDomElement=n,this.treeInlineAddConfigStorage=o,this.aggregateTreeId=a,this.selectedItemsRepository=l,this.document=d,this.treeColumns=[],this.ANCHOR_PADDING=8,this.WINDOW_RESIZE_THROTTLE_TIME=200,this.nodeLevel=0,this.addRowTopPosition=0}ngOnInit(){this.setInlineAddDialogComponent(),this.setColumns()}ngAfterViewInit(){this.setDialogAnchor(),this.setRowStyles(),this.selectAddDialogIndentStatus(),this.selectTreeContainerScrollEvent(),this.selectWindowResize()}getHostClasses(){return["sp-treegrid-row","sp-tree-inline-add-row","sp-absolute","sp-display-block","sp-w-full","sp-z-1","node-selected"]}setInlineAddDialogComponent(){let e=this.treeInlineAddConfigStorage.getInlineAddDialogComponent(this.aggregateTreeId);e||(e={component:u.Y}),this.treeInlineAddDialogFactory.setInlineAddDialogComponent(e)}setDialogAnchor(){this.dialogAnchor=this.dialogAnchorRef.nativeElement}setColumns(){if(!this.perspective||!this.node)return void(this.treeColumns=[]);const e=this.perspective.getCollectionByNode(this.node);this.treeColumns=e.getTreeColumns()}setRowStyles(){let e=this.node.nodePositionIncludedCollapsedNodes;this.node&&this.node.rawTreeNode.calculatedPosition&&(e+=this.node.rawTreeNode.calculatedPosition),this.addRowTopPosition=e*this.treeNodeHeight.getNodeHeight()+this.treeNodeHeight.getNodeHeight(),this.domManipulator.addHostStyle("top",`${this.addRowTopPosition}px`)}selectAddDialogIndentStatus(){this.treeInlineAddRepository.selectIndentStatus(this.aggregateTreeId).pipe(this.takeUntilDestroy()).subscribe(e=>{this.setNodeLevel(e),this.setDialogAnchorPosition(),this.treeInlineAddDialogFactory.isDialogOpened()?(this.treeInlineAddDialogFactory.setDialogAnchor(this.dialogAnchor),this.setDialogWidth(),this.setDialogPosition()):this.openDialog()})}setNodeLevel(e){this.nodeLevel=e?this.node.nodeLevel+1:this.node.nodeLevel}setDialogAnchorPosition(){this.anchorPositionLeft=this.nodeLevel*c.O+this.ANCHOR_PADDING,this.domManipulator.addStyle(this.dialogAnchor,"left",this.anchorPositionLeft+"px")}openDialog(){const e=this.selectedItemsRepository.getIds(this.aggregateTreeId).pop();this.treeInlineAddDialogFactory.open(this.dialogAnchor,this.calculateDialogWidth(),e)}selectTreeContainerScrollEvent(){const e=this.treeDomElement.getTreeRowContainerElem();(0,r.R)(e,"scroll").pipe(this.takeUntilDestroy()).subscribe(()=>{this.toggleDialogVisibility(e),this.setDialogPosition()})}selectWindowResize(){(0,r.R)(window,"resize").pipe((0,n.p)(this.WINDOW_RESIZE_THROTTLE_TIME),(0,o.h)(()=>this.treeInlineAddDialogFactory.isDialogOpened()),this.takeUntilDestroy()).subscribe(()=>{this.setDialogWidth(),this.setDialogPosition()})}toggleDialogVisibility(e){const t=e.scrollTop;t>this.addRowTopPosition||e.offsetHeight+t<this.addRowTopPosition?this.treeInlineAddDialogFactory.hideDialog():this.treeInlineAddDialogFactory.showDialog()}setDialogPosition(){this.treeInlineAddDialogFactory.setDialogPosition(this.dialogAnchor)}setDialogWidth(){this.treeInlineAddDialogFactory.setDialogWidth(this.calculateDialogWidth())}calculateDialogWidth(){const e=this.elementRef.nativeElement.querySelector(".sp-add-row-expandable-cell"),t=(e?e.offsetWidth:0)-this.anchorPositionLeft;return t<=this.getMinimalDialogWidth()?this.getMinimalDialogWidth():t}getMinimalDialogWidth(){return this.treeInlineAddConfigStorage.getDialogConfig(this.aggregateTreeId).getMinimalWidth()}}return e.selector="sp-tree-inline-add-row",e.\u0275fac=function(t){return new(t||e)(h.Y36(h.SBq),h.Y36(h.Qsj),h.Y36(g.M),h.Y36(d.l),h.Y36(l.I),h.Y36(f.E),h.Y36(m.r),h.Y36(T.H),h.Y36(a.G),h.Y36(s.K0))},e.\u0275cmp=h.Xpm({type:e,selectors:[["sp-tree-inline-add-row"]],viewQuery:function(e,t){if(1&e&&h.Gf(E,5),2&e){let e;h.iGM(e=h.CRH())&&(t.dialogAnchorRef=e.first)}},inputs:{node:"node",perspective:"perspective"},features:[h.qOj],decls:1,vars:1,consts:[["class","sp-treegrid-row-cell sp-tree-add-row-cell",3,"flex","sp-add-row-expandable-cell",4,"ngFor","ngForOf"],[1,"sp-treegrid-row-cell","sp-tree-add-row-cell"],[4,"ngIf"],[1,"sp-tree-inline-add-dialog-anchor","sp-absolute"],["dialogAnchor",""]],template:function(e,t){1&e&&h.YNc(0,I,2,5,"div",0),2&e&&h.Q6J("ngForOf",t.treeColumns)},directives:[s.sg,s.O5],styles:[".sp-tree-inline-add-row{transform:translateX(0)}.sp-tree-inline-add-row__dialog-anchor{top:50%}"],encapsulation:2,changeDetection:0}),e})()},20358:(e,t,i)=>{"use strict";i.d(t,{Y:()=>r});var s=i(94846);let r=(()=>{class e{constructor(){this.accessors={}}getFieldConfig(e,t){return{}}destroy(){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=s.Yz7({token:e,factory:e.\u0275fac}),e})()},97259:(e,t,i)=>{"use strict";i.d(t,{I:()=>R});var s=i(94846),r=i(84167),n=i(56469),o=i(12465),a=i(14930),l=i(4494),d=i(78268),c=i(15894),p=i(25705),u=i(91778);let h=(()=>{class e extends u.y{constructor(){super(...arguments),this.edits$=new d.xQ}submit(e){const t=this.tree.actions.update(this.node,e);return(0,c.D)(t).pipe((0,p.b)(()=>{this.edits$.next(e)}))}setNode(e){this.node=e}setTree(e){this.tree=e}}return e.\u0275fac=function(){let t;return function(i){return(t||(t=s.n5z(e)))(i||e)}}(),e.\u0275prov=s.Yz7({token:e,factory:e.\u0275fac}),e})();var g=i(98647),f=i(16762),m=i(47320),T=i(89932),E=i(22203),v=i(20358),I=i(4562),y=i(71402),C=i(26484),x=i(91216),D=i(23882);const b=["form"];function w(e,t){if(1&e&&(s.ynx(0),s._UZ(1,"sp-form-field",8),s.ALo(2,"spTreeInlineEditRowFieldIdCreator"),s.BQk()),2&e){const e=s.oxw().$implicit,t=s.oxw();s.xp6(1),s.Q6J("id",s.lcZ(2,9,e.formField.name))("value",t.getFieldValue(e.formField))("name",e.formField.name)("type",e.formField.type)("label",e.formField.label)("placeholder",e.formField.placeholder)("validators",e.formField.validators)("config",t.treeInlineEditFormConfig.getFieldConfig(t.node,e))("flex",e.flex)}}function S(e,t){if(1&e&&(s.ynx(0),s._UZ(1,"sp-form-field",9),s.BQk()),2&e){const e=s.oxw().$implicit,t=s.oxw();s.xp6(1),s.Q6J("name",t.getEmptyColumnHtmlId(e))("type",t.formFieldType.NONE)("flex",e.flex)}}function A(e,t){if(1&e&&(s.ynx(0),s.YNc(1,w,3,11,"ng-container",7),s.YNc(2,S,2,3,"ng-container",7),s.BQk()),2&e){const e=t.$implicit;s.xp6(1),s.Q6J("ngIf",e.formField),s.xp6(1),s.Q6J("ngIf",!e.formField)}}let R=(()=>{class e extends T.H{constructor(e,t,i,r,n){super(e,t),this.formRepository=i,this.treeInlineEditFormConfig=r,this.tree=n,this.onCloseRow=new s.vpe,this.formFieldType={NONE:g.E.NONE},this.strategy=f.k.SP_MESSAGES}ngOnChanges(e){e.node&&(this.formRepository.setTree(this.tree),this.formRepository.setNode(this.node))}ngOnInit(){this.domManipulator.setHostAttribute("id","sp-tree-inline-edit-row")}closeRow(){this.onCloseRow.emit(!0)}submit(){this.form.submitWithStatus().pipe(this.takeUntilDestroy()).subscribe(()=>{this.closeRow()},()=>{})}getFieldValue(e){if(e.value)return[e.value];if(e.valueAccessor){const t=this.returnArrayOfValue(e.valueAccessor);if(t.length>1)return[this.accessValue(e,t[0].split("."),this.node.rawTreeNode[t[0]]),this.accessValue(e,t[1].split("."),this.node.rawTreeNode[t[1]])];if(e.type===g.E.SELECT)return this.treeInlineEditFormConfig.accessors&&this.treeInlineEditFormConfig.accessors[t[0]]?new o.W(this.node.rawTreeNode[t[0]][this.treeInlineEditFormConfig.accessors[t[0]][0]],n.H.string(this.node.rawTreeNode[t[0]][this.treeInlineEditFormConfig.accessors[t[0]][1]])):[new o.W(this.node.rawTreeNode[t[0]],n.H.string(this.node.rawTreeNode[t[0]]))];if(e.type===g.E.USER_PICKER){const i=this.accessValue(e,t[0].split("."),[this.node.rawTreeNode[t[0]]])[0];return i?{key:i.id,name:i.data.name}:{}}if(e.type===g.E.RESOURCE_PICKER){const i=this.accessValue(e,t[0].split("."),[this.node.rawTreeNode[t[0]]])[0];return i?new r.$(a.b.fromCompoundId(i.id),i.isActive,i.data,""):{}}return this.accessValue(e,t[0].split("."),[this.node.rawTreeNode[t[0]]])}return[""]}getEmptyColumnHtmlId(e){return`empty-column-${E.I.dashedWithoutSpaceId(e.header.toLowerCase())}`}accessValue(e,t,i){if(!(t.length>1))return i;if(this.node.rawTreeNode.columns){let i=this.node.rawTreeNode.columns;return t.forEach(e=>{i=i?i[e]:null}),e.type===g.E.SELECT||e.type===g.E.LAZY_SELECT?[new o.W(i,n.H.string(i))]:[i]}}returnArrayOfValue(e){let t=[];return Array.isArray(e)?t=e:t.push(e),t}}return e.\u0275fac=function(t){return new(t||e)(s.Y36(s.SBq),s.Y36(s.Qsj),s.Y36(u.y,2),s.Y36(v.Y),s.Y36(l.mp))},e.\u0275cmp=s.Xpm({type:e,selectors:[["sp-tree-inline-edit-row"]],viewQuery:function(e,t){if(1&e&&s.Gf(b,5),2&e){let e;s.iGM(e=s.CRH())&&(t.form=e.first)}},inputs:{node:"node",treeColumns:"treeColumns"},outputs:{onCloseRow:"onCloseRow"},features:[s._Bn([{provide:u.y,useClass:h}]),s.qOj,s.TTD],decls:11,vars:11,consts:[[1,"sp-treegrid-row","sp-treegrid-edit-row","sp-flex","sp-align-items-center"],[3,"strategy"],["form",""],[4,"ngFor","ngForOf"],[1,"sp-tree-inline-edit-buttons"],["sp-button","","primary","","id","sp-inline-edit-save",1,"sp-inline-edit-save",3,"click"],["sp-button","","link","","id","sp-inline-edit-row-close",1,"sp-inline-edit-row-close",3,"click"],[4,"ngIf"],[3,"id","value","name","type","label","placeholder","validators","config","flex"],[3,"name","type","flex"]],template:function(e,t){1&e&&(s.TgZ(0,"li",0),s.TgZ(1,"sp-form",1,2),s.YNc(3,A,3,2,"ng-container",3),s.qZA(),s.TgZ(4,"div",4),s.TgZ(5,"button",5),s.NdJ("click",function(){return t.submit()}),s._uU(6),s.ALo(7,"spL10nText"),s.qZA(),s.TgZ(8,"button",6),s.NdJ("click",function(){return t.closeRow()}),s._uU(9),s.ALo(10,"spL10nText"),s.qZA(),s.qZA(),s.qZA()),2&e&&(s.uIk("data-editTreeNodeId",t.node.id),s.xp6(1),s.Q6J("strategy",t.strategy),s.xp6(2),s.Q6J("ngForOf",t.treeColumns),s.xp6(1),s.Udp("flex","0 0 10%"),s.xp6(2),s.hij(" ",s.lcZ(7,7,"SPT_COMMON_INLINE_EDIT_BUTTON_SAVE")," "),s.xp6(3),s.hij(" ",s.lcZ(10,9,"SPT_COMMON_INLINE_EDIT_BUTTON_CANCEL")," "))},directives:[m.Ur,I.sg,y.r,I.O5,C.u],pipes:[x.L,D.a],styles:["sp-tree-inline-edit-row{width:100%}sp-tree-inline-edit-row .sp-treegrid-row.sp-treegrid-edit-row{background:var(--blue-50);animation:editExpandAnim .25s ease-out forwards}sp-tree-inline-edit-row .sp-treegrid-row.sp-treegrid-edit-row ::ng-deep .sp-form-group{margin-top:0}sp-tree-inline-edit-row .sp-treegrid-row.sp-treegrid-edit-row .sp-input-file-filename{width:100px;overflow:hidden;text-overflow:ellipsis}sp-tree-inline-edit-row .sp-tree-inline-edit-buttons{position:absolute;right:10px;transition:all .25s ease-out;display:flex;align-items:center;justify-content:flex-end;align-self:center}sp-tree-inline-edit-row .sp-inline-edit-row-close{margin-left:10px;margin-right:10px}sp-tree-inline-edit-row sp-form{width:100%}sp-tree-inline-edit-row sp-form .sp-form-group{margin-bottom:0}sp-tree-inline-edit-row sp-form sp-field-group{display:flex;width:100%;align-items:center}sp-tree-inline-edit-row sp-form sp-field-group sp-field .sp-form-group{padding:0 10px}sp-tree-inline-edit-row sp-form sp-field-group sp-field .sp-form-validation-messages{left:14px}sp-tree-inline-edit-row sp-form sp-field-group sp-field .sp-form-checkbox .sp-checkbox{padding-left:1em}sp-tree-inline-edit-row sp-form sp-field-group sp-field .sp-input-file-row label{width:auto;margin-bottom:0}sp-tree-inline-edit-row sp-form sp-field-group .sp-checkbox-swiper-field{margin-left:0;padding-top:5px}sp-tree-inline-edit-row sp-form sp-field-group .sp-checkbox-swiper-field .sp-swiper-wrapper sp-checkbox-swiper{justify-content:flex-start}sp-tree-inline-edit-row sp-form-field-label{width:0;margin:0}sp-tree-inline-edit-row .sp-form-errors{display:none}@keyframes editExpandAnim{0%{height:40px}to{height:52px}}"],encapsulation:2,changeDetection:0}),e})()},23882:(e,t,i)=>{"use strict";i.d(t,{a:()=>r});var s=i(94846);let r=(()=>{class e{transform(e){return`sp-${e.replace(",","")}-edit-field`}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275pipe=s.Yjl({name:"spTreeInlineEditRowFieldIdCreator",type:e,pure:!0}),e})()},87792:(e,t,i)=>{"use strict";i.d(t,{E:()=>n});var s=i(94846),r=i(66713);let n=(()=>{class e{constructor(e){this.treeNodeHeight=e}init(e,t,i,s){this.treeComponent=e,this.treeRowContainer=t,this.treeRowListContainer=i,this.treeInlineAddBlanket=s}scrollToNode(e){const t=this.getTreeNodeElem(e.id);if(!t){const t=this.getNodeTop(e);return void this.setTreeScrollTop(t)}const i=this.getTreeRowContainerElem(),s=this.getTreeRowListContainerElem(),r=i.getBoundingClientRect().top,n=s.getBoundingClientRect().top,o=t.getBoundingClientRect().top,a=r-o;if(a>0)return void this.setTreeScrollTop(r-n-a);const l=i.getBoundingClientRect().bottom,d=o+this.treeNodeHeight.getNodeHeight()-l;d>0&&this.setTreeScrollTop(i.scrollTop+d)}setTreeScrollTop(e){this.getTreeRowContainerElem().scrollTop=e}getNodeTop(e){return e.nodePositionIncludedCollapsedNodes*this.treeNodeHeight.getNodeHeight()}getTreeRowContainerElem(){return this.treeRowContainer.nativeElement}getTreeInlineAddBlanket(){return this.treeInlineAddBlanket.nativeElement}getTreeNodeElem(e){return this.treeComponent.nativeElement.querySelector(`[data-treenodeid="${e}"]`)}getTreeRowListContainerElem(){return this.treeRowListContainer.nativeElement}}return e.\u0275fac=function(t){return new(t||e)(s.LFG(r.M))},e.\u0275prov=s.Yz7({token:e,factory:e.\u0275fac}),e})()},22009:(e,t,i)=>{"use strict";i.d(t,{l:()=>Ge});var s=i(4562),r=i(94846),n=i(74685),o=i(78268),a=i(99127),l=i(52933),d=i(18842),c=i(98549),p=i(99721),u=i(42028),h=i(62067),g=i(90540),f=i(68387),m=i(30159),T=i(93077),E=i(81693),v=i(55977),I=i(4494),y=i(49999);const C=new r.OlP("LOCAL_ACTION_HANDLERS");var x=i(11578);let D=(()=>{class e{constructor(e,t){this.localActionHandlers=e,this.localActions$=t,this.subscriptions=new n.w}ngOnDestroy(){this.subscriptions.unsubscribe()}init(e){this.localActionHandlers.forEach(t=>{this.subscriptions.add(this.localActions$.ofTreeAction(t.actionType).subscribe(i=>{t.execute(i,e)}))})}}return e.\u0275fac=function(t){return new(t||e)(r.LFG(C),r.LFG(x.e))},e.\u0275prov=r.Yz7({token:e,factory:e.\u0275fac}),e})();var b=i(66713);let w=(()=>{class e{constructor(e,t){this.tree=e,this.treeNodeHeight=t}static isValidHTMLElement(e){return e instanceof HTMLElement&&[Node.ELEMENT_NODE,Node.DOCUMENT_NODE,Node.DOCUMENT_FRAGMENT_NODE].includes(e.nodeType)}setTreeContainerScrollTop(t,i){const s=this.treeNodeHeight.getNodeHeight();if(-1!==i&&e.isValidHTMLElement(t)){const e=(i+1)*s-Math.floor(t.offsetHeight/2);t.scrollTop=e<0?0:e}}}return e.\u0275fac=function(t){return new(t||e)(r.LFG(I.mp),r.LFG(b.M))},e.\u0275prov=r.Yz7({token:e,factory:e.\u0275fac}),e})();var S=i(34857),A=i(86411),R=(i(35331),i(54247)),_=i(68835),N=i(95834),L=i(27255),O=i(45246),F=i(9455),M=i(30957),U=i(76066),k=i(45085),B=i(95768),V=i(89967),G=i(3580),P=i(35313),Y=i(97174);let Z=(()=>{class e{isScrolledToBottom(e){return Y.o.isChrome()?this.handleChrome(e):this.getScrollHeight(e)-this.getScrollTop(e)===this.getTreeRowContainerHeight(e)}getTreeRowContainerHeight(e){return Math.floor(e.offsetHeight)}getScrollHeight(e){return Math.floor(e.scrollHeight)}getScrollTop(e){return Math.floor(e.scrollTop)}getDistanceToBottom(e){const t=this.getScrollHeight(e),i=this.getScrollTop(e),s=this.getTreeRowContainerHeight(e);return Math.abs(t-i-s)}handleChrome(e){return this.getDistanceToBottom(e)<=40}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=r.Yz7({token:e,factory:e.\u0275fac}),e})();var z=i(54541);let J=(()=>{class e{constructor(e,t,i){this.treeViewportRenderService=e,this.treeGridScrollToBottomService=t,this.localActionDispatcher=i}create(e,t){const i=e.treeViewportRenderConfiguration.enabled,s=e.dispatchActionWhenScrolledToBottom;return i&&s?e=>{this.dispatchActionWhenScrolledToBottom(t),this.treeViewportRenderService.reduce(e)}:i?e=>{this.treeViewportRenderService.reduce(e)}:s?()=>{this.dispatchActionWhenScrolledToBottom(t)}:()=>{}}dispatchActionWhenScrolledToBottom(e){this.treeGridScrollToBottomService.isScrolledToBottom(e)&&this.localActionDispatcher.dispatch(new y.SF)}}return e.\u0275fac=function(t){return new(t||e)(r.LFG(P.G),r.LFG(Z),r.LFG(z.c))},e.\u0275prov=r.Yz7({token:e,factory:e.\u0275fac}),e})();var H=i(62588),q=i(48507),Q=i(45856);const $={provide:k.H,useFactory:()=>new k.H("sp-tree")};var j=i(7201);let W=(()=>{class e{constructor(e,t,i,s){this.defaultTreeConfiguration=e,this.localActionDispatcher=t,this.treeCommandDispatcher=i,this.aggregateTreeId=s}create(){return this.createTree()}createTree(){const e=new I.mp;return e.setConfig(this.getDefaultConfiguration()),this.localActionDispatcher&&e.setLocalActionDispatcher(this.localActionDispatcher),this.aggregateTreeId&&e.setAggregateTreeId(this.aggregateTreeId),this.treeCommandDispatcher&&this.aggregateTreeId&&e.setTreeCommandDispatcher(this.treeCommandDispatcher),e}getDefaultConfiguration(){return this.defaultTreeConfiguration?R.Z.default().assign(this.defaultTreeConfiguration):R.Z.default()}}return e.\u0275fac=function(t){return new(t||e)(r.LFG(j.s,8),r.LFG(z.c,8),r.LFG(U.z,8),r.LFG(k.H,8))},e.\u0275prov=r.Yz7({token:e,factory:e.\u0275fac}),e})();var K=i(25333);const X=[i(89318).l];let ee=(()=>{class e{constructor(e,t,i){this.renderer=e,this.barLoaderService=t,this.tree=i}connect(){return this.barLoaderService.connect()}start(e){if(!this.tree.getConfig().lockTreeAction)return;const t=e.nativeElement.querySelector(".sp-bar-loader-blanket");this.barLoaderService.start(),this.renderer.setStyle(t,"display","block")}complete(e){if(!this.tree.getConfig().lockTreeAction)return;const t=e.nativeElement.querySelector(".sp-bar-loader-blanket");this.barLoaderService.complete(),this.renderer.removeStyle(t,"display")}fail(e){if(!this.tree.getConfig().lockTreeAction)return;const t=e.nativeElement.querySelector(".sp-bar-loader-blanket");this.barLoaderService.fail(),this.renderer.removeStyle(t,"display")}}return e.\u0275fac=function(t){return new(t||e)(r.LFG(r.Qsj),r.LFG(H.F),r.LFG(I.mp))},e.\u0275prov=r.Yz7({token:e,factory:e.\u0275fac}),e})();var te=i(87792);class ie{}const se=[{provide:C,useClass:(()=>{class e extends ie{constructor(e,t){super(),this.lockTreeGridService=e,this.treePerspectiveManager=t,this.actionType=y.MF.LOCK_TREE}execute(e,t){this.lockTreeGridService.start(t.getElementRef()),this.treePerspectiveManager.lockPerspectiveManger()}}return e.\u0275fac=function(t){return new(t||e)(r.LFG(ee),r.LFG(O.R))},e.\u0275prov=r.Yz7({token:e,factory:e.\u0275fac}),e})(),multi:!0},{provide:C,useClass:(()=>{class e extends ie{constructor(e,t){super(),this.lockTreeGridService=e,this.treePerspectiveManager=t,this.actionType=y.MF.LOCK_TREE_FAIL}execute(e,t){this.lockTreeGridService.complete(t.getElementRef()),this.treePerspectiveManager.unLockPerspectiveManger()}}return e.\u0275fac=function(t){return new(t||e)(r.LFG(ee),r.LFG(O.R))},e.\u0275prov=r.Yz7({token:e,factory:e.\u0275fac}),e})(),multi:!0},{provide:C,useClass:(()=>{class e extends ie{constructor(e,t){super(),this.lockTreeGridService=e,this.treePerspectiveManager=t,this.actionType=y.MF.LOCK_TREE_SUCCESS}execute(e,t){this.lockTreeGridService.complete(t.getElementRef()),this.treePerspectiveManager.unLockPerspectiveManger()}}return e.\u0275fac=function(t){return new(t||e)(r.LFG(ee),r.LFG(O.R))},e.\u0275prov=r.Yz7({token:e,factory:e.\u0275fac}),e})(),multi:!0},{provide:C,useClass:(()=>{class e extends ie{constructor(e){super(),this.treePerspectiveManager=e,this.actionType=y.MF.CHANGE_PERSPECTIVE}execute(e){this.treePerspectiveManager.changeSelectedPerspective(e.payload)}}return e.\u0275fac=function(t){return new(t||e)(r.LFG(O.R))},e.\u0275prov=r.Yz7({token:e,factory:e.\u0275fac}),e})(),multi:!0},{provide:C,useClass:(()=>{class e extends ie{constructor(e){super(),this.tree=e,this.actionType=y.MF.COLLAPSE_ALL}execute(){this.tree.collapseAll()}}return e.\u0275fac=function(t){return new(t||e)(r.LFG(I.mp))},e.\u0275prov=r.Yz7({token:e,factory:e.\u0275fac}),e})(),multi:!0},{provide:C,useClass:(()=>{class e extends ie{constructor(e){super(),this.tree=e,this.actionType=y.MF.EXPAND_ALL}execute(){this.tree.expandAll()}}return e.\u0275fac=function(t){return new(t||e)(r.LFG(I.mp))},e.\u0275prov=r.Yz7({token:e,factory:e.\u0275fac}),e})(),multi:!0},{provide:C,useClass:(()=>{class e extends ie{constructor(e){super(),this.treePerspectiveManager=e,this.actionType=y.MF.SORT}execute(e){const t=e.payload;this.treePerspectiveManager.setActiveSortColumn(t.columnId,t.direction)}}return e.\u0275fac=function(t){return new(t||e)(r.LFG(O.R))},e.\u0275prov=r.Yz7({token:e,factory:e.\u0275fac}),e})(),multi:!0}];var re=i(77524),ne=i(52402),oe=i(16278);const ae=[W,te.E,H.F,ee,Q.c,P.G,b.M,w,{provide:I.mp,useFactory:e=>e.create(),deps:[W,z.c]},Z,ne.f,O.R,L.h,z.c,x.e,q.r,D,M.Y,S.G,V.P,re.a,oe.p,J,K.N,...se,$,...X];var le=i(59185),de=i(23512),ce=i(50533),pe=i(40722),ue=i(46599),he=i(74477),ge=i(89932),fe=i(59887),me=i(81106),Te=i(73630),Ee=i(35826),ve=i(9588),Ie=i(20358),ye=i(64946),Ce=i(65955),xe=i(92473);const De=["treeRowContainer"],be=["treeRowListContainer"],we=["treeInlineAddBlanket"],Se=["treeNodeCollection"],Ae=["treeHeader"],Re=["treeContainerRef"];function _e(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"div",15),r.NdJ("mouseenter",function(){r.CHM(e);const t=r.oxw();return t.scrollStart(-t.scrollDelta)})("mouseleave",function(){return r.CHM(e),r.oxw().scrollEnd()}),r.qZA()}}function Ne(e,t){if(1&e&&r._UZ(0,"sp-tree-header",16,17),2&e){const e=r.oxw();r.ekj("sp-container-scroll-enabled",e.isContentScrollEnabled()),r.Q6J("perspective",e.activePerspective)("groupingNestingLevel",e.groupingNestingLevel)("treeId",e.treeId)("resizeEnabled",e.isColumnResizeEnabled())("columnDragAndDrop",e.isColumnDragAndDropEnabled())("headerInlineActionColumn",e.isHeaderInlineActionColumn()),r.uIk("id","sp-"+e.treeId+"-tree-header")}}function Le(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"div",18),r.TgZ(1,"div",19),r.TgZ(2,"span",20),r._uU(3),r.ALo(4,"spL10nText"),r.qZA(),r.qZA(),r.TgZ(5,"div",21),r.NdJ("click",function(){return r.CHM(e),r.oxw().timeBoxPanelClose$.emit()}),r.ALo(6,"spRichTextString"),r._UZ(7,"i",22),r.qZA(),r.qZA()}if(2&e){const e=r.oxw();r.xp6(3),r.Oqu(r.lcZ(4,3,"SPT_TREE_GRID_TIME_BOXES_ENABLED_MESSAGE")),r.xp6(2),r.Q6J("spTooltip",r.lcZ(6,5,"Close time boxes"))("spTooltipGravity",e.gravity.NORTH)}}function Oe(e,t){if(1&e&&r._UZ(0,"sp-tree-node-collection",23,24),2&e){const e=r.oxw();r.Udp("height",e.getNodeCollectionHeight(),"px"),r.ekj("sp-not-selectable",e.shiftPressed),r.Q6J("nodes",e.tree.getFlatListOfNodes())("perspective",e.activePerspective)("groupingNestingLevel",e.groupingNestingLevel)("groupingColumnsIndentsMap",e.groupingColumnsIndentsMap)("isInlineDeleteDisabled",e.isInlineDeleteDisabled)("spRightClickIgnoreEnabled",e.ignoreRightClickEvent),r.uIk("id","sp-"+e.treeId+"-node-collection")}}function Fe(e,t){1&e&&(r.ynx(0),r._UZ(1,"div",27),r.BQk())}function Me(e,t){if(1&e&&(r.TgZ(0,"div",25),r.TgZ(1,"sp-tree-external-drop-zone",26),r.YNc(2,Fe,2,0,"ng-template"),r.qZA(),r.qZA()),2&e){const e=r.oxw();r.Udp("height",e.dropZoneHeight),r.xp6(1),r.Q6J("onTreeNodeDrop",e.onDrop())("isVisible",!0)}}function Ue(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"div",28),r.NdJ("mouseenter",function(){r.CHM(e);const t=r.oxw();return t.scrollStart(t.scrollDelta)})("mouseleave",function(){return r.CHM(e),r.oxw().scrollEnd()}),r.qZA()}}const ke=[[["tree-container-content"]]],Be=function(e){return{"sp-active-tree":e}},Ve=["tree-container-content"];let Ge=(()=>{class e extends ge.H{constructor(e,t,i,s,a,l,d,c,p,u,h,g,f,m,T,E,v,I,y,C,x,D,b,w,S,A,R,_,N,L,O,F,M,U,k,B,V,G){super(e,t),this.injector=i,this.changeDetectorRef=s,this.localStorage=a,this.tree=l,this.treeNodeHeight=d,this.treePerspectiveManager=c,this.treePerspectiveFactory=p,this.treeGridSizeService=u,this.treeUserSettingsFactory=h,this.treeViewportRenderService=g,this.treeContainerScrollSetter=f,this.localActionDispatcher=m,this.localActions$=T,this.internalEventHandler=E,this.localActionHandlersCollection=v,this.aggregateTreeId=I,this.treeLayoutRenderer=y,this.treeCommandService=C,this.treeQueryService=x,this.treeShortcutsInitializer=D,this.treeInlineEditFormConfig=b,this.treeDomElement=w,this.listenerService=S,this.treeGridGridStorage=A,this.treeNodesCssClassStorage=R,this.treeColumnAvailabilityResolverStorage=_,this.itemsDroppedRepository=N,this.treeInlineAddRepository=L,this.treeInlineAddConfigStorage=O,this.treeNodeRightClickResolverStorage=F,this.treeGridScrollToBottomService=M,this.treeGridScrollFactory=U,this.dragStateRepository=k,this.draggedElementService=B,this.dropDestinationRepository=V,this.document=G,this.timeBoxPanel=!1,this.ignoreRightClickEvent=!1,this.onHierarchyAddIndicatorClick$=new r.vpe,this.timeBoxPanelClose$=new r.vpe,this.groupingNestingLevel=0,this.groupingColumnsIndentsMap=new Map,this.shiftPressed=!1,this.treeActive=!1,this.gravity=fe.X,this.dragInProgress=!1,this.isInlineDeleteDisabled=!1,this.scrollDelta=10,this.TOP_SCROLL_ZONE_HIDE_CLASS="sp-treegrid_scroll_zone_top_hidden",this.BOTTOM_SCROLL_ZONE_HIDE_CLASS="sp-treegrid_scroll_zone_bottom_hidden",this.firstOnChanges=!0,this.treeIdInitailized=!1,this.treeColumnCollectionRef=new n.w,this.initialized=!1,this.viewInitialized=!1,this.scrollDebounceTime=0,this.scrollEnd$=new o.xQ,this.inlineAddVisibleStatus=!1}ngOnChanges(e){if(e.treeId&&!e.treeId.isFirstChange())throw new Error('Value "treeId" cannot change.');if(this.firstOnChanges&&(this.initTreeId(),this.initializeTreeDOMElement()),e.gridType&&(this.treeGridGridStorage.set(this.gridType),this.domManipulator.setHostAttribute("grid-type",G.W[this.gridType])),e.rightClickResolver&&this.treeNodeRightClickResolverStorage.set(this.rightClickResolver),e.config&&e.config.currentValue){const t=this.tree.getConfig().assign(e.config.currentValue);this.scrollDebounceTime=t.treeViewportRenderConfiguration.scrollDebounceTime,this.tree.setConfig(t),e.config.currentValue.treeNodesCssClassResolver&&this.treeNodesCssClassStorage.set(e.config.currentValue.treeNodesCssClassResolver),e.config.currentValue.treeColumnAvailabilityResolver&&this.treeColumnAvailabilityResolverStorage.set(e.config.currentValue.treeColumnAvailabilityResolver),this.treeCommandService.setSetTreeDropZonesResolver(this.aggregateTreeId,t.treeDropZonesResolver),this.treeCommandService.setSetTreeNodeSelectResolver(this.aggregateTreeId,t.treeNodeSelectResolver),this.updateDropZoneHeight(),this.isInlineDeleteDisabled=!this.tree.getConfig().inlineDelete,this.viewInitialized&&this.createScrollMethod()}this.firstOnChanges&&this.initUserSettings(),e.nodes&&(this.tree.setNodes(e.nodes.currentValue),this.updateDropZoneHeight(),this.groupingNestingLevel=this.calcDeepestGroup(this.nodes),this.resolveGroupingColumnsIndentsMap(),this.changeDetectorRef.markForCheck(),e.nodes.currentValue&&this.domManipulator.setHostAttribute("number-of-nodes",`${e.nodes.currentValue.length}`)),e.actions&&this.tree.setActions(e.actions.currentValue),e.markedNodeId&&this.tree.setMarkedNodeId(e.markedNodeId.currentValue),e.availableColumns&&this.treePerspectiveManager.setAvailableColumns(e.availableColumns.currentValue),e.inlineAddConfig&&this.treeInlineAddConfigStorage.set(this.aggregateTreeId,this.inlineAddConfig),e.timeBoxPanel&&this.treeRowContainer&&(this.timeBoxPanel?this.domManipulator.addClass(this.treeRowContainer.nativeElement,"sp-treegrid-row-container--with-time-box-panel"):this.domManipulator.removeClass(this.treeRowContainer.nativeElement,"sp-treegrid-row-container--with-time-box-panel")),this.firstOnChanges=!1}ngOnInit(){this.initTreeId(),this.setCollectionHandlers(),this.initUserSettings(),this.selectPerspective(),this.selectSorting(),this.initShortcuts(),this.selectLayout(),this.selectRebuild(),this.selectNodes(),this.restoreLastSelectedNode(),this.observeModifierKeys(),this.treeHierarchyAddIndicatorClickAction(),this.selectDroppedItems(),this.listenForScrollChange(),this.listenSnipeChange(),this.listenToInlineAddVisibleStatus(),this.initialized=!0}ngAfterContentInit(){this.updateColumns(),this.treeColumnCollectionQL.changes.pipe(this.takeUntilDestroy()).subscribe(()=>{this.updateColumns(),this.changeDetectorRef.markForCheck()})}ngAfterViewInit(){this.treeRowContainerNativeElement=this.treeRowContainer.nativeElement,this.selectTreeDragState(),this.setTreeLayout(),this.setViewportContainer(),this.observeTreeContainerScrollEvent(),this.createScrollMethod(),this.viewInitialized=!0}finalize(){this.treeColumnCollectionRef.unsubscribe(),this.treeInlineEditFormConfig.destroy(),this.itemsDroppedRepository.set(this.tree.getAggregateTreeId(),null),this.treeInlineAddRepository.clearById(this.aggregateTreeId),this.destroyShortcuts()}scrollStart(e){(0,a.F)(25).pipe((0,p.R)(this.scrollEnd$),this.takeUntilDestroy()).subscribe(()=>{const t=this.treeRowContainerNativeElement.scrollTop,i=t+e;t!==i&&(this.setScrollZoneStyles(i,this.treeRowContainerNativeElement.offsetHeight,this.treeRowContainerNativeElement.scrollHeight),this.treeRowContainerNativeElement.scrollTop=i)})}scrollEnd(){this.scrollEnd$.next()}getAggregateTreeId(){return this.aggregateTreeId}setLayout(e){this.treeCommandService.setLayout(this.aggregateTreeId,e)}addColumn(){const e=this.treePerspectiveManager.getAvailableColumns()[0];this.treePerspectiveManager.addColumn(e,"main")}observeEvents(){return this.internalEventHandler.observeEvents()}isColumnHeadersEnabled(){return this.tree.getConfig().columnHeaders}isViewportRenderingEnabled(){return this.tree.getConfig().treeViewportRenderConfiguration.enabled}isColumnResizeEnabled(){return this.tree.getConfig().columnResize}isContentScrollEnabled(){return this.tree.getConfig().contentScroll}isHeaderInlineActionColumn(){return this.tree.getConfig().headerInlineActionColumn}isTreeShortcutsEnabled(){return this.tree.getConfig().treeShortcutsEnabled}toggleInlineEdit(e){this.localActionDispatcher.dispatch(new y.$I(e.id))}isDropZoneDisabled(){return this.tree.getConfig().disabledDropZone}isExternalDropZoneEnabled(){return this.tree.getConfig().externalDropZone}isColumnDragAndDropEnabled(){return this.tree.getConfig().columnDragAndDrop}isOverflowed(){return this.tree.getConfig().overflowEnabled}getNodeLSKey(){return this.tree.getConfig().nodeLSKey}getElementRef(){return this.elementRef}onDrop(){return e=>{this.treeCommandService.dropItems(new k.H(e),this.tree.treeRoot,this.tree.trees.length)}}getNodeCollectionHeight(){const e=this.inlineAddVisibleStatus?this.treeNodeHeight.getNodeHeight():0,t=this.inlineAddConfig?B.fj:0;return this.tree.getFlatListOfNodes().length*this.treeNodeHeight.getNodeHeight()+t+e}getHostClasses(){return["sp-relative","sp-w-full","sp-h-full","sp-display-block"]}setScrollZoneStyles(e,t,i){e<=0?this.domManipulator.addHostClass(this.TOP_SCROLL_ZONE_HIDE_CLASS):this.domManipulator.removeHostClass(this.TOP_SCROLL_ZONE_HIDE_CLASS),e+t>=i?this.domManipulator.addHostClass(this.BOTTOM_SCROLL_ZONE_HIDE_CLASS):this.domManipulator.removeHostClass(this.BOTTOM_SCROLL_ZONE_HIDE_CLASS)}updateDropZoneHeight(){const e=this.tree.getConfig().externalDropZoneHeight;this.dropZoneHeight=he.l.isDefined(e)?e+"px":`calc(100% - ${this.getNodeCollectionHeight()}px)`}selectDroppedItems(){this.itemsDroppedRepository.select(this.tree.getAggregateTreeId()).pipe((0,u.h)(e=>!!e),this.takeUntilDestroy()).subscribe(e=>{this.dropDestinationRepository.getDropDestination().actions.move(e.selectedItems,e.destinationNode,e.nodeIndex)})}setViewportContainer(){this.isViewportRenderingEnabled()&&(this.treeViewportRenderService.setTreeContainerRef(this.treeRowContainer),this.treeViewportRenderService.attachEvents())}initShortcuts(){this.isTreeShortcutsEnabled()&&this.treeShortcutsInitializer.initShortcuts(),this.inlineAddConfig&&this.inlineAddConfig.getIsEnabled()&&this.treeShortcutsInitializer.initChangesGroup()}destroyShortcuts(){this.isTreeShortcutsEnabled()&&this.treeShortcutsInitializer.destroyShortcuts()}restoreLastSelectedNode(){this.tree.observeNodes().pipe((0,h.g)(1,l.Z),(0,g.q)(1),this.takeUntilDestroy()).subscribe(()=>{this.scrollToLSKeyNode(),this.selectLSKeyNode()})}createScrollMethod(){this.scrollMethod=this.treeGridScrollFactory.create(this.tree.getConfig(),this.treeRowContainerNativeElement)}selectNodes(){this.tree.observeNodes().pipe(this.takeUntilDestroy()).subscribe(e=>{this.treeCommandService.setTree(this.aggregateTreeId,e)})}selectSorting(){this.tree.getConfig().isUserSettingsStoringEnabled()&&this.localActions$.ofTreeAction(y.MF.SORT).pipe(this.takeUntilDestroy()).subscribe(e=>{this.treeUserSettings.changeSort(e.payload)})}selectPerspective(){this.treePerspectiveManager.observePerspective(this.treeUserSettings).pipe(this.takeUntilDestroy()).subscribe(e=>{this.activePerspective=e,this.tree.setColumnView(e),this.changeDetectorRef.markForCheck()})}selectRebuild(){this.treeQueryService.selectRebuild(this.aggregateTreeId).pipe(this.takeUntilDestroy()).subscribe(()=>{this.updateDropZoneHeight(),this.changeDetectorRef.detectChanges()})}selectLayout(){this.treeQueryService.select(this.aggregateTreeId).pipe((0,f.U)(e=>e.getLayout()),(0,m.x)(),this.takeUntilDestroy()).subscribe(e=>{this.domManipulator.setHostAttribute("layout",ue.A[e]),this.treeLayoutRenderer.setLayout(this,e),this.treeNodeHeight.setLayout(e),this.initialized&&(this.changeDetectorRef.detectChanges(),this.reloadNodeCollection())})}observeModifierKeys(){this.listenerService.observeModifierKeys().pipe(this.takeUntilDestroy()).subscribe(e=>{this.shiftPressed=!!(e&de.q.SHIFT)})}initTreeId(){this.treeIdInitailized||(this.treeId||(this.treeId=this.aggregateTreeId.toString()),this.tree.setTreeId(this.treeId),this.aggregateTreeId.setId(this.treeId),this.treeCommandService.init(this.aggregateTreeId),this.treeIdInitailized=!0)}initializeTreeDOMElement(){this.treeDomElement.init(this.elementRef,this.treeRowContainer,this.treeRowListContainer,this.treeInlineAddBlanket)}setTreeLayout(){const e=this.tree.getConfig().treeLayout;this.treeCommandService.setLayout(this.aggregateTreeId,e)}setCollectionHandlers(){this.localActionHandlersCollection.init(this)}initUserSettings(){this.treeUserSettings=this.treeUserSettingsFactory.create(this.treeId,this.tree.getConfig().expandedStoredInLs),this.tree.setUserSettings(this.treeUserSettings),this.tree.getConfig().expandedNodeIds&&this.tree.getConfig().expandedNodeIds.length>0&&this.tree.markNodesAsExpanded(this.tree.getConfig().expandedNodeIds)}scrollToLSKeyNode(){const e=this.localStorage.getItem(this.getNodeLSKey());e&&this.nodes&&this.nodes.length>0&&this.treeCommandService.snipe(this.aggregateTreeId,e)}selectLSKeyNode(){const e=this.localStorage.getItem(this.getNodeLSKey());e&&this.treeCommandService.toggleItemSelection(this.aggregateTreeId,e,F.M.ONE)}updateColumns(){if(!this.treeColumnCollectionQL)return;this.treeColumnCollectionRef.unsubscribe(),this.treeColumnCollectionRef=new n.w,this.treeColumnCollectionQL.toArray().forEach(e=>{this.treeColumnCollectionRef.add(e.observeTreeColumnCollection().pipe(this.takeUntilDestroy()).subscribe(()=>{this.updateColumns(),this.changeDetectorRef.markForCheck()}))});const e=this.treeColumnCollectionQL.toArray().map(e=>e.treeColumnCollection),t=this.treePerspectiveFactory.createTemplatePerspective(e);this.treePerspectiveManager.setTemplatePerspective(t),this.treePerspectiveManager.changeToTemplatePerspective()}observeTreeContainerScrollEvent(){(0,d.R)(this.treeRowContainerNativeElement,"scroll").pipe((0,T.b)(this.scrollDebounceTime),this.takeUntilDestroy()).subscribe(e=>{this.scrollMethod(e)})}reloadNodeCollection(){this.treeNodeCollectionComp.runChangeDetection()}treeHierarchyAddIndicatorClickAction(){this.treeInlineAddRepository.selectSiblingNodeId(this.aggregateTreeId).pipe((0,u.h)(e=>null!==e),this.takeUntilDestroy()).subscribe(e=>{const t=this.tree.getNodeById(e);this.onHierarchyAddIndicatorClick$.emit(t)})}listenToInlineAddVisibleStatus(){this.treeInlineAddRepository.selectInlineAddVisibleStatus(this.aggregateTreeId).pipe((0,m.x)(),this.takeUntilDestroy()).subscribe(e=>{this.inlineAddVisibleStatus=e,this.getNodeCollectionHeight(),this.changeDetectorRef.detectChanges()})}listenForScrollChange(){this.treeQueryService.selectScrollTopChange(this.aggregateTreeId).pipe(this.takeUntilDestroy()).subscribe(e=>{const t=this.config.treeScrollTopChangeResolver;t?t.resolve(e):this.treeRowContainer.nativeElement.scrollTop+=e})}listenSnipeChange(){this.treeQueryService.selectSnippedItemVerticallyTopPosition(this.aggregateTreeId).pipe((0,u.h)(()=>this.nodes&&this.nodes.length>0),this.takeUntilDestroy()).subscribe(e=>{this.treeContainerScrollSetter.setTreeContainerScrollTop(this.treeRowContainer.nativeElement,e)})}calcDeepestGroup(e){let t=0;const i=(e,s=0)=>{Array.isArray(e)&&e.filter(e=>{const t=e&&e.data||null;return!!t&&"function"==typeof t.isGroup&&!0===t.isGroup()}).forEach(e=>{t=Math.max(t,s),i(e.children,s+1)})};return i(e),t}calcGroupingIndentSize(e=0){return 28*Math.max(Number(this.groupingNestingLevel)-e,0)}resolveGroupingColumnsIndentsMap(){this.groupingColumnsIndentsMap.clear();for(let e=0;e<=this.groupingNestingLevel;e++)this.groupingColumnsIndentsMap.set(e,this.calcGroupingIndentSize(e))}selectTreeDragState(){this.dragStateRepository.select().pipe(this.takeUntilDestroy()).subscribe(e=>{e&&this.setScrollZoneStyles(this.treeRowContainerNativeElement.scrollTop,this.treeRowContainerNativeElement.offsetHeight,this.treeRowContainerNativeElement.scrollHeight),this.setTreeContainersVisibility(e),this.dragInProgress=e,this.changeDetectorRef.detectChanges()}),this.dragStateRepository.select().pipe((0,u.h)(e=>!e),this.takeUntilDestroy()).subscribe(()=>{this.scrollEnd$.next(),this.draggedElementService.removeClone()})}setTreeContainersVisibility(e){(0,c.H)().pipe((0,g.q)(1),(0,u.h)(()=>!this.isDropZoneDisabled()),this.takeUntilDestroy()).subscribe(()=>{const t="sp-active-drop-zones",i=this.treeContainerRef.nativeElement;e?this.domManipulator.addClass(i,t):this.domManipulator.removeClass(i,t)})}}return e.\u0275fac=function(t){return new(t||e)(r.Y36(r.SBq),r.Y36(r.Qsj),r.Y36(r.zs3),r.Y36(r.sBO),r.Y36(me.m),r.Y36(I.mp),r.Y36(b.M),r.Y36(O.R),r.Y36(L.h),r.Y36(Te.o),r.Y36(Ee.r),r.Y36(P.G),r.Y36(w),r.Y36(z.c),r.Y36(x.e),r.Y36(Q.c),r.Y36(D),r.Y36(k.H),r.Y36(ve.Y),r.Y36(U.z),r.Y36(v.p),r.Y36(le.p),r.Y36(Ie.Y),r.Y36(te.E),r.Y36(de.M),r.Y36(V.P),r.Y36(M.Y),r.Y36(S.G),r.Y36(_.Z),r.Y36(N.I),r.Y36(ye.r),r.Y36(oe.p),r.Y36(Z),r.Y36(J),r.Y36(ce.N),r.Y36(Ce.t),r.Y36(xe.J),r.Y36(s.K0))},e.\u0275cmp=r.Xpm({type:e,selectors:[["sp-treegrid"]],contentQueries:function(e,t,i){if(1&e&&r.Suo(i,A.$,4),2&e){let e;r.iGM(e=r.CRH())&&(t.treeColumnCollectionQL=e)}},viewQuery:function(e,t){if(1&e&&(r.Gf(E.C,7),r.Gf(De,7),r.Gf(be,7),r.Gf(we,7),r.Gf(Se,5,pe.F),r.Gf(Ae,5,r.SBq),r.Gf(Re,7,r.SBq)),2&e){let e;r.iGM(e=r.CRH())&&(t.adjustWidthToParentDirective=e.first),r.iGM(e=r.CRH())&&(t.treeRowContainer=e.first),r.iGM(e=r.CRH())&&(t.treeRowListContainer=e.first),r.iGM(e=r.CRH())&&(t.treeInlineAddBlanket=e.first),r.iGM(e=r.CRH())&&(t.treeNodeCollectionComp=e.first),r.iGM(e=r.CRH())&&(t.treeHeaderElementRef=e.first),r.iGM(e=r.CRH())&&(t.treeContainerRef=e.first)}},inputs:{treeId:"treeId",config:"config",nodes:"nodes",actions:"actions",gridType:"gridType",markedNodeId:"markedNodeId",availableColumns:"availableColumns",timeBoxPanel:"timeBoxPanel",inlineAddConfig:"inlineAddConfig",ignoreRightClickEvent:"ignoreRightClickEvent",rightClickResolver:"rightClickResolver"},outputs:{onHierarchyAddIndicatorClick$:"onHierarchyAddIndicatorClick$",timeBoxPanelClose$:"timeBoxPanelClose$"},features:[r._Bn(ae),r.qOj,r.TTD],ngContentSelectors:Ve,decls:16,vars:18,consts:[[1,"sp-treegrid-container","sp-relative","sp-flex","sp-flex-column","sp-w-full","sp-h-full",3,"id","ngClass","spAdjustWidthToParent","spAdjustWidthToParentChildClass"],["treeContainerRef",""],["class","sp-treegrid_scroll_zone sp-treegrid_scroll_zone_top",3,"mouseenter","mouseleave",4,"ngIf"],[1,"sp-bar-loader-blanket"],[3,"perspective","groupingNestingLevel","treeId","resizeEnabled","columnDragAndDrop","headerInlineActionColumn","sp-container-scroll-enabled",4,"ngIf"],["class","sp-tree-grid-panel",4,"ngIf"],["id","sp-treegrid-row-container",1,"sp-treegrid-row-container","sp-w-full"],["treeRowContainer",""],[1,"sp-treegrid-row-list-container"],["treeRowListContainer",""],[1,"sp-treegrid-inline-add-blanket"],["treeInlineAddBlanket",""],["spRightClickIgnore","",3,"nodes","perspective","groupingNestingLevel","groupingColumnsIndentsMap","height","sp-not-selectable","isInlineDeleteDisabled","spRightClickIgnoreEnabled",4,"ngIf"],["class","sp-tree-external-drop-zone-container",3,"height",4,"ngIf"],["class","sp-treegrid_scroll_zone sp-treegrid_scroll_zone_bottom",3,"mouseenter","mouseleave",4,"ngIf"],[1,"sp-treegrid_scroll_zone","sp-treegrid_scroll_zone_top",3,"mouseenter","mouseleave"],[3,"perspective","groupingNestingLevel","treeId","resizeEnabled","columnDragAndDrop","headerInlineActionColumn"],["treeHeader",""],[1,"sp-tree-grid-panel"],[1,"sp-flex","sp-align-items-center"],[1,"sp-tree-grid-panel-message"],["id","sp-tree-grid-panel-close-btn",1,"sp-tree-grid-panel-close","sp-circle","sp-flex","sp-align-items-center","sp-justify-content-end",3,"spTooltip","spTooltipGravity","click"],[1,"far","fa-times"],["spRightClickIgnore","",3,"nodes","perspective","groupingNestingLevel","groupingColumnsIndentsMap","isInlineDeleteDisabled","spRightClickIgnoreEnabled"],["treeNodeCollection",""],[1,"sp-tree-external-drop-zone-container"],[3,"onTreeNodeDrop","isVisible"],[1,"sp-tree-external-drop-zone-content"],[1,"sp-treegrid_scroll_zone","sp-treegrid_scroll_zone_bottom",3,"mouseenter","mouseleave"]],template:function(e,t){1&e&&(r.F$t(ke),r.TgZ(0,"div",0,1),r.YNc(2,_e,1,0,"div",2),r._UZ(3,"div",3),r.YNc(4,Ne,2,9,"sp-tree-header",4),r.YNc(5,Le,8,7,"div",5),r.TgZ(6,"div",6,7),r.TgZ(8,"div",8,9),r._UZ(10,"div",10,11),r.YNc(12,Oe,2,11,"sp-tree-node-collection",12),r.qZA(),r.YNc(13,Me,3,4,"div",13),r.Hsn(14),r.qZA(),r.YNc(15,Ue,1,0,"div",14),r.qZA()),2&e&&(r.ekj("sp-tree-drop-zone-available",!t.isDropZoneDisabled())("sp-tree-cell-overflowed",t.isOverflowed()),r.Q6J("id",t.treeId)("ngClass",r.VKq(16,Be,t.treeActive))("spAdjustWidthToParent",t.isContentScrollEnabled())("spAdjustWidthToParentChildClass",".sp-treegrid-row-list-container"),r.xp6(2),r.Q6J("ngIf",t.dragInProgress),r.xp6(2),r.Q6J("ngIf",t.isColumnHeadersEnabled()),r.xp6(1),r.Q6J("ngIf",t.timeBoxPanel),r.xp6(1),r.ekj("sp-content-scroll-enabled",t.isContentScrollEnabled()),r.xp6(6),r.Q6J("ngIf",t.tree.getFlatListOfNodes()),r.xp6(1),r.Q6J("ngIf",t.isExternalDropZoneEnabled()&&t.dragInProgress),r.xp6(2),r.Q6J("ngIf",t.dragInProgress))},styles:['@keyframes fadeIn{0%{opacity:0}to{opacity:1}}@keyframes wave{0%{background-position:-500px 0}to{background-position:400px 0}}sp-treegrid sp-bar-loader{position:relative;padding-top:3px;top:28px;bottom:auto;left:0;height:1px}sp-treegrid sp-tree-node-collection{width:100%}sp-treegrid.sp-layout-ultra-compact .sp-treegrid-row,sp-treegrid.sp-layout-ultra-compact sp-tree-node-group{height:17px}sp-treegrid.sp-layout-compact .sp-treegrid-row,sp-treegrid.sp-layout-compact sp-tree-node-group{height:25px}sp-treegrid.sp-layout-compact .sp-treegrid-row.disabled:before{line-height:1.5}sp-treegrid.sp-layout-medium .sp-treegrid-row,sp-treegrid.sp-layout-medium sp-tree-node-group{height:33px}sp-treegrid.sp-layout-wide .sp-treegrid-row,sp-treegrid.sp-layout-wide sp-tree-node-group{height:49px}.sp-treegrid-container{font-size:13px;position:relative}.sp-treegrid-container.sp-active-drop-zones .sp-treegrid-row-drop-zone{display:block!important}.sp-treegrid-container.sp-tree-cell-overflowed .sp-treegrid-row-cell{overflow:hidden;white-space:nowrap;text-overflow:ellipsis}.sp-treegrid-container .sp-bar-loader-blanket{display:none;position:absolute;top:0;left:0;width:100%;height:100%;cursor:wait;z-index:20}.sp-treegrid-container.sp-active-tree{border:2px dashed var(--danger)}.sp-treegrid-container .sp-treegrid-row-container--with-time-box-panel{height:calc(100% - 41px)!important}.sp-treegrid-container .sp-treegrid-row-container{flex:1 1 auto;height:auto}.sp-treegrid-container .sp-treegrid-row-container .sp-treegrid-row-list-container{position:relative}.sp-treegrid-container .sp-treegrid-row-container .sp-treegrid-inline-add-blanket{display:none;position:absolute;width:100%;height:100%;top:0;left:0;z-index:1001}.sp-treegrid-container .sp-treegrid-row-container.sp-content-scroll-enabled{will-change:transform;overflow-y:auto;overflow-x:hidden}.sp-treegrid-container .sp-treegrid-row-container.sp-content-scroll-enabled .sp-treegrid-row-cell:last-child{justify-content:flex-start;padding:0 20px 0 10px;border-right:0}.sp-treegrid-container.sp-tree-resize-active{-webkit-user-select:none;user-select:none}.sp-treegrid-container.sp-tree-resize-active .sp-treegrid-header-cell,.sp-treegrid-container.sp-tree-resize-active .sp-treegrid-row-cell{cursor:col-resize}.sp-treegrid-container.sp-tree-resize-active .sp-treegrid-row:hover{background:transparent!important}.sp-treegrid-container.sp-tree-resize-active .sp-bar-loader-blanket{display:block;cursor:col-resize;z-index:10}.sp-treegrid-container .sp-tree-external-drop-zone-container sp-tree-external-drop-zone{display:block;width:100%;height:100%}.sp-treegrid-container .sp-tree-external-drop-zone-container sp-tree-external-drop-zone .sp-internal-drop-zone-container{display:block;width:100%;height:100%;position:relative;background:var(--blue-50);border-top:2px dashed var(--blue-300);border-bottom:2px dashed var(--blue-300);outline:none}.sp-treegrid-container .sp-tree-external-drop-zone-container sp-tree-external-drop-zone .sp-internal-drop-zone-container:after,.sp-treegrid-container .sp-tree-external-drop-zone-container sp-tree-external-drop-zone .sp-internal-drop-zone-container:before{content:"";position:absolute;top:0;outline:2px dashed var(--blue-300);height:100%}.sp-treegrid-container .sp-tree-external-drop-zone-container sp-tree-external-drop-zone .sp-internal-drop-zone-container:before{left:0}.sp-treegrid-container .sp-tree-external-drop-zone-container sp-tree-external-drop-zone .sp-internal-drop-zone-container:after{right:0}.sp-treegrid-container .sp-tree-external-drop-zone-container sp-tree-external-drop-zone .sp-internal-drop-zone-container.sp-center-zone-treegrid-container{border-top:2px dashed var(--green-300);border-bottom:2px dashed var(--green-300);background:var(--green-50)}.sp-treegrid-container .sp-tree-external-drop-zone-container sp-tree-external-drop-zone .sp-internal-drop-zone-container.sp-center-zone-treegrid-container:after,.sp-treegrid-container .sp-tree-external-drop-zone-container sp-tree-external-drop-zone .sp-internal-drop-zone-container.sp-center-zone-treegrid-container:before{top:0;outline:2px dashed var(--green-300)}.sp-treegrid-container .sp-tree-external-drop-zone-container .sp-tree-external-drop-zone-content{height:100%}sp-tree-node-collection{display:block;position:relative;width:100%;font-size:14px}.sp-not-loaded-node{position:absolute;left:0;top:0;width:100%;display:flex;align-items:center}.sp-not-loaded,.sp-not-loaded:after{height:24px;width:100%}.sp-not-loaded:after{content:"";cursor:wait;animation-duration:.8s;animation-fill-mode:forwards;animation-iteration-count:infinite;animation-name:wave;animation-timing-function:linear;background:linear-gradient(0deg,transparent,hsla(0,0%,100%,.4) 40%,hsla(0,0%,100%,.4) 60%,transparent);background-size:200%;position:absolute}sp-tree-node{display:block;position:absolute;transform:translateX(0);width:100%}sp-tree-node.sp-tree-edit-mode{z-index:1}sp-tree-node .empty-column{padding-right:16px}@keyframes not-loaded-wave{0%{background-position:200%}to{background-position:-200%}}sp-tree-node-group{width:100%;height:41px;padding:0 8px;position:absolute;display:flex;flex-flow:row nowrap;align-items:center;border-bottom:1px solid transparent}sp-tree-node-group .sp-tree-node-group-selection{width:100%;height:100%;left:0;top:0;position:absolute;display:block;content:"";pointer-events:none;transition:background-color .1s;background:rgba(222,235,255,.75);z-index:-1}sp-tree-node-group.is-collapsed .sp-tree-node-group-selection{background:linear-gradient(180deg,rgba(222,235,255,0) 0,rgba(222,235,255,.75));z-index:10}sp-tree-node-group.is-collapsed>:not(.sp-tree-node-group-selection){z-index:20}sp-tree-node-group.is-expanded{border-bottom-color:var(--gray-40)}sp-tree-node-group.is-expanded .sp-tree-node-group-line{display:block}sp-tree-node-group[data-indent-level]:after,sp-tree-node-group[data-indent-level]:before{left:0;position:absolute;display:block;background-color:var(--gray-60);content:"";pointer-events:none;z-index:-1}sp-tree-node-group[data-indent-level]:before{width:1px;height:50%;top:0;transform:translate3d(-14px,0,0)}sp-tree-node-group[data-indent-level]:after{width:28px;height:1px;top:50%;transform:translate3d(-14px,-50%,0)}sp-tree-node-group .sp-tree-toggler{margin:0 8px 0 0;color:var(--gray-100)}sp-tree-node-group .sp-tree-toggler:hover{color:var(--gray-800)}sp-tree-node-group .sp-tree-node-group-line{width:1px;height:0;left:14px;top:100%;position:absolute;display:none;background-color:var(--gray-60);z-index:-1}sp-tree-node-group .sp-tree-node-group-icon{width:16px;margin-right:4px}sp-tree-node-group .sp-tree-node-group-label-container{height:100%;display:flex;align-items:center}sp-tree-node-group .sp-tree-node-group-label{display:inline-block;overflow:hidden;font-size:14px;font-weight:500;text-overflow:ellipsis;white-space:nowrap;color:var(--gray-800);width:100%;transition:width .2s ease-in,padding-right .2s ease-in}sp-tree-node-group .sp-tree-node-group-label-hidden{width:0;padding-right:0}sp-tree-node-group .sp-tree-node-group-children-count{min-width:24px;height:16px;padding:2px 4px;display:inline-flex;align-items:center;justify-content:center;flex:0 0 auto;border-radius:10px;font-size:11px;font-weight:700;color:currentColor;transition:width .2s ease-in,padding-right .2s ease-in}sp-tree-node-group .sp-tree-node-group-children-count-hidden{min-width:0;width:0;padding:0;visibility:hidden}.sp-tree-node-group-root-line{width:1px;height:0;left:14px;top:24px;position:absolute;background-color:var(--gray-60)}.sp-treegrid-row{display:flex;width:100%;height:41px;background:var(--color-bg)}.sp-treegrid-row.node-marked{background:var(--yellow-50)}.sp-treegrid-row:hover{background-color:var(--gray-20)}.sp-treegrid-row:hover .sp-tree-drag-button i{color:var(--gray-100)}.sp-treegrid-row.node-selected{transition:background-color .1s;background:var(--blue-50)}.sp-treegrid-row.node-selected:hover{background:var(--blue-50)}.sp-treegrid-row.loading{position:absolute;top:41px;z-index:10;background:var(--color-bg);padding-top:5px}.sp-treegrid-row.loading .sp-treegrid-preloader{animation-name:fadeIn;animation-duration:.5s;width:100%}.sp-treegrid-row .sp-tree-indent{position:relative;border-left:0 solid transparent;z-index:1}.sp-treegrid-row .sp-tree-drag-button{display:flex;padding-top:0;padding-right:8px;cursor:move}.sp-treegrid-row .sp-tree-drag-button i{display:block;margin:0;padding:0;width:4px;font-size:14px;color:transparent;cursor:move}.sp-treegrid-row .sp-tree-drag-button:hover i{color:var(--gray-400)}.sp-treegrid-row .sp-treegrid-row-drop-zone{display:none;position:absolute;width:100%;margin:0;opacity:.3}.sp-treegrid-row .sp-treegrid-row-drop-zone.sp-drop-top-zone{top:-26%;height:53%;z-index:4}.sp-treegrid-row .sp-treegrid-row-drop-zone.sp-drop-center-zone{top:24%;height:53%;z-index:2}.sp-treegrid-row .sp-treegrid-row-drop-zone.sp-drop-bottom-zone{top:77%;height:50%;z-index:3}.sp-treegrid-row-add-task-zone{position:absolute;width:100%;margin:0;top:80%;height:40%;cursor:pointer;z-index:2}.sp-treegrid-row-add-task-zone:hover:before{content:"";position:absolute;width:100%;padding-bottom:3px;background-color:var(--green-300);top:50%}.sp-treegrid-row .sp-treegrid-preloader-item{display:inline-block;height:20px;width:70px;top:4px;left:52px;border-radius:var(--border-radius-m);position:relative;animation-duration:2s;animation-fill-mode:forwards;animation-iteration-count:infinite;animation-name:wave;animation-timing-function:linear;background:var(--gray-20);background-image:linear-gradient(90deg,var(--gray-20) 0,var(--gray-30) 20%,var(--gray-40) 40%,var(--gray-20) 100%);background-repeat:no-repeat;background-size:200px 26px}.sp-treegrid-row .sp-treegrid-preloader-item+.sp-treegrid-preloader-item{width:200px;margin-left:15px}.sp-treegrid-row.disabled:before{content:"No access";position:absolute;text-align:center;cursor:not-allowed;color:var(--gray-200);left:0;right:0;top:0;bottom:1px;z-index:10;line-height:2.8;background:repeating-linear-gradient(135deg,var(--gray-20),var(--gray-20) 0,var(--gray-20) 4px,var(--white) 0,var(--white) 15px)}.sp-treegrid-row .sp-treegrid-row-cell{display:flex;align-items:center;padding:0 10px;flex:0 1 auto;position:relative}.sp-treegrid-row .sp-treegrid-row-cell:last-child{flex-grow:1}.sp-treegrid-row .sp-treegrid-row-cell.sp-tree-inline-action-group{position:relative;overflow:inherit;justify-content:flex-end;padding:0}.sp-treegrid-row .sp-treegrid-row-cell.sp-tree-inline-action-group .sp-tree-inline-action-group-buttons{position:absolute;right:10px}.sp-treegrid-row .sp-treegrid-row-cell.sp-treegrid-border-none{border:0}.sp-tree-toggler{transform:rotate(0deg);transition:transform .1s ease-in-out;display:block;height:12px;width:12px;text-align:center;margin-top:2px;margin-right:8px;color:var(--gray-80);font-size:12px;cursor:pointer}.sp-tree-toggler.sp-with-lines-strategy{display:flex;align-items:center;justify-content:center;height:16px;width:16px;color:var(--gray-200);font-size:13px}.sp-tree-toggler:hover{color:var(--gray-900)}.sp-tree-toggler.sp-toggler-rotate-down{transform:rotate(90deg);transition:transform .1s ease-in-out}.sp-treegrid-row .sp-treegrid-row-cell.sp-tree-inline-action-group .sp-tree-inline-action-group-buttons,::-ms-backdrop{position:relative}.sp-dragged-container{position:absolute;list-style-type:none;padding:0;opacity:1;border:1px solid var(--blue-300);border-radius:var(--border-radius-m);z-index:6001}.sp-dragged-container,.sp-dragged-container .node-selected{background:var(--blue-50)}.sp-dragged-container.sp-layout-ultra-compact .sp-treegrid-row{height:17px}.sp-dragged-container.sp-layout-compact .sp-treegrid-row{height:25px}.sp-dragged-container.sp-layout-medium .sp-treegrid-row{height:33px}.sp-dragged-container.sp-layout-wide .sp-treegrid-row{height:49px}.sp-dragged-container .sp-treegrid-row .sp-treegrid-row-drop-zone{display:none!important}.sp-dragged-container .sp-treegrid-header-cell{background:var(--gray-20);padding-top:5px;padding-left:10px;padding-right:10px}.sp-dragged-container .sp-treegrid-header-cell .sp-header-cell-content{width:auto!important}.sp-dragged-container .sp-treegrid-header-cell .sp-resize-border{display:none}.sp-dragged-container .sp-treegrid-header-cell sp-tree-column-config-selector-icon{display:none!important}.sp-dragged-container .sp-treegrid-row-cell{overflow:hidden;white-space:nowrap;text-overflow:ellipsis}.sp-full-center-zone{width:100%;height:100%;z-index:4}.sp-top-zone-active{position:relative}.sp-top-zone-active:before{content:"";position:absolute;width:100%;padding-bottom:3px;background-color:var(--green-300);top:-2px}.sp-center-zone-active{position:relative;border-right:2px dashed var(--green-300);background-color:var(--green-50)}.sp-center-zone-active:before{top:-2px}.sp-center-zone-active:after,.sp-center-zone-active:before{content:"";position:absolute;width:100%;height:2px;border-bottom:2px dashed var(--green-300)}.sp-center-zone-active:after{bottom:0}.sp-bottom-zone-active{position:relative}.sp-bottom-zone-active:before{content:"";position:absolute;width:100%;padding-bottom:3px;background-color:var(--green-300);bottom:-1px}.sp-center-zone-treegrid-container{background:var(--green-50);outline:2px dashed var(--green-300)}.sp-bottom-zone-active .sp-treegrid-row-cell,.sp-center-zone-active .sp-treegrid-row-cell,.sp-center-zone-treegrid-container .sp-treegrid-row-cell,.sp-full-center-zone .sp-treegrid-row-cell,.sp-top-zone-active .sp-treegrid-row-cell{background:none}.sp-not-selectable{-webkit-user-select:none;user-select:none}.sp-marked-for-move{transition:background-color .1s;background:rgba(222,235,255,.5)!important}.sp-drag-counter{height:24px;width:24px;background:var(--purple-400);color:var(--white);border-radius:50%;position:absolute;bottom:-12px;left:-12px;line-height:24px;text-align:center}.sp-tree-grid-panel{display:flex;height:41px;width:100%;font-size:14px;padding:10px 20px;border-bottom:2px solid var(--gray-40)}.sp-tree-grid-panel i{color:var(--gray-400)}.sp-tree-grid-panel-close{padding:1px 6px;cursor:pointer;margin-left:2px}.sp-tree-grid-panel-close:hover{background-color:var(--gray-20)}.sp-tree-grid-panel-message{font-style:italic;color:var(--gray-300)}.sp-tree-grid-panel-message-underline{text-decoration:underline}.sp-tree-first-group-column{border-left:0}.sp-treegrid_scroll_zone_bottom_hidden .sp-treegrid_scroll_zone_bottom,.sp-treegrid_scroll_zone_top_hidden .sp-treegrid_scroll_zone_top{display:none}.sp-treegrid_scroll_zone{position:absolute;width:100%;height:100px;z-index:1}.sp-treegrid_scroll_zone_top{top:0}.sp-treegrid_scroll_zone_bottom{bottom:0}'],encapsulation:2,changeDetection:0}),e})()},98911:(e,t,i)=>{"use strict";i.d(t,{l:()=>n});var s=i(78268),r=i(94846);let n=(()=>{class e{constructor(){this.forcedResize$=new s.xQ}repaint(e){this.forcedResize$.next(e)}observeRepaint(){return this.forcedResize$.asObservable()}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=r.Yz7({token:e,factory:e.\u0275fac}),e})()},59185:(e,t,i)=>{"use strict";i.d(t,{p:()=>m});var s=i(5566),r=i(12474),n=i(14681),o=i(99998),a=i(48698),l=i(62610),d=i(94707),c=i(2732),p=i(95834),u=i(76066),h=(()=>(function(e){e.CHANGES="SPT_TREE_SHORTCUTS_GROUP_ITEM_ACTIONS_HEADER"}(h||(h={})),h))(),g=(()=>(function(e){e.ITEM_NAVIGATION="SPT_TREE_SHORTCUTS_GROUP_ITEM_NAVIGATION_HEADER",e.NEW_ITEM="SPT_TREE_SHORTCUTS_GROUP_ITEM_NAVIGATION_NEW_ITEM",e.NEW_SUB_ITEM="SPT_TREE_SHORTCUTS_GROUP_ITEM_NAVIGATION_NEW_SUB_ITEM",e.COLLAPSE_EXPAND="SPT_TREE_SHORTCUTS_GROUP_ITEM_NAVIGATION_COLLAPSE_EXPAND",e.REMOVE_SELECTION="SPT_TREE_SHORTCUTS_GROUP_ITEM_NAVIGATION_REMOVE_SELECTION"}(g||(g={})),g))(),f=i(94846);let m=(()=>{class e{constructor(e,t,i,s,r){this.selectedItemsRepository=e,this.treeCommandService=t,this.shortcutsService=i,this.treeInlineAddStorage=s,this.treeInlineAddService=r,this.treeNavigationShortcuts=[]}initShortcuts(){this.shortcutsInitialized||(this.selectedItemsRepository.changes().subscribe(e=>{this.activeTreeId=e}),this.treeNavigationGroup=this.shortcutsService.createGroup(r.x.NAVIGATION),this.treeNavigationShortcuts.push(this.shortcutsService.createContainer(g.ITEM_NAVIGATION,this.treeNavigationGroup).add(new o.z(n.s.ARROW_DOWN,()=>this.treeCommandService.selectNextItem(this.activeTreeId)).withPreventDefault()).add(new o.z(n.s.ARROW_UP,()=>this.treeCommandService.selectPreviousItem(this.activeTreeId)).withPreventDefault())),this.treeNavigationShortcuts.push(this.shortcutsService.createContainer(g.COLLAPSE_EXPAND,this.treeNavigationGroup).add(new o.z(n.s.ARROW_LEFT,()=>this.treeCommandService.collapseSelectedItem(this.activeTreeId)).withPreventDefault()).add(new o.z(n.s.ARROW_RIGHT,()=>this.treeCommandService.expandSelectedItem(this.activeTreeId)).withPreventDefault())),this.treeNavigationShortcuts.push(this.shortcutsService.createContainer(g.REMOVE_SELECTION,this.treeNavigationGroup).add(new o.z(n.s.ESCAPE,()=>{this.activeTreeId&&this.treeCommandService.unselectItems(this.activeTreeId)}).withPreventDefault())),this.shortcutsInitialized=!0)}initChangesGroup(){this.treeChangesGroup=this.shortcutsService.createGroup(h.CHANGES,{position:a.N.FORCE_TO_TOP,groupColor:s.B.VIOLET}),this.shortcutsService.createContainer(g.NEW_ITEM,this.treeChangesGroup).add(new o.z(n.s.ENTER,()=>{this.toggleToInlineAddMode(!1)})),this.shortcutsService.createContainer(g.NEW_SUB_ITEM,this.treeChangesGroup).add(new o.z(n.s.ENTER,()=>{this.toggleToInlineAddMode(!0)}).withModifier(n.s.SHIFT))}destroyShortcuts(){this.shortcutsService.removeShortcutGroup(this.treeChangesGroup),this.treeNavigationShortcuts.forEach(e=>this.shortcutsService.removeContainer(e.getName(),this.treeNavigationGroup)),this.shortcutsInitialized=!1}toggleToInlineAddMode(e){if(!this.activeTreeId)return;const t=this.selectedItemsRepository.getIds(this.activeTreeId);t.length>1||!t.length||this.treeInlineAddService.toggleToInlineAddMode(this.activeTreeId,t[0],e)}}return e.\u0275fac=function(t){return new(t||e)(f.LFG(c.G),f.LFG(u.z),f.LFG(l.L),f.LFG(p.I),f.LFG(d.j))},e.\u0275prov=f.Yz7({token:e,factory:e.\u0275fac}),e})()},89967:(e,t,i)=>{"use strict";i.d(t,{P:()=>o});var s=i(8323),r=i(3580),n=i(94846);let o=(()=>{class e extends s.V{constructor(){super(r.W.HORIZONTAL)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=n.Yz7({token:e,factory:e.\u0275fac}),e})()},29014:(e,t,i)=>{"use strict";i.d(t,{n:()=>n});var s=i(3580),r=i(94846);let n=(()=>{class e{transform(e,t){return e&s.W[t]}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275pipe=r.Yjl({name:"TreeGridGridPipe",type:e,pure:!0}),e})()},3580:(e,t,i)=>{"use strict";i.d(t,{W:()=>s});var s=(()=>(function(e){e[e.NONE=0]="NONE",e[e.HORIZONTAL=1]="HORIZONTAL",e[e.VERTICAL=2]="VERTICAL",e[e.BOTH=3]="BOTH"}(s||(s={})),s))()},9588:(e,t,i)=>{"use strict";i.d(t,{Y:()=>n});var s=i(46599),r=i(94846);let n=(()=>{class e{constructor(e){this.rendererFactory2=e,this.treeLayouts={ultra_compact:"sp-layout-ultra-compact",compact:"sp-layout-compact",medium:"sp-layout-medium",normal:"sp-layout-normal",wide:"sp-layout-wide"},this.renderer=e.createRenderer(null,null)}setLayout(e,t){this.switchLayout(t,e.getElementRef())}switchLayout(e,t){switch(e){case s.A.ULTRA_COMPACT:this.addLayoutClass(this.treeLayouts.ultra_compact,t);break;case s.A.COMPACT:this.addLayoutClass(this.treeLayouts.compact,t);break;case s.A.MEDIUM:this.addLayoutClass(this.treeLayouts.medium,t);break;case s.A.NORMAL:this.removeAllLayoutClasses(t);break;case s.A.WIDE:this.addLayoutClass(this.treeLayouts.wide,t)}}addLayoutClass(e,t){this.removeAllLayoutClasses(t),this.renderer.addClass(t.nativeElement,e)}removeAllLayoutClasses(e){Object.keys(this.treeLayouts).forEach(t=>{this.renderer.removeClass(e.nativeElement,this.treeLayouts[t])})}}return e.\u0275fac=function(t){return new(t||e)(r.LFG(r.FYo))},e.\u0275prov=r.Yz7({token:e,factory:e.\u0275fac}),e})()},35313:(e,t,i)=>{"use strict";i.d(t,{G:()=>D});var s=i(94846),r=i(74685),n=i(52933),o=i(18842),a=i(91126),l=i(42028),d=i(25705),c=i(77219),p=i(89313),u=i(93077),h=i(46085),g=i(4494),f=i(49999),m=i(61989),T=i(73309),E=i(54541),v=i(66713),I=i(45149),y=i(45085),C=i(98911);const x=new s.OlP("TREE_VIEWPORT_SCROLL_GROUP");let D=(()=>{class e extends T.b{constructor(e,t,i,s,n,o,a,l,d){super(),this.localActionDispatcher=e,this.tree=t,this.treeNodeHeight=i,this.treeRepository=s,this.scrollTriggerService=n,this.aggregateTreeId=o,this.viewportRenderRepository=a,this.treeRepaintService=l,this.treeViewportScrollGroup=d,this.startPosition=0,this.endPosition=0,this.startScrollPosition=0,this.treeRowContainerScrollTop=0,this.subscription=new r.w,this.previousV=0,this.offsetHeight=0,this.scrollPosition=0,this.REPAINT_DEBOUNCE_TIME=400,this.VIEWPORT_FACTOR=4,this.selectScrollTrigger(),this.selectLayout()}ngOnDestroy(){this.subscription.unsubscribe()}isViewPortRenderEnabled(){return this.tree.getConfig().treeViewportRenderConfiguration.enabled}attachEvents(){this.calculateNumberOfNodes(),this.tree.getConfig().treeViewportRenderConfiguration.renderViewportOnResize&&this.attachWindowResizeEvent()}setTreeContainerRef(e){this.treeContainerRef=e,this.treeContainerRef&&(this.nativeElement=this.treeContainerRef.nativeElement,this.setOffsetHeight(),this.notifyPosition(this.scrollPosition))}reduce(e=null){if(e){const t=e.target.scrollTop;if(this.notifyPosition(t),!this.checkIfShouldRebuildTreeAfterScroll(t))return}this.setTreeRowContainerScrollTop(this.nativeElement.scrollTop),this.calculateNumberOfNodes(),this.localActionDispatcher.dispatch(new f.uK)}sliceNodes(e){return 0===this.startPosition&&0===this.endPosition?[]:0===this.endPosition?[...e]:[...e.slice(this.startPosition,this.endPosition)]}setOffsetHeight(){this.offsetHeight=this.nativeElement.offsetHeight}selectScrollTrigger(){this.treeViewportScrollGroup&&this.scrollTriggerService.selectScroll(this.treeViewportScrollGroup).pipe((0,l.h)(()=>!!this.nativeElement),(0,d.b)(({scrollPosition:e})=>{this.scrollPosition=e}),(0,c.e)(0,n.Z),this.takeUntilDestroy()).subscribe(({scrollPosition:e})=>{if(!this.checkIfShouldRebuildTreeAfterScroll(e))return;this.offsetHeight||this.setOffsetHeight();const t=this.treeNodeHeight.getNodeHeight();Math.abs(e-this.previousV)>1*t&&(this.setTreeRowContainerScrollTop(e),this.calculateNumberOfNodes(),this.localActionDispatcher.dispatch(new f.uK),this.previousV=e)})}calculateNumberOfNodes(){const e=this.getTreeRowContainerHeight(),t=this.treeNodeHeight.getNodeHeight(),i=this.getNumberOfAdditionalTaskInViewport();if(!e)return this.startPosition=0,void(this.endPosition=0);const s=Math.ceil(e/t)+i,r=Math.floor(this.treeRowContainerScrollTop/t);this.startPosition=Math.max(r-i,0),this.endPosition=r+s}notifyPosition(e){const t=Math.ceil(this.getTreeRowContainerHeight()/this.treeNodeHeight.getNodeHeight()),i=Math.floor(e/this.treeNodeHeight.getNodeHeight());this.viewportRenderRepository.set(this.tree.getAggregateTreeId(),{startPosition:i,endPosition:i+t,nodeHeight:this.treeNodeHeight.getNodeHeight()})}attachWindowResizeEvent(){const e=this.treeRepaintService.observeRepaint().pipe((0,l.h)(e=>!!e.find(e=>this.aggregateTreeId.toString()===e)),(0,p.O)(0)),t=(0,o.R)(window,"resize").pipe((0,p.O)(0));this.subscription.add((0,a.aj)([e,t]).pipe((0,u.b)(this.REPAINT_DEBOUNCE_TIME),this.takeUntilDestroy()).subscribe(()=>{this.setTreeContainerRef(this.treeContainerRef),this.calculateNumberOfNodes(),this.localActionDispatcher.dispatch(new f.uK),this.notifyPosition(this.scrollPosition)}))}checkIfShouldRebuildTreeAfterScroll(e){const t=this.treeNodeHeight.getNodeHeight();let i=!0;if(e>this.startScrollPosition)(e-this.startScrollPosition)/t<this.getNumberOfAdditionalTaskInViewport()/this.VIEWPORT_FACTOR?i=!1:(this.startScrollPosition=e,i=!0);else{if((this.startScrollPosition-e)/t<this.getNumberOfAdditionalTaskInViewport()/this.VIEWPORT_FACTOR)return!1;this.startScrollPosition=e,i=!0}return i}getTreeRowContainerHeight(){return this.offsetHeight}setTreeRowContainerScrollTop(e){this.treeRowContainerScrollTop=e}getNumberOfAdditionalTaskInViewport(){return this.tree.getConfig().treeViewportRenderConfiguration.additionalTasksInViewport}selectLayout(){this.treeRepository.select(this.aggregateTreeId).pipe(this.takeUntilDestroy()).subscribe(e=>{this.layout=e.getLayout(),this.setTreeRowContainerScrollTop(this.startScrollPosition),this.calculateNumberOfNodes(),this.localActionDispatcher.dispatch(new f.uK)})}}return e.\u0275fac=function(t){return new(t||e)(s.LFG(E.c),s.LFG(g.mp),s.LFG(v.M),s.LFG(I.a),s.LFG(h.bb),s.LFG(y.H),s.LFG(m.T),s.LFG(C.l,8),s.LFG(x,8))},e.\u0275prov=s.Yz7({token:e,factory:e.\u0275fac}),e})()},61989:(e,t,i)=>{"use strict";i.d(t,{T:()=>n});var s=i(69268),r=i(94846);let n=(()=>{class e extends s.g{}return e.\u0275fac=function(){let t;return function(i){return(t||(t=r.n5z(e)))(i||e)}}(),e.\u0275prov=r.Yz7({token:e,factory:e.\u0275fac}),e})()},22419:(e,t,i)=>{"use strict";i.d(t,{j:()=>a});var s=i(78268),r=i(42028),n=i(68387),o=i(94846);let a=(()=>{class e{constructor(){this.nodeExpand$=new s.xQ,this.expandedNodesMap=new Map}expandNode(e){this.expandedNodesMap.set(e,!1),this.nodeExpand$.next(e)}collapseNode(e){this.expandedNodesMap.set(e,!0),this.nodeExpand$.next(e)}selectExpandedNode(e){return this.nodeExpand$.pipe((0,r.h)(t=>t===e),(0,n.U)(e=>this.expandedNodesMap.get(e)))}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=o.Yz7({token:e,factory:e.\u0275fac}),e})()},23110:(e,t,i)=>{"use strict";i.d(t,{N:()=>de});var s=i(94846),r=i(68387),n=i(30159),o=i(49999),a=i(4494),l=(i(87815),i(53752));const d=e=>`column_${e.getId()}_${e.nodeIndex}_${e.nodeLevel}`;var c=i(50533),p=i(59887),u=i(55977),h=i(45085),g=i(89932),f=i(76066),m=i(22203),T=i(98549),E=i(61562),v=i(57057),I=i(52402),y=i(11578),C=i(54541),x=i(45856),D=i(18660),b=i(22419),w=i(92473),S=i(4562),A=i(19812),R=i(48516),_=i(89830),N=i(49501),L=i(21444),O=i(32242),F=i(74970),M=i(67999),U=i(71402),k=i(12315),B=i(97259),V=i(29014),G=i(30909);function P(e,t){if(1&e&&(s.ynx(0),s._UZ(1,"sp-tree-active-drop-zone",9),s.BQk()),2&e){s.oxw(2);const e=s.MAs(1),t=s.oxw();s.xp6(1),s.Q6J("id","sp-tree-active-top-drop-zone-"+t.tree.getTreeId()+"-"+t.getNodeIdForView())("node",t.node)("nodeIndex",t.node.nodeIndex)("draggedTreeRow",e)("spTreeDropEnabled",!t.selectedChild&&!t.prevNodeSelected)("onTreeNodeDrop",t.onActiveZoneTreeDrop(t.node.nodeIndex))}}function Y(e,t){if(1&e){const e=s.EpF();s.ynx(0),s.TgZ(1,"div",10),s.NdJ("treeDrop",function(t){return s.CHM(e),s.oxw(3).onTreeDrop(t)}),s.qZA(),s.BQk()}if(2&e){s.oxw(2);const e=s.MAs(1),t=s.oxw();s.xp6(1),s.Q6J("id","sp-tree-active-center-drop-zone-"+t.tree.getTreeId()+"-"+t.getNodeIdForView())("spTreeDrop",t.node)("spTreeDropEnabled",!t.selectedChild&&t.isDragAndDropEnabled())("spTreeDropDraggedRow",e)("spTreeDropNodeIndex",-1)}}function Z(e,t){if(1&e&&(s.ynx(0),s._UZ(1,"sp-tree-active-drop-zone",11),s.BQk()),2&e){s.oxw(2);const e=s.MAs(1),t=s.oxw();s.xp6(1),s.Q6J("id","sp-tree-active-bottom-drop-zone-"+t.tree.getTreeId()+"-"+t.getNodeIdForView())("node",t.node)("nodeIndex",t.node.nodeIndex+1)("draggedTreeRow",e)("spTreeDropEnabled",!t.selectedChild&&!t.nextNodeSelected)("onTreeNodeDrop",t.onActiveZoneTreeDrop(t.node.nodeIndex+1))}}function z(e,t){if(1&e&&(s.ynx(0),s.YNc(1,P,2,6,"ng-container",5),s.YNc(2,Y,2,5,"ng-container",5),s.YNc(3,Z,2,6,"ng-container",5),s.BQk()),2&e){const e=s.oxw(2);s.xp6(1),s.Q6J("ngIf",e.isDropZonesEnabled().topZone&&e.getTreeDropZonesResolver().isDropZoneTopEnabled(e.node)),s.xp6(1),s.Q6J("ngIf",e.isDropZonesEnabled().centerZone&&e.getTreeDropZonesResolver().isDropZoneCenterEnabled(e.node)),s.xp6(1),s.Q6J("ngIf",e.last&&e.isDropZonesEnabled().bottomZone&&e.getTreeDropZonesResolver().isDropZoneBottomEnabled(e.node))}}function J(e,t){if(1&e){const e=s.EpF();s.TgZ(0,"sp-tree-node-group",12),s.NdJ("click",function(t){return s.CHM(e),s.oxw(2).onNodeClick(t)})("dblclick",function(){return s.CHM(e),s.oxw(2).onNodeDblClick()}),s.qZA()}if(2&e){const e=s.oxw(2);s.Udp("width",e.treeNodeIndentService.resolveCalcRowWidth(e.node,e.groupingIndentSize)),s.ekj("node-marked",e.isMarked())("disabled",e.isDisabled())("leaf",e.leaf)("sp-marked-for-move",e.selectedChild&&!e.selected),s.Q6J("node",e.node)("isSelected",e.isSelectionEnabled()&&e.selected)}}function H(e,t){if(1&e){const e=s.EpF();s.TgZ(0,"div",18),s.NdJ("mouseenter",function(){return s.CHM(e),s.oxw(5).activateDragHandle()}),s._UZ(1,"i",19),s._UZ(2,"i",19),s.qZA()}if(2&e){const e=s.oxw(5);s.Q6J("id","sp-tree-drag-button-"+e.tree.getTreeId()+"-"+e.getDashedId(e.node.id))}}function q(e,t){if(1&e){const e=s.EpF();s.TgZ(0,"div",20),s.NdJ("mouseenter",function(){return s.CHM(e),s.oxw(5).activateDragHandle()}),s._UZ(1,"i",19),s._UZ(2,"i",19),s.qZA()}if(2&e){s.oxw(4);const e=s.MAs(1),t=s.oxw();s.Q6J("id","sp-tree-drag-button-"+t.isDraggingActivated()+t.tree.getTreeId()+"-"+t.getDashedId(t.node.id))("spTreeDragEnabled",!0)("spTreeDrag",t.node)("spTreeDragTreeRow",e)("spTreeDragStickyRow",t.isStickyDragRowEnabled())}}function Q(e,t){if(1&e&&(s.ynx(0),s.YNc(1,H,3,1,"div",16),s.YNc(2,q,3,5,"div",17),s.BQk()),2&e){const e=s.oxw(4);s.xp6(1),s.Q6J("ngIf",!e.isDragHandleActivated),s.xp6(1),s.Q6J("ngIf",e.isDragHandleActivated)}}function $(e,t){1&e&&s._UZ(0,"div",21)}function j(e,t){if(1&e&&(s.ynx(0),s.YNc(1,Q,3,2,"ng-container",5),s.YNc(2,$,1,0,"div",15),s.BQk()),2&e){const e=s.oxw(3);s.xp6(1),s.Q6J("ngIf",e.isDragAndDropEnabled()&&e.getTreeDropZonesResolver().isDragNodeEnable(e.node)),s.xp6(1),s.Q6J("ngIf",!(e.isDragAndDropEnabled()&&e.getTreeDropZonesResolver().isDragNodeEnable(e.node)))}}function W(e,t){if(1&e&&s._UZ(0,"sp-tree-row-hierarchy",22),2&e){const e=s.oxw().$implicit,t=s.oxw(2);s.Q6J("node",t.node)("dragButton",e.dragButton)("strategy",t.getTreeRowStrategy())}}function K(e,t){1&e&&s.GkF(0)}function X(e,t){if(1&e&&(s.ynx(0),s.YNc(1,K,1,0,"ng-container",23),s.BQk()),2&e){const e=s.oxw(2).$implicit,t=s.oxw(2);s.xp6(1),s.Q6J("ngTemplateOutlet",null==e?null:e.template)("ngTemplateOutletContext",t.contextMap.get(e.id))}}function ee(e,t){if(1&e&&(s.ynx(0),s._UZ(1,"sp-field-value",24),s.BQk()),2&e){const e=s.oxw(2).$implicit,t=s.oxw(2);s.xp6(1),s.Q6J("entityId",t.getEntityId(e))("fieldDefinition",t.contextMap.get(e.id).fieldDefinition)}}function te(e,t){if(1&e&&(s.ynx(0),s.YNc(1,X,2,2,"ng-container",5),s.YNc(2,ee,2,2,"ng-container",5),s.BQk()),2&e){const e=s.oxw(3);s.xp6(1),s.Q6J("ngIf",e.selectedTreePerspective!==e.treePerspectiveStrategy.VIEW),s.xp6(1),s.Q6J("ngIf",e.selectedTreePerspective===e.treePerspectiveStrategy.VIEW)}}function ie(e,t){if(1&e&&(s.TgZ(0,"div",13),s.ALo(1,"TreeGridGridPipe"),s.YNc(2,j,3,2,"ng-container",5),s.YNc(3,W,1,3,"sp-tree-row-hierarchy",14),s.YNc(4,te,3,2,"ng-container",5),s.ALo(5,"spTreeColumnAvailable"),s.qZA()),2&e){const e=t.$implicit,i=t.index,r=s.oxw(2);s.Gre("sp-treegrid-row-cell ",e.cssClass,""),s.Udp("margin-left",r.treeNodeIndentService.calculateColumnIndent(r.node,i,r.groupingColumnsIndentsMap),"px")("border-left",r.treeNodeIndentService.resolveColumnLeftBorder(r.node,i))("flex",e.flex),s.ekj("sp-tree-expand-column",e.treeExpand),s.Q6J("spTreeCssClass",r.isCustomCssClassEnabled())("spTreeCssClassTreeNode",r.node)("spTreeCssClassTreeColumn",e)("spTreeCssClassColumnPosition",i)("ngClass",s.xi3(1,23,r.treeGridGridType,"VERTICAL")?"sp-border-right-1":"sp-border-right-transparent-1")("id","sp-treegrid-row-cell-"+i),s.uIk("data-grouping",r.treeNodeGroupColumnSelectorFactory(r.node))("column-name",e.header.toLocaleLowerCase())("column-index",i),s.xp6(2),s.Q6J("ngIf",e.dragButton),s.xp6(1),s.Q6J("ngIf",e.treeExpand&&!r.isDisabled()&&!r.isGroupNode),s.xp6(1),s.Q6J("ngIf",s.xi3(5,26,e,r.node))}}function se(e,t){if(1&e){const e=s.EpF();s.TgZ(0,"button",29),s.NdJ("click",function(){return s.CHM(e),s.oxw(3).toggleEditMode()}),s._uU(1," Edit "),s.qZA()}if(2&e){const e=s.oxw(3);s.Q6J("id","sp-treegrid-row-"+e.index+"-edit-button")}}function re(e,t){if(1&e){const e=s.EpF();s.TgZ(0,"button",30),s.NdJ("spConfirmDialogOnSubmit",function(){s.CHM(e);const t=s.oxw(3);return t.clickInlineDelete(t.node)}),s._uU(1," Delete "),s.qZA()}if(2&e){const e=s.oxw(3);s.Q6J("spConfirmDialogGravity",e.gravity.WEST)("disabled",e.isInlineDeleteDisabled)}}function ne(e,t){if(1&e&&(s.TgZ(0,"div",25),s.TgZ(1,"sp-button-group",26),s.YNc(2,se,2,1,"button",27),s.YNc(3,re,2,2,"button",28),s.qZA(),s.qZA()),2&e){const e=s.oxw(2);s.Udp("flex","0 0 10%"),s.xp6(2),s.Q6J("ngIf",e.isInlineEditEnabled()),s.xp6(1),s.Q6J("ngIf",e.isInlineDeleteEnabled())}}function oe(e,t){if(1&e){const e=s.EpF();s.TgZ(0,"div",3,4),s.NdJ("click",function(t){return s.CHM(e),s.oxw().onNodeClick(t)})("dblclick",function(){return s.CHM(e),s.oxw().onNodeDblClick()}),s.ALo(2,"TreeGridGridPipe"),s.YNc(3,z,4,3,"ng-container",5),s.YNc(4,J,1,12,"sp-tree-node-group",6),s.YNc(5,ie,6,29,"div",7),s.YNc(6,ne,4,4,"div",8),s.qZA()}if(2&e){const e=s.oxw();s.Udp("margin-left",e.treeNodeIndentService.calculateRowIndent(e.node,e.groupingIndentSize),"px")("width",e.treeNodeIndentService.resolveCalcRowWidth(e.node,e.groupingIndentSize)),s.ekj("node-marked",e.isMarked())("disabled",e.isDisabled())("leaf",e.leaf)("node-selected",e.isSelectionEnabled()&&e.selected)("sp-marked-for-move",e.selectedChild&&!e.selected),s.Q6J("spTreeCssClass",e.isCustomCssClassEnabled())("spTreeCssClassTreeNode",e.node)("ngClass",s.xi3(2,24,e.treeGridGridType,"HORIZONTAL")?"sp-border-bottom-1":"sp-border-bottom-transparent-1"),s.uIk("data-treeNodeId",e.node.id)("data-nodeLevel",e.node.nodeLevel)("id","sp-treegrid-row-"+e.index),s.xp6(3),s.Q6J("ngIf",e.isDragAndDropEnabled()&&e.isDragging),s.xp6(1),s.Q6J("ngIf",e.isGroupNode),s.xp6(1),s.Q6J("ngForOf",e.treeColumns),s.xp6(1),s.Q6J("ngIf",e.isInlineEditEnabled()||e.isInlineDeleteEnabled())}}function ae(e,t){1&e&&(s.TgZ(0,"div",31),s.TgZ(1,"div",32),s._UZ(2,"div",33),s._UZ(3,"div",33),s.qZA(),s.qZA())}function le(e,t){if(1&e){const e=s.EpF();s.TgZ(0,"sp-tree-inline-edit-row",34),s.NdJ("onCloseRow",function(){return s.CHM(e),s.oxw().exitEditMode()}),s.qZA()}if(2&e){const e=s.oxw();s.Q6J("node",e.node)("treeColumns",e.treeColumns)}}let de=(()=>{class e extends g.H{constructor(e,t,i,r,n,o,a,l,c,u,h,g,f,m,T,E){super(e,t),this.tree=i,this.treeNodeIndentService=r,this.changeDetectorRef=n,this.localActions$=o,this.localActionDispatcher=a,this.internalEventHandler=l,this.treeNodeContextFactory=c,this.treeQueryService=u,this.treeCommandService=h,this.aggregateTreeId=g,this.nodeExpandService=f,this.dragStateRepository=m,this.dropDestinationRepository=T,this.selectedTreePerspective=E,this.last=!1,this.selected=!1,this.selectedChild=!1,this.nextNodeSelected=!1,this.prevNodeSelected=!1,this.selectNode=new s.vpe,this.editMode=!1,this.treeColumns=[],this.contextMap=new Map,this.gravity=p.X,this.leaf=!1,this.groupingIndentSize=0,this.isGroupNode=!1,this.isDragging=!1,this.isDraggingButtonActivated=!0,this.isDragHandleActivated=!1,this.treePerspectiveStrategy=v.c,this.treeNodeGroupColumnSelectorFactory=d,this.innerElementRef=e}ngOnChanges(t){(t.perspective||t.node)&&this.updatePerspective(),t.node&&(this.isLeaf(),this.isGroup()),t.groupingNestingLevel&&(this.groupingIndentSize=(Number(this.groupingNestingLevel)||0)*e.INDENT_SIZE),this.createContextMap()}ngOnInit(){this.getTreeConfig().inlineEdit&&this.localActions$.ofTreeAction(o.MF.ENTER_EDIT_MODE).pipe((0,r.U)(e=>e.payload),this.takeUntilDestroy()).subscribe(e=>{this.editMode&&e!==this.node.id?this.exitEditMode():this.editMode||e!==this.node.id||this.enterEditMode()}),this.nodeExpandService.selectExpandedNode(this.node.id).pipe(this.takeUntilDestroy()).subscribe(e=>{this.toggleExpandState(e)}),this.selectIsDragging()}getTreeDropZonesResolver(){return this.getTreeConfig().treeDropZonesResolver}onNodeClick(e){const t=e.target;t.className&&t.className.indexOf&&0===t.className.indexOf("sp-tree-toggler")&&(e.stopPropagation(),this.toggleExpand())}onNodeDblClick(){this.isSelectionEnabled()&&this.getTreeConfig().customActions.onNodeDblClick(this.node)}createContextMap(){this.contextMap.clear();for(let e=0;e<this.treeColumns.length;e++){const t=this.treeColumns[e];this.contextMap.set(t.id,this.treeNodeContextFactory.create(t,this.node,this.node.nodeIndex))}}isExpandEnabled(){return!this.getTreeConfig().blockExpand}toggleExpand(){this.toggleExpandState(this.node.isExpanded())}expand(){this.setExpandState(!0)}getNodeIdForView(){return`${e.TREE_NODE_ID_PREFIX}${m.I.dashedWithoutSpaceId(this.node.getId())}`}getGroupNodeType(){return this.node.getIsGroup()?"GROUP":"LEAF"}getDashedId(e){return m.I.dashedWithoutSpaceId(e)}collapse(){this.setExpandState(!1)}isMarked(){return this.getTreeConfig().compareMarkedNodes(this.node,this.tree.markedNodeId)}isDisabled(){return this.getTreeConfig().isDisabled(this.node.getRawTreeNode())}isDragAndDropEnabled(){return this.getTreeConfig().dragAndDrop}isStickyDragRowEnabled(){return this.getTreeConfig().stickyDragRow}isLoading(){return this.getTreeConfig().isNodeLoadingAnimationEnabled()&&this.tree.isLoading(this.node.data.id)}isDropZonesEnabled(){return this.getTreeConfig().dropZones}isSelectionEnabled(){return this.getTreeConfig().selectNode}isLeaf(){this.leaf=this.node.children&&0===this.node.children.length}isGroup(){this.isGroupNode=this.node.getIsGroup()}onTreeDrop(e){this.treeCommandService.dropItems(new h.H(e),this.node,0)}onActiveZoneTreeDrop(e){return t=>{this.dropDestinationRepository.setDropDestination(this.tree),this.treeCommandService.dropItems(new h.H(t),this.node.getParent(),e)}}isInlineEditEnabled(){return this.getTreeConfig().inlineEdit&&this.inlineEditEnabled}isInlineDeleteEnabled(){return this.getTreeConfig().inlineDelete&&this.inlineDeleteEnabled}toggleEditMode(){this.editMode?this.exitEditMode():(this.enterEditMode(),this.localActionDispatcher.dispatch(new o.$I(this.node.id)))}exitEditMode(){this.editMode=!1,this.domManipulator.removeHostClass("sp-tree-edit-mode"),this.localActionDispatcher.dispatch(new o.s5),this.changeDetectorRef.detectChanges()}isAnimationEnabled(){return this.getTreeConfig().collapseAnimation}clickInlineDelete(e){this.internalEventHandler.dispatch(new l.q9(e))}isCustomCssClassEnabled(){return this.getTreeConfig().customTreeCssClass}getNodeLevel(){return this.node&&this.node.nodeLevel}getTreeRowStrategy(){return this.getTreeConfig().treeRowHierarchyStrategy}spRightMouseClicked(){this.selectNode.emit(this.node)}activateDragHandle(){this.isDragHandleActivated=!0,this.isDraggingButtonActivated=!0,this.changeDetectorRef.detectChanges()}getEntityId(e){const t=this.contextMap.get(e.id).entity;return t?t.id:""}isDraggingActivated(){return this.isDraggingButtonActivated?"activated-":""}getHostClasses(){return["sp-tree-node"]}getTreeConfig(){return this.tree.getConfig()}toggleExpandState(e){const t=e?new o.Ce(this.node):new o.EQ(this.node);this.localActionDispatcher.dispatch(t),this.isExpandEnabled()&&this.tree.expandNode(this.node.id,!e)}setExpandState(e){const t=e?new o.EQ(this.node):new o.Ce(this.node);this.localActionDispatcher.dispatch(t),this.isExpandEnabled()&&this.tree.expandNode(this.node.id,!e)}updatePerspective(){if(!this.perspective||!this.node)return void(this.treeColumns=[]);const e=this.perspective.getCollectionByNode(this.node);this.treeColumns=e.getTreeColumns(),this.inlineDeleteEnabled=e.getInlineDelete(),this.inlineEditEnabled=e.getInlineEdit()}enterEditMode(){this.editMode=!0,this.domManipulator.addHostClass("sp-tree-edit-mode"),this.changeDetectorRef.detectChanges()}selectIsDragging(){this.dragStateRepository.select().pipe((0,n.x)(),this.takeUntilDestroy()).subscribe(e=>{this.isDragging&&!e&&(this.isDraggingButtonActivated=!1,this.selected||this.deactivateDragHandle()),this.isDragging=e,this.changeDetectorRef.detectChanges()})}deactivateDragHandle(){(0,T.H)().pipe(this.takeUntilDestroy()).subscribe(()=>{this.isDragHandleActivated=!1})}}return e.TREE_NODE_ID_PREFIX="sp-tree-",e.INDENT_SIZE=28,e.\u0275fac=function(t){return new(t||e)(s.Y36(s.SBq),s.Y36(s.Qsj),s.Y36(a.mp),s.Y36(I.f),s.Y36(s.sBO),s.Y36(y.e),s.Y36(C.c),s.Y36(x.c),s.Y36(D.R),s.Y36(u.p),s.Y36(f.z),s.Y36(h.H),s.Y36(b.j),s.Y36(c.N),s.Y36(w.J),s.Y36(E.o,8))},e.\u0275cmp=s.Xpm({type:e,selectors:[["sp-tree-node"]],hostVars:3,hostBindings:function(e,t){2&e&&(s.Ikx("id",t.getNodeIdForView()),s.uIk("data-nodelevel",t.getNodeLevel())("group-node-type",t.getGroupNodeType()))},inputs:{node:"node",last:"last",perspective:"perspective",selected:"selected",selectedChild:"selectedChild",nextNodeSelected:"nextNodeSelected",prevNodeSelected:"prevNodeSelected",treeGridGridType:"treeGridGridType",index:"index",groupingNestingLevel:"groupingNestingLevel",groupingColumnsIndentsMap:"groupingColumnsIndentsMap",selectedNodes:"selectedNodes",isInlineDeleteDisabled:"isInlineDeleteDisabled"},outputs:{selectNode:"selectNode"},features:[s.qOj,s.TTD],decls:4,vars:3,consts:[["class","sp-treegrid-row sp-treegrid-datarow",3,"spTreeCssClass","spTreeCssClassTreeNode","node-marked","disabled","leaf","node-selected","sp-marked-for-move","ngClass","margin-left","width","click","dblclick",4,"ngIf","ngIfElse"],["class","sp-treegrid-row loading",4,"ngIf"],["inlineEditRow",""],[1,"sp-treegrid-row","sp-treegrid-datarow",3,"spTreeCssClass","spTreeCssClassTreeNode","ngClass","click","dblclick"],["treeGridRow",""],[4,"ngIf"],[3,"node","isSelected","node-marked","disabled","leaf","sp-marked-for-move","width","click","dblclick",4,"ngIf"],[3,"spTreeCssClass","spTreeCssClassTreeNode","spTreeCssClassTreeColumn","spTreeCssClassColumnPosition","ngClass","sp-tree-expand-column","class","margin-left","border-left","flex","id",4,"ngFor","ngForOf"],["class","sp-treegrid-row-cell sp-tree-inline-action-group",3,"flex",4,"ngIf"],[1,"sp-treegrid-row-drop-zone","sp-drop-top-zone",3,"id","node","nodeIndex","draggedTreeRow","spTreeDropEnabled","onTreeNodeDrop"],[1,"sp-treegrid-row-drop-zone","sp-drop-center-zone",3,"id","spTreeDrop","spTreeDropEnabled","spTreeDropDraggedRow","spTreeDropNodeIndex","treeDrop"],[1,"sp-treegrid-row-drop-zone","sp-drop-bottom-zone",3,"id","node","nodeIndex","draggedTreeRow","spTreeDropEnabled","onTreeNodeDrop"],[3,"node","isSelected","click","dblclick"],[3,"spTreeCssClass","spTreeCssClassTreeNode","spTreeCssClassTreeColumn","spTreeCssClassColumnPosition","ngClass","id"],[3,"node","dragButton","strategy",4,"ngIf"],["class","empty-column",4,"ngIf"],["class","sp-tree-drag-button",3,"id","mouseenter",4,"ngIf"],["class","sp-tree-drag-button",3,"id","spTreeDragEnabled","spTreeDrag","spTreeDragTreeRow","spTreeDragStickyRow","mouseenter",4,"ngIf"],[1,"sp-tree-drag-button",3,"id","mouseenter"],["aria-hidden","true",1,"fa","fa-ellipsis-v"],[1,"sp-tree-drag-button",3,"id","spTreeDragEnabled","spTreeDrag","spTreeDragTreeRow","spTreeDragStickyRow","mouseenter"],[1,"empty-column"],[3,"node","dragButton","strategy"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"entityId","fieldDefinition"],[1,"sp-treegrid-row-cell","sp-tree-inline-action-group"],[1,"sp-tree-inline-action-group-buttons"],["sp-button","","class","sp-tree-inline-edit",3,"id","click",4,"ngIf"],["sp-button","","spConfirmDialogConfirmButtonTitle","Delete","spConfirmDialogMessage","Are you sure? This action must be confirmed.","class","sp-tree-confirm-button",3,"spConfirmDialog","spConfirmDialogGravity","disabled","spConfirmDialogOnSubmit",4,"ngIf"],["sp-button","",1,"sp-tree-inline-edit",3,"id","click"],["sp-button","","spConfirmDialogConfirmButtonTitle","Delete","spConfirmDialogMessage","Are you sure? This action must be confirmed.",1,"sp-tree-confirm-button",3,"spConfirmDialog","spConfirmDialogGravity","disabled","spConfirmDialogOnSubmit"],[1,"sp-treegrid-row","loading"],[1,"sp-treegrid-preloader"],[1,"sp-treegrid-preloader-item"],[3,"node","treeColumns","onCloseRow"]],template:function(e,t){if(1&e&&(s.YNc(0,oe,7,27,"div",0),s.YNc(1,ae,4,0,"div",1),s.YNc(2,le,1,2,"ng-template",null,2,s.W1O)),2&e){const e=s.MAs(3);s.Q6J("ngIf",!t.editMode||t.isGroupNode)("ngIfElse",e),s.xp6(1),s.Q6J("ngIf",t.isLoading())}},directives:[S.O5,A.R,S.mk,S.sg,R.b,_.V,N.a,L.O,O.q,S.tP,F.$,M.K,U.r,k.b,B.I],pipes:[V.n,G.R],encapsulation:2,changeDetection:0}),e})()},18660:(e,t,i)=>{"use strict";i.d(t,{R:()=>r});var s=i(94846);let r=(()=>{class e{create(e,t,i){return{template:e.template,column:e,rawTreeNode:e.field?t.getRawTreeNode()[e.field]:t.getRawTreeNode(),data:e.field?t.getData()[e.field]:t.getData(),dataIndex:i,node:t}}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=s.Yz7({token:e,factory:e.\u0275fac}),e})()},77524:(e,t,i)=>{"use strict";i.d(t,{a:()=>o});var s=i(5566),r=i(94846),n=i(82376);let o=(()=>{class e{constructor(e){this.sanitizer=e}getBackgroundImage(e,t,i){if(!e)return null;const s=t&&i?this.getStepsExpanded(e):this.getStepsCollapsedOrWithoutChildren(e);return this.createGradientSafeStyle(s)}getGroupLabelBackgroundImage(e,t,i,s){if(!e)return null;const r=t&&i?this.getStepsExpanded(e,!0,s):this.getStepsCollapsedOrWithoutChildren(e);return this.createGradientSafeStyle(r)}createGradientSafeStyle(e){return this.sanitizer.bypassSecurityTrustStyle(`linear-gradient(to bottom, ${e.join(", ")})`)}getStepsCollapsedOrWithoutChildren(e){return[`${e.backgroundStyle} 0%`,`${e.backgroundStyle} 2px`,`${e.subtleBackgroundStyle} 3px`,`${e.subtleBackgroundStyle} 100%`]}getStepsExpanded(e,t=!1,i=!1){const s=this.resolveEndColor(t,i);return[`${e.backgroundStyle} 0%`,`${e.backgroundStyle} 2px`,`${e.subtleBackgroundStyle} 3px`,`${e.subtleBackgroundStyle} 6px`,`${s} 100%`]}resolveEndColor(e,t){return e?t?s.I.SELECTED_ROW:"rgba(255, 255, 255, 1)":"rgba(255, 255, 255, 0)"}}return e.\u0275fac=function(t){return new(t||e)(r.LFG(n.H7))},e.\u0275prov=r.Yz7({token:e,factory:e.\u0275fac}),e})()},2772:(e,t,i)=>{"use strict";i.d(t,{m:()=>d});var s=i(68387),r=i(30159),n=i(55977),o=i(73309),a=i(94846),l=i(45085);class d extends o.b{constructor(e,t){super(),this.aggregateTreeId=e,this.treeQueryService=t,this.selectLayout()}static getInitialChildrenCount(){return Object.assign({},d.INITIAL_CHILDREN_COUNT_STATE)}countChildren(e){const t=d.getInitialChildrenCount();return e&&e.hasChildren()?e.getChildren().reduce((e,t)=>{const i=this.countChildren(t),s=t.getIsGroup();return{all:1+e.all+i.all,nonGroup:Number(!s)+e.nonGroup+i.nonGroup}},t):t}getGroupWithChildrenHeight(e){return this.layout*this.countChildren(e).all}selectLayout(){this.treeQueryService.select(this.aggregateTreeId).pipe((0,s.U)(e=>e.getLayout()),(0,r.x)(),this.takeUntilDestroy()).subscribe(e=>{this.layout=e})}}d.INITIAL_CHILDREN_COUNT_STATE=Object.freeze({all:0,nonGroup:0}),d.\u0275fac=function(e){return new(e||d)(a.LFG(l.H),a.LFG(n.p))},d.\u0275prov=a.Yz7({token:d,factory:d.\u0275fac})},49501:(e,t,i)=>{"use strict";i.d(t,{a:()=>_});var s=i(68387),r=i(30159),n=i(5566),o=i(92787),a=i(55977),l=(i(4494),i(77524)),d=i(2772);class c{static getNonGroupChildrenCountTooltip(e,t){return`${e} item${e>1?"s":""} in the "${t}" group`}static getToggleGroupingLabelTooltip(e,t){return`${e}. Click to ${t?"hide":"show"} group name.`}}var p=i(46599),u=i(89932),h=i(59887),g=i(94846),f=i(82376),m=i(45085),T=i(4562),E=i(36713),v=i(16497),I=i(35959),y=i(1836),C=i(81802);const x=["groupLabelContainer"],D=["groupLabel"],b=["groupChildrenCount"];function w(e,t){1&e&&g._UZ(0,"div",9)}function S(e,t){if(1&e&&g._UZ(0,"span",10),2&e){const e=g.oxw();g.ekj("sp-toggler-rotate-down",e.isExpanded)}}function A(e,t){if(1&e&&(g.TgZ(0,"span",11,12),g.ALo(2,"spSanitize"),g.ALo(3,"spSanitize"),g.ALo(4,"spRichTextI18n"),g._uU(5),g.qZA()),2&e){const e=g.oxw();g.Udp("background-color",g.xi3(2,7,e.color.backgroundStyle,"style"))("color",g.xi3(3,10,e.color.colorStyle,"style")),g.Q6J("spTooltipGravity",e.Gravity.NORTH)("spTooltip",g.lcZ(4,13,e.groupingTooltip)),g.xp6(5),g.hij(" ",e.nonGroupChildrenCount," ")}}function R(e,t){if(1&e&&g._UZ(0,"div",13),2&e){const e=g.oxw();g.Udp("height",e.childrenCount>0?e.layout*e.childrenCount:0,"px")}}let _=(()=>{class e extends u.H{constructor(e,t,i,s,r,o,a,l,d){super(e,t),this.changeDetectorRef=i,this.sanitizer=s,this.iconRepository=r,this.aggregateTreeId=o,this.treeNodeGroupBackgroundImageResolver=a,this.treeNodeGroupChildrenCountService=l,this.treeQueryService=d,this.isSelected=!1,this.isExpanded=!0,this.isCollapsed=!1,this.hasChildren=!0,this.childrenCount=null,this.indentLevel=null,this.backgroundImage=null,this.color=n.B.BLUE,this.isGroupingLabelVisible=!0,this.label="",this.layout=p.A.NORMAL,this.Gravity=h.X}ngOnChanges(e){e.node&&e.node.currentValue&&(this.setLabel(this.node),this.setIsExpanded(this.node),this.setHasChildren(this.node),this.setIndentLevel(this.node.nodeLevel),this.setColor(this.node.color),this.setGroupingTooltip()),e.isSelected&&(this.groupLabelBackgroundImage=this.getGroupLabelBackgroundImage())}ngOnInit(){this.iconMap={expanded:this.iconRepository.get("font-awesome-folder-open").id,collapsed:this.iconRepository.get("font-awesome-folder").id},this.resolveToggleGroupingLabelTooltip(),this.selectLayout()}getIcon(){return this.node&&this.node.isExpanded()?this.iconMap.expanded:this.iconMap.collapsed}toggleGroupingLabelVisibility(){this.isGroupingLabelVisible=!this.isGroupingLabelVisible,this.resolveToggleGroupingLabelTooltip(),this.resolveLabelVisibilityClass(),this.changeDetectorRef.detectChanges()}setLabel(e){this.label=e.groupName}setIsExpanded(e){this.isExpanded=e.isExpanded(),this.isCollapsed=!this.isExpanded}setHasChildren(e){const t=e.hasChildren(),i=t?this.countChildren(e):d.m.getInitialChildrenCount();this.hasChildren=t,this.childrenCount=i.all,this.nonGroupChildrenCount=i.nonGroup}countChildren(e){return this.treeNodeGroupChildrenCountService.countChildren(e)}setIndentLevel(e){this.indentLevel=e||null}parseColor(e){if(e instanceof n.I)return e;const t="string"==typeof e?e.toUpperCase():"BLUE";return t in n.B?n.B[t]:n.B.BLUE}setColor(e){this.color=this.parseColor(e),this.backgroundImage=this.getBackgroundImage(),this.groupLabelBackgroundImage=this.getGroupLabelBackgroundImage()}getBackgroundImage(){return this.treeNodeGroupBackgroundImageResolver.getBackgroundImage(this.color,this.isExpanded,this.hasChildren)}getGroupLabelBackgroundImage(){return this.treeNodeGroupBackgroundImageResolver.getGroupLabelBackgroundImage(this.color,this.isExpanded,this.hasChildren,this.isSelected)}hideGroupLabelContainer(){this.domManipulator.addClass(this.groupingLabel.nativeElement,e.HIDDEN_LABEL_CLASS_NAME),this.domManipulator.addClass(this.groupChildrenCount.nativeElement,e.HIDDEN_GROUP_CHILDREN_COUNT_CLASS_NAME)}resolveLabelVisibilityClass(){this.isGroupingLabelVisible?this.showGroupLabelContainer():this.hideGroupLabelContainer()}resolveToggleGroupingLabelTooltip(){this.toggleGroupingLabelTooltip=c.getToggleGroupingLabelTooltip(this.label,this.isGroupingLabelVisible)}selectLayout(){this.treeQueryService.select(this.aggregateTreeId).pipe((0,s.U)(e=>e.getLayout()),(0,r.x)(),this.takeUntilDestroy()).subscribe(e=>{this.layout=e,this.changeDetectorRef.detectChanges()})}setGroupingTooltip(){this.groupingTooltip=c.getNonGroupChildrenCountTooltip(this.nonGroupChildrenCount,this.label)}showGroupLabelContainer(){this.domManipulator.removeClass(this.groupingLabel.nativeElement,e.HIDDEN_LABEL_CLASS_NAME),this.domManipulator.removeClass(this.groupChildrenCount.nativeElement,e.HIDDEN_GROUP_CHILDREN_COUNT_CLASS_NAME)}}return e.HIDDEN_LABEL_CLASS_NAME="sp-tree-node-group-label-hidden",e.HIDDEN_GROUP_CHILDREN_COUNT_CLASS_NAME="sp-tree-node-group-children-count-hidden",e.\u0275fac=function(t){return new(t||e)(g.Y36(g.SBq),g.Y36(g.Qsj),g.Y36(g.sBO),g.Y36(f.H7),g.Y36(o.T),g.Y36(m.H),g.Y36(l.a),g.Y36(d.m),g.Y36(a.p))},e.\u0275cmp=g.Xpm({type:e,selectors:[["sp-tree-node-group"]],viewQuery:function(e,t){if(1&e&&(g.Gf(x,7),g.Gf(D,7),g.Gf(b,5)),2&e){let e;g.iGM(e=g.CRH())&&(t.groupingLabelContainer=e.first),g.iGM(e=g.CRH())&&(t.groupingLabel=e.first),g.iGM(e=g.CRH())&&(t.groupChildrenCount=e.first)}},hostVars:10,hostBindings:function(e,t){2&e&&(g.uIk("data-children-count",t.childrenCount)("data-indent-level",t.indentLevel),g.Udp("background-image",t.backgroundImage),g.ekj("is-expanded",t.isExpanded)("is-collapsed",t.isCollapsed)("has-children",t.hasChildren))},inputs:{node:"node",isSelected:"isSelected"},features:[g.qOj,g.TTD],decls:12,vars:17,consts:[["class","sp-tree-node-group-selection",4,"ngIf"],["class","sp-tree-toggler sp-z-1 fa fa-chevron-right",3,"sp-toggler-rotate-down",4,"ngIf"],["spClickStopPropagation","",1,"sp-tree-node-group-icon","sp-cursor-pointer","sp-z-1",3,"iconId","spTooltipGravity","spTooltip","click"],[1,"sp-tree-node-group-label-container","sp-dark:bg-transparent","sp-z-1"],["groupLabelContainer",""],[1,"sp-tree-node-group-label","sp-pr-2"],["groupLabel",""],["class","sp-tree-node-group-children-count",3,"spTooltipGravity","spTooltip","backgroundColor","color",4,"ngIf"],["class","sp-tree-node-group-line",3,"height",4,"ngIf"],[1,"sp-tree-node-group-selection"],[1,"sp-tree-toggler","sp-z-1","fa","fa-chevron-right"],[1,"sp-tree-node-group-children-count",3,"spTooltipGravity","spTooltip"],["groupChildrenCount",""],[1,"sp-tree-node-group-line"]],template:function(e,t){1&e&&(g.YNc(0,w,1,0,"div",0),g.YNc(1,S,1,2,"span",1),g.TgZ(2,"sp-icon",2),g.NdJ("click",function(){return t.toggleGroupingLabelVisibility()}),g.ALo(3,"spSanitize"),g.ALo(4,"spRichTextI18n"),g.qZA(),g.TgZ(5,"div",3,4),g.TgZ(7,"span",5,6),g._uU(9),g.qZA(),g.YNc(10,A,6,15,"span",7),g.qZA(),g.YNc(11,R,1,2,"div",8)),2&e&&(g.Q6J("ngIf",t.isSelected),g.xp6(1),g.Q6J("ngIf",t.hasChildren),g.xp6(1),g.Udp("color",g.xi3(3,12,t.color.backgroundStyle,"style")),g.Q6J("iconId",t.getIcon())("spTooltipGravity",t.Gravity.NORTH)("spTooltip",g.lcZ(4,15,t.toggleGroupingLabelTooltip)),g.xp6(3),g.Udp("background-image",t.groupLabelBackgroundImage),g.xp6(4),g.hij(" ",t.label," "),g.xp6(1),g.Q6J("ngIf",t.nonGroupChildrenCount),g.xp6(1),g.Q6J("ngIf",t.isExpanded))},directives:[T.O5,E.o,v.E,I.i9],pipes:[y.n,C.d],encapsulation:2,changeDetection:0}),e})()},52402:(e,t,i)=>{"use strict";i.d(t,{f:()=>r});var s=i(94846);let r=(()=>{class e{calculateColumnIndent(e,t,i){return this.isGroupNode(e)&&0===t?i.get(e.nodeLevel):void 0}calculateRowIndent(t,i){return this.isGroupNode(t)?t.nodeLevel*e.INDENT_SIZE:i}resolveColumnLeftBorder(e,t){return this.isGroupNode(e)&&0===t?"none":""}resolveCalcRowWidth(t,i){const s=this.isGroupNode(t)?t.nodeLevel*e.INDENT_SIZE:i;return s>0?`calc(100% - ${s}px)`:""}isGroupNode(e){return e.getIsGroup()}}return e.INDENT_SIZE=28,e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=s.Yz7({token:e,factory:e.\u0275fac}),e})()},16278:(e,t,i)=>{"use strict";i.d(t,{p:()=>n});var s=i(8323),r=i(94846);let n=(()=>{class e extends s.V{constructor(){super(null)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=r.Yz7({token:e,factory:e.\u0275fac}),e})()},23512:(e,t,i)=>{"use strict";i.d(t,{q:()=>a,M:()=>l});var s=i(78268),r=i(18842),n=i(99721),o=i(94846),a=(()=>(function(e){e[e.NONE=0]="NONE",e[e.SHIFT=1]="SHIFT",e[e.CTRL=2]="CTRL",e[e.CMD=4]="CMD"}(a||(a={})),a))();let l=(()=>{class e{constructor(){this.state=a.NONE,this.clickEvent$=new s.xQ,this.onDestroy$=new s.xQ,this.attachOnKeyDownListener(),this.attachOnKeyUpListener(),this.attachOnBlurListener()}ngOnDestroy(){this.onDestroy$.next(),this.onDestroy$.complete()}observeModifierKeys(){return this.clickEvent$.asObservable()}attachOnBlurListener(){(0,r.R)(window,"blur").pipe((0,n.R)(this.onDestroy$)).subscribe(()=>{this.state=a.NONE,this.clickEvent$.next(this.state)})}attachOnKeyDownListener(){(0,r.R)(window,"keydown").pipe((0,n.R)(this.onDestroy$)).subscribe(e=>{this.setModifiersState(e,!0),this.clickEvent$.next(this.state)})}attachOnKeyUpListener(){(0,r.R)(window,"keyup").pipe((0,n.R)(this.onDestroy$)).subscribe(e=>{this.setModifiersState(e,!1),this.clickEvent$.next(this.state)})}setModifiersState(e,t){if(e.key)switch(e.key.toLowerCase()){case"shift":this.state=t?this.state|a.SHIFT:this.state&~a.SHIFT;break;case"control":case"ctrl":this.state=t?this.state|a.CTRL:this.state&~a.CTRL;break;case"meta":this.state=t?this.state|a.CMD:this.state&~a.CMD}}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=o.Yz7({token:e,factory:e.\u0275fac}),e})()},50533:(e,t,i)=>{"use strict";i.d(t,{N:()=>n});var s=i(8323),r=i(94846);let n=(()=>{class e extends s.V{constructor(){super(!1)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=r.Yz7({token:e,factory:e.\u0275fac}),e})()},40722:(e,t,i)=>{"use strict";i.d(t,{F:()=>q});var s=i(4562),r=i(18842),n=i(42028),o=i(50),a=i(68387),l=i(30159),d=i(79427),c=i(18552),p=i(2732),u=i(55977),h=i(4494),g=i(49999),f=i(95834),m=(i(87815),i(9455)),T=i(76066),E=i(89318),v=i(95768),I=i(89967),y=i(3580),C=i(35313),x=i(23110),D=i(2772),b=i(16278),w=i(23512),S=i(50533),A=i(89932),R=i(8088),_=i(94846),N=i(66713),L=i(11578),O=i(45085),F=i(71369),M=i(64946),U=i(82376),k=i(54541),B=i(65115),V=i(17742);const G=["nodeElement"];function P(e,t){if(1&e&&_._UZ(0,"div",2),2&e){const e=_.oxw();_.Udp("height",e.groupRootWithChildrenHeight,"px")("top",e.layout,"px")}}function Y(e,t){if(1&e&&_._UZ(0,"sp-tree-inline-add-indicator",9),2&e){const e=_.oxw(2).$implicit,t=_.oxw();_.Udp("transform",t.getTransformTreeHierarchyAddIndicatorStyle(e)),_.Q6J("node",e)}}function Z(e,t){if(1&e&&_._UZ(0,"sp-tree-inline-add-row",10),2&e){const e=_.oxw(2).$implicit,t=_.oxw();_.Q6J("perspective",t.perspective)("node",e)}}function z(e,t){if(1&e){const e=_.EpF();_.ynx(0),_.TgZ(1,"sp-tree-node",5,6),_.NdJ("selectNode",function(t){return _.CHM(e),_.oxw(2).selectNode(t)})("click",function(){_.CHM(e);const t=_.oxw().$implicit;return _.oxw().nodeClick(t)}),_.qZA(),_.YNc(3,Y,1,3,"sp-tree-inline-add-indicator",7),_.ALo(4,"spInlineAddIndicatorVisiblePipe"),_.YNc(5,Z,1,2,"sp-tree-inline-add-row",8),_.BQk()}if(2&e){const e=_.oxw(),t=e.$implicit,i=e.last,s=e.index,r=_.oxw();_.xp6(1),_.Udp("transform",r.getTransformStyle(t)),_.Q6J("node",t)("last",i)("perspective",r.perspective)("groupingNestingLevel",r.groupingNestingLevel)("groupingColumnsIndentsMap",r.groupingColumnsIndentsMap)("selected",r.isSelected(t))("selectedChild",r.isSelectedItemChild(t))("nextNodeSelected",r.isNextNodeSelected(t))("prevNodeSelected",r.isPreviousNodeSelected(t))("treeGridGridType",r.treeGridGridType)("selectedNodes",r.selectedNodes)("index",s)("isInlineDeleteDisabled",r.isInlineDeleteDisabled),_.uIk("index",s)("parent-index",t.parent?t.parent.nodePosition:""),_.xp6(2),_.Q6J("ngIf",_.xi3(4,19,r.isInlineAddEnabled&&t,r.isAnyNodeDragged)),_.xp6(2),_.Q6J("ngIf",r.addRowVisible&&r.clickedNodeId===t.id)}}function J(e,t){if(1&e&&(_.TgZ(0,"div",11),_._UZ(1,"div",12),_.qZA()),2&e){const e=_.oxw().$implicit,t=_.oxw();_.Udp("transform",t.getTransformStyle(e))("height",t.layout,"px")}}function H(e,t){if(1&e&&(_.ynx(0),_.YNc(1,z,6,22,"ng-container",3),_.YNc(2,J,2,4,"div",4),_.BQk()),2&e){const e=t.$implicit;_.xp6(1),_.Q6J("ngIf",e.isLoaded),_.xp6(1),_.Q6J("ngIf",!e.isLoaded)}}let q=(()=>{class e extends A.H{constructor(e,t,i,s,r,n,o,a,l,d,c,p,u,h,g,f,m,T,E,v,I,C,x,D,b,S,A){super(e,t),this.document=i,this.changeDetectorRef=s,this.componentFactoryResolver=r,this.treeNodeHeight=n,this.treeViewportRenderService=o,this.localActions$=a,this.aggregateTreeId=l,this.tree=d,this.treeCommandService=c,this.listenerService=p,this.selectedItemsRepository=u,this.treeDragStateRepository=h,this.treeGridGridStorage=g,this.selectedItemsChildrenRepository=f,this.treeInlineAddRepository=m,this.treeInlineAddDialogFactory=T,this.treeInlineAddConfigStorage=E,this.treeNodeGroupChildrenCountService=v,this.treeQueryService=I,this.sanitizer=C,this.treeNodeRightClickResolverStorage=x,this.rightClickDialogService=D,this.localActionDispatcher=b,this.treeNodesCountRepositoryService=S,this.rightClickIgnoredEventsService=A,this.treeGridGridType=y.W.HORIZONTAL,this.selectedNodes=[],this.selectedItemsChildrenIds=[],this.isGroupRootExpanded=!1,this.groupRootWithChildrenHeight=0,this.isAnyNodeDragged=!1,this.initialized=!1,this.modifiersPressed=w.q.NONE}ngOnChanges(e){if(e.nodes){if(this.treeNodesCountRepositoryService.set(this.tree.getAggregateTreeId(),this.nodes.length),!this.treeViewportRenderService.isViewPortRenderEnabled())return void(this.nodesCollection=[...this.nodes]);this.localActionDispatcher.dispatch(new g.uK)}}ngOnInit(){this.treeViewportRenderService.isViewPortRenderEnabled()&&this.observeReloadNodesAction(),this.setIsGroupRootExpanded(),this.selectLayout(),this.selectRightClickResolver(),this.selectTreeGridGridType(),this.observeSelectedItemIds(),this.observeModifierKeys(),this.observeSelectedItemsChildren(),this.observeDragNodesAction(),this.selectInlineAddVisibleStatus(),this.nodesCollection&&this.checkNotLoadedNodes(),this.initialized=!0}ngAfterViewInit(){(0,r.R)(this.elementRef.nativeElement,"contextmenu").pipe((0,n.h)(()=>!!this.rightClickResolver),(0,n.h)(e=>e!==this.rightClickIgnoredEventsService.get()),this.takeUntilDestroy()).subscribe(e=>{if(this.closeNodeContextMenuDialog(),e.target===this.elementRef.nativeElement)return;const t=this.getIsPropagationStoppedFn(e),i=this.getFirstDescendantOfElementFromEvent(e,this.elementRef.nativeElement),s=this.nodeElements.find(e=>e.innerElementRef.nativeElement===i);this.callNodeContextMenuAction(e,t,s),e.preventDefault(),e.stopPropagation()})}finalize(){this.closeNodeContextMenuDialog(),this.treeInlineAddConfigStorage.isDialogEnabled(this.aggregateTreeId)&&this.destroyAddDialog()}nodeClick(e){e.getIsGroup()||this.updateNodeSelection(e.getId())}selectNode(e){this.isSelected(e)||this.updateNodeSelection(e.getId())}isSelected(e){return this.selectedNodes.some(t=>this.isSelectionEnabled()&&t.id===e.id)}isSelectedItemChild(e){return this.selectedItemsChildrenIds.some(t=>this.isSelectionEnabled()&&t===e.id)}isEqualNode(e,t){return t.id+t.getVersion()+t.isLoaded}getTransformStyle(e){let t=e.nodePositionIncludedCollapsedNodes;return e&&e.rawTreeNode.calculatedPosition&&(t+=e.rawTreeNode.calculatedPosition),this.addExtraTopSize(t)?`translateY(${(t+1)*this.treeNodeHeight.getNodeHeight()}px)`:`translateY(${t*this.treeNodeHeight.getNodeHeight()}px)`}getTransformTreeHierarchyAddIndicatorStyle(e){const t=(v.fj+v.lv)/2;let i=e.nodePositionIncludedCollapsedNodes;if(e&&e.rawTreeNode.calculatedPosition&&(i+=e.rawTreeNode.calculatedPosition),this.addExtraTopSize(i)){const e=(i+1)*this.treeNodeHeight.getNodeHeight()+this.treeNodeHeight.getNodeHeight()-t;return this.sanitizer.bypassSecurityTrustStyle(`translateY(${e}px)`)}return`translateY(${i*this.treeNodeHeight.getNodeHeight()+this.treeNodeHeight.getNodeHeight()-t}px)`}runChangeDetection(){this.changeDetectorRef.detectChanges()}isPreviousNodeSelected(e){const t=this.nodesCollection.find(t=>t.nodePositionIncludedCollapsedNodes===e.nodePositionIncludedCollapsedNodes-1);return t&&(this.isSelected(t)||this.isSelectedItemChild(t))}isNextNodeSelected(e){const t=this.nodesCollection.find(t=>t.nodePositionIncludedCollapsedNodes===e.nodePositionIncludedCollapsedNodes+1);return t&&(this.isSelected(t)||this.isSelectedItemChild(t))}updateNodeSelection(e){if(!this.isSelectionEnabled())return;const t=this.tree.getConfig().disableMultiselect?m.M.ONE:this.getSelectionMode();t===m.M.RANGE?this.treeCommandService.selectItem(this.aggregateTreeId,e,t):this.treeCommandService.toggleItemSelection(this.aggregateTreeId,e,t),this.changeDetectorRef.detectChanges(),this.clearSelection()}getElementRef(){return this.elementRef}addExtraTopSize(e){if(!this.addRowVisible)return!1;const t=this.tree.getNodeById(this.treeInlineAddRepository.getNodeId(this.aggregateTreeId));return!!t&&this.clickedNodeId&&e>t.nodePositionIncludedCollapsedNodes}clearSelection(){window.getSelection&&window.getSelection().removeAllRanges()}observeSelectedItemsChildren(){this.selectedItemsChildrenRepository.selectSelectedItemsChildrenIds(this.aggregateTreeId).pipe(this.takeUntilDestroy()).subscribe(e=>{this.isSelectionEnabled()&&(this.selectedItemsChildrenIds=e,this.changeDetectorRef.detectChanges())}),this.treeDragStateRepository.select().pipe((0,n.h)(e=>!e),this.takeUntilDestroy()).subscribe(()=>{this.selectedItemsChildrenIds=[],this.changeDetectorRef.detectChanges()}),this.treeInlineAddConfigStorage.selectConfigChanged().pipe(this.takeUntilDestroy()).subscribe(()=>{this.isInlineAddEnabled=this.treeInlineAddConfigStorage.isEnabled(this.aggregateTreeId),this.changeDetectorRef.detectChanges()})}selectRightClickResolver(){this.treeNodeRightClickResolverStorage.select().pipe(this.takeUntilDestroy()).subscribe(e=>{this.rightClickResolver=e,this.changeDetectorRef.detectChanges()})}isSelectionEnabled(){return this.tree.getConfig().selectNode}observeModifierKeys(){this.listenerService.observeModifierKeys().pipe(this.takeUntilDestroy()).subscribe(e=>{this.modifiersPressed=e})}observeReloadNodesAction(){this.localActions$.ofTreeAction(g.MF.RELOAD_NODES).pipe((0,o.T)(1),this.takeUntilDestroy()).subscribe(()=>{this.buildPrunedListOfNodes(),this.changeDetectorRef.detectChanges()})}observeSelectedItemIds(){this.selectedItemsRepository.selectSelectedItems(this.aggregateTreeId).pipe(this.takeUntilDestroy()).subscribe(e=>{this.selectedNodes=e,this.changeDetectorRef.detectChanges()})}observeDragNodesAction(){this.treeDragStateRepository.select().pipe(this.takeUntilDestroy()).subscribe(e=>this.isAnyNodeDragged=e)}setIsGroupRootExpanded(){const e=this.nodes[0];e&&e.getIsGroup()&&e.isExpanded()?(this.isGroupRootExpanded=!0,this.groupRootWithChildrenHeight=this.treeNodeGroupChildrenCountService.getGroupWithChildrenHeight(e)):(this.isGroupRootExpanded=!1,this.groupRootWithChildrenHeight=0)}selectLayout(){this.treeQueryService.select(this.aggregateTreeId).pipe((0,a.U)(e=>e.getLayout()),(0,l.x)(),this.takeUntilDestroy()).subscribe(e=>{this.layout=e,this.changeDetectorRef.detectChanges()})}selectTreeGridGridType(){this.treeGridGridStorage.select().pipe(this.takeUntilDestroy()).subscribe(e=>{this.treeGridGridType=e,this.initialized&&this.changeDetectorRef.detectChanges()})}selectInlineAddVisibleStatus(){this.treeInlineAddRepository.selectInlineAddVisibleStatus(this.aggregateTreeId).pipe((0,n.h)(()=>this.treeInlineAddConfigStorage.isDialogEnabled(this.aggregateTreeId)),this.takeUntilDestroy()).subscribe(e=>{if(!e)return this.clickedNodeId=null,this.addRowVisible=!1,this.destroyAddDialog(),void this.changeDetectorRef.detectChanges();this.clickedNodeId=this.treeInlineAddRepository.getNodeId(this.aggregateTreeId),this.addRowVisible=!0,this.changeDetectorRef.detectChanges()})}destroyAddDialog(){this.treeInlineAddDialogFactory.destroy()}getSelectionMode(){return this.modifiersPressed&w.q.SHIFT?m.M.RANGE:this.modifiersPressed&w.q.CTRL||this.modifiersPressed&w.q.CMD?m.M.ADD:m.M.ONE}buildPrunedListOfNodes(){this.nodesCollection=this.treeViewportRenderService.sliceNodes(this.nodes),this.setIsGroupRootExpanded(),this.checkNotLoadedNodes()}checkNotLoadedNodes(){const e=this.nodesCollection.filter(e=>!e.isLoaded),t=this.tree.getConfig().notLoadedNodesResolver;t&&e.length&&t.execute(e)}getIsPropagationStoppedFn(e){const t=e.stopPropagation;let i=!1;return e.stopPropagation=function(){i=!0,t.call(this)},()=>i}getFirstDescendantOfElementFromEvent(e,t){if(!e||!t)return null;let i=e.target,s=i.parentElement;for(;s&&s!==t;)i=s,s=i.parentElement;return s&&i}callNodeContextMenuAction(e,t,i){i&&!t()&&(i.spRightMouseClicked(),this.openNodeContextMenuDialog(e,i))}openNodeContextMenuDialog(e,t){if(this.rightClickResolver){e.stopPropagation(),e.preventDefault();const i=this.rightClickResolver.resolve(t.node,this.selectedNodes);if(null===i)return;this.rightClickDialogComponent=this.rightClickDialogService.createComponent(e.clientX,e.clientY,i,this.changeDetectorRef,this.componentFactoryResolver,this.document,!1)}}closeNodeContextMenuDialog(){this.rightClickDialogComponent&&this.rightClickDialogService.destroyDynamicComponent()}}return e.\u0275fac=function(t){return new(t||e)(_.Y36(_.SBq),_.Y36(_.Qsj),_.Y36(s.K0),_.Y36(_.sBO),_.Y36(_._Vd),_.Y36(N.M),_.Y36(C.G),_.Y36(L.e),_.Y36(O.H),_.Y36(h.mp),_.Y36(T.z),_.Y36(w.M),_.Y36(p.G),_.Y36(S.N),_.Y36(I.P),_.Y36(F.u),_.Y36(f.I),_.Y36(E.l),_.Y36(M.r),_.Y36(D.m),_.Y36(u.p),_.Y36(U.H7),_.Y36(b.p),_.Y36(d.V),_.Y36(k.c),_.Y36(R.e),_.Y36(c.R))},e.\u0275cmp=_.Xpm({type:e,selectors:[["sp-tree-node-collection"]],viewQuery:function(e,t){if(1&e&&_.Gf(G,5,x.N),2&e){let e;_.iGM(e=_.CRH())&&(t.nodeElements=e)}},inputs:{nodes:"nodes",perspective:"perspective",groupingNestingLevel:"groupingNestingLevel",groupingColumnsIndentsMap:"groupingColumnsIndentsMap",isInlineDeleteDisabled:"isInlineDeleteDisabled"},features:[_._Bn([D.m]),_.qOj,_.TTD],decls:2,vars:3,consts:[["class","sp-tree-node-group-root-line",3,"height","top",4,"ngIf"],[4,"ngFor","ngForOf","ngForTrackBy"],[1,"sp-tree-node-group-root-line"],[4,"ngIf"],["class","sp-not-loaded-node",3,"transform","height",4,"ngIf"],[3,"node","last","perspective","groupingNestingLevel","groupingColumnsIndentsMap","selected","selectedChild","nextNodeSelected","prevNodeSelected","treeGridGridType","selectedNodes","index","isInlineDeleteDisabled","selectNode","click"],["nodeElement",""],["class","sp-z-1",3,"node","transform",4,"ngIf"],[3,"perspective","node",4,"ngIf"],[1,"sp-z-1",3,"node"],[3,"perspective","node"],[1,"sp-not-loaded-node"],[1,"sp-bg-subtle","sp-border-rounded","sp-not-loaded"]],template:function(e,t){1&e&&(_.YNc(0,P,1,4,"div",0),_.YNc(1,H,3,2,"ng-container",1)),2&e&&(_.Q6J("ngIf",t.isGroupRootExpanded),_.xp6(1),_.Q6J("ngForOf",t.nodesCollection)("ngForTrackBy",t.isEqualNode))},directives:[s.O5,s.sg,x.N,v.D9,B.l],pipes:[V.d],encapsulation:2,changeDetection:0}),e})()},32623:(e,t,i)=>{"use strict";i.d(t,{k:()=>r});var s=i(94846);let r=(()=>{class e{transform(e,t){return{"border-width":e*t+"px"}}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275pipe=s.Yjl({name:"spTreeHierarchyBorderStyle",type:e,pure:!0}),e})()},32242:(e,t,i)=>{"use strict";i.d(t,{q:()=>p}),i(4494);var s=i(97963),r=i(7047),n=i(94846),o=i(4562),a=i(80529),l=i(26885);function d(e,t){if(1&e&&n._UZ(0,"sp-tree-chevron",2),2&e){const e=n.oxw();n.Q6J("node",e.node)}}function c(e,t){if(1&e&&n._UZ(0,"sp-tree-chevron-with-lines",3),2&e){const e=n.oxw();n.Q6J("node",e.node)("dragButtonWidth",e.calculateDragButtonWidth())}}let p=(()=>{class e{constructor(){this.availableStrategy=s.N}calculateDragButtonWidth(){return this.dragButton?r.Y:0}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=n.Xpm({type:e,selectors:[["sp-tree-row-hierarchy"]],inputs:{node:"node",dragButton:"dragButton",strategy:"strategy"},decls:3,vars:3,consts:[[3,"ngSwitch"],[3,"ngSwitchCase"],[3,"node"],[3,"node","dragButtonWidth"]],template:function(e,t){1&e&&(n.ynx(0,0),n.YNc(1,d,1,1,"ng-template",1),n.YNc(2,c,1,2,"ng-template",1),n.BQk()),2&e&&(n.Q6J("ngSwitch",t.strategy),n.xp6(1),n.Q6J("ngSwitchCase",t.availableStrategy.ONLY_CHEVRON),n.xp6(1),n.Q6J("ngSwitchCase",t.availableStrategy.CHEVRON_WITH_LINES))},directives:[o.RF,o.n9,a.T,l.v],styles:[".sp-tree-hierarchy-lines{position:absolute;top:0;left:16px;background:var(--gray-60)}.sp-tree-hierarchy-lines.sp-horizontal-line{top:50%;width:15px;height:1px}.sp-tree-hierarchy-lines.sp-horizontal-line.sp-expandle-node{width:10px}.sp-tree-hierarchy-lines.sp-vertical-line{width:1px;height:100%}.sp-tree-hierarchy-lines.sp-vertical-line.sp-vertical-parent-line{height:calc(50% - 8px);top:calc(50% + 8px)}.sp-tree-hierarchy-lines.sp-vertical-line.sp-last-node{height:50%}.sp-free-space{padding-right:15px}.sp-tree-child{width:7px;height:7px;margin-left:5px;margin-right:13px;border-radius:50%;background:none}.sp-tree-child.sp-child-with-icon{background:var(--gray-60)}"],encapsulation:2,changeDetection:0}),e})()},97661:(e,t,i)=>{"use strict";i.d(t,{p:()=>p});var s=i(42028),r=i(4494),n=i(95834),o=i(7047),a=i(89932),l=i(94846),d=i(64946),c=i(45085);let p=(()=>{class e extends a.H{constructor(e,t,i,s,r,n,a){super(e,t),this.changeDetectorRef=i,this.tree=s,this.treeInlineAddRepository=r,this.inlineAddConfigStorage=n,this.aggregateTreeId=a,this.dragButtonWidth=0,this.isExpanded=!1,this.isExpandable=!1,this.nodeLevelMargin=o.O,this.TREE_INDENT_PREFIX="sp-tree-indent-",this.isInitialized=!1}ngOnInit(){this.treeIndentId=this.TREE_INDENT_PREFIX+this.node.getId(),this.selectTreeInlineAddStoredValue()}parentsExist(){return this.tree.parentsExist()}setExpandedStatus(e){this.isExpanded=e||this.node.isExpanded()}setExpandableStatus(e){this.isExpandable=e||this.tree.isExpandable(this.node)}selectTreeInlineAddStoredValue(){this.treeInlineAddRepository.select(this.aggregateTreeId).pipe((0,s.h)(()=>this.inlineAddConfigStorage.isDialogEnabled(this.aggregateTreeId)),this.takeUntilDestroy()).subscribe(e=>{e&&this.node.id===e.getNodeId()&&e.getIndent()?(this.setExpandableStatus(!0),this.setExpandedStatus(!0)):(this.setExpandableStatus(),this.setExpandedStatus()),this.isInitialized&&this.changeDetectorRef.detectChanges(),this.isInitialized=!0})}}return e.\u0275fac=function(t){return new(t||e)(l.Y36(l.SBq),l.Y36(l.Qsj),l.Y36(l.sBO),l.Y36(r.mp),l.Y36(n.I),l.Y36(d.r),l.Y36(c.H))},e.\u0275dir=l.lG2({type:e,inputs:{node:"node",dragButtonWidth:"dragButtonWidth"},features:[l.qOj]}),e})()},80529:(e,t,i)=>{"use strict";i.d(t,{T:()=>g});var s=i(4494),r=i(95834),n=i(97661),o=i(94846),a=i(64946),l=i(45085),d=i(4562),c=i(32623);function p(e,t){if(1&e&&o._UZ(0,"span",3),2&e){const e=o.oxw();o.ekj("sp-toggler-rotate-down",e.isExpanded)}}function u(e,t){1&e&&o._UZ(0,"span",5)}function h(e,t){if(1&e&&o.YNc(0,u,1,0,"span",4),2&e){const e=o.oxw();o.Q6J("ngIf",e.parentsExist())}}let g=(()=>{class e extends n.p{constructor(e,t,i,s,r,n,o){super(t,i,e,s,r,n,o),this.changeDetectorRef=e}ngOnChanges(e){e.node&&(this.setExpandableStatus(),this.setExpandedStatus())}ngOnInit(){this.domManipulator.setHostAttribute("id","sp-tree-chevron"),super.ngOnInit()}}return e.\u0275fac=function(t){return new(t||e)(o.Y36(o.sBO),o.Y36(o.SBq),o.Y36(o.Qsj),o.Y36(s.mp),o.Y36(r.I),o.Y36(a.r),o.Y36(l.H))},e.\u0275cmp=o.Xpm({type:e,selectors:[["sp-tree-chevron"]],features:[o.qOj,o.TTD],decls:5,vars:7,consts:[[1,"sp-tree-indent",3,"ngStyle"],["class","sp-tree-toggler sp-only-chevron-strategy fa fa-chevron-right",3,"sp-toggler-rotate-down",4,"ngIf","ngIfElse"],["child",""],[1,"sp-tree-toggler","sp-only-chevron-strategy","fa","fa-chevron-right"],["class","sp-free-space",4,"ngIf"],[1,"sp-free-space"]],template:function(e,t){if(1&e&&(o.TgZ(0,"div",0),o.ALo(1,"spTreeHierarchyBorderStyle"),o.YNc(2,p,1,2,"span",1),o.YNc(3,h,1,1,"ng-template",null,2,o.W1O),o.qZA()),2&e){const e=o.MAs(4);o.Q6J("ngStyle",o.xi3(1,4,t.node.nodeLevel,t.nodeLevelMargin)),o.uIk("id",t.treeIndentId),o.xp6(2),o.Q6J("ngIf",t.isExpandable)("ngIfElse",e)}},directives:[d.PC,d.O5],pipes:[c.k],encapsulation:2,changeDetection:0}),e})()},26885:(e,t,i)=>{"use strict";i.d(t,{v:()=>E});var s=i(4494),r=i(95834),n=i(97661),o=i(94846),a=i(64946),l=i(45085),d=i(4562),c=i(32623);function p(e,t){if(1&e&&o._UZ(0,"span",6),2&e){const e=o.oxw();o.ekj("sp-toggler-rotate-down",e.isExpanded)}}function u(e,t){if(1&e&&o._UZ(0,"div",8),2&e){const e=o.oxw(2);o.ekj("sp-child-with-icon",e.node.nodeLevel>0)}}function h(e,t){if(1&e&&o.YNc(0,u,1,2,"div",7),2&e){const e=o.oxw();o.Q6J("ngIf",e.parentsExist())}}function g(e,t){if(1&e&&o._UZ(0,"div",10),2&e){const e=o.oxw(),t=e.last,i=e.$implicit,s=o.oxw();o.ekj("sp-last-node",s.isLastNode()&&t),o.Q6J("ngStyle",s.setVerticalLinePositionStyle(i))}}function f(e,t){if(1&e&&(o.ynx(0),o.YNc(1,g,1,3,"div",9),o.BQk()),2&e){const e=t.$implicit,i=t.last,s=o.oxw();o.xp6(1),o.Q6J("ngIf",s.canRenderLineForLevel(e,i))}}function m(e,t){if(1&e&&o._UZ(0,"div",11),2&e){const e=o.oxw();o.ekj("sp-expandle-node",e.tree.isExpandable(e.node)),o.Q6J("ngStyle",e.setHorizontalLinePositionStyle())}}function T(e,t){if(1&e&&o._UZ(0,"div",12),2&e){const e=o.oxw();o.Q6J("ngStyle",e.setParentNodeVerticalLinePositionStyle())}}let E=(()=>{class e extends n.p{constructor(e,t,i,s,r,n,o){super(t,i,e,s,r,n,o),this.changeDetectorRef=e,this.nodeLevelArray=[]}ngOnChanges(e){e.node&&(this.nodeLevelArray=this.generateArrayWithTreeLevels(),this.setExpandableStatus(),this.setExpandedStatus())}isLastNode(){return this.node.isLastNode()}isNodeLevelGreaterThanBaseLevel(){return this.node.nodeLevel>0}setVerticalLinePositionStyle(e){return{left:(e+1)*this.nodeLevelMargin+this.dragButtonWidth+"px"}}setParentNodeVerticalLinePositionStyle(){return{left:this.node.nodeLevel*this.nodeLevelMargin+this.nodeLevelMargin+this.dragButtonWidth+"px"}}setHorizontalLinePositionStyle(){return{left:this.node.nodeLevel*this.nodeLevelMargin+this.dragButtonWidth+"px"}}canRenderLineForLevel(e,t){return!!t||this.checkThatParentOfNodeIsNotLastForLevel(e)}checkThatParentOfNodeIsNotLastForLevel(e){return this.isNotLastNode(this.returnParentNode(e))}returnParentNode(e){const t=this.node.nodeLevel;let i=this.node;for(let s=0;s<t-e-1;s++)i=i.parent;return i}isNotLastNode(e){return!e.isLastNode()}generateArrayWithTreeLevels(){return Array.from(Array(this.node.nodeLevel),(e,t)=>t)}}return e.\u0275fac=function(t){return new(t||e)(o.Y36(o.sBO),o.Y36(o.SBq),o.Y36(o.Qsj),o.Y36(s.mp),o.Y36(r.I),o.Y36(a.r),o.Y36(l.H))},e.\u0275cmp=o.Xpm({type:e,selectors:[["sp-tree-chevron-with-lines"]],features:[o.qOj,o.TTD],decls:8,vars:10,consts:[[1,"sp-tree-indent",3,"ngStyle"],["id","sp-tree-toggler","class","sp-tree-toggler sp-with-lines-strategy fa fa-chevron-right",3,"sp-toggler-rotate-down",4,"ngIf","ngIfElse"],["child",""],[4,"ngFor","ngForOf"],["class","sp-tree-hierarchy-lines sp-horizontal-line",3,"sp-expandle-node","ngStyle",4,"ngIf"],["class","sp-tree-hierarchy-lines sp-vertical-line sp-vertical-parent-line",3,"ngStyle",4,"ngIf"],["id","sp-tree-toggler",1,"sp-tree-toggler","sp-with-lines-strategy","fa","fa-chevron-right"],["class","sp-tree-child",3,"sp-child-with-icon",4,"ngIf"],[1,"sp-tree-child"],["class","sp-tree-hierarchy-lines sp-vertical-line",3,"ngStyle","sp-last-node",4,"ngIf"],[1,"sp-tree-hierarchy-lines","sp-vertical-line",3,"ngStyle"],[1,"sp-tree-hierarchy-lines","sp-horizontal-line",3,"ngStyle"],[1,"sp-tree-hierarchy-lines","sp-vertical-line","sp-vertical-parent-line",3,"ngStyle"]],template:function(e,t){if(1&e&&(o.TgZ(0,"div",0),o.ALo(1,"spTreeHierarchyBorderStyle"),o.YNc(2,p,1,2,"span",1),o.YNc(3,h,1,1,"ng-template",null,2,o.W1O),o.qZA(),o.YNc(5,f,2,1,"ng-container",3),o.YNc(6,m,1,3,"div",4),o.YNc(7,T,1,1,"div",5)),2&e){const e=o.MAs(4);o.Q6J("ngStyle",o.xi3(1,7,t.node.nodeLevel,t.nodeLevelMargin)),o.uIk("id",t.treeIndentId),o.xp6(2),o.Q6J("ngIf",t.isExpandable)("ngIfElse",e),o.xp6(3),o.Q6J("ngForOf",t.nodeLevelArray),o.xp6(1),o.Q6J("ngIf",t.isNodeLevelGreaterThanBaseLevel()),o.xp6(1),o.Q6J("ngIf",t.tree.isExpandable(t.node)&&t.node.isExpanded())}},directives:[d.PC,d.O5,d.sg],pipes:[c.k],encapsulation:2,changeDetection:0}),e})()},4082:(e,t,i)=>{"use strict";i.d(t,{Z:()=>r});var s=i(73316);let r=(()=>{class e extends s.${static validateMinLength(t){return i=>null!=i.value&&i.value.trim().length<t?{minLength:e.MIN_LENGTH_VALIDATION_ERROR_MESSAGE,minLengthParams:{minLength:t},valid:!1}:null}static validateMaxLength(t){return i=>null!=i.value&&i.value.length>t?{maxLength:e.MAX_LENGTH_VALIDATION_ERROR_MESSAGE,maxLengthParams:{maxLength:t},valid:!1}:null}}return e.MIN_LENGTH_VALIDATION_ERROR_MESSAGE="SPT_COMMON_VALIDATOR_MIN_LENGTH",e.MAX_LENGTH_VALIDATION_ERROR_MESSAGE="SPT_COMMON_VALIDATOR_MAX_LENGTH",e})()},46599:(e,t,i)=>{"use strict";i.d(t,{A:()=>s});var s=(()=>(function(e){e[e.ULTRA_COMPACT=17]="ULTRA_COMPACT",e[e.COMPACT=25]="COMPACT",e[e.MEDIUM=33]="MEDIUM",e[e.NORMAL=41]="NORMAL",e[e.WIDE=49]="WIDE"}(s||(s={})),s))()},41149:(e,t,i)=>{"use strict";i.d(t,{l:()=>a});var s=i(94846),r=i(84933),n=i(71402);const o=["*"];let a=(()=>{class e{constructor(e){this.modalWindowComponentRef=e,this.cancelModal=new s.vpe}onMousedown(e){e.preventDefault()}close(){this.disabled||(this.cancelModal.emit(),this.modalWindowComponentRef.close())}}return e.\u0275fac=function(t){return new(t||e)(s.Y36(r.Zh))},e.\u0275cmp=s.Xpm({type:e,selectors:[["sp-modal-window-cancel-button"]],inputs:{disabled:"disabled",isSecondary:"isSecondary"},outputs:{cancelModal:"cancelModal"},ngContentSelectors:o,decls:2,vars:1,consts:[["sp-button","","link","","id","sp-modal-window-close-button",1,"sp-min-w-2",3,"link","mousedown","click"]],template:function(e,t){1&e&&(s.F$t(),s.TgZ(0,"button",0),s.NdJ("mousedown",function(e){return t.onMousedown(e)})("click",function(){return t.close()}),s.Hsn(1),s.qZA()),2&e&&s.Q6J("link",!t.isSecondary)},directives:[n.r],styles:["button.sp-btn[_ngcontent-%COMP%]{margin-left:8px}"],changeDetection:0}),e})()},82893:(e,t,i)=>{"use strict";i.d(t,{A:()=>c});var s=i(4562),r=i(44665),n=i(35959),o=i(86179),a=i(77393),l=i(94846);const d=[o.y];let c=(()=>{class e{static forRoot(){return{ngModule:e,providers:d}}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=l.oAB({type:e}),e.\u0275inj=l.cJS({imports:[[s.ez,r.u.forRoot(),n.z8,a.n]]}),e})()},70918:(e,t,i)=>{"use strict";i.d(t,{G:()=>o});class s{constructor(e,t,i,s){this.events=e,this.gravity=t,this.tooltipGravity=i,this.zIndex=s}}var r=i(32661),n=i(59887);class o{static default(){return(new o).withEvents([]).withGravity(r.m.SOUTH_EAST).withTooltipGravity(n.X.EAST)}withEvents(e){return this.events=e,this}withGravity(e){return this.validationDotGravity=e,this}withTooltipGravity(e){return this.tooltipGravity=e,this}withZIndex(e){return this.zIndex=e,this}build(){return new s(this.events,this.validationDotGravity,this.tooltipGravity,this.zIndex)}}},32661:(e,t,i)=>{"use strict";i.d(t,{m:()=>s});var s=(()=>(function(e){e[e.NORTH_EAST=0]="NORTH_EAST",e[e.NORTH_WEST=1]="NORTH_WEST",e[e.SOUTH_EAST=2]="SOUTH_EAST",e[e.SOUTH_WEST=3]="SOUTH_WEST"}(s||(s={})),s))()},86179:(e,t,i)=>{"use strict";i.d(t,{y:()=>T});var s=i(5566),r=i(70918),n=i(32661),o=i(6709),a=i(35959),l=i(59887),d=i(94846),c=i(1858);let p=(()=>{class e{constructor(e,t){this.elementRef=e,this.l10nTextService=t,this.validationDotMessages=[],this.tooltipColoredGravity=l.X.EAST,this.tooltipColoredColor=s.B.RED.colorName}showTooltip(){this.getValidationDotMessages()&&this.tooltip.forceShowTooltip()}hideTooltip(){this.tooltip.forceHideTooltip()}getValidationDotMessages(){return 2===this.validationDotMessages.length?this.l10nTextService.translate(this.validationDotMessages[0],this.validationDotMessages[1]):this.validationDotMessages.join(" ")}getValidationDotElementRef(){return this.elementRef}}return e.\u0275fac=function(t){return new(t||e)(d.Y36(d.SBq),d.Y36(o.e))},e.\u0275cmp=d.Xpm({type:e,selectors:[["sp-validation-dot"]],viewQuery:function(e,t){if(1&e&&d.Gf(a.i9,7),2&e){let e;d.iGM(e=d.CRH())&&(t.tooltip=e.first)}},decls:2,vars:8,consts:[["id","sp-validation-dot",1,"fas","fa-exclamation-circle","sp-violation-validation-dot","sp-animation__pulse-up",3,"spTooltipEnabled","spTooltip","spTooltipColor","spTooltipGravity"]],template:function(e,t){1&e&&(d._UZ(0,"i",0),d.ALo(1,"spRichTextString")),2&e&&(d.ekj("sp-violation-validation-dot--warning",t.warning),d.Q6J("spTooltipEnabled",!1)("spTooltip",d.lcZ(1,6,t.getValidationDotMessages()))("spTooltipColor",t.tooltipColoredColor)("spTooltipGravity",t.tooltipColoredGravity))},directives:[a.i9],pipes:[c.C],styles:[":host{z-index:10;position:absolute}.sp-violation-validation-dot{visibility:hidden;display:none;color:var(--danger)}.sp-violation-validation-dot--warning{color:var(--yellow-primary)}.sp-validation-dot-visible{position:absolute;visibility:visible;z-index:10;cursor:pointer}.sp-validation-dot-visible .sp-violation-validation-dot{visibility:visible;display:flex;width:16px;height:16px;font-size:16px;border:0 solid var(--white);background:var(--color-bg);border-radius:8px;justify-content:center}.sp-marked .sp-form-control{border-color:var(--danger)}"],encapsulation:2,changeDetection:0}),e})();var u=i(74477),h=i(66356),g=i(17402),f=i(35014),m=i(87060);let T=(()=>{class e{constructor(e,t,i){this.positionCalculator=e,this.componentOutlet=t,this.validationDotSize=16,this.renderer=i.createRenderer(null,null)}create(e,t=[],i=r.G.default().build(),n=!0){const o=this.componentOutlet.createComponent(p),a=o.instance;return a.validationDotMessages=t,a.tooltipColoredGravity=i.tooltipGravity,a.tooltipColoredColor=n?s.B.RED.colorName:s.B.YELLOW.colorName,a.warning=!n,o.changeDetectorRef.detectChanges(),this.setTheValidationDot(o,e,i.gravity,i.zIndex),this.attachMarkedClassToAnchor(o,e),t.length>0&&o.instance.showTooltip(),o}attachMarkedClassToAnchor(e,t){const i="sp-marked";this.renderer.addClass(t.nativeElement,i),e.onDestroy(()=>{this.renderer.removeClass(t.nativeElement,i)})}setTheValidationDot(e,t,i,s){const r=e.location.nativeElement,o=t.nativeElement,a=o.getBoundingClientRect(),l=this.calculateElementsPosition(o,r,h.e.TOP),d=a.height,c=a.width;let p,g;if(i===n.m.SOUTH_EAST)p=l.top+d-this.validationDotSize/2,g=l.left-this.validationDotSize/2;else if(i===n.m.SOUTH_WEST)p=l.top+d-this.validationDotSize/2,g=l.left-c-this.validationDotSize/2;else if(i===n.m.NORTH_EAST)p=l.top-this.validationDotSize/2,g=l.left-this.validationDotSize/2;else{if(i!==n.m.NORTH_WEST)throw new Error("Unknown ValidationDotGravity");p=l.top-this.validationDotSize/2,g=l.left-c-this.validationDotSize/2}this.renderer.setStyle(r,"top",u.l.numberToPxString(p)),this.renderer.setStyle(r,"left",u.l.numberToPxString(g)),this.renderer.setStyle(r,"visibility","hidden"),this.renderer.addClass(r,"sp-validation-dot-visible"),u.l.isDefined(s)&&this.renderer.setStyle(r,"z-index",s)}calculateElementsPosition(e,t,i){return this.positionCalculator.calculateNewElementsPosition(g.i.default().withLinkedElements({element:t,anchor:e}).withGravity(l.X.EAST).withAlignment(i))}}return e.\u0275fac=function(t){return new(t||e)(d.LFG(f.o),d.LFG(m.r),d.LFG(d.FYo))},e.\u0275prov=d.Yz7({token:e,factory:e.\u0275fac}),e})()},13345:(e,t,i)=>{"use strict";i.d(t,{F:()=>s});class s{constructor(e){this.value=e}static empty(){return new s(void 0)}static from(e){return new s(e)}get(){if(this.isPresent())return this.value;throw new Error("Optional error. Check if present before calling get.")}isPresent(){return null!=this.value}map(e){return this.isPresent()?new s(e(this.value)):new s(null)}orElse(e){return this.isPresent()?this.value:e}ifPresent(e){this.isPresent()&&e(this.get())}ifPresentOrElse(e,t){this.isPresent()?e(this.get()):t()}}},72893:(e,t,i)=>{"use strict";i.d(t,{u:()=>l});var s=i(88566),r=i(6812),n=i(68387),o=i(42028),a=i(13345);function l(){return(e,t,i)=>{const s=i.value;return i.value=function(...i){const r=i.map(e=>JSON.stringify(e)).join();return d.of(e.constructor.name+t,r||"memoizeDefaultParamsKey",()=>s.apply(this,i))},i}}class d{constructor(){this.queryToData=new Map,this.queryResolved$=new s.t(1),this.pendingQueries=new Map}static of(e,t,i){return d.INSTANCES.has(e)||d.INSTANCES.set(e,new d),this.getExistingInstance(e).get(t,i)}static getExistingInstance(e){return d.INSTANCES.get(e)}get(e,t){return this.queryToData.has(e)?this.returnResolvedQuery(e):(this.isQueryPending(e)||(this.pendingQueries.set(e,!0),this.resolveCallback(t,e)),this.returnQueryAfterResolution(e))}resolveCallback(e,t){e().subscribe(e=>{this.cacheQueryResolution(t,e)})}returnResolvedQuery(e){return(0,r.of)(this.queryToData.get(e))}cacheQueryResolution(e,t){this.pendingQueries.delete(e),this.queryToData.set(e,t),this.queryResolved$.next()}isQueryPending(e){return this.pendingQueries.has(e)}returnQueryAfterResolution(e){return this.queryResolved$.pipe((0,n.U)(()=>this.queryToData.get(e)),(0,o.h)(e=>new a.F(e).isPresent()))}}d.INSTANCES=new Map},35382:(e,t,i)=>{"use strict";i.d(t,{Qr:()=>B});var s=i(4562),r=i(78268),n=i(99721),o=i(15856),a=i(42235),l=i(59122),d=i(42046),c=i(48652),p=i(32211),u=i(48682),h=i(64883),g=i(4535);class f{}class m{}var T=i(37779),E=i(4040);function v(e){return t=>t.lift(new I(e))}class I{constructor(e){this.predicate=e}call(e,t){return t.subscribe(new y(e,this.predicate))}}class y extends E.L{constructor(e,t){super(e),this.predicate=t,this.skipping=!0,this.index=0}_next(e){const t=this.destination;this.skipping&&this.tryCallPredicate(e),this.skipping||t.next(e)}tryCallPredicate(e){try{const t=this.predicate(e,this.index++);this.skipping=Boolean(t)}catch(t){this.destination.error(t)}}}var C=i(94846);let x=(()=>{class e extends f{constructor(e){super(),this.enabled=!1,this.unsubscribe$=new r.xQ,e.pipe(v(()=>!this.enabled),(0,n.R)(this.unsubscribe$)).subscribe(e=>{this.enabled&&this.logCommand(e)})}ngOnDestroy(){this.unsubscribe$.next(),this.unsubscribe$.complete()}start(){this.enabled=!0}stop(){this.enabled=!1}logCommand(e){console.log(e)}}return e.\u0275fac=function(t){return new(t||e)(C.LFG(d.M))},e.\u0275prov=C.Yz7({token:e,factory:e.\u0275fac}),e})();const D=new C.OlP("SP - COMMAND_LOGGER_ENABLED"),b=new C.OlP("SP - EVENT_LOGGER_ENABLED");let w=(()=>{class e extends m{constructor(e){super(),this.enabled=!1,this.unsubscribe$=new r.xQ,e.pipe(v(()=>!this.enabled),(0,n.R)(this.unsubscribe$)).subscribe(e=>{this.enabled&&this.logEvent(e)})}ngOnDestroy(){this.unsubscribe$.next(),this.unsubscribe$.complete()}start(){this.enabled=!0}stop(){this.enabled=!1}logEvent(e){console.log(e)}}return e.\u0275fac=function(t){return new(t||e)(C.LFG(p.N))},e.\u0275prov=C.Yz7({token:e,factory:e.\u0275fac}),e})();var S=i(81106);let A=(()=>{class e{constructor(){this.singletonHandlers=new Map,this.multiHandlers=new Map}static removeDuplicatedInstances(e){return e.filter((e,t,i)=>i.map(e=>e.constructor).indexOf(e.constructor)===t)}registerHandler(t){const i=t.getHandlerType();if(this.singletonHandlers.has(i)){const s=e.removeDuplicatedInstances([...this.singletonHandlers.get(i),t]);this.singletonHandlers.set(i,s)}else this.singletonHandlers.set(i,[t])}registerMultiHandler(e){const t=e.getHandlerType();this.multiHandlers.has(t)?this.multiHandlers.set(t,[...this.multiHandlers.get(t),e]):this.multiHandlers.set(t,[e])}unregisterHandler(e){const t=e.getHandlerType();if(this.singletonHandlers.has(t)){let i=this.singletonHandlers.get(t);i=i.filter(t=>t.getHandlerType()!==e.getHandlerType()),this.singletonHandlers.set(t,i)}}unregisterMultiHandler(e){const t=e.getHandlerType();if(this.multiHandlers.has(t)){let i=this.multiHandlers.get(t);i=i.filter(t=>t!==e),this.multiHandlers.set(t,i)}}getHandlers(e){return[...this.singletonHandlers.get(e.getType())||[],...this.multiHandlers.get(e.getType())||[]]}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=C.Yz7({token:e,factory:e.\u0275fac}),e})(),R=(()=>{class e extends A{}return e.\u0275fac=function(){let t;return function(i){return(t||(t=C.n5z(e)))(i||e)}}(),e.\u0275prov=C.Yz7({token:e,factory:e.\u0275fac}),e})(),_=(()=>{class e extends A{}return e.\u0275fac=function(){let t;return function(i){return(t||(t=C.n5z(e)))(i||e)}}(),e.\u0275prov=C.Yz7({token:e,factory:e.\u0275fac}),e})();var N=i(40166),L=i(33620),O=i(27843);const F="cqrsLoggersEnabled",M=[{provide:o.b,useExisting:a.A},R,d.M,a.A,l.h,_,p.N,u.M,h.p,N.t,g.s],U=(e,t,i)=>{const s=JSON.parse(i.getItem(F));return(e||s)&&t.start(),t},k=(e,t,i)=>{const s=JSON.parse(i.getItem(F));return(e||s)&&t.start(),t};let B=(()=>{class e{constructor(e,t,i,s,n,o,a,l,d){this.commandHandlerRepository=i,this.eventHandlerRepository=s,this.commandBus=n,this.eventBus=o,this.commandLogger=a,this.eventLogger=l,this.localStorage=d,this.unsubscribe$=new r.xQ,this.setCqrsLoggers(),this.registerCommandHandlers(e||[]),this.registerEventHandlers(t||[]),this.subscribeForCommands(),this.subscribeEvents()}static withConfig(t={loggers:!1}){return{ngModule:e,providers:[{provide:D,useValue:t.loggers},{provide:b,useValue:t.loggers},{provide:f,useFactory:U,deps:[D,x,S.m]},{provide:m,useFactory:k,deps:[b,w,S.m]},x,w,S.m,...M]}}ngOnDestroy(){this.unsubscribe$.next(),this.unsubscribe$.complete(),this.setLoggers(!1,!1)}registerEventHandlers(e){for(const t of e)this.eventHandlerRepository.registerHandler(t)}registerCommandHandlers(e){for(const t of e)this.commandHandlerRepository.registerHandler(t)}saveLoggerSettingsInLS(e){this.localStorage.setItem(F,e)}subscribeForCommands(){this.commandBus.pipe((0,n.R)(this.unsubscribe$)).subscribe(e=>this.processCommand(e))}processCommand(e){const t=this.commandHandlerRepository.getHandlers(e);for(const s of t)try{if(!L.N.production){const t=e.getId();O.Eo.getInstance().set(s.containerId,e,t?t.toString():void 0)}s.executeCommand(e)}catch(i){throw console.error(`Error [${i}] occurred while executing ${s.constructor.name} for command: ${e.getType().name}`),i}}subscribeEvents(){this.eventBus.pipe((0,n.R)(this.unsubscribe$)).subscribe(e=>this.processEvent(e))}processEvent(e){const t=this.eventHandlerRepository.getHandlers(e);for(const s of t)try{if(!L.N.production){const t=e.getCommandId();O.Eo.getInstance().set(s.containerId,e,t?t.toString():void 0)}s.execute(e)}catch(i){throw console.error(`Error [${i}] occurred while executing ${s.constructor.name} for event: ${e.getType().name}`),i}}setLoggers(e,t=!0){e?(this.commandLogger.start(),this.eventLogger.start()):(this.commandLogger.stop(),this.eventLogger.stop()),t&&this.saveLoggerSettingsInLS(e),console.log(`%cLoggers ${e?"start":"stop"}!`,"background: #222; color: #bada55; border-radius: 3px; padding: 3px 5px;")}setCqrsLoggers(){window.cqrsLogger={turnOnLoggers:()=>this.setLoggers(!0),turnOffLoggers:()=>this.setLoggers(!1)}}}return e.\u0275fac=function(t){return new(t||e)(C.LFG(c.b,8),C.LFG(T.H,8),C.LFG(R),C.LFG(_),C.LFG(d.M),C.LFG(p.N),C.LFG(f),C.LFG(m),C.LFG(S.m))},e.\u0275mod=C.oAB({type:e}),e.\u0275inj=C.cJS({imports:[[s.ez]]}),e})()},19719:(e,t,i)=>{"use strict";i.d(t,{Y:()=>r});var s=i(35398);class r extends s.h{setId(e){this.id=e}}},69268:(e,t,i)=>{"use strict";i.d(t,{g:()=>r});var s=i(82934);class r extends s._{compare(e,t){return e.equals(t)}}},64359:(e,t,i)=>{"use strict";function s(){const e=new Array(16);let t=0;for(let i=0;i<16;i++)0==(3&i)&&(t=4294967296*Math.random()),e[i]=t>>>((3&i)<<3)&255;return e}i.d(t,{X:()=>o});const r=function(){const e=window.crypto||window.msCrypto;if(e&&e.getRandomValues)try{return function(){const t=new Uint8Array(16);return e.getRandomValues(t),t}}catch(t){}return s}(),n=new class{constructor(){this.byteToHex=[],this.hexToByte={};for(let e=0;e<256;e++)this.byteToHex[e]=(e+256).toString(16).substr(1),this.hexToByte[this.byteToHex[e]]=e}};class o{constructor(){this.guid=function(e,t=0){let i=t;const s=n.byteToHex;return s[e[i++]]+s[e[i++]]+s[e[i++]]+s[e[i++]]+"-"+s[e[i++]]+s[e[i++]]+"-"+s[e[i++]]+s[e[i++]]+"-"+s[e[i++]]+s[e[i++]]+"-"+s[e[i++]]+s[e[i++]]+s[e[i++]]+s[e[i++]]+s[e[i++]]+s[e[i++]]}(function(){const e=r();return e[6]=15&e[6]|64,e[8]=63&e[8]|128,e}())}static get type(){return this.prototype.constructor}getType(){return this.constructor}equalsByType(e){return this.constructor===e.constructor}equals(e){return this.constructor===e.constructor&&this.guid===e.guid}toString(){return this.constructor.name}}},71499:(e,t,i)=>{"use strict";i.d(t,{R:()=>r});var s=i(73309);class r extends s.b{}},95780:(e,t,i)=>{"use strict";i.d(t,{Z:()=>a});var s=i(67717);class r{constructor(){}static clear(e){r.singletons.delete(e)}}r.Builder=class extends s.I{constructor(e,t){super(),this.singleton=e,this.context=t}build(){let e=r.singletons.get(this.context);return e||(e=new this.singleton,r.singletons.set(this.context,e)),e}},r.singletons=new Map;class n{constructor(){this.events=[]}clearEvents(){this.events=[]}getEvents(){return this.events}emit(e){Array.isArray(e)?this.events.push(...e):this.events.push(e)}emitAsOneOfAKind(e){Array.isArray(e)?e.forEach(e=>this.emitAsOneOfAKind(e)):(this.removeSimilarTypes(e),this.emit(e))}removeSimilarTypes(e){this.events=this.events.filter(t=>!t.equalsByType(e))}}class o extends r{constructor(){super(...arguments),this.emitter=new n}emit(e){this.emitter.emit(e)}emitAsOneOfAKind(e){this.emitter.emitAsOneOfAKind(e)}clearEvents(){this.emitter.clearEvents()}getEvents(){return this.emitter.getEvents()}getEmitter(){return this.emitter}}class a{constructor(e,t=o){this.aggregateId=e,this.sharedState=new o.Builder(t,e.toString()).build()}getId(){return this.aggregateId}getShareState(){return this.sharedState}emit(e){this.sharedState.emit(e)}clearEvents(){this.sharedState.clearEvents()}getEvents(){return this.sharedState.getEvents()}getEmitter(){return this.sharedState.getEmitter()}}},39985:(e,t,i)=>{"use strict";i.d(t,{Z:()=>s});class s{constructor(e){this.aggregateEventsDispatcher=e}use(e,t){const i=this.getById(e.getAggregateId());i.clearEvents(),t(i);const s=[...i.getEvents()];this.save(i),this.aggregateEventsDispatcher.dispatch(s,e)}}},83165:(e,t,i)=>{"use strict";i.d(t,{m:()=>n});var s=i(64359);class r{constructor(e){this.uid=e}toString(){return this.uid}equals(e){return this.toString()===e.toString()}}class n extends s.X{constructor(e){super(),this.aggregateId=e,this.id=new r(this.guid)}getId(){return this.id}getAggregateId(){return this.aggregateId}}},42046:(e,t,i)=>{"use strict";i.d(t,{M:()=>a});var s=i(52792),r=i(78268),n=i(15856),o=i(94846);let a=(()=>{class e extends s.y{constructor(e){super(),this.onDestroy$=new r.xQ,e&&(this.source=e)}ngOnDestroy(){this.onDestroy$.next(),this.onDestroy$.complete()}lift(t){const i=new e;return i.source=this,i.operator=t,i}}return e.\u0275fac=function(t){return new(t||e)(o.LFG(n.b))},e.\u0275prov=o.Yz7({token:e,factory:e.\u0275fac}),e})()},59122:(e,t,i)=>{"use strict";i.d(t,{h:()=>n});var s=i(94846),r=i(42235);let n=(()=>{class e{constructor(e){this.commandStream=e}dispatch(e){this.commandStream.next(e)}dispatchAsync(e){setTimeout(()=>this.dispatch(e))}}return e.\u0275fac=function(t){return new(t||e)(s.LFG(r.A))},e.\u0275prov=s.Yz7({token:e,factory:e.\u0275fac}),e})()},40699:(e,t,i)=>{"use strict";i.d(t,{W:()=>l});var s=i(86576),r=i(90540),n=i(71499),o=i(33620),a=i(27843);class l extends n.R{constructor(e,t,i){super(),this.commandType=e,this.domainEvent=t,this.eventDispatcher=i,o.N.production||(this.containerId=a.Eo.getInstance().connect(this.constructor.name,a.PK.COMMAND_HANDLER))}getHandlerType(){return this.commandType}executeCommand(e){const t=this.execute(e);(0,s.b)(t)?t.pipe((0,r.q)(1)).subscribe(()=>{this.dispatchEvent(e)}):this.domainEvent&&this.eventDispatcher&&this.dispatchEvent(e)}dispatchEvent(e){const t=new this.domainEvent(e.getId(),e.getAggregateId());this.eventDispatcher.dispatch(t)}}},48652:(e,t,i)=>{"use strict";i.d(t,{b:()=>s,p:()=>r});const s=new(i(94846).OlP)("COMMAND_HANDLERS");function r(e){return{provide:s,useClass:e,multi:!0}}},42235:(e,t,i)=>{"use strict";i.d(t,{A:()=>n});var s=i(78268),r=i(94846);let n=(()=>{class e extends s.xQ{next(e){super.next(e)}ngOnDestroy(){this.complete()}}return e.\u0275fac=function(){let t;return function(i){return(t||(t=r.n5z(e)))(i||e)}}(),e.\u0275prov=r.Yz7({token:e,factory:e.\u0275fac}),e})()},15856:(e,t,i)=>{"use strict";i.d(t,{b:()=>s});const s=new(i(94846).OlP)("FILTERED_COMMAND_STREAM")},73754:(e,t,i)=>{"use strict";i.d(t,{i:()=>r});var s=i(64359);class r extends s.X{constructor(e){super(),this.aggregateId=e}getId(){return this.aggregateId}}},40166:(e,t,i)=>{"use strict";i.d(t,{t:()=>n});var s=i(94846),r=i(64883);let n=(()=>{class e{constructor(e){this.dispatcher=e}dispatch(e,t){e.forEach(e=>{e.toDomainEvents(t.getId()).forEach(e=>{this.dispatcher.dispatch(e)})})}}return e.\u0275fac=function(t){return new(t||e)(s.LFG(r.p))},e.\u0275prov=s.Yz7({token:e,factory:e.\u0275fac}),e})()},25078:(e,t,i)=>{"use strict";i.d(t,{n:()=>n});var s=i(64359);class r{constructor(e){this.uid=e}toString(){return this.uid}equals(e){return this.toString()===e.toString()}}class n extends s.X{constructor(e,t){super(),this.commandId=e,this.aggregateId=t,this.id=new r(this.guid)}getId(){return this.id}getCommandId(){return this.commandId}getAggregateId(){return this.aggregateId}}},32211:(e,t,i)=>{"use strict";i.d(t,{N:()=>d});var s=i(52792),r=i(78268),n=i(42028),o=i(99721),a=i(94846),l=i(48682);let d=(()=>{class e extends s.y{constructor(e){super(),this.onDestroy$=new r.xQ,e&&(this.source=e)}ngOnDestroy(){this.onDestroy$.next(),this.onDestroy$.complete()}lift(t){const i=new e;return i.source=this,i.operator=t,i}ofEventHandler(...e){return this.pipe((0,n.h)(t=>e.some(e=>e.forEvent(t))),(0,o.R)(this.onDestroy$))}}return e.\u0275fac=function(t){return new(t||e)(a.LFG(l.M))},e.\u0275prov=a.Yz7({token:e,factory:e.\u0275fac}),e})()},64883:(e,t,i)=>{"use strict";i.d(t,{p:()=>n});var s=i(94846),r=i(48682);let n=(()=>{class e{constructor(e){this.eventStream=e}dispatch(e){this.eventStream.next(e)}}return e.\u0275fac=function(t){return new(t||e)(s.LFG(r.M))},e.\u0275prov=s.Yz7({token:e,factory:e.\u0275fac}),e})()},94619:(e,t,i)=>{"use strict";i.d(t,{b:()=>a});var s=i(83165),r=i(71499),n=i(33620),o=i(27843);class a extends r.R{constructor(e){super(),this.eventType=e,n.N.production||(this.containerId=o.Eo.getInstance().connect(this.constructor.name,o.PK.EVENT_HANDLER))}getHandlerType(){return this.eventType}forEvent(e){return this.getHandlerType()===e.constructor||this.getHandlerType()===s.m.type}}},37779:(e,t,i)=>{"use strict";i.d(t,{H:()=>s,u:()=>r});const s=new(i(94846).OlP)("EVENT_HANDLERS");function r(e){return{provide:s,useClass:e,multi:!0}}},4535:(e,t,i)=>{"use strict";i.d(t,{s:()=>l});var s=i(78268),r=i(6812),n=i(42028),o=i(90540),a=i(94846);let l=(()=>{class e{constructor(){this.domainEvents=[],this.domainEvents$=new s.xQ}next(e){this.domainEvents.push(e),this.domainEvents$.next(e)}selectEvent(e){return this.domainEvents$.pipe((0,n.h)(t=>t.getType()===e))}findEventByType(e,t){const i=this.getEvents();return i.reverse().slice(0,t||i.length).find(t=>t.getType()===e)}waitForEvent(e,t){const i=this.findEventByType(e,t);return i?(0,r.of)(i):this.waitForNextEventOccurrence(e)}waitForNextEventOccurrence(e){return this.selectEvent(e).pipe((0,o.q)(1))}waitForEventEmittedForCommand(e,t){return this.selectEvent(t).pipe((0,n.h)(t=>t.getCommandId().equals(e)),(0,o.q)(1))}getEvents(){return this.domainEvents}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=a.Yz7({token:e,factory:e.\u0275fac}),e})()},48682:(e,t,i)=>{"use strict";i.d(t,{M:()=>o});var s=i(78268),r=i(94846),n=i(4535);let o=(()=>{class e extends s.xQ{constructor(e){super(),this.eventStore=e}next(e){super.next(e),this.eventStore.next(e)}}return e.\u0275fac=function(t){return new(t||e)(r.LFG(n.s))},e.\u0275prov=r.Yz7({token:e,factory:e.\u0275fac}),e})()},82934:(e,t,i)=>{"use strict";i.d(t,{_:()=>h});var s=i(88566),r=i(78268),n=i(6812),o=i(63491),a=i(42028),l=i(68387),d=i(30159),c=i(33620),p=i(27843),u=i(94846);let h=(()=>{class e{constructor(){this.map=new Map,this.changes$=new s.t(1),this.lastChangedKey$=new r.xQ,c.N.production||(this.containerId=p.Eo.getInstance().connect(this.constructor.name,p.PK.REPOSITORY_SERVICE))}ngOnDestroy(){this.changes$.complete()}set(e,t){e=this.getKey(e)||e,this.map.set(e,t),c.N.production||p.Eo.getInstance().set(this.containerId,this.map),this.lastChangedKey$.next(e),this.changes$.next(e)}get(e,t){return(e=this.getKey(e))?this.map.get(e):t}select(e){const t=this.map.get(this.getKey(e)),i=(0,n.of)(t).pipe((0,a.h)(e=>!!e)),s=this.changes$.pipe((0,a.h)(t=>this.compare(e,t)),(0,l.U)(e=>this.map.get(e)));return(0,o.T)(i,s).pipe((0,d.x)())}clear(){this.changes$.complete(),this.changes$=new s.t(1),this.lastChangedKey$.complete(),this.lastChangedKey$=new r.xQ,this.map.clear()}changes(){return this.lastChangedKey$.asObservable()}has(e){return void 0!==this.map.get(this.getKey(e))}getKey(e){return Array.from(this.map.keys()).find(t=>this.compare(t,e))}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=u.Yz7({token:e,factory:e.\u0275fac}),e})()},72357:(e,t,i)=>{"use strict";i.d(t,{g:()=>s});class s{constructor(){this.state={}}set(e){this.state[e.getId().toString()]=e}get(e){const t=e.toString();return this.state[t]}getAll(){return Object.keys(this.state).map(e=>this.state[e])}deleteById(e){delete this.state[e.toString()]}}},11196:(e,t,i)=>{"use strict";i.d(t,{f:()=>s});class s{constructor(e){this.stateStore=e}save(e){this.saveValue(e)}deleteById(e){this.stateStore.deleteById(e)}getById(e){return this.getValue(e)}saveValue(e){this.stateStore.set(e)}getValue(e){return this.stateStore.get(e)||null}}},26790:(e,t,i)=>{"use strict";i.d(t,{M:()=>s});class s{static create(...e){return(t,i)=>{let r=`${t}_`+s.getItemPropertyValue(i,e[0]);for(let n=1;n<e.length;n++)r+=s.getItemPropertyValue(i,e[n]);return r}}static getItemPropertyValue(e,t){const i=t.split(".");if(1===i.length)return e[t];let s=e;for(const r of i)s=s[r];return s}}},74674:(e,t,i)=>{"use strict";i.d(t,{x:()=>a});var s=i(76515),r=i(33680),n=i(94846);let o=(()=>{class e{constructor(e){this.window=e,void 0===e.spFallbackSessionStorage&&(e.spFallbackSessionStorage={})}clear(){window.spFallbackSessionStorage={}}getItem(e){return e in window.spFallbackSessionStorage?window.spFallbackSessionStorage[e]:null}key(e){return Object.keys(window.spFallbackSessionStorage)[e]||null}removeItem(e){delete window.spFallbackSessionStorage[e]}setItem(e,t){window.spFallbackSessionStorage[e]=t||""}}return e.\u0275fac=function(t){return new(t||e)(n.LFG(r.m))},e.\u0275prov=n.Yz7({token:e,factory:e.\u0275fac}),e})(),a=(()=>{class e extends s.x{constructor(){super(function(){let e;try{e=window.localStorage}catch(t){e=new o(window),console.warn("Session storage is not supported, using FallbackSessionStorage instead")}return e}())}getErrorMessage(){return"Session storage is not supported"}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=n.Yz7({token:e,factory:e.\u0275fac}),e})()},36313:(e,t,i)=>{"use strict";i.d(t,{o:()=>o});var s=i(4562),r=i(74674),n=i(94846);let o=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=n.oAB({type:e}),e.\u0275inj=n.cJS({providers:[r.x],imports:[[s.ez]]}),e})()},12684:(e,t,i)=>{"use strict";i.d(t,{N:()=>o});var s=i(74477);class r{filter(e,t,i){const s=e.copyWithoutChildren(),r=t.filterChain;return s.setChildren(this.filterChildren(e.getChildren(),t,i)),this.isFilterException(s.getId(),i)?s:!r.match(s)&&s.isLeaf()?null:(s.isLeaf()||r.match(s)||s.setMatchingFilter(!1),s)}filterChildren(e,t,i){const s=[];for(let r=0;r<e.length;r++){const n=e[r],o=t.filterChain;let a;t.deepFilter&&!n.isLeaf()&&(a=this.filterChildren(n.getChildren(),t,i));const l=n.copyWithoutChildren();l.setChildren(a),this.isFilterException(l.getId(),i)||o.match(l)?s.push(l):l.isLeaf()||o.match(l)||(l.setMatchingFilter(!1),s.push(l))}return s}isFilterException(e,t){return!!t&&t.has(e)}}class n{flatten(e,t){const i=[];if(!e)return i;i.push(e);const s=t?e.getChildren():e.getExpandedChildren();return s.length>0&&s.forEach(s=>this.recursiveFlat(s,i,e,t)),i}reverseFlatten(e){return e.filter(e=>e.getParent().isRoot())}recursiveFlat(e,t,i,s){e.setParent(i),t.push(e);const r=s?e.getChildren():e.getExpandedChildren();r.length>0&&r.forEach(i=>this.recursiveFlat(i,t,e,s))}}class o{constructor(e,t,i,s,r=!0){this.data=null,this.parent=null,this.children=[],this.expanded=!0,this.matchingFilter=!0,this.data=e,this.setChildren(t),null!=i&&(this.expanded=i),this.id=s,this.setMatchingFilter(r)}isRoot(){return null===this.parent}isParent(){return this.children.length>0}isLeaf(){return 0===this.children.length}getParent(){return this.parent}getChild(e){const t=this.getChildren();return t.length>e?t[e]:null}getExpandedChildren(){return this.isCollapsed()?[]:this.children}getChildren(){return this.children}getId(){return this.id}getChildPosition(e){return this.getChildren().indexOf(e)}getData(){return this.data}isMatchingFilter(){return this.matchingFilter}setId(e){this.id=e}setParent(e){this.parent=e}setExpanded(e){this.expanded=e}addChild(e,t){e.setParent(this),s.l.isDefined(t)?this.children.splice(t,0,e):this.children.push(e)}removeChild(e){const t=this.getChildren();t.length&&t[e]&&this.children.splice(e,1)}replaceChild(e,t){const i=this.getChildren();i.length&&i[e]&&i.splice(e,1,t)}addChildren(...e){e.forEach(e=>this.addChild(e))}isExpanded(){return this.expanded}isCollapsed(){return!this.expanded}areAllAncestorsExpanded(){let e=this;for(;!e.isRoot();){if(e.getParent().isCollapsed())return!1;e=e.getParent()}return!0}expand(){this.expanded=!0}collapse(){this.expanded=!1}expandAll(){this.traverse(e=>{e.getData()&&e.expand()})}collapseAll(){this.traverse(e=>{e.getData()&&e.collapse()})}expandNodeAndAllAncestors(){let e=this,t=null;for(;e.isCollapsed()&&(t=e),e.expand(),!e.isRoot();)e=e.getParent();return t}toFlat(e=!1){return(new n).flatten(this,e)}filter(e,t){return(new r).filter(this,e,t)}sort(e,t=!0){const i=this.copyWithoutChildren(),s=[...this.getChildren()];return i.setChildren(s),this.recuSortNode(i,e,t)}reverseToFlat(e){return(new n).reverseFlatten(e)}setData(e){this.data=e}setChildren(e=[]){if(null!=e)if(e[0]instanceof o){const t=e;t.forEach(e=>{e.setParent(this)}),this.children=t}else this.children=e.map(e=>this.createNode(e))}findNode(e){const t=this.getChildren();for(let i=0;i<t.length;i++){const s=t[i];if(e(s))return s;{const t=this.recuFindNode(s,e);if(t)return t}}return null}findNodes(e){const t=this.getChildren(),i=[];for(let s=0;s<t.length;s++){const r=t[s],n=r.getChildren();n.length&&this.recuFindNodes(n,e,i),e(r)&&i.push(r)}return i}convertData(e){const t=this.getChildren(),i=this.getData(),s=this.createNode(e(i)),r=[];return t.forEach(t=>{const i=t.getChildren(),s=t.getData(),n=this.createNode(e(s)),o=this.convertChildrenData(i,e);n.setChildren(o),r.push(n)}),s.setChildren(r),s}getTotalCount(){let e=0;return this.traverse(()=>e++),e}removeItems(e,t){if(this.isRoot())for(let i=0;i<e.length;i++){const s=e[i],r=this.findNode(e=>!t(e,s)),n=r.getParent();let o=n.getChildren().filter(e=>t(e,s));r.getChildren()&&r.getChildren().length&&(o=[...o,...r.getChildren()]),n.children=o,n.children.forEach(e=>e.setParent(n))}else console.warn("This operation is allowed only on Root object context")}canMoveUp(){return this.getParent()&&this.getParent().getChildren()[0].getId()!==this.getId()}canMoveDown(){const e=this.getParent();if(!e)return!1;const t=e.getChildren();return t[t.length-1].getId()!==this.getId()}canMoveRight(){return this.getParent()&&this.getParent().getChildren()[0].getId()!==this.getId()}canMoveLeft(){return!!this.getParent()&&!!this.getParent().getData()}setMatchingFilter(e){this.matchingFilter=e}copyWithoutChildren(){const e=new o(this.getData(),null,this.isExpanded(),this.getId(),this.isMatchingFilter());return e.setParent(this.getParent()),e}createNode(e){const t=new o(e);return t.setParent(this),t}traverse(e){e(this),this.getChildren().forEach(t=>{t.traverse(e)})}traverseChildren(e){this.getChildren().forEach(t=>{e(t),t.traverseChildren(e)})}convertChildrenData(e,t){return e.map(e=>{const i=e.getData(),s=this.createNode(t(i)),r=e.getChildren(),n=this.convertChildrenData(r,t);return s.setChildren(n),s})}recuSortNode(e,t,i){const s=e.getChildren(),r=e.copyWithoutChildren();return i&&s.forEach(e=>{e.recuSortNode(e,t,i)}),r.setChildren(s.sort(t)),r}recuFindNode(e,t){const i=e.getChildren();for(let s=0;s<i.length;s++){const e=i[s];if(t(e))return e;{const i=this.recuFindNode(e,t);if(i)return i}}}recuFindNodes(e,t,i){for(let s=0;s<e.length;s++){const r=e[s],n=r.getChildren();n.length&&this.recuFindNodes(n,t,i),t(r)&&i.push(r)}}}}}]);